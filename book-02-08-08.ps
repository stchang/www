%!PS-Adobe-2.0
%%Creator: dvips(k) 5.86 Copyright 1999 Radical Eye Software
%%Title: tla-plus.dvi
%%CreationDate: Thu Aug 08 19:02:17 2002
%%Pages: 382
%%PageOrder: Ascend
%%BoundingBox: 0 0 596 842
%%DocumentPaperSizes: a4
%%EndComments
%DVIPSWebPage: (www.radicaleye.com)
%DVIPSCommandLine: dvips -D 300 tla-plus.dvi
%DVIPSParameters: dpi=300, compressed
%DVIPSSource:  TeX output 2002.08.08:1146
%%BeginProcSet: texc.pro
%!
/TeXDict 300 dict def TeXDict begin/N{def}def/B{bind def}N/S{exch}N/X{S
N}B/A{dup}B/TR{translate}N/isls false N/vsize 11 72 mul N/hsize 8.5 72
mul N/landplus90{false}def/@rigin{isls{[0 landplus90{1 -1}{-1 1}ifelse 0
0 0]concat}if 72 Resolution div 72 VResolution div neg scale isls{
landplus90{VResolution 72 div vsize mul 0 exch}{Resolution -72 div hsize
mul 0}ifelse TR}if Resolution VResolution vsize -72 div 1 add mul TR[
matrix currentmatrix{A A round sub abs 0.00001 lt{round}if}forall round
exch round exch]setmatrix}N/@landscape{/isls true N}B/@manualfeed{
statusdict/manualfeed true put}B/@copies{/#copies X}B/FMat[1 0 0 -1 0 0]
N/FBB[0 0 0 0]N/nn 0 N/IEn 0 N/ctr 0 N/df-tail{/nn 8 dict N nn begin
/FontType 3 N/FontMatrix fntrx N/FontBBox FBB N string/base X array
/BitMaps X/BuildChar{CharBuilder}N/Encoding IEn N end A{/foo setfont}2
array copy cvx N load 0 nn put/ctr 0 N[}B/sf 0 N/df{/sf 1 N/fntrx FMat N
df-tail}B/dfs{div/sf X/fntrx[sf 0 0 sf neg 0 0]N df-tail}B/E{pop nn A
definefont setfont}B/Cw{Cd A length 5 sub get}B/Ch{Cd A length 4 sub get
}B/Cx{128 Cd A length 3 sub get sub}B/Cy{Cd A length 2 sub get 127 sub}
B/Cdx{Cd A length 1 sub get}B/Ci{Cd A type/stringtype ne{ctr get/ctr ctr
1 add N}if}B/id 0 N/rw 0 N/rc 0 N/gp 0 N/cp 0 N/G 0 N/CharBuilder{save 3
1 roll S A/base get 2 index get S/BitMaps get S get/Cd X pop/ctr 0 N Cdx
0 Cx Cy Ch sub Cx Cw add Cy setcachedevice Cw Ch true[1 0 0 -1 -.1 Cx
sub Cy .1 sub]/id Ci N/rw Cw 7 add 8 idiv string N/rc 0 N/gp 0 N/cp 0 N{
rc 0 ne{rc 1 sub/rc X rw}{G}ifelse}imagemask restore}B/G{{id gp get/gp
gp 1 add N A 18 mod S 18 idiv pl S get exec}loop}B/adv{cp add/cp X}B
/chg{rw cp id gp 4 index getinterval putinterval A gp add/gp X adv}B/nd{
/cp 0 N rw exit}B/lsh{rw cp 2 copy get A 0 eq{pop 1}{A 255 eq{pop 254}{
A A add 255 and S 1 and or}ifelse}ifelse put 1 adv}B/rsh{rw cp 2 copy
get A 0 eq{pop 128}{A 255 eq{pop 127}{A 2 idiv S 128 and or}ifelse}
ifelse put 1 adv}B/clr{rw cp 2 index string putinterval adv}B/set{rw cp
fillstr 0 4 index getinterval putinterval adv}B/fillstr 18 string 0 1 17
{2 copy 255 put pop}for N/pl[{adv 1 chg}{adv 1 chg nd}{1 add chg}{1 add
chg nd}{adv lsh}{adv lsh nd}{adv rsh}{adv rsh nd}{1 add adv}{/rc X nd}{
1 add set}{1 add clr}{adv 2 chg}{adv 2 chg nd}{pop nd}]A{bind pop}
forall N/D{/cc X A type/stringtype ne{]}if nn/base get cc ctr put nn
/BitMaps get S ctr S sf 1 ne{A A length 1 sub A 2 index S get sf div put
}if put/ctr ctr 1 add N}B/I{cc 1 add D}B/bop{userdict/bop-hook known{
bop-hook}if/SI save N @rigin 0 0 moveto/V matrix currentmatrix A 1 get A
mul exch 0 get A mul add .99 lt{/QV}{/RV}ifelse load def pop pop}N/eop{
SI restore userdict/eop-hook known{eop-hook}if showpage}N/@start{
userdict/start-hook known{start-hook}if pop/VResolution X/Resolution X
1000 div/DVImag X/IEn 256 array N 2 string 0 1 255{IEn S A 360 add 36 4
index cvrs cvn put}for pop 65781.76 div/vsize X 65781.76 div/hsize X}N
/p{show}N/RMat[1 0 0 -1 0 0]N/BDot 260 string N/Rx 0 N/Ry 0 N/V{}B/RV/v{
/Ry X/Rx X V}B statusdict begin/product where{pop false[(Display)(NeXT)
(LaserWriter 16/600)]{A length product length le{A length product exch 0
exch getinterval eq{pop true exit}if}{pop}ifelse}forall}{false}ifelse
end{{gsave TR -.1 .1 TR 1 1 scale Rx Ry false RMat{BDot}imagemask
grestore}}{{gsave TR -.1 .1 TR Rx Ry scale 1 1 false RMat{BDot}
imagemask grestore}}ifelse B/QV{gsave newpath transform round exch round
exch itransform moveto Rx 0 rlineto 0 Ry neg rlineto Rx neg 0 rlineto
fill grestore}B/a{moveto}B/delta 0 N/tail{A/delta X 0 rmoveto}B/M{S p
delta add tail}B/b{S p tail}B/c{-4 M}B/d{-3 M}B/e{-2 M}B/f{-1 M}B/g{0 M}
B/h{1 M}B/i{2 M}B/j{3 M}B/k{4 M}B/w{0 rmoveto}B/l{p -4 w}B/m{p -3 w}B/n{
p -2 w}B/o{p -1 w}B/q{p 1 w}B/r{p 2 w}B/s{p 3 w}B/t{p 4 w}B/x{0 S
rmoveto}B/y{3 2 roll p a}B/bos{/SS save N}B/eos{SS restore}B end

%%EndProcSet
%%BeginProcSet: special.pro
%!
TeXDict begin/SDict 200 dict N SDict begin/@SpecialDefaults{/hs 612 N
/vs 792 N/ho 0 N/vo 0 N/hsc 1 N/vsc 1 N/ang 0 N/CLIP 0 N/rwiSeen false N
/rhiSeen false N/letter{}N/note{}N/a4{}N/legal{}N}B/@scaleunit 100 N
/@hscale{@scaleunit div/hsc X}B/@vscale{@scaleunit div/vsc X}B/@hsize{
/hs X/CLIP 1 N}B/@vsize{/vs X/CLIP 1 N}B/@clip{/CLIP 2 N}B/@hoffset{/ho
X}B/@voffset{/vo X}B/@angle{/ang X}B/@rwi{10 div/rwi X/rwiSeen true N}B
/@rhi{10 div/rhi X/rhiSeen true N}B/@llx{/llx X}B/@lly{/lly X}B/@urx{
/urx X}B/@ury{/ury X}B/magscale true def end/@MacSetUp{userdict/md known
{userdict/md get type/dicttype eq{userdict begin md length 10 add md
maxlength ge{/md md dup length 20 add dict copy def}if end md begin
/letter{}N/note{}N/legal{}N/od{txpose 1 0 mtx defaultmatrix dtransform S
atan/pa X newpath clippath mark{transform{itransform moveto}}{transform{
itransform lineto}}{6 -2 roll transform 6 -2 roll transform 6 -2 roll
transform{itransform 6 2 roll itransform 6 2 roll itransform 6 2 roll
curveto}}{{closepath}}pathforall newpath counttomark array astore/gc xdf
pop ct 39 0 put 10 fz 0 fs 2 F/|______Courier fnt invertflag{PaintBlack}
if}N/txpose{pxs pys scale ppr aload pop por{noflips{pop S neg S TR pop 1
-1 scale}if xflip yflip and{pop S neg S TR 180 rotate 1 -1 scale ppr 3
get ppr 1 get neg sub neg ppr 2 get ppr 0 get neg sub neg TR}if xflip
yflip not and{pop S neg S TR pop 180 rotate ppr 3 get ppr 1 get neg sub
neg 0 TR}if yflip xflip not and{ppr 1 get neg ppr 0 get neg TR}if}{
noflips{TR pop pop 270 rotate 1 -1 scale}if xflip yflip and{TR pop pop
90 rotate 1 -1 scale ppr 3 get ppr 1 get neg sub neg ppr 2 get ppr 0 get
neg sub neg TR}if xflip yflip not and{TR pop pop 90 rotate ppr 3 get ppr
1 get neg sub neg 0 TR}if yflip xflip not and{TR pop pop 270 rotate ppr
2 get ppr 0 get neg sub neg 0 S TR}if}ifelse scaleby96{ppr aload pop 4
-1 roll add 2 div 3 1 roll add 2 div 2 copy TR .96 dup scale neg S neg S
TR}if}N/cp{pop pop showpage pm restore}N end}if}if}N/normalscale{
Resolution 72 div VResolution 72 div neg scale magscale{DVImag dup scale
}if 0 setgray}N/psfts{S 65781.76 div N}N/startTexFig{/psf$SavedState
save N userdict maxlength dict begin/magscale true def normalscale
currentpoint TR/psf$ury psfts/psf$urx psfts/psf$lly psfts/psf$llx psfts
/psf$y psfts/psf$x psfts currentpoint/psf$cy X/psf$cx X/psf$sx psf$x
psf$urx psf$llx sub div N/psf$sy psf$y psf$ury psf$lly sub div N psf$sx
psf$sy scale psf$cx psf$sx div psf$llx sub psf$cy psf$sy div psf$ury sub
TR/showpage{}N/erasepage{}N/copypage{}N/p 3 def @MacSetUp}N/doclip{
psf$llx psf$lly psf$urx psf$ury currentpoint 6 2 roll newpath 4 copy 4 2
roll moveto 6 -1 roll S lineto S lineto S lineto closepath clip newpath
moveto}N/endTexFig{end psf$SavedState restore}N/@beginspecial{SDict
begin/SpecialSave save N gsave normalscale currentpoint TR
@SpecialDefaults count/ocount X/dcount countdictstack N}N/@setspecial{
CLIP 1 eq{newpath 0 0 moveto hs 0 rlineto 0 vs rlineto hs neg 0 rlineto
closepath clip}if ho vo TR hsc vsc scale ang rotate rwiSeen{rwi urx llx
sub div rhiSeen{rhi ury lly sub div}{dup}ifelse scale llx neg lly neg TR
}{rhiSeen{rhi ury lly sub div dup scale llx neg lly neg TR}if}ifelse
CLIP 2 eq{newpath llx lly moveto urx lly lineto urx ury lineto llx ury
lineto closepath clip}if/showpage{}N/erasepage{}N/copypage{}N newpath}N
/@endspecial{count ocount sub{pop}repeat countdictstack dcount sub{end}
repeat grestore SpecialSave restore end}N/@defspecial{SDict begin}N
/@fedspecial{end}B/li{lineto}B/rl{rlineto}B/rc{rcurveto}B/np{/SaveX
currentpoint/SaveY X N 1 setlinecap newpath}N/st{stroke SaveX SaveY
moveto}N/fil{fill SaveX SaveY moveto}N/ellipse{/endangle X/startangle X
/yrad X/xrad X/savematrix matrix currentmatrix N TR xrad yrad scale 0 0
1 startangle endangle arc savematrix setmatrix}N end

%%EndProcSet
%%BeginProcSet: color.pro
%!
TeXDict begin/setcmykcolor where{pop}{/setcmykcolor{dup 10 eq{pop
setrgbcolor}{1 sub 4 1 roll 3{3 index add neg dup 0 lt{pop 0}if 3 1 roll
}repeat setrgbcolor pop}ifelse}B}ifelse/TeXcolorcmyk{setcmykcolor}def
/TeXcolorrgb{setrgbcolor}def/TeXcolorgrey{setgray}def/TeXcolorgray{
setgray}def/TeXcolorhsb{sethsbcolor}def/currentcmykcolor where{pop}{
/currentcmykcolor{currentrgbcolor 10}B}ifelse/DC{exch dup userdict exch
known{pop pop}{X}ifelse}B/GreenYellow{0.15 0 0.69 0 setcmykcolor}DC
/Yellow{0 0 1 0 setcmykcolor}DC/Goldenrod{0 0.10 0.84 0 setcmykcolor}DC
/Dandelion{0 0.29 0.84 0 setcmykcolor}DC/Apricot{0 0.32 0.52 0
setcmykcolor}DC/Peach{0 0.50 0.70 0 setcmykcolor}DC/Melon{0 0.46 0.50 0
setcmykcolor}DC/YellowOrange{0 0.42 1 0 setcmykcolor}DC/Orange{0 0.61
0.87 0 setcmykcolor}DC/BurntOrange{0 0.51 1 0 setcmykcolor}DC
/Bittersweet{0 0.75 1 0.24 setcmykcolor}DC/RedOrange{0 0.77 0.87 0
setcmykcolor}DC/Mahogany{0 0.85 0.87 0.35 setcmykcolor}DC/Maroon{0 0.87
0.68 0.32 setcmykcolor}DC/BrickRed{0 0.89 0.94 0.28 setcmykcolor}DC/Red{
0 1 1 0 setcmykcolor}DC/OrangeRed{0 1 0.50 0 setcmykcolor}DC/RubineRed{
0 1 0.13 0 setcmykcolor}DC/WildStrawberry{0 0.96 0.39 0 setcmykcolor}DC
/Salmon{0 0.53 0.38 0 setcmykcolor}DC/CarnationPink{0 0.63 0 0
setcmykcolor}DC/Magenta{0 1 0 0 setcmykcolor}DC/VioletRed{0 0.81 0 0
setcmykcolor}DC/Rhodamine{0 0.82 0 0 setcmykcolor}DC/Mulberry{0.34 0.90
0 0.02 setcmykcolor}DC/RedViolet{0.07 0.90 0 0.34 setcmykcolor}DC
/Fuchsia{0.47 0.91 0 0.08 setcmykcolor}DC/Lavender{0 0.48 0 0
setcmykcolor}DC/Thistle{0.12 0.59 0 0 setcmykcolor}DC/Orchid{0.32 0.64 0
0 setcmykcolor}DC/DarkOrchid{0.40 0.80 0.20 0 setcmykcolor}DC/Purple{
0.45 0.86 0 0 setcmykcolor}DC/Plum{0.50 1 0 0 setcmykcolor}DC/Violet{
0.79 0.88 0 0 setcmykcolor}DC/RoyalPurple{0.75 0.90 0 0 setcmykcolor}DC
/BlueViolet{0.86 0.91 0 0.04 setcmykcolor}DC/Periwinkle{0.57 0.55 0 0
setcmykcolor}DC/CadetBlue{0.62 0.57 0.23 0 setcmykcolor}DC
/CornflowerBlue{0.65 0.13 0 0 setcmykcolor}DC/MidnightBlue{0.98 0.13 0
0.43 setcmykcolor}DC/NavyBlue{0.94 0.54 0 0 setcmykcolor}DC/RoyalBlue{1
0.50 0 0 setcmykcolor}DC/Blue{1 1 0 0 setcmykcolor}DC/Cerulean{0.94 0.11
0 0 setcmykcolor}DC/Cyan{1 0 0 0 setcmykcolor}DC/ProcessBlue{0.96 0 0 0
setcmykcolor}DC/SkyBlue{0.62 0 0.12 0 setcmykcolor}DC/Turquoise{0.85 0
0.20 0 setcmykcolor}DC/TealBlue{0.86 0 0.34 0.02 setcmykcolor}DC
/Aquamarine{0.82 0 0.30 0 setcmykcolor}DC/BlueGreen{0.85 0 0.33 0
setcmykcolor}DC/Emerald{1 0 0.50 0 setcmykcolor}DC/JungleGreen{0.99 0
0.52 0 setcmykcolor}DC/SeaGreen{0.69 0 0.50 0 setcmykcolor}DC/Green{1 0
1 0 setcmykcolor}DC/ForestGreen{0.91 0 0.88 0.12 setcmykcolor}DC
/PineGreen{0.92 0 0.59 0.25 setcmykcolor}DC/LimeGreen{0.50 0 1 0
setcmykcolor}DC/YellowGreen{0.44 0 0.74 0 setcmykcolor}DC/SpringGreen{
0.26 0 0.76 0 setcmykcolor}DC/OliveGreen{0.64 0 0.95 0.40 setcmykcolor}
DC/RawSienna{0 0.72 1 0.45 setcmykcolor}DC/Sepia{0 0.83 1 0.70
setcmykcolor}DC/Brown{0 0.81 1 0.60 setcmykcolor}DC/Tan{0.14 0.42 0.56 0
setcmykcolor}DC/Gray{0 0 0 0.50 setcmykcolor}DC/Black{0 0 0 1
setcmykcolor}DC/White{0 0 0 0 setcmykcolor}DC end

%%EndProcSet
TeXDict begin 39158280 55380996 1000 300 300 (tla-plus.dvi)
@start
%DVIPSBitmapFont: Fa lasy9 9 3
/Fa 3 60 df<387FFFF0B512F838C00018B1B512F8A215157D971C>50
D<1308131C13361363EBC180380180C03803006000067F487F487F487F487F48EB0180A2
0060EB03006C13066C5B6C5B6C5B6C5B6C6C5A3800C1800163C7FC1336131C1308191A7D
991F>I<1504A2D807807FEA1FE0D838707FD86018EB00C0486CEB3FF0D84006137F3A00
0301C0C0903901838100903800FE02147CEC0004A2240E818F26>59
D E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fb cmss9 9 3
/Fb 3 93 df<EAE1C0A31260EA4080A312C10A087F9913>34 D<001E1302003F13063873
800C5CEAE1C05CA25C5CA2EBC180EA73810183C7FCEA3F06121E38000C0FEC1F80903818
39C01330EC70E01360A213C0EA0180A2EA0300EC39C0120648EB1F800004EB0F001B1E7E
9B20>37 D<EA60C0EA4080A312C1EAE1C0A30A08799913>92 D E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fc cmtt9 9 50
/Fc 50 127 df<EAC060EAE0E0A4EAC060A5EA40400B0B7C9614>34
D<126012F012F812781218A31230A2126012C01280050C789614>39
D<EA0380A3EA638CEAF39EEA7FFCEA3FF8EA0FE0A2EA3FF8EA7FFCEAF39EEA638CEA0380
A30F107E9214>42 D<EA01C0A7B51280A33801C000A711117F9314>I<EAFFFEA30F037E
8C14>45 D<127012F8A312700505798414>I<EA01C0487EA21360A2EA0770A4EA0630EA
0E38A4487EEA1FFCA2EA1C1CA2487EA238FE3F80A211177F9614>65
D<3801F180EA07FFEA0E1FEA1C071238EA7003A348C7FCA738700380A338380700121CEA
0E0EEA07FCEA01F011177F9614>67 D<B5FCA2EA3807A490C7FCA21338A2EA3FF8A2EA38
38A290C7FCA3EB0380A4B5FCA211177F9614>69 D<B51280A2EA3803A490C7FCA21338A2
EA3FF8A2EA3838A290C7FCA7B4FCA211177F9614>I<EAFFF8A2EA0700B3EAFFF8A20D17
7D9614>73 D<B4FCA21238AF1307A4B5FCA210177E9614>76 D<38FC1F80A2007C1300EA
7637A4EA7777A2EA7367A313E7EA71C7A2EA7007A638F80F80A211177F9614>I<38FE3F
80A2383E0E00123BA4138E1239A213CEA31238A213EE136EA4133E12FEA211177F9614>
I<EA1FF0EA7FFCEA783CEA701CEAE00EAFEA701CEA783CEA7FFCEA1FF00F177E9614>I<
EAFFF013FCEA381E130E1307A5130E131EEA3FFC13F0EA3800A812FEA210177F9614>I<
EAFFE013F8EA383C131C7FA45B133CEA3FF85BEA38387FA51480EB1DC0A238FE0F80EB07
0012177F9614>82 D<EA0FCCEA1FFCEA307CEA603CEAE01CA313001270127EEA3FE0EA0F
F0EA01F8EA001C131E130E126012E0A2EAF01CEAF838EAFFF0EAC7E00F177E9614>I<38
7FFF80B5FCEAE1C3A43801C000AFEA0FF8A211177F9614>I<38FC1F80A238380E00A3EA
3C1EEA1C1CA46C5AA4EA0630EA0770A3EA0360A213E0A26C5A11177F9614>86
D<38FC1F80A238700700A7EA31C6EA33E6EA3BEE136EA5EA1B6CA2EA1A2CEA1E3CA31117
7F9614>I<EA7E3EA2EA1C3CEA1E38EA0E78EA0F7012075B12035B120112037FA2EA0770
A2EA0E781338EA1C3C131CEA3C1E38FE3F80A211177F9614>I<38FC1F80A238380E00EA
3C1EEA1C1CEA1E3CEA0E38A26C5AA2EA036013E0A26C5AA8EA07F0A211177F9614>I<12
04121FEA7FC0EAF1E012E00B057C9614>94 D<1208121812301260A212C0A312F012F812
781230050C799914>96 D<EA1FC0EA7FF0EA7078EA2018EA001CA2EA07FC121FEA3C1C12
7012E0A3EA707C383FFF80EA0F8F11107E8F14>I<12FCA2121CA513F8EA1DFEEA1F07EA
1E03001C1380EB01C0A6EB0380001E1300EA1F0EEA1DFCEA0CF81217809614>I<EA03F8
EA0FFEEA1C0EEA3804EA7000126012E0A412601270EA380EEA1C1EEA0FFCEA03F00F107E
8F14>I<137EA2130EA5EA07CEEA0FFEEA1C3EEA301EEA700E12E0A61270EA301EEA383E
381FEFC0EA07CF12177F9614>I<EA07E0EA0FF0EA1C38EA301CEA700CEAE00EA2EAFFFE
A2EAE00012601270EA380EEA1C1EEA0FFCEA03F00F107E8F14>I<13FCEA01FEEA038EEA
07041300A3EA7FFE12FFEA0700ACEAFFF8A20F177F9614>I<EA07CF381FFF80EA383B38
301800EA701CA3EA3018EA3838EA3FF0EA37C00070C7FCA2EA3FF86C7E487EEA700F38E0
0380A438700700EA3C1EEA1FFCEA07F011197F8F14>I<12FCA2121CA51378EA1DFEEA1F
86EA1E07121CAA38FF8FE0A21317809614>I<1206120FA21206C7FCA4B4FCA21207ACEA
FFF8A20D187C9714>I<12FCA2121CA5EBFF80A2EB1C005B5B5BEA1DC0EA1FE0A2EA1E70
EA1C38133C131C7F38FF1F80A21117809614>107 D<EAFF80A21203B3EAFFFEA20F177E
9614>I<EAFB8EEAFFDF383CF380A2EA38E3AA38FEFBE013791310808F14>I<EAFC78EAFD
FEEA1F86EA1E07121CAA38FF8FE0A21310808F14>I<EA07C0EA1FF0EA3C78EA701CA2EA
E00EA6EA701CEA783CEA3C78EA1FF0EA07C00F107E8F14>I<EAFCF8EAFDFEEA1F07EA1E
03001C1380EB01C0A6EB0380001E1300EA1F0EEA1DFCEA1CF890C7FCA6B47EA21218808F
14>I<EAFE1FEB7F80EA0EE3380F810090C7FCA2120EA8EAFFF0A211107F8F14>114
D<EA0FD8EA3FF8EA603812C0A2EAF000EA7F80EA3FF0EA07F8EA001CEA600612E012F0EA
F81CEAFFF8EACFE00F107E8F14>I<1206120EA4EA7FFC12FFEA0E00A8130EA3131CEA07
F8EA01F00F157F9414>I<EAFC3FA2EA1C07AB131F380FFFE0EA03E71310808F14>I<38FE
3F80A2383C1E00EA1C1CA36C5AA3EA0630EA0770A36C5AA311107F8F14>I<38FE3F80A2
38700700EA380EA3EA39CEA3EA1B6C121AA3EA1E7CA2EA0E3811107F8F14>I<EA7E3FA2
EA1E3CEA0E78EA07705B12036C5A12037FEA0770EA0E781338487E38FE3F80A211107F8F
14>I<38FE3F80A2381C0E005BA2120E5BA212071330A2EA0370A25B1201A25BA3485A12
730077C7FC127E123C11187F8F14>I<EA3FFF5AEA700E131C1338EA007013E0EA01C0EA
0380EA0700120EEA1C0712381270B5FCA210107F8F14>I<EA1C10EA3F38EAE7E0EA41C0
0D047D9614>126 D E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fd cmti12 17.28 13
/Fd 13 118 df<010FB512FCEEFF80903A007E000FC0027CEB03E0EE01F017F816005CA2
17FC17F8495A1601A217F04948130317E0EE07C0160F4948EB1F80EE3E0016FCED03F049
B512C091388000F8167C8249C77E1780160FA2013E15C0A4491580161FA2EE3F005B167E
167C16FC4848495A4B5AED0FC00003EC3F80B600FEC7FC15F02E317BB031>66
D<010FB612F8A29039007E0003027C13001778A217305CA4495AA31760903903E0018017
00A3494848C7FCA25D151F90380FFFFEA2EC801E150E90381F000CA4013E5BA292C8FCA2
5BA45BA4485AA31203B512E0A22D317BB02E>70 D<913807F00491381FFE0C91387C0F1C
9138E0039C903901C001B89039038000F849C7FC130E011E1470131C133CA2491460A401
7C1400A3137E6D7E14F0EB1FFE90380FFFC06D13F06D7F9038007FFC1407EC00FE157E81
81A4120C48141EA3151C0038143C15381578003C1470007C5C007E495A0077495A267380
07C7FC38E1F01E38C07FF838801FE026337BB127>83 D<EB07C0EB18639038703780EBE0
173801C01FD80380130000077FEA0F00A248131E121E123EA2485BA4485BA31510ECF030
5AA2D870011320903803E060EA7802D8380413C03918086080380C30313907C01E001C1F
789E24>97 D<EB03F0EB1C0CEB3806EBF0033801E0073803C00F3807801FA2380F001E48
1300121E123EA25AA45AA5140400781306140C1418003813306C1360EB01C038060700EA
03F8181F789E20>99 D<EB07C0EB3830EBF0183801C00CEA03801207EA0F00121E141812
3E48133014E0EB078038FFFC0000F8C7FCA35AA51408140C14180070133014606C13C038
180380380C0E00EA03F0161F779E20>101 D<143EECC31890380381BCEB0700010E13FC
4913F8013C13785BA201F813F05B1201A23903E001E0A43907C003C0A4EC07801380A200
03130FEC1F0013C00001132F0000134FEB619EEB3E1E1300A25CA45CA200385B00785B38
F801C0495AD8700EC7FCEA1FF81E2D7D9E20>103 D<1307EB0F80A21400130690C7FCAC
EA01E0EA0630EA08381218EA103C123012605BA212C05B1200485AA3485AA3485AA21381
485AA2120EEA1E06A21304130CEA0E18EA0630EA03C011307AAF16>105
D<3907801F803908C060E03918E180703930F3003813F6EA60FC49133CA249133800C114
785B1201A248485BA34A5AEA0780A24A5A1680D80F0013C1EC0781A21600001E5C150215
06150448EB03180018EB01F0211F7A9E27>110 D<903807C0C09038186180EB7033EBE0
173801C01FD80380130000077FEA0F00A248131E121E123EA2485BA4485BA45C5AA2EA70
01495A1278EA3805EA1809380C33C0EA07C3EA0003A2495AA449C7FCA4131E131F3807FF
F0A21A2D789E20>113 D<EB0FE0EB3038EBE00C380180061203EB000E48131EA2140C14
007F13E013FE3803FF806C13C06C13E0EB0FF01301EB00F81478A20070137012F8A24813
604813E04813C03840018038600300EA181CEA07F0171F7A9E1D>115
D<130C131E5BA45BA45BA3387FFFE0B512C03801E000A3485AA4485AA448C7FCA4121EA3
5B485AA213021306EA3804130C5BEA1810EA1C60EA0780132C79AB17>I<D801E01338D8
06381378EA0C18EA181C1210D8303C13F0122012605B00C0EB01E0A2EA00F0A2EC03C0EA
01E0A33903C00780A315819038800F031207A215020003EB1E06A29038C02E0C0001EB46
083900E1831890383E01E0201F7A9E26>I E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fe cmbx7 7 1
/Fe 1 121 df<38FE3F80A2381E18006C5AEA07E01203A27F487EEA0E78487E38FC3F80
A2110D7F8C14>120 D E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Ff cmmi12 17.28 1
/Ff 1 22 df<13F0131C130FA2801307801303A2801301A2801300A2801478147CA2143C
143EA2141E141FA28081141FA2EC37C0146714C301017FEB0381EB0701010E7FEB1C005B
497F01F01378485A4848137C4848133C48C7FC001E143E003E141E48141F5A48800060EC
078021327CB129>21 D E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fg cmmi12 14.4 1
/Fg 1 22 df<EA01E0EA00787F133E131E131FA27F80A2130780A2130380A2130180A213
0080A2147814FC1301EB033CEB063E130EEB1C1EEB381F1370497E00011480EA03C03807
8007D80F0013C0121E481303127C4814E04813010060EB00F01C2A7DA922>21
D E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fh cmmi9 9 11
/Fh 11 93 df<EA01F038070C08380C0E10EA1807123000701320126000E01340A21480
1400A3EA601B383063A0380F81C015107F8F19>11 D<EB07C0EB1860EB2030EB40181380
1438EA0100A2000213301460EB3EC0EB218038043EC0130014E0A25AA4381801C0148013
0338140700EA261CEA21F00020C7FCA25AA45A1521809916>I<120FEA03807F1201A27F
1200A27F1370A213781338A2133C137C13DEEA018EEA030EEA060F487E121C00381380EA
700312E038C001C0121A7E9916>21 D<EA01F0EA0FFCEA1C0CEA30001220EA2180EA2E40
EA3FC0EA4000A25AA2EAC008EA6030EA3FE0EA1F800E107F8F12>34
D<124012F07E12CEEAC780EAC1E0EAC070131C130FA2131C1370EAC1E0EAC780EACE0012
F85A124010127F9113>46 D<126012F0A2126004047D830B>58 D<126012F0A212701210
A31220A21240A2040B7D830B>I<1406141E1478EB01E0EB0780EB1E00133813E0EA03C0
000FC7FC123C12F0A2123C120FEA03C0C67E1338131EEB0780EB01E0EB0078141E140617
187D941E>I<1304130C1318A31330A31360A313C0A3EA0180A3EA0300A31206A35AA35A
A35AA35AA35AA20E257E9B13>I<12C012F0123C120FEA03C0EA00F01338130EEB0780EB
01E0EB0078141EA21478EB01E0EB0780EB0E00133813F0EA03C0000FC7FC123C12F012C0
17187D941E>I<1280A81283128F12BF12FD12F112C11281AA1283128F12BF12FD12F112
C11201A408227D9A0F>92 D E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fi cmcsc10 9 21
/Fi 21 121 df<1360A213F0A3EA0138A3EA021CA2487EA2EA07FEEA0807A20010138013
03003813C038FC0FF014137F9217>97 D<EAFFFCEA1C067F1480A4EB0700131EEA1FFE38
1C0380A2EB01C0A4EB0380EB0700EAFFFC12137F9216>I<3801F080EA060DEA1C03EA38
011230EA7000126000E01300A5006013801270123038380100EA1C02EA060CEA01F01113
7E9216>I<EAFFFCEA1C07EB0180EB00C014E014601470A7146014E014C0EB0180EB0700
EAFFFC1413809217>I<B5FCEA1C037F14801300A2EB1000A21330EA1FF0EA1C30131014
401300A21480A21303B5FC12137F9215>I<B51280EA1C01130014C01440A2EB0800A213
18EA1FF8EA1C181308A290C7FCA5B47E1213809214>I<3801F840380706C0EA0C01EA38
00123000701340126000E01300A3EB1FF0EB01C01260127012301238120CEA07023801FC
4014137E9218>I<38FF9FF0381C0380A8EA1FFFEA1C03A838FF9FF014137F9217>I<EAFF
80EA1C00B1EAFF8009137F920B>I<B47E001CC7FCAB1480A2130114005B5BB5FC111380
9213>108 D<00FEEB3F80001EEB3C00A20017135CA23813809CA33811C11CA2EA10E2A3
1374A21338A2123839FE10FF8019137F921C>I<38FC07F0381E01C0381F00801217EA13
80EA11C0A2EA10E0137013781338131C130EA21307130313011238EAFE0014137F9217>
I<EA03F8EA0E0E487E38380380387001C0A2EA600000E013E0A6387001C0A23838038038
1C0700EA0E0EEA03F813137E9218>I<EAFFF8EA1C0E7FEB0380A4EB0700130EEA1FF800
1CC7FCA8B47E11137F9215>I<EAFFF8EA1C0E7FEB0380A4EB0700130EEA1FF8EA1C0E7F
A51408EB038838FF81F01513809216>114 D<EA1F90EA2070EA4030EAC010A213007E12
7CEA7F80EA3FC0EA07E0EA0070A213301280A2EAC020EAE040EA9F800C137E9211>I<B5
12E038C0E06000801320A400001300ACEA0FFE13137F9216>I<38FF87F0381C01C0EB00
80AD380C01001206EA0306EA00F814137F9217>I<38FF01F0383C00E0001C13C0148012
1E380E0100A2EA0702A21386EA0384A2EA01C8A2EA00F0A31360A214137F9217>I<39FE
1FE1F039380780E01540001C1480A2EB09C0000EEBC100A2EB10E1000713E2A2EB207238
03A074A2EBC03C00011338A2EB8018000013101C137F921F>I<38FF0FE0381E0780380E
0600EA0F04EA070CEA038813D0EA01E01200137013F8EA01B8131CEA021EEA040EEA0C07
00081380003C13C038FE0FF014137F9217>I E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fj cmsy9 9 37
/Fj 37 119 df<B512FEA217027D891E>0 D<126012F0A2126004047D8A0B>I<6C13C0EA
C00138600300EA30066C5A6C5A6C5A6C5A6C5AA2EA0360EA0630487E487E487E487E38C0
01C0EA800012127A911E>I<1203A4EAE31CEA7338EA1FE0EA0780A2EA1FE0EA7338EAE3
1CEA0300A40E107E9013>I[<131C133EA3131C90C8FCA5B61280A2C9FCA5131C133EA313
1C>25 22 126 147 30 I<137F380188C0380608300008130800107F00207FA200407FA2
0080EB0080A3B6FC38800800A40040EB0100A200201302A200105B00085B000613303801
88C0D8007FC7FC191A7E951E>8 D<137F380180C03806003000081308487F487FA2487F
A248EB0080A3B6FC0080C7FCA40040EB0100A26C1302A26C5B6C5B00061330380180C0D8
007FC7FC191A7E951E>I<EA0780EA1FE0EA3870EA6018A2EAC00CA4EA6018A2EA3870EA
1FE0EA07800E0E7E9013>14 D<B612807EC9FCA6B61280A2C9FCA6007FB51280B6FC1912
7E911E>17 D<EB7FFEEA03FF38078000000CC7FC5A5AA25AA25AA61260A27EA27E7EEA07
803803FFFEEA007F90C7FCA6387FFFFEA217207D971E>I<1406141E1478EB01E0EB0780
EB0E00133813F0EA03C0000FC7FC123C12F0A2123C120FEA03C0C67E1338131EEB0780EB
01E0EB0078141E14061400A6387FFFFCB512FE17207D971E>20 D<12C012F0123C120FEA
03C0C67E1338131EEB0780EB01E0EB0078141EA21478EB01E0EB0780EB0E00133813F0EA
03C0000FC7FC123C127012C0C8FCA6387FFFFCB512FE17207D971E>I<D80F801380EA3F
E0487E38707801EAC01C90380F0700486CB4FC6D5AEB00F819097E8D1E>24
D<487EA248C8FCA21206A25A5A5AB7FCA20030C8FC7E7E7EA27EA26C7EA220147D9226>
32 D<4A7EA26E7EA21560A2818181B71280A2C8EA0C005D5D5DA25DA24A5AA221147E92
26>I<141880A280140780B612C081C81238151EED0780ED0E0015385DB612C05DC70003
C7FC1406A25CA25C21167E9326>41 D<3907C001F0391FF0078C39307C0C0239601E1801
38400F303A80076000806D5AA26D7EA2EB03703A4006780100496C5A3920181F063918F0
07FC3907C001F021107E8F26>49 D<EB7FE0EA03FF38078000000CC7FC5A5AA25AA25AA2
B512E0A200C0C7FCA21260A27EA27E7EEA07803803FFE0EA007F13187D941A>I<1460A2
14C0A2EB0180A2EB0300A213065BA25BA25BA25BA25BA2485AA248C7FCA21206A25A5AA2
5AA25AA25A124013227B9900>54 D<12C0A612E0A212C0A6030E7E8F00>I<0040131000
C0133000601360A36C13C0A338180180EA1FFF6C1300EA0C03A2EA0606A36C5AA2EA0198
A3EA00F0A31360A2141A809915>I<B5FCA2EA0003AAEA7FFFA2EA0003AAB5FCA2101A7E
9915>I<B512F8A2C71218A8150A7E8D1A>I<EB07E0133F1361EA0181380301C01206380E
0380001C1300130448C7FCA212781270A212F0A638F80180EB0300EA7C06EA7F08EA3FF0
EA0FC0131A7F9914>67 D<EB0FE0EB3FF013C1EA0100000613E0120E381C01C014803838
030090C7FC5AA200F0136014E0130114C0130312F8EB0780EA7C0FEA7E1F383FE700EA1F
87EA000EA25B1318EA3C30EA7FE0EA3F80141E7E9917>71 D<3907C00180001F13030023
EB07001203495A140E1207EB001E141C000E133CA2001E5B121C14F8EA38015CEA7803EA
7007130638F00CE0131813311361EAF8C138FF01F8007C13E0191A809918>85
D<0040130800C01318B0006013306C1360381E03C0380FFF803801FC0015167E951A>91
D<EA01FC380FFF80381E03C038300060481330481318B00040130815167E951A>I<1320
1370A213D8A2EA018CA2EA0306A2EA0603A3380C0180A2381800C0A2481360A2481330A2
481318140815167E951A>94 D<00C01308141800601330A26C1360A26C13C0A2380C0180
A238060300A3EA0306A2EA018CA2EA00D8A21370A2132015167E951A>I<133C13E0EA01
C0EA0380ADEA0700121E12F8121E1207EA0380ADEA01C0EA00E0133C0E257E9B13>102
D<12F8121E1207EA0380ADEA01C0EA00E0133C13E0EA01C0EA0380ADEA0700121E12F80E
257E9B13>I<13801201EA0300A31206A25AA35AA35AA25AA35AA21260A37EA27EA37EA3
7EA27EA3EA0180120009267D9B0F>I<12C0A21260A37EA27EA37EA37EA27EA3EA0180A2
EA0300A31206A25AA35AA35AA25AA35AA209267E9B0F>I<12C0B3B302257C9B0B>I<12C0
A21260A37EA37EA37EA37EA37EA3EA0180A3EA00C0A31360A31330A31318A3130C13040E
257E9B13>110 D<007FB5FCB6FC00C0C7FCB3A2B6FCA2C8FCA6387FFFFEB6FC18207D97
1E>118 D E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fk cmr17 20.74 1
/Fk 1 44 df<1538B3A7B912FCA3C80038C8FCB3A736357CAF3E>43
D E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fl cmbxti10 17.28 3
/Fl 3 85 df<DB0FFC131892B5EA80380207ECC0F891391FFC03F1913A7FC000FBF04948
C7123FD903FC141F495AD91FF0EC0FE0495A49481407495A91C813C05A485A1207491680
120F5B001F93C7FCA2485AA3485AA45B12FFA41778A3007F5EA24C5AA2003F4B5A6D4A5A
001F4BC7FC6C6C141E00075DD803FC14F86C6CEB03F03A00FFC01FC0013FB5C8FC010F13
FC010013C0353375B13B>67 D<010FB512FC49806D5C9026003FF8C7FC5DA34A5AA44A5A
A4495BA44990C8FCA4495AA4495AA31770494814F0A3EE01E0495AEE03C0A216074948EB
0F80A2161FEE3F00494813FF4B5A150FB7FC5EA22C317CB032>76
D<0007B8FC18804817009039F807FE0001C0153FD81F808149485A121E003E161E123C4A
5A5AA25F48495AA20070161CC792C7FC4A5AA44A5AA4495BA44990C9FCA4495AA4495AA4
495AA3B612FEA3313073AF39>84 D E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fm cmsl8 7 1
/Fm 1 66 df<1304130C131C131E132EA2134EA2138F1387EA0107A212023803FF80EA04
03A212081218003813C038FC0FF014147F9317>65 D E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fn cmtt8 8 40
/Fn 40 119 df<1207A3EAE738EAFFF8EA7FF0EA1FC0A2EA7FF0EAFFF8EAE738EA0700A3
0D0E7E9012>42 D<EA0380A6EAFFFEA3EA0380A60F0F7F9112>I<EAFFF8A30D037E8B12>
45 D<126012F0A212600404798312>I<EA07C0EA0FE0EA1C70EA3838EA701CA2EAE00EA7
131EEA701CA2EA3838EA1C70EA0FE0EA07C00F147F9312>48 D<1206A2120E121E12FE12
EE120EACEAFFE0A20B147D9312>I<EA0FC0EA3FF0EA7838EA701C1220120013381370EA
07E013F0EA0038131C130EA2124012E0131CEA7838EA3FF0EA0FC00F147F9312>51
D<EA01F0EA07F8EA0E1C12181238EA7000A2EAE7C0EAEFF0EAF838EAF01CEAE00EA31270
A2EA301CEA3838EA1FF0EA07C00F147F9312>54 D<12E0EAFFFEA2EAE0181338EA007013
E013C01201EA0380A2EA0700A4120EA512040F157F9412>I<1318137813F8EA01E0EA07
C0EA0F80EA1E005A12F85A7E123C7EEA0F80EA07C0EA01E0EA00F8137813180D137E9312
>60 D<EAFFFEA2127FC7FCA3EA7FFE12FFA20F097F8E12>I<12C012F07E123C121FEA0F
80EA03C0EA01E0EA00F8137813F8EA01E0EA03C0EA0F80EA1F00123C12F85A12C00D137E
9312>I<EA0380EA07C0A21206A2EA0EE0A4EA0C60EA1C70A3EA1FF0A2EA3838A3EAFC7E
A20F147F9312>65 D<EAFFE013F0EA3838131CA413381378EA3FF013F8EA381C130EA413
1E133CEAFFF813F00F147F9312>I<EA03E6EA0FFEEA1C3EEA381EEA700EA21260EAE000
A6EA600E1270A2EA381CEA1C38EA0FF0EA03E00F147F9312>I<EAFFFEA2EA380EA31300
A213E0A2123FA21238A21300130EA4EAFFFEA20F147F9312>69 D<EAFFFEA2EA380EA313
00A21370A2EA3FF0A2EA3870A21300A512FEA20F147F9312>I<EAFC7EA2EA3838A7EA3F
F8A2EA3838A7EAFC7EA20F147F9312>72 D<EAFFE0A2EA0E00B0EAFFE0A20B147D9312>
I<B4FCA21238AC1304130EA3EAFFFEA20F147F9312>76 D<EAFEFEA2EA3E38123A123BA6
EA39B8A6123813F812FEA20F147F9312>78 D<EA3FE0EA7FF0EA7070EAE038AEEA7070EA
7FF0EA3FE00D147E9312>I<EAFFE013F8EA383C131C130EA4131C133CEA3FF813E0EA38
00A612FEA20F147F9312>I<EAFF8013E0EA38F013781338A3137813F0EA3FE013C0EA38
E01370A41377A2EAFE3E131C10147F9312>82 D<EA1F30EA3FF01270EAE070A313001270
127FEA3FC0EA0FE0EA00F013781338126012E01330EAF070EAFFE0EACF800D147E9312>
I<EA7FFE12FFEAE38EA3EA0380ADEA0FE0A20F147F9312>I<EAFC7EA2EA783CEA3838A4
EA1C70A4EA0C60EA0EE0A3EA06C0A21207A2EA03800F147F9312>86
D<EAFC7EA2EA3838A2EA1C70A2EA0EE0A3EA07C0A2EA0380A7EA0FE0A20F147F9312>89
D<12C07EA21270A27EA27EA37EA27EA2EA0380A2EA01C0A3EA00E0A21370A21338A21318
0D1A7E9612>92 D<120EEA3F80EAFFE012F1EA40400B057D9312>94
D<EAFFF8A30D037E7F12>I<EA1FC0EA3FF0EA3838EA101C1200EA07FC123FEA781C12E0
A3EA703C383FFF80EA1FCF110E7F8D12>97 D<12F8A21238A4EA3BE0EA3FF0EA3C38EA38
1C130C130EA4130C131CEA3C38EA3FF0EA1BC00F147F9312>I<EA07F0EA1FF8EA3838EA
7010EA600012E0A41260EA70381238EA1FF0EA07E00D0E7E8D12>I<13F8A21338A4EA07
B8EA1FF8EA3878EA7038126012E0A41260EA70781238EA1FFEEA0FBE0F147F9312>I<13
7E13FFEA01C7EA03821380A2EA7FFE12FFEA0380AAEA3FF8A21014809312>102
D<12F8A21238A4EA39E0EA3FF0EA3E38123C1238A8EAFE3EA20F147F9312>104
D<EA0F80EA3FE01238EA7070EAE038A5EAF078EA7070EA38E0123FEA0F800D0E7E8D12>
111 D<1206120EA3EA7FF812FFEA0E00A7131CA3EA07F8EA01E00E127F9112>116
D<EAFC7EA2EA3838A2EA1C70A3EA0EE0A4EA07C0A2EA03800F0E7F8D12>118
D E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fo lasy10 14.4 1
/Fo 1 51 df<007FB61280B7FCA200E0C71203B3A9B7FCA27E21217BA42D>50
D E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fp cmmi5 5 1
/Fp 1 108 df<12381218A35A13C0EA3360EA3440EA7800127E12631320EAC340EAC180
0B0E7E8D10>107 D E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fq cmssi10 10 1
/Fq 1 38 df<D807801340486C13C0391FE001803938F00300EA7070140600E05B5C5CA2
495A5C38E1C180D8E3C3C7FCEAFF83EA7F06383C0C0F3900181F809038303FC014719038
60E1E0EBC1C0EA0181A239030381C01206120C0018EB8380A2393001C700006013FE486C
5A4813781B21799E23>37 D E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fr cmmi6 6 4
/Fr 4 108 df<124012E0124003037D8209>58 D<124012E012601220A21240A2128003
087D8209>I<1204120C1200A5123012581298A21230A212601264A21268123006127E91
0B>105 D<123C120CA25AA31370EA3190EA3230EA34001238127FEA61801390A2EAC1A0
EAC0C00C117E9010>107 D E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fs lasy8 8 3
/Fs 3 60 df<387FFFE0B5FC38C00060AFB512E07E13137D9419>50
D<1318133C136613C338018180380300C00006136048133048131848130C481306481303
006013066C130C6C13186C13306C13606C13C0380181803800C3001366133C131818177F
961B>I<1520D807807FEA1FC0D838607FD860301306486CEBFF8038400C013A00060306
009038030E08903801FC10EB00F0EC0020210C818D23>59 D E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Ft cmti7 5 3
/Ft 3 111 df<12381218A35A1233EA3580EA390012701278126C126D12CE12C6090E7E
8D0B>107 D<EA673CEAB8C4EAB0C6EA618CA31399EAC31A130C10097D8814>109
D<126F12B11380EA6300A3EA6640EAC680EAC3000A097D880E>I
E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fu cmcsc10 8 19
/Fu 19 121 df<7F487EA3EA0260A3487EA2487EA2EA0FF8EA100CA3EA300E38F81F8011
117F9014>97 D<EAFFF0EA301C130C1306A3130C1338EA3FF8EA300E13071303A3130613
0CEAFFF810117F9013>I<3803F080EA0E0DEA1803EA3001EA6000A2481300A500601380
A2383001001218EA0E06EA03F811117F9014>I<EAFFF0EA300C13027F1480130014C0A5
1480130114005B130CEAFFF012117F9015>I<EAFFF8EA30181308130C13041344134013
C0123F12301342A213021304A2131CEAFFFC0F117E9013>I<EAFFFCEA300C1304130613
02132213201360EA3FE0EA30601320A21300A412FE0F117F9012>I<EA03F1EA0C0BEA18
07487E487E124000C0C7FCA3EB1FC0EB030012401260123012186C5AEA03F912117F9015
>I<38FC1F8038300600A7EA3FFEEA3006A738FC1F8011117F9014>I<12FF1218AF12FF08
117F900A>I<12FE1230A91304A3130C13081338EAFFF80E117F9011>108
D<38F801F0003813C0A2EA2C02A2EA2604A3EA2308A2EA2190A3EA20E0A2127038F843F0
14117E9019>I<38F00F80383807001302122C12261223A2EA2182EA20C21362A2133213
1A130EA2EA7006EAF80211117F9014>I<EA03F0EA0C0C487E487E38600180EA400000C0
13C0A538600180A238300300EA18066C5AEA03F012117F9015>I<EAFFE0EA3038130813
0CA313081338EA3FE0EA3000A712FC0E117E9013>I<EAFFE0EA30187F7FA35B5BEA3FE0
EA3038130CA41440130438FC038012117F9014>114 D<EA1F20EA20E0EA4060EAC020A2
13001270123FEA1FC0EA01E0EA007013301280A2EAC020EAE040EA9F800C117F900F>I<
B51280EAC0C1EA80C0A400001300AAEA07F811117F9014>I<38FC0F80383007001302AB
EA10041218EA0C18EA03E011117F9014>I<EAFC1FEA181CEA1C18EA0C106C5AEA0760EA
03406C5A7F7FEA0260487E1338EA0818487EEA380E38F81F8011117F9014>120
D E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fv cmss8 8 21
/Fv 21 122 df<001C1310003E133000771360126338E380C0EB8180A2EB8300A21386EA
6306EA770C123E381C18383800307C14EEEB60C6EB61C713C1A2EA0181A2EA0301380600
C614EE48137C00041338181B7E981D>37 D<EAFFFEA2EAE000A8EAFFF8A2EAE000AB0F17
7D9614>70 D<EAFFF013FCEAE01E1307EB0380A4EB0700131EEAFFFC13F0EAE070A27F13
18131C7FA27F7F1480EB01C012177D9617>82 D<EA07E0EA1FF8EA383CEA600C12C01300
A27E1270127EEA3FE0EA0FF0EA01F8EA001C130E1306A312C0EAE00CEAF838EA7FF0EA0F
C00F177E9614>I<39E00FC00C151C130D130C39701CE038A2131839303860300038EB70
70A2EB3030D818701360001CEB38E013601418000C14C0380EE01D13C00006EB0D80A200
07130FEB8007000314001E177F9621>87 D<EA1FC0EA7FE0EA7070EA40381200A2EA01F8
121FEA7E3812F012E0A2EAF078EA7FF8EA3FB80D0F7F8E11>97 D<12E0A8EAE7C0EAFFE0
EAF870EAE038A2131CA51338A2EAF0F0EAFFE0EAE7800E177E9612>I<EA07E0EA1FF8EA
3838EA7000A25AA512701308EA3838EA1FF8EA07E00D0F7F8E10>I<131CA8EA079CEA1F
FCEA3C3CEA701CA212E0A51270133CEA387CEA1FFCEA0F9C0E177F9612>I<EA0F80EA1F
E0EA3870EA7030EA6038EAE018EAFFF8A2EAE000A212601270EA3818EA1FF8EA07E00D0F
7F8E10>I<EA03E01207EA0C20EA1C00A5EAFF80A2EA1C00AD0B1780960B>I<EA0F9FEA1F
FFEA38F0EA7070A5EA38E0EA3FC0EA6F80EA60007EEA3FF0EA7FF8EA701CEAE00EA3EA78
3CEA3FF8EA0FE010167F8E12>I<12E0A31200A612E0AF03187E9708>105
D<EAE7E0EAEFF0EAF878EAF03812E0AB0D0F7E8E12>110 D<EA07C0EA1FF0EA3838EA70
1CA2EAE00EA5EA701CA2EA3C78EA1FF0EA07C00F0F7F8E12>I<EAE38012EFEAFC005A5A
A25AA9090F7E8E0C>114 D<121FEA7FC012E01300A27E127FEA3F80EA0FC0EA01E01280
12C0EAE1C0127FEA1F000B0F7F8E0E>I<1238A4EAFFC0A2EA3800AA1340EA1FC013000A
137F920D>I<EAE038AC13F8127FEA3F380D0F7E8E12>I<38E0F03813F8A213D838719C70
A338318C60383B0CE0130E1306001A13C0EA1E07A2380E0380150F7F8E18>119
D<EAE038A212F0EA7070A2EA386013E01218EA1CC0A2120D138012071300A31206A2128C
12FC12F00D157F8E10>121 D E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fw cmmi8 8 14
/Fw 14 121 df<EA01C0EA07F0EA0438EA0800120CA2120412067EA2EA0780EA0DC01210
1220EA606012C0A3EA804013C0EAC08012C1EA6300123C0D187E9710>14
D<EA07C0EA1C0012305AA2B4FC12C0A51240EA20C0EA1F000A0E7E8D0E>I<120E1203A2
EA0180A213C01200A21360A31330A213781398EA0118EA020C1204EA080EEA18061230EA
E00312C010177E9615>21 D<EA0402EA0C06A3485AA4485A1480A2133838785900EA6F8E
0060C7FCA25AA35A11147E8D15>I<3803FF805A381C3000EA181812301260A3485AA2EA
4060EA6040EA2180001EC7FC110E7F8D14>27 D<EA07E0EA1FF8EA3818EA2000A2EA3F80
A2EA40005AA21310EA4020EA7FC0EA1F000D0E7F8D10>34 D<126012F0A2126004047D83
0A>58 D<126012F0A212701210A21220A21240A2040A7D830A>I<143014F0EB03C0EB07
00131C1378EA01E0EA0780000EC7FC123812F0A21238120E6C7EEA01E0EA0078131C1307
EB03C0EB00F0143014167D921B>I<130813181330A31360A313C0A3EA0180A3EA0300A2
1206A35AA35AA35AA35AA35AA20D217E9812>I<12C012F0123C120EEA0380EA01E0EA00
78131E1307EB01C0EB00F0A2EB01C0EB0700131E1378EA01E0EA0380000EC7FC123C12F0
12C014167D921B>I<130E13131337133613301360A4EA03FCEA00C0A5EA0180A5EA0300
A41202126612E65A1278101D7E9611>102 D<EA1C04EA26061246A2EA8604120CA3EA18
08A213101320EA0C60EA07800F0E7F8D11>118 D<EA0F1F3811A180EA20C31400EA4180
1201A348C7FC130212C3EAE704EAC508EA78F0110E7F8D14>120
D E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fx lcircle10 10 2
/Fx 2 114 df<126012F0A212600404828104>112 D<123C127E12FFA4127E123C080884
8308>I E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fy cmmi7 7 15
/Fy 15 119 df<EA3FFE127FEAC4401284120C1208A2EA18C0A212101230136012200F0D
7E8C13>25 D<EA03FF120FEA1C30EA30181260A3EAC030A2EA4060EA6040EA2180EA1E00
100D7F8C13>27 D<EA3FF8127FEAC20012821206A21204A2120CA35AA20D0D7E8C0F>I<
124012E0124003037D820A>58 D<124012E012601220A31240A2128003097D820A>I<12
80A6128612BE12FA12C21282A9128612BE12FA12C21202A4071B7E940D>92
D<1206120712061200A41238124CA2128C12981218A212301232A21264A2123808147F93
0C>105 D<1330133813301300A4EA01C0EA0260EA0430136012081200A213C0A4EA0180
A4EA630012E312C612780D1A81930E>I<121E12065AA45A1338135C139CEA3118EA3600
1238EA3F80EA61C0EA60C8A3EAC0D013600E147F9312>I<EA30F8EA590C124E129C1298
1218A2EA301813191331A2EA6032131C100D7F8C15>110 D<EA0C78EA168CEA1304EA26
06A21206A2EA0C0CA213081310EA1A20EA19C0EA1800A25AA312FC0F13818C11>112
D<EA0388EA0C58EA1838EA30301260A3EAC060A21240EA60E0EA21C0121E1200A2EA0180
A3EA0FE00D137F8C0F>I<EA31E0EA5A70124CEA9C60EA98001218A25AA45AA20C0D7F8C
0F>I<1207EA1880EA19C0EA3180EA3800121E7EEA0380124112E1EAC1001282127C0A0D
7E8C10>I<EA3810EA4C181310128C12981218A2EA3020A21340A2EA1880EA0F000D0D7F
8C11>118 D E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fz line10 10 4
/Fz 4 64 df<1302131E137EEA01FE120F12FFA2120F1201EA007E131E13020F0C7E852A
>27 D<7E12F012FCB4FC13E013FEA213E0130012FC12F012800F0C67852A>45
D<1206A4120FA3EA1F80A2EA3FC0A2EA7FE0A3EAFFF00C0F86A72A>54
D<EAFFF0EA7FE0A3EA3FC0A2EA1F80A2EA0F00A31206A40C0F86902A>63
D E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: FA linew10 10 2
/FA 2 46 df<1402140E143EEB01FE1307133FEA01FF120FB5FCA2120F1201EA003F1307
1301EB003E140E140217127E882A>27 D<7E12E012F8B4FC13C013F813FF14E014FEA214
E0140013F813C090C7FC12F812E0128017126F882A>45 D E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: FB cmti9 9 48
/FB 48 122 df<903803F0F090380E19989038183B38EC33309038380700A3EB700EA300
07B512E03900700E0013E05CA4EA01C05CA4EA03805CA3130048136014E0386630C038E6
7180D8CC63C7FCEA783E1D21819918>11 D<EB03FEEB0E03EB1C07EB1806EB3800A35BA3
3807FFFC3800701CEBE038A41470EA01C0A314E4A2EA0380A21468143090C7FC5AA21266
12E65A12781821819916>I<1420146014E0A2130114F0EB0270A213041308A21310A213
201340A2EB8038EBFFF8380100381202A25AA25A121838FE01FF181A7E991D>65
D<3803FFF83800700E1406140713E0A43801C00E141C143814703803FFE0EB8078143814
1CEA0700A4000E1338A2147014E0381C03C0B51200181A7D991B>I<EB0F82EB7062EBC0
163803801E3807000C120E5A121800381308123000701300A25AA41420A3144012601480
38300100EA1006EA0C18EA03E0171A7A991B>I<3803FFF83800700E80809038E00180A3
15C0EA01C0A43903800380A3150048485AA2140E140C000E131C5C5C5C381C0380D8FFFE
C7FC1A1A7D991D>I<0003B5FC380070071403140113E0A43801C080A313C13803FF0013
81A3EA0702EB0004A21408120E1418141014304813E0B5FC181A7D991A>I<0003B5FC38
0070071403140113E0A43801C080A313C13803FF001381A3EA070290C7FCA3120EA4121E
EAFFC0181A7D9919>I<EB0FC1EB3021EBC0133801800F38070006120E120C5A00381304
123000701300A25AA3EB07FEEB0070A4006013E0A27EEA1801380C0640EA03F8181A7A99
1E>I<3903FF1FF83900700380A39038E00700A43801C00EA43803FFFCEB801CA348485A
A4000E5BA4485B38FF87FC1D1A7D991D>I<EA03FFEA0070A313E0A4EA01C0A4EA0380A4
EA0700A4120EA45AEAFF80101A7D990F>I<EBFFC0EB0E00A35BA45BA45BA45BA4EA61C0
12E15B12830047C7FC123C121A7C9914>I<EA03FFEA0070A35BA4485AA4485AA448C7FC
1410A21420120E1460144014C0381C0380B5FC141A7D9918>76 D<D803F8EB1FC0D80078
EB3C00A2155C01B85BA290389C0138A239011C0270A21404140800025C1410A214200004
EB41C0A21481A239080F0380A2130EEA180C4AC7FC39FE083FE0221A7D9922>I<3903F0
07F839007800C01580A290389C0100A3138E38010E0213061307A238020384A3EB01C400
0413C8A2EB00E8A24813F01470A21218142012FE1D1A7D991D>I<EB1F80EB70603801C0
30380300180006131C000E130C5A0018130E123812301270A248131CA31438A214301470
14E014C03860018038700300EA3806EA1C1CEA07E0171A7A991D>I<3803FFF83800701C
1406140713E0A43801C00EA2141C143838038060EBFF80EB8000A248C7FCA4120EA45AB4
7E181A7D991A>I<EB1F80EB70603801C030380380183807001C000E130C5A0018130E12
3812301270A248131CA314181438143014701460EBE0C03861118038721300EA3A16EA1E
1C3807F020EA001014601440EB38C0EB3F80EB1F00130E17217A991D>I<3803FFF03800
701C140E140713E0A43801C00E141C143814E03803FF80EB80C014601470EA0700A4000E
13E0A214E114E248136238FF803C181A7D991C>I<EB3F10EB6090380180701300481320
1206A31400120713C0EA03F8EA01FEEA007FEB0F8013031301A21220A238600300A21306
EA700CEAC818EA87E0141A7D9916>I<383FFFFC38381C0C00201304124013381280A338
007000A45BA4485AA4485AA41207EAFFF8161A79991B>I<387FE0FF380E00181410A248
1320A4481340A4481380A438E00100A31302A25BEA60085BEA3860EA0F80181A78991D>
I<3AFF87FC1FC03A3C00E007000038140413015D1302001C5C13045D13085D13105DD920
E1C7FC134014E2138014E4EA1D0014E8121E1470121C146012181440221A789926>87
D<3803FFFEEBC00EEB001C0002133800061370000413E0A2EB01C038000380EB0700130E
131E131C5B5B5B3801C020A2EA038038070040120E4813C0003C1380EA380338700F00B5
FC171A7D9918>90 D<EA03CCEA0E2EEA181C123812301270EAE038A4EAC072A3EA60F2EA
6134EA1E180F107C8F14>97 D<127E120EA35AA45AA2EA3BC0EA3C301278EA7018A3EAE0
38A4EAC070136013E0EA60C0EA6380EA1E000D1A7C9912>I<EA01E0EA0618120CEA1838
EA3010EA7000126012E0A413081310EA6020EA30C0EA1F000D107C8F12>I<EB1F801303
A3EB0700A4130EA2EA03CEEA0E2EEA181C123812301270485AA4EAC072A3EA60F2EA6134
EA1E18111A7C9914>I<EA01E0EA0E18EA1C08123812701310EAFFE0EAE000A41308EA60
101320EA30C0EA1F000D107C8F12>I<1307EB0980131BEB3B00133813301370A4EA07FF
EA00E0A5485AA5485AA490C7FC5AA21206126612E412CC1270112181990C>I<13F33803
8B8038060700120E120C121CEA380EA4EA301CA3EA183C5BEA07B8EA0038A25B1260EAE0
E0EAC1C0007FC7FC11177E8F12>I<EA1F801203A348C7FCA4120EA2137CEA0F86EA1E07
A2121CA2EA380EA35B00701380A21338EB3900EAE019EA600E111A7E9914>I<12031207
12061200A61238124C124E128E129CA2121C1238A212701272A212E212E4126412380819
7C980C>I<EA1F801203A3EA0700A4120EA2130E1313EA1C2713431380EA1F00123CEA3F
80EA39C0EA38E0EA70E2A313E4EAE064EA6038101A7E9912>107
D<121F1207A3120EA4121CA41238A41270A412E4A412E81230081A7D990A>I<38307C1E
38598663399E0783801403129CA239380E0700A3140ED8701C1340A2141C158038E0380C
39601807001A107C8F1F>I<EA307CEA5986EA9E07A2129CA2EA380EA35B00701380A213
38EB3900EAE019EA600E11107C8F16>I<EA01F0EA0618EA0C0CEA180E12301270126012
E0A2130C131C13181330EA6060EA30C0EA1F000F107C8F14>I<EA030F380590C0EA09E0
EBC060A3380380E0A4380701C0148013031400EA0E8E137890C7FCA25AA4B4FC1317808F
14>I<EA03C2EA0E2EEA181C123812301270EAE038A4EAC070A3EA60F0EA61E0121E1200
A2EA01C0A4EA1FF00F177C8F12>I<EA30F0EA5D18EA9E38EA9C181300A25AA45AA45A12
600D107C8F10>I<EA03E0EA04301208EA18701360EA1C00EA1F8013C0EA0FE012001360
12E0A2EA80C0EA4180EA3E000C107D8F10>I<1206120EA45AA2EAFFC0EA1C005AA45AA4
12E1A312E212E412380A177C960D>I<EA3806EA4C07EA4E0E128E129CA2EA1C1C1238A3
EA7039A3EA3079EA389AEA0F0C10107C8F15>I<EA3818EA4C1C124EEA8E0C129CA2EA1C
081238A213101270A21320EA3040EA18C0EA0F000E107C8F12>I<38380C10384C0E38EA
4E1C008E1318129CA2381C38101238A338707020A2144012303818B880380F0F0015107C
8F19>I<EA078F3808D180EA10F3EA20E1EBE000A2EA01C0A4EA0382A212C3EAE784EAC5
88EA78F011107E8F12>I<EA3806EA4C07EA4E0E128E129CA2EA1C1C1238A3EA7038A3EA
3078EA38F0EA0F7012001360EA60E0EAE1C0EAC180EA4700123C10177C8F13>I
E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: FC cmr9 9 88
/FC 88 128 df<EBFE7C380381C6380603CE000E1384001C1380A6B512F0381C0380AE38
FF8FF0171A809916>11 D<13FEEA038138060180EA0E03381C010090C7FCA5B51280EA1C
03AE38FF8FF0141A809915>I<EBFF80EA0383EA0603120E121CA6B5FCEA1C03AE38FF9F
F0141A809915>I<90387E1F803901C17040390703C0600006EB80E0000E14401500A5B6
12E0380E0380AE397F8FE3FC1E1A809920>I<12FC121CAE12FF0810808F0A>16
D<121CA2123C1270126012C012800607789913>19 D<126012F0A61260AA12201200A412
6012F0A21260041A7D990B>33 D<EB0C06A3495AA4495AA4495AB612E0A23900C06000A3
48485AA3B612E0A23903018000A2D80603C7FCA5EA0C06A41B217E9920>35
D<5AA2EA0FC0EA1930EA21081261EAC104130C131C1308EAE10012611279EA3F80EA1FE0
EA07F0EA01781338131CEA410C12E1A212811308EA4118EA2110EA1160EA0F80EA0100A2
0E1E7E9B13>I<EA01C0EA0320EA0610120EA45B5BA23907807F809038001E0014086D5A
120B3811C020EA31E000605BEB7080EAE078013DC7FC6D1380130E39701F0100383861C3
380F807C191A7E991E>38 D<126012F012F812681208A31210A212201240050B7D990B>
I<1380EA010012025A120C120812185AA35AA412E0AA1260A47EA37E1208120C12047E7E
EA008009267D9B0F>I<7E12407E7E12181208120C7EA37EA41380AA1300A41206A35A12
08121812105A5A5A09267E9B0F>I<130CACB61280A2D8000CC7FCAC191A7E951E>43
D<126012F0A212701210A31220A21240A2040B7D830B>I<EAFFC0A20A0280880D>I<1260
12F0A2126004047D830B>I<1304130C1318A31330A31360A313C0A3EA0180A3EA0300A3
1206A35AA35AA35AA35AA35AA20E257E9B13>I<EA07E0EA1C38EA381CEA300CEA700EEA
6006A2EAE007AAEA6006A2EA700EEA300CEA381CEA1C38EA07E010187F9713>I<12035A
B4FC1207B3A2EA7FF80D187D9713>I<EA0F80EA1060EA2030EA4038EA803CEAC01C12E0
1240EA003C1338A21370136013C0EA018013001202EA040412081210EA3008EA3FF8127F
12FF0E187E9713>I<EA07E0EA1838EA201CEA601EEA700EEA201E1200131CA213381370
EA07E0EA0038131C130E130FA212E0A212C0EA400EEA601CEA1838EA07E010187F9713>
I<1318A21338137813F813B8EA01381202A212041208121812101220124012C0B5FCEA00
38A6EA03FF10187F9713>I<EA3018EA3FF013E01380EA2000A5EA2FC0EA3060EA2030EA
00381318131CA2124012E0A2EA8018EA40381330EA30E0EA0F800E187E9713>I<EA01F8
EA0704EA0C06EA180E123013001270126012E0EAE3E0EAE418EAE80CEAF00EEAE0061307
A31260A2EA7006EA300EEA180CEA0C38EA07E010187F9713>I<1240EA7FFF13FEA2EA40
04EA80081310A2EA00201340A21380120113005AA25A1206A2120EA5120410197E9813>
I<EA07E0EA1818EA300CEA20061260A21270EA780CEA3E18EA1F30EA07C0EA03E0EA0CF8
EA307CEA601E130FEAC0071303A3EA6002EA2004EA1818EA07E010187F9713>I<EA07E0
EA1C30EA3018EA700CEA600EEAE006A21307A31260EA700FEA3017EA1827EA07C7EA0007
1306130E130C12701318EA6030EA3060EA0F8010187F9713>I<126012F0A212601200A8
126012F0A2126004107D8F0B>I<B61280A2C9FCA6B61280A2190A7E8D1E>61
D<EA1FC0EA2060EA4030EAC03812E0A21200137013E0EA018013005A1202A6C7FCA41206
120FA212060D1A7E9912>63 D<137F380180C03806003000081308487F38203E0213E138
41C081384380710083EB7080EA8700A6EA838012433941C0F1003820E131EB3E1E6CC8FC
7E0006EB03803901803E0038007FE0191A7E991E>I<130CA3131EA2132F1327A2EB4380
A3EB81C0A200017F1300A248B47E38020070A2487FA3487FA2003C131EB4EBFFC01A1A7F
991D>I<B51280380E00E014701438143CA514781470EB01E0380FFFC0380E00F0147814
3C141C141EA4141C143C147814F0B512C0171A7F991B>I<EB3F023801C0C63803002E00
0E131E48130E14065A007813021270A200F01300A600701302A21278003813047E14087E
000313303801C0C038003F00171A7E991C>I<B57E380E00E01470808080A280A21580A8
1500A25C140E5CA2147814E0B51280191A7F991D>I<B512F8380E003814181408140C14
04A3EB0100A35BEA0FFFEA0E037FA3EB0002A314061404A2140C143CB512FC171A7F991A
>I<B512F8380E003814181408140C1404A3EB0100A35BEA0FFFEA0E037FA390C7FCA8EA
FFE0161A7F9919>I<EB3F023801C0C63803002E000E131E48130E14065A007813021270
A200F090C7FCA5903801FFC03970000E00A2127812387EA27E000313163801C06638003F
821A1A7E991E>I<39FFE1FFC0390E001C00AB380FFFFC380E001CAC39FFE1FFC01A1A7F
991D>I<EAFF80EA1C00B3A6EAFF80091A7E990E>I<EA0FFEEA0070B3124012E0A2EA40E0
EA61C0EA1F000F1A7E9914>I<39FFE01FC0390E000F00140C14085C5C5C495A0102C7FC
5B130C131C132E1347EB8380EA0F03380E01C06D7EA2147080A280141E141F39FFE07FC0
1A1A7F991E>I<EAFFE0000EC7FCB01408A3141814101430147014F0B5FC151A7F9918>I<
B414FF000F14F0A2390B800170A23809C002A33808E004A2EB7008A3EB3810A3EB1C20A2
EB0E40A3EB0780A2EB0300121C39FF8307FF201A7F9923>I<00FEEB7FC0000FEB0E0014
04EA0B80EA09C0A2EA08E01370A21338131CA2130E1307EB0384A2EB01C4EB00E4A21474
143CA2141C140C121C38FF80041A1A7F991D>I<137F3801C1C038070070000E7F487F00
3C131E0038130E0078130F00707F00F01480A80078EB0F00A20038130E003C131E001C13
1C6C5B6C5B3801C1C0D8007FC7FC191A7E991E>I<B51280380E01E0EB00701478143814
3CA4143814781470EB01E0380FFF80000EC7FCABEAFFE0161A7F991A>I<137F3801C1C0
38070070000E7F487F003C131E0038130E0078130F00707F00F01480A80070140000785B
0038130E383C1C1E381C221C380E4138000713F03801E1C039007F8080EB00C0A214E1EC
7F00A2143E141C19217E991E>I<B5FC380E01C0EB0070147880A55C1470EB01C0D80FFF
C7FC380E0380EB00C0801470A31478A31540143CEC1C8039FFE00F001A1A7F991C>I<EA
0FC2EA1836EA200EEA600612C01302A3EAE0001270127EEA3FE0EA1FF8EA03FCEA007E13
0E130713031280A3EAC0021306EAE004EAD818EA87E0101A7E9915>I<007FB5FC38701C
0700401301A200C0148000801300A300001400B13803FFE0191A7F991C>I<39FFE07FC0
390E000E001404B200065B12076C5B6C6C5A3800E0C0013FC7FC1A1A7F991D>I<39FF80
1FC0391C00070014066C1304A36C5BA26C6C5AA36C6C5AA26C6C5AA3EB7080A213790139
C7FCA2131EA3130CA21A1A7F991D>I<3AFF81FF07F03A3C007801C0001CEC0080A36C90
389C0100A33907010E02A33903830F04EB8207A2150C3901C40388A33900E801D0A39038
7000E0A301305B01201340241A7F9927>I<39FFC0FF80390F003C0014106C5BEA03806D
5A00015BEA00E101F1C7FC137A133E131C131EA21317EB27801343EB41C0EB81E0EA0100
48137000021378481338000C7F001E133EB4EB7FC01A1A7F991D>I<39FF801FE0391E00
070014066C13046C130CEB800800035BEA01C06D5A00001360EB7040EB78801338011DC7
FC131F130EAAEBFFC01B1A7F991D>I<B512C038F8038012E038C00700A2EA800E5BA248
5AA25B5BA2485AA2485A38070040A2120EA24813C04813801301EA70031307B5FC121A7E
9917>I<12FEA212C0B3AF12FEA207257D9B0B>I<12FEA21206B3AF12FEA20725809B0B>
93 D<EA1FC0EA38707FEA101C1200A2EA03FCEA1E1C1238127012E01480A2133CEA705F
381F8F0011107F8F13>97 D<12FC121CA913FCEA1D07381E0380381C01C0130014E0A6EB
01C01480381E0300EA1906EA10F8131A809915>I<EA07F8EA1C1C1238EA700813005AA6
12701304EA3808EA1C18EA07E00E107F8F11>I<133F1307A9EA03E7EA0C17EA180F487E
127012E0A6126012706C5AEA1C373807C7E0131A7F9915>I<EA07C0EA1C30EA30181270
EA600C12E0EAFFFCEAE000A41260EA7004EA3808EA1C18EA07E00E107F8F11>I<EA01F0
EA0718EA0E38EA1C101300A6EAFFC0EA1C00AEEAFF800D1A80990C>I<EA0FCF38187180
38303000EA7038A4EA30306C5AEA2FC00060C7FCA21270EA3FF013FC6C7EEA600FEAC003
A4EA6006EA381CEA07E011187F8F13>I<12FC121CA9137CEA1D87381E0380A2121CAB38
FF9FF0141A809915>I<1218123CA212181200A612FC121CAE12FF081A80990A>I<EA0180
EA03C0A2EA0180C7FCA6EA0FC01201B21241EAE180EAE300127E0A2182990C>I<12FC12
1CA9EB1FC0EB0F00130C5B13205B13E0121DEA1E70EA1C7813387F131E7F148038FF9FE0
131A809914>I<12FC121CB3A6EAFF80091A80990A>I<38FC7C1F391D8E6380391E0781C0
A2001C1301AB39FF9FE7F81D107F8F20>I<EAFC7CEA1D87381E0380A2121CAB38FF9FF0
1410808F15>I<EA07E0EA1C38EA300CEA700EEA6006EAE007A6EA6006EA700EEA381CEA
1C38EA07E010107F8F13>I<EAFCFCEA1D07381E0380381C01C0A2EB00E0A6EB01C01480
381E0300EA1D06EA1CF890C7FCA6B47E1317808F15>I<EA03E1EA0C13EA180BEA300FEA
700712E0A61270A26C5AEA1C37EA07C7EA0007A6EB3FE013177F8F14>I<EAFC78EA1D9C
EA1E1C1308EA1C00ABEAFF800E10808F0F>I<EA1F20EA60E0EA402012C0A2EAF000127F
EA3FC0EA1FE0EA00F0EA8070133012C01320EAF040EA8F800C107F8F0F>I<1208A41218
A21238EAFFC0EA3800A81320A41218EA1C40EA07800B177F960F>I<38FC1F80EA1C03AB
1307120CEA0E0B3803F3F01410808F15>I<38FF0F80383C0700EA1C061304A26C5AA26C
5AA3EA03A0A2EA01C0A36C5A11107F8F14>I<39FE7F1F8039381C0700003C1306381C0C
04130E380E16081317A238072310149013A33803C1A014E0380180C0A319107F8F1C>I<
38FE3F80383C1E00EA1C086C5AEA0F306C5A6C5A12017F1203EA0270487E1208EA181CEA
381E38FC3FC012107F8F14>I<38FF0F80383C0700EA1C061304A26C5AA26C5AA3EA03A0
A2EA01C0A36C5AA248C7FCA212E112E212E4127811177F8F14>I<EAFFF8EAE07012C0EA
80E0EA81C0A2EA0380EA0700A2EA0E04121CA2EA380812701338EAFFF80E107F8F11>I<
B512C01201808913>I<EAE1C0A40A047C9913>127 D E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: FD cmss10 10 84
/FD 84 123 df<121C1238A2127012E006057B7C12>24 D<EAE0E0A3EA6060EA4040A3EA
C0C00B087F9C15>34 D<9038030180A39038060300A4EB0C06A5495AB612FCA239003018
00A4495AA4B612FCA23900C0600048485AA438030180A4D80603C7FCA31E257E9C23>I<
EA0180A2EA07F0EA1FFCEA3D9EEA7186138012E1A412F11279127FEA3FC0EA1FF0EA0FF8
EA03FCEA01BE138E138F1387A4EA8186EAC18EEAE18CEA79B8EA3FF0EA07E0EA0180A210
217E9E15>I<000F1480381F8001393FC00300EA79E00070130638E0700CA25CA25C5CA2
3870E0C01279383FC180EA1F81390F0303C039000607E0EC0FF090380C1E78EC1C389038
18381CA213301360A213C0A23901801C383903001E78EC0FF00006EB07E00002EB03C01E
217E9E23>I<13F0EA03F8487E131CEA060E120EA4131E5B133813786C5A9038E0018013
C0390F800300EA1FC0123D3879E0060070130E38F0700C38E07818EB3C386D5AEB0EE038
600FC0D87007134039381FE0C0381FF8FF390FE03F001A1F7E9D1F>I<12E0A312601240
A312C003087C9C0C>I<EA01C0EA0380EA0700120EA25AA25AA35AA45AAE1270A47EA37E
A27EA27EEA0380EA01C00A2A7D9E10>I<12E012707E7EA27EA27EA3EA0380A4EA01C0AE
EA0380A4EA0700A3120EA25AA25A5A5A0A2A7E9E10>I<120313801300A2EAE31CEAF33C
EAFB7CEA3FF0EA0FC0A2EA3FF0EAFB7CEAF33CEAE31CEA0300A2138013000E127D9E15>
I<1306ADB612E0A2D80006C7FCAD1B1C7E9720>I<12E0A312601240A312C003087C820C>
I<12E0A303037C820C>46 D<130113031306A3130CA31318A31330A31360A213C0A3EA01
80A3EA0300A31206A25AA35AA35AA35AA35AA210297E9E15>I<EA03C0EA0FF0EA1FF8EA
3C3CEA381CEA700EA3EAE007ADEA700EA3EA381CEA3C3CEA1FF8EA0FF0EA07E0101D7E9B
15>I<5A1207123FB4FC12C71207B3A3EAFFF8A20D1C7C9B15>I<EA07C0EA1FF0EA3878EA
701CEA601EEAE00EEAC00F124013071200A2130F130E131E131C133C137813F0EA01E013
C0EA0380EA0700120E5A5A5AB5FCA2101C7E9B15>I<EA07E0EA1FF0EA3838EA701CEAE0
1E1240A21200A2131C133C1378EA07F013E013F0EA003C131C131E130FA41280A2EAC01E
EA601CEA383CEA1FF0EA07C0101D7E9B15>I<133C137C135C13DCA2EA019C1203A2EA07
1CA2120EA2121CA212381278127012F0B512C0A238001C00A7121B7F9A15>I<EA3FFFA2
0038C7FCA7EA39F0EA3FF87F131EEA3C0FA2383807801200A638400F0012E0EA701E6C5A
EA1FF8EA07E0111C7F9A15>I<13F8EA03FCEA0704EA0E005A5AA25AA2EA71F0EAE7F8EA
EFFCEAFC3CEAF81EEAF00E130712E0A51270A2130E1230EA381CEA1C38EA0FF0EA03E010
1D7E9B15>I<B5FCA2EA0007130E131CA213381378137013F013E01201A2EA03C0A3EA07
80A413005AA6101B7E9A15>I<EA07E0EA1FF8EA3C3CEA700EA2EAE007A4EA700EA2EA3C
3CEA1FF8EA07E0EA1FF8EA3C3CEA700EA2EAE007A6EA700EEA781EEA3C3CEA1FF8EA07E0
101D7E9B15>I<EA03C0EA0FF0EA1C38EA381CEA700C130E12E013061307A5130F1270EA
781FEA3C3FEA3FF7EA1FE7EA0F86EA000EA2130C131C1318EA2038EA70F0EA3FC0EA0F80
101D7E9B15>I<12E0A31200AC12E0A312601240A312C003177C910C>59
D<B612E0A2C9FCA8B612E0A21B0C7E8F20>61 D<EA1FC0EA7FF0EAFFF8EAF03CEA400E12
00A3131E133C137813F0EA01C0138012031300A35AA21202C7FCA51207A30F1D7E9C14>
63 D<EB3F80EBFFE0000313F03807E0F8380F0038381E07FCEA3C0FEA381F38783C7E38
70783EEB701E38E0E00EA73870701CEB783C38783C7838381FF0383C0FE0381E07C06CC7
FC3807E01E3803FFFCC613F0EB3FC0171D7E9C1C>I<131C133EA2132E1367A2EBE78013
C713C300017F1383138100037F1301486C7EA21206000E1378380FFFF8A2381C003CA212
1800387FA248131F80126000E0EB0780191D7F9C1C>I<EAFFF813FF38F00F80EB03C0EB
01E0EB00F0A5EB01E0EB07C0B51280EBFE00EBFF8038F01FC0EB03E0EB01F013001478A5
14F0EB01E0EB07C0B51280EBFC00151D7C9C1C>I<EB3FC03801FFF8EA03C03807001800
0E1300121E5A12381278A2127012F0A712701278A21238123C7E000E13086C13183803C0
783801FFF038003F80151D7D9C1B>I<EAFFFC13FF38F00F80EB03E01301EB00F0147814
38143CA2141C141EA8143CA3147814F0A2EB03E0EB0FC0B5120013FC171D7C9C1E>I<B5
12C0A200F0C7FCABB51280A200F0C7FCACB512C0A2121D7C9C19>I<B51280A200F0C7FC
ABB5FCA200F0C7FCAE111D7C9C18>I<EB3FC0EBFFF83803E07C3807801C380F000C001E
13005AA25AA2127012F0A5EB03FCA23870001C1278A27EA27E7EEA07803803E07C3800FF
F8EB3FC0161D7E9C1C>I<00F013F0ADB5FCA2EAF000AE141D7C9C1D>I<12F0B3AB041D7C
9C0C>I<133CB3A7EAC07CEAE078EAFFF0EA7FE0EA0FC00E1E7E9C14>I<00F0133C147814
F0EB01E0EB03C0EB0780EB0F00131E5B5B5B5BEAF1F012F3EAF778EAFE7CEAFC3C7FEAF8
1F487E14801307EB03C014E01301EB00F0A21478147C161D7C9C1D>I<12F0B3A9B5FCA2
101D7D9C16>I<00FCEB07E0A300EE130DA300E71319A3EB803900E31331EBC071A200E1
1361A2EBE0E1A200E013C113F1EB7181A3EB3B01A3131EA313001B1D7C9C24>I<00FC13
70A27E12EE12EF12E7A2138012E313C0A2EAE1E0A212E013F013701378A2133CA2131C13
1E130EA2130F130714F01303A2141D7C9C1D>I<133F3801FFE0487F3807C0F8380F807C
381E001E003E131F003C7F48EB0780A348EB03C0A86C130700781480A2007C130F003C14
00003E5B6C133E6C6C5A6C6C5A6CB45A6C5BD8003FC7FC1A1F7E9D1F>I<EAFFFC13FF38
F00F80EB03C0EB01E0EB00F0A6EB01E01303EB0FC0B51280EBFE0000F0C7FCAD141D7C9C
1B>I<133F3801FFE0487F3807C0F8380F807C48487E003E7F003C7F48EB0780A348EB03
C0A90078EB0780A2130E393C0F0F00383E079F381E03DE380F83FC6C6C5A6CB45A6C7F38
003F78EB003C143E80EC0F801A237E9D1F>I<EAFFF813FF38F00F80EB03C0EB01E0EB00
F0A5EB01E01303EB0FC0B51280140013F8EAF03C131C131E7FA2EB0780A2EB03C0A2EB01
E0EB00F0A21478151D7C9C1B>I<EA03F8EA0FFEEA1C0F487E487E0060C7FC12E0A47E12
78127FEA3FE0EA1FFCEA07FEEA01FF38001F801307EB03C0A21301A400C01380EAE00338
F00700EA7C0EEA1FFCEA07F0121F7E9D17>I<B61280A2D8001EC7FCB3A9191D7F9C1C>I<
00F01370B3A5007813E0A2383C01C0381E0380EA0F073807FE00EA01F8141E7C9C1D>I<
00F0EB0380A2007814005CA26C130EA2123E001E5BA26C5BA36C6C5AA23803C06014E0A2
6C6C5A13E1A23800F18013F30173C7FCA2137B133EA2131C191D7F9C1C>I<00F001F813
70A3007801B81360D9019C13E0A3D83C03EB01C0141E140E001E15809038070F03130614
07000F1500010E1387130C0007EB0386A2019C138E019813CE0003EB01CCA339019000C8
01D013D801F013F85B00001470241D7F9C27>I<00F8130E007C131E003C5B6C13386C13
785C380781E03803C1C0EA01C3EBE780D800F7C7FC137E133E133CA2137E1377EBE780EA
01E33803C1C0EB81E048C67E487F000E1378487F003C133E487F00707F00F01480191D7F
9C1C>I<00F8EB01E0007C14C06CEB0380001E1307001F1400380F800E0007131EEBC01C
3803E03C000113386D5A000013F0EB78E0EB7DC0133F6D5A91C7FC7FAC1B1D809C1C>I<
387FFFF0A2380001E0130314C013071480EB0F005B131E133E133C5B13F85B12015B485A
12075B120F90C7FC121E123E123C127C1278B512F0A2141D7E9C19>I<12FFA312E0B3B1
12FFA308297D9E0C>I<EA6060EA4040A3EAC0C0EAE0E0A30B08789C15>I<12FFA31207B3
B112FFA30829809E0C>I<12601240A312C012E0A303087C9C0C>96
D<EA0FC0EA3FF0EA7FF8EA7038EA401C1200A213FC120F123FEA781C12E0A3EAF07CEA7F
FC13DCEA3F1C0E127E9114>I<12E0ABEAE3E0EAEFF8EAFFFCEAF83EEAE01E130E1307A6
130EEAF01EEAF83CEAFFF8EAEFF0EAE3E0101D7D9C15>I<EA03F0EA0FFCEA1FFEEA3C0E
EA7802EA70005AA61270EA7802EA3C0EEA1FFEEA0FFCEA03F00F127F9112>I<1307ABEA
07C7EA1FF7EA3FFFEA3C1FEA7807127012E0A61270EA780FEA3C1FEA3FFFEA1FF7EA07C7
101D7F9C15>I<EA07E0EA0FF0EA3FF8EA3C3CEA700C130EEAFFFEA3EAE000A31270EA78
02EA3C0EEA1FFEEA0FFCEA03F00F127F9112>I<13FC12011203EA0700120EA7EAFFE0A2
EA0E00B00E1D809C0D>I<3807C3C0EA0FFF5A38383800487EA56C5AEA3FF05BEA77C000
70C7FCA2EA3FFC13FF481380EA700738E001C0A3EAF003387C0F80383FFF006C5AEA07F8
121B7F9115>I<12E0ABEAE3E0EAEFF0EAFFF8EAF83CEAF01C12E0AD0E1D7D9C15>I<12F0
A41200A71270B2041D7E9C0A>I<EA03C0A4C7FCA7EA01C0B3A412C3EAFF801300123E0A
25839C0B>I<12E0AB133C137813F0EAE1E0EAE3C0EAE780EAEF00B4FC138012FBEAF9C0
EAF1E012E013F013781338133C131E0F1D7D9C14>I<12E0B3AB031D7D9C0A>I<38E3F03F
39EFF8FF80D8FFFD13C039F81F81E038F00F00EAE00EAD1B127D9122>I<EAE3E0EAEFF0
EAFFF8EAF83CEAF01C12E0AD0E127D9115>I<EA03F0EA0FFC487EEA3C0F38780780EA70
0338E001C0A5EAF00300701380EA7807383C0F00EA1FFE6C5AEA03F012127F9115>I<EA
E3E0EAEFF8EAFFFCEAF83EEAE01E130E1307A5130F130EEAF01EEAF87CEAFFF8EAEFF0EA
E3E0EAE000A8101A7D9115>I<EA07C7EA0FF7EA1FFFEA3E1FEA780FEA700712F012E0A5
1270EA780FEA3C1FEA3FFFEA1FF7EA07C7EA0007A8101A7F9115>I<EAE38012E712EFEA
FC005A5AA25AAB09127D910E>I<EA1FC0EA3FF0127FEAF030EAE000A27E127FEA3FC0EA
1FE0EA01F0EA0038A21280EAF078EAFFF0EA7FE0EA1FC00D127F9110>I<121CA6EAFFE0
A2EA1C00AC1320EA1FF0120FEA07C00C187F970F>I<EAE01CAE137CEAFFFCEA7FDCEA3F
1C0E127D9115>I<EAE007A212F0EA700EA2EA381CA3EA1C38A3EA0E70A2EA0660120713
E0EA03C0A210127F9113>I<39E03E0380A3D870371300EB7707A213733838E38EA33818
E18C381CC1CC001D13DCA2380D80D8000F13F8A20007137019127F911C>I<3870038038
780700EA3C0EEA1C1C120E6C5AEA03F06C5A5B7F487EEA0738EA0618EA0E1C487E487E38
70038000F013C01212809113>I<EAE007A2EA700EA21278EA381CA2121C1338120CEA0E
3013701206EA0760120313C01201A21380A2EA0300A25A12FE5A5A101A7F9113>I<EA7F
FCA3EA007813F013E01201EA03C01380EA07005A121E121C123C5AEAFFFCA30E127F9112
>I E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: FE cmti7 6 14
/FE 14 122 df<13081318131C132C134CA2138CA2EA010C12027FEA07FEEA0806A21210
123038F81F8011117E9016>65 D<EA0F40EA19C012301260A2EAC180A213A012C3EA47C0
12380B0B7D8A0F>97 D<12781218A25AA3123FEA7180126013C0A2EAC180A3EAC3001246
12380A117D900E>I<EA0780EA1840EA30C0EA6000A25AA3EA4040EA6180EA3E000A0B7D
8A0E>I<123C120CA25AA3EA1BC0EA346012381230A2EA60C0A213D0EA6190EAC1A0EAC0
C00C117E900F>104 D<1208A21200A41270125012B0A212301260A2126812C812D01260
05117D9009>I<123C120CA25AA313E0EA3120EA3260EA34001238127E12631320A2EAC3
40EAC1800B117E900E>107 D<3871E780385A38C0EA9C301298121838306180A21490EB
6320EA60C3EBC1C0140B7D8A18>109 D<EA63C0EAB46012B812B01230EA60C0A213D0EA
6190EAC1A0EAC0C00C0B7D8A10>I<1267EAB88012B1EAB00012305AA45AA2090B7D8A0C>
114 D<121E123112631260127C123E1206128612C6128C1278080B7D8A0C>I<EA70C012
50EAB040A21230EA6080A3EA61001222121C0A0B7D8A0E>118 D<EA0E70EA1388EA2318
130012031206A21310EA4620EACE60EA73800D0B7F8A0E>120 D<EA7040EA50C012B0A2
1230EA6180A4EA6300123F1203124612C65A12700A107D8A0E>I
E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: FF cmex10 10 23
/FF 23 126 df<12C0B3A9021B7A800E>12 D<1430146014C0EB0180EB03005B130E130C
5B1338133013705B5B12015B1203A290C7FC5A1206120EA2120C121CA312181238A45AA7
5AB3A31270A77EA41218121CA3120C120EA2120612077E7FA212017F12007F1370133013
3813187F130E7F7FEB0180EB00C014601430146377811F>18 D<12C012607E7E7E120E7E
7E6C7E7F12007F1370133013381318131CA2130C130E13061307A27F1480A3130114C0A4
EB00E0A71470B3A314E0A7EB01C0A414801303A314005BA21306130E130C131CA2131813
38133013705B5B12015B48C7FC5A120E120C5A5A5A5A14637F811F>I<EAFFE0A3EAE000
B3B3B3B3B3A3EAFFE0A30B63768116>I<EAFFE0A31200B3B3B3B3B3A312FFA30B638081
16>I<140C141814381430146014E014C01301EB0380A2EB0700A2130EA25BA25BA21378
137013F0A25B1201A2485AA4485AA3120F90C7FCA35AA2121EA3123EA4123CA3127CA812
78A212F8B1164B748024>48 D<12C01260127012307E121C120C120E7EA26C7EA26C7EA2
6C7EA21370A213781338133CA2131C131EA27FA4EB0780A314C01303A314E0A21301A314
F0A41300A314F8A81478A2147CB1164B7F8024>I<EAFFFCA3EAE000B3B3B3B10E4A7380
1C>I<EAFFFCA3EA001CB3B3B3B10E4A80801C>I<12E0B3B3B3B1EAFFFCA30E4A73811C>
I<131CB3B3B3B1EAFFFCA30E4A80811C>I<12F8B11278A2127CA8123CA3123EA4121EA3
121FA27EA37F1207A36C7EA46C7EA212007FA2137013781338A27FA27FA27FA2EB0380A2
EB01C0130014E01460143014381418140C164B748224>64 D<147CB11478A214F8A814F0
A31301A414E0A31303A214C0A313071480A3EB0F00A4131EA2131C133CA2133813781370
A25BA2485AA2485AA248C7FCA2120E120C121C12185A127012605A164B7F8224>I<12F8
B3A9051B748024>I<12F8B3A9051B6E8024>I<00E0141CB3AD00701438A26C1470A26C14
E0001E1301390F8007C03907E01F803901FFFE0038007FF8EB1FE01E2A7E7F23>83
D<133013FCEA01CE38070380381C00E00030133000C0130C1607809E17>98
D<141CECFF80903807E3F090383F007ED801F0EB07C0D80F80EB00F80038C8120E00C0ED
01802908809F2A>I<3807C004381FE0183830783038601FE038800F801605809D17>101
D<EB01F8130F133F13FF12033807FC00EA0FC048C7FC123C5A12705A5A150D818413>
122 D<12FCB47E13E013F813FEEA01FF38001F80EB07C0EB01E0EB00F014701438141815
0D818413>I<12C07E126012707E121E6C7EEA07E0EA03FE3801FFF87E133F130F130115
0E818D13>I<141814381430147014E0EB03C0EB0F80EB3F00EA03FEB45A5B13E0138000
FCC7FC150E818D13>I E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: FG lasy10 10 5
/FG 5 62 df<387FFFFCB512FE38C00006B3B512FEA217177D991F>50
D<13021307EB0D80EB18C0EB3060497E497E48487E48487E00067F48EB018048EB00C048
1460481430481418A2006014306C14606C14C06CEB01806CEB03006C13066C6C5A6C6C5A
EB60306D5A6D5AEB0D800107C7FC13021D1E7E9C21>I<16801640EA07C0D80FF01420D8
18381410D8700C140C486CEB07FFD84003EB1FFE3A000180380C903900E0E01091387FC0
2091381F004091C7FC1680280E81902A>59 D<B612C0A200C0C8FCB3A4B612C0A21A1A7D
9620>I<B612C0A2C8FCB3A4B6FCA21A1A7E9620>I E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: FH cmsy7 7 10
/FH 10 106 df<B512C0A212027D871A>0 D<124012E0124003037D880A>I<1204A3EAC4
60EAF5E0EA3F80EA0E00EA3F80EAF5E0EAC460EA0400A30B0D7E8D11>3
D<12021206A25AA25A5AB612C0A20030C8FC7E7EA27EA212021A107D8E21>32
D<14101418A280A28080B612E0A2C7EA030014065CA25CA214101B107E8E21>I<120412
0EA2121CA31238A212301270A21260A212C0A2070F7F8F0A>48 D<000F131E393BC06180
396060804038403100D8801A1320130EA3130B3940118040903820C0C03930C07B80390F
001E001B0D7E8C21>I<EA0180A2EA03C0A2EA0660A2EA0C30A2EA1818A3EA300CA2EA60
06A2EAC003130110117E9016>94 D<12021206120CA31218A31230A31260A312C0A21260
A31230A31218A3120CA312061202071E7E950D>104 D<12C0A21260A31230A31218A312
0CA31206A2120CA31218A31230A31260A312C0A2071E7E950D>I
E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: FI cmr5 5 13
/FI 13 57 df<134013E0487E1330EA0218EA061CEA040CEA080E1306487E0020138013
01387FFFC0B512E0130E7E8D17>1 D<120412081210123012201260124012C0A8124012
601220123012101208120406167D8F0B>40 D<1280124012201230121012181208120CA8
120812181210123012201240128006167E8F0B>I<13C0A8B51280A23800C000A811127E
8D15>43 D<124012E012601220A21240128003077D8208>I<121812F81218AA12FF080D
7D8C0E>49 D<123EEA4180EA80C012C01200A2EA0180EA03001204EA08401230EA7F8012
FF0A0D7E8C0E>I<123E1241EA61801201EA0300121EEA0180EA00C0A212C0A2EA4180EA
3E000A0D7E8C0E>I<12035AA2120B12131223126312C3EAFFC0EA0300A3EA0FC00A0D7E
8C0E>I<EA6080EA7F00125C1240A2125FEA6180EA00C0A212C01280EA4180EA3E000A0D
7E8C0E>I<120FEA31801261EA60005A12DEEAE180EAC0C0A31260EA2180EA1E000A0D7E
8C0E>I<1240EA7FE013C0EA8080EA81001202A25A120C12081218A40B0E7E8D0E>I<121E
1221EA6180A2EA7100123E123FEA6380EAC0C0A3EA6180EA3F000A0D7E8C0E>I
E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: FJ cmti7 7 37
/FJ 37 122 df<1303A25B130BA213131323A2EB4180A21381EA010113FFEA0201120612
04380800C0A2121838FC07F014147E9319>65 D<3807FFC03800C03038018018A4380300
30146014C0EBFF80380600C01460A21430481360A214C0130138180300EAFFFC15147E93
18>I<3807FFE03800C03038018018140C14041406EA0300A40006130CA3141848131014
30146014C038180300EAFFFC17147E931A>68 D<3807FFF83800C03838018018A31410EA
03021400A213FEEA0604A21410EB00205AA2144014C0EA1801B5128015147E9317>I<38
07FFF83800C03838018018A31410EA03021400A213FEEA0604A390C7FC5AA45AB4FC1514
7E9316>I<EA07F8EA00C0EA0180A4EA0300A41206A45AA45AB4FC0D147E930D>73
D<EA07F8EA00C0485AA448C7FCA41206A31440481380A2EB01005BEA180FEAFFFE12147E
9315>76 D<D807E013FC000014E039016001C01402A214040002EB098013301411142100
04EB230014431483131838081906131AA2131C3818180C00FEEB7F801E147E931E>I<13
7E38018180380200C0000C13604813200010133012305AA3481360A314C0EB01801260EB
0300EA300CEA1838EA07E014147B931A>79 D<137E3801C180380300C0000C13605A1430
5A5AA3481360A314C01480EA60013861C300EA322CEA1C383807E080EA00201321140013
23133E131C141A7B931A>81 D<3807FF803800C060380180301418A3380300301460EB01
C0EBFE00380603801301EB00C0A2380C0180A314840018138838FF00F016147E9319>I<
EBF880EA030538040300487EA390C7FC120C120FEA07E0EA00F813187FA2EA4008A290C7
FCEA6010EAF060EA8F8011147D9313>I<EA07B0EA0C701210EA30601260A3EAC0C013C8
A21241EA62D0EA3C700D0D7C8C12>97 D<123C120C5AA45AEA3380EA3C60EA3020EA6030
A4EAC060A2EA40C0EA6080EA2300121E0C147D9310>I<EA03C0EA0C20EA1830EA3020EA
6000A35AA2EA4010EA6020EA30C0EA1F000C0D7D8C10>I<133C130C1318A41330EA07B0
EA0C701210EA30601260A3EAC0C013C8A21241EA62D0EA3C700E147C9312>I<EA0780EA
1840EA3020EA604012C0EAFF80EAC0005AA2EAC0201340EA6180EA3E000B0D7C8C10>I<
131C13661364136013C0A3EA07F8EA00C0EA0180A5EA0300A512021206A312C412C81270
0F1A81930B>I<EA01CCEA062CEA0C1CEA18181230A3EA6030A21220EA3070EA10E0EA0F
601200A213C012C0EAC380EA7E000E137E8C10>I<121E12065AA45AEA19E0EA1E301218
12381230A3EA6060136413C413C812C013700E147D9312>I<120212061200A51238124C
A2128C12981218A212301232A21264A2123807147D930B>I<131813101300A5EA01C0EA
0260EA0430136012081200A213C0A4EA0180A4EA030012C312C612780D1A81930B>I<12
1E12065AA45A1338134C1388EA310012361238EA3F80EA61C0EA60C8A3EAC0D013600E14
7E9310>I<123C120C1218A41230A41260A412C012C8A312D0126006147D9309>I<3830F8
7838590D8C384E0E0C129CEA980C1218A238301818141914311432EA6030141C180D7D8C
1C>I<EA30F0EA5B18124C129C12981218A2EA30301332A21364126013380F0D7D8C13>I<
EA0380EA0C60EA1820EA30301260A3EAC060A2EA40C0EA6080EA2300121E0C0D7C8C12>
I<EA0C78EA168CEA1304EA2606A21206A2EA0C0CA213081310EA1A20EA19C0EA1800A25A
A312FC0F137F8C12>I<EA0388EA0C58EA1838EA30301260A3EAC060A21240EA60E0EA21
C0121E1200A2EA0180A3EA0FE00D137D8C10>I<EA31F0EA5A18EA4C10EA9C0012981218
A25AA45AA20D0D7D8C0F>I<1207EA188013C0EA3080EA3800121E121FEA0380120112C1
EA81001282127C0A0D7D8C0E>I<1204120CA35AEAFF80EA1800A25AA45A1261A2126212
64123809127D910C>I<EA3818124CA2EA8C3012981218A2EA30601364A213E4EA11E8EA
0E300E0D7D8C12>I<EA3810EA4C181310128C12981218A2EA3020A21340A2EA1880EA0F
000D0D7D8C10>I<38381820004C13701420EA8C3012981218A238306040A314803818B1
00EA0F1E140D7D8C17>I<EA071EEA09E3EA11C2EA2180A21201A2EA03001304A2EA4308
EAC510EA78E0100D7F8C10>I<EA380C124CA2EA8C1812981218A2EA3030A31370EA18E0
EA0F60120013C01220EA6180EA4300123C0E137D8C11>I E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: FK cmr6 6 24
/FK 24 119 df<120412081210123012201260A2124012C0AA12401260A2122012301210
12081204061A7D920C>40 D<128012401220123012101218A21208120CAA12081218A212
101230122012401280061A7F920C>I<13C0A9B51280A23800C000A911147E8F17>43
D<121FEA3180EA60C0EA4040EAC060A8EA4040EA60C0EA3180EA1F000B107F8F0F>48
D<1218127812981218AC12FF08107D8F0F>I<121FEA6180EA40C0EA806012C01200A213
C0EA0180EA030012065AEA10201220EA7FC012FF0B107F8F0F>I<121FEA2180EA60C0A2
12001380EA0100121FEA00801340136012C0A2EA8040EA6080EA1F000B107F8F0F>I<EA
0180A212031205120D121912111221124112C1EAFFE0EA0180A4EA0FE00B107F8F0F>I<
EA20C0EA3F80EA2E001220A3122FEA3080EA2040EA0060A312C0EA80C0EA6180EA1F000B
107F8F0F>I<EA0780EA1840EA30C0126013005A12CFEAF080EAE040EAC060A31240EA60
C0EA3080EA1F000B107F8F0F>I<1240EA7FF013E0EA8040A2EA0080EA01001202A21206
1204A2120CA50C117F900F>I<121FEA3180EA60C0A3EA3180EA3F00120EEA3380EA61C0
EAC060A31340EA60C0EA1F000B107F8F0F>I<121FEA3180EA60C0EAC0401360A3EA40E0
1221EA1E6012001340EA60C01380EA6300121E0B107F8F0F>I<13C0A2487E1360A2EA02
30A3487EA2487EEA0FFCEA080C487EA2EA300738FC1FC012117F9016>65
D<123E1263EA0180A2120F12311241EAC190A21263EA3DE00C0B7F8A0F>97
D<12F01230A5EA37C0EA3860EA30301318A51330EA3860EA27800D117F9011>I<121FEA
3180EA60C012C012FFEAC000A3EA6040EA3080EA1F000A0B7F8A0E>101
D<12F01230A5EA33C0EA3C601230A8EAFCF80D117F9011>104 D<1220127012201200A4
12F01230A912FC0612809108>I<121FEA3180EA60C0EAC060A5EA60C0EA3180EA1F000B
0B7F8A0F>111 D<12F7EA3980EA38001230A712FC090B7F8A0C>114
D<123D12031281A21278123E12031281A212C212BC080B7F8A0C>I<1208A212181238B4
FC1218A51380A4EA0F00090F808E0C>I<EAF8F0EA7060EA3040A2EA1880A2EA0D00A37E
A20C0B7F8A10>118 D E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: FL cmbx12 20.74 20
/FL 20 117 df<49B4FC010F13E0013F13F89038FF83FE4848C67ED803F8EB3F80000715
C04848EB1FE049130F001F15F0A2003F15F8A2491307007F15FCA500FF15FEB3007F15FC
A56C6CEB0FF8A3001F15F0A26C6CEB1FE0A26C6CEB3FC06C6CEB7F806C6CEBFF003900FF
83FE6DB45A011F13F0010190C7FC27397CB730>48 D<143C147CEB01FC1307133FB5FCA3
13CFEA000FB3B3A7007FB61280A4213879B730>I<EB07FC90387FFFC048B512F04814FC
3907E01FFE390F8007FF261E00031380486D13C0007E6D13E0D87F80137F6D14F012FF6D
EB3FF8A46C5A6C5A6CC7FCC8FC16F0157F16E0A2EDFFC016805C16004A5A4A5A5DEC0FE0
4A5A4A5A4AC7FC14FC495A5C49481378EB078049C7FC131E4914F05B5B4848130148B6FC
5A5A5A5A4815E0B7FCA425387BB730>I<EB03FF011F13F0017F13FC9038FC07FE3901F0
01FF2603C00013804848EB7FC0D80FE014E07F486C14F07FA46C5A6C4814E06C5AD80080
13FF90C713C016804A13005D4A5A4A5AEC1FF090380FFFC05D15F090380007FEEC00FFED
7FC016E0ED3FF016F8A2ED1FFCA216FEA2EA1F80487E487E487EA216FCA349EB3FF86C5A
49EB7FF0003EC713E0D81FC0EBFFC0260FF80313806CB61200000114FC6C6C13F0010790
C7FC27397CB730>I<ED0F80A2151F153F157F15FFA25C5C5CA25C141E143E5C14785C49
5A13035C495A495A5B133E133C5B5B12015B485A485A120F48C7FC121E5A5A12F8B81280
A4C70001EB8000AA0103B61280A429377DB630>I<000C15C0D80F80130701F8137F90B6
128016005D5D5D5D15C092C7FC14FCEB1F8090C9FCA8EB03FE90381FFFE0017F13F89038
FC07FC9038E001FE496C7E49EB7F8090C713C0000E15E0C8123F16F0A316F8A3121F487E
487E12FF7FA216F05B5B6CC7EA7FE0127C003C15C0003EECFF806C491300390FC003FE39
07F00FFC6CB55A6C14E06C6C1380D90FF8C7FC25397BB730>I<EC0FF8ECFFFE0103EBFF
8090390FF80FC090391FE003E090397F8001F09038FF0003484813074848EB0FF8151F48
5A120F5B001FEC0FF0ED07E0003FEC03C092C7FC5B127FA3EC7FF039FFE1FFFC01E37F90
39E7007F8001EEEB3FC001ECEB1FE001F814F0A249EB0FF8A216FCA24914FEA4127FA512
3FA216FC6C7E16F8120FED1FF06C7E6C6CEB3FE06C6CEB7FC03A00FF81FF8090397FFFFE
006D5B010F13F00101138027397CB730>I<123C123EEA3FE090B71280A41700485D5E5E
5EA2007CC7EA03E000784A5A4B5A93C7FC48141E153E5D5DC7485A5D14034A5A5D140F4A
C8FCA25C143E147E14FE5CA21301A21303A2495AA4130FA5131FA86D5AA2EB03C0293B7B
B930>I<49B47E010F13F0013F13FC90387E01FE3901F0003F4848EB1F8049EB0FC04848
EB07E0120FED03F0A2121FA27F7F7F6DEB07E013FE3A0FFF800FC014C09138F01F806C90
38FC3F006CEBFFFC5D6C14E06C14F86D7F011F13FF49148090B612C0D801F814E02607F0
3F13F048486C13F8381FC007D9800113FC003FEB007F48C7123FED0FFE00FE1407150315
011500A316FCA2127FED01F86C7EED03F0D81FE0EB07E06C6CEB0FC0D807FEEBFF806CB6
1200C614FC013F13F00103138027397CB730>I<EB03FF011F13E0017F13F89038FF01FC
3903FC00FF4848EB7F804848133F001FEC1FC016E0485A007F15F0150F16F812FFA216FC
A416FEA4127F151FA2123FA26C6C133F120F156F6C6C13EF3903FC01CFC6B5128F6D130F
D91FFC13FC90C7FCA316F8151FEA0780486C14F0487E486C14E0153F16C0157F4914806C
48EBFF0049485A000FEB07FC9038E01FF86CB512E000015C6C91C7FCEB1FF027397CB730
>I<DB1FFE14600203B500E013E0021FECF801027FECFE03903B01FFFC00FF07010701C0
EB1FCF4990C7EA07FFD91FFC1401D93FF0804948157F4948153F4849151F4890C9120F5A
48481607A248481603A2485A1801A2127FA24993C7FCA212FFAB127FA27FF001E0123FA3
6C7EF003C06C7EA26C6CEE07807E6C6DED0F006C6D5D6D6C153E6D6C5DD91FFC5D6DB4EC
03F06D01C0EB0FE0010101FCEB7F806D6CB6C7FC021F14FC020314E09126001FFEC8FC3B
3D7BBB46>67 D<B612F8A439007FF000B3B3AFB612F8A41D3B7DBA24>73
D<B8FC17F017FC17FF28007FF0000F13C0040113E09338007FF0EF3FF8EF1FFCA218FE17
0FA218FFA718FEA2171F18FC18F8173FEF7FF0933801FFE0040F138091B7120017F817C0
02F0C9FCB3A5B612F8A4383B7CBA42>80 D<B600E091B512F0A4C601F0C83801F8006101
7F5F6E1503013F5F6E1507011F5F80180F010F94C7FC6E5D6D161E6F143E6D163C816D5E
8118F86D5E6F1301027F5D6F1303023F5D811707021F5D6F130F020F92C8FC6F5B6E141E
16806E5C16C0177C6E1478EEE0F86E5C16F1037F5B16F916FB033F5B16FF6F5BA26F90C9
FCA26F5AA36F5AA26F5AA26F5A443B7EBA49>86 D<EB3FFE48B512E0000714F8390FE007
FC9038F001FE486C6C7E6F7E82153F6C48806C5A6C5AC8FCA491B5FC131F90387FF83F38
03FF803807FC00EA0FF0485A123F485AA2485AA4157F6C7E15DF3A3FE0039FF03B1FF80F
0FFFE03807FFFE0001497E39003FE0002B267DA52F>97 D<49B47E010F13F0017F13FC90
38FF81FE3A03FE007F80D807F8133F4848EB1FC0ED0FE0485A003F15F01507485A16F8A2
12FFA290B6FCA301C0C8FCA4127FA36C7E1678121F7F000F15F06C6C13016C6CEB03E06C
6CEB0FC03A00FFC07F8090393FFFFE00010F13F8010013C025267DA52C>101
D<13FE12FFA412071203B0EDFF80020313F0020F7F91381E03FC91383801FE02607F4A7E
01FF15805C91C7FCA35BB3A4B5D8F83F13FEA42F3C7CBB36>104
D<9038FE01FF00FF011F13F0027F13FC9138FC07FE9039FFF001FF00079039C0007F806C
90C7EA3FC04915E0EE1FF017F8160F17FCA2160717FEA917FC160FA317F8EE1FF0A26DEC
3FE06EEB7FC06EEBFF806E4813009039FEFC07FE91387FFFF8021F13E0DA03FEC7FC91C9
FCADB512F8A42F377DA536>112 D<3901FC03F000FFEB0FFC4AB4FC91383C3F80EC707F
00079038E0FFC000035BEBFD80A201FFEB7F809138003F00151E92C7FC5BB3A3B512FCA4
22267DA528>114 D<130FA55BA45BA25BA25B5A5A5A001FEBFFF0B6FCA3000190C7FCB3
153CA86C14781480017F13F090383FC1E090381FFFC06D1380903801FE001E377EB626>
116 D E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: FM cmr12 12 1
/FM 1 44 df<497EB0B612FEA23900018000B01F227D9C26>43 D
E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: FN cmbx12 17.28 64
/FN 64 123 df<EC3FF8903803FFFE90390FF80F8090393FC001C090397F0007E001FE13
0F00014A7E5B1203A26F5A6F5A0301C7FC92C8FCA5B712F0A33903FC001F150FB3A7267F
FFE1B51280A329327FB12D>12 D<121E123FEA7F80EAFFC0A213E0A2127FEA3F60121E12
00A313C0A3EA0180A2EA03001206A25A123812300B187AB116>39
D<B512F8A715077F921B>45 D<121E123FEA7F80EAFFC0A4EA7F80EA3F00121E0A0A7A89
16>I<EB0FF8EB7FFF3901FC1FC03903F007E048486C7E000F8048486C7EA2003F80EB80
00A2007F80A400FF1580B0007F1500A5003F5CEBC001001F5CA26C6C485A00075C6C6C48
5A3901FC1FC026007FFFC7FCEB0FF8212E7DAD28>48 D<EB01C01303130F137FEA1FFFB5
FC13BFEAE03F1200B3B1007FB512F0A31C2E7AAD28>I<EB3FE03801FFFE0007EBFF80D8
0F8013C0391E003FE00038EB1FF0007CEB0FF8007EEB07FCB4FC018013FEA21403A2EA7F
00003E1307C7FC15FCA2EC0FF8A215F0EC1FE015C0EC3F80EC7F00147E14F8495A495A49
5A49C7FC011E130E5B133849131E49131C485A48C7123C48B512FC5A5A5A4814F8B6FCA3
1F2E7CAD28>I<EB1FF890B5FC000314C03907E01FF0390F0007F8D81F807FEA3FC06E7E
A4EA1F80380F0007C75BA25D4A5A4A5AEC3F8002FFC7FCEB3FF8ECFF809038001FE06E7E
6E7E6E7E816E7EA21680A3121C123E127FEAFF801600A24A5AEA7F00007E495A003C5C39
1FC01FF06CB512C0000391C7FC38003FF8212E7DAD28>I<157015F0140114031407140F
A2141F143F147714F714E7EB01C7EB0387EB0707130F130E131C1338137013F013E0EA01
C0EA0380EA07005A120E5A5A5A5AB712E0A3C7380FF000A9010FB512E0A3232E7EAD28>
I<000C1430390FC007F090B512E015C0158015005C14F85C1480000EC8FCA8EB1FF0EBFF
FE390FE03F809038000FC0000EEB07E0000C14F0C713F8140315FCA215FEA21218123E12
7F5AA215FCA25A0078EB07F815F06CEB0FE06CEB1FC0390FC07F806CB51200000113FC38
003FE01F2E7CAD28>I<14FF010713E0011F7F90387F80F89038FE003CD801F8137C4848
13FE00071301EA0FE0A2EA1FC0003F6D5A157892C7FC485AA338FF83FC90388FFF809038
9C0FC09038B003F06E7E01E07F01C07F140081A2491480A4127FA4003F15007F121F5D00
0F495AEA07E06C6C485A3901FC0FE06CB55A013F90C7FCEB0FFC212E7DAD28>I<123812
3E003FB612C0A316804815005D5D5D0078C7123800705C5D00F0495A48495A4AC7FCA2C7
120E5C5C1478147014F0495AA213035C1307A2130FA2131F5CA2133FA4137FA86DC8FC13
1E22307CAF28>I<EB0FFC90387FFF8048B512E03903F00FF03907C003F84848C67E48C7
FC157E5AA37F7F01F05B01FC5B381FFE019038FF81F06CEBE3C06CEBFF806C49C7FC6C7F
6C14C0013F7F90B57ED803E37FD807C17F390F807FFE391F001FFF003E7F007E01031380
140048147F153F151FA316007E127E153E6C5CD81FC05B390FF007F00003B55AC61480D9
1FF8C7FC212E7DAD28>I<EB0FF8EB7FFF48B57E3903F80FC03907E007E048486C7E001F
6D7E003F80EA7F8081140000FF80A41680A4007F5BA2123F13C0001F5B000F1306EA07E0
3801F81C3800FFF8EB1FE090C71300A4000F495AEA1F80D83FC05BA24A5A5D49485A6C48
485A001E495A260F807FC7FC3807FFFE000113F838007FC0212E7DAD28>I<121E123FEA
7F80EAFFC0A4EA7F80EA3F00121EC7FCAC121E123FEA7F80EAFFC0A4EA7F80EA3F00121E
0A207A9F16>I<EB7FF03803FFFE390F807F80391C001FC048EB0FE0007C14F000FE14F8
7EA4007E14F0003C131FC713E0EC3FC0EC7F80ECFE0014F8495A495A5C495A91C7FC5B13
0EA990C8FCA7131E133F497E497EA46D5A6DC7FC131E1D327CB126>63
D<1578A215FCA34A7EA24A7EA24A7FA34A7FEC0E7F021E7FEC1C3FA202387F151F02787F
EC700FA202E07F1507010180ECC003A249486C7EA201078191C7FC498191B6FCA2498101
1CC7123F013C810138141FA24981160F01F081491407A2484881486C1403B549B512FCA3
36317DB03D>65 D<B712C016FC16FFD801FEC77FEE7FE0707E161F707EA2831607A4160F
A25FA24C5A4C5A4C5A4B485ADB1FFEC7FC90B65AEEFF8049C7EA3FE0EE0FF0EE07FCA270
7E83821880A718005E5F16074C5A4C5AEEFFF0B812C094C7FC16F831317DB039>I<913A
03FF800180023FEBF00349B5EAFC0701079038003F0FD91FF8EB079FD93FC0EB01FFD9FF
807F4848C8127F4848153F0007161F49150F485A001F1607A2485A1703127FA24992C7FC
A212FFA9127FA27FEF0380123FA26C7E1707000F17006C7E6D150E0003161E6C6C151C6C
6C6C1478D93FC05CD91FF8EB03E0D907FFEB3F800101D9FFFEC7FCD9003F13F802031380
31317CB03A>I<B712F016FF17C0C6D9800013F0EE0FF8EE03FE707E701380EF7FC0173F
EF1FE018F0170F18F8A2EF07FCA418FEAB18FCA4EF0FF8A218F0171F18E0173FEF7FC018
80933801FF004C5AEE0FFCEE7FF0B812C094C7FC16F037317EB03E>I<B812F0A3C69038
80003FEE07F816031600A21778A21738A3171C1507A31700A25D5D5D91B5FCA3EC803F81
8181A21707A392C7120EA4171EA2173CA2177C17FC16011607163FB812F8A330317EB035
>I<B812E0A3C6903880007FEE0FF016031601A21600A21770A31738A21507A21700A35D
5D5D91B5FCA3EC803F818181A592C8FCACB612C0A32D317EB033>I<DA03FF1303027FEB
F00749B5EAFC0F01079038007E1FD91FF0EB0FBFD97FC0EB03FF49487F4848C87E485A00
07824848815B001F82A2484881A2127FA24992C7FC12FFAA0307B512F8127F7FDB000113
00123FA26C7EA2120F7F6C7E12036C7E6C6C7E6D6C5BD91FF8497ED907FFEB3E3F010190
38FFFC1F6D6CEBF00F0203EB800335317CB03F>I<B6D8807FB512C0A3C60180C7387FC0
00B391B7FCA30280C7127FB3A3B6D8807FB512C0A33A317EB03F>I<B61280A3C6EB8000
B3B3A7B61280A319317EB01E>I<B67EA3000190C9FCB3A9EE0380A416071700A25EA35E
5E5E5E4B5A150FB7FCA329317DB030>76 D<B500C00303B5FCA26E5DC61900D9EFF0150E
A3D9E7F85DA2D9E3FC5DA2D9E1FE5DA2D9E0FF5DA26E6C495AA26E6C495AA36E6C495AA2
6E6C130EA26E6C5BA26E6C5BA26E6C5BA26E6C5BA392387F81C0A292383FC380A2DB1FE7
C7FCA2ED0FFEA26F5AA36F5A487EB526E001F090B6FCA26F5A48317EB04D>I<B56C49B5
12C08080C66D90390003E0006E6E5AEBEFFC13E780EBE3FF01E17F01E07F6E7E143F816E
7E6E7E6E7E14036E7E16806E13C0ED7FE0ED3FF0151F16F8ED0FFCED07FEED03FF6F1381
8117C1EE7FE1EE3FF1EE1FF9EE0FFD160717FF828282177F173FA2171F170F486C1507B5
00E014031701A23A317EB03F>I<EC0FFF91B512F0903907FC03FE903A1FE0007F80D93F
80EB1FC049C76C7ED801FEEC07F848486E7E48486E7EA248486E7E001F178049157F003F
17C0A34848ED3FE0A300FF17F0AB007F17E06D157FA3003F17C0A26C6CEDFF80A26C6C4A
130000075E6D140300035E6C6C4A5A6C6C4A5AD93FC0EB3FC06D6C495A902707FC03FEC7
FC0100B512F0020F90C8FC34317CB03D>I<B712E016FEEEFF80C6D9800013E0EE3FF0EE
0FF8EE07FCA2EE03FEA217FFA717FEA2EE07FC17F8160FEE3FE0EEFFC091B6120016F802
80C8FCB3A2B67EA330317EB037>I<EC0FFF91B512F0903907FC03FE903A1FE0007F8049
486D7E49C7EA0FE0D801FEEC07F848486E7E000782491401000F8248486E1380A24848ED
7FC0A3007F17E049153FA200FF17F0AB007F17E0A26D157FA2003F17C0A26C6CEDFF80A2
000FD901F814003B07F807FC01FE9039FC0E06030003D90C035B3B01FE180187F8D800FF
ECCFF0903A3FD800FFC06D6C5C902707FE03FEC7FC0100B512F0020F0178133091C7FC16
7C70137093383F81F017FF18E082A218C0821880701300705AEE00F8343F7CB03D>I<B7
7E16F816FEC690398003FF809238007FE0EE1FF0707EA283160783A65F160F5F4C5A4C5A
4C5ADB03FFC8FC91B512F816E091388007F8ED01FC6F7E167F83707EA283A583A4F00380
17F8161F1900706C5AB6398003FE0E933801FFFC9338001FF039317EB03C>I<90391FF8
018090B51203000314C73907F007EF390F8000FF48C7127F003E141F150F5A150712FCA2
15037EA26C91C7FC13C0EA7FF0EBFF806C13F8ECFF806C14F06C806C806C14FFC6FC013F
1480010114C0D9001F13E01401EC003FED1FF0150F1507126000E01403A316E07EA26CEC
07C07EB4EC0F8001C0EB1F00D8FBFC13FE00F1B512F8D8E03F5BD8C003138024317CB02D
>I<007FB8FCA39039C00FF801D87E00EC003F007C82007882A200708200F01780A34816
03A5C792C7FCB3AA017FB6FCA331307DAF38>I<B6D88003B51280A3C60180C73807C000
715AB3AE137F4DC7FC80013F150EA26D6C5C6D6C5C6D6C5C6D6C495A903A00FF801FC002
3FB55A020F49C8FC020013E039317EB03E>I<B5D8FC03B539F003FFFCA3D803FEC7D80F
F8C7EA0F80F207006D6F5C6C0307150EA26C6D6E5CA26E80017F4A5DA26E496D1378013F
021C1570A26E013C6D13F0011FDA387F5CA26D6C496C6C485AA26EEDF0030107DAE01F5C
A2DAFE01ECF8070103DAC00F91C7FCA2902601FF03ECFC0EEE800715836D903A870003FE
1CA203CFECFF3CDA7FCE6D1338A203FE15F86E486D5BA26E486E5AA36E486E5AA36E486E
5AA36E486EC8FCA24E317EB053>87 D<007FB590387FFFF8A3C601E0903801F000017F5D
6D6C5C6D6C13036E495A010F4AC7FC6D6C130E6E131E6D5C6D6D5A6DEBC070EDE0F09138
7FE1E091383FF3C0EDFB80EC1FFF6E90C8FC6E5A81806E7F82804A7F4A7F913807BFF815
1F4A6C7E021E7FEC3C0791383803FFDA78017F02F08049487E4A6D7E0103814948133F91
C76C7E010E6E7E011E8149140701386E7E01FC1680B500E0017F13FFA338317EB03D>I<
B500FE91387FFFC0A3000101C0913801E0006C4C5A6D6C5D6E14076D6C4AC7FC011F150E
6E141E6D6C141C01075D6E14786D6D13706D15F06D6D485A03E05B027F13036E6C485A03
F890C8FC021F5B91380FFC1EEDFE1C0207133C6E6C5A5E806E5B5E157FB1027FB57EA33A
317FB03D>I<003FB7FCA39039FC0007FE01E014FC0180130F90C7EA1FF8003E15F0003C
143F007CEC7FE0007815C015FF4A1380007015005C4A5A5DC7120F4A5A5D143F4A5A5D4A
5A5B92C7FC495A1307495A4A1307131F495A5C137F4948130F5C5A4890C7FC49141F0007
151E4848143E5B001F157E4848EB01FE491303007F143FB7FCA328317CB031>I<EBFFF0
000313FF390F803F809038C00FE0486C6C7EA26E7ED80FC07FEA0780C7FCA414FF131FEB
FFE33803FC03EA0FF0EA1FC0123FEA7F80A2EAFF00A31407A2387F800D393FC01DFE3A1F
E078FFF03907FFE07FC6EB803F24207E9F27>97 D<EA01F812FFA3120F1207ADEC3FE0EC
FFFC9038FBE07F9039FF001F8049EB0FC04914E049EB07F016F8A2ED03FCA316FEA816FC
A3ED07F8A216F06DEB0FE06D14C001E7EB3F809039C3C0FE00903880FFF89038003FC027
327EB12D>I<EB0FFF017F13C03901FC01F03803F0033907E007F8120FEA1FC0003FEB03
F0EC01E04848C7FCA312FFA8127FA36C6C131CA2001F14386C7E000714703903F001E039
01FC07C039007FFF00EB0FF81E207D9F24>I<ED0FC0EC07FFA3EC007F153FADEB07F8EB
3FFF9038FE07BF3903F801FF3907E0007F120F4848133F123FA2485AA312FFA8127FA36C
7EA2121F6C6C137F000714FF2603F00313E03A01FC0F3FFE38007FFEEB0FF027327DB12D
>I<EB0FFC90387FFF803901FC0FC03903F003E03907E001F0000F14F8391FC000FC003F
14FEA24848137E157FA212FFA290B6FCA20180C7FCA4127FA36C6C1307121F150E6C7E6C
6C131C6C6C13783900FE03E090383FFFC0903807FE0020207E9F25>I<EB01FE90380FFF
8090381FC3C090387F07E09038FE0FF0120113FC1203EC07E0EC018091C7FCA8B512FCA3
D803FCC7FCB3A8387FFFF0A31C327EB119>I<90391FF007C09039FFFE3FE03A01F83F79
F03907E00FC3000F14E19039C007E0E0001FECF000A2003F80A5001F5CA2000F5CEBE00F
00075C2603F83FC7FC3806FFFE380E1FF090C9FC121EA2121F7F90B57E6C14F015FC6C80
6C801680000F15C0003FC7127F007EEC1FE0007C140F00FC1407A4007EEC0FC0003E1580
003F141FD80FC0EB7E003907F803FC0001B512F0D8001F90C7FC242F7E9F28>I<EA01F8
12FFA3120F1207ADEC07F8EC3FFEEC783F02C013809039F9801FC0EBFB0001FE14E05BA3
5BB3B500C3B5FCA328327DB12D>I<EA03C0487E487E487EA46C5A6C5A6C5AC8FCA9EA01
F8127FA31207B3A7B51280A311337DB217>I<EB01E0EB03F0EB07F8EB0FFCA4EB07F8EB
03F0EB01E090C7FCA9EB01FC137FA313071303B3AD1218123C007E13F812FFEB07F0A200
7E13E0383C0F80381FFF00EA07F8164184B219>I<EA01F812FFA3120F1207ADEDFFF8A3
ED3F00153C5D5DEC03C04A5A4AC7FC141E147814FCEBF9FE13FB90B5FC496C7E01FC7FEB
F83F496C7E6E7E816E7E14036E7E6E7E1680157F16C0B53881FFFEA327327EB12B>I<EA
01F812FFA3120F1207B3B3A6B512C0A312327DB117>I<2703F007F8EB1FE000FFD93FFE
EBFFF8913A783F01E0FC02C090388300FE280FF1801FC6137F2607F30013CC01F602F814
8001FC5CA3495CB3B500C3B5380FFFFCA33E207D9F43>I<3903F007F800FFEB3FFEEC78
3F02C013803A0FF1801FC03807F30001F614E013FCA35BB3B500C3B5FCA328207D9F2D>
I<EB07FC90387FFFC03901FC07F03903F001F848486C7E4848137E001F147F003F158049
133F007F15C0A300FF15E0A8007F15C0A36C6CEB7F80A2001F15006C6C13FE00075C3903
F803F83901FE0FF039007FFFC0D907FCC7FC23207E9F28>I<3901F83FE000FFEBFFFC90
38FBE07F9039FF003F80D80FFEEB1FC06C48EB0FE04914F0ED07F8A216FC1503A216FEA8
16FC1507A216F8A2ED0FF06D14E06DEB1FC06DEB3F809039FBC0FE009038F8FFF8EC3FC0
91C8FCABB512C0A3272E7E9F2D>I<3803F03F00FFEB7FC09038F1C3E01487390FF30FF0
EA07F6A29038FC07E0EC03C091C7FCA25BB2B512E0A31C207E9F21>114
D<3801FF86000713FEEA1F00003C133E48131E140E12F8A36C90C7FCB47E13FC387FFFC0
6C13F0806C7F00077F00017FEA003F01001380143F0060131F00E0130FA27E15007E6C13
1E6C131C38FF807838F3FFF038C07F8019207D9F20>I<131CA5133CA3137CA213FC1201
12031207381FFFFEB5FCA2D803FCC7FCB0EC0380A71201EC0700EA00FEEB7F0EEB3FFCEB
07F0192E7FAD1F>I<D801F8EB07E000FFEB03FFA3000FEB003F0007141FB3153FA20003
147FA26C6CEBDFF03A00FE039FFF90387FFF1FEB0FFC28207D9F2D>I<B5EB1FFCA3D80F
F8EB03C0000715806D1307000315007F0001140E7F6C5CA2EC803C017F1338ECC078013F
1370ECE0F0011F5B14F1010F5B14F9903807FB80A214FF6D90C7FCA26D5AA26D5AA21478
A226207E9F2B>I<B53A1FFFE03FF8A33C0FF000FE0007806D150300076EEB0700816D5D
00039138FF800EA26C6C486D5A15DF01FF153C6C9039038FE038A2D97F876D5A150702C7
14F0D93FCF6D5AECCE03D91FFEEBF9C09138FC01FD16FF010F5D4A7EA26D486DC7FCA201
03147E4A133EA26D48131C35207E9F3A>I<3A7FFF807FFCA33A03FC000F006C6C131E6C
6C5BEC803890387FC078013F5B90381FE1E090380FF3C0ECFF806D90C7FC6D5A13016D7E
81815B903803DFE09038078FF08190380F07FC90381E03FEEB3C01496C7E4914804848EB
7FC00003EC3FE026FFFC01B5FCA328207F9F2B>I<B5EB1FFCA3D80FF8EB03C000071580
6D1307000315007F0001140E7F6C5CA2EC803C017F1338ECC078013F1370ECE0F0011F5B
14F1010F5B14F9903807FB80A214FF6D90C7FCA26D5AA26D5AA21478A21470A214F05C13
01007C5BEAFE035C49C8FC5BEAFC1EEA787CEA3FF0EA0FC0262E7E9F2B>I<003FB512F8
A29038800FF0393E001FE0003C133F003814C00078EB7F8014FFD8700113005C1303495A
00005B130F495A5C495A137F9038FF801C14005A485A5B0007143C485A49133848481378
003F14F8EBC001387F8007B6FCA21E207E9F24>I E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: FO cmtt10 10 91
/FO 91 127 df<126012F0AF12601200A4126012F0A212600419779816>33
D<EAE038EAF078A7EAE038A2EA60300D0B7C9816>I<EA0387A6B512E0A27E38070E00A3
EA0E1CA4387FFFE0B5FCA2381C3800A613197F9816>I<13C01201A3EA07F0EA1FFC487E
EA7DCF3871C780EAE1C313C7A238F1C300EA79C0123FEA1FF0EA07FCEA01FE13CF13C738
61C38012F1A212E13871C700EA79DFEA3FFEEA1FF8EA07E0EA01C0A2120011207E9C16>
I<38380180EA7C03A238EE0700A2130EA35B127C5B1238C65AA35BA2485AA3485AEB8380
380707C0A2380E0EE0A3121CA2383807C0A23818038013207F9C16>I<EA0380EA07E012
0FEA1E70121CA3EBF7E013E7EA1DC7000F1300138E130E121F485AEA7B9C1273EAE1F8A2
38E0F0E0A2EA71F8387FFFC0EA3F9F381E070013197F9816>I<12301278127C123C121C
A41238127812F012E01240060D789816>I<13E01201EA0380EA0700120E5AA25AA25AA3
5AA91270A37EA27EA27E7EEA0380EA01E012000B217A9C16>I<12C07E12707E7E7EA27E
A2EA0380A3EA01C0A9EA0380A3EA0700A2120EA25A5A5A5A5A0A217B9C16>I<EA0380A4
EAE38EEAF39EEAFFFEEA3FF8EA0FE0A2EA3FF8EAFFFEEAF39EEAE38EEA0380A40F127D95
16>I<13E0A8B512E0A33800E000A813137F9516>I<1238127C127EA2123E120E121E121C
127812F01260070B798416>I<B51280A311037E8D16>I<127012F8A312700505788416>
I<EB01801303A2EB0700A2130EA25BA25BA25BA25BA2485AA2485AA248C7FCA2120EA25A
A25AA25AA25AA25A11207E9C16>I<EA03E0EA0FF8487EEA1E3CEA380EEA780FEA7007A2
38E00380A8EAF00700701300A2EA780FEA3C1E6C5AEA1FFC6C5AEA03E011197E9816>I<
12035AA25A5AB4FCA212E71207AEEAFFF8A30D197B9816>I<EA07E0EA1FF8487EEA783E
EAE00700F01380130312601200A2EB0700A2130E5B5B5B5B485A485A000FC7FC381E0380
1238EA7FFFB5FC7E11197E9816>I<EA07E0EA1FF8487EEA781E130712301200A2130E13
3EEA07FC13F013FCEA001E13077F1480A2126012F038E00700EA781EEA3FFC6C5AEA07E0
11197E9816>I<137C13FC13DC1201EA039CA2EA071C120F120E121E123C1238127812F0
B512E0A338001C00A53801FFC0A313197F9816>I<EA3FFE127FA20070C7FCA7EA77F0EA
7FFC7FEA780FEA300738000380A2126012F0A238E00700EA781EEA3FFC6C5AEA07E01119
7E9816>I<13F8EA03FC487EEA0F07EA1C0F1238EA78060070C7FCA2EAE3F8EAEFFCB47E
EAF80F487E38E00380A31270A2130700381300EA3C1EEA1FFC6C5AEA03E011197E9816>
I<12E0B51280A338E00F00131EEA001C5B137813705BA2485AA3485AA448C7FCA7111A7E
9916>I<EA07F0EA1FFC487EEA7C1F38F00780EAE003A338700700EA7C1FEA1FFCEA07F0
EA1FFCEA3C1EEA700700F01380EAE003A3EAF00700701300EA7C1FEA3FFE6C5AEA07F011
197E9816>I<EA03E0EA0FF8487EEA3C1EEA700E7F12E014801303A3EA7007EA780FEA3F
FFEA1FFBEA0FE338000700A21230EA780E5BEA707CEA3FF8EA1FE0EA0F8011197E9816>
I<127012F8A312701200A8127012F8A312700512789116>I<1238127CA312381200A812
381278127CA2123C121CA21238127012F012400618799116>I<EB01801307131FEB3E00
13F8485AEA07C0485A003EC7FC12FC12F012FC123EEA0F806C7EEA01F06C7E133EEB1F80
1307130111157E9616>I<B512E0A27EC8FCA5387FFFE0B5FCA2130B7F9116>I<12C012F0
12FC123EEA0F806C7EEA01F06C7E133EEB1F801307131FEB3E0013F8485AEA07C0485A00
3EC7FC12FC12F012C011157E9616>I<EA0FF0EA3FFE487E38F00F801303A2EA60073800
1F00133E13785BEA01C0A55BC8FCA4487E487EA26C5A11197E9816>I<13F8EA03FC487E
EA0F07381C3B80EA38FF12793873C7C01383EAE701A73873838013C73879FF00EA38FEEA
1C38380F03C0EA07FF6C1300EA00FC12197E9816>I<13E0487EA213B0A2EA03B8A31318
EA071CA5EA0E0EA2EA0FFEA2487EEA1C07A3387E0FC038FF1FE0387E0FC013197F9816>
I<EA7FF8EAFFFE6C7EEA1C0714801303A4EB0700EA1FFF5BA2EA1C1FEB038014C01301A4
1303EB0780EA7FFFB51200EA7FFC12197F9816>I<3801F180EA07FBEA0FFFEA1F0FEA3C
07EA38031270A200F0C7FC5AA77E38700380A21238383C0700EA1F0FEA0FFE6C5AEA01F0
11197E9816>I<EA7FF8EAFFFE6C7EEA1C0FEB0780EB03C01301A214E01300A8EB01C0A2
1303EB0780130F387FFF00485AEA7FF81319809816>I<387FFFC0B5FC7EEA1C01A490C7
FCA2131CA2EA1FFCA3EA1C1CA290C7FC14E0A5EA7FFFB5FC7E13197F9816>I<387FFFE0
B5FC7EEA1C00A41400A2131CA2EA1FFCA3EA1C1CA290C7FCA6EA7F80487E6C5A13197F98
16>I<387F07F038FF8FF8387F07F0381C01C0A7EA1FFFA3EA1C01A9387F07F038FF8FF8
387F07F01519809816>72 D<EA7FFCEAFFFEEA7FFCEA0380B3EA7FFCEAFFFEEA7FFC0F19
7D9816>I<48B4FC4813806C1300EA001CB0126012F05BEA7FF85BEA1FC011197E9816>I<
B47E7F5B001CC7FCAE144014E0A4B5FCA313197F9816>76 D<38FC07E0EAFE0FA2383A0B
80EA3B1BA513BBEA39B3A413F3EA38E3A21303A538FE0FE0A313197F9816>I<387E07F0
38FF0FF8387F07F0381D81C0A313C1121C13E1A213611371A313311339A21319131D130D
A3EA7F07EAFF87EA7F031519809816>I<EA1FFC487E487EEA780F38F00780EAE003AEEA
F007A238780F00EA7FFF6C5A6C5A11197E9816>I<EA7FF8EAFFFE6C7E381C0F80130314
C01301A313031480130F381FFF005B13F8001CC7FCA7127F487E6CC7FC12197F9816>I<
EA1FFC487E487EEA780F38F00780EAE003AD13E312E1EAF0F738787F00EA7FFF6C5A6C5A
EA001C131E130E130F7FA2111F7E9816>I<EA7FF0EAFFFC6C7EEA1C0FEB07801303A413
07EB0F00EA1FFE5B7FEA1C0E7FA414101438A2387F03F0EAFF83387F01E01519809816>
I<EA07E3EA1FFF5AEA781FEAF00712E0A290C7FC7E1278EA3F80EA1FF0EA07FCC67E130F
7FEB0380A2126012E0EB0700EAF80FEAFFFE5BEAC7F011197E9816>I<387FFFE0B5FCA2
EAE0E0A400001300AFEA07FC487E6C5A13197F9816>I<387F07F038FF8FF8387F07F038
1C01C0B0380E0380A23807070013FF6C5AEA00F81519809816>I<38FE0FE0A338380380
EA3C07001C1300A3EA1E0FEA0E0EA46C5AA4EA031813B8A3EA01B013F0A26C5A13197F98
16>I<387E03F038FF07F8387E03F0383800E0A4381C01C0A3137113F9A213D9A2000C13
80A3EA0DDD138DA338078F00A213071519809816>I<387F1F80EB3FC0EB1F80380E1E00
131C12075BEA03B813F012015B120012017F120313B81207131C120FEA0E0EA2487E387E
0FC038FF1FE0387E0FC013197F9816>I<38FE0FE0EAFF1FEAFE0F381C0700A2EA0E0EA2
6C5AA3EA03B8A2EA01F0A26C5AA8EA03F8487E6C5A13197F9816>I<EAFFF0A3EAE000B3
A8EAFFF0A30C20789C16>91 D<12C07EA21270A27EA27EA27EA27EA26C7EA26C7EA26C7E
A21370A27FA27FA27FA27FA2EB0380A2130111207E9C16>I<EAFFF0A3EA0070B3A8EAFF
F0A30C207F9C16>I<1203EA0F80EA3FE0EAFDF8EAF078EA40100D067C9816>I<B51280A3
11037E7E16>I<1208121C123C1278127012E0A412F012F812781230060D789B16>I<EA1F
E0487E487EEA783CEA300E1200A2EA03FE121FEA3E0E127012E0A3EA783E387FFFE0EA3F
E7EA0F8313127E9116>I<12FCA3121CA4137CEA1DFEEA1FFFEB0780381E03C0EA1C01EB
00E0A6EB01C0EA1E03381F0780EBFF00EA1DFEEA0C7813197F9816>I<EA03F8EA0FFCEA
1FFEEA3C1EEA780CEA70005AA57EEA70071278EA3E0EEA1FFCEA0FF8EA03F010127D9116
>I<133FA31307A4EA03C7EA0FF748B4FCEA3C1F487EEA700712E0A6EA700F12786C5A38
1FFFE0EA0FF7EA07C713197F9816>I<EA03F0EA0FFC487EEA3C0F487E3870038012E0B5
FCA300E0C7FCA2387003801278EA3E07381FFF00EA07FEEA01F811127E9116>I<131E13
7F3801FF8013C7380383001380A2EA7FFFB5FCA2EA0380ACEA7FFC487E6C5A11197F9816
>I<3803E3C03807F7E0EA0FFF381C1CC038380E00A56C5AEA0FF8485AEA1BE00038C7FC
1218EA1FFC13FF481380387003C038E000E0A4387001C0EA7C07383FFF80380FFE00EA03
F8131C7F9116>I<12FCA3121CA41378EA1DFCEA1FFE130FEA1E07121CAA38FF8FE0139F
138F13197F9816>I<1203EA0780A2EA0300C7FCA4EAFF80A31203ACEAFFFC13FE13FC0F
1A7C9916>I<13301378A213301300A4EA0FF8121F120FEA0038B3EA6070EAF0F0EAFFE0
EA7FC0EA3F800D237E9916>I<127E12FE127E120EA4EB7FE0A3EB0F00131E5B5B5B120F
7F13BC131EEA0E0E7F1480387F87F0EAFFCFEA7F871419809816>I<EA7FC012FF127F12
01B3EA7FFFB512806C130011197E9816>I<38F9C38038FFEFC0EBFFE0EA3C78A2EA3870
AA38FE7CF8A31512809116>I<EAFC78EAFDFCB47EEA1F0FEA1E07121CAA38FF8FE0139F
138F13127F9116>I<EA03E0EA0FF8487EEA3C1E487EEA700738E00380A5EAF007007013
00EA780FEA3C1EEA1FFC6C5AEA03E011127E9116>I<EAFC7CEAFDFEB5FC381F0780381E
03C0EA1C01EB00E0A6EB01C0EA1E03381F0780EBFF00EA1DFEEA1C7890C7FCA6B47EA313
1B7F9116>I<3803E380EA0FF3EA1FFBEA3E0FEA78071270EAE003A6EA70071278EA3C1F
EA1FFBEA0FF3EA03E3EA0003A6EB1FF0EB3FF8EB1FF0151B7F9116>I<387F0FC038FF3F
E0EA7F7F3807F040EBC0005BA290C7FCA8EA7FFC12FF127F13127F9116>I<EA0FECEA3F
FC127FEAF03CEAE01CA2EA7000EA7F80EA1FF0EA07F8EA003CEA600E12E012F0EAF81EEA
FFFC13F8EAC7E00F127D9116>I<12035AA4EA7FFFB5FCA20007C7FCA75BEB0380A3EB87
00EA03FE6C5A6C5A11177F9616>I<EAFC3FA3EA1C07AB131F381FFFE0EA0FF7EA07C713
127F9116>I<387F1FC038FF9FE0387F1FC0381C0700A2EA0E0EA36C5AA4EA03B8A3EA01
F0A26C5A13127F9116>I<38FF1FE0A338380380A4EA39F3A20019130013B3A3EA1DB713
17EA1F1FEA0F1EEA0E0E13127F9116>I<387F1FC0133F131F380F1E006C5AEA03B813F0
12016C5A12017FEA03B8EA073C131CEA0E0E387F1FC038FF3FE0387F1FC013127F9116>
I<387F1FC038FF9FE0387F1FC0381C0700120E130EA212075BA2EA039CA21398EA01B8A2
EA00F0A35BA3485A1279127BEA7F8090C7FC123C131B7F9116>I<383FFFC05AA2387007
80EB0F00131EC65A5B485A485AEA078048C7FC381E01C0123C1278B5FCA312127F9116>
I<EB1F80137F13FF3801E0005BA91203EA7F8048C7FCA26C7EEA03C01201A97F3800FF80
137F131F11207E9C16>I<12E0B3AE0320779C16>I<127CB4FC7FEA03C01201A97F6CB4FC
EB7F80A2EBFF00EA01E05BA91203B45A90C7FC127C11207E9C16>I<EA1C30EA3F78EAFF
F8EAF7E0EA61C00D057C9816>I E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: FP cmcsc10 10 24
/FP 24 121 df<EAFFF0A20C027F8910>45 D<B512C0380F0078141C80801580A5150014
0E5C1478EBFFC090C8FCACEAFFF0191C7D9B1F>80 D<3803F040380C0CC0EA1002EA3001
EA600012E01440A36C13007E127EEA7FE0EA3FFC6CB4FC00071380EA007FEB07C0EB03E0
130113007EA36C13C0A238E0018038D00300EACE06EA81F8131E7D9C19>83
D<13201370A313B8A3EA011CA2EA031EEA020EA2487EEA07FFEA040738080380A2001813
C01301123838FC07F815157F9419>97 D<EAFFFCEA1C07EB038014C0A414801307381FFF
00A2381C038014C0EB01E0A414C01303EB078038FFFE0013157F9418>I<EBFC20380782
60380E01E0EA1C0048136000781320127012F01400A5142012701278003813407E6C1380
38078300EA00FC13157E9419>I<EAFFFCEA1C07EB01C0EB00E0A21470A21478A71470A2
14E0A2EB01C0EB0700EAFFFC15157F941A>I<B51280EA1C031300A21440A213081400A2
1318EA1FF8EA1C1813081420A213001460144014C01301B5FC13157F9417>I<B51280EA
1C031300A21440A213081400A21318EA1FF8EA1C181308A390C7FCA5EAFFC012157F9416
>I<EBFC2038078260380E01E0EA1C0048136000781320127012F01400A3EB0FF8EB00E0
A21270127812387E7E380783603800FC2015157E941B>I<38FF8FF8381C01C0A9EA1FFF
EA1C01A938FF8FF815157F9419>I<EAFF80EA1C00B3EAFF8009157F940D>I<EAFFC0001C
C7FCAC1480A3130114005B5BB5FC11157F9415>108 D<00FEEB0FE0001E140000171317
A338138027A23811C047A33810E087A2EB7107A3133AA2131CA2123839FE083FE01B157F
941F>I<38FC03F8381E00E014401217EA138013C01211EA10E01370A21338131CA2130E
130714C0130313011300123800FE134015157F9419>I<EA01F8EA070EEA0C03001C1380
383801C0007813E0EA700000F013F0A7007013E0EA7801003813C0381C0380EA1E073807
0E00EA01F814157E941A>I<EAFFFCEA1C0FEB038014C0A51480EB0F00EA1FFC001CC7FC
A9B47E12157F9417>I<EAFFF8EA1C0EEB0780130314C0A314801307EB0E00EA1FF8EA1C
1C7F7FA31480148414C4EB03CC38FF80F816157F9419>114 D<EA1F10EA30F0EA603012
C01310A2EAE000A2127EEA3FC0EA1FE0EA03F0EA0078133813181280A21310EAC030EAF0
60EA8F800D157E9413>I<387FFFF03860703000401310A200801308A300001300ADEA07
FF15157F9419>I<38FF83F8381C00E01440AE000C13C0000E138038060100EA0386EA00
FC15157F9419>I<38FF01F8383C0070001C13601440A26C1380A238070100A3EA0382A2
EA01C4A3EA00E8A21370A3132015157F9419>I<39FF07F87E393C01E03C0038EBC01839
1C02E010A3390E047020A33907083840A33903901C80A33901E00F00A33800C006A31F15
7F9423>I<38FF07F0381E03C0000E1300EA0F02EA0706EA038413C8EA01D0EA00F0A213
70137813BCEA011C487EEA020F487E380C0380000813C0003C13E038FE07F815157F9419
>I E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: FQ cmmi10 10 72
/FQ 72 123 df<13F8EA030C380E0604EA1C07383803080030138800701390A200E013A0
A214C01480A3EA6007EB0B8838307190380F80E016127E911B>11
D<EB03C0EB0C30EB10181320EB401CA213801418380100381430147038021F60EB21C0EB
1E6013004813701430A214705AA31460001813E0EB01C0148038140300EA220EEA21F000
20C7FCA25AA45AA216257F9C17>I<1338137FEB87803801030090C7FC7FA27F12007FA2
137013F8EA03B8EA063CEA0C1C121812381270A212E0A413181338EA6030EA70606C5AEA
0F80111E7F9D12>14 D<EA01F8EA0700120C5A123812301270EA7FC0EAE000A51260A27E
EA1860EA0F800D127E9111>I<EA0780EA01C07F1200A27F1370A213781338A2133C131C
A2131E130E131E133F136713C738018780EA03031206000E13C0EA1C011238007013E0EA
E0004813F0141D7E9C18>21 D<3801803000031370A3380700E0A4380E01C0A4381C0388
A3EA1E07383E1990383BE0E00038C7FCA25AA45AA25A151B7F9119>I<1310A3EB1F8013
F03801CF00EA038048C7FC120EA6EA06FCEA0384EA06FC0008C7FC12185A12201260A212
E0A31270127CEA3F80EA1FE0EA03F8C67E131E130E130CEA0108EA00F01125809C12>24
D<380FFFF85A5A386084001241EA81041201EA030CA212021206A2120E120CEA1C0EA212
38EA180615127E9118>I<131EEB7180EBC0C0EA01801203EB00E05AA2380E01C0A31480
EA1C0314001306EA1E0CEA3A18EA39E00038C7FCA25AA45AA25A131B7F9115>I<3801FF
F85A120F381E1E00EA180EEA38061270A2EAE00EA3130C131C13185BEA60606C5A001FC7
FC15127E9118>I<380FFFE05A5A3860C0001240485A12001201A348C7FCA35AA3120E12
0613127E9112>I<13FCEA03FEEA0E07EA180012105AA2EA10C0EA1720EA1FE0EA20005A
A25AA21304EA4008EA6030EA3FE0EA0F8010147F9213>34 D<124012F07E12CEEAC780EA
C1E0EAC078131C1307EB03C0A2EB0700131C1378EAC1E0EAC78000CEC7FC12F85A124012
147F9315>46 D<126012F0A2126004047C830C>58 D<126012F0A212701210A41220A212
401280040C7C830C>I<EC01801407EC1E001478EB01E0EB0780010EC7FC133813F0EA03
C0000FC8FC123C12F0A2123C120FEA03C0EA00F01338130E6D7EEB01E0EB0078141EEC07
801401191A7D9620>I<130113031306A3130CA31318A31330A31360A213C0A3EA0180A3
EA0300A31206A25AA35AA35AA35AA35AA210297E9E15>I<12C012F0123C120FEA03C0EA
00F01338130E6D7EEB01E0EB0078141EEC0780A2EC1E001478EB01E0EB0780010EC7FC13
3813F0EA03C0000FC8FC123C12F012C0191A7D9620>I<1320A6137000C01318387C71F0
380FFF803803FE00EA00F8A2EA01DC138CEA0306EA0202EA0603380C0180EA0800151480
9315>I<140CA2141CA2143C145CA2149E148EEB010E1302A21304A213081310A2497EEB
3FFFEB40071380A2EA0100A212025AA2001C148039FF803FF01C1D7F9C1F>65
D<48B5FC39003C01C090383800E015F01570A25B15F0A2EC01E09038E003C0EC0780EC1F
00EBFFFC3801C00FEC0780EC03C0A2EA0380A439070007801500140E5C000E1378B512C0
1C1C7E9B1F>I<903801F80890380E0618903838013890386000F048481370485A48C712
30481420120E5A123C15005AA35AA45CA300701302A200305B00385B6C5B6C1360380701
80D800FEC7FC1D1E7E9C1E>I<48B5128039003C01E090383800701538153C151C5B151E
A35BA44848133CA3153848481378157015F015E039070001C0EC0380EC0700141C000E13
78B512C01F1C7E9B22>I<48B512F839003C0078013813181510A35BA214081500495AA2
1430EBFFF03801C020A4390380404014001580A23907000100A25C1406000E133EB512FC
1D1C7E9B1F>I<48B512F038003C00013813301520A35BA214081500495AA21430EBFFF0
3801C020A448485A91C7FCA348C8FCA45AEAFFF01C1C7E9B1B>I<903801F80890380E06
18903838013890386000F048481370485A48C71230481420120E5A123C15005AA35AA2EC
7FF0EC07801500A31270140E123012386C131E6C136438070184D800FEC7FC1D1E7E9C21
>I<3A01FFC3FF803A003C00780001381370A4495BA449485AA390B5FC3901C00380A448
4848C7FCA43807000EA448131E39FFE1FFC0211C7E9B23>I<3801FFC038003C001338A4
5BA45BA4485AA4485AA448C7FCA45AEAFFE0121C7E9B12>I<EB1FFCEB01E014C0A4EB03
80A4EB0700A4130EA45BA31220EA703812F0EAE030EA8070EA40E0EA6180001FC7FC161D
7D9B17>I<3A01FFC07F803A003C001E000138131815205D5DD97002C7FC5C5C5CEBE040
14C0EBE1E013E23801C47013D0EBE03813C0EA038080A280EA0700A280A2488039FFE03F
F0211C7E9B23>I<3801FFE038003C001338A45BA45BA4485AA438038002A31404EA0700
140C14181438000E13F0B5FC171C7E9B1C>I<D801FE14FFD8003E14F0012EEB01E01502
A21504014EEB09C0A201471311A20187EB23801543A215833A0107010700A2EB0382A200
02EB840E1488A214900004EBA01CA2EB01C0120C001CEB803C3AFF8103FF80281C7E9B28
>I<D801FCEBFF80D8001CEB1C00012E13181510A2132701475B13431480A2903881C040
A3EB80E0D801005B1470A300020139C7FCA3141D48131E140EA2120C001C1304EAFF8021
1C7E9B21>I<EB03F8EB0E0E90383803809038E001C0EA01C039038000E048C7FC4814F0
121E121C123CA25AA348EB01E0A3EC03C0A2EC0780A2EC0F000070130E5C6C5B003C5B38
1C01C038070780D801FCC7FC1C1E7E9C20>I<48B5FC39003C03C090383800E015F01570
A24913F0A315E0EBE001EC03C0EC0700141E3801FFF001C0C7FCA3485AA448C8FCA45AEA
FFE01C1C7E9B1B>I<EB03F8EB0E0E90383803809038E001C0EA01C039038000E048C7FC
4814F0121E121C123CA25AA348EB01E0A3EC03C0A215801407EC0F0038703C0EEB421C38
3882385C381C83C0380787813801FF01380003031402148E14FC5C130114E01C257E9C21
>I<3801FFFE39003C03C090383800E015F01570A24913F0A3EC01E001E013C0EC0780EC
1E00EBFFF03801C038140C140EA2EA0380A43807001E1508A2151048130FD8FFE01320C7
EA03C01D1D7E9B20>I<EB0FC1EB3033EB400FEB80061201EA0300A200061304A2000713
00A27FEA03F06CB4FC6C13C0EB3FE01303EB00F014701430A21220A200601360A214C014
8038F00300EACC06EA83F8181E7E9C19>I<001FB512F0391C0380703930070030002014
2012601240130E1280A2000014005BA45BA45BA45BA41201EA7FFF1C1C7F9B18>I<397F
F03FE0390F000700000E13061404A3485BA4485BA4485BA4485BA35CA249C7FCEA60025B
6C5AEA1830EA07C01B1D7D9B1C>I<39FFC00FF0391C00038015001402A25C5C121E000E
5B143014205CA25C49C7FC120FEA07025BA25BA25B5BEA03A013C05BA290C8FCA21C1D7D
9B18>I<3AFFC0FFC0FF3A3C001C003C001C1510143C1620025C1340A2029C1380A29039
011C0100A20102130213045D01085BA2496C5A121ED80E205BA201405B018013C05D260F
000FC7FCA2000E130EA2000C130CA2281D7D9B27>I<3A01FFC0FF803A001E003C00011C
13306D13205D010F5B6D48C7FC1482EB038414CCEB01D814F05C130080EB0170EB0278EB
04381308EB103CEB201CEB401EEB800E3801000F00027F1206001E497E39FF803FF0211C
7F9B22>I<39FFE007F8390F0001E0158015006C13026D5A00035BEBC018141000015B6D
5A00005B01F1C7FC13F21376137C1338A25BA45BA4485AEA1FFC1D1C7F9B18>I<90B512
E09038F001C03901C003809038800700EB000E141E0002131C5C5CC75A495A495A49C7FC
5B131E131C5BEB7002495AEA01C0EA038048485A5A000E1318485B48137048485AB5FC1B
1C7E9B1C>I<7EAAEA8180128F12BF12FE12F812C01280AC1281128F12BF12FE12F812C0
1200A609287D9E10>92 D<EA01E3EA0717EA0C0F1218EA380E12301270A2485AA4EB3880
A3EA607838319900EA1E0E11127E9116>97 D<123F1207A2120EA45AA4EA39E0EA3A30EA
3C1812381270131CA3EAE038A313301370136013C01261EA2300121E0E1D7E9C12>I<EA
01F0EA030C120CEA1C1EEA383CEA3018EA7000A25AA51304EA60081310EA3060EA1F800F
127E9112>I<EB07E01300A2EB01C0A4EB0380A43801E700EA0717EA0C0F1218EA380E12
301270A2485AA4EB3880A3EA607838319900EA1E0E131D7E9C16>I<EA01F0EA0708120C
EA1804EA38081230EA7030EA7FC0EAE000A51304EA60081310EA3060EA0F800E127E9113
>I<EB01E0EB0630EB0E7814F0EB1C601400A45BA23803FFC038003800A25BA55BA5485A
A55B1203A20063C7FC12F312F612E4127815257E9C14>I<EB38C013C5EA0183EA030300
0713801206120EA2381C0700A4130EA3EA0C1EEA047CEA039CEA001CA25B1260EAF03013
70EAE0C0007FC7FC121A809114>I<EA0FC01201A2485AA448C7FCA4EA0E3E13C3380F03
80120E121E121CA338380700A3130E00701320A2131C144038E00C8038600700131D7E9C
18>I<EA01C01203A2EA0180C7FCA6121C12271247A21287A2120EA25AA35A1380A21270
EA71001232121C0A1C7E9B0E>I<1307130FA213061300A61378139CEA010C1202131C12
041200A21338A41370A413E0A4EA01C01261EAF180EAF30012E6127C1024809B11>I<EA
0FC01201A2485AA448C7FCA4EA0E07EB0880EB11C01323381C4780EB8300001DC7FC121E
EA3FC0EA38E01370A2EA7071A31372EAE032EA601C121D7E9C16>I<EA1F801203A2EA07
00A4120EA45AA45AA45AA412E2A312E412641238091D7F9C0C>I<39381F81F0394E20C6
18394640E81CEB80F0EA8F00008E13E0120EA2391C01C038A315703938038071A215E115
E23970070064D83003133820127E9124>I<EA3C1F384E6180384681C0EA4701128F128E
120EA2381C0380A3EB070000381310A2130E1420387006403830038014127E9119>I<13
F8EA030CEA0E06487E1218123000701380A238E00700A3130EA25BEA60185BEA30E0EA0F
8011127E9114>I<380787803809C8603808D03013E0EA11C014381201A238038070A314
60380700E014C0EB0180EB8300EA0E86137890C7FCA25AA4123CB4FC151A819115>I<EA
01C2EA0626EA0C1E1218EA381C12301270A2EAE038A41370A3EA60F0EA23E0121C1200A2
EA01C0A4EA0380EA1FF00F1A7E9113>I<EA3C3CEA4E42EA4687EA470FEA8E1E130CEA0E
00A25AA45AA45A123010127E9113>I<EA01F0EA060CEA0C04130EEA180CEA1C00121FEA
0FE013F0EA03F8EA0038EA201CEA701812F01310EA8030EA6060EA1F800F127E9113>I<
13C01201A3EA0380A4EAFFF0EA0700A3120EA45AA4EA3820A21340A2EA1880EA0F000C1A
80990F>I<001C13C0EA27011247A238870380A2120EA2381C0700A438180E20A3EA1C1E
380C26403807C38013127E9118>I<EA1C03EA270712471303EA8701A2120EA2EA1C02A3
130412181308A2EA1C10EA0C20EA07C010127E9114>I<001CEBC080392701C1C0124714
C03987038040A2120EA2391C070080A3EC0100EA1806A2381C0E02EB0F04380E13083803
E1F01A127E911E>I<380787803808C8403810F0C03820F1E0EBE3C03840E1803800E000
A2485AA43863808012F3EB810012E5EA84C6EA787813127E9118>I<001C13C0EA270112
47A238870380A2120EA2381C0700A4EA180EA3EA1C1EEA0C3CEA07DCEA001C1318EA6038
EAF0305B485AEA4180003EC7FC121A7E9114>I<EA0381EA07C1EA0FF6EA081CEA1008EA
0010132013401380EA010012025AEA08041210EA3C18EA67F8EA43F0EA81E010127E9113
>I E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: FR cmsl10 10 40
/FR 40 91 df<1218123C127C12341204A21208A21210A212601280060C799C0C>39
D<EA7FF0EAFFE00C027F890E>45 D<1270A212F0126004047C830C>I<13F8EA038EEA06
06487EA2001813801238A212301270A438E00700A51306130E12C0A2130C131C1318EA60
305B6C5A001FC7FC111D7C9B15>48 D<13181330EA03F0EA0C701200A313E0A6EA01C0A6
EA0380A6EA07001380EAFFF80D1C7C9B15>I<137E38018380380201C0380400E0A2120F
A25AA2120EEA000114C0EB0380A2EB0700130E5B5B13605B485A38030080120638080100
1210EA3FFF485A12FF131C7E9B15>I<137CEA0187380203801204000F13C0A3000E1380
1200EB070013065B1338EA03F0EA001C7FA2130FA3127012F8A2EAF00EEAE01EEA801CEA
4038EA3070EA0F80121D7D9B15>I<14C0EB01801303A21307130B1313EB2700136713C7
1387EA01071202EA040E12081218121012201240B512C038001C00A55B133C3803FF8012
1C7E9B15>I<380301C0EBFF803807FE0013F80004C7FCA45AA213F8EA0B0CEA0C0EEA08
07121012001480A338700F0012F0A2130EEA801E131CEA40381330EA30E0EA0F80121D7D
9B15>I<133E13C138018080EA0303EA0607120C001C13000018C7FC12381230EA71F0EA
7618EA780CEAE80EEAF006A2EAE007A3130E12C0A35BEAE018EA60381330EA30C0EA0F80
111D7C9B15>I<1210383FFFC0A2148038600100EA40025B485A12005B5B5B13C05B1201
A248C7FC5AA25A120EA2121EA35AA31218121D7B9B15>I<137CEA018338020180120638
0C00C0A3381C0180A2381F0300EA0F8613CCEA07F06C7E7FEA0C7E487E487EEA6007A248
7EA313021306EA60045BEA3830EA0FC0121D7D9B15>I<13F8EA0304EA0606487E121C12
38148012301270A4130714005B1230EA1817EA0827EA07CEEA000E130C131CEA6018EAF0
381330485AEA80C0EA4380003EC7FC111D7C9B15>I<120C121E121CA21200AA1270A212
F0126007127C910C>I<EA07F0EA1818EA200CEA600E12F0A212E0EA001C1338137013C0
EA01801300120212061204A25AA3C7FCA51238A2127812300F1D7A9C14>63
D<14201430147014F0A2130180EB0278A21304A21308801310A21320A2EB403E141EEBFF
FEEB801EEA0100141F00027FA25A120C001E148039FF807FF01C1D7F9C1F>65
D<3807FFFE3900F807809038F001C015E0140015F0A2484813E0140115C01403EC0780EC
1E003803FFFCEBC00FEC0780EC03C0A3EA0780A4EC0780EC0F00380F001E5CB512E01C1C
7F9B1D>I<903807F01090381C0C3090387002609038C001E03803800048C7FC000E1460
A2481440123C123800781400A35AA51580EC01001270A26C13025C7E000C13186C132038
0380C0D8007FC7FC1C1E7C9C1E>I<380FFFFC3900F807809038F001C0EC00E01570A215
7848481338A4153C1538485A1578A3157015F0484813E0A2EC01C0EC03801407EC0E0048
485A1470B512C01E1C7E9B20>I<0007B512E03800F801EBF0001540A4485A14201500A2
146014E048B45A13C01440A3158038078000A2EC0100A25C1406380F000E143EB512FC1B
1C7E9B1C>I<0007B512C03800F803EBF001EC0080A4485A14201500A2146014E048B45A
13C01440A44848C7FCA648C8FC7FEAFFF81A1C7E9B1B>I<903807F01090381C0C309038
7002609038C001E03803800048C7FC000E1460A2481440123C123800781400A35AA3ECFF
F0EC0F801407EC0F001270A27EA26C5B000C131E6C136638038182D8007EC7FC1C1E7C9C
21>I<3A07FF87FF803A00F800F800495BA54848485AA648B55AEBC003A54848485AA648
4848C7FC01807F39FFF0FFF0211C7F9B1F>I<EA07FFEA00F813F0A5EA01E0A6EA03C0A6
EA0780A6EA0F001380EAFFF0101C7F9B0F>I<3907FF80FF3900F8007849136015401580
EC0100140448485A5C5C5C14C0EBE3E0EA03C5EBC9F013D0EBE0F8EBC078147C3807803C
143E141E141F801580380F00079038800FC039FFF03FF0201C7F9B20>75
D<3807FFC03800F8005BA5485AA6485AA51404EA0780A31408A21418380F003814F0B5FC
161C7E9B1A>I<D807F8EB07FC0000EC0FC001BC14801517A21527A2D8011EEB4F00A215
8FA2EC010F130F0002EB021EA21404A2EB0788149000045C14A0A214C013031480000C5C
001EEB007C3AFF8307FF80261C7E9B26>I<D807F8EBFF800000EC3C0001BC1318151013
9E139F138F39010F8020130714C0130314E01301390200F040A21478A2143CA2486D5A14
1F140FA21407A2000C6DC7FC001E7FEAFF80211C7F9B1F>I<EB07F0EB381CEBE00E3801
C003D80380138039070001C0120E001E14E0001C1300123C1238007814F0A348EB01E0A4
EC03C0A30070EB0780150000785B0038131E003C131C001C5B6C13E038038380D800FEC7
FC1C1E7C9C20>I<3807FFFC3800F80F9038F0038015C01401A33801E003A31580EC0700
140E3803C03CEBFFE001C0C7FCA4485AA648C8FC7FEAFFF01A1C7E9B1C>I<EB07F0EB38
1CEBE00E48487E390380038039070001C0120E001E14E0001C1300123C1238007814F0A3
48EB01E0A415C01403A20070EB0780150038781C0F3838220EEB411C381C8138000E13E0
3903C38080EA00FF1301EC810014C314FF6D5A5C14781C257C9C20>I<380FFFF83800F8
0E9038F00780EC03C0140115E0A23901E003C0A21580EC0700140E143C3803FFE0EBC078
141C141E140E140F3807801EA51508D80F001310138039FFF00E20C7EA03C01D1D7E9B1F
>I<EB3F04EBC0CC38018038EA030000061318120EA3001E13101400121F6C7E13F86CB4
FC6C13806C13C038003FE0130313011300A21240A314C0EA600100E0138038F00300EACC
0EEA83F8161E7E9C17>I<001FB512F0383C07C00030EB80300020142012601240A2EB0F
00128000001400A4131EA65BA65B137C381FFFE01C1C7C9B1E>I<39FFF01FF0391F0007
80001EEB03001402A4485BA6485BA6485BA212705CA26C5B5C6C48C7FCEA0E0EEA01F01C
1D7A9B1F>I<39FFE007F8391F0001C06C14801500A2EB800212075C140C14086D5A1203
5CA25C13E000015BA201E1C7FC13E3EA00F213F4A213F8A21370A21360A21D1D7B9B1F>
I<3BFFE1FFC0FF803B1F003E003E006C011E1318A2161016301620023E1360D9802F1340
0007014F13C05EEC8F0193C7FCEB810F9038C10782EA03C2158413C601C4138813CC01C8
13D03801F80301F013E0A201E05BA201C05B00001301018090C8FC291D7B9B2B>I<3907
FF03FE3900FC01F090387800C0017C138090383C0100EB3E02EB1E04EB1F0CEB0F081490
EB07A014C01303801301497E13041308497EEB3078EB607CEB403CEB803E3801001E0002
131F00067F001FEB1F8039FF807FF01F1C7F9B1F>I<39FFE007F8391F8001C0D80F0013
8001801300000713026D5A0003130C14086D5A00015BEBF060000013406D5A01F9C7FC13
7B137E133CA213381378A5137013F07FEA0FFF1D1C7B9B1F>I<0003B512803907C00F00
EB001E00065B147C000413785C48485A130300005B495A49C7FC5B131E5B5B13F8EBF004
48485AEA03C0EA07801418380F0010001E13305A14F0387803E0B5FC191C7E9B19>I
E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: FS cmr7 7 28
/FS 28 119 df<124012E0A61240A61200A4124012E0124003147D9309>33
D<EB3060A3EB60C0A4EBC180B512FCA238018300A3EA0306A3B512FCA238060C00485AA4
485AA3161A7E931B>35 D<120212041208121812101230122012601240A212C0AA1240A2
12601220123012101218120812041202071E7D950D>40 D<128012401220123012101218
1208120C1204A21206AA1204A2120C1208121812101230122012401280071E7E950D>I<
1360AAB512F0A238006000AA14167E9119>43 D<120FEA30C0EA6060A2EA4020EAC030A9
EA4020EA6060A2EA30C0EA0F000C137E9211>48 D<120C121C12EC120CAFEAFFC00A137D
9211>I<121FEA60C01360EAF07013301260EA0070A2136013C012011380EA02005AEA08
101210EA2020EA7FE012FF0C137E9211>I<EA0FC0EA3070EA7038A31200133013E0EA0F
C0EA007013381318131C126012F01318EAE038EA6070EA1FC00E137F9211>I<136013E0
A2EA016012021206120C120812101220126012C0EAFFFCEA0060A5EA03FC0E137F9211>
I<EA6060EA7FC01380EA44001240A3124FEA70C0EA40E0EA00601370A212E0A21360EA40
E0EA21C0EA1F000C137E9211>I<EA07C0EA0C20EA10701220EA6000A25A12CFEAD0C0EA
E060EAC0201330A31240EA6020EA2060EA10C0EA0F000C137E9211>I<1240EA7FFC13F8
EA4010EA80301320EA00401380EA0100A25A12021206A2120EA512040E147E9311>I<EA
0FC0EA1070EA20181260A21270EA3C30EA3F60EA0F8013E0EA31F0EA6078EAC01C130CA3
EA6018EA3030EA0FC00E137F9211>I<120FEA3080EA6040EA4060EAC0201330A31240EA
6070EA30B0EA0F30120013201360EAE0401380EA4100123E0C137E9211>I<1330A21378
A3139CA2EA019E130EA2EA0207A200061380EA07FFEA0403380801C0A2001813E0EA3800
38FE07FC16147F9319>65 D<12FCA212C0B3A712FCA2061D7E9509>91
D<12FCA2120CB3A712FCA2061D809509>93 D<127FEAE1C0EAE040EA40601200EA07E0EA
3860126012C01364A2EA61E4EA3E380E0D7E8C11>97 D<12F01230A6EA33E0EA3430EA38
08EA300C1306A5130CEA3808EA3430EA23E00F147F9312>I<EA0F80EA1040EA2020EA60
30EAC010EAFFF0EAC000A31260EA2010EA1820EA0FC00C0D7F8C0F>101
D<12F01230A6EA33E0EA3430EA38181230A9EAFC7E0F147F9312>104
D<1220127012201200A512F01230AB12FC06157F9409>I<EA0FC0EA1860EA2010EA6018
EAC00CA5EA6018A2EA3870EA0FC00E0D7F8C11>111 D<EAF3C0EA34E01238EA30401300
A812FE0B0D7F8C0D>114 D<EA3E80126112C0A2EAE000127EEA3F80EA03C01280A212C0
EAE180EA9F000A0D7F8C0D>I<1210A312301270EAFF80EA3000A71380A3EA1100120E09
127F910D>I<EAF83CEA30181310EA3830EA1820A2EA0C40A2EA0680A3EA0300A20E0D7F
8C11>118 D E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: FT cmbx12 12 48
/FT 48 122 df<1238127C12FE12FFA2127F123B1203A31206A2120C121C121812701220
08117CA210>39 D<13FE3807FFC0380F83E0381F01F0383E00F8A248137CA312FC147EAD
007C137CA36C13F8A2381F01F0380F83E03807FFC03800FE0017207E9F1C>48
D<EA03FCEA0FFF383C1FC0387007E0007C13F0EAFE0314F8A21301127CEA3803120014F0
A2EB07E014C0EB0F80EB1F00133E13385BEBE018EA01C0EA0380EA0700000E1338380FFF
F05A5A5AB5FCA215207D9F1C>50 D<00301320383E01E0383FFFC0148014005B13F8EA33
C00030C7FCA4EA31FCEA37FF383E0FC0383807E0EA3003000013F0A214F8A21238127C12
FEA200FC13F0A2387007E0003013C0383C1F80380FFF00EA03F815207D9F1C>53
D<EB1F80EBFFE03803E0703807C0F0380F01F8121F123EA2387E00F0007C1300A2EAFC08
EB7FC0EBFFE038FD80F038FF00F848137CA248137EA4127CA3003C137C123E001E13F86C
13F0380783E03803FFC0C6130017207E9F1C>I<13FE3803FFC0380703E0380E00F05A14
78123C123E123F1380EBE0F0381FF9E0EBFFC06C13806C13C06C13E04813F0381E7FF838
3C1FFCEA7807EB01FEEAF000143E141EA36C131C007813387E001F13F0380FFFC0000113
0017207E9F1C>56 D<1470A214F8A3497EA2497EA3EB067FA2010C7F143FA2496C7EA201
307F140F01707FEB6007A201C07F90B5FC4880EB8001A2D803007F14004880000680A23A
FFE007FFF8A225227EA12A>65 D<B67E15F03907F001F86E7E157EA2157FA5157E15FE5D
EC03F890B55AA29038F001FCEC007E811680151F16C0A6ED3F80A2ED7F00EC01FEB612F8
15C022227EA128>I<D903FE138090381FFF819038FF01E33901F8003FD803E0131F4848
130F48481307121F48C71203A2481401127EA200FE91C7FCA8127EED0180127F7E15036C
6C1400120F6C6C1306D803F05B6C6C13386CB413F090381FFFC0D903FEC7FC21227DA128
>I<B67E15F03907F003FCEC007E81ED1F80ED0FC0ED07E0A216F01503A316F8A916F0A3
ED07E0A2ED0FC0ED1F80ED3F00157EEC03FCB612F0158025227EA12B>I<B612FCA23807
F000153C151C150C150EA21506140CA31500141C143CEBFFFCA2EBF03C141C140CA21503
A214001506A3150EA2151E153EEC01FCB6FCA220227EA125>I<B612F8A23807F001EC00
7815381518151CA2150CA21418A21500A214381478EBFFF8A2EBF07814381418A491C7FC
A8B512C0A21E227EA123>I<D903FE134090391FFFC0C090387F00F1D801F8133F484813
0FD807C01307000F1403485A48C71201A2481400127EA200FE1500A791380FFFFC127E00
7F9038001FC0A27EA26C7E6C7E6C7E6C7ED801FC133F39007F80E790381FFFC301031300
26227DA12C>I<B53883FFFEA23A07F0001FC0AD90B6FCA29038F0001FAFB53883FFFEA2
27227EA12C>I<B51280A23807F000B3ACB51280A211227EA115>I<B512C0A2D807F0C7FC
B31518A41538A21570A215F014011407B6FCA21D227EA122>76 D<D8FFF0EC0FFF6D5C00
0716E0D806FC1437A3017E1467A26D14C7A290391F800187A290390FC00307A3903807E0
06A2903803F00CA2903801F818A3903800FC30A2EC7E60A2EC3FC0A2EC1F80A3EC0F00D8
FFF091B5FC140630227EA135>I<D8FFF8EB1FFE7F0007EC00C07FEA06FF6D7E6D7E6D7E
130F806D7E6D7E6D7E130080EC7F80EC3FC0EC1FE0EC0FF0140715F8EC03FCEC01FEEC00
FF157FA2153F151F150F15071503A2D8FFF01301150027227EA12C>I<EB07FC90383FFF
809038FC07E03903F001F848486C7E4848137E48487FA248C7EA1F80A24815C0007E140F
A200FE15E0A9007E15C0007F141FA26C15806D133F001F15006C6C137E6C6C5B6C6C485A
3900FC07E090383FFF80D907FCC7FC23227DA12A>I<B6FC15E03907F007F0EC01FC1400
157EA2157FA5157EA215FC1401EC07F090B512E0150001F0C7FCADB57EA220227EA126>
I<B512FEECFFC03907F007F0EC01F86E7E157E157FA6157E5D4A5AEC07F090B512C05D90
38F00FE06E7E6E7E6E7EA81606EC00FEEDFF0CB538803FF8ED0FF027227EA12A>82
D<3801FE023807FF86381F01FE383C007E007C131E0078130EA200F81306A27E1400B4FC
13E06CB4FC14C06C13F06C13F86C13FC000313FEEA003F1303EB007F143FA200C0131FA3
6C131EA26C133C12FCB413F838C7FFE00080138018227DA11F>I<007FB61280A2397E03
F80F00781407007014030060140100E015C0A200C01400A400001500B3A248B512F0A222
227EA127>I<B538803FFCA23A07F0000180B3A60003EC03007F000114066C6C130E017E
5B90383F80F890380FFFE0010190C7FC26227EA12B>I<B5EB0FFEA2D807F0EB00C0A26C
6CEB0180A26D1303000115007F000014067F6D5BA2EC801C013F1318ECC038011F133014
E0010F5BA26D6C5AA214F901035B14FD6DB4C7FCA26D5AA3147CA21438A227227FA12A>
I<B53A0FFFF00FFEA2260FF00090C712E000076E14C0A26C6C90393F800180A26D14C000
01EE0300A26D496C5A0000026F1306A2017F9038C7F00CA2028113F8013F01835BA29139
C301FC38011F153016FE90260FE6005BA202FEEBFFE06D486D5AA26D486D5AA36D486DC7
FCA36D48130EA237227FA13A>I<B5EB0FFEA2D807F8EB00C015016C6C14806DEB030000
015C6C6C13065D90387F801C90383FC018153890381FE0306D6C5A15E06D6C5A903803FD
8014FF6D90C7FC5C1300AC90381FFFF0A227227FA12A>89 D<EA0FFC383FFF80387E07C0
EB03E0130114F0123C1200A2133FEA03FDEA1FC1EA3F01127E12FCA4EA7E02EB0CF8381F
F87F3807E03F18167E951B>97 D<B4FCA2121FABEB0FE0EB3FF8EBE07CEB803E497EEC0F
80A215C0A81580141F01801300EBC03E381EE07C381C3FF838180FC01A237EA21F>I<EB
FF80000713E0380F83F0EA1F03123E127E387C01E090C7FC12FCA6127C127EA2003E1318
6C1330380FC0603807FFC0C6130015167E9519>I<EB01FEA2EB003EABEA01FC3807FFBE
380F81FE381F007E003E133E127E127C12FCA8127CA26C137E6C13FE380F83BE3907FF3F
C0EA01FC1A237EA21F>I<13FE3807FF80380F87C0381E01E0003E13F0EA7C0014F812FC
A2B5FCA200FCC7FCA3127CA2127E003E13186C1330380FC0703803FFC0C6130015167E95
1A>I<EB1FC0EB7FE0EBF1F0EA01E31203EA07C3EBC1E0EBC000A6EAFFFEA2EA07C0B2EA
3FFCA2142380A211>I<3801FE0F3907FFBF80380F87C7381F03E7391E01E000003E7FA5
001E5BEA1F03380F87C0EBFF80D809FEC7FC0018C8FCA2121C381FFFE06C13F86C13FE00
1F7F383C003F48EB0F80481307A40078EB0F006C131E001F137C6CB45A000113C019217F
951C>I<B4FCA2121FABEB07E0EB1FF8EB307CEB403CEB803EA21300AE39FFE1FFC0A21A
237EA21F>I<121C123E127FA3123E121CC7FCA7B4FCA2121FB2EAFFE0A20B247EA310>I<
B4FCA2121FABECFF80A2EC38001460495A495A49C7FC130E5B137E13FF13CFEB0F806D7E
6D7E1301806D7E147C143C39FFE0FFC0A21A237EA21E>107 D<B4FCA2121FB3ADEAFFE0
A20B237EA210>I<3AFF07F007F090391FFC1FFC3A1F303E303E01401340496C487EA201
001300AE3BFFE0FFE0FFE0A22B167E9530>I<38FF07E0EB1FF8381F307CEB403CEB803E
A21300AE39FFE1FFC0A21A167E951F>I<13FE3807FFC0380F83E0381E00F0003E13F848
137CA300FC137EA7007C137CA26C13F8381F01F0380F83E03807FFC03800FE0017167E95
1C>I<38FF0FE0EB3FF8381FE07CEB803E497E1580A2EC0FC0A8EC1F80A29038803F00EB
C03EEBE0FCEB3FF8EB0FC090C8FCA8EAFFE0A21A207E951F>I<EAFE1FEB3FC0381E67E0
13C71387A2381F83C090C7FCADEAFFF0A213167E9517>114 D<EA0FF3EA3FFFEA781FEA
6007EAE003A212F000FCC7FCEA7FE013F8EA3FFEEA0FFF120138000F80EAC007130312E0
A238F00700EAFC0EEAEFFCEAC7F011167E9516>I<487EA41203A21207A2120F123FB5FC
A2EA0F80ABEB8180A5EB8300EA07C3EA03FEEA00F811207F9F16>I<38FF01FEA2381F00
3EAF147E14FE380F81BE3907FF3FC0EA01FC1A167E951F>I<39FFE01FE0A2391F800700
000F1306EBC00E0007130C13E000035BA26C6C5AA26C6C5AA2EB7CC0A2137F6D5AA26DC7
FCA2130EA21B167F951E>I<39FFE01FE0A2391F800700000F1306EBC00E0007130C13E0
00035BA26C6C5AA26C6C5AA2EB7CC0A2137F6D5AA26DC7FCA2130EA2130CA25B1278EAFC
3813305BEA69C0EA7F80001FC8FC1B207F951E>121 D E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: FU cmbx10 10 63
/FU 63 123 df<90383FE3F83901F03F1C3903C03E3E0007137CEA0F80151C1500A5B612
C0A2390F807C00AE397FE1FF80A21F1D809C1C>11 D<EB3FC03801F0303803C038000713
7CEA0F80A2143891C7FCA4B512FCA2380F807CAE397FE1FF80A2191D809C1B>I<127812
FCA212FEA2127A1202A21204A21208A212101260070E7D9C0D>39
D<EAFFF8A40D04808A10>45 D<127812FCA4127806067D850D>I<EA03F8EA0F1EEA1C07
003C1380EA3803007813C0A300F813E0AC007813C0A200381380EA3C07001C1300EA0F1E
EA03F8131B7E9A18>48 D<1360EA01E0120F12FF12F31203B3A2387FFF80A2111B7D9A18
>I<EA07F8EA1FFE38383F8038780FC0EAFC0714E01303A21278EA000714C0A2EB0F80EB
1F00131E13385B5B38018060EA03001206000813E0381FFFC05A5AB5FCA2131B7E9A18>
I<EA07F8EA1FFEEA3C1FEB0F80387C07C0127E127C123838000F80A2EB1E005BEA03F8EA
001EEB0F80EB07C0A214E01230127812FCA214C038780F80EB1F00EA1FFEEA07F8131B7E
9A18>I<EB018013031307130F131F133F136F13CF138F1201EA030F1206120C12181230
126012C0B512F8A238000F80A6EBFFF8A2151B7F9A18>I<38380180383FFF005B5B5B13
C00030C7FCA4EA31F8EA361E38380F80EA3007000013C014E0A3127812F8A214C012F038
600F8038381F00EA1FFEEA07F0131B7E9A18>I<137EEA03FF38078180380F03C0EA1E07
123C387C03800078C7FCA212F813F8EAFB0E38FA0780EAFC0314C000F813E0A41278A214
C0123CEB0780381E0F00EA07FEEA03F8131B7E9A18>I<1260387FFFE0A214C01480A238
E00300EAC0065B5BC65AA25B13E0A212015B1203A41207A66C5A131C7D9B18>I<EA03F8
EA0FFE381E0F80EA3807EB03C01278127C127E387F8380383FC70013FE6C5A6C7E6C7E00
1D138038387FC038781FE0EA700FEAF0031301A3007813C0EB0380EA3E07381FFE00EA03
F8131B7E9A18>I<EA03F8EA0FFEEA1E0F383C07801278EB03C012F8A214E0A4EA780712
38EA3C0BEA0E1BEA03E3EA000314C0A2EA3807007C13801400EA780FEA383CEA1FF8EA0F
E0131B7E9A18>I<127812FCA412781200A6127812FCA4127806127D910D>I<EB0380A249
7EA3497EA2497E131BEB3BF81331A2EB60FCA2EBE0FEEBC07EA248487E90B5FC481480EB
001F4814C00006130FA248EB07E0A239FF803FFEA21F1C7E9B24>65
D<B512F814FF390FC01F80EC0FC0140715E0A515C0EC0F80EC3F00EBFFFE9038C00F80EC
07C0EC03E0A215F0A5EC07E0A2EC1FC0B6120014FC1C1C7E9B22>I<90381FE0209038FF
F8E03803F80F3807C003380F800148C7FC123E1560127E127C00FC1400A8007C1460127E
123E15C07E390F8001803907C003003803F80E3800FFFCEB1FE01B1C7D9B22>I<B512F8
14FF390FC01FC0EC07E0EC01F015F8140015FC157CA2157EA8157CA315F8A2EC01F0EC07
E0EC1FC0B6120014F81F1C7E9B25>I<B6FCA2380FC01F1407801580A214C1A39038C1C0
0013C313FFA213C313C113C01560A2EC00E015C0A21401A21403EC0F80B6FCA21B1C7E9B
1F>I<B6FCA2380FC01F1407801580A2140114C1A2ECC00013C113C313FFA213C313C113
C0A391C7FCA6EAFFFEA2191C7E9B1E>I<90380FF00890387FFE383901FC07F83807E001
390F80007848C7FC481438123E007E1418127C00FC1400A6EC7FFFA2007CEB01F8127E12
3E123F7EEA0F80EA07E03801FC0739007FFE7890380FF818201C7D9B26>I<39FFFC3FFF
A2390FC003F0AA90B5FCA2EBC003AC39FFFC3FFFA2201C7E9B25>I<EAFFFCA2EA0FC0B3
A6EAFFFCA20E1C7E9B12>I<3807FFF0A238001F80B21230127812FCA21400EA783EEA38
7CEA0FF0141C7F9B19>I<EAFFFEA2EA0FC0AF1403A31407A21406140E141E147EB512FE
A2181C7E9B1D>76 D<D8FFC0EB03FF6D5B000F15F0D80DF0130DA3D80CF81319A2017C13
31A26D1361A26D13C1A390380F8181A2903807C301A2EB03E6A2EB01FCA3EB00F8A23AFF
C0701FFFA2281C7E9B2D>I<39FFE003FFA2390FF000307FEA0DFCEA0CFE137E7FEB1F80
14C0EB0FE0EB07F01303EB01F814FCEB00FE147F143FEC1FB015F0140F14071403140114
00A2D8FFC013701530201C7E9B25>I<EB3FE03801F07C3803C01E390F800F80391F0007
C0001E1303003E14E0007E14F0007C1301A200FC14F8A8007C14F0007E1303A2003E14E0
003F13076C14C0390F800F803903C01E003801F07C38003FE01D1C7D9B24>I<B512F814
FE390FC03F80140FEC07C015E0A515C0A2EC0F80EC3F00EBFFFC01C0C7FCABEAFFFCA21B
1C7E9B21>I<EB3FE03801F07C3803C01E390F800F80391F0007C0A2003EEB03E0007E14
F0007C1301A200FC14F8A8007C14F0A2007E1303003E14E01307391F08C7C0390F906F80
3903D03E003801F87C39003FF808EB0018EC1C18EC1FF8A2EC0FF0A2EC07E0EC03C01D24
7D9B24>I<B512F014FE380FC03FEC0F806E7E81A55D4A5A023EC7FCEBFFF0EBC07C8014
3F6E7EA6ED8180A2EC0FC13AFFFC07C300EC01FE211C7E9B24>I<3807F820381FFEE0EA
3C07EA7801EA700012F01460A26C130012FEEAFFE0EA7FFE6C7E1480000F13C06C13E0EA
007FEB03F01301130012C0A214E07E38F001C0EAFC0338EFFF00EA83FC141C7D9B1B>I<
007FB512E0A238781F81007013800060146000E0147000C01430A400001400B03807FFFE
A21C1C7E9B21>I<3BFFF87FFE0FFCA23B0FC007E000C081D9E003130100071680EC07F8
01F014030003D90FFC1300140CD801F81406EC1CFE9039FC187E0E0000150CEC303F01FE
141CD97E701398EC601F013F14B002E013F0ECC00F011F5CEC8007A2010F5CEC00036D5C
A22E1C7F9B31>87 D<397FFE1FFEA23907F001803803F803000149C7FCEBFC066C6C5AEB
7F1C6D5A14B0EB1FE0130FA26D7E6D7E1307497EEB0CFEEB187EEB387F496C7E9038601F
C013C000016D7E48486C7EEB00033AFFF01FFF80A2211C7F9B24>I<EA0FF8EA1C1E383E
0F80130714C0121C1200137FEA07E7EA1F07123C127C12F8A3EA780B383E13F8EA0FE115
127F9117>97 D<B4FCA2121FA9EB3F80EBE1E0EB8070EB0078143CA2143EA6143CA21478
EB8070381EC1E0381C3F00171D7F9C1B>I<EA03FCEA0E0EEA1C1F123C1278130E00F8C7
FCA61278EB0180123C381C0300EA0E0EEA03F811127E9115>I<EB0FF0A21301A9EA01F9
EA0F07EA1C03EA3C011278A212F8A61278A2123CEA1C03380F0FFEEA03F9171D7E9C1B>
I<EA03FCEA0F07381C0380383C01C0127814E012F8A2B5FC00F8C7FCA3127814607E6C13
C0380F03803801FC0013127F9116>I<137F3801E3803803C7C0EA0787120FEB8380EB80
00A5EAFFF8A2EA0F80AEEA7FF0A2121D809C0F>I<3803F0F0380E1F38EA3C0F38380730
00781380A400381300EA3C0FEA1E1CEA33F00030C7FCA3EA3FFF14C06C13E014F0387801
F838F00078A300701370007813F0381E03C03807FF00151B7F9118>I<B4FCA2121FA9EB
0FC0EB31E0EB40F0EB80F8A21300AB38FFE7FFA2181D7F9C1B>I<121E123FA4121EC7FC
A6127FA2121FAEEAFFC0A20A1E7F9D0E>I<137813FCA413781300A6EA03FCA2EA007CB2
127012F8137813F0EA70E0EA1F800E26839D0F>I<B4FCA2121FA9EB03FCA2EB01C0EB03
00130E5B5B137813FC13BE131F7F1480EB07C0EB03E0130138FFE7FEA2171D7F9C19>I<
B4FCA2121FB3A7EAFFE0A20B1D7F9C0E>I<39FF0FC07E903831E18F3A1F40F20780D980
FC13C0A2EB00F8AB3AFFE7FF3FF8A225127F9128>I<38FF0FC0EB31E0381F40F0EB80F8
A21300AB38FFE7FFA218127F911B>I<EA01FC380F0780381C01C0003C13E0387800F0A2
00F813F8A6007813F0A2383C01E0381E03C0380F07803801FC0015127F9118>I<38FF3F
80EBE1E0381F80F0EB0078147C143C143EA6143C147C1478EB80F0EBC1E0EB3F0090C7FC
A6EAFFE0A2171A7F911B>I<3803F060380F0CE0EA1E07EA3C03127C127812F8A6127812
7C123CEA1C07EA0E0FEA03F3EA0003A6EB1FFCA2161A7E9119>I<EAFE3E1347381E8F80
A3381F070090C7FCAAEAFFE0A211127F9114>I<EA1FD8EA3078EA601812E0A2EAF000EA
FF80EA7FE013F0EA1FF8EA07FCEA007CEAC01CA212E01318EAF830EACFC00E127E9113>
I<1203A45AA25AA2EA3FFC12FFEA1F00A9130CA4EA0F08EA0798EA03F00E1A7F9913>I<
38FF07F8A2EA1F00AC1301120F380786FFEA01F818127F911B>I<38FFC1FCA2381F0060
1380000F13C0A23807C180A23803E300A213F7EA01F613FE6C5AA21378A2133016127F91
19>I<39FF8FF8FEA2391F03E030A3390F87F06013869038C6F8E03907CC78C0A23903FC
7D80EBF83D143F3901F01F00A20000131EEBE00EA21F127F9122>I<38FFC7FCA2381F81
C0380F83803807C700EA03EEEA01FC5B1200137C13FEEA01DF38039F80EA070F380607C0
380C03E038FF07FCA216127F9119>I<38FFC1FCA2381F00601380000F13C0A23807C180
A23803E300A213F7EA01F613FE6C5AA21378A21330A25B1270EAF8E05BEAF9800073C7FC
123E161A7F9119>I<387FFF8038781F00EA703FEA603E5B13FC5BEA01F01203485AEBC1
80EA0F81121F1303003E1300EA7E07EA7C0FB5FC11127F9115>I
E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: FV cmti10 10 67
/FV 67 125 df<903801F03C9038071C47010C13C7EC19C690381C0180140313181338A2
EC0700A20003B512F03900700700A3140EA213E0A35CA2EA01C0A35CA2EA0380A21430EB
0070A248136038C630E038E638C038CC3180D8781EC7FC2025819C19>11
D<14FE90380301801306EB0C03EB1C0191C7FC13181338A43803FFFE3800700EA35CA213
E0A25CA3EA01C01472A438038034141891C7FC90C8FCA25A12C612E65A12781925819C17
>I<123C12421281A212821284127808076C9D23>23 D<1218123CA31204A21208A21210
122012401280060C779C0D>39 D<12181238127812381208A21210A212201240A2128005
0C7D830D>44 D<EAFFC0A30A037D890F>I<1230127812F0126005047C830D>I<133EEBE1
80380181C0EA03005A1206000E13E0120C001C13C0A2EA18011238A338700380A4386007
0012E01306130EA2130C5BEA60385BEA30C0001FC7FC131D7C9B15>48
D<1304130C131813381378EA07B8EA0070A413E0A4EA01C0A4EA0380A4EA0700A45AEAFF
F00E1C7B9B15>I<133EEB4180EB80C0EA0100000213E0EA0440A21208A3381081C0A238
110380000E1300EA00065B5B136013800003C7FC12044813404813805AEB0100EA7F07EA
43FEEA81FCEA8078131D7D9B15>I<131FEB60C013803801006012021340000413E0A3EB
81C0EA030138000380EB070013FC131C1306A21307A41270EAE00E12805BEA40185BEA20
E0EA1F80131D7D9B15>I<EB018014C0EB0380A314005BA21306130E130C131C1318A25B
A25B134013C6EA018E130E1202EA061C120C1218123FEA40F838803F8038003800A25BA4
5B136012247E9B15>I<EB0F80EB3860EB6020EBC0E0EA018048C7FC1206120E120C121C
13F8EA3904EA3A06EA3C031278A2007013801400EA600712E0A21306130E130CEA601C13
18EA2030EA30C0EA0F80131D7C9B15>54 D<3809C040380FE080EA1FE1381C6100EA3026
EA201AEA6004EA400CEA80081318485AA25BA25BA212015B120390C7FC5AA3120EA35AA2
1218121D799B15>I<131FEB60C0EBC060EA018038030030A200061360120714C0138038
03C10013E6EA01FCEA0078EA01BCEA061E487E487E383003801220EA6001A238C00300A2
1306EA60045BEA3830EA0FC0141D7D9B15>I<1418A21438A21478A214B8EB0138A2EB02
3C141C1304130C13081310A21320A2EB7FFCEBC01C1380EA0100141E0002130EA25A120C
001C131EB4EBFFC01A1D7E9C1F>65 D<48B5FC39003C038090383801C0EC00E0A35B1401
A2EC03C001E01380EC0F00141EEBFFFC3801C00E801580A2EA0380A43907000F00140E14
1E5C000E13F0B512C01B1C7E9B1D>I<903803F02090381E0C6090383002E09038E003C0
3801C001EA038048C7FC000E1480121E121C123C15005AA35AA41404A35C12705C6C5B00
185B6C485AD80706C7FCEA01F81B1E7A9C1E>I<48B5FC39003C03C090383800E0A21570
A24913781538A215785BA4484813F0A315E03803800115C0140315803907000700140E5C
5C000E13E0B512801D1C7E9B1F>I<48B512F038003C00013813301520A35BA214081500
495AA21430EBFFF03801C020A439038040801400A2EC0100EA07005C14021406000E133C
B512FC1C1C7E9B1C>I<48B512F038003C00013813301520A35BA214081500495AA21430
EBFFF03801C020A448485A91C7FCA348C8FCA45AEAFFF01C1C7E9B1B>I<903803F02090
381E0C6090383002E09038E003C03801C001EA038048C7FC000E1480121E121C123C1500
5AA35AA2903801FF809038001E00141CA400705BA27E001813786C139038070710D801F8
C7FC1B1E7A9C20>I<3A01FFC3FF803A003C00780001381370A4495BA449485AA390B5FC
3901C00380A4484848C7FCA43807000EA448131E39FFE1FFC0211C7E9B1F>I<EA03FFEA
00781370A413E0A4EA01C0A4EA0380A4EA0700A4120EA4121EEAFFC0101C7D9B10>I<EB
3FF8EB03C01480A4EB0700A4130EA45BA45BA4EA607012E0EAC060EA80E0EA81C0EA4380
003EC7FC151D7C9B16>I<3A01FFC07F803A003C001E000138131815205D5DD97002C7FC
5C5C5CEBE04014C013E1EBE2E0EA01C4EBD07013E013C048487EA21418141CEA070080A3
48130F39FFE07FC0211C7E9B20>I<3801FFC038003C001338A45BA45BA4485AA4380380
02A31404EA0700140C14181438000E13F0B5FC171C7E9B1A>I<D801FEEB01FED8003E14
E0012EEB03C01505A21509014EEB0B801513152313470187EB4700A21587EC0107D80107
130E14021404A20002495AEB0388149014A000045C14C0A2000C1380001CEB007839FF83
07FF271C7E9B25>I<D801FCEBFF80D8001CEB1C00012E13181510A2132701475B134314
80A2903881C040A3EB80E0D801005B1470A300020139C7FCA3141D48131E140EA2120C00
1C1304EAFF80211C7E9B1F>I<EB07F0EB1C1CEB700E497E3901C00380EA0380EA070000
0E14C0121E121C123CA25AA348EB0780A3EC0F00A2140E141E5C007013385C00785B3838
01C06C485AD80E0EC7FCEA03F81A1E7A9C20>I<3801FFFE39003C038090383801C0EC00
E0A3EB7001A315C0EBE0031580EC0700141C3801FFF001C0C7FCA3485AA448C8FCA45AEA
FFE01B1C7E9B1C>I<EB07F0EB1C1CEB700E497ED801C0138038038003EA0700000E14C0
121E121C123CA25AA348EB0780A3EC0F00A2140E141E141C38707838EB8070387104E038
3905C0381D0780380F0E04EA03FC3800040CEB0608EB0E18EB0FF013075CEB03801A257A
9C20>I<3801FFFE39003C078090383801C015E01400A2EB7001A3EC03C001E01380EC07
00141CEBFFE03801C03080141CA2EA0380A43807003C1520A348144039FFE01E80C7EA0F
001B1D7E9B1E>I<EB0F84EB304CEB403CEB8018EA01005AA200061310A214001207A2EA
03E013FC6CB4FC38007F80EB07C01301A21300A21220A238600180A2EB03001302EAF004
EACC18EA83E0161E7D9C17>I<001FB512C0381C070138300E0000201480126012405B12
80A2000014005BA45BA45BA4485AA41203EA7FFE1A1C799B1E>I<397FF03FE0390F0007
00000E13061404A3485BA4485BA4485BA4485BA35CA249C7FCEA60025B6C5AEA1830EA07
C01B1D789B1F>I<39FF801FC0393C000700001C1304A25C5CA25CA25C5CA26C48C7FCA2
13025BA25BA25B5B120F6C5AA25B90C8FCA21206A21A1D779B1F>I<3AFF83FF07F03A3C
007001C00038158002F01300A290380170025D13025D13045D13085D131001305B1320D8
1C405BA2D98071C7FCA2381D0072A2001E1374A2001C1338A20018133014201210241D77
9B29>I<48B512809038E007003803800EEB001E0002131C5C485B5C495A1200495A49C7
FC130E5BA25B5BEBE00848485AA2EA038048485A120E481360003C5BEA380138700780B5
FC191C7D9B19>90 D<EA01E3EA0717EA0C0F1218EA380E12301270A2EAE01CA41339A3EA
6079EA319AEA1E0C10127C9115>97 D<123F1207A2120EA45AA4EA39E0EA3A18EA3C0C12
381270130EA3EAE01CA31318133813301360EA60C0EA3180EA1E000F1D7C9C13>I<13F8
EA0304120EEA1C0EEA181CEA30001270A25AA51304EA60081310EA3060EA0F800F127C91
13>I<EB07E01300A2EB01C0A4EB0380A43801E700EA0717EA0C0F1218EA380E12301270
A2485AA41339A3EA6079EA319AEA1E0C131D7C9C15>I<13F8EA0704120CEA1802EA3804
1230EA7008EA7FF0EAE000A5EA60041308EA30101360EA0F800F127C9113>I<EB03C0EB
0670130CEB1C601400A25BA53803FF8038007000A55BA5485AA5485AA390C7FCA25A12C6
12E65A12781425819C0D>I<EB78C0EA01C5EA03031206000E1380120C121CA238380700
A4130EA3EA181EEA0C7CEA079CEA001CA25BA2EAC030EAE070EAC1C0007FC7FC121A7E91
13>I<EA0FC01201A2485AA448C7FCA4EA0E3E13C3380F0380120E121E121CA338380700
A3130E00701340A2131C1480EAE00C38600700121D7E9C15>I<EA01801203EA0100C7FC
A7121C12261247A2128EA2120E5AA35AA21271A31272A2123C091C7C9B0D>I<13031307
13031300A71378138CEA010C1202131C12041200A21338A41370A413E0A4EA01C0A2EAC1
80EAE30012C612781024819B0D>I<EA0FC01201A2485AA448C7FCA4380E07801308EB11
C01321381C4180EB8000001DC7FC121EEA3FC0EA38E01370A2EA7071A31372EAE032EA60
1C121D7E9C13>I<EA1F801203A2EA0700A4120EA45AA45AA45AA412E2A312E412641238
091D7D9C0B>I<391C1E078039266318C0394683A0E0384703C0008E1380A2120EA2391C
0701C0A3EC0380D8380E1388A2EC0708151039701C032039300C01C01D127C9122>I<EA
383EEA4CC3384D0380124E129E129C121CA238380700A3130E00701340A2131C1480EAE0
0C3860070012127C9117>I<13F8EA030CEA0E06487E1218123000701380A238E00700A3
130EA25BEA60185BEA30E0EA0F8011127C9115>I<380387803804C860EBD03013E0EA09
C014381201A238038070A31460380700E014C0EB0180EB8300EA0E86137890C7FCA25AA4
5AB4FC151A809115>I<EA01E1EA0713EA0C0F1218EA380E12301270A2EAE01CA41338A3
EA6078EA31F0EA1E701200A213E0A4EA01C0EA0FF8101A7C9113>I<EA1C3CEA2642EA46
87EA4707EA8E061300120EA25AA45AA45A123010127C9112>I<EA01F0EA0608120C131C
EA1818EA1C00121F13C0EA0FF01207EA00781338EA603012E012C0EA8060EA60C0EA1F00
0E127D9111>I<12035AA3120EA4EAFFE0EA1C00A35AA45AA4EAE080A2EAE100A2126612
380B1A7C990E>I<381C0180EA2E03124EA2388E0700A2121CA2EA380EA438301C80A3EA
383C38184D00EA0F8611127C9116>I<EA1C06EA2E0EEA4E06A2EA8E02A2121CA2EA3804
A313081230A21310EA3820EA1840EA0F800F127C9113>I<381E01833827038712471483
38870701A2120EA2381C0E02A31404EA180C131C1408EA1C1E380C26303807C3C018127C
911C>I<38038780380CC840380870E012103820E0C014001200A2485AA4EA03811263EA
E38212C5EA8584EA787813127E9113>I<381C0180EA2E03124EA2388E0700A2121CA2EA
380EA4EA301CA3EA383CEA1878EA0FB8EA003813301370EAE0605BEA81800043C7FC123C
111A7C9114>I<EA01C1EA07E1EA0FF6EA081CEA1008EA0010132013401380EA01001202
5AEA08041210EA2C0CEA73F8EA41F0EA80E010127E9111>I<B512C012017C8B15>I<B712
F825017B8B2A>I E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: FW cmsy8 8 31
/FW 31 111 df<B512F0A214027D881B>0 D<126012F0A2126004047D890A>I<EA4001EA
C003EA6006EA300CEA1818EA0C30EA0660EA03C0EA0180A2EA03C0EA0660EA0C30EA1818
EA300CEA6006EAC003EA400110127B901B>I<1202A3EAC218EAF278EA3AE0EA0F80A2EA
3AE0EAF278EAC218EA0200A30D0E7E8E12>I[<137013F8A3137090C7FCA4B512F8A2C8FC
A4137013F8A31370>21 20 126 145 26 I<EB0FC0EB7FF83801F03E3803800739060001
8048EB00C0481460481430A2481418A248140CA700601418A26C1430A26C14606C14C06C
EB018039038007003801F03E38007FF8EB0FC01E1D7E9623>13 D<B512FC7EC8FCA6B512
FCA2C8FCA6387FFFFCB5FC16127E901B>17 D<3801FFF01207000EC7FC12185A5AA35AA6
1260A37E7E120E3807FFF01201C8FCA6387FFFF0A2141E7D951B>I<143014F0EB01C0EB
0700131E1378EA01E0EA0380000EC7FC123C12F0A21238120E6C7EEA01E0EA0078131C13
07EB03C0EB00F014301400A6387FFFE0B512F0141E7D951B>20 D<12C012F01238120E6C
7EEA01E0EA0078131C1307EB03C0EB00F0A2EB01C0EB0700131E1378EA01E0EA0380000E
C7FC123C127012C0C8FCA6387FFFE0B512F0141E7D951B>I<14101430A21460A214C0EB
0180EB0700131EEA01F8EAFFE0A2EA01F8EA001E1307EB0180EB00C01460A21430A31416
7D921B>30 D<1406A380A2EC0180EC00C01560B612FCA2C8126015C0EC0180EC0300A214
06A31E127E9023>33 D<146080A28080B512FE80C7EA01C0EC00F0153C1570EC01C0EC03
80B5EAFE005CC7120C5C5CA25C1E147E9123>41 D<3801FF801207000EC7FC12185A5AA3
5AA2B51280A200C0C7FCA21260A37E7E120E3807FF80120111167D9218>50
D<1303A21306A2130CA21318A21330A21360A213C0A2EA0180A2EA0300A21206A25AA25A
A25AA25AA25A1240101E7B9600>54 D<12C0AC020C7E8D00>I<0040131000C013300060
1360A36C13C0A238180180EA1FFF6C1300EA0C03A2EA0606A26C5AA2EA0198A3EA00F0A2
1360A21417809615>I<EAFFFEA2EA0006A8EA7FFE12FFEA0006A9EAFFFEA20F177E9614>
I<B512E0A2C71260A713097E8B18>I<EB1F80EBFFC0EA0183EA0601000C138000181300
EA1002EA30040070C7FC12601480EAE001EB0300A25BA2EAF00EEAF81EEA7C2CEA3FCCEA
1F1812005B1320EA7FC048C7FC121A7E9615>71 D<3801FFE0000F13F83818E0FC002013
3E0060131E00C0130E1200140C13C01418000113101420EB8040EB81803803BE00137890
C7FC5A1206A2120E120CA25A17187F9619>80 D<38078001001F13030023130700031306
1300140E0006130C141C5A1438481378A24813B0130138700370EA6002EB0460EAE008EB
10E0EAF0601380387F00F8007C13E01817819616>85 D<0040132000C01360AE006013C0
383C0780381FFF00EA03F813137E9218>91 D<134013E0A2EA01B0A2EA0318A2EA060CA2
487EA2487EA238300180A2386000C0A2481360142013137E9218>94
D<00C013201460006013C0A238300180A238180300A2EA0C06A26C5AA26C5AA2EA01B0A2
EA00E0A2134013137E9218>I<137813C0EA0180EA0300AB12065A12F0120C7E7EABEA01
80EA00C013780D217E9812>102 D<12F0120C7E7EABEA0180EA00C0137813C0EA0180EA
0300AB12065A12F00D217E9812>I<120112031206A3120CA31218A21230A31260A312C0
A21260A31230A31218A2120CA31206A31203120108227D980E>I<12C0A21260A31230A3
1218A2120CA31206A31203A21206A3120CA31218A21230A31260A312C0A208227E980E>
I<12C0B3AF02217C980A>I<12C0A21260A37EA37EA37EA37EA37EA2EA0180A3EA00C0A3
1360A31330A3131813080D217E9812>110 D E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: FX cmsy6 6 6
/FX 6 106 df<B512C0A212027D8618>0 D<120CA2EACCC012EDEA7F80EA0C00EA7F80EA
EDC012CCEA0C00A20A0B7D8B10>3 D<1208121CA21238A312301270A21260A212C0A206
0D7E8D09>48 D<001F13F8383381843840E2023880640113381318131C13263840470238
2181CC381F00F8180B7D8A1E>I<12021206120CA31218A21230A21260A312C0A21260A3
1230A21218A2120CA312061202071A7D920D>104 D<12C0A21260A31230A21218A2120C
A31206A2120CA31218A21230A21260A312C0A2071A7D920D>I E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: FY cmti8 8 61
/FY 61 123 df<903807C38090381864C0EB30EDECCD809038600C005CA313C00007B5FC
3800C030A3EA0180A25CA4EA03005CA3120200065BEA6661D8E4E1C7FCEAC8C6EA707C1A
1D819616>11 D<EB07F0EB1818EB3038EB2030EB6000A45B3807FFE03800C060A3380180
C0A4EB818038030190A314A0EB00E000061300A2126612E45A1270151D819614>I<EB07
E6EB183CEB307CEB206CEB600C1418A313C03807FFF03800C030A338018060A414C014C8
EA0300A214D01470000213001206126612E45A1270171D819615>I<12381278A2123812
081210A2122012401280050A79960B>39 D<121812381278123812081210A21220124012
80050A7E830B>44 D<12FF12FE08027D870D>I<1230127812F0126005047D830B>I<1440
14C0EB0180A2EB0300A213065BA25BA25BA25BA25BA2485AA248C7FC1206A25AA25AA25A
A25AA25AA25A12217E9812>I<EA01E0EA0630EA0C10121812101230A2EA6030A4EAC060
A3134013C0EA80801281EAC1001246123C0C157B9412>I<13F0EA0308EA040CEA090413
061211A2EA220C1224EA1818EA0030136013C0EA030012041218EA2004130CEA7C18EAC7
F0EA81E00F157D9412>50 D<120C121EA2120C1200A61230127812F01260070E7D8D0B>
58 D<EB0180A21303A21307A2130B1313A2EB21C0A213411381A2EA010113FFEA0201A2
12041208A2001813E038FE07F815177E961A>65 D<3803FFF03800E038141C140CA2EA01
C0141CA2143838038070EBFFC014E0EB8070380700301438A3000E1370A214E0EB01C038
1C038038FFFE0016177E9619>I<EB3F04EBE08838038058380600385A001C13105A1230
12700060130012E0A35A1440A214807EEB0100EA60026C5AEA1818EA07E016177A961A>
I<3803FFF03800E018140C140614073801C003A438038007A43807000EA2140C141C000E
13181430146014C0381C038038FFFC0018177E961B>I<3803FFFE3800E00E1404A3EA01
C0A21480A238038100138313FF1383EA07021408A2EB0010120E143014201460381C01C0
B5FC17177E9618>I<3803FFFE3800E00E1404A3EA01C0A21480A238038100138313FF13
83EA0702A390C7FC120EA45AEAFFC017177E9617>I<EB3F04EBE0883803805838060038
5A001C13105A123012700060130012E0A338C01FF8EB01C0A338E00380A21260EA300738
181B00EA07E116177A961C>I<3903FE3FE03900E00E00A448485AA448485AA2EBFFF8EB
803848485AA4000E5BA448485A38FF8FF81B177E961A>I<EA07FEEA00E0A4EA01C0A4EA
0380A4EA0700A4120EA45AEAFF800F177E960E>I<EB7FC0EB0E00A45BA45BA45BA4EA60
E012F0A2EAE1C0EA4380003EC7FC12177D9613>I<EA03FEEA00E0A4485AA4485AA448C7
FC1420A21440120E14C014801301EA1C07B5120013177E9616>76
D<D803F0EB3F800000EC780013B815B8EC0138D801385B1402A214040002495A131C1410
A20004EB21C01441A2148139081D0380A2130EA226180C07C7FC39FE083FE021177E9620
>I<3903F00FE00000EB0300140213B8A238011C04A3130E00025BA21307A238040390A3
EB01D0000813E01300A30018134012FE1B177E961A>I<EB1F80EBE0C038018060380300
30000613385A001C131812180038133812301270A314705A14E01260387001C0EB038000
301300EA380EEA1C18EA07E015177B961B>I<3803FFE03800E038141C140CA23801C01C
A314383803807014E0EBFF80EB800048C7FCA4120EA45AB47E16177E9618>I<EB1F80EB
E0C03801806038030030000613385A121C1218123812301270A30060137012E014E01260
EB01C03871E18038322300EA3A1EEA1E183807F040EA0010EB30C0EB3180133FEB1F0013
1E151D7B961B>I<3803FFE03800E038141CA3EA01C0A3143838038070EB81C0EBFF00EB
8180380700C014E0A3380E01C0A214C2A2381C00C438FF807817177E961A>I<EB7C4038
018280EA03011206A2000C1300A2000EC7FCA2EA0FC0EA07F86C7EEA007C130EA2130612
20485AA2EA60085BEAD860EA87C012177D9614>I<381FFFFC3838381C00201308126012
401370128000001300A25BA4485AA4485AA448C7FCEA7FF016177A961A>I<387FC1FC38
1C00601440A3481380A438700100A4EAE002A45B5BA2EA6030EA3040EA1F80161779961A
>I<38FF80FC381C0070146014401480A2EB01001302A2EA1E04120E5B5BA25BA25B5B12
0F6CC7FCA212061204161779961A>I<39FF87F87F393C01C01C001C140801031310A201
05132015401309903808E0801310ECE1001320EB60E21340EB80E414EC381D00E814F012
1E5C120C5C12082017799624>I<3903FC3F803900F00E00EB70085CEB7820EB38605C6D
5A011DC7FC131E130EA2131F13371327EB47801383EA010300027FEA0401120C001C7F38
FE07F819177E961A>I<3803FFF838078070380600E0380401C0130300081380EB0700EA
000E5B133C13385B5B485A38038080A238070100120E485AEA38021306EA701CEAFFFC15
177D9616>90 D<EA0390EA0C701218EA303013601260A3EAC0C013C812401241EA62D0EA
1C700D0E7C8D12>97 D<127C1218A45AA4EA6780EA68C0EA7040EA606012C0A4EA80C0A2
EA8180EAC1001246123C0B177C9610>I<EA07C0EA0C60EA30E01220EA60005AA35AA2EA
C0201340EA6180EA3E000B0E7C8D10>I<133E130CA41318A4EA03B0EA0C701218EA3030
13601260A3EAC0C013C812401241EA62D0EA1C700F177C9612>I<EA0780EA1840EA3020
12601340EAFF80EAC000A413201340EA6180EA3E000B0E7C8D10>I<131C1336133E136C
1360A313C0A2EA07F8EA00C0A3EA0180A5EA0300A412021206A2126612E45A12700F1D81
960B>I<EA01C4EA063CEA0C1C121813181230A3EA2030A3EA3070EA11E0EA0E601200A2
EA60C012E0EAC380EA7E000E147E8D10>I<121F1206A45AA4EA19E0EA1A30EA1C101218
EA3030A4EA6060136413C413C8EAC04813700E177D9612>I<1203120712061200A61218
122C124CA2128C1218A312301232126212641224123808177D960B>I<13181338131013
00A6EA01C0EA0220EA0430A2EA08601200A313C0A4EA0180A4EA630012E312C612780D1D
81960B>I<121F1206A45AA4EA1838134C139CEA1918EA3200123C123FEA3180EA60C013
C8A3EAC0D013600E177E9610>I<123E120CA41218A41230A41260A412C012C8A312D012
6007177D9609>I<3830783C38498CC6384E0502EA4C06389C0E06EA180CA348485A1580
1418A23960300900140E190E7D8D1D>I<EA3078EA498CEA4E04124CEA9C0C1218A3EA30
1813191331A2EA6012131C100E7D8D14>I<EA0780EA18C0EA3040EA6060A212C0A3EA80
C0A2EA8180EAC1001246123C0B0E7B8D12>I<EA0C38EA12C4EA1306A212261206A3EA0C
0CA213181310EA1A20EA19C0EA1800A25AA312FC0F147F8D12>I<EA0710EA18D0EA3070
1260136012C0A3EA80C0A312C1EA478012391201A2EA0300A3EA1FC00C147C8D10>I<EA
30F0EA4B18EA4E38EA4C30EA98001218A35AA45AA20D0E7D8D0F>I<EA0780EA0C40EA18
E0A2EA3800121EEA1F80EA07C01200126012E0EAC180EAC300123E0B0E7D8D0F>I<1206
A25AA4EAFF80EA1800A35AA45A1261A212621264123809147D930C>I<EA3804EA2C0C12
4CA2EA8C181218A3EA30301332A21372EA18B4EA0F1C0F0E7D8D13>I<EA3810EA2C1812
4CA2EA8C101218A3EA3020A21340A2EA1880EA0F000D0E7D8D10>I<38380410384C0C18
A3388C18101218A338303020A3001013403818588038078F00150E7D8D18>I<EA0E3CEA
1346EA218E138CEA43001203A31206130812C6EAE610EACA20EA71C00F0E7E8D10>I<EA
3804EA2C0C124CA2EA8C181218A3EA3030A31370EA18E0EA0F60120013C012E0EAE180EA
4300123C0E147D8D11>I<EA0708EA0F88EA10701320EA00401380EA01001202120CEA10
101220EA3C20EA47C0EA83800D0E7E8D0F>I E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: FZ cmr8 8 88
/FZ 88 128 df<EBFCF83807839CEA0E07001C13081400A5B512E0381C0700AC387F1FE0
1617809615>11 D<13FCEA0782EA0E07121C130290C7FCA4B5FCEA1C07AC387F1FC01217
809614>I<13FFEA0707120E121CA6B5FCEA1C07AC387F1FC01217809614>I<EBFC7E3807
03C1390E078380001C1303EC010091C7FCA4B61280381C0703AC397F1FCFE01B1780961D
>I<126012F0A51260A91200A4126012F0A2126004177D960A>33
D<EA60C0EAF1E0A21270EA1020A2EA2040A2EA4080A20B0A7F9612>I<EB1830A3EB3060
A5EB60C0A2B6FCA23800C180A338018300A3B6FCA238030600EA060CA5485AA3181D7E96
1D>I<EA01C0EA0320EA0610120EA35B5B5B380700FE1438EB8020A2380BC04012113820
E0803860F100EAE07A133AEB1C02EA701E3838638C381F80F817177F961B>38
D<126012F0A212701210A21220A21240A2040A7D960A>I<120112021204120C1218A212
30A212701260A312E0AA1260A312701230A21218A2120C12041202120108227D980E>I<
12801240122012301218A2120CA2120E1206A31207AA1206A3120E120CA21218A2123012
201240128008227E980E>I<1330ABB512FCA238003000AB16187E931B>43
D<126012F0A212701210A21220A21240A2040A7D830A>I<EAFF80A2090280870C>I<1260
12F0A2126004047D830A>I<130813181330A31360A313C0A3EA0180A3EA0300A21206A3
5AA35AA35AA35AA35AA20D217E9812>I<EA07C0EA1830EA3018EA701CEA600CA2EAE00E
A9EA600CA2EA701CEA3018EA1C70EA07C00F157F9412>I<1206120E12FE120EB1EAFFE0
0B157D9412>I<EA0F80EA30E0EA4070EA8030EAC03812E0124012001370A2136013C0EA
0180EA03001206EA0C081208EA1018EA3FF0127F12FF0D157E9412>I<EA0FE0EA3030EA
6018EA701CA21200131813381360EA07E0EA00301318130C130EA212E0A2EAC00CEA4018
EA3030EA0FE00F157F9412>I<1330A2137013F012011370120212041208121812101220
124012C0EAFFFEEA0070A5EA03FE0F157F9412>I<EA6030EA7FE013C0EA44001240A4EA
4F80EA70E0EA4070EA00301338A2124012E0A2EA8030EA4060EA20C0EA1F000D157E9412
>I<EA01F0EA0608EA080CEA181C1230EA7000126012E0EAE3E0EAEC30EAF018130CEAE0
0EA31260A2EA300C1318EA1830EA07C00F157F9412>I<1240EA7FFE13FC13F8EAC008EA
80101320EA00401380A2EA01005AA212021206A2120EA512040F167E9512>I<EA07E0EA
1830EA2018EA600CA21270EA7818EA3E10EA1F60EA07C0EA0FF0EA18F8EA607C131EEAC0
0E1306A21304EA600CEA3830EA0FE00F157F9412>I<EA07C0EA1830EA30181260EAE00C
A2130EA3EA601E1230EA186EEA0F8EEA000E130C131CEA7018A2EA6030EA20E0EA1F800F
157F9412>I<126012F0A212601200A6126012F0A21260040E7D8D0A>I<126012F0A21260
1200A6126012F0A212701210A21220A21240A204147D8D0A>I<B512FCA2C8FCA6B512FC
A2160A7E8C1B>61 D<13FCEA0303380C00C00010132038207810EA218438430208384701
C8008613C4128EA512861247EA4303382184C8382078706CC7FC000C131C000313F03800
FF0016177E961B>64 D<13101338A3135CA3138EA3EA0107A238020380A33807FFC0EA04
01A2380800E0A2001813F0123838FE03FE17177F961A>I<EAFFFE381C0380EB00E01460
1470A414E0EB01C0381FFF8014C0381C00E0147014301438A4147014E0EB01C0B5120015
177F9619>I<EBFC1038038330380E00B0481370481330123000701310126012E01400A5
1410126012700030132012386C13406C138038038300EA00FC14177E9619>I<B5FC381C
01C0EB00E0143014381418141C140C140EA7140C141CA2143814301460EB01C0B5120017
177F961B>I<B512E0EA1C00146014201410A3EB0400A3130CEA1FFCEA1C0C13041408A2
130014181410A2143014F0B5FC15177F9618>I<B512E0EA1C00146014201410A3EB0400
A3130CEA1FFCEA1C0C1304A390C7FCA6EAFFC014177F9617>I<EB7E0838038198380600
584813384813185A00701308A25A1400A4EB03FEEB00381270A212307E7E7E380380D838
007F0817177E961C>I<38FF83FE381C0070AA381FFFF0381C0070AA38FF83FE17177F96
1A>I<EAFFE0EA0E00B3A3EAFFE00B177F960D>I<EA0FF8EA00E0B112E0A2EAC1C0EA6180
EA1F000D177E9612>I<38FF80FE381C0078146014401480EB0100130613085B13381378
139CEA1D0E121EEA1C07EB0380EB01C0A2EB00E014701478147C38FF80FF18177F961B>
I<EAFFC0001CC7FCAD1420A31460A2144014C01303B5FC13177F9616>I<00FEEB03F800
1E14C000171305A338138009A23811C011A33810E021A2EB7041A3EB3881A2EB1D01A213
0EA2123839FE040FF81D177F9620>I<00FC13FE001E1338001F13101217EA1380EA11C0
A2EA10E013701338A2131C130E130F1307EB0390EB01D0A2EB00F014701430123800FE13
1017177F961A>I<13FCEA0303380E01C0381C00E0481370003013300070133800601318
00E0131CA700701338A200301330003813706C13E0380E01C038030300EA00FC16177E96
1B>I<EAFFFE381C0380EB00C014601470A4146014C0EB0380381FFE00001CC7FCAAB47E
14177F9618>I<13FCEA0303380E01C0381C00E04813700030133000701338A248131CA7
00601318007013380030133038387870381C84E0380E85C0380383003800FE0413021303
148CEB01F8A2EB00F0161D7E961B>I<EAFFFC381C0380EB00C014E01470A414E014C0EB
0380381FFE00381C0780EB01C0EB00E0A514E1A2147238FF803C18177F961A>I<EA0FC4
EA302CEA601CEA400CEAC004A3EAE0001270127FEA3FE0EA0FF8EA01FCEA001C130E1306
1280A3EAC004EAE008EAD810EA87E00F177E9614>I<387FFFF83860381800401308A200
801304A300001300AF3803FF8016177F9619>I<38FF80FE381C00381410B06C13201206
6C13403801818038007E0017177F961A>I<B4137E003C1338001C1310A26C1320A2000F
13606C1340A238038080A213C100011300A2EA00E2A213F21374A21338A3131017177F96
1A>I<3AFF07FC3F803A3C00E00E00001C1404A2EB0170000E5CA2EB023800075CA2EB04
1CD803845BA2EB880ED801C85BA2EBD007D800F05BA3EBE003016090C7FCA221177F9624
>I<38FF83FC381F01E0380E00807EEB8100EA0382EA01C213E4EA00E81378A21338137C
135E138EEA0187EB0780EA0203380601C0000413E0EA0C00001C13F038FF03FE17177F96
1A>I<39FF803F80391E001C00000E13086C5BEB8030000313206C6C5A13E000005B13F1
0171C7FC133A133E131CA9EBFF80191780961A>I<B5128038F0070012C0130EEA801E13
1C5BEA007813705BA2485A485AA2380700805A120EEA1C01003C13001238485A130FB5FC
11177E9616>I<12FCA212C0B3AB12FCA206217D980A>I<EA2040A2EA4080A2EA8100A2EA
E1C0EAF1E0A2EA60C00B0A7B9612>I<12FCA2120CB3AB12FCA2062180980A>I<EA3FC0EA
70601330EA20381200EA03F8EA1E3812301270EAE039A21379EA70FFEA1F1E100E7F8D12
>97 D<12F81238A8EA39F0EA3E0CEA380613077F1480A414005B1306EA361CEA21F01117
7F9614>I<EA07F0EA18381230EA7010EA600012E0A41260EA70081230EA1830EA07C00D
0E7F8D10>I<133E130EA8EA07CEEA1C3EEA300E1270126012E0A412601270EA301EEA18
2E3807CF8011177F9614>I<EA0FC0EA1860EA3030EA7038EAE018EAFFF8EAE000A31260
EA7008EA3010EA1830EA07C00D0E7F8D10>I<EA03E0EA0670120EEA1C201300A5EAFF80
EA1C00ACEA7F800C1780960B>I<EA0F9EEA18E3EA3060EA7070A3EA3060EA18C0EA2F80
EA20001260EA3FE013F813FCEA600EEAC006A3EA600CEA3838EA0FE010157F8D12>I<12
F81238A813F8EA3B1CEA3C0E1238AA38FE3F8011177F9614>I<12301278A212301200A5
12F81238AC12FE07177F960A>I<1203EA0780A2EA0300C7FCA5EA1F801203AF1243EAE3
0012E7127C091D82960B>I<12F81238A8133E13381330134013801239EA3FC0EA39E012
3813F01378133CA2EAFE7F10177F9613>I<12F81238B3A312FE07177F960A>I<38F8F83E
383B1CC7393C0F0380EA380EAA39FE3F8FE01B0E7F8D1E>I<EAF8F8EA3B1CEA3C0E1238
AA38FE3F80110E7F8D14>I<EA07C0EA1830EA3018EA600CA2EAE00EA5EA701CEA3018EA
1830EA07C00F0E7F8D12>I<EAF9F0EA3E1CEA380613077F1480A414005B130EEA3E1CEA
39F00038C7FCA512FE11147F8D14>I<EA07C2EA1C26EA381EEA700E126012E0A4126012
70EA301EEA1C2EEA07CEEA000EA5EB3F8011147F8D13>I<EAF9E0EA3A70123CEA382013
00A9B4FC0C0E7F8D0E>I<EA1F40EA60C0EAC040A2EAE000B4FCEA7F80EA1FC0EA01E0EA
8060A212C0EAE0C0EA9F000B0E7F8D0E>I<1208A31218A21238EAFFC0EA3800A71340A4
EA1C80EA0F000A147F930E>I<EAF83EEA380EAA131EEA1C2E3807CF80110E7F8D14>I<EA
FE1FEA380EEA3C0CEA1C08A2EA0E10A2EA0720A213E0EA03C0A2EA0180A2100E7F8D13>
I<38FEFE7C383838381410133C001C1320134C381E4E60380ECE401387000713801303A2
00031300EA0201160E7F8D19>I<EAFE3FEA3C1CEA1C10EA0E20EA074013C0EA0380EA01
C0EA02E0EA04F0EA0870EA1838EA383CEAFC7F100E7F8D13>I<EAFE1FEA380EEA3C0CEA
1C08A2EA0E10A2EA0720A213E0EA03C0A2EA0180A21300A212E2A212A4127810147F8D13
>I<EAFFF0EAC0E01280EA81C0EA83801287EA0700120EEA1E08121CEA3818EA70101330
EAFFF00D0E7F8D10>I<B512801101808812>I<B712C02201808823>I<EA60C0EAF1E0A2
EA60C00B047D9612>127 D E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: F0 cmsy10 10 66
/F0 66 120 df<B61280A219027D8A20>0 D<126012F0A2126004047C8B0C>I<00401320
00C01360006013C03830018038180300EA0C066C5A6C5AEA01B0EA00E0A2EA01B0EA0318
EA060C487E487E38300180386000C04813600040132013147A9320>I<1203A4EAC30CEA
E31CEA7338EA1FE0EA0780A2EA1FE0EA7338EAE31CEAC30CEA0300A40E127D9215>I[<13
0E131FA3130E90C8FCA6B612E0A2C9FCA6130E131FA3130E>27 24
126 149 32 I<EB3F80EBC460380304180004130400087F00107F0020EB0080A2004014
40A200801420A3B612E03980040020A400401440A200201480A20010EB01000008130200
045B000313183800C460EB3F801B1C7E9720>8 D<EB3F80EBC060380300180004130448
7F487F48EB0080A2481440A2481420A3B612E00080C71220A400401440A26C1480A26CEB
01006C13026C5B000313183800C060EB3F801B1C7E9720>I<EB3F80EBC0603803001800
041304487F001413050022EB0880002113103940802040EB40403980208020EB1100130A
1304A2130A1311EB20803940404040EB80203921001080002213080014EB050000087F6C
5B000313183800C060EB3F801B1C7E9720>I<EB3F80EBC0603803001800041304487F48
130548EB0880141048EB2040144048EB8020EB010013025BA25B5B5BD8404013405B0021
C7128012220014EB0100000813026C5B000313183800C060EB3F801B1C7E9720>I<EB3F
80EBC0603803001800041304487F487F48EB0080A2481440A2481420130E131FA4130E90
C7FC00401440A26C1480A26CEB01006C13026C5B000313183800C060EB3F801B1C7E9720
>I<EB03FE90380FFF8090383C01E09038F00078D801C0131C48C7120600068048EC0180
48EC00C0A2481560A2481530A3481518A900601530A36C1560A26C15C0A26CEC01806CEC
03006C1406D801C0131CD800F0137890383C01E090380FFF80D903FEC7FC25277E9D2A>
I<EA03C0EA0FF0EA1C38EA300CEA6006A2EAC003A4EA6006A2EA300CEA1C38EA0FF0EA03
C010107E9115>I<EA03C0EA0FF0EA1FF8EA3FFCEA7FFEA2B5FCA4EA7FFEA2EA3FFCEA1F
F8EA0FF0EA03C010107E9115>I<00C014606C14E00038EB0380001EEB0F003807C07C38
01FFF038003F8090C8FCA6EB3F803801FFF03807C07C381E000F0038EB038000E0EB00E0
4814601B147E9320>I<B612E07EC9FCA8B612E0A2C9FCA8007FB512E0B6FC1B167E9420>
I<90387FFF800003B5FCD80780C7FC000CC8FC5A5AA25AA25AA81260A27EA27E120E6C7E
0001B512806C7E90C8FCA8007FB51280A219247D9920>I<EA7FFF14C0C712F01438140C
80A280A2EC0180A8EC0300A21406A25C5C14F0387FFFE091C7FCC9FCA8B6FCA219247D99
20>I<EC01801407EC1E001478EB01E0EB0780010EC7FC133813F0EA03C0000FC8FC123C
12F0A2123C120FEA03C0EA00F01338130E6D7EEB01E0EB0078141EEC0780140191C7FCA8
007FB5FCB6128019247D9920>I<12C012F0123C120FEA03C0EA00F01338130E6D7EEB01
E0EB0078141EEC0780A2EC1E001478EB01E0EB0780010EC7FC133813F0EA03C0000FC8FC
123C127012C0C9FCA8007FB5FCB6128019247D9920>I<15801401A2EC0300A314065C14
3814F0EB03C0017FC7FCEAFFFCA2EA007FEB03C0EB00F01438140C8080A3EC0180A21400
1500A8B61280A219247D9920>I<7E7EA21260A37E7E120E6C7EEA01E0EA007F90381FFF
80A2017FC7FCEA01E0EA0780000EC8FC12185A5AA35AA3C9FCA8B61280A219247D9920>
I<D80F801320EA1FE0EA3FF8D8707C1360D8E01F13E039C007C1C0398003FF8001001300
143E1B097E8E20>I<D80F801320EA1FE0487ED870781360EA601E486C13C0EB07C13980
01FF806D1300143E390F800020EA1FE0487ED870781360EA601E486C13C0EB07C1398001
FF806D1300143E1B147E9320>I<90387FFF800003B5FCD80780C7FC000CC8FC5A5AA25A
A25AA81260A27EA27E120E6C7E0001B512806C7E191A7D9620>I<EAFFFEEBFF80380001
E0EB00701418140CA21406A21403A81406A2140CA214181430EB01E0B512C0EBFE00181A
7C9620>I<02071338020E137091383801C09138F00780903901C00E009038070038010E
5B90383801C09038F007802601C00EC7FC38070038001E13F0383801C0D8E007C8FCA238
3801C0381E00F0000713383801C00E3900F0078090383801C090380E00706D7F903801C0
0E903900F0078091383801C091380E00706E1338251C7E972A>I<EAE00738700380381C
00E0000F13783803801C3800E007903870038090381C00E0010F1378903803801C903800
E00791387803C091381C00E002071338A2021C13E091387803C09138E00700903803801C
90380F0078011C13E090387003804948C7FC3803801C380F0078001C13E0387003804848
C8FC251C7E972A>I<15801401A2EC0300A314065C143814F0EB03C0017FC7FCEAFFFCA2
EA007FEB03C0EB00F01438140C8080A3EC0180A3191A7D9520>I<7E7EA21260A37E7E12
0E6C7EEA01E0EA007F90381FFF80A2017FC7FCEA01E0EA0780000EC8FC12185A5AA35AA3
191A7D9520>I<13C0485AA348C9FCA212065A121C1230B712F0A20030C9FC121C120C7E
7EA26C7EA36C7E24167D942A>I<153081A381A281811680ED00C0B712F8A2C912C0ED03
80160015065DA25DA35D25167E942A>I<D80F801320EA1FE0EA3FF8D8707C1360D8E01F
13E039C007C1C0398003FF8001001300143EC9FCA9007FB512E0B6FC1B147E9220>39
D<14036E7EA26E7E811560B612F015FCC8120EED0380ED01E0ED007816E0ED0380ED0700
150CB612F85DC812605DA24A5AA24AC7FC25187E952A>41 D<3907C001E0391FF0078039
30780C0038201C18486C5A6D5A00805B13031301A2808038400370EB063838600C1C3820
180F3918F007E03807C0011B127E9120>47 D<D807E0133FD80FF8EBF1803A183E018040
3A200F030020264007841310EB03CC268001D81308EB00F0A21478A214DC2640019E1310
140F3A20060780203A100C03E0C03A0C7800FF80D807E0EB3F0025127E912A>49
D<EB7FF8EA01FF38078000000EC7FC12185AA25AA25AA3B512F8A200C0C7FCA31260A27E
A27E120E6C7E3801FFF8EA007F151A7D961C>I<1460A214C0A2EB0180A3EB0300A21306
A25BA25BA35BA25BA25BA2485AA248C7FCA31206A25AA25AA25AA35AA25A124013287A9D
00>54 D<12C0A612E0A212C0A6030E7E9000>I<0040130400C0130C00601318A36C1330
A36C1360A2381FFFE06C13C0EA0C00A238060180A238030300A3EA0186A3EA00CCA31378
A31330A2161E809C17>I<B512C0A2C7FCABEA3FFF5AC7FCACB5FCA2121D7E9C17>I<B512
FEA2C71206A9170B7E8E1C>I<EB03F0EB0FF81330EB4078EA0180380300705A000E13E0
A2381C018090C7FC5AA21278A21270A212F0A514206C1360EB01C0007C1380387E0300EA
3F04EA1FF8EA0FE0151E7F9C16>67 D<EB3FFE48B512C039071E1FE039081C03F00038EB
01F838703C000060147C12C00000143C1338A21378A215381370157801F0137049136015
E00001EB01C001C01380EC020000035BEB8018146038070380D80FFEC7FCEA1FF01E1C80
9B20>I<EB03FCEB1FFEEB703EEB801E3801001C1207000E1338000C1330001C13604813
00A212781270A200F0130814381478A2147014F0EAF80114E0EA7C02EA7F0D383FF1C0EA
0FC138000380A2EB0700A2EA180EEA7E08EA7FF0EA1FC017227F9C19>71
D<EB3FFF48B512E039071E0FF039081C01F800381300D8703C1378126012C00000147013
385D01785B4A5A0202C7FCEB700CEB71F013F313E1EBE0F81201EBC07CA20003133C9039
803E0180ED07000007EB1F06010013880006EB0FF048EB07C0211D809B23>82
D<150348B512FE000714F8390C00E00048485A1230EA700312F000C05B12001307A291C7
FCA25BA2130EA2131EA2131CA2133C1338A213781370A213F05B5B485A20207F9C17>84
D<D803E01330000F14E012310001130101C013C0A200031303018013801407EA0700EC0F
005A000E5B141E48133EA248137E5C007813DC387001BC130338F007381306EB0C781318
EAF82013C0387F007E007C13781C1D819B1A>I<0040130200C01306B20060130CA26C13
18001C1370380F01E03803FF803800FE00171A7E981C>91 D<13FE3803FF80380F01E038
1C00700030131848130CA2481306B200401302171A7E981C>I<0040130200C01306A413
18A638C7FFC6A238C01806A63860000CA26C1318001C1370380F01E03803FF803800FE00
171A7E981C>I<13101338A2136CA313C6A2EA0183A238030180A2380600C0A3481360A2
481330A2481318A348130CA24813061402171A7E981C>I<00C0130214060060130CA26C
1318A36C1330A26C1360A26C13C0A338030180A238018300A2EA00C6A2136CA31338A213
10171A7E981C>I<124012C0ACB512E014F000C0C7FCAD1240141D7E9C19>I<14101430AC
387FFFF0B5FCC71230AD1410141D7E9C19>I<133C13E0EA01C013801203AD13005A121C
12F0121C12077E1380AD120113C0EA00E0133C0E297D9E15>102
D<12F0121C12077E1380AD120113C0EA00E0133C13E0EA01C013801203AD13005A121C12
F00E297D9E15>I<134013C0EA0180A3EA0300A21206A35AA25AA35AA25AA35AA21260A3
7EA27EA37EA27EA37EA2EA0180A3EA00C013400A2A7D9E10>I<12C0A21260A37EA27EA3
7EA27EA37EA2EA0180A3EA00C0A2EA0180A3EA0300A21206A35AA25AA35AA25AA35AA20A
2A7E9E10>I<12C0B3B3A502297B9E0C>I<12C0A21260A37EA37EA37EA37EA27EA3EA0180
A3EA00C0A31360A21330A31318A3130CA31306A31303130110297E9E15>110
D<12F01238121CA2120EA6121CA31238A21270A312E0A61270A21238121E071C7E970C>
I<164016C0ED0180A2ED0300A21506A25DA25DA25DA25DA25DA24A5AA24AC7FC120C003C
1306124E008E5B12075CEA03805CA26C6C5AA26C6C5AA2EB7180A2013BC8FCA2131EA213
0CA2222A7E8123>I<00C01306B3A5B512FE7E17197E981C>116 D<B512FEA238C00006B3
A40040130217197E981C>I<007FB512C0B6FC00C0C8FCB3A4B612C0A2C9FCA8007FB512
80B612C01A247D9920>I<B612C0A2C8FCB3A4007FB5FCB6FCC9FCA8007FB512C0B6FC1A
247E9920>I E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: F1 cmsl12 12 16
/F1 16 117 df<0007B512FE39007C003E0178131C150C1504A35BA314041500140C3801
E008A21438EBFFF8EBE03814183803C010A31504EC0008A2485A1510A215301520156039
0F0001E090388007C0B6FC1F227DA121>69 D<D807FCEC1FF0D8007CEC3F00015E143E16
5EA2169EA2018F495AA21502A215049038878008D801075C1510A21520EB03C015400002
5D1580A2903801E100A214E200044A5A14E4EB00F8A214F0120C4A485A003E01607F3AFF
C0403FFE2C227DA12D>77 D<0007B5FC39007C03C090387800F01578A2157CA25BA45D5D
4848485A4A5A020FC7FCEBFFF8EBE018140EEA03C080A281A33807800FA41680ED8100EA
0F0090388007C239FFF803C6C812F821237DA124>82 D<001FB512FE393C03E03E0038EB
C00C00301404122012601240EB078012C01280A200001400A249C7FCA6131EA65BA6137C
13FC381FFFF01F227AA123>84 D<EA07FCEA0C06EA1E031480EA0C01000013C0EB0380A2
137FEA03E3EA0F03121C38380700127800F01308A2130FA2EB1710387867A0381F83C015
157D9418>97 D<13FF380381C0EA0603120C381C018048C7FC1278127012F0A55AA26C13
8038700100A2EA3806EA1C18EA07E012157C9416>99 D<13FE38038380380701C0380C00
E0121C5A12781270B5FC00F0C7FCA45AA26C134000701380123038380300EA0E0CEA03F0
13157D9416>101 D<EB03C0EB0C30EB3870EB30F0EB7070EBE000A3485AA6EA7FFCEA03
80A548C7FCA6120EA65A121EEAFFE014237EA20F>I<1378EA03F8EA0070A65BA63801C3
F0EBCC18EBD00CEBE00EA213C00003131C1380A538070038A6000E1370000F137838FFE7
FF18237FA21B>104 D<136013F01201A2EA00E01300A8EA01C0120F1201A4EA0380A6EA
0700A6120E120FEAFFC00C227FA10E>I<1378EA03F8EA0070A613E0A6EA01C0A6EA0380
A6EA0700A6120E120FEAFFE00D237FA20E>108 D<3801C3F0380FCC183801D00CEBE00E
A213C00003131C1380A538070038A6000E1370000F137838FFE7FF18157F941B>110
D<137E38038380380600C04813E0001C13705A00781378127012F0A44813F0A214E0EAF0
01007013C0EB038038380700EA1C1CEA07F015157D9418>I<3801C3C0380FCCE0EA01D1
13E1EBE0C0EBC00012035BA548C7FCA6120E120FEAFFF013157F9413>114
D<EA01F9EA0607EA0C0312181301A21302EA1C00EA1FC0EA0FF8EA07FCEA007E130EEA40
06A31260130CEAE008EAD830EA87C010157E9413>I<1380A3120113005AA25A5A5AEAFF
FCEA0E00A55AA6EA3810A51320A2EA1C40EA07800E1F7C9E13>I
E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: F2 cmr12 14.4 11
/F2 11 117 df<B512C0A2D807F0C7FC6C5AB3A41501A41502A41506A2150E151E157C00
07EB01FCB6FCA220297EA825>76 D<EA03FCEA0C0738100380383C01C0003E7F6D7E121C
1208C7FCA3137FEA03E0EA0F80EA1E005A127C0078144012F8A31301127C393C02788038
1E0C7F3907F01E001A1A7E991D>97 D<13FC38038780380701C0000E13E0EA1C00003C13
F0A2481378A212F8A2B512F800F8C7FCA51278A26C1308A26C1310000E13206C13403801
C18038007E00151A7E991A>101 D<121E123FA4121EC7FCA9120FB4FCA2121F7EB3A2EA
FFF0A20C297EA811>105 D<120FB4FCA2121F7EB3B2EAFFF0A20C2A7EA911>108
D<3A0F07F007F03AFF183818389039201C201C3A1F400E400E000F010F130F01801380A2
01001300B13BFFF0FFF0FFF0A22C1A7E9931>I<137E3803C3C0380700E0000E13704813
38003C133CA248131EA200F8131FA80078131EA26C133CA2001C13386C13706C13E03803
C3C038007E00181A7E991D>111 D<380F07E038FF1838EB601E381F800F000FEB078001
0013C0140315E0A2EC01F0A715E01403A215C0EC07801380EC0F00EB401CEB3078EB0FC0
90C8FCAAEAFFF0A21C267E9921>I<380F0F8038FF11C0EB23E0EA1F43EA0F83EB81C0EB
800090C7FCB07FEAFFFCA2131A7E9917>114 D<3807F080EA1C0DEA3003EA600112E013
00A27E6C1300127EEA7FE0EA3FFC6C7EEA07FF38003F801307388003C0A2130112C0A200
E01380130300F01300EACC0EEA83F8121A7E9917>I<7FA41201A31203A21207120F381F
FF80B5FC38078000AD1440A73803C08012013800E100133E12257FA417>I
E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: F3 cmbx12 14.4 62
/F3 62 123 df<903901FF81FE010FEBEFFF903A7F81FF8F80D9FE01EB1FC03901F803FE
000314FCEA07F0EE0F80020190C7FCA7B712F0A32707F001FCC7FCB3A33A7FFF1FFFE0A3
2A2A7FA927>11 D<49B4FC011F13C090387F81E0EBFC013901F807F01203EA07F0A4EC01
C091C8FCA3EC3FF8B6FCA33807F003B3A33A7FFF3FFF80A3212A7FA925>I<1406140FB3
007FB712C0B812E0A26C16C0C7000FC8FCB314062B2C7CA434>43
D<B51280A611067F9016>45 D<121C127FA2EAFF80A3EA7F00A2121C09097B8813>I<14
03EC0780A2140F1500A25C141E143E143CA2147C1478A214F85C13015CA213035CA21307
5C130F91C7FCA25B131E133E133CA2137C1378A213F85B12015BA212035BA212075B120F
90C8FCA25A121EA2123E123C127C1278A212F85AA21260193C7CAC22>I<EB3F803801FF
F03807E0FC380FC07E48487E497E481480003E130F007E14C0A400FE14E0AF007E14C0A4
6CEB1F80A26C14006D5A380FC07E6C6C5A3801FFF038003F801B277DA622>I<130E131E
137EEA07FE12FFA212F81200B3ABB512FEA317277BA622>I<EBFF80000713F04813FC38
1E03FE393800FF80007C133F00FE14C06C131F15E0140FA2127E003C131FC7FC15C0A2EC
3F801500147E5C5C495A495AEB078049C7FC131E4913E013705B3901C001C0EA0380EA06
00000FB5FC5A5A5AB61280A31B277DA622>I<EB7F803803FFF04813FC380F81FE381F00
7FEA3F80EC3F80A3121F1300C7EA7F00A2147E5C495AEB07F0EBFFC0A2EB01F8EB007E80
1580EC1FC0A215E0A2123C127EB4FCA215C0143F481480007CEB7F00383F01FE6CB45A00
0713F0C613801B277DA622>I<140FA25C5C5C5C5BA2EB03BFEB073F130E131C133C1338
137013E0EA01C0EA038012071300120E5A5A5A12F0B612F8A3C7EA7F00A890381FFFF8A3
1D277EA622>I<00181303381F801FEBFFFE5C5C5C14C091C7FC001CC8FCA7EB7FC0381D
FFF8381F80FC381E003F1208C7EA1F8015C0A215E0A21218127C12FEA315C05A0078EB3F
80A26CEB7F00381F01FE6CB45A000313F0C613801B277DA622>I<EB07F8EB3FFE90B5FC
3901FC07803903F00FC03807C01FEA0F80121F130048EB0F8091C7FC127EA3EAFE02EB1F
F0EB3FFCEB603EEB801F00FF14809038000FC0A24814E0A4127EA4123E003F14C07EEC1F
80D80F8013003807E07E6CB45A6C5B38003FC01B277DA622>I<1238123E003FB512F0A3
4814E015C0158015003870000EA25C485B5C5CC6485AA2495A130791C7FC5B5B131E133E
A2137E137CA213FCA41201A76C5A13701C297CA822>I<EB3FC03801FFF04813FC3807C0
7E48C67E001E7FEC0F80123EA2123F138001C01300EBF01F381FFC1E6D5A380FFFF86C13
E06C7F6C13FC8000077FD80F0F1380D81E0713C0EA3E01397C007FE0141F48130F140714
03A315C0127C007EEB07806CEB0F00381FC03F380FFFFC00035B38007FC01B277DA622>
I<EB7F803801FFF000077F380FC0FC381F803E48487E007E1480A2140F00FE14C0A315E0
A5007E131FA26C133F6C132F380F80CF3807FF8F0001130FEA0008010013C0A3EC1F8012
3E127FEC3F00143E147E007E5B383E03F8381FFFE06C1380D801FEC7FC1B277DA622>I<
EC0780A24A7EA34A7EA24A7EA3EC77F8A2ECF7FC14E3A2903801C1FEA201037F1480A249
486C7EA24980010E133FA2496D7EA2013FB57EA39039700007F8A201F080491303000181
491301A2000381D8FFFE013F13FCA32E297EA833>65 D<B612F815FF16C03A03F8001FE0
ED0FF0ED07F8150316FCA21501A3150316F8A2ED07F0150FED1FC0EDFF8090B5EAFE00ED
FFC09039F8000FF0ED03F8ED01FC16FE1500A216FFA616FE1501ED03FC1507ED1FF8B712
E016C0EDFE0028297DA830>I<91387FE003903907FFFC07011FEBFF0F90397FF00F9F90
39FF0001FFD801FC7F4848147F4848143F4848141F485A160F485A1607127FA290C9FC5A
A97E7F1607123FA26C7E160E6C7E6C6C141C6C6C143C6C6C14786CB4EB01F090397FF007
C0011FB512800107EBFE009038007FF028297CA831>I<B612FCEDFF8016E03A03FC001F
F8ED03FCED00FE167FEE3F80EE1FC0A2EE0FE0A2EE07F0A417F8AA17F0A3EE0FE0A217C0
161FEE3F80EE7F005EED03FCED1FF8B75A168003FCC7FC2D297EA834>I<B712E0A33903
FC001FED07F01501A215001670A3913801C0781638A302031300A2140F90B5FCA3EBFC0F
1403A20201130EA3161C91C7FCA3163C1638167816F815011503151FB712F0A327297EA8
2C>I<B712C0A33903FC003FED0FE015031501A21500A316F0913801C070A316001403A2
140F90B5FCA3EBFC0F1403A21401A491C8FCA9B512FCA324297EA82A>I<91387FE00390
3907FFFC07011FEBFF0F90397FF00F9F9039FF0001FFD801FC7F48488048488048488048
5A82485A82127FA290CAFC5AA892B512F87E7F03001300123FA26C7EA26C7E6C7E6C7E6C
7E6CB45B90387FF007011FB5129F0107EBFE0F9039007FF0032D297CA835>I<B5D8F00F
B5FCA3D803FCC7EA3FC0AF90B7FCA301FCC7123FB1B5D8F00FB5FCA330297EA835>I<B5
12F0A33803FC00B3B1B512F0A314297EA819>I<90B512F8A301001300B3A91218127EB4
FCA35C387E01FC007C5B383E07F0380FFFE0000390C7FC1D297EA823>I<B512FCA3D803
FCC8FCB3A3ED01C0A415031680A21507A2150FA2151F157F913801FF00B7FCA322297EA8
28>76 D<D8FFFE92383FFF80A26D5D0003EFE000A2D9BF8014EFA2D99FC0EB01CFA2D98F
E0EB038FA3D987F0EB070FA2D983F8130EA2D981FC131CA3D980FE1338A2027F1370A291
383F80E0A391381FC1C0A291380FE380A2913807F700A3EC03FEA26E5AA26E5AD8FFFE02
03B51280A2157039297DA840>I<D8FFFCEC7FFF7F7F00036DEB01C080EBBFE0139F80EB
8FF8EB87FCEB83FEEB81FF01801380147F15C0EC3FE0EC1FF0EC0FF8EC07FC140315FEEC
01FF6E1381ED7FC1ED3FE1ED1FF1150F16F9ED07FDED03FF8181167FA2163F161F160F16
07D8FFFE14031601A230297EA835>I<ECFFC0010F13FC90383F807F9039FE001FC0D801
F8EB07E048486D7E48486D7E000F8148486D7EA24848147FA2007F168090C8123FA34816
C0AA6C16806D147FA2003F1600A26C6C14FEA26C6C495A6C6C495A6C6C495A6C6C495A6C
6C495A90263FC0FFC7FC90380FFFFC010013C02A297CA833>I<B612F815FF16C03A03FC
003FE0ED07F0ED03F816FC150116FEA716FC150316F8ED07F0ED3FE090B61280EDFE0001
FCC8FCB0B512F0A327297EA82E>I<B612E015FE6F7E3A03FC003FE0ED0FF06F7E6F7E15
0182A65E4B5A1507ED0FE0ED3FC090B500FEC7FCA29039FC00FF80ED3FC06F7E6F7E6F7E
A9170EA21503923801FC1CB538F000FEEE7FF8EE0FE02F297EA832>82
D<9038FF80600003EBF0E0000F13F8381F80FD383F001F003E1307481303A200FC1301A2
14007EA26C140013C0EA7FFCEBFFE06C13F86C13FE80000714806C14C0C6FC010F13E0EB
007FEC1FF0140F140700E01303A46C14E0A26C13076C14C0B4EB0F80EBE03F39E3FFFE00
00E15B38C01FF01C297CA825>I<007FB71280A39039807F807FD87C00140F00781507A2
0070150300F016C0A2481501A5C791C7FCB3A490B612C0A32A287EA72F>I<B500F0EBFF
FEA3D803FCC7EA0380B3AA0001ED07007F0000150E137F6D143CD91FC05B90390FF003F0
6DB55A01001480DA1FFCC7FC2F297EA834>I<B500F0EB7FFFA3D803FEC7EA01C00001ED
0380A26D14076C16006E5B017F140E80013F5CA26E133C011F14386E1378010F14708001
075CA26D6C485AA2ECFE0301015CECFF076D91C7FC1587EC7F8EA215DEEC3FDC15FC6E5A
A26E5AA36E5AA26E5AA230297FA833>I<B53CE07FFFE01FFFC0A32803FC0003FCC7EA70
00A26D6D7E000160A26D6E13016C604B138002801503017F5F4B13C0D93FC0013F49C7FC
A2913AE00E1FE00F011F160E17F09126F01C0F131E010F161C033C13F8902707F838075B
A2037813FC902703FC70035BA2913AFEE001FEF001015E02FF14FF4B7E6D5EA26E486D5A
A36EC76CC8FCA2023E80021E141EA242297FA845>I<3803FF80000F13F0381F01FC383F
80FE147F801580EA1F00C7FCA4EB3FFF3801FC3FEA0FE0EA1F80EA3F00127E5AA4145F00
7E13DF393F839FFC381FFE0F3803FC031E1B7E9A21>97 D<EAFFE0A3120FACEBE1FE9038
EFFF809038FE07E09038F803F09038F001F89038E000FCA2157EA2157FA8157EA315FCA2
9038F001F89038F803F090389C0FE090380FFF80390E01FC00202A7EA925>I<EB3FF038
01FFFC3803F03E380FC07FEA1F80EA3F00A248133E007E90C7FCA212FEA7127EA2127F6C
EB03801380001FEB0700380FE00E3803F83C3801FFF838003FC0191B7E9A1E>I<EC7FF0
A31407ACEB3F873801FFF73807F03F380FC00F381F8007EA3F00A2127EA312FEA8127EA2
7EA2381F800F380FC01F3907E07FFF3801FFE738007F87202A7EA925>I<EB3FC03801FF
F03803E07C380F803E001F7F130048EB0F80127E15C0A200FE1307A2B6FCA248C8FCA312
7EA2127F6CEB01C07E390F8003803907C007003803F01E3800FFFCEB3FE01A1B7E9A1F>
I<EB07F8EB3FFCEB7E3E3801FC7FEA03F813F01207143E1400A7B512C0A33807F000B3A3
387FFF80A3182A7EA915>I<9038FF80F00003EBE3F8390FC1FE1C391F007C7C48137E00
3EEB3E10007EEB3F00A6003E133E003F137E6C137C380FC1F8380BFFE00018138090C8FC
1238A2123C383FFFF814FF6C14C06C14E06C14F0121F383C0007007CEB01F8481300A400
7CEB01F0A2003FEB07E0390FC01F806CB5120038007FF01E287E9A22>I<EAFFE0A3120F
AC147E9038E1FF809038E30FC001E413E0EBE80701F813F013F0A213E0B039FFFE3FFFA3
202A7DA925>I<1207EA0F80EA1FC0EA3FE0A3EA1FC0EA0F80EA0700C7FCA7EAFFE0A312
0FB3A3EAFFFEA30F2B7EAA12>I<EAFFE0A3120FACEC1FFCA3EC0780EC0F00141E5C5C14
E0EBE3C013E7EBEFE0EBFFF08013F3EBE1FCEBC0FE147FA2EC3F80EC1FC0EC0FE0A2EC07
F039FFFC1FFFA3202A7FA923>107 D<EAFFE0A3120FB3B2EAFFFEA30F2A7EA912>I<26FF
C07FEB1FC0903AC1FFC07FF0903AC307E0C1F8D80FC49038F101FC9039C803F20001D801
FE7F01D05BA201E05BB03CFFFE3FFF8FFFE0A3331B7D9A38>I<38FFC07E9038C1FF8090
38C30FC0D80FC413E0EBC80701D813F013D0A213E0B039FFFE3FFFA3201B7D9A25>I<EB
3FE03801FFFC3803F07E390FC01F80391F800FC0393F0007E0A2007EEB03F0A300FE14F8
A8007E14F0A26CEB07E0A2391F800FC0390FC01F803907F07F003801FFFC38003FE01D1B
7E9A22>I<38FFE1FE9038EFFF809038FE0FE0390FF803F09038F001F801E013FC140015
FEA2157FA8157E15FEA215FC140101F013F89038F807F09038FC0FE09038EFFF809038E1
FC0001E0C7FCA9EAFFFEA320277E9A25>I<90383F80703901FFE0F03803F079380FE01D
381F800F123FEB00075AA2127E12FEA8127FA27E1380001F130F380FC01F3807F0773801
FFE738007F87EB0007A9EC7FFFA320277E9A23>I<38FFC1F0EBC7FCEBC63E380FCC7F13
D813D0A2EBF03EEBE000B0B5FCA3181B7F9A1B>I<3803FE30380FFFF0EA3E03EA780012
7000F01370A27E00FE1300EAFFE06CB4FC14C06C13E06C13F0000713F8C6FCEB07FC1300
00E0137C143C7E14387E6C137038FF01E038E7FFC000C11300161B7E9A1B>I<13E0A412
01A31203A21207120F381FFFE0B5FCA2380FE000AD1470A73807F0E0000313C03801FF80
38007F0014267FA51A>I<39FFE07FF0A3000F1307B2140FA2000713173903F067FF3801
FFC738007F87201B7D9A25>I<39FFFC03FFA3390FF000F0000714E07F0003EB01C0A2EB
FC0300011480EBFE070000140013FFEB7F0EA2149EEB3F9C14FC6D5AA26D5AA36D5AA26D
5AA2201B7F9A23>I<3BFFFC7FFC1FFCA33B0FE00FE001C02607F007EB0380A201F8EBF0
0700031600EC0FF801FC5C0001150EEC1FFC2600FE1C5B15FE9039FF387E3C017F1438EC
787F6D486C5A16F0ECE01F011F5CA26D486C5AA2EC800701075CA22E1B7F9A31>I<39FF
FC1FFEA33907F003803803F8079038FC0F003801FE1E00005BEB7F3814F86D5A6D5A130F
806D7E130F497EEB3CFEEB38FFEB787F9038F03F803901E01FC0D803C013E0EB800F39FF
F03FFFA3201B7F9A23>I<39FFFC03FFA3390FF000F0000714E07F0003EB01C0A2EBFC03
00011480EBFE070000140013FFEB7F0EA2149EEB3F9C14FC6D5AA26D5AA36D5AA26D5AA2
5CA21307003890C7FCEA7C0FEAFE0E131E131C5BEA74F0EA3FE0EA0F8020277F9A23>I<
003FB5FCA2EB00FEEA3C01383803FC007813F8EB07F0EA700F14E0EB1FC0EA003F1480EB
7F005B5B3801FC07120313F8EA07F0000F130F13E0381FC00E003F131E387F803EEB00FE
B5FCA2181B7E9A1E>I E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: F4 cmr10 10 98
/F4 98 128 df<1303A2497EA2497E130BEB13E01311EB21F01320497E1478EB807C143C
3801003E141E0002131F8048148014074814C0140348EB01E0003014F000201300006014
F8007FB5FCB612FCA21E1D7E9C23>1 D<B612F0390F000F00B3A839FFF0FFF01C1C7F9B
1F>5 D<B6FC3878001F007C13076C7F001E7F001F1480380F800012077F6C6C13001201
7F6C7E1378A2133013205B49138048C7FC120214015A48EB0300485B48131F007FB5FCB6
FC191C7E9B1E>I<137F3803C1E038070070001C131C003C131E0038130E0078130F0070
7F00F01480A50070140000785BA20038130E6C5BA26C5B00061330A20083EB6080008113
40A2394180C100007F13FFA3191D7E9C1E>10 D<EB7E1F3901C1B180390303E3C0000713
C3000EEBC180903801C000A6B512FC380E01C0B0387F87FC1A1D809C18>I<137E3801C1
80EA0301380703C0120EEB018090C7FCA5B512C0EA0E01B0387F87F8151D809C17>I<EB
7FC0EA01C1EA03031207EA0E01A7B5FCEA0E01B0387FCFF8151D809C17>I<90383F07E0
3901C09C18380380F0D80701133C000E13E00100131892C7FCA5B612FC390E00E01CB03A
7FC7FCFF80211D809C23>I<12FC121CB0EAFF8009127F910C>16
D<120EA2121E1238127012E012800707779C15>19 D<126012F0A71260AD1200A5126012
F0A21260041E7C9D0C>33 D<EA6060EAF0F0EAF8F8EA6868EA0808A3EA1010A2EA2020EA
4040EA80800D0C7F9C15>I<9038030180A39038060300A4EB0C06A5495AB612FCA23900
301800A4495AA4B612FCA23900C0600048485AA438030180A4D80603C7FCA31E257E9C23
>I<1380A2EA07E0EA1898EA3084EA6082EA4081EAC087138FA21386EAE0801270127EEA
3FC0EA1FF0EA0FF8EA03FCEA00BE138E13871260EAF083A212E0EA808212401384EA2088
EA1890EA07E0EA0080A210217E9E15>I<13E0EA0310EA0608A2120EA45BA25B6C5AEC3F
E09038800F80EC06000003130412073809C00800115BEA30E03820F020EA607038E03840
EB3C80131C90380F00207F0070EB8040383009C0391830E180390FC03F001B1F7E9D20>
38 D<126012F012F812681208A31210A2122012401280050C7C9C0C>I<1380EA01001202
12065AA25AA25AA35AA412E0AC1260A47EA37EA27EA27E12027EEA0080092A7C9E10>I<
7E12407E12307EA27EA27EA37EA41380AC1300A41206A35AA25AA25A12205A5A092A7E9E
10>I<1306ADB612E0A2D80006C7FCAD1B1C7E9720>43 D<126012F0A212701210A41220
A212401280040C7C830C>I<EAFFE0A20B0280890E>I<126012F0A2126004047C830C>I<
130113031306A3130CA31318A31330A31360A213C0A3EA0180A3EA0300A31206A25AA35A
A35AA35AA35AA210297E9E15>I<EA03C0EA0C30EA1818EA300CA2EA700EEA6006A2EAE0
07ADEA6006A2EA700EEA300CA2EA1818EA0C30EA07E0101D7E9B15>I<5A1207123F12C7
1207B3A5EAFFF80D1C7C9B15>I<EA07C0EA1830EA201CEA400C130EEAF00F12F81307A2
1270EA000F130EA2131CA213381370136013C0EA0180EA0300EA0601120C1218EA1002EA
3FFE127F12FF101C7E9B15>I<EA07E0EA1830EA201CA2EA781E130E131E1238EA001CA2
131813301360EA07C0EA0030131CA2130E130FA2127012F8A3EAF00EEA401C1220EA1830
EA07C0101D7E9B15>I<130CA2131C133CA2135C13DC139CEA011C120312021204120C12
08121012301220124012C0B512C038001C00A73801FFC0121C7F9B15>I<EA300CEA3FF8
13F013C0EA2000A6EA23E0EA2C30EA3018131CEA200E1200130FA3126012F0A3EA800EEA
401E131CEA2038EA1870EA07C0101D7E9B15>I<13F0EA030CEA0404EA0C0EEA181E1230
130CEA7000A21260EAE3E0EAE430EAE818EAF00C130EEAE0061307A51260A2EA7006EA30
0E130CEA1818EA0C30EA03E0101D7E9B15>I<1240387FFF801400A2EA4002485AA25B48
5AA25B1360134013C0A212015BA21203A41207A66CC7FC111D7E9B15>I<EA03E0EA0C30
EA1008EA200C13061260A21270A2EA7C0CEA3E18EA3FB0EA1FE0EA07F013F8EA18FCEA30
7EEA601E130FEAC0071303A4EA60021304EA300CEA1C10EA07E0101D7E9B15>I<EA03C0
EA0C30EA1818EA300C1270EA600EEAE006A21307A51260EA700F1230EA1817EA0C27EA07
C7EA0006A2130EEA300C127813181270EA2030EA10C0EA0F80101D7E9B15>I<126012F0
A212601200AA126012F0A2126004127C910C>I<126012F0A212601200AA126012F0A212
701210A41220A212401280041A7C910C>I<B612E0A2C9FCA8B612E0A21B0C7E8F20>61
D<EA0FE0EA3038EA401CEAE00E12F0A3EA000C131C1330136013C0138012011300A6C7FC
A51203EA0780A2EA03000F1D7E9C14>63 D<EB3F80EBC0603803001800041304487F487F
39201F0080EB70803940E04040EBC0381241D8818013201283A51281EA41C000401440EB
E078392070988090381F0F006CC8FC7E7E0003EB01E03900C01F8090383FF0001B1D7E9C
20>I<1306A3130FA3EB1780A2EB37C01323A2EB43E01341A2EB80F0A338010078A2EBFF
F83802003CA3487FA2000C131F80001E5BB4EBFFF01C1D7F9C1F>I<B512C0380F007880
80140E140FA4140E141E5C14F8EBFFF0EB003C8080801580A5EC0F00A2141E1478B512E0
191C7F9B1D>I<90381F8080EBE0613801801938070007000E13035A14015A00781300A2
127000F01400A8007014801278A212386CEB0100A26C13026C5B380180083800E030EB1F
C0191E7E9C1E>I<B512C0380F00F0143C140E80A2EC038015C01401A215E0A815C0A214
03158014071500140E5C1470B512C01B1C7E9B20>I<B512FC380F003C140C1404A21406
1402A213011400A35B13FF13037FA3140113001402A31406A2140C143CB512FC181C7E9B
1C>I<B512F8380F007814181408A2140C1404A213011400A35B13FF13037FA490C7FCA8
EAFFF8161C7E9B1B>I<90381F8080EBE0613801801938070007000E13035A14015A0078
1300A2127000F01400A6ECFFF0EC0F80007013071278A212387EA27E6C130B3801801138
00E06090381F80001C1E7E9C21>I<39FFF0FFF0390F000F00AC90B5FCEB000FAD39FFF0
FFF01C1C7F9B1F>I<EAFFF0EA0F00B3A8EAFFF00C1C7F9B0F>I<3807FF8038007C00133C
B3127012F8A21338EA7078EA4070EA30E0EA0F80111D7F9B15>I<39FFF01FE0390F0007
80EC060014045C5C5C5C5C49C7FC13021306130FEB17801327EB43C0EB81E013016D7E14
78A280143E141E80158015C039FFF03FF01C1C7F9B20>I<EAFFF8EA0F8090C7FCB01408
A31418A2141014301470EB01F0B5FC151C7E9B1A>I<B46CEBFF80000FECF800A2390BC0
0178A33809E002A23808F004A3EB7808A3EB3C10A3EB1E20A3EB0F40A2EB0780A3EB0300
121C3AFF8307FF80211C7E9B26>I<B4EB1FF0390F8003809038C00100120BEA09E0EA08
F0A21378133C133E131E130F14811307EB03C1EB01E114F113001479147D143D141FA280
8080121CB46C7E1C1C7F9B1F>I<EB3F80EBE0E03803803848487E000E7F487F003C1480
00381303007814C0A20070130100F014E0A8007014C000781303A200381480003C130700
1C14006C130E6C5B6C6C5A3800E0E0EB3F801B1E7E9C20>I<B51280380F00E01478143C
141C141EA5141C143C147814E0EBFF8090C7FCACEAFFF0171C7E9B1C>I<EB3F80EBE0E0
3803803848487E000E7F487F003C148000381303007814C0A20070130100F014E0A80070
14C000781303A200381480383C0E07D81C111300380E208E0007135C3803A0783900F0E0
20133FEB0060EC3060EC38E0EC3FC0A2EC1F80EC0F001B257E9C20>I<B5FC380F01E0EB
007880141C141EA4141C143C5CEB01E001FFC7FCEB01E0EB0070147880A61510A2141CA2
39FFF00E20C7EA03C01C1D7E9B1F>I<3807E080EA1C19EA30051303EA600112E01300A3
6C13007E127CEA7FC0EA3FF8EA1FFEEA07FFC61380130FEB07C0130313011280A300C013
80A238E00300EAD002EACC0CEA83F8121E7E9C17>I<007FB512C038700F010060130000
401440A200C014201280A300001400B1497E3803FFFC1B1C7F9B1E>I<39FFF01FF0390F
000380EC0100B3A26C1302138000035BEA01C03800E018EB7060EB0F801C1D7F9B1F>I<
39FFE00FF0391F0003C0EC01806C1400A238078002A213C000035BA2EBE00C00011308A2
6C6C5AA213F8EB7820A26D5AA36D5AA2131F6DC7FCA21306A31C1D7F9B1F>I<3AFFE1FF
C0FF3A1F003E003C001E013C13186C6D1310A32607801F1320A33A03C0278040A33A01E0
43C080A33A00F081E100A39038F900F3017913F2A2017E137E013E137CA2013C133C011C
1338A20118131801081310281D7F9B2B>I<39FFF07FC0390FC01E003807800CEBC00800
035B6C6C5A13F000005BEB7880137C013DC7FC133E7F7F80A2EB13C0EB23E01321EB40F0
497E14783801007C00027F141E0006131F001F148039FF807FF01C1C7F9B1F>I<39FFF0
03FC390F8001E00007EB00C06D13800003EB01006D5A000113026C6C5A13F8EB7808EB7C
18EB3C10EB3E20131F6D5A14C06D5AABEB7FF81E1C809B1F>I<387FFFF0EA7C01007013
E0386003C0A238400780130F1400131E12005B137C13785BA2485A1203EBC010EA0780A2
EA0F00481330001E13205A14604813E0EAF803B5FC141C7E9B19>I<12FEA212C0B3B312
FEA207297C9E0C>I<EA0808EA1010EA2020EA4040A2EA8080A3EAB0B0EAF8F8EA7878EA
30300D0C7A9C15>I<12FEA21206B3B312FEA20729809E0C>I<120C12121221EA4080EA80
400A057B9B15>I<1208121012201240A21280A312B012F812781230050C7D9C0C>96
D<EA1FC0EA3070EA78387F12301200A2EA01FCEA0F1C12381270126000E01340A3EA603C
38304E80381F870012127E9115>I<12FC121CAA137CEA1D87381E0180381C00C014E014
601470A6146014E014C0381E018038190700EA10FC141D7F9C17>I<EA03F8EA0C0CEA18
1E1230EA700CEA600012E0A61260EA70021230EA1804EA0C18EA03E00F127F9112>I<EB
1F801303AAEA03F3EA0E0BEA1807EA30031270126012E0A6126012701230EA1807EA0E1B
3803E3F0141D7F9C17>I<EA07E0EA0C30EA1818EA300CEA700EEA600612E0EAFFFEEAE0
00A41260EA70021230EA1804EA0C18EA03E00F127F9112>I<13F8EA018CEA071E1206EA
0E0C1300A6EAFFE0EA0E00B0EA7FE00F1D809C0D>I<EB03803807C4C0EA1C7838383880
38301800EA701CA4EA3018EA38386C5AEA27C00020C7FCA21230EA3FF86CB4FC1480EA20
03386001C0EAC000A33860018038300300EA1C0EEA07F8121C7F9215>I<12FC121CAA13
7C1387EA1D03001E1380121CAD38FF9FF0141D7F9C17>I<1218123CA21218C7FCA712FC
121CB0EAFF80091D7F9C0C>I<13C0EA01E0A2EA00C01300A7EA07E01200B3A21260EAF0
C012F1EA6180EA3E000B25839C0D>I<12FC121CAAEB0FE0EB0780EB06005B13105B5B13
E0121DEA1E70EA1C781338133C131C7F130F148038FF9FE0131D7F9C16>I<12FC121CB3
A9EAFF80091D7F9C0C>I<39FC7E07E0391C838838391D019018001EEBE01C001C13C0AD
3AFF8FF8FF8021127F9124>I<EAFC7CEA1C87EA1D03001E1380121CAD38FF9FF014127F
9117>I<EA03F0EA0E1CEA1806487E00701380EA600100E013C0A600601380EA70030030
1300EA1806EA0E1CEA03F012127F9115>I<EAFC7CEA1D87381E0180001C13C0EB00E0A2
1470A614E0A2EB01C0001E1380381D0700EA1CFC90C7FCA7B47E141A7F9117>I<3803E0
80EA0E19EA1805EA3807EA7003A212E0A61270A2EA38071218EA0E1BEA03E3EA0003A7EB
1FF0141A7F9116>I<EAFCE0EA1D38EA1E78A2EA1C301300ACEAFFC00D127F9110>I<EA1F
90EA2070EA4030EAC010A212E0EAF800EA7F80EA3FE0EA0FF0EA00F8EA8038131812C0A2
EAE010EAD060EA8FC00D127F9110>I<1204A4120CA2121C123CEAFFE0EA1C00A91310A5
120CEA0E20EA03C00C1A7F9910>I<38FC1F80EA1C03AD1307120CEA0E1B3803E3F01412
7F9117>I<38FF07E0383C0380381C0100A2EA0E02A2EA0F06EA0704A2EA0388A213C8EA
01D0A2EA00E0A3134013127F9116>I<39FF3FC7E0393C0703C0001CEB01801500130B00
0E1382A21311000713C4A213203803A0E8A2EBC06800011370A2EB8030000013201B127F
911E>I<38FF0FE0381E0700EA1C06EA0E046C5AEA039013B0EA01E012007F12011338EA
021C1204EA0C0E487E003C138038FE1FF014127F9116>I<38FF07E0383C0380381C0100
A2EA0E02A2EA0F06EA0704A2EA0388A213C8EA01D0A2EA00E0A31340A25BA212F000F1C7
FC12F312661238131A7F9116>I<EA7FFCEA70381260EA407013F013E0EA41C012031380
EA0700EA0F04120E121CEA3C0CEA380812701338EAFFF80E127F9112>I<B512F0140180
8B15>I<B812802901808B2A>I<EA6060EAF0F0A2EA60600C047C9C15>127
D E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: F5 cmbx12 24.88 40
/F5 40 123 df<92380FFF804AB512E0020F14F891393FFC01FC9139FFE0003E01030180
133F4948C7B47E4948497F011F5C5C133F5C137FA3705B7090C7FC177E94C8FCA793387F
FFE0B9FCA43A007FF0000182B3B3003FB5D8E07FEBFFC0A43A487EC741>12
D<EA07C0EA1FF0EA3FF8EA7FFCA2EAFFFEA5EA7FFCA2EA3FF8EA1FF0EA07C0C7FCB0EA07
C0EA1FF0EA3FF8EA7FFCA2EAFFFEA5EA7FFCA2EA3FF8EA1FF0EA07C00F2E78AD20>58
D<EE07C04C7EA24C7EA34C7EA24C7EA34C7EA24B7FA34B80A24B8016DF16CF030F801687
031F80160782033F80ED3E01037E80157C8203FC804B137F0201815D830203824B7F0207
825D83020F824B7F021F8292C7FC834A82023E80027FB77EA391B87E02F8C8127F010183
4A81A20103844A810107844A81A249488384011F8491C97EA2013E84D9FFC081B66C0107
B612FEA44F487CC758>65 D<DC7FFE1406030FB500C0131E037F02F8133E0203B600FE13
7E020F903AF800FF80FE023F0180EB1FC1DAFFFCC7EA07F34901F0EC01FF010701C0EC00
7F4990C9123F4948161F4948160F49481607495A4818034A16015A48491600A2485B1A7E
5A91CBFC48193EA35A491800A312FFAD127FA37F6C191EA37E806C193E1A3C6C7FA26C6D
17787E6E17F06C18016D6C17E06D6CEE03C06D6CEE07806D6C6CED0F006D6D153E010101
F05D6D01FC4A5A91263FFF80EB0FF0020F01F8EB7FC0020390B6C7FCDA007F14FC030F14
E09226007FFEC8FC47497AC754>67 D<BA12FCA4D8001F90268000017FEF001F18071803
18011800197E193E193F85A385A40578EB0780A496C7FCA217F8A316011603161F92B5FC
A4ED801F160316011600A31778A21AF0A3F101E094C7FCA41903A21AC01907A3190F191F
A2F13F80197F19FF1803180F95B5FCBBFC1A00A344477CC64C>69
D<BA12F0A4D8001F902680000713F8EF007F181F180718031801A2180019FC197CA3193C
A4191E1778A31900A317F8A316011603161F92B5FCA4ED801F160316011600A31778A694
C8FCB2B712FEA43F477CC649>I<DC7FFC140C030FB500C0133C92B600F0137C020303FC
13FC021F9039F001FF014A90C7EA3FC3DAFFF8EC07E7010301E0EC03FF494914004990C9
127F4948163F4948161F4948160F495A48180748491603A248491601A2485B481800A291
CBFC48197CA35A4995C7FCA312FFAD007F043FB612FCA37F6C93C7EBFC00A37E80A27E6C
7FA26C7FA26C7F7E6D7E6D7E6D7E6D6C5D6D13C06D01F05C010001FCEC0FCF91263FFF80
EB1F876E01F8EBFF03020390B5EAFE00020003F8133C030F02E0130C9226007FFEC9FC4E
497AC75B>I<B712F0A4D8001FEB8000B3B3B3A9B712F0A424477DC62B>73
D<B712FEA4D8001F0180C9FCB3B3A419F0A4F001E0A41803A31807A219C0180F181FA218
3F187FEF01FF5F170F94B51280BAFCA43C477CC646>76 D<B66C051FB512F86F5FA26F5F
D8001FF3C000A2011E6D17F7A26E6CEE01E7A26E6CEE03C7A36E6CEE0787A26E6CEE0F07
A26E6D151EA26E6D153CA36E6D1578A26E6D15F0A26F6CEC01E0A36F6CEC03C0A26F6CEC
0780A26F6CEC0F00A26F6D131EA36F6D5BA26F6D5BA26F6D5BA3706C485AA2706C485AA2
706C485AA3706C48C7FCA270139EA27013FCA2705BA3705BA2715AA2715AEB7F80B600C0
043FB612F8715AA271C7FC65477CC66E>I<923803FFF0037FEBFF800203B612F0020F90
38003FFCDA3FF8EB07FFDAFFE0010113C0010301809038007FF04990C86C7E49486F7E49
486F7E49486F7E49486F7F01FF8448496F7F48854A8148854A167F4885A24890CA6C7EA2
4885A3481A804983A400FF1AC0AE007F1A806D5FA36C1A00A36C6D4C5AA36C6D4C5AA26C
616C6D4B5BA26C6D4B5B6C6D4B5B017F606E5D6D6C4B90C7FCD90FFFED3FFC6D01C0ECFF
F86D6D495B010001F8010713C091277FFF807F5B020F90B500FCC8FC020315F0DA007F14
80030301F0C9FC4A497AC757>79 D<B812F8EFFFE018FC18FFD8001F902680003F13C005
0313F005007FF07FFE727E84727F86A2727FA286A862A24E5BA2624E90C8FC4E5A4E5AF0
FFF005075B053F138092B600FCC9FC18E084DB800013FCEF1FFF717F050313E08583717F
85187FA285A785A5F30180F303C01A8084A272EC07801AC072EC0F00B700F06D6D5A0601
EBF83E9539007FFFFC071F5BCD13C052487CC657>82 D<DA7FF013030107B55B011FECE0
0F017F6E5A903AFFC00FFC3F4848C76C5AD803F8EC3FFF4848140F48488048488082003F
814981127F83A200FF82A27FA2837F7F7F01FE92C7FC6C6C7E14F8ECFF806C14FCEDFFC0
6C15F86C15FF6C8217E06C826C826C6C816D81010F811303D9007F1580020315C0EC003F
030114E0ED001F16077013F01600A20070167F00F0163FA3171FA27E18E0A27E18C06C16
3F7E188001C0ED7F007F01F815FE01FEEC03FC26FE7FC0495A26FC3FFCEB3FF0D8F80FB6
12C0D8F00392C7FC48C66C13FC48010313E034497AC741>I<003FBA12FCA49026FE0007
9038E0007F01F0170FD87FC0EF03FE49170190C71600007E197EA2007C193EA30078191E
A400F8191F48190FA5C81700B3B3A60103B812C0A448467CC551>I<B7D8801FB600E001
1FB512E0A4C66C48C8001F01C0C8383FF0006E6FEF07C06D65866F6E170F6D7293C7FC81
6D70171E866F6E173E6D1C3C866F1A7C6D7215786F5C6D64866FDA07BF15016D64060F80
6F031F1503027F725C6F141F6EDB1E0F4B5A8770496C150F6E98C8FC067C8070D978035D
6E72131E7013F86E4B6C5D877048486C157C6E1A7805038104F849017F14F86E725BEEFC
076E4B6D495A1C817048C76C1383037F614D16C3DCFF1E6E13C76FF0E78017BE6F01BC6E
01EFC9FC1CFF05F8806F60A24D806F60A26F496E5BA24D157F6F60A24D153F6F60A270C9
6C5AA2047E160F043E5F043C160773487EC678>87 D<003FB600F090B612F0A4D8000F01
E0C7000301E0C7FC6FDA007EC8FC6D6D15FE6D6D5D4E5A6D6D4A5A6D6D1407616E6D495A
6E6D495A807049C9FC6E6D137E6E6D13FE606E6D485A6E6D485A17076E01FF5B6FEB8FC0
6FEBDF8017FF6F91CAFC6F5B5F818181836F7F707FA2707F845E93B57E4B8016FBDB03F3
7FDB07E17FDB0FE07F5E4B486C7F4B486C7F5D037E6D7F4B6D7F4A486D7F14034B6D7F4A
486D7F4A5A021F6E7F4B6E7F4AC87E027E83727F4A6F7F495A0103707F4A6F7F495AD93F
FC6F7FB600F849B71280A451477DC658>I<90380FFFF090B6FC000315C03A07F8007FF0
486CEB1FFCED07FE486C6D7E838183816C48816C5A6C5AC9FCA5157F023FB5FC0103B6FC
011F13F090387FFE003801FFE0481380D80FFEC7FC485A5B123F485AA2485AA45DA26C6C
5BED077F6C6C130F6C6C013E13F83C0FFF80F83FFFE000039038FFF01FC6ECC00F90390F
FE0003332E7CAD38>97 D<EB7FC0B5FCA412037EB3A2ED1FFC92B57E02C314F09139CFE0
1FFC9139DF0003FE02FC6D7E4A6D13804AEC7FC04AEC3FE04A15F0EF1FF8A218FCA2EF0F
FEA418FFAA18FEA318FC171FA218F8EF3FF0A26EEC7FE06E15C06EECFF80023C491300D9
FE1FEB07FE903AFC0FC03FF8D9F803B512E049C6148049D91FF8C7FC38487CC741>I<91
381FFFC049B512FC010714FF903A1FF8007F80D97FE0EBFFC0EBFF8048494813E0485A12
07485AA248486D13C0003FED7F80EE3F00007F92C7FC5BA312FFAA127FA27FA2123FA26C
6C15F0120F6DEC01E012076C6CEC03C06C6DEB07806C6DEB0F00D97FF0133E90391FFC01
FC0107B512F0010114C09026001FFCC7FC2C2E7CAD34>I<EFFF804BB5FCA4ED000782B3
A2EC1FFC49B51283010714E390391FFC03F390397FE0007FD9FF807F4890C7120F484880
000781485AA2485A123FA25B127FA312FFAA127FA46C7EA2121FA26C7E00075D6C6C5C6C
6C5C6C6D137F6D6C01FB13C090273FF807E313FF010FB512C3010114039038003FF03848
7CC741>I<EC1FFC49B512C0010714F090391FF80FFC90397FC001FE49486C7E4890C7EA
7F804848EC3FC04848EC1FE0120F484815F0160F003F16F8A25B007F150717FCA212FFA2
90B7FCA301F0C9FCA5127FA36C7EA2001F163CA26C7E17786C6C15F86C6CEC01F06C6DEB
03E06C6DEB07C0D93FE0EB1F80903A1FFC01FF000107B512FC010014E0020F90C7FC2E2E
7DAD35>I<EDFFC0021F13F0027F13FC903901FFC0FE49EB01FF903807FC034948481380
131FEB3FF0137F14E001FF6D13006F5A6F5A163093C7FCABB612FEA4C601E0C8FCB3B3A2
007FEBFFF0A429487DC724>I<171FDA7FF0EBFFC00107B5000313E0011FECC7E7903B7F
E03FFF0FF09039FF800FFC48EB00074848EB03FE00079238FF07E0496DEB03C0000FEE80
00A2001F82A8000F5EA2000793C7FC6D5B00035D6C6C495A6C6D485A9138E03FF0D801DF
B512C0D803C791C8FC9038C07FF04848CAFCA37FA27FA213F890B612F06C15FF17E06C82
17FC6C826D8148B812801207D80FF0C7001F13C0D81FC014014848EC007F007FEE3FE048
C9FC171FA56C6CED3FC0A26C6CED7F806C6CEDFF00D80FF8EC03FED803FEEC0FF82601FF
E0EBFFF06C6CB612C0010F4AC7FCD9007F13C034447DAE3A>I<EB7FC0B5FCA412037EB3
A2ED07FE92383FFFC04B13F09139C1F81FF89139C3C00FFC9139C70007FE14CE02DC8002
F87F18805CA25CA35CB3A9B60081B6FCA438487BC741>I<137C48B4FC4813804813C0A2
4813E0A56C13C0A26C13806C1300EA007C90C7FCACEB7FC0B5FCA412037EB3B2B6FCA418
497CC820>I<EB7FC0B5FCA412037EB3A293383FFFF0A4933807FE00EE03F04C5AEE1F80
4CC7FC167E5E4B5AED07E04B5A4B5A4BC8FC157EECC1FEECC3FF14C702CF7F91B57E8214
FD02F87F4A6C7E02C07FEC803F6F7E6F7E83816F7F6F7F8381707E707E83161F707E18C0
B690B512FEA437487DC73D>107 D<EB7FC0B5FCA412037EB3B3B3A8B61280A419487CC7
20>I<9027FF8003FFEC03FFB5011F01E0011F13E0037F01F8017F13F8913D81F80FFC01
F80FFC913D83C007FE03C007FE0003903D878003FF078003FF6CD98E00EC0E00029C039C
8102B86D01B87F06F88102F05DA24A5DA34A5DB3A9B66CB66CB61280A4592E7BAD62>I<
9039FF8007FEB590383FFFC04B13F0913981F81FF8913983C00FFC00039039870007FE6C
138E029C8002B87F188014F0A25CA35CB3A9B60081B6FCA4382E7BAD41>I<EC0FFE49B5
12F0010714FC90391FF803FF90267FE00013C0D9FF80EB3FE04890C76C7E48486E7E4848
6E7E000F82491403001F82003F17804980A2007F17C0A300FF17E0AA007F17C0A46C6C4A
1380A2001F17006D5C000F5E6C6C4A5A00035E6C6C4A5A6C6D495AD97FE0EBFFC090261F
FC0790C7FC0107B512FC010114F0D9001F90C8FC332E7DAD3A>I<90397FC01FFCB590B5
7E02C314F09139CFE03FFC9139DF0007FE000301FC6D7E6C496D13804A6D13C04AEC7FE0
4A15F0EF3FF8A2EF1FFCA218FEA2170FA218FFAA18FE171FA218FCA2173F18F818F0177F
6EECFFE06E15C06E4913806E49130002DFEB0FFE9139CFC03FF802C3B512E002C01480DB
1FF8C7FC92C9FCB0B67EA438427CAD41>I<90397F803F80B5EBFFE0028113F8913883C3
FC91388707FE0003138E6C90389C0FFF14B8A214F0A2ED07FE9138E003FCED01F892C7FC
A25CB3A8B612E0A4282E7DAD2F>114 D<90390FFE01C090B512C7000314FF3807F80139
0FC0007F48C7121F48140F007E1407A2150312FEA27E7F01E090C7FC13F8387FFFC014FF
6C14E015F86C806C14FF6C1580000115C06C6C14E0131F010014F014039138007FF80070
141F00F0140F15077E1503A26C15F0A27E6CEC07E07F6DEB0FC001F0EB1F80D8FEFCEBFF
0039F87FFFFCD8F01F13F0D8E0031380252E7CAD2E>I<EB01E0A61303A31307A3130FA2
131F133FA2137FEA01FF5A000F90B512C0B7FCA3C601E0C7FCB3A616F0A9017F14E0ECF0
01133FED03C0D91FF8138090390FFE0F00903807FFFE01015B9038001FF024427EC12D>
I<D97FC0ECFF80B549B5FCA40003EC00076C81B3AA5EA36C5D5EA26D6C133B013F02F313
C090271FF803E313FF6DB51283010314039038003FF8382E7BAD41>I<B649B5FCA40001
01C09038001FC06EEC0F806C17006E5C017F151E6E143E013F153C80011F5D8017F8010F
5D6E13016D5DED80036D5DEDC0076D5D15E06D4AC7FC15F05E027F131EEDF83E023F133C
EDFC7C021F1378EDFEF8020F5B15FF6E5BA36E5BA26E5BA26E90C8FCA2157EA2153C382E
7EAD3D>I<B5D8FE07B539E003FFFEA400039027C0001FF8C7EA3FC06CF10F006E6D7E6C
191E16076E6E143E017F183C6E6E147C013F18785E6E6F13F8011F4A5D6E011EEBC00101
0F60EE3C7F6EEDE0036D027C5D923A80783FF0076D60EEF01F03C0ECF80F6D01C193C7FC
923AE1E00FFC1F6D171E9238E3C00703F3ECFE3EDA7FF7153C923AFF8003FF7C6E16784C
7E19F86E5E4B7F020F5E4B147FA202075E4B143F02035E4B141FA26E486EC8FC4F2E7EAD
54>I<B500FE90381FFFFCA4C601E0903803FE006EEB01F86D6C5C6D6C495A011F4A5A6D
6C495A6E49C7FC6D6D5A6DEBC07E6D147C6D6D5AEDF1F091387FFBE06EB45A806E5B93C8
FC6E7F6E7F6E7FA24A7F4A7F8291380F9FFEEC1F0F91383E07FF027C804A6C7F01016D7F
49487E4A6D7E49488049486D7E49C76C7E013E140F017E6E7E48B41680B500E0017F13FF
A4382E7EAD3D>I<B649B5FCA4000101C09038001FC06EEC0F806C17006E5C017F151E6E
143E013F153C80011F5D8017F8010F5D6E13016D5DED80036D5DEDC0076D5D15E06D4AC7
FC15F05E027F131EEDF83E023F133CEDFC7C021F1378EDFEF8020F5B15FF6E5BA36E5BA2
6E5BA26E90C8FCA2157EA2153CA2157C157815F85D1401001F5C383F8003D87FC05B38FF
E0075D140F4AC9FC141E387FC07C495A383F03F06CB45A00071380D801FCCAFC38427EAD
3D>I<001FB712E0A39026FE000313C001F049138001C05B4949130090C75B4B5A003E14
7F5E4B5A003C495B5C5E4A5B5CC74890C7FC5D4A5A147F4A5A5D495B5B495B92388001E0
4913005B495A4A1303494814C013FF5C485B484913075A4A130F4890C7FC48151F484814
7F49ECFF804848130FB8FCA32B2E7DAD34>I E
%EndDVIPSBitmapFont
end
%%EndProlog
%%BeginSetup
%%Feature: *Resolution 300dpi
TeXDict begin
%%BeginPaperSize: a4
a4
%%EndPaperSize

%%EndSetup
%%Page: 1 1
1 0 bop Black Black Black Black 441 809 a F5(Sp)s(ecifying)37
b(Systems)801 1759 y F4(First)15 b(Prin)o(ting)710 1883
y(V)m(ersion)f(of)f(18)h(June)g(2002)p Black Black eop
%%Page: 2 2
2 1 bop Black Black Black Black eop
%%Page: 3 3
3 2 bop Black Black Black Black 441 809 a F5(Sp)s(ecifying)37
b(Systems)395 1003 y F3(The)23 b(TLA+)f(Language)g(and)h(T)-6
b(o)r(ols)22 b(for)426 1111 y(Hardw)n(are)g(and)h(Soft)n(w)n(are)e
(Engineers)733 1468 y F2(Leslie)d(Lamp)r(ort)724 1593
y F1(Microsoft)e(Researc)o(h)693 2293 y @beginspecial
134 @llx 436 @lly 246 @urx 451 @ury 1120 @rwi @setspecial
%%BeginDocument: AWlogoTitlePage.eps
%!PS-Adobe-3.0 EPSF-3.0
%%Creator: Adobe Illustrator(R) 8.0
%%AI8_CreatorVersion: 8
%%For: (Eugene Wang) (Pearson Education)
%%Title: (AWlogoTitlePage.eps)
%%CreationDate: (2/15/02) (9:40 PM)
%%BoundingBox: 134 436 246 451
%%HiResBoundingBox: 134.7212 436.7051 245.3301 450.6055
%%DocumentProcessColors: Black
%%DocumentSuppliedResources: procset Adobe_level2_AI5 1.2 0
%%+ procset Adobe_ColorImage_AI6 1.3 0
%%+ procset Adobe_Illustrator_AI5 1.3 0
%%+ procset Adobe_cshow 2.0 8
%%+ procset Adobe_shading_AI8 1.0 0
%AI5_FileFormat 4.0
%AI3_ColorUsage: Black&White
%AI3_IncludePlacedImages
%AI7_ImageSettings: 1
%%CMYKCustomColor: 0 0 0 1 (Green)
%%+ 0 0.91 0.76 0 (PANTONE 185 CVC)
%%+ 0 1 0.91 0 (PANTONE 485 CV)
%%CMYKProcessColor: 1 1 1 1 ([Registration])
%%AI6_ColorSeparationSet: 1 1 (AI6 Default Color Separation Set) 
%%+ Options: 1 16 0 1 0 1 1 1 0 1 1 1 1 18 0 0 0 0 0 0 0 0 131071 -1
%%+ PPD: 1 21 0 0 60 45 2 2 1 0 0 1 0 0 0 0 0 0 0 0 0 0 () 
%AI3_TemplateBox: 306 396 306 396
%AI3_TileBox: 18 17 597 776
%AI3_DocumentPreview: Macintosh_ColorPic
%AI5_ArtSize: 612 792
%AI5_RulerUnits: 2
%AI5_ArtFlags: 1 0 0 1 0 0 1 0 0
%AI5_TargetResolution: 800
%AI5_NumLayers: 1
%AI8_OpenToView: -186.75 798.75 0.8 836 690 18 1 1 180 70 0 0
%AI5_OpenViewLayers: 7
%%PageOrigin:18 17
%%AI3_PaperRect:-18 776 594 -16
%%AI3_Margin:18 -17 -15 16
%AI7_GridSettings: 72 8 72 8 1 0 0.8 0.8 0.8 0.9 0.9 0.9
%%EndComments
%%BeginProlog
%%BeginResource: procset Adobe_level2_AI5 1.2 0
%%Title: (Adobe Illustrator (R) Version 5.0 Level 2 Emulation)
%%Version: 1.2 0
%%CreationDate: (04/10/93) ()
%%Copyright: ((C) 1987-1996 Adobe Systems Incorporated All Rights Reserved)
userdict /Adobe_level2_AI5 26 dict dup begin
	put
	/packedarray where not
	{
		userdict begin
		/packedarray
		{
			array astore readonly
		} bind def
		/setpacking /pop load def
		/currentpacking false def
	 end
		0
	} if
	pop
	userdict /defaultpacking currentpacking put true setpacking
	/initialize
	{
		Adobe_level2_AI5 begin
	} bind def
	/terminate
	{
		currentdict Adobe_level2_AI5 eq
		{
		 end
		} if
	} bind def
	mark
	/setcustomcolor where not
	{
		/findcmykcustomcolor
		{
			(AI8_CMYK_CustomColor)
			6 packedarray
		} bind def
		/findrgbcustomcolor
		{
			(AI8_RGB_CustomColor)
			5 packedarray
		} bind def
		/setcustomcolor
		{
			exch 
			aload pop dup
			(AI8_CMYK_CustomColor) eq
			{
				pop pop
				4
				{
					4 index mul
					4 1 roll
				} repeat
				5 -1 roll pop
				setcmykcolor
			}
			{
				dup (AI8_RGB_CustomColor) eq
				{
					pop pop
					3
					{
						1 exch sub
						3 index mul 
						1 exch sub
						3 1 roll
					} repeat
					4 -1 roll pop
					setrgbcolor
				}
				{
					pop
					4
					{
						4 index mul 4 1 roll
					} repeat
					5 -1 roll pop
					setcmykcolor
				} ifelse
			} ifelse
		}
		def
	} if
	/setAIseparationgray
	{
		false setoverprint
		0 setgray
		/setseparationgray where{
			pop setseparationgray
		}{
			/setcolorspace where{
				pop
				[/Separation (All) /DeviceCMYK {dup dup dup}] setcolorspace
				1 exch sub setcolor
			}{
				setgray
			}ifelse
		}ifelse
	} def
	
	/gt38? mark {version cvr cvx exec} stopped {cleartomark true} {38 gt exch pop} ifelse def
	userdict /deviceDPI 72 0 matrix defaultmatrix dtransform dup mul exch dup mul add sqrt put
	userdict /level2?
	systemdict /languagelevel known dup
	{
		pop systemdict /languagelevel get 2 ge
	} if
	put
/level2ScreenFreq
{
 begin
		60
		HalftoneType 1 eq
		{
			pop Frequency
		} if
		HalftoneType 2 eq
		{
			pop GrayFrequency
		} if
		HalftoneType 5 eq
		{
			pop Default level2ScreenFreq
		} if
 end
} bind def
userdict /currentScreenFreq  
	level2? {currenthalftone level2ScreenFreq} {currentscreen pop pop} ifelse put
level2? not
	{
		/setcmykcolor where not
		{
			/setcmykcolor
			{
				exch .11 mul add exch .59 mul add exch .3 mul add
				1 exch sub setgray
			} def
		} if
		/currentcmykcolor where not
		{
			/currentcmykcolor
			{
				0 0 0 1 currentgray sub
			} def
		} if
		/setoverprint where not
		{
			/setoverprint /pop load def
		} if
		/selectfont where not
		{
			/selectfont
			{
				exch findfont exch
				dup type /arraytype eq
				{
					makefont
				}
				{
					scalefont
				} ifelse
				setfont
			} bind def
		} if
		/cshow where not
		{
			/cshow
			{
				[
				0 0 5 -1 roll aload pop
				] cvx bind forall
			} bind def
		} if
	} if
	cleartomark
	/anyColor?
	{
		add add add 0 ne
	} bind def
	/testColor
	{
		gsave
		setcmykcolor currentcmykcolor
		grestore
	} bind def
	/testCMYKColorThrough
	{
		testColor anyColor?
	} bind def
	userdict /composite?
	1 0 0 0 testCMYKColorThrough
	0 1 0 0 testCMYKColorThrough
	0 0 1 0 testCMYKColorThrough
	0 0 0 1 testCMYKColorThrough
	and and and
	put
	composite? not
	{
		userdict begin
		gsave
		/cyan? 1 0 0 0 testCMYKColorThrough def
		/magenta? 0 1 0 0 testCMYKColorThrough def
		/yellow? 0 0 1 0 testCMYKColorThrough def
		/black? 0 0 0 1 testCMYKColorThrough def
		grestore
		/isCMYKSep? cyan? magenta? yellow? black? or or or def
		/customColor? isCMYKSep? not def
	 end
	} if
 end defaultpacking setpacking
%%EndResource
%%BeginProcSet: Adobe_ColorImage_AI6 1.3 0
userdict /Adobe_ColorImage_AI6 known not
{
	userdict /Adobe_ColorImage_AI6 53 dict put 
} if
userdict /Adobe_ColorImage_AI6 get begin
/initialize { 
	Adobe_ColorImage_AI6 begin
	Adobe_ColorImage_AI6 {
		dup type /arraytype eq {
			dup xcheck {
				bind
			} if
		} if
		pop pop
	} forall
} def
/terminate { end } def
currentdict /Adobe_ColorImage_AI6_Vars known not {
	/Adobe_ColorImage_AI6_Vars 41 dict def
} if
Adobe_ColorImage_AI6_Vars begin
	/plateindex -1 def
	/_newproc null def
	/_proc1 null def
	/_proc2 null def
	/sourcearray 4 array def
	/_ptispace null def
	/_ptiname null def
	/_pti0 0 def
	/_pti1 0 def
	/_ptiproc null def
	/_ptiscale 0 def
	/_pticomps 0 def
	/_ptibuf 0 string def
	/_gtigray 0 def
	/_cticmyk null def
	/_rtirgb null def
	/XIEnable true def
	/XIType 0 def
	/XIEncoding 0 def
	/XICompression 0 def
	/XIChannelCount 0 def
	/XIBitsPerPixel 0 def
	/XIImageHeight 0 def
	/XIImageWidth 0 def
	/XIImageMatrix null def
	/XIRowBytes 0 def
	/XIFile null def
	/XIBuffer1 null def
	/XIBuffer2 null def
	/XIBuffer3 null def
	/XIDataProc null def
	/XIColorSpace /DeviceGray def
	/XIColorValues 0 def
	/XIPlateList false def
end
/ci6colorimage /colorimage where {/colorimage get}{null} ifelse def
/ci6image systemdict /image get def
/ci6curtransfer systemdict /currenttransfer get def
/ci6curoverprint /currentoverprint where {/currentoverprint get}{{_of}} ifelse def
/ci6foureq {
	4 index ne {
		pop pop pop false
	}{
		4 index ne {
			pop pop false
		}{
			4 index ne {
				pop false
			}{
				4 index eq
			} ifelse
		} ifelse
	} ifelse
} def
/ci6testplate {
	Adobe_ColorImage_AI6_Vars begin
		/plateindex -1 def
		/setcmykcolor where {
			pop
			gsave
			1 0 0 0 setcmykcolor systemdict /currentgray get exec 1 exch sub
			0 1 0 0 setcmykcolor systemdict /currentgray get exec 1 exch sub
			0 0 1 0 setcmykcolor systemdict /currentgray get exec 1 exch sub
			0 0 0 1 setcmykcolor systemdict /currentgray get exec 1 exch sub
			grestore
			1 0 0 0 ci6foureq { 
				/plateindex 0 def
			}{
				0 1 0 0 ci6foureq { 
					/plateindex 1 def
				}{
					0 0 1 0 ci6foureq {
						/plateindex 2 def
					}{
						0 0 0 1 ci6foureq { 
							/plateindex 3 def
						}{
							0 0 0 0 ci6foureq {
								/plateindex 5 def
							} if
						} ifelse
					} ifelse
				} ifelse
			} ifelse
			pop pop pop pop
		} if
		plateindex
 end
} def
/ci6concatprocs {
	/packedarray where {
		pop dup type /packedarraytype eq 2 index type
		/packedarraytype eq or
	}{
		false
	} ifelse
	{
		/_proc2 exch cvlit def
		/_proc1 exch cvlit def
		_proc1 aload pop
		_proc2 aload pop
		_proc1 length
		_proc2 length add
		packedarray cvx
	}{
		/_proc2 exch cvlit def
		/_proc1 exch cvlit def
		/_newproc _proc1 length _proc2 length add array def
		_newproc 0 _proc1 putinterval
		_newproc _proc1 length _proc2 putinterval
		_newproc cvx
	} ifelse
} def
/ci6istint {
	type /arraytype eq 
} def
/ci6isspot {
	dup type /arraytype eq {
		dup length 1 sub get /Separation eq
	}{
		pop false
	} ifelse
} def
/ci6spotname {
	dup ci6isspot {dup length 2 sub get}{pop ()} ifelse
} def
/ci6altspace {
	aload pop pop pop ci6colormake
} def
/ci6numcomps {
	dup /DeviceGray eq {
		pop 1
	}{
		dup /DeviceRGB eq {
			pop 3
		}{
			/DeviceCMYK eq {
				4
			}{
				1
			} ifelse
		} ifelse
	} ifelse
} def
/ci6marksplate {
	dup /DeviceGray eq {
		pop plateindex 3 eq
	}{
		dup /DeviceRGB eq {
			pop plateindex 5 ne
		}{
			dup /DeviceCMYK eq {
				pop plateindex 5 ne
			}{
				dup ci6isspot {
					/findcmykcustomcolor where {
						pop
						dup length 2 sub get
						0.1 0.1 0.1 0.1 5 -1 roll
						findcmykcustomcolor 1 setcustomcolor
						systemdict /currentgray get exec
						1 ne
					}{
						pop plateindex 5 ne
					} ifelse
				}{
					pop plateindex 5 ne
				} ifelse
			} ifelse
		} ifelse
	} ifelse
} def
/ci6colormake {
	dup ci6numcomps
	exch 1 index 2 add 1 roll
	dup 1 eq {pop}{array astore} ifelse
	exch
} def
/ci6colorexpand {
	dup ci6spotname exch
	dup ci6istint {
		ci6altspace
		exch 4 1 roll
	}{
		1 3 1 roll
	} ifelse
} def
/ci6colortint {
	dup /DeviceGray eq {
		3 1 roll 1 exch sub mul 1 exch sub exch
	}{
		dup /DeviceRGB eq {
			3 1 roll {1 exch sub 1 index mul 1 exch sub exch} forall pop 3 array astore exch
		}{
			dup /DeviceCMYK eq {
				3 1 roll {1 index mul exch} forall pop 4 array astore exch
			}{
				3 1 roll mul exch
			} ifelse
		} ifelse
	} ifelse
} def
/ci6colortocmyk {
	dup /DeviceGray eq {
		pop 1 exch sub 0 0 0 4 -1 roll 4 array astore
	}{
		dup /DeviceRGB eq {
			pop aload pop _rgbtocmyk 4 array astore
		}{
			dup /DeviceCMYK eq {
				pop
			}{
				ci6altspace ci6colortint ci6colortocmyk
			} ifelse
		} ifelse
	} ifelse
} def
/ci6makeimagedict {
	7 dict begin
		/ImageType 1 def
		/Decode exch def
		/DataSource exch def
		/ImageMatrix exch def
		/BitsPerComponent exch def
		/Height exch def
		/Width exch def
	currentdict end
} def
/ci6stringinvert {
	0 1 2 index length 1 sub {
		dup 2 index exch get 255 exch sub 2 index 3 1 roll put
	} for
} def
/ci6stringknockout {
	0 1 2 index length 1 sub {
		255 2 index 3 1 roll put
	} for
} def
/ci6stringapply {
	0 1 4 index length 1 sub {
		dup
		4 index exch get
		3 index 3 1 roll
		3 index exec
	} for
	pop exch pop
} def
/ci6walkrgbstring {
	0 3 index
	dup length 1 sub 0 3 3 -1 roll {
		3 getinterval {} forall
		5 index exec
		3 index
	} for
	
	 5 {pop} repeat
} def
/ci6walkcmykstring
{
	0 3 index
	dup length 1 sub 0 4 3 -1 roll {
		4 getinterval {} forall
		
		6 index exec
		
		3 index
		
	} for
	
	5 { pop } repeat
	
} def
/ci6putrgbtograystr
{
	.11 mul exch
	
	.59 mul add exch
	
	.3 mul add
	
	cvi 3 copy put
	
	pop 1 add
} def
/ci6putcmyktograystr
{
	exch .11 mul add
	
	exch .59 mul add
	
	exch .3 mul add
	
	dup 255 gt { pop 255 } if
	
	255 exch sub cvi 3 copy put
	
	pop 1 add
} def
/ci6rgbtograyproc {	
	Adobe_ColorImage_AI6_Vars begin 
		sourcearray 0 get exec
		XIBuffer3
		dup 3 1 roll 
		
		/ci6putrgbtograystr load exch
		ci6walkrgbstring
 end
} def
/ci6cmyktograyproc {	
	Adobe_ColorImage_AI6_Vars begin
		sourcearray 0 get exec
		XIBuffer3
		dup 3 1 roll 
		
		/ci6putcmyktograystr load exch
		ci6walkcmykstring
 end
} def
/ci6separatecmykproc {	
	Adobe_ColorImage_AI6_Vars begin
		sourcearray 0 get exec
		
		XIBuffer3
		
		0 2 index
		
		plateindex 4 2 index length 1 sub {
			get 255 exch sub
			
			3 copy put pop 1 add
			
			2 index
		} for
		pop pop exch pop
 end
} def
	
/ci6compositeimage {
	dup 1 eq {
		pop pop image
	}{
		/ci6colorimage load null ne {
			ci6colorimage
		}{
			3 1 roll pop
			sourcearray 0 3 -1 roll put
			3 eq {/ci6rgbtograyproc}{/ci6cmyktograyproc} ifelse load
			image
		} ifelse
	} ifelse
} def
/ci6knockoutimage {
	gsave
	0 ci6curtransfer exec 1 ci6curtransfer exec
	eq {
		0 ci6curtransfer exec 0.5 lt
	}{
		0 ci6curtransfer exec 1 ci6curtransfer exec gt
	} ifelse
	{{pop 0}}{{pop 1}} ifelse
	systemdict /settransfer get exec
	ci6compositeimage
	grestore
} def
/ci6drawimage {
	ci6testplate -1 eq {
		pop ci6compositeimage
	}{
		dup type /arraytype eq {
			dup length plateindex gt {plateindex get}{pop false} ifelse
		}{
			{
				true
			}{
				dup 1 eq {plateindex 3 eq}{plateindex 3 le} ifelse
			} ifelse
		} ifelse
		{
			dup 1 eq {
				pop pop ci6image
			}{
				dup 3 eq {
					ci6compositeimage
				}{
					pop pop
					sourcearray 0 3 -1 roll put
					/ci6separatecmykproc load
					ci6image
				} ifelse
			} ifelse
		}{
			ci6curoverprint {
				7 {pop} repeat
			}{
				ci6knockoutimage
			} ifelse
		} ifelse
	} ifelse
} def
/ci6proctintimage {
	/_ptispace exch store /_ptiname exch store /_pti1 exch store /_pti0 exch store /_ptiproc exch store
	/_pticomps _ptispace ci6numcomps store
	/_ptiscale _pti1 _pti0 sub store
	level2? {
		_ptiname length 0 gt version cvr 2012 ge and {
			[/Separation _ptiname _ptispace {_ptiproc}] setcolorspace
			[_pti0 _pti1] ci6makeimagedict ci6image
		}{
			[/Indexed _ptispace 255 {255 div _ptiscale mul _pti0 add _ptiproc}] setcolorspace
			[0 255] ci6makeimagedict ci6image
		} ifelse
	}{
		_pticomps 1 eq {
			{
				dup
				{
					255 div _ptiscale mul _pti0 add _ptiproc 255 mul cvi put
				} ci6stringapply
			} ci6concatprocs ci6image
		}{
			{
				dup length _pticomps mul dup _ptibuf length ne {/_ptibuf exch string store}{pop} ifelse
				_ptibuf {
					exch _pticomps mul exch 255 div _ptiscale mul _pti0 add _ptiproc
					_pticomps 2 add -2 roll
					_pticomps 1 sub -1 0 {
						1 index add 2 index exch
						5 -1 roll
						255 mul cvi put
					} for
					pop pop
				} ci6stringapply
			} ci6concatprocs false _pticomps
			/ci6colorimage load null eq {7 {pop} repeat}{ci6colorimage} ifelse
		} ifelse
	} ifelse
} def
/ci6graytintimage {
	/_gtigray 5 -1 roll store
	{1 _gtigray sub mul 1 exch sub} 4 1 roll
	/DeviceGray ci6proctintimage
} def
/ci6cmyktintimage {
	/_cticmyk 5 -1 roll store
	{_cticmyk {1 index mul exch} forall pop} 4 1 roll
	/DeviceCMYK ci6proctintimage
} def
/ci6rgbtintimage {
	/_rtirgb 5 -1 roll store
	{_rtirgb {1 exch sub 1 index mul 1 exch sub exch} forall pop} 4 1 roll
	/DeviceRGB ci6proctintimage
} def
/ci6tintimage {
	ci6testplate -1 eq {
		ci6colorexpand
		3 -1 roll 5 -1 roll {0}{0 exch} ifelse 4 2 roll
		dup /DeviceGray eq {
			pop ci6graytintimage
		}{
			dup /DeviceRGB eq {
				pop ci6rgbtintimage
			}{
				pop ci6cmyktintimage
			} ifelse
		} ifelse
	}{
		dup ci6marksplate {
			plateindex 5 lt {
				ci6colortocmyk plateindex get
				dup 0 eq ci6curoverprint and {
					7 {pop} repeat
				}{
					1 exch sub
					exch {1 0}{0 1} ifelse () ci6graytintimage
				} ifelse
			}{
				pop exch {0}{0 exch} ifelse 0 3 1 roll () ci6graytintimage
			} ifelse
		}{
			ci6curoverprint {
				8 {pop} repeat
			}{
				pop pop pop
				{pop 1} 0 1 () /DeviceGray ci6proctintimage
			} ifelse
		} ifelse
	} ifelse
} def
/XINullImage {
} def
/XIImageMask {
	XIImageWidth XIImageHeight false
	[XIImageWidth 0 0 XIImageHeight neg 0 0]
	/XIDataProc load
	imagemask
} def
/XIImageTint {
	XIImageWidth XIImageHeight XIBitsPerPixel
	[XIImageWidth 0 0 XIImageHeight neg 0 0]
	/XIDataProc load
	XIType 3 eq XIColorValues XIColorSpace ci6tintimage
} def
/XIImage {
	XIImageWidth XIImageHeight XIBitsPerPixel
	[XIImageWidth 0 0 XIImageHeight neg 0 0]
	/XIDataProc load
	false XIChannelCount XIPlateList ci6drawimage
} def
/XG {
	pop pop
} def
/XF {
	13 {pop} repeat
} def
/Xh {
	Adobe_ColorImage_AI6_Vars begin
		gsave
		/XIType exch def
		/XIImageHeight exch def
		/XIImageWidth exch def
		/XIImageMatrix exch def
		0 0 moveto
		XIImageMatrix concat
		XIImageWidth XIImageHeight scale
		
		/_lp /null ddef
		_fc
		/_lp /imagemask ddef
 end
} def
/XH {
	Adobe_ColorImage_AI6_Vars begin
		grestore
 end
} def
/XIEnable {
	Adobe_ColorImage_AI6_Vars /XIEnable 3 -1 roll put
} def
/XC {
	Adobe_ColorImage_AI6_Vars begin
		ci6colormake
		/XIColorSpace exch def
		/XIColorValues exch def
 end
} def
/XIPlates {
	Adobe_ColorImage_AI6_Vars begin
		/XIPlateList exch def
 end
} def
/XI
{
	Adobe_ColorImage_AI6_Vars begin
		gsave
		/XIType exch def
		cvi dup
		256 idiv /XICompression exch store
		256 mod /XIEncoding exch store
		pop pop
		/XIChannelCount exch def
		/XIBitsPerPixel exch def
		/XIImageHeight exch def
		/XIImageWidth exch def
		pop pop pop pop
		/XIImageMatrix exch def
		XIBitsPerPixel 1 eq {
			XIImageWidth 8 div ceiling cvi
		}{
			XIImageWidth XIChannelCount mul
		} ifelse
		/XIRowBytes exch def
		XIEnable {
			/XIBuffer3 XIImageWidth string def
			XICompression 0 eq {
				/XIBuffer1 XIRowBytes string def
				XIEncoding 0 eq {
					{currentfile XIBuffer1 readhexstring pop}
				}{
					{currentfile XIBuffer1 readstring pop}
				} ifelse
			}{
				/XIBuffer1 256 string def
				/XIBuffer2 XIRowBytes string def
				{currentfile XIBuffer1 readline pop (%) anchorsearch {pop} if}
				/ASCII85Decode filter /DCTDecode filter
				/XIFile exch def
				{XIFile XIBuffer2 readstring pop}
			} ifelse
			/XIDataProc exch def
			
			XIType 1 ne {
				0 setgray
			} if
			XIType 1 eq {
				XIImageMask
			}{
				XIType 2 eq XIType 3 eq or {
					XIImageTint
				}{
					XIImage
				} ifelse
			} ifelse
		}{
			XINullImage
		} ifelse
		/XIPlateList false def
		grestore
 end
} def
end
%%EndProcSet
%%BeginResource: procset Adobe_Illustrator_AI5 1.3 0
%%Title: (Adobe Illustrator (R) Version 8.0 Full Prolog)
%%Version: 1.3 0
%%CreationDate: (3/7/1994) ()
%%Copyright: ((C) 1987-1998 Adobe Systems Incorporated All Rights Reserved)
currentpacking true setpacking
userdict /Adobe_Illustrator_AI5_vars 112 dict dup begin
put
/_?cmyk false def
/_eo false def
/_lp /none def
/_pf
{
} def
/_ps
{
} def
/_psf
{
} def
/_pss
{
} def
/_pjsf
{
} def
/_pjss
{
} def
/_pola 0 def
/_doClip 0 def
/cf currentflat def
/_lineorientation 0 def
/_charorientation 0 def
/_yokoorientation 0 def
/_tm matrix def
/_renderStart
[
/e0 /r0 /a0 /o0 /e1 /r1 /a1 /i0
] def
/_renderEnd
[
null null null null /i1 /i1 /i1 /i1
] def
/_render -1 def
/_shift [0 0] def
/_ax 0 def
/_ay 0 def
/_cx 0 def
/_cy 0 def
/_leading
[
0 0
] def
/_ctm matrix def
/_mtx matrix def
/_sp 16#020 def
/_hyphen (-) def
/_fontSize 0 def
/_fontAscent 0 def
/_fontDescent 0 def
/_fontHeight 0 def
/_fontRotateAdjust 0 def
/Ss 256 string def
Ss 0 (fonts/) putinterval
/_cnt 0 def
/_scale [1 1] def
/_nativeEncoding 0 def
/_useNativeEncoding 0 def
/_tempEncode 0 def
/_pntr 0 def
/_tDict 2 dict def
/_hfname 100 string def
/_hffound false def
/Tx
{
} def
/Tj
{
} def
/CRender
{
} def
/_AI3_savepage
{
} def
/_gf null def
/_cf 4 array def
/_rgbf 3 array def
/_if null def
/_of false def
/_fc
{
} def
/_gs null def
/_cs 4 array def
/_rgbs 3 array def
/_is null def
/_os false def
/_sc
{
} def
/_pd 1 dict def
/_ed 15 dict def
/_pm matrix def
/_fm null def
/_fd null def
/_fdd null def
/_sm null def
/_sd null def
/_sdd null def
/_i null def
/_lobyte 0 def
/_hibyte 0 def
/_cproc null def
/_cscript 0 def
/_hvax 0 def
/_hvay 0 def
/_hvwb 0 def
/_hvcx 0 def
/_hvcy 0 def
/_bitfont null def
/_bitlobyte 0 def
/_bithibyte 0 def
/_bitkey null def
/_bitdata null def
/_bitindex 0 def
/discardSave null def
/buffer 256 string def
/beginString null def
/endString null def
/endStringLength null def
/layerCnt 1 def
/layerCount 1 def
/perCent (%) 0 get def
/perCentSeen? false def
/newBuff null def
/newBuffButFirst null def
/newBuffLast null def
/clipForward? false def
end
userdict /Adobe_Illustrator_AI5 known not {
	userdict /Adobe_Illustrator_AI5 100 dict put
} if
userdict /Adobe_Illustrator_AI5 get begin
/initialize
{
	Adobe_Illustrator_AI5 dup begin
	Adobe_Illustrator_AI5_vars begin
	/_aicmykps where {pop /_?cmyk _aicmykps def}if
	discardDict
	{
		bind pop pop
	} forall
	dup /nc get begin
	{
		dup xcheck 1 index type /operatortype ne and
		{
			bind
		} if
		pop pop
	} forall
 end
	newpath
} def
/terminate
{
 end
 end
} def
/_
null def
/ddef
{
	Adobe_Illustrator_AI5_vars 3 1 roll put
} def
/xput
{
	dup load dup length exch maxlength eq
	{
		dup dup load dup
		length 2 mul dict copy def
	} if
	load begin
	def
 end
} def
/npop
{
	{
		pop
	} repeat
} def
/hswj
{
	dup stringwidth 3 2 roll
	{
		_hvwb eq { exch _hvcx add exch _hvcy add } if
		exch _hvax add exch _hvay add
	} cforall
} def
/vswj
{
	0 0 3 -1 roll
	{
		dup 255 le
		_charorientation 1 eq
		and
		{
			dup cstring stringwidth 5 2 roll
			_hvwb eq { exch _hvcy sub exch _hvcx sub } if
			exch _hvay sub exch _hvax sub
			4 -1 roll sub exch
			3 -1 roll sub exch
		}
		{
			_hvwb eq { exch _hvcy sub exch _hvcx sub } if
			exch _hvay sub exch _hvax sub
			_fontHeight sub
		} ifelse
	} cforall
} def
/swj
{
	6 1 roll
	/_hvay exch ddef
	/_hvax exch ddef
	/_hvwb exch ddef
	/_hvcy exch ddef
	/_hvcx exch ddef
	_lineorientation 0 eq { hswj } { vswj } ifelse
} def
/sw
{
	0 0 0 6 3 roll swj
} def
/vjss
{
	4 1 roll
	{
		dup cstring
		dup length 1 eq
		_charorientation 1 eq
		and
		{
			-90 rotate
			currentpoint
			_fontRotateAdjust add
			moveto
			gsave
			false charpath currentpoint
			5 index setmatrix stroke
			grestore
			_fontRotateAdjust sub
			moveto
			_sp eq
			{
				5 index 5 index rmoveto
			} if
			2 copy rmoveto
			90 rotate
		}
		{
			currentpoint
			_fontHeight sub
			5 index sub
			3 index _sp eq
			{
				9 index sub
			} if
	
			currentpoint
			exch 4 index stringwidth pop 2 div sub
			exch _fontAscent sub
			moveto
	
			gsave
			2 index false charpath
			6 index setmatrix stroke
			grestore
	
			moveto pop pop
		} ifelse
	} cforall
	6 npop
} def
/hjss
{
	4 1 roll
	{
		dup cstring
		gsave
		false charpath currentpoint
		5 index setmatrix stroke
		grestore
		moveto
		_sp eq
		{
			5 index 5 index rmoveto
		} if
		2 copy rmoveto
	} cforall
	6 npop
} def
/jss
{
	_lineorientation 0 eq { hjss } { vjss } ifelse
} def
/ss
{
	0 0 0 7 3 roll jss
} def
/vjsp
{
	4 1 roll
	{
		dup cstring
		dup length 1 eq
		_charorientation 1 eq
		and
		{
			-90 rotate
			currentpoint
			_fontRotateAdjust add
			moveto
			false charpath
            currentpoint
			_fontRotateAdjust sub
			moveto
			_sp eq
			{
				5 index 5 index rmoveto
			} if
			2 copy rmoveto
			90 rotate
		}
		{
			currentpoint
			_fontHeight sub
			5 index sub
			3 index _sp eq
			{
				9 index sub
			} if
	
			currentpoint
			exch 4 index stringwidth pop 2 div sub
			exch _fontAscent sub
			moveto
	
			2 index false charpath
	
			moveto pop pop
		} ifelse
	} cforall
	6 npop
} def
/hjsp
{
    4 1 roll
    {
        dup cstring
        false charpath
        _sp eq
        {
            5 index 5 index rmoveto
        } if
        2 copy rmoveto
    } cforall
    6 npop
} def
/jsp
{
	matrix currentmatrix
    _lineorientation 0 eq {hjsp} {vjsp} ifelse
} def
/sp
{
    matrix currentmatrix
    0 0 0 7 3 roll
    _lineorientation 0 eq {hjsp} {vjsp} ifelse
} def
/pl
{
	transform
	0.25 sub round 0.25 add exch
	0.25 sub round 0.25 add exch
	itransform
} def
/setstrokeadjust where
{
	pop true setstrokeadjust
	/c
	{
		curveto
	} def
	/C
	/c load def
	/v
	{
		currentpoint 6 2 roll curveto
	} def
	/V
	/v load def
	/y
	{
		2 copy curveto
	} def
	/Y
	/y load def
	/l
	{
		lineto
	} def
	/L
	/l load def
	/m
	{
		moveto
	} def
}
{
	/c
	{
		pl curveto
	} def
	/C
	/c load def
	/v
	{
		currentpoint 6 2 roll pl curveto
	} def
	/V
	/v load def
	/y
	{
		pl 2 copy curveto
	} def
	/Y
	/y load def
	/l
	{
		pl lineto
	} def
	/L
	/l load def
	/m
	{
		pl moveto
	} def
} ifelse
/d
{
	setdash
} def
/cf
{
} def
/i
{
	dup 0 eq
	{
		pop cf
	} if
	setflat
} def
/j
{
	setlinejoin
} def
/J
{
	setlinecap
} def
/M
{
	setmiterlimit
} def
/w
{
	setlinewidth
} def
/XR
{
	0 ne
	/_eo exch ddef
} def
/H
{
} def
/h
{
	closepath
} def
/N
{
	_pola 0 eq
	{
		_doClip 1 eq
		{
			_eo {eoclip} {clip} ifelse /_doClip 0 ddef
		} if
		newpath
	}
	{
		/CRender
		{
			N
		} ddef
	} ifelse
} def
/n
{
	N
} def
/F
{
	_pola 0 eq
	{
		_doClip 1 eq
		{
			gsave _pf grestore _eo {eoclip} {clip} ifelse newpath /_lp /none ddef _fc
			/_doClip 0 ddef
		}
		{
			_pf
		} ifelse
	}
	{
		/CRender
		{
			F
		} ddef
	} ifelse
} def
/f
{
	closepath
	F
} def
/S
{
	_pola 0 eq
	{
		_doClip 1 eq
		{
			gsave _ps grestore _eo {eoclip} {clip} ifelse newpath /_lp /none ddef _sc
			/_doClip 0 ddef
		}
		{
			_ps
		} ifelse
	}
	{
		/CRender
		{
			S
		} ddef
	} ifelse
} def
/s
{
	closepath
	S
} def
/B
{
	_pola 0 eq
	{
		_doClip 1 eq
		gsave F grestore
		{
			gsave S grestore _eo {eoclip} {clip} ifelse newpath /_lp /none ddef _sc
			/_doClip 0 ddef
		}
		{
			S
		} ifelse
	}
	{
		/CRender
		{
			B
		} ddef
	} ifelse
} def
/b
{
	closepath
	B
} def
/W
{
	/_doClip 1 ddef
} def
/*
{
	count 0 ne
	{
		dup type /stringtype eq
		{
			pop
		} if
	} if
	newpath
} def
/u
{
} def
/U
{
} def
/q
{
	_pola 0 eq
	{
		gsave
	} if
} def
/Q
{
	_pola 0 eq
	{
		grestore
	} if
} def
/*u
{
	_pola 1 add /_pola exch ddef
} def
/*U
{
	_pola 1 sub /_pola exch ddef
	_pola 0 eq
	{
		CRender
	} if
} def
/D
{
	pop
} def
/*w
{
} def
/*W
{
} def
/`
{
	/_i save ddef
	clipForward?
	{
		nulldevice
	} if
	6 1 roll 4 npop
	concat pop
	userdict begin
	/showpage
	{
	} def
	0 setgray
	0 setlinecap
	1 setlinewidth
	0 setlinejoin
	10 setmiterlimit
	[] 0 setdash
	/setstrokeadjust where {pop false setstrokeadjust} if
	newpath
	0 setgray
	false setoverprint
} def
/~
{
 end
	_i restore
} def
/_rgbtocmyk
{
	3
	{
		1 exch sub 3 1 roll
	} repeat
	3 copy 1 4 1 roll
	3
	{
		3 index 2 copy gt
		{
			exch
		} if
		pop 4 1 roll
	} repeat
	pop pop pop
	4 1 roll
	3
	{
		3 index sub
		3 1 roll
	} repeat
	4 -1 roll
} def
/setrgbfill
{
	_rgbf astore pop
	/_fc
	{
		_lp /fill ne
		{
			_of setoverprint
			_rgbf aload pop setrgbcolor
			/_lp /fill ddef
		} if
	} ddef
	/_pf
	{
		_fc
		_eo {eofill} {fill} ifelse
	} ddef
	/_psf
	{
		_fc
		hvashow
	} ddef
	/_pjsf
	{
		_fc
		hvawidthshow
	} ddef
	/_lp /none ddef
} def
/setrgbstroke
{
	_rgbs astore pop
	/_sc
	{
		_lp /stroke ne
		{
			_os setoverprint
			_rgbs aload pop setrgbcolor
			/_lp /stroke ddef
		} if
	} ddef
	/_ps
	{
		_sc
		stroke
	} ddef
	/_pss
	{
		_sc
		ss
	} ddef
	/_pjss
	{
		_sc
		jss
	} ddef
	/_lp /none ddef
} def
/O
{
	0 ne
	/_of exch ddef
	/_lp /none ddef
} def
/R
{
	0 ne
	/_os exch ddef
	/_lp /none ddef
} def
/g
{
	/_gf exch ddef
	/_fc
	{
		_lp /fill ne
		{
			_of setoverprint
			_gf setgray
			/_lp /fill ddef
		} if
	} ddef
	/_pf
	{
		_fc
		_eo {eofill} {fill} ifelse
	} ddef
	/_psf
	{
		_fc
		hvashow
	} ddef
	/_pjsf
	{
		_fc
		hvawidthshow
	} ddef
	/_lp /none ddef
} def
/G
{
	/_gs exch ddef
	/_sc
	{
		_lp /stroke ne
		{
			_os setoverprint
			_gs setgray
			/_lp /stroke ddef
		} if
	} ddef
	/_ps
	{
		_sc
		stroke
	} ddef
	/_pss
	{
		_sc
		ss
	} ddef
	/_pjss
	{
		_sc
		jss
	} ddef
	/_lp /none ddef
} def
/k
{
	_cf astore pop
	/_fc
	{
		_lp /fill ne
		{
			_of setoverprint
			_cf aload pop setcmykcolor
			/_lp /fill ddef
		} if
	} ddef
	/_pf
	{
		_fc
		_eo {eofill} {fill} ifelse
	} ddef
	/_psf
	{
		_fc
		hvashow
	} ddef
	/_pjsf
	{
		_fc
		hvawidthshow
	} ddef
	/_lp /none ddef
} def
/K
{
	_cs astore pop
	/_sc
	{
		_lp /stroke ne
		{
			_os setoverprint
			_cs aload pop setcmykcolor
			/_lp /stroke ddef
		} if
	} ddef
	/_ps
	{
		_sc
		stroke
	} ddef
	/_pss
	{
		_sc
		ss
	} ddef
	/_pjss
	{
		_sc
		jss
	} ddef
	/_lp /none ddef
} def
/Xa
{
	_?cmyk {
		3 npop k
	}{
		setrgbfill 4 npop
	} ifelse
} def
/XA
{
	_?cmyk {
		3 npop K
	}{
		setrgbstroke 4 npop
	} ifelse
} def
/Xs
{
	/_gf exch ddef
	5 npop
	/_fc
	{
		_lp /fill ne
		{
			_of setoverprint
			_gf setAIseparationgray
			/_lp /fill ddef
		} if
	} ddef
	/_pf
	{
		_fc
		_eo {eofill} {fill} ifelse
	} ddef
	/_psf
	{
		_fc
		hvashow
	} ddef
	/_pjsf
	{
		_fc
		hvawidthshow
	} ddef
	/_lp /none ddef
} def
/XS
{
	/_gs exch ddef
	5 npop
	/_sc
	{
		_lp /stroke ne
		{
			_os setoverprint
			_gs setAIseparationgray
			/_lp /stroke ddef
		} if
	} ddef
	/_ps
	{
		_sc
		stroke
	} ddef
	/_pss
	{
		_sc
		ss
	} ddef
	/_pjss
	{
		_sc
		jss
	} ddef
	/_lp /none ddef
} def
/Xx
{
	exch
	/_gf exch ddef
	0 eq {
		findcmykcustomcolor
	}{
		_?cmyk {true}{/findrgbcustomcolor where{pop false}{true}ifelse}ifelse
		{
			4 1 roll 3 npop
			findcmykcustomcolor
		}{
			8 -4 roll 4 npop
			findrgbcustomcolor
		} ifelse
	} ifelse
	/_if exch ddef
	/_fc
	{
		_lp /fill ne
		{
			_of setoverprint
			_if _gf 1 exch sub setcustomcolor
			/_lp /fill ddef
		} if
	} ddef
	/_pf
	{
		_fc
		_eo {eofill} {fill} ifelse
	} ddef
	/_psf
	{
		_fc
		hvashow
	} ddef
	/_pjsf
	{
		_fc
		hvawidthshow
	} ddef
	/_lp /none ddef
} def
/XX
{
	exch
	/_gs exch ddef
	0 eq {
		findcmykcustomcolor
	}{
		_?cmyk {true}{/findrgbcustomcolor where{pop false}{true}ifelse}ifelse
		{
			4 1 roll 3 npop
			findcmykcustomcolor
		}{
			8 -4 roll 4 npop
			findrgbcustomcolor
		} ifelse
	} ifelse
	/_is exch ddef
	/_sc
	{
		_lp /stroke ne
		{
			_os setoverprint
			_is _gs 1 exch sub setcustomcolor
			/_lp /stroke ddef
		} if
	} ddef
	/_ps
	{
		_sc
		stroke
	} ddef
	/_pss
	{
		_sc
		ss
	} ddef
	/_pjss
	{
		_sc
		jss
	} ddef
	/_lp /none ddef
} def
/x
{
	/_gf exch ddef
	findcmykcustomcolor
	/_if exch ddef
	/_fc
	{
		_lp /fill ne
		{
			_of setoverprint
			_if _gf 1 exch sub setcustomcolor
			/_lp /fill ddef
		} if
	} ddef
	/_pf
	{
		_fc
		_eo {eofill} {fill} ifelse
	} ddef
	/_psf
	{
		_fc
		hvashow
	} ddef
	/_pjsf
	{
		_fc
		hvawidthshow
	} ddef
	/_lp /none ddef
} def
/X
{
	/_gs exch ddef
	findcmykcustomcolor
	/_is exch ddef
	/_sc
	{
		_lp /stroke ne
		{
			_os setoverprint
			_is _gs 1 exch sub setcustomcolor
			/_lp /stroke ddef
		} if
	} ddef
	/_ps
	{
		_sc
		stroke
	} ddef
	/_pss
	{
		_sc
		ss
	} ddef
	/_pjss
	{
		_sc
		jss
	} ddef
	/_lp /none ddef
} def
/XK
{
	3 -1 roll pop
	0 eq
	{
		1 exch sub
		3 {dup 3 1 roll mul 5 1 roll} repeat
		mul 4 1 roll
		K
	}
	{
		1 exch sub 4 1 roll
		3 {1 exch sub 3 index mul 1 exch sub 3 1 roll} repeat
		4 -1 roll pop
		XA
	} ifelse
} def
/Xk
{
	3 -1 roll pop
	0 eq
	{
		1 exch sub
		3 {dup 3 1 roll mul 5 1 roll} repeat
		mul 4 1 roll
		k
	}
	{
		1 exch sub 4 1 roll
		3 {1 exch sub 3 index mul 1 exch sub 3 1 roll} repeat
		4 -1 roll pop
		Xa
	} ifelse
} def
/A
{
	pop
} def
/annotatepage
{
userdict /annotatepage 2 copy known {get exec} {pop pop} ifelse
} def
/XT {
	pop pop
} def
/Xt {
	pop
} def
/discard
{
	save /discardSave exch store
	discardDict begin
	/endString exch store
	gt38?
	{
		2 add
	} if
	load
	stopped
	pop
 end
	discardSave restore
} bind def
userdict /discardDict 7 dict dup begin
put
/pre38Initialize
{
	/endStringLength endString length store
	/newBuff buffer 0 endStringLength getinterval store
	/newBuffButFirst newBuff 1 endStringLength 1 sub getinterval store
	/newBuffLast newBuff endStringLength 1 sub 1 getinterval store
} def
/shiftBuffer
{
	newBuff 0 newBuffButFirst putinterval
	newBuffLast 0
	currentfile read not
	{
	stop
	} if
	put
} def
0
{
	pre38Initialize
	mark
	currentfile newBuff readstring exch pop
	{
		{
			newBuff endString eq
			{
				cleartomark stop
			} if
			shiftBuffer
		} loop
	}
	{
	stop
	} ifelse
} def
1
{
	pre38Initialize
	/beginString exch store
	mark
	currentfile newBuff readstring exch pop
	{
		{
			newBuff beginString eq
			{
				/layerCount dup load 1 add store
			}
			{
				newBuff endString eq
				{
					/layerCount dup load 1 sub store
					layerCount 0 eq
					{
						cleartomark stop
					} if
				} if
			} ifelse
			shiftBuffer
		} loop
	} if
} def
2
{
	mark
	{
		currentfile buffer {readline} stopped {
			% assume error was due to overfilling the buffer
		}{
			not
			{
				stop
			} if
			endString eq {
				cleartomark stop
			} if
		}ifelse
	} loop
} def
3
{
	/beginString exch store
	/layerCnt 1 store
	mark
	{
		currentfile buffer {readline} stopped {
			% assume error was due to overfilling the buffer
		}{
			not
			{
				stop
			} if
			dup beginString eq
			{
				pop /layerCnt dup load 1 add store
			}
			{
				endString eq
				{
					layerCnt 1 eq
					{
						cleartomark stop
					}
					{
						/layerCnt dup load 1 sub store
					} ifelse
				} if
			} ifelse
		}ifelse
	} loop
} def
end
userdict /clipRenderOff 15 dict dup begin
put
{
	/n /N /s /S /f /F /b /B
}
{
	{
		_doClip 1 eq
		{
			/_doClip 0 ddef _eo {eoclip} {clip} ifelse
		} if
		newpath
	} def
} forall
/Tr /pop load def
/Bb {} def
/BB /pop load def
/Bg {12 npop} def
/Bm {6 npop} def
/Bc /Bm load def
/Bh {4 npop} def
end
/Lb
{
	6 npop
	7 2 roll
	5 npop
	0 eq
	{
		0 eq
		{
			(%AI5_BeginLayer) 1 (%AI5_EndLayer--) discard
		}
		{
			
			/clipForward? true def
			
			/Tx /pop load def
			/Tj /pop load def
			
			currentdict end clipRenderOff begin begin
		} ifelse
	}
	{
		0 eq
		{
			save /discardSave exch store
		} if
	} ifelse
} bind def
/LB
{
	discardSave dup null ne
	{
		restore
	}
	{
		pop
		clipForward?
		{
			currentdict
		 end
		 end
		 begin
					
			/clipForward? false ddef
		} if
	} ifelse
} bind def
/Pb
{
	pop pop
	0 (%AI5_EndPalette) discard
} bind def
/Np
{
	0 (%AI5_End_NonPrinting--) discard
} bind def
/Ln /pop load def
/Ap
/pop load def
/Ar
{
	72 exch div
	0 dtransform dup mul exch dup mul add sqrt
	dup 1 lt
	{
		pop 1
	} if
	setflat
} def
/Mb
{
	q
} def
/Md
{
} def
/MB
{
	Q
} def
/nc 4 dict def
nc begin
/setgray
{
	pop
} bind def
/setcmykcolor
{
	4 npop
} bind def
/setrgbcolor
{
	3 npop
} bind def
/setcustomcolor
{
	2 npop
} bind def
currentdict readonly pop
end
/XP
{
	4 npop
} bind def
/XD
{
	pop
} bind def
end
setpacking
%%EndResource
%%BeginResource: procset Adobe_cshow 2.0 8
%%Title: (Writing System Operators)
%%Version: 2.0 8
%%CreationDate: (1/23/89) ()
%%Copyright: ((C) 1992-1996 Adobe Systems Incorporated All Rights Reserved)
currentpacking true setpacking
userdict /Adobe_cshow 14 dict dup begin put
/initialize
{
	Adobe_cshow begin
	Adobe_cshow
	{
		dup xcheck
		{
			bind
		} if
		pop pop
	} forall
 end
	Adobe_cshow begin
} def
/terminate
{
currentdict Adobe_cshow eq
	{
 end
	} if
} def
/cforall
{
	/_lobyte 0 ddef
	/_hibyte 0 ddef
	/_cproc exch ddef
	/_cscript currentfont /FontScript known { currentfont /FontScript get } { -1 } ifelse ddef
	{
		/_lobyte exch ddef
		_hibyte 0 eq
		_cscript 1 eq
		_lobyte 129 ge _lobyte 159 le and
		_lobyte 224 ge _lobyte 252 le and or and
		_cscript 2 eq
		_lobyte 161 ge _lobyte 254 le and and
		_cscript 3 eq
		_lobyte 161 ge _lobyte 254 le and and
    	_cscript 25 eq
		_lobyte 161 ge _lobyte 254 le and and
    	_cscript -1 eq
		or or or or and
		{
			/_hibyte _lobyte ddef
		}
		{
			_hibyte 256 mul _lobyte add
			_cproc
			/_hibyte 0 ddef
		} ifelse
	} forall
} def
/cstring
{
	dup 256 lt
	{
		(s) dup 0 4 3 roll put
	}
	{
		dup 256 idiv exch 256 mod
		(hl) dup dup 0 6 5 roll put 1 4 3 roll put
	} ifelse
} def
/clength
{
	0 exch
	{ 256 lt { 1 } { 2 } ifelse add } cforall
} def
/hawidthshow
{
	{
		dup cstring
		show
		_hvax _hvay rmoveto
		_hvwb eq { _hvcx _hvcy rmoveto } if
	} cforall
} def
/vawidthshow
{
	{
		dup 255 le
		_charorientation 1 eq
		and
		{
			-90 rotate
			0 _fontRotateAdjust rmoveto
			cstring
			_hvcx _hvcy _hvwb _hvax _hvay 6 -1 roll awidthshow
			0 _fontRotateAdjust neg rmoveto
			90 rotate
		}
		{
			currentpoint
			_fontHeight sub
			exch _hvay sub exch _hvax sub
			2 index _hvwb eq { exch _hvcy sub exch _hvcx sub } if
			3 2 roll
			cstring
			dup stringwidth pop 2 div neg _fontAscent neg rmoveto
			show
			moveto
		} ifelse
	} cforall
} def
/hvawidthshow
{
	6 1 roll
	/_hvay exch ddef
	/_hvax exch ddef
	/_hvwb exch ddef
	/_hvcy exch ddef
	/_hvcx exch ddef
	_lineorientation 0 eq { hawidthshow } { vawidthshow } ifelse
} def
/hvwidthshow
{
	0 0 3 -1 roll hvawidthshow
} def
/hvashow
{
	0 0 0 6 -3 roll hvawidthshow
} def
/hvshow
{
	0 0 0 0 0 6 -1 roll hvawidthshow
} def
currentdict readonly pop end
setpacking
%%EndResource
%%BeginResource: procset Adobe_shading_AI8 1.0 0
%%Title: (Adobe Illustrator 8 Shading Procset)
%%Version: 1.0 0
%%CreationDate: (12/17/97) ()
%%Copyright: ((C) 1987-1997 Adobe Systems Incorporated All Rights Reserved)
userdict /defaultpacking currentpacking put true setpacking
userdict /Adobe_shading_AI8 10 dict dup begin put
/initialize {
	Adobe_shading_AI8 begin
	Adobe_shading_AI8 bdprocs
	Mesh /initialize get exec
} def
/terminate {
	currentdict Adobe_shading_AI8 eq {
	 end
	} if
} def
/bdprocs {
	{
		dup xcheck 1 index type /arraytype eq and {
			bind
		} if
		pop pop
	} forall
} def
/X! {pop} def
/X# {pop pop} def
/Mesh 40 dict def
Mesh begin
/initialize {
	Mesh bdprocs
	Mesh begin
		/emulate? /AI8MeshEmulation where {
			pop AI8MeshEmulation
		}{
			systemdict /shfill known not
		} ifelse def
 end
} def
/bd {
	shadingdict begin
} def
/paint {
	emulate? {
	 end
	}{
		/_lp /none ddef _fc /_lp /none ddef
		
		/AIColorSpace AIColorSpace tocolorspace store
		/ColorSpace AIColorSpace topsspace store
		
		version_ge_3010.106 not systemdict /setsmoothness known and {
			0.0001 setsmoothness
		} if
		
		composite? {
			/DataSource getdatasrc def
			Matrix concat
			currentdict end
			shfill
		}{
			AIColorSpace makesmarks AIPlateList markingplate and not isoverprint and {
			 end
			}{
				/ColorSpace /DeviceGray store
				/Decode [0 1 0 1 0 1] store
				/DataSource getplatesrc def
				Matrix concat
				currentdict end
				shfill
			} ifelse
		} ifelse
	} ifelse
} def
/shadingdict 12 dict def
shadingdict begin
	/ShadingType 6 def
	/BitsPerCoordinate 16 def
	/BitsPerComponent 8 def
	/BitsPerFlag 8 def
end
/datafile null def
/databuf 256 string def
/dataptr 0 def
/srcspace null def
/srcchannels 0 def
/dstchannels 0 def
/dstplate 0 def
/srctodstcolor null def
/getplatesrc {
	/srcspace AIColorSpace store
	/srcchannels AIColorSpace getnchannels store
	/dstchannels 1 store
	/dstplate getplateindex store
	/srctodstcolor srcspace makesmarks {
		dstplate 4 eq {
			{1 exch sub}
		}{
			{srcspace tocmyk 3 dstplate sub index 1 exch sub 5 1 roll 4 {pop} repeat}
		} ifelse
	}{
		{srcchannels {pop} repeat 1}
	} ifelse store
	/datafile getdatasrc store
	/rdpatch168 load DataLength () /SubFileDecode filter
} def
/getdatasrc {
	/rdcmntline load /ASCII85Decode filter
} def
/rdpatch168 {
	/dataptr 0 store
	49 rdcount
	4 {
		dup {pop srcchannels getint8} if
		dup {pop srctodstcolor dstchannels putint8 true} if
	} repeat
	{databuf 0 dataptr getinterval}{()} ifelse
} def
/rdpatch3216 {
	/dataptr 0 store
	97 rdcount
	4 {
		dup {pop srcchannels getint16} if
		dup {pop srctodstcolor dstchannels putint16 true} if
	} repeat
	{databuf 0 dataptr getinterval}{()} ifelse
} def
/rdcount {
	dup 0 gt {
		datafile databuf dataptr 4 -1 roll getinterval readstring
		exch length dataptr add /dataptr exch store
	}{
		true
	} ifelse
} def
/getint8 {
	mark true 3 -1 roll
	{
		dup {pop datafile read} if
		dup {pop 255 div true} if
	} repeat
	{
		counttomark 1 add -1 roll pop true
	}{
		cleartomark false
	} ifelse
} def
/putint8 {
	dup dataptr add /dataptr exch store
	dataptr exch
	{
		1 sub exch
		255 mul cvi
		databuf 2 index
		3 -1 roll put
	} repeat
	pop
} def 
/getint16 {
	mark true 3 -1 roll
	{
		dup {pop datafile read} if
		dup {pop 256 mul datafile read} if
		dup {pop add 65535 div true} if
	} repeat
	{
		counttomark 1 add -1 roll pop true
	}{
		cleartomark false
	} ifelse
} def
/putint16 {
	dup 2 mul dataptr add /dataptr exch store
	dataptr exch
	{
		2 sub exch
		65535 mul cvi dup
		256 idiv databuf 3 index 3 -1 roll put
		256 mod databuf 2 index 1 add 3 -1 roll put
	} repeat
	pop
} def 
/srcbuf 256 string def
/rdcmntline {
	currentfile srcbuf readline pop
	(%) anchorsearch {pop} if
} def
/getplateindex {
	0 [cyan? magenta? yellow? black? customColor?] {{exit} if 1 add} forall
} def
/aicsarray 4 array def
/aicsaltvals 4 array def
/aicsaltcolr aicsaltvals def
/tocolorspace {
	dup type /arraytype eq {
		mark exch aload pop
		aicsarray 0 3 -1 roll put
		aicsarray 1 3 -1 roll put
		dup aicsarray 2 3 -1 roll put
		gettintxform aicsarray 3 3 -1 roll put
		counttomark aicsaltvals 0 3 -1 roll getinterval /aicsaltcolr exch store
		aicsaltcolr astore pop pop
		aicsarray
	} if
} def
/subtintxform {aicsaltcolr {1 index mul exch} forall pop} def
/addtintxform {aicsaltcolr {1 sub 1 index mul 1 add exch} forall pop} def
/gettintxform {
	/DeviceRGB eq {/addtintxform}{/subtintxform} ifelse load
} def
/getnchannels {
	dup type /arraytype eq {0 get} if
	colorspacedict exch get begin Channels end
} def
/makesmarks {
	composite? {
		pop true
	}{
		dup dup type /arraytype eq {0 get} if
		colorspacedict exch get begin MarksPlate end
	} ifelse
} def
/markingplate {
	composite? {
		pop true
	}{
		dup type /arraytype eq {
			dup length getplateindex gt {getplateindex get}{pop false} ifelse
		} if
	} ifelse
} def
/tocmyk {
	dup dup type /arraytype eq {0 get} if
	colorspacedict exch get begin ToCMYK end
} def
/topsspace {
	dup dup type /arraytype eq {0 get} if
	colorspacedict exch get begin ToPSSpace end
} def
/colorspacedict 5 dict dup begin
	/DeviceGray 4 dict dup begin
		/Channels 1 def
		/MarksPlate {pop black?} def
		/ToCMYK {pop 1 exch sub 0 0 0 4 -1 roll} def
		/ToPSSpace {} def
 end def
	/DeviceRGB 4 dict dup begin
		/Channels 3 def
		/MarksPlate {pop isCMYKSep?} def
		/ToCMYK {pop _rgbtocmyk} def
		/ToPSSpace {} def
 end def
	/DeviceCMYK 4 dict dup begin
		/Channels 4 def
		/MarksPlate {pop isCMYKSep?} def
		/ToCMYK {pop} def
		/ToPSSpace {} def
 end def
	/Separation 4 dict dup begin
		/Channels 1 def
		/MarksPlate {
			/findcmykcustomcolor where {
				pop dup 1 exch ToCMYK 5 -1 roll 1 get
				findcmykcustomcolor 1 setcustomcolor
				systemdict /currentgray get exec
				1 ne
			}{
				pop false
			} ifelse
		} def
		/ToCMYK {
			dup 2 get mark exch 4 2 roll
			3 get exec
			counttomark -1 roll tocmyk
			5 -1 roll pop
		} def
		/ToPSSpace {} def
 end def
	/Process 4 dict dup begin
		/Channels 1 def
		/MarksPlate {
			isCMYKSep? {
				1 exch ToCMYK 4 array astore getplateindex get 0 ne 
			}{
				pop false
			} ifelse
		} def
		/ToCMYK {
			dup 2 get mark exch 4 2 roll
			3 get exec
			counttomark -1 roll tocmyk
			5 -1 roll pop
		} def
		/ToPSSpace {
			4 array copy dup 0 /Separation put
		} def
 end def
end def
/isoverprint {
	/currentoverprint where {pop currentoverprint}{_of} ifelse
} def
/version_ge_3010.106 {
   version {cvr} stopped {
      pop
      false
   }{
      3010.106 ge
   } ifelse
} def
end
end
defaultpacking setpacking
%%EndResource
%%EndProlog
%%BeginSetup
userdict /_useSmoothShade false put
userdict /_aicmykps true put
userdict /_forceToCMYK true put
Adobe_level2_AI5 /initialize get exec
Adobe_cshow /initialize get exec
Adobe_ColorImage_AI6 /initialize get exec
Adobe_shading_AI8 /initialize get exec
Adobe_Illustrator_AI5 /initialize get exec
%AI5_Begin_NonPrinting
Np
%AI3_BeginPattern: (Yellow Stripe)
(Yellow Stripe) 8.4499 4.6 80.4499 76.6 [
%AI3_Tile
(0 O 0 R 0 0.4 1 0 k
 0 0.4 1 0 K
) @
(
%AI6_BeginPatternLayer
800 Ar
0 J 0 j 3.6 w 4 M []0 d
%AI3_Note:
0 D
0 XR
8.1999 8.1999 m
80.6999 8.1999 L
S
8.1999 22.6 m
80.6999 22.6 L
S
8.1999 37.0001 m
80.6999 37.0001 L
S
8.1999 51.3999 m
80.6999 51.3999 L
S
8.1999 65.8 m
80.6999 65.8 L
S
8.1999 15.3999 m
80.6999 15.3999 L
S
8.1999 29.8 m
80.6999 29.8 L
S
8.1999 44.1999 m
80.6999 44.1999 L
S
8.1999 58.6 m
80.6999 58.6 L
S
8.1999 73.0001 m
80.6999 73.0001 L
S
%AI6_EndPatternLayer
) &
] E
%AI3_EndPattern
%AI5_End_NonPrinting--
%AI5_Begin_NonPrinting
Np
3 Bn
%AI5_BeginGradient: (Black & White)
(Black & White) 0 2 Bd
[
<
FFFEFDFCFBFAF9F8F7F6F5F4F3F2F1F0EFEEEDECEBEAE9E8E7E6E5E4E3E2E1E0DFDEDDDCDBDAD9D8
D7D6D5D4D3D2D1D0CFCECDCCCBCAC9C8C7C6C5C4C3C2C1C0BFBEBDBCBBBAB9B8B7B6B5B4B3B2B1B0
AFAEADACABAAA9A8A7A6A5A4A3A2A1A09F9E9D9C9B9A999897969594939291908F8E8D8C8B8A8988
87868584838281807F7E7D7C7B7A797877767574737271706F6E6D6C6B6A69686766656463626160
5F5E5D5C5B5A595857565554535251504F4E4D4C4B4A494847464544434241403F3E3D3C3B3A3938
37363534333231302F2E2D2C2B2A292827262524232221201F1E1D1C1B1A19181716151413121110
0F0E0D0C0B0A09080706050403020100
>
0 %_Br
[
0 0 50 100 %_BS
%_0 0 50 100 Bs
1 0 50 0 %_BS
%_1 0 50 0 Bs
BD
%AI5_EndGradient
%AI5_BeginGradient: (Red & Yellow)
(Red & Yellow) 0 2 Bd
[
0
<
000102030405060708090A0B0C0D0E0F101112131415161718191A1B1C1D1E1F2021222324252627
28292A2B2C2D2E2F303132333435363738393A3B3C3D3E3F404142434445464748494A4B4C4D4E4F
505152535455565758595A5B5C5D5E5F606162636465666768696A6B6C6D6E6F7071727374757677
78797A7B7C7D7E7F808182838485868788898A8B8C8D8E8F909192939495969798999A9B9C9D9E9F
A0A1A2A3A4A5A6A7A8A9AAABACADAEAFB0B1B2B3B4B5B6B7B8B9BABBBCBDBEBFC0C1C2C3C4C5C6C7
C8C9CACBCCCDCECFD0D1D2D3D4D5D6D7D8D9DADBDCDDDEDFE0E1E2E3E4E5E6E7E8E9EAEBECEDEEEF
F0F1F2F3F4F5F6F7F8F9FAFBFCFDFEFF
>
<
FFFFFEFEFDFDFDFCFCFBFBFBFAFAF9F9F9F8F8F7F7F7F6F6F5F5F5F4F4F3F3F3F2F2F1F1F1F0F0EF
EFEFEEEEEDEDEDECECEBEBEBEAEAE9E9E9E8E8E7E7E7E6E6E5E5E5E4E4E3E3E3E2E2E1E1E1E0E0DF
DFDFDEDEDDDDDDDCDCDBDBDBDADAD9D9D9D8D8D7D7D7D6D6D5D5D5D4D4D3D3D3D2D2D1D1D1D0D0CF
CFCFCECECDCDCDCCCCCBCBCBCACAC9C9C9C8C8C7C7C7C6C6C5C5C5C4C4C3C3C3C2C2C1C1C1C0C0BF
BFBFBEBEBDBDBDBCBCBBBBBBBABAB9B9B9B8B8B7B7B7B6B6B5B5B5B4B4B3B3B3B2B2B1B1B1B0B0AF
AFAFAEAEADADADACACABABABAAAAA9A9A9A8A8A7A7A7A6A6A5A5A5A4A4A3A3A3A2A2A1A1A1A0A09F
9F9F9E9E9D9D9D9C9C9B9B9B9A9A9999
>
0
1 %_Br
[
0 1 0.6 0 1 50 100 %_BS
%_0 1 0.6 0 1 50 100 Bs
0 0 1 0 1 50 0 %_BS
%_0 0 1 0 1 50 0 Bs
BD
%AI5_EndGradient
%AI5_BeginGradient: (Yellow & Blue Radial)
(Yellow & Blue Radial) 1 2 Bd
[
<
000102030405060708090A0B0C0D0E0F101112131415161718191A1B1C1D1E1F2021222324252627
28292A2B2C2D2E2F303132333435363738393A3B3C3D3E3F404142434445464748494A4B4C4D4E4F
505152535455565758595A5B5C5D5E5F606162636465666768696A6B6C6D6E6F7071727374757677
78797A7B7C7D7E7F808182838485868788898A8B8C8D8E8F909192939495969798999A9B9C9D9E9F
A0A1A2A3A4A5A6A7A8A9AAABACADAEAFB0B1B2B3B4B5B6B7B8B9BABBBCBDBEBFC0C1C2C3C4C5C6C7
C8C9CACBCCCDCECFD0D1D2D3D4D5D6D7D8D9DADBDCDDDEDFE0E1E2E3E4E5E6E7E8E9EAEBECEDEEEF
F0F1F2F3F4F5F6F7F8F9FAFBFCFDFEFF
>
<
1415161718191A1B1C1D1E1F1F202122232425262728292A2A2B2C2D2E2F30313233343536363738
393A3B3C3D3E3F40414142434445464748494A4B4C4D4D4E4F50515253545556575858595A5B5C5D
5E5F60616263646465666768696A6B6C6D6E6F6F707172737475767778797A7B7B7C7D7E7F808182
83848586868788898A8B8C8D8E8F90919292939495969798999A9B9C9D9D9E9FA0A1A2A3A4A5A6A7
A8A9A9AAABACADAEAFB0B1B2B3B4B4B5B6B7B8B9BABBBCBDBEBFC0C0C1C2C3C4C5C6C7C8C9CACBCB
CCCDCECFD0D1D2D3D4D5D6D7D7D8D9DADBDCDDDEDFE0E1E2E2E3E4E5E6E7E8E9EAEBECEDEEEEEFF0
F1F2F3F4F5F6F7F8F9F9FAFBFCFDFEFF
>
<
ABAAAAA9A8A8A7A6A5A5A4A3A3A2A1A1A09F9F9E9D9D9C9B9B9A9999989797969595949393929191
908F8F8E8D8D8C8B8B8A8989888787868585848383828181807F7F7E7D7D7C7B7B7A797978777776
7575747373727171706F6F6E6D6D6C6B6B6A6969686767666564646362626160605F5E5E5D5C5C5B
5A5A5958585756565554545352525150504F4E4E4D4C4C4B4A4A4948484746464544444342424140
403F3E3E3D3C3C3B3A3A3938383736363534343332323130302F2E2E2D2C2C2B2A2A292828272626
25242423222121201F1F1E1D1D1C1B1B1A1919181717161515141313121111100F0F0E0D0D0C0B0B
0A090908070706050504030302010100
>
0
1 %_Br
[
0 0.08 0.67 0 1 50 14 %_BS
%_0 0.08 0.67 0 1 50 14 Bs
1 1 0 0 1 50 100 %_BS
%_1 1 0 0 1 50 100 Bs
BD
%AI5_EndGradient
%AI5_End_NonPrinting--
%AI5_BeginPalette
0 0 Pb
1 1 1 1 ([Registration]) 0 Xs
([Registration]) Pc
1 g
(K=0) Pc
0 g
(K=100) Pc
0 0 0 0 k
(C=0 M=0 Y=0 K=0) Pc
0.75 g
(K=25) Pc
0.5 g
(K=50) Pc
0.25 g
(K=75) Pc
0 g
(K=100) Pc
Bb
2 (Black & White) -7885.5 8587.5 0 0 1 0 0 1 0 0 Bg
0 BB
(Black & White) Pc
0.25 0 0 0 k
(C=25 M=0 Y=0 K=0) Pc
0.5 0 0 0 k
(C=50 M=0 Y=0 K=0) Pc
0.75 0 0 0 k
(C=75 M=0 Y=0 K=0) Pc
1 0 0 0 k
(C=100 M=0 Y=0 K=0) Pc
0.25 0.25 0 0 k
(C=25 M=25 Y=0 K=0) Pc
0.5 0.5 0 0 k
(C=50 M=50 Y=0 K=0) Pc
0.75 0.75 0 0 k
(C=75 M=75 Y=0 K=0) Pc
1 1 0 0 k
(C=100 M=100 Y=0 K=0) Pc
Bb
2 (Red & Yellow) -7885.5 8587.5 0 0 1 0 0 1 0 0 Bg
0 BB
(Red & Yellow) Pc
0 0.25 0 0 k
(C=0 M=25 Y=0 K=0) Pc
0 0.5 0 0 k
(C=0 M=50 Y=0 K=0) Pc
0 0.75 0 0 k
(C=0 M=75 Y=0 K=0) Pc
0 1 0 0 k
(C=0 M=100 Y=0 K=0) Pc
0 0.25 0.25 0 k
(C=0 M=25 Y=25 K=0) Pc
0 0.5 0.5 0 k
(C=0 M=50 Y=50 K=0) Pc
0 0.75 0.75 0 k
(C=0 M=75 Y=75 K=0) Pc
0 1 1 0 k
(C=0 M=100 Y=100 K=0) Pc
Bb
0 0 0 0 Bh
2 (Yellow & Blue Radial) -7885.5 8587.5 0 0 1 0 0 1 0 0 Bg
0 BB
(Yellow & Blue Radial) Pc
0 0 0.25 0 k
(C=0 M=0 Y=25 K=0) Pc
0 0 0.5 0 k
(C=0 M=0 Y=50 K=0) Pc
0 0 0.75 0 k
(C=0 M=0 Y=75 K=0) Pc
0 0 1 0 k
(C=0 M=0 Y=100 K=0) Pc
0.25 0 0.25 0 k
(C=25 M=0 Y=25 K=0) Pc
0.5 0 0.5 0 k
(C=50 M=0 Y=50 K=0) Pc
0.75 0 0.75 0 k
(C=75 M=0 Y=75 K=0) Pc
1 0 1 0 k
(C=100 M=0 Y=100 K=0) Pc
(Yellow Stripe) 0 0 1 1 0 0 0 0 0 [1 0 0 1 0 0] p
(Yellow Stripe) Pc
0.25 0.125 0 0 k
(C=25 M=13 Y=0 K=0) Pc
0.5 0.25 0 0 k
(C=50 M=25 Y=0 K=0) Pc
0.75 0.375 0 0 k
(C=75 M=38 Y=0 K=0) Pc
1 0.5 0 0 k
(C=100 M=50 Y=0 K=0) Pc
0.125 0.25 0 0 k
(C=13 M=25 Y=0 K=0) Pc
0.25 0.5 0 0 k
(C=25 M=50 Y=0 K=0) Pc
0.375 0.75 0 0 k
(C=38 M=75 Y=0 K=0) Pc
0.5 1 0 0 k
(C=50 M=100 Y=0 K=0) Pc
0 0 0 0 k
(C=0 M=0 Y=0 K=0) Pc
0 0.25 0.125 0 k
(C=0 M=25 Y=13 K=0) Pc
0 0.5 0.25 0 k
(C=0 M=50 Y=25 K=0) Pc
0 0.75 0.375 0 k
(C=0 M=75 Y=38 K=0) Pc
0 1 0.5 0 k
(C=0 M=100 Y=50 K=0) Pc
0 0.125 0.25 0 k
(C=0 M=13 Y=25 K=0) Pc
0 0.25 0.5 0 k
(C=0 M=25 Y=50 K=0) Pc
0 0.375 0.75 0 k
(C=0 M=38 Y=75 K=0) Pc
0 0.5 1 0 k
(C=0 M=50 Y=100 K=0) Pc
0 0 0 0 k
(C=0 M=0 Y=0 K=0) Pc
0.125 0 0.25 0 k
(C=13 M=0 Y=25 K=0) Pc
0.25 0 0.5 0 k
(C=25 M=0 Y=50 K=0) Pc
0.375 0 0.75 0 k
(C=38 M=0 Y=75 K=0) Pc
0.5 0 1 0 k
(C=50 M=0 Y=100 K=0) Pc
0.25 0 0.125 0 k
(C=25 M=0 Y=13 K=0) Pc
0.5 0 0.25 0 k
(C=50 M=0 Y=25 K=0) Pc
0.75 0 0.375 0 k
(C=75 M=0 Y=38 K=0) Pc
1 0 0.5 0 k
(C=100 M=0 Y=50 K=0) Pc
0 0 0 0 k
(C=0 M=0 Y=0 K=0) Pc
0.25 0.125 0.125 0 k
(C=25 M=13 Y=13 K=0) Pc
0.5 0.25 0.25 0 k
(C=50 M=25 Y=25 K=0) Pc
0.75 0.375 0.375 0 k
(C=75 M=38 Y=38 K=0) Pc
1 0.5 0.5 0 k
(C=100 M=50 Y=50 K=0) Pc
0.25 0.25 0.125 0 k
(C=25 M=25 Y=13 K=0) Pc
0.5 0.5 0.25 0 k
(C=50 M=50 Y=25 K=0) Pc
0.75 0.75 0.375 0 k
(C=75 M=75 Y=38 K=0) Pc
1 1 0.5 0 k
(C=100 M=100 Y=50 K=0) Pc
0 0 0 0 k
(C=0 M=0 Y=0 K=0) Pc
0.125 0.25 0.125 0 k
(C=13 M=25 Y=13 K=0) Pc
0.25 0.5 0.25 0 k
(C=25 M=50 Y=25 K=0) Pc
0.375 0.75 0.375 0 k
(C=38 M=75 Y=38 K=0) Pc
0.5 1 0.5 0 k
(C=50 M=100 Y=50 K=0) Pc
0.125 0.25 0.25 0 k
(C=13 M=25 Y=25 K=0) Pc
0.25 0.5 0.5 0 k
(C=25 M=50 Y=50 K=0) Pc
0.375 0.75 0.75 0 k
(C=38 M=75 Y=75 K=0) Pc
0.5 1 1 0 k
(C=50 M=100 Y=100 K=0) Pc
0 0 0 0 k
(C=0 M=0 Y=0 K=0) Pc
0.125 0.125 0.25 0 k
(C=13 M=13 Y=25 K=0) Pc
0.25 0.25 0.5 0 k
(C=25 M=25 Y=50 K=0) Pc
0.375 0.375 0.75 0 k
(C=38 M=38 Y=75 K=0) Pc
0.5 0.5 1 0 k
(C=50 M=50 Y=100 K=0) Pc
0.25 0.125 0.25 0 k
(C=25 M=13 Y=25 K=0) Pc
0.5 0.25 0.5 0 k
(C=50 M=25 Y=50 K=0) Pc
0.75 0.375 0.75 0 k
(C=75 M=38 Y=75 K=0) Pc
1 0.5 1 0 k
(C=100 M=50 Y=100 K=0) Pc
0 0 0 1 (Green) 0 x
(Green) Pc
0 1 0.91 0 (PANTONE 485 CV) 0 x
(PANTONE 485 CV) Pc
0 0.91 0.76 0 (PANTONE 185 CVC) 0 x
(PANTONE 185 CVC) Pc
PB
%AI5_EndPalette
%AI5_Begin_NonPrinting
Np
%AI5_End_NonPrinting--
%AI5_Begin_NonPrinting
Np
%AI8_PluginGroupInfo
(Adobe Path Blends) (Adobe Blends Plugin) (Live Blends)
%AI8_PluginGroupInfo
(Adobe PatternOnPath Brush Tool) (Adobe Pattern Brush Plugin) (Art Brush Tool)
%AI8_PluginGroupInfo
(Adobe ArtOnPath Brush Tool) (Adobe Art Brush Plugin) (Art Brush Tool)
%AI8_PluginGroupInfo
(Adobe Calligraphic Brush Tool) (Undo New Calligraphic Brush) (Calligraphic Brush Tool)
%AI8_PluginGroupInfo
(Adobe Scatter Brush Tool) (Adobe Scatter Brush Plugin) (Scatter Brush Tool)
%AI5_End_NonPrinting--
%%EndSetup
%AI5_BeginLayer
1 1 1 1 0 0 1 0 79 128 255 0 100 Lb
(Layer 1) Ln
0 A
800 Ar
0 J 0 j 1 w 4 M []0 d
%AI3_Note:
0 D
0 XR
307.6025 4716 m
307.6025 -3924 L
(N) *
u
u
0 O
0 0 0 1 k
144.0098 445.6494 m
138.3096 445.6494 L
141.1338 450.6055 l
144.0098 445.6494 l
f
U
u
140.4512 444.6211 m
137.6035 439.6831 L
134.7212 444.6055 l
140.4512 444.6211 l
f
U
u
147.314 444.6211 m
144.4663 439.6831 L
141.584 444.6055 l
147.314 444.6211 l
f
U
U
*u
155.1357 443.7197 m
151.7617 443.7197 L
153.4639 447.6714 l
155.1357 443.7197 L
f
155.3281 443.187 m
155.8613 441.959 l
155.9795 441.6626 156.2163 441.1592 156.2163 440.834 c
156.2163 440.3159 155.8467 440.1973 155.21 440.168 C
155.21 439.9014 L
159.0728 439.9014 L
159.0728 440.168 l
157.9775 440.2119 157.6963 441.041 157.3262 441.9287 C
153.9961 449.9209 L
153.73 449.9209 L
150.208 441.6626 l
149.7637 440.627 149.4531 440.2422 148.6836 440.168 C
148.6836 439.9014 L
151.7617 439.9014 L
151.7617 440.168 l
151.2139 440.2119 150.6221 440.2715 150.6221 440.8193 c
150.6221 441.1006 150.8291 441.5591 150.9473 441.8105 C
151.5396 443.187 l
155.3281 443.187 L
f
*U
*u
164.3711 441.1592 m
164.0303 440.7896 163.6162 440.4932 163.0981 440.4932 c
161.9736 440.4932 161.0703 441.6777 161.0703 443.4834 c
161.0703 445.792 162.2988 446.2803 162.832 446.2803 c
163.8379 446.2803 164.3711 445.2734 164.3711 444.3857 c
164.3711 441.1592 L
f
164.3711 446.1621 m
163.9863 446.5615 163.4385 446.7241 162.9058 446.7241 c
160.9814 446.7241 159.7236 444.7266 159.7236 442.9648 c
159.7236 441.4111 160.6709 439.6943 162.4023 439.6943 c
163.2314 439.6943 163.8086 440.0645 164.3711 440.6416 C
164.3711 439.6943 L
164.6963 439.6943 L
166.6943 440.5083 L
166.5908 440.7598 l
166.4429 440.7007 166.2505 440.6416 166.0879 440.6416 c
165.8809 440.6416 165.5698 440.6416 165.5698 441.6479 C
165.5698 450.1729 L
165.2441 450.1729 L
163.2461 449.3584 L
163.3496 449.1069 l
163.498 449.166 163.6904 449.2256 163.853 449.2256 c
164.0605 449.2256 164.3711 449.2256 164.3711 448.2188 c
164.3711 446.1621 L
f
*U
*u
171.771 441.1592 m
171.4307 440.7896 171.0161 440.4932 170.498 440.4932 c
169.373 440.4932 168.4707 441.6777 168.4707 443.4834 c
168.4707 445.792 169.6992 446.2803 170.2314 446.2803 c
171.2383 446.2803 171.771 445.2734 171.771 444.3857 c
171.771 441.1592 L
f
171.771 446.1621 m
171.3862 446.5615 170.8389 446.7241 170.3057 446.7241 c
168.3818 446.7241 167.124 444.7266 167.124 442.9648 c
167.124 441.4111 168.0713 439.6943 169.8027 439.6943 c
170.6313 439.6943 171.2085 440.0645 171.771 440.6416 C
171.771 439.6943 L
172.0967 439.6943 L
174.0947 440.5083 L
173.9912 440.7598 l
173.8428 440.7007 173.6504 440.6416 173.4878 440.6416 c
173.2803 440.6416 172.9697 440.6416 172.9697 441.6479 C
172.9697 450.1729 L
172.6445 450.1729 L
170.6465 449.3584 L
170.75 449.1069 l
170.8975 449.166 171.0898 449.2256 171.2529 449.2256 c
171.46 449.2256 171.771 449.2256 171.771 448.2188 c
171.771 446.1621 L
f
*U
*u
176.7441 441.1592 m
176.7441 440.2861 177.084 440.1826 177.7646 440.168 c
177.7646 439.9014 L
174.5234 439.9014 L
174.5234 440.168 L
175.2046 440.1826 175.5449 440.2861 175.5449 441.1592 c
175.5449 444.7705 L
175.5449 445.7773 175.2344 445.7773 175.0273 445.7773 c
174.8643 445.7773 174.6719 445.7178 174.5234 445.6587 c
174.4199 445.9102 L
176.418 446.7241 L
176.7441 446.7241 L
176.7441 441.1592 l
f
176.1367 450.1729 m
176.5366 450.1729 176.8623 449.8467 176.8623 449.4473 c
176.8623 449.0479 176.5366 448.7222 176.1367 448.7222 c
175.7373 448.7222 175.4121 449.0479 175.4121 449.4473 c
175.4121 449.8467 175.7373 450.1729 176.1367 450.1729 c
f
*U
*u
182.915 444.46 m
182.6489 444.46 L
182.4268 445.4512 182.0273 446.2803 180.873 446.2803 c
180.3398 446.2803 179.748 445.9844 179.748 445.3774 c
179.748 443.7642 183.4038 443.9717 183.4038 441.6777 c
183.4038 440.4639 182.2642 439.6943 181.1396 439.6943 c
180.71 439.6943 180.2363 439.7979 179.8076 439.916 c
179.7188 439.9458 179.541 439.9902 179.4375 439.9902 c
179.3042 439.9902 179.2007 439.916 179.1709 439.7979 c
178.9043 439.7979 L
178.9043 442.166 L
179.1709 442.166 L
179.3042 441.1299 180.0889 440.1382 181.1982 440.1382 c
181.8057 440.1382 182.3379 440.4932 182.3379 441.1445 c
182.3379 442.876 178.8896 442.6396 178.8896 444.7412 c
178.8896 445.9546 179.7627 446.7241 180.9473 446.7241 c
181.2578 446.7241 181.4946 446.6504 181.7905 446.5615 c
181.9683 446.5171 182.1606 446.4434 182.3379 446.4434 c
182.5303 446.4434 182.5898 446.5615 182.6489 446.7241 c
182.915 446.7241 L
182.915 444.46 l
f
*U
*u
187.3555 446.2207 m
188.998 446.2207 189.4424 444.0303 189.4424 442.7432 c
189.4424 441.707 189.1904 440.1973 187.8438 440.1973 c
186.2012 440.1973 185.7422 442.5059 185.7422 443.7793 c
185.7422 445.6733 186.6299 446.2207 187.3555 446.2207 c
f
187.6069 446.7241 m
185.668 446.7241 184.3955 444.9629 184.3955 443.1426 c
184.3955 441.3667 185.624 439.6943 187.5029 439.6943 c
189.8418 439.6943 190.7891 441.8403 190.7891 443.3643 c
190.7891 445.1699 189.457 446.7241 187.6069 446.7241 c
f
*U
*u
193.6895 445.333 m
194.5186 446.251 195.0957 446.7241 195.9395 446.7241 c
197.1377 446.7241 197.6113 445.5996 197.6113 444.4893 c
197.6113 441.1592 L
197.6113 440.2861 197.9521 440.1826 198.6328 440.168 c
198.6328 439.9014 L
195.3916 439.9014 L
195.3916 440.168 L
196.0723 440.1826 196.4131 440.2861 196.4131 441.1592 c
196.4131 444.2227 L
196.4131 445.6885 195.8062 445.8359 195.3623 445.8359 c
194.6816 445.8359 194.1777 445.3926 193.6895 444.8887 c
193.6895 441.1592 L
193.6895 440.2861 194.0303 440.1826 194.7109 440.168 c
194.7109 439.9014 L
191.4697 439.9014 L
191.4697 440.168 L
192.1504 440.1826 192.4912 440.2861 192.4912 441.1592 c
192.4912 444.7705 L
192.4912 445.7773 192.1802 445.7773 191.9727 445.7773 c
191.8101 445.7773 191.6177 445.7178 191.4697 445.6587 c
191.3662 445.9102 L
193.3643 446.7241 L
193.6895 446.7241 L
193.6895 445.333 l
f
*U
*u
203.0283 443.7939 m
203.0283 442.6543 L
199.2842 442.6543 L
199.2842 443.7939 L
203.0283 443.7939 l
f
*U
*u
214.0547 447.4053 m
214.1729 447.7451 214.4092 448.3965 214.4092 448.7373 c
214.4092 449.2993 213.9951 449.4326 213.3291 449.4326 c
213.3291 449.6992 L
216.2598 449.6992 L
216.2598 449.4326 L
215.2827 449.4326 215.0752 448.6187 214.8091 447.834 c
211.9971 439.6797 L
211.7158 439.6797 L
209.4961 445.8955 L
209.4663 445.8955 L
207.291 439.6797 L
206.9951 439.6797 L
203.9756 448.1299 L
203.6499 449.0625 203.502 449.4326 202.6143 449.4326 c
202.6143 449.6992 L
206.2402 449.6992 L
206.2402 449.4326 L
205.707 449.4326 205.2783 449.3145 205.2783 448.811 c
205.2783 448.5742 205.4258 448.1895 205.5 447.9678 c
207.498 442.2695 L
207.5273 442.2695 L
209.1553 446.8428 L
208.7559 447.9375 L
208.4453 448.7666 208.2231 449.4326 207.2461 449.4326 c
207.2461 449.6992 L
211.0796 449.6992 L
211.0796 449.4326 L
210.458 449.4326 210.0288 449.3882 210.0288 448.7666 c
210.0288 448.3374 210.2656 447.7305 210.4136 447.3311 c
212.2188 442.2695 L
212.249 442.2695 L
214.0547 447.4053 l
f
*U
*u
216.75 444.46 m
216.8096 445.3184 217.4307 446.1914 218.3042 446.1914 c
219.355 446.1914 219.8135 445.3774 219.8135 444.46 c
216.75 444.46 L
f
221.3232 444.0156 m
221.3232 445.6143 220.3174 446.7241 218.793 446.7241 c
216.6914 446.7241 215.729 445.0078 215.729 443.0986 c
215.729 441.0703 217.002 439.6943 218.6152 439.6943 c
220.1099 439.6943 221.0718 440.9521 221.3232 442.3135 C
221.1016 442.4619 l
220.7607 441.5 220.1836 440.8779 219.1182 440.8779 c
217.5049 440.8779 216.7354 442.5361 216.7354 444.0156 c
221.3232 444.0156 L
f
*U
*u
226.5771 444.46 m
226.3105 444.46 L
226.0889 445.4512 225.6895 446.2803 224.5352 446.2803 c
224.002 446.2803 223.4102 445.9844 223.4102 445.3774 c
223.4102 443.7642 227.0654 443.9717 227.0654 441.6777 c
227.0654 440.4639 225.9258 439.6943 224.8013 439.6943 c
224.3721 439.6943 223.8984 439.7979 223.4692 439.916 c
223.3804 439.9458 223.2031 439.9902 223.0991 439.9902 c
222.9658 439.9902 222.8623 439.916 222.833 439.7979 c
222.5664 439.7979 L
222.5664 442.166 L
222.833 442.166 L
222.9658 441.1299 223.7505 440.1382 224.8604 440.1382 c
225.4668 440.1382 226 440.4932 226 441.1445 c
226 442.876 222.5518 442.6396 222.5518 444.7412 c
222.5518 445.9546 223.4248 446.7241 224.6089 446.7241 c
224.9199 446.7241 225.1563 446.6504 225.4521 446.5615 c
225.6299 446.5171 225.8223 446.4434 226 446.4434 c
226.1924 446.4434 226.252 446.5615 226.3105 446.7241 c
226.5771 446.7241 L
226.5771 444.46 l
f
*U
*u
230.2773 441.1592 m
230.2773 440.2861 230.6172 440.1826 231.2983 440.168 c
231.2983 439.9014 L
228.0571 439.9014 L
228.0571 440.168 L
228.7378 440.1826 229.0781 440.2861 229.0781 441.1592 c
229.0781 448.2188 L
229.0781 449.2256 228.7676 449.2256 228.5605 449.2256 c
228.3975 449.2256 228.2051 449.166 228.0571 449.1069 c
227.9531 449.3584 L
229.9512 450.1729 L
230.2773 450.1729 L
230.2773 441.1592 l
f
*U
*u
233.1924 444.46 m
233.252 445.3184 233.8735 446.1914 234.7466 446.1914 c
235.7979 446.1914 236.2563 445.3774 236.2563 444.46 c
233.1924 444.46 L
f
237.7656 444.0156 m
237.7656 445.6143 236.7593 446.7241 235.2354 446.7241 c
233.1338 446.7241 232.1719 445.0078 232.1719 443.0986 c
232.1719 441.0703 233.4443 439.6943 235.0576 439.6943 c
236.5522 439.6943 237.5146 440.9521 237.7656 442.3135 C
237.5439 442.4619 l
237.2031 441.5 236.626 440.8779 235.5605 440.8779 c
233.9473 440.8779 233.1777 442.5361 233.1777 444.0156 c
237.7656 444.0156 L
f
*U
*u
239.3506 444.9927 m
239.0991 445.54 238.7588 446.1768 238.1074 446.251 c
238.1074 446.5171 L
241.1855 446.5171 L
241.1855 446.251 L
240.7275 446.251 240.3867 446.1914 240.3867 445.7178 c
240.3867 445.4663 240.5938 445.0518 240.6973 444.8149 c
242.2373 441.6479 L
243.6426 445.126 L
243.7461 445.3926 243.835 445.5996 243.835 445.8809 c
243.835 446.2207 243.5684 446.251 243.1689 446.251 c
243.1689 446.5171 L
245.3301 446.5171 L
245.3301 446.251 L
244.8564 446.251 244.605 445.8809 244.4424 445.481 c
241.6152 438.5547 L
241.0381 437.1338 239.958 436.7051 239.4395 436.7051 c
238.9512 436.7051 238.4482 437.001 238.4482 437.5332 c
238.4482 437.9775 238.8037 438.1846 239.2031 438.1846 c
239.6914 438.1846 239.9277 437.918 240.1797 437.918 c
240.7715 437.918 241.082 438.7471 241.2598 439.1763 c
241.6597 440.168 L
239.3506 444.9927 l
f
*U
-7885.5 433.7217 m
8497.5 433.7217 L
(N) *
LB
%AI5_EndLayer--
%%PageTrailer
gsave annotatepage grestore showpage
%%Trailer
Adobe_Illustrator_AI5 /terminate get exec
Adobe_shading_AI8 /terminate get exec
Adobe_ColorImage_AI6 /terminate get exec
Adobe_cshow /terminate get exec
Adobe_level2_AI5 /terminate get exec
%%EOF

%%EndDocument
 @endspecial 398 2351 a F4(Boston)e F0(\017)g F4(San)g(F)m(rancisco)g
F0(\017)g F4(New)g(Y)m(ork)f F0(\017)h F4(T)m(oron)o(to)f
F0(\017)g F4(Mon)o(treal)605 2409 y(London)h F0(\017)f
F4(Munic)o(h)h F0(\017)g F4(P)o(aris)g F0(\017)f F4(Madrid)418
2467 y(Cap)q(eto)o(wn)h F0(\017)f F4(Sydney)h F0(\017)g
F4(T)m(oky)o(o)f F0(\017)g F4(Singap)q(ore)h F0(\017)f
F4(Mexico)h(Cit)o(y)p Black Black eop
%%Page: 4 4
4 3 bop Black Black 270 373 a FZ(Man)o(y)11 b(of)g(the)g(designation)o
(s)e(used)i(b)o(y)g(man)o(ufactu)o(rers)d(and)j(sellers)f(to)h
(distinguish)e(their)270 412 y(pro)q(ducts)g(are)i(claimed)e(as)j
(trademark)o(s.)h(Where)e(those)f(designations)e(app)q(ear)i(in)h(this)
g(b)q(o)q(ok,)270 452 y(and)f(Addison-W)m(esley)g(w)o(as)h(a)o(w)o(are)
g(of)h(a)f(trademark)e(claim,)g(the)i(designations)e(ha)o(v)o(e)h(b)q
(een)270 491 y(prin)o(ted)f(with)j(initial)e(capital)f(letters)h(or)i
(in)f(all)g(capitals.)270 558 y(The)g(author)f(and)h(publisher)e(ha)o
(v)o(e)h(tak)o(en)g(care)h(in)g(the)g(preparation)d(of)j(this)g(b)q(o)q
(ok,)f(but)h(mak)o(e)f(no)270 598 y(expressed)f(or)i(implied)f(w)o
(arran)o(t)o(y)g(of)h(an)o(y)g(kind)f(and)h(assume)e(no)i(resp)q
(onsibilit)o(y)d(for)j(errors)g(or)270 637 y(omissions.)i(No)f
(liabilit)o(y)d(is)j(assumed)d(for)i(inciden)o(tal)e(or)i(consequen)o
(tia)o(l)e(damages)g(in)i(connection)270 677 y(with)g(or)g(arising)f
(out)h(of)g(the)g(use)g(of)g(the)g(information)d(or)j(programs)e(con)o
(tained)g(herein.)270 744 y(The)i(publisher)e(o\013ers)i(discoun)o(ts)e
(on)i(this)g(b)q(o)q(ok)f(when)h(ordered)f(in)h(quan)o(tit)o(y)e(for)i
(sp)q(ecial)f(sales.)270 783 y(F)m(or)h(more)f(information,)e(please)i
(con)o(tact:)305 821 y(U.S.)i(Corp)q(orate)d(and)i(Go)o(v)o(ernmen)n(t)
e(Sales)305 861 y(\(800\))h(382-3419)305 900 y(corpsales@p)q(earso)o(n)
o(te)o(c)o(hg)o(rou)o(p.c)o(om)270 967 y(F)m(or)h(sales)g(outside)f(of)
h(the)f(U.S.,)i(please)e(con)o(tact:)305 1005 y(In)o(ternationa)o(l)f
(Sales)305 1044 y(\(317\))h(581-3793)305 1084 y(in)o(ternationa)o(l@p)q
(ea)o(rson)n(tec)o(h)o(gro)o(up)o(.com)270 1150 y(Visit)h(Addison-W)m
(esley)e(on)i(the)g(W)m(eb:)k FY(www.awpr)n(ofessional.c)n(om)270
1218 y(Libr)n(ary)f(of)f(Congr)n(ess)g(Catalo)n(ging-in-Public)n(ation)
h(Data)270 1285 y FZ(Lamp)q(ort,)9 b(Leslie)340 1318
y(Sp)q(ecifying)i(systems)h(:)20 b(the)13 b(TLA+)i(language)c(and)i(to)
q(ols)g(for)g(hardw)o(are)f(and)h(soft)o(w)o(are)340
1358 y(engineers)d(/)h(Leslie)g(Lamp)q(ort.)411 1397
y(p.)27 b(cm.)340 1437 y(Includes)10 b(bibliograph)o(ica)o(l)f
(references)g(and)i(index.)340 1476 y(ISBN)h(0-321-14306)o(-X)d(\(alk.)
14 b(pap)q(er\))411 1515 y(1.)j(System)10 b(design.)15
b(2.)h(Computer)11 b(systems{Sp)q(e)o(ci\014)o(cat)o(ion)o(s.)j(3.)j
(Logic,)11 b(sym)o(b)q(olic)340 1555 y(and)g(mathematic)o(al.)h(I.)g
(Title.)340 1622 y(QA76.9.S88)e(L35)i(2003)719 b(2002074369)340
1661 y(004.2)427 1650 y FX(0)438 1661 y FZ(1--dc21)270
1716 y(Cop)o(yrigh)o(t)445 1715 y(c)435 1716 y FW(\015)13
b FZ(2003)d(b)o(y)h(P)o(earson)f(Education,)f(Inc)270
1783 y(All)j(righ)o(ts)e(reserv)o(ed.)j(No)f(part)e(of)i(this)e
(publication)f(ma)o(y)h(b)q(e)h(repro)q(duced,)d(stored)i(in)h(a)h(re-)
270 1823 y(triev)n(al)e(system,)f(or)j(transmitted)o(,)d(in)i(an)o(y)g
(form,)f(or)h(b)o(y)g(an)o(y)g(means,)e(electronic,)g(mec)o(hanical,)
270 1862 y(photo)q(cop)o(yi)o(ng,)f(recording,)h(or)i(otherwise,)f
(without)g(the)h(prior)f(consen)o(t)g(of)h(the)g(publisher.)270
1902 y(Prin)o(ted)f(in)h(the)g(United)f(States)g(of)i(America.)h
(Published)d(sim)o(ultaneou)o(sly)e(in)j(Canada.)270
1969 y(F)m(or)g(information)d(on)j(obtaining)e(p)q(ermission)g(for)i
(use)g(of)g(material)e(from)i(this)f(w)o(ork,)h(please)270
2008 y(submit)f(a)h(written)g(request)e(to:)270 2075
y(P)o(earson)h(Education,)f(Inc.)270 2114 y(Righ)o(ts)h(and)h(Con)o
(tracts)f(Departmen)o(t)270 2154 y(75)h(Arlington)f(Street,)f(Suite)i
(300)270 2193 y(Boston,)f(MA)i(02116)270 2233 y(F)m(ax:)j(\(617\))10
b(848-7047)270 2300 y(ISBN)h(0-321-14306-)o(X)270 2339
y(T)m(ext)g(prin)o(ted)f(on)h(recycled)e(pap)q(er)270
2379 y(1)i(2)h(3)f(4)g(5)h(6)f(7)h(8)f(9)g(10-MA-0605040302)270
2429 y FY(First)h(printing,)h(July)g(2002)p Black Black
eop
%%Page: 5 5
5 4 bop Black Black Black Black 836 783 a F1(T)l(o)17
b(Ellen)p Black Black eop
%%Page: 6 6
6 5 bop Black Black Black Black eop
%%Page: 7 7
7 6 bop Black Black Black Black 405 783 a FV(This)15
b(whole)f(b)n(o)n(ok)i(is)e(but)h(a)g(dr)n(aught|nay,)h(but)f(the)g(dr)
n(aught)g(of)g(a)g(dr)n(aught.)1345 874 y F4(Herman)e(Melville)p
Black Black eop
%%Page: 8 8
8 7 bop Black Black Black Black eop
%%Page: 9 9
9 8 bop Black Black 208 723 a F5(Con)m(ten)m(ts)270 981
y FU(List)14 b(of)h(Figures)f(and)i(T)l(ables)780 b(xv)270
1072 y(Ac)o(kno)o(wledgmen)o(t)o(s)922 b(xvii)270 1163
y(In)o(tro)q(ductio)o(n)1086 b(1)208 1307 y FT(P)n(art)19
b(I)56 b(Getting)17 b(Started)818 b(5)208 1398 y FU(1)38
b(A)16 b(Little)d(Simple)g(Math)899 b(9)270 1448 y F4(1.1)41
b(Prop)q(ositional)13 b(Logic)j(.)k(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p
Black 71 w(9)p Black 270 1498 a(1.2)41 b(Sets)d(.)21
b(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p
Black 50 w(11)p Black 270 1547 a(1.3)41 b(Predicate)15
b(Logic)22 b(.)e(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p
Black 50 w(12)p Black 270 1597 a(1.4)41 b(F)m(orm)o(ulas)12
b(and)i(Language)31 b(.)21 b(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)
f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p Black 50
w(14)p Black 208 1689 a FU(2)38 b(Sp)q(ecifying)13 b(a)j(Simple)d(Clo)q
(c)o(k)784 b(15)270 1738 y F4(2.1)41 b(Beha)o(viors)31
b(.)20 b(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)
f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p
Black 50 w(15)p Black 270 1788 a(2.2)41 b(An)14 b(Hour)g(Clo)q(c)o(k)29
b(.)20 b(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)
f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p Black 50
w(15)p Black 270 1838 a(2.3)41 b(A)14 b(Closer)g(Lo)q(ok)g(at)g(the)g
(Sp)q(eci\014cation)32 b(.)20 b(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)h(.)f(.)g(.)g(.)h(.)p Black 50 w(18)p Black 270 1888
a(2.4)41 b(The)15 b(Sp)q(eci\014cation)f(in)f(TLA)829
1873 y FS(+)864 1888 y F4(.)20 b(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)
f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p Black 50
w(19)p Black 270 1938 a(2.5)41 b(An)14 b(Alternativ)o(e)g(Sp)q
(eci\014cation)i(.)k(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)
f(.)g(.)h(.)f(.)g(.)g(.)h(.)p Black 50 w(21)p Black 208
2029 a FU(3)38 b(An)15 b(Async)o(hronous)f(In)o(terface)755
b(23)270 2079 y F4(3.1)41 b(The)15 b(First)f(Sp)q(eci\014cation)k(.)i
(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)
h(.)f(.)g(.)g(.)h(.)p Black 50 w(24)p Black 270 2129
a(3.2)41 b(Another)15 b(Sp)q(eci\014cation)42 b(.)20
b(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)h(.)f(.)g(.)g(.)h(.)p Black 50 w(28)p Black 270 2178
a(3.3)41 b(T)o(yp)q(es:)19 b(A)14 b(Reminder)40 b(.)20
b(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)h(.)f(.)g(.)g(.)h(.)p Black 50 w(30)p Black 270
2228 a(3.4)41 b(De\014nitions)12 b(.)20 b(.)h(.)f(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)
h(.)f(.)g(.)g(.)h(.)p Black 50 w(31)p Black 270 2278
a(3.5)41 b(Commen)o(ts)13 b(.)20 b(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)
g(.)g(.)h(.)p Black 50 w(32)p Black 208 2369 a FU(4)38
b(A)16 b(FIF)o(O)1163 b(35)270 2419 y F4(4.1)41 b(The)15
b(Inner)f(Sp)q(eci\014cation)42 b(.)21 b(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)
f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p
Black 50 w(35)p Black 270 2469 a(4.2)41 b(Instan)o(tiation)13
b(Examined)36 b(.)21 b(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p Black 50 w(37)p
Black Black 1944 2622 a(ix)p Black eop
%%Page: 10 10
10 9 bop Black 208 275 a F4(x)1512 b FR(CONTENTS)p 208
282 1770 2 v Black 365 391 a F4(4.2.1)46 b(Instan)o(tiation)13
b(Is)h(Substitution)d(.)20 b(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)
h(.)f(.)g(.)g(.)h(.)p Black 50 w(37)p Black 365 441 a(4.2.2)46
b(P)o(arametrized)14 b(Instan)o(tiation)37 b(.)20 b(.)h(.)f(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p Black 50
w(39)p Black 365 491 a(4.2.3)46 b(Implicit)12 b(Substitutions)34
b(.)21 b(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)
g(.)g(.)h(.)p Black 50 w(40)p Black 365 541 a(4.2.4)46
b(Instan)o(tiation)13 b(Without)g(Renaming)25 b(.)20
b(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p
Black 50 w(40)p Black 270 591 a(4.3)41 b(Hiding)13 b(the)i(Queue)h(.)21
b(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p Black 50 w(41)p
Black 270 640 a(4.4)41 b(A)14 b(Bounded)h(FIF)o(O)i(.)k(.)f(.)g(.)g(.)h
(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)
f(.)g(.)g(.)h(.)p Black 50 w(42)p Black 270 690 a(4.5)41
b(What)14 b(W)m(e're)f(Sp)q(ecifying)h(.)20 b(.)h(.)f(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p
Black 50 w(43)p Black 208 782 a FU(5)38 b(A)16 b(Cac)o(hing)e(Memory)
917 b(45)270 831 y F4(5.1)41 b(The)15 b(Memory)d(In)o(terface)28
b(.)20 b(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)
f(.)g(.)h(.)f(.)g(.)g(.)h(.)p Black 50 w(45)p Black 270
881 a(5.2)41 b(F)m(unctions)32 b(.)20 b(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)
f(.)g(.)g(.)h(.)p Black 50 w(48)p Black 270 931 a(5.3)41
b(A)14 b(Linearizable)g(Memory)36 b(.)21 b(.)f(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p
Black 50 w(51)p Black 270 981 a(5.4)41 b(T)m(uples)14
b(as)g(F)m(unctions)42 b(.)20 b(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p
Black 50 w(53)p Black 270 1031 a(5.5)41 b(Recursiv)o(e)15
b(F)m(unction)f(De\014nitions)38 b(.)20 b(.)g(.)g(.)h(.)f(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p Black 50
w(54)p Black 270 1080 a(5.6)41 b(A)14 b(W)m(rite-Through)f(Cac)o(he)26
b(.)21 b(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)h(.)f(.)g(.)g(.)h(.)p Black 50 w(54)p Black 270 1130
a(5.7)41 b(In)o(v)n(ariance)22 b(.)e(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)
f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f
(.)g(.)g(.)h(.)p Black 50 w(61)p Black 270 1180 a(5.8)41
b(Pro)o(ving)14 b(Implemen)o(tatio)o(n)22 b(.)f(.)f(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p
Black 50 w(62)p Black 208 1271 a FU(6)38 b(Some)15 b(More)g(Math)960
b(65)270 1321 y F4(6.1)41 b(Sets)d(.)21 b(.)f(.)g(.)g(.)h(.)f(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p Black 50 w(65)p Black
270 1371 a(6.2)41 b(Silly)13 b(Expressions)32 b(.)21
b(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p Black 50 w(67)p
Black 270 1421 a(6.3)41 b(Recursion)15 b(Revisited)41
b(.)20 b(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p Black 50 w(67)p Black
270 1471 a(6.4)41 b(F)m(unctions)14 b(v)o(ersus)h(Op)q(erators)36
b(.)20 b(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)
f(.)g(.)g(.)h(.)p Black 50 w(69)p Black 270 1520 a(6.5)41
b(Using)14 b(F)m(unctions)e(.)20 b(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)
p Black 50 w(72)p Black 270 1570 a(6.6)41 b(Cho)q(ose)14
b(.)20 b(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)
g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p
Black 50 w(73)p Black 208 1662 a FU(7)38 b(W)l(riting)13
b(a)j(Sp)q(eci\014cation:)j(Some)c(Advice)541 b(75)270
1711 y F4(7.1)41 b(Wh)o(y)14 b(Sp)q(ecify)42 b(.)20 b(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)h(.)f(.)g(.)g(.)h(.)p Black 50 w(75)p Black 270 1761
a(7.2)41 b(What)14 b(to)f(Sp)q(ecify)40 b(.)21 b(.)f(.)g(.)g(.)h(.)f(.)
g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g
(.)g(.)h(.)p Black 50 w(76)p Black 270 1811 a(7.3)41
b(The)15 b(Grain)e(of)g(A)o(tomicit)o(y)33 b(.)21 b(.)f(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p
Black 50 w(76)p Black 270 1861 a(7.4)41 b(The)15 b(Data)e(Structures)28
b(.)20 b(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p Black 50 w(78)p Black
270 1911 a(7.5)41 b(W)m(riting)13 b(the)h(Sp)q(eci\014cation)f(.)21
b(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h
(.)f(.)g(.)g(.)h(.)p Black 50 w(79)p Black 270 1960 a(7.6)41
b(Some)13 b(F)m(urther)i(Hin)o(ts)c(.)20 b(.)g(.)g(.)h(.)f(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)
p Black 50 w(80)p Black 270 2010 a(7.7)41 b(When)14 b(and)g(Ho)o(w)g
(to)f(Sp)q(ecify)22 b(.)e(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p Black 50 w(83)p
Black 208 2153 a FT(P)n(art)e(I)r(I)55 b(More)19 b(Adv)m(anced)f(T)-5
b(opics)593 b(85)208 2245 y FU(8)38 b(Liv)o(eness)14
b(and)h(F)l(airness)876 b(87)270 2295 y F4(8.1)41 b(T)m(emp)q(oral)12
b(F)m(orm)o(ulas)j(.)20 b(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p
Black 50 w(88)p Black 270 2344 a(8.2)41 b(T)m(emp)q(oral)12
b(T)m(autologies)39 b(.)20 b(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p Black
50 w(92)p Black 270 2394 a(8.3)41 b(T)m(emp)q(oral)12
b(Pro)q(of)i(Rules)33 b(.)20 b(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p
Black 50 w(95)p Black 270 2444 a(8.4)41 b(W)m(eak)13
b(F)m(airness)g(.)20 b(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p
Black 50 w(96)p Black 270 2494 a(8.5)41 b(The)15 b(Memory)d(Sp)q
(eci\014cation)21 b(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p Black 30 w(100)p
Black Black Black eop
%%Page: 11 11
11 10 bop Black 208 275 a FR(CONTENTS)1501 b F4(xi)p
208 282 1770 2 v Black 365 391 a(8.5.1)46 b(The)14 b(Liv)o(eness)h
(Requiremen)o(t)e(.)20 b(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)
h(.)f(.)g(.)g(.)h(.)p Black 30 w(100)p Black 365 441
a(8.5.2)46 b(Another)15 b(W)m(a)o(y)d(to)i(W)m(rite)g(It)40
b(.)20 b(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)
h(.)p Black 30 w(101)p Black 365 491 a(8.5.3)46 b(A)14
b(Generalization)24 b(.)d(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p Black 30
w(105)p Black 270 541 a(8.6)41 b(Strong)14 b(F)m(airness)25
b(.)20 b(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)
f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p Black 30
w(106)p Black 270 591 a(8.7)41 b(The)15 b(W)m(rite-Through)e(Cac)o(he)
50 b(.)20 b(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h
(.)f(.)g(.)g(.)h(.)p Black 30 w(107)p Black 270 640 a(8.8)41
b(Quan)o(ti\014cation)13 b(.)20 b(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)
h(.)p Black 30 w(109)p Black 270 690 a(8.9)41 b(T)m(emp)q(oral)12
b(Logic)h(Examined)18 b(.)i(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p Black 30 w(111)p
Black 365 740 a(8.9.1)46 b(A)14 b(Review)28 b(.)21 b(.)f(.)g(.)g(.)h(.)
f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f
(.)g(.)g(.)h(.)p Black 30 w(111)p Black 365 790 a(8.9.2)46
b(Mac)o(hine)14 b(Closure)31 b(.)21 b(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p
Black 30 w(111)p Black 365 840 a(8.9.3)46 b(Mac)o(hine)14
b(Closure)g(and)g(P)o(ossibilit)o(y)39 b(.)20 b(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)h(.)f(.)g(.)g(.)h(.)p Black 30 w(113)p Black 365
889 a(8.9.4)46 b(Re\014nemen)o(t)14 b(Mappings)f(and)h(F)m(airness)20
b(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p
Black 30 w(114)p Black 365 939 a(8.9.5)46 b(The)14 b(Unimp)q(ortance)g
(of)f(Liv)o(eness)37 b(.)20 b(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f
(.)g(.)g(.)h(.)p Black 30 w(116)p Black 365 989 a(8.9.6)46
b(T)m(emp)q(oral)12 b(Logic)h(Considered)i(Confusing)26
b(.)20 b(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p Black
30 w(116)p Black 208 1080 a FU(9)38 b(Real)15 b(Time)1085
b(117)270 1130 y F4(9.1)41 b(The)15 b(Hour)f(Clo)q(c)o(k)f(Revisited)24
b(.)c(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h
(.)f(.)g(.)g(.)h(.)p Black 30 w(117)p Black 270 1180
a(9.2)41 b(Real-Time)12 b(Sp)q(eci\014cations)i(in)g(General)39
b(.)21 b(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p
Black 30 w(122)p Black 270 1230 a(9.3)41 b(A)14 b(Real-Time)e(Cac)o
(hing)h(Memory)36 b(.)20 b(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)h(.)f(.)g(.)g(.)h(.)p Black 30 w(124)p Black 270
1280 a(9.4)41 b(Zeno)15 b(Sp)q(eci\014cations)23 b(.)d(.)g(.)g(.)h(.)f
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)
g(.)g(.)h(.)p Black 30 w(128)p Black 270 1329 a(9.5)41
b(Hybrid)14 b(System)f(Sp)q(eci\014cations)33 b(.)21
b(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g
(.)h(.)p Black 30 w(132)p Black 270 1379 a(9.6)41 b(Remarks)13
b(on)h(Real)f(Time)f(.)20 b(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p Black
30 w(134)p Black 208 1471 a FU(10)14 b(Comp)q(osing)g(Sp)q
(eci\014cations)770 b(135)270 1520 y F4(10.1)20 b(Comp)q(osing)12
b(Tw)o(o)i(Sp)q(eci\014cations)41 b(.)20 b(.)g(.)g(.)h(.)f(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p Black 30
w(136)p Black 270 1570 a(10.2)f(Comp)q(osing)12 b(Man)o(y)i(Sp)q
(eci\014cations)k(.)i(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)h(.)f(.)g(.)g(.)h(.)p Black 30 w(138)p Black 270 1620
a(10.3)f(The)15 b(FIF)o(O)22 b(.)e(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)
g(.)g(.)h(.)p Black 30 w(140)p Black 270 1670 a(10.4)f(Comp)q(osition)
12 b(with)h(Shared)i(State)25 b(.)20 b(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p Black 30 w(142)p
Black 365 1720 a(10.4.1)k(Explicit)13 b(State)i(Changes)e(.)21
b(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g
(.)h(.)p Black 30 w(144)p Black 365 1769 a(10.4.2)k(Comp)q(osition)12
b(with)h(Join)o(t)h(Actions)d(.)20 b(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)
h(.)f(.)g(.)g(.)h(.)p Black 30 w(147)p Black 270 1819
a(10.5)f(A)14 b(Brief)g(Review)27 b(.)20 b(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)
g(.)h(.)p Black 30 w(150)p Black 365 1869 a(10.5.1)k(A)14
b(T)m(axonom)o(y)d(of)i(Comp)q(osition)32 b(.)21 b(.)f(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p Black 30 w(151)p
Black 365 1919 a(10.5.2)k(In)o(terlea)o(ving)14 b(Reconsidered)29
b(.)20 b(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)
h(.)p Black 30 w(151)p Black 365 1969 a(10.5.3)k(Join)o(t)14
b(Actions)g(Reconsidered)33 b(.)20 b(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)
f(.)g(.)h(.)f(.)g(.)g(.)h(.)p Black 30 w(152)p Black
270 2019 a(10.6)f(Liv)o(eness)15 b(and)f(Hiding)34 b(.)20
b(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)h(.)f(.)g(.)g(.)h(.)p Black 30 w(152)p Black 365
2068 a(10.6.1)k(Liv)o(eness)15 b(and)f(Mac)o(hine)g(Closure)d(.)21
b(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p
Black 30 w(152)p Black 365 2118 a(10.6.2)k(Hiding)18
b(.)i(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p Black
30 w(154)p Black 270 2168 a(10.7)f(Op)q(en-System)15
b(Sp)q(eci\014cations)29 b(.)20 b(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p Black 30
w(156)p Black 270 2218 a(10.8)f(In)o(terface)15 b(Re\014nemen)o(t)25
b(.)20 b(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p Black 30 w(158)p Black
365 2268 a(10.8.1)k(A)14 b(Binary)g(Hour)g(Clo)q(c)o(k)40
b(.)21 b(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)
g(.)g(.)h(.)p Black 30 w(158)p Black 365 2317 a(10.8.2)k(Re\014ning)13
b(a)h(Channel)j(.)j(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p Black 30 w(159)p Black
365 2367 a(10.8.3)k(In)o(terface)15 b(Re\014nemen)o(t)f(in)f(General)f
(.)20 b(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p
Black 30 w(163)p Black 365 2417 a(10.8.4)k(Op)q(en-System)14
b(Sp)q(eci\014cations)26 b(.)20 b(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)h(.)f(.)g(.)g(.)h(.)p Black 30 w(165)p Black 270
2467 a(10.9)f(Should)14 b(Y)m(ou)f(Comp)q(ose?)24 b(.)c(.)h(.)f(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)
h(.)p Black 30 w(167)p Black Black Black eop
%%Page: 12 12
12 11 bop Black 208 275 a F4(xii)1488 b FR(CONTENTS)p
208 282 1770 2 v Black 208 391 a FU(11)14 b(Adv)m(anced)h(Examples)883
b(169)270 441 y F4(11.1)20 b(Sp)q(ecifying)14 b(Data)f(Structures)43
b(.)20 b(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)
f(.)g(.)g(.)h(.)p Black 30 w(170)p Black 365 491 a(11.1.1)k(Lo)q(cal)14
b(De\014nitions)24 b(.)d(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)
g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p Black 30 w(170)p
Black 365 541 a(11.1.2)k(Graphs)40 b(.)20 b(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)
g(.)h(.)p Black 30 w(172)p Black 365 591 a(11.1.3)k(Solving)13
b(Di\013eren)o(tial)g(Equations)h(.)21 b(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)
f(.)g(.)h(.)f(.)g(.)g(.)h(.)p Black 30 w(174)p Black
365 640 a(11.1.4)k(BNF)15 b(Gramm)o(ars)37 b(.)21 b(.)f(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p
Black 30 w(179)p Black 270 690 a(11.2)f(Other)15 b(Memory)e(Sp)q
(eci\014cations)34 b(.)21 b(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p Black 30 w(183)p Black
365 740 a(11.2.1)k(The)14 b(In)o(terface)27 b(.)20 b(.)g(.)h(.)f(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g
(.)h(.)p Black 30 w(183)p Black 365 790 a(11.2.2)k(The)14
b(Correctness)j(Condition)36 b(.)20 b(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p Black 30 w(185)p Black
365 840 a(11.2.3)k(A)14 b(Serial)g(Memory)21 b(.)g(.)f(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p
Black 30 w(188)p Black 365 889 a(11.2.4)k(A)14 b(Sequen)o(tially)f
(Consisten)o(t)i(Memory)21 b(.)g(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)
g(.)h(.)p Black 30 w(195)p Black 365 939 a(11.2.5)k(The)14
b(Memory)f(Sp)q(eci\014cations)i(Considered)d(.)20 b(.)g(.)h(.)f(.)g(.)
h(.)f(.)g(.)g(.)h(.)p Black 30 w(200)p Black 208 1082
a FT(P)n(art)e(I)r(I)r(I)55 b(The)18 b(T)-5 b(o)r(ols)861
b(205)208 1174 y FU(12)14 b(The)h(Syn)o(tactic)f(Analyzer)810
b(207)208 1265 y(13)14 b(The)h(TLA)l(T)486 1274 y(E)512
1265 y(X)h(T)o(yp)q(esetter)782 b(211)270 1315 y F4(13.1)20
b(In)o(tro)q(duction)13 b(.)21 b(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g
(.)h(.)p Black 30 w(211)p Black 270 1365 a(13.2)f(Commen)o(t)12
b(Shading)33 b(.)20 b(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p
Black 30 w(212)p Black 270 1415 a(13.3)f(Ho)o(w)14 b(It)g(T)o(yp)q
(esets)h(the)g(Sp)q(eci\014cation)e(.)20 b(.)g(.)h(.)f(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p Black 30 w(213)p
Black 270 1464 a(13.4)f(Ho)o(w)14 b(It)g(T)o(yp)q(esets)h(Commen)o(ts)
22 b(.)e(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)
f(.)g(.)g(.)h(.)p Black 30 w(214)p Black 270 1514 a(13.5)f(Adjusting)14
b(the)g(Output)h(F)m(ormat)j(.)j(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)
g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p Black 30 w(216)p
Black 270 1564 a(13.6)f(Output)15 b(Files)40 b(.)20 b(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)h(.)f(.)g(.)g(.)h(.)p Black 30 w(217)p Black 270
1614 a(13.7)f(T)m(rouble-Sho)q(oting)i(.)f(.)f(.)g(.)g(.)h(.)f(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)
h(.)p Black 30 w(218)p Black 270 1664 a(13.8)f(Using)14
b(L)493 1655 y FS(A)511 1664 y F4(T)534 1673 y(E)557
1664 y(X)g(Commands)23 b(.)e(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)
f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p Black 30
w(219)p Black 208 1755 a FU(14)14 b(The)h(TLC)i(Mo)q(del)e(Chec)o(k)o
(er)777 b(221)270 1805 y F4(14.1)20 b(In)o(tro)q(duction)14
b(to)g(TLC)24 b(.)c(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p Black 30
w(221)p Black 270 1855 a(14.2)f(What)14 b(TLC)g(Can)f(Cop)q(e)h(With)26
b(.)20 b(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)
f(.)g(.)g(.)h(.)p Black 30 w(230)p Black 365 1904 a(14.2.1)k(TLC)14
b(V)m(alues)19 b(.)h(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p Black
30 w(230)p Black 365 1954 a(14.2.2)k(Ho)o(w)14 b(TLC)f(Ev)n(aluates)h
(Expressions)30 b(.)20 b(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)
h(.)p Black 30 w(231)p Black 365 2004 a(14.2.3)k(Assignmen)o(t)13
b(and)h(Replacemen)o(t)21 b(.)g(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h
(.)f(.)g(.)g(.)h(.)p Black 30 w(234)p Black 365 2054
a(14.2.4)k(Ev)n(aluating)12 b(T)m(emp)q(oral)g(F)m(orm)o(ulas)28
b(.)20 b(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p
Black 30 w(235)p Black 365 2104 a(14.2.5)k(Ov)o(erriding)14
b(Mo)q(dules)38 b(.)20 b(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p Black 30 w(237)p Black
365 2153 a(14.2.6)k(Ho)o(w)14 b(TLC)f(Computes)h(States)26
b(.)20 b(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)
p Black 30 w(237)p Black 270 2203 a(14.3)f(Ho)o(w)14
b(TLC)g(Chec)o(ks)g(Prop)q(erties)43 b(.)21 b(.)f(.)g(.)g(.)h(.)f(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p
Black 30 w(240)p Black 365 2253 a(14.3.1)k(Mo)q(del-Chec)o(king)14
b(Mo)q(de)22 b(.)f(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)h(.)f(.)g(.)g(.)h(.)p Black 30 w(241)p Black 365 2303
a(14.3.2)k(Sim)o(ulation)11 b(Mo)q(de)23 b(.)e(.)f(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p
Black 30 w(243)p Black 365 2353 a(14.3.3)k(Views)14 b(and)g(Fingerprin)
o(ts)39 b(.)20 b(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)
f(.)g(.)g(.)h(.)p Black 30 w(243)p Black 365 2403 a(14.3.4)k(T)m(aking)
13 b(Adv)n(an)o(tage)g(of)g(Symmetry)e(.)20 b(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p Black 30 w(245)p Black
365 2452 a(14.3.5)k(Limitations)11 b(of)j(Liv)o(eness)g(Chec)o(king)24
b(.)c(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p
Black 30 w(247)p Black 270 2502 a(14.4)f(The)15 b FV(TLC)k
F4(Mo)q(dule)43 b(.)20 b(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p
Black 30 w(248)p Black Black Black eop
%%Page: 13 13
13 12 bop Black 208 275 a FR(CONTENTS)1478 b F4(xiii)p
208 282 1770 2 v Black 270 391 a(14.5)20 b(Ho)o(w)14
b(to)g(Use)g(TLC)26 b(.)21 b(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p
Black 30 w(251)p Black 365 441 a(14.5.1)k(Running)13
b(TLC)h(.)20 b(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p Black 30 w(251)p
Black 365 491 a(14.5.2)k(Debugging)13 b(a)h(Sp)q(eci\014cation)24
b(.)c(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h
(.)p Black 30 w(253)p Black 365 541 a(14.5.3)k(Hin)o(ts)14
b(on)g(Using)f(TLC)h(E\013ectiv)o(ely)k(.)i(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)h(.)f(.)g(.)g(.)h(.)p Black 30 w(257)p Black 270
591 a(14.6)f(What)14 b(TLC)g(Do)q(esn't)g(Do)d(.)20 b(.)h(.)f(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)
h(.)p Black 30 w(262)p Black 270 640 a(14.7)f(The)15
b(Fine)f(Prin)o(t)31 b(.)20 b(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p
Black 30 w(262)p Black 365 690 a(14.7.1)k(The)14 b(Grammar)d(of)i(the)i
(Con\014guration)e(File)27 b(.)20 b(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p
Black 30 w(262)p Black 365 740 a(14.7.2)k(Comparable)12
b(TLC)i(V)m(alues)e(.)20 b(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)h(.)f(.)g(.)g(.)h(.)p Black 30 w(264)p Black 208
883 a FT(P)n(art)e(IV)56 b(The)18 b(TLA)683 865 y FZ(+)723
883 y FT(Language)607 b(265)270 975 y FV(Mini-Manual)991
b(268{273)208 1066 y FU(15)14 b(The)h(Syn)o(tax)g(of)g(TLA)679
1051 y FS(+)1574 1066 y FU(275)270 1116 y F4(15.1)20
b(The)15 b(Simple)d(Gramm)o(ar)34 b(.)20 b(.)h(.)f(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p
Black 30 w(276)p Black 270 1166 a(15.2)f(The)15 b(Complete)d(Grammar)j
(.)21 b(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)h(.)f(.)g(.)g(.)h(.)p Black 30 w(283)p Black 365 1215
a(15.2.1)k(Precedence)17 b(and)d(Asso)q(ciativit)o(y)28
b(.)21 b(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p
Black 30 w(283)p Black 365 1265 a(15.2.2)k(Alignmen)o(t)13
b(.)21 b(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)
g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p Black 30 w(286)p
Black 365 1315 a(15.2.3)k(Commen)o(ts)9 b(.)21 b(.)f(.)g(.)g(.)h(.)f(.)
g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g
(.)g(.)h(.)p Black 30 w(288)p Black 365 1365 a(15.2.4)k(T)m(emp)q(oral)
12 b(F)m(orm)o(ulas)f(.)20 b(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)
g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p Black 30 w(288)p
Black 365 1415 a(15.2.5)k(Tw)o(o)14 b(Anomalies)j(.)j(.)h(.)f(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)
h(.)p Black 30 w(289)p Black 270 1464 a(15.3)f(The)15
b(Lexemes)f(of)f(TLA)753 1449 y FS(+)799 1464 y F4(.)20
b(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)h(.)f(.)g(.)g(.)h(.)p Black 30 w(289)p Black 208 1556
a FU(16)14 b(The)h(Op)q(erators)g(of)g(TLA)745 1541 y
FS(+)1574 1556 y FU(291)270 1606 y F4(16.1)20 b(Constan)o(t)14
b(Op)q(erators)43 b(.)20 b(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p
Black 30 w(291)p Black 365 1655 a(16.1.1)33 b(Bo)q(olean)14
b(Op)q(erators)k(.)i(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p Black 30 w(293)p Black
365 1705 a(16.1.2)33 b(The)15 b(Cho)q(ose)f(Op)q(erator)28
b(.)21 b(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)
g(.)g(.)h(.)p Black 30 w(294)p Black 365 1755 a(16.1.3)33
b(In)o(terpretations)16 b(of)d(Bo)q(olean)h(Op)q(erators)41
b(.)20 b(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p Black
30 w(296)p Black 365 1805 a(16.1.4)33 b(Conditional)12
b(Constructs)34 b(.)20 b(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)h(.)f(.)g(.)g(.)h(.)p Black 30 w(298)p Black 365
1855 a(16.1.5)33 b(The)15 b(Let/In)f(Construct)24 b(.)d(.)f(.)g(.)g(.)h
(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p
Black 30 w(299)p Black 365 1904 a(16.1.6)33 b(The)15
b(Op)q(erators)g(of)e(Set)i(Theory)21 b(.)g(.)f(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p Black 30 w(299)p Black
365 1954 a(16.1.7)33 b(F)m(unctions)20 b(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g
(.)h(.)p Black 30 w(301)p Black 365 2004 a(16.1.8)33
b(Records)21 b(.)f(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p
Black 30 w(305)p Black 365 2054 a(16.1.9)33 b(T)m(uples)13
b(.)20 b(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p Black
30 w(306)p Black 365 2104 a(16.1.10)12 b(Strings)37 b(.)20
b(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g
(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p Black 30 w(307)p
Black 365 2153 a(16.1.11)12 b(Num)o(b)q(ers)33 b(.)21
b(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p Black 30 w(308)p
Black 270 2203 a(16.2)f(Nonconstan)o(t)15 b(Op)q(erators)43
b(.)21 b(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)
g(.)h(.)f(.)g(.)g(.)h(.)p Black 30 w(309)p Black 365
2253 a(16.2.1)k(Basic)14 b(Constan)o(t)g(Expressions)27
b(.)20 b(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)
p Black 30 w(309)p Black 365 2303 a(16.2.2)k(The)14 b(Meaning)g(of)f(a)
h(State)g(F)m(unction)19 b(.)h(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g
(.)g(.)h(.)p Black 30 w(310)p Black 365 2353 a(16.2.3)k(Action)14
b(Op)q(erators)k(.)j(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)
g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p Black 30 w(312)p
Black 365 2403 a(16.2.4)k(T)m(emp)q(oral)12 b(Op)q(erators)31
b(.)20 b(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)
f(.)g(.)g(.)h(.)p Black 30 w(314)p Black Black Black
eop
%%Page: 14 14
14 13 bop Black 208 275 a F4(xiv)1478 b FR(CONTENTS)p
208 282 1770 2 v Black 208 391 a FU(17)14 b(The)h(Meaning)g(of)g(a)h
(Mo)q(dule)757 b(317)270 441 y F4(17.1)20 b(Op)q(erators)c(and)d
(Expressions)44 b(.)20 b(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p Black 30 w(317)p Black
365 491 a(17.1.1)k(The)14 b(Arit)o(y)g(and)g(Order)h(of)e(an)h(Op)q
(erator)24 b(.)c(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p
Black 30 w(318)p Black 365 541 a(17.1.2)k FQ(\025)14
b F4(Expressions)20 b(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p
Black 30 w(319)p Black 365 591 a(17.1.3)k(Simplifying)10
b(Op)q(erator)15 b(Application)f(.)20 b(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h
(.)f(.)g(.)g(.)h(.)p Black 30 w(320)p Black 365 640 a(17.1.4)k
(Expressions)h(.)20 b(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p
Black 30 w(321)p Black 270 690 a(17.2)f(Lev)o(els)33
b(.)20 b(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)
g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p
Black 30 w(321)p Black 270 740 a(17.3)f(Con)o(texts)15
b(.)20 b(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p
Black 30 w(324)p Black 270 790 a(17.4)f(The)15 b(Meaning)e(of)g(a)h
FQ(\025)g F4(Expression)26 b(.)20 b(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p Black 30 w(325)p
Black 270 840 a(17.5)f(The)15 b(Meaning)e(of)g(a)h(Mo)q(dule)26
b(.)20 b(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)
h(.)f(.)g(.)g(.)h(.)p Black 30 w(327)p Black 365 889
a(17.5.1)k(Extends)h(.)20 b(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p
Black 30 w(328)p Black 365 939 a(17.5.2)k(Declarations)11
b(.)20 b(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)
g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p Black 30 w(329)p
Black 365 989 a(17.5.3)k(Op)q(erator)15 b(De\014nitions)23
b(.)d(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f
(.)g(.)g(.)h(.)p Black 30 w(329)p Black 365 1039 a(17.5.4)k(F)m
(unction)14 b(De\014nitions)28 b(.)20 b(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p Black
30 w(329)p Black 365 1089 a(17.5.5)k(Instan)o(tiation)35
b(.)20 b(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p Black 30 w(330)p Black
365 1139 a(17.5.6)k(Theorems)14 b(and)g(Assumptions)21
b(.)f(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p
Black 30 w(332)p Black 365 1188 a(17.5.7)k(Submo)q(dules)18
b(.)i(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p Black 30 w(332)p
Black 270 1238 a(17.6)f(Correctness)d(of)c(a)h(Mo)q(dule)23
b(.)e(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)h(.)f(.)g(.)g(.)h(.)p Black 30 w(332)p Black 270 1288
a(17.7)f(Finding)13 b(Mo)q(dules)31 b(.)21 b(.)f(.)g(.)g(.)h(.)f(.)g(.)
h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g
(.)h(.)p Black 30 w(333)p Black 270 1338 a(17.8)f(The)15
b(Seman)o(tics)e(of)g(Instan)o(tiation)34 b(.)20 b(.)g(.)g(.)h(.)f(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p
Black 30 w(334)p Black 208 1429 a FU(18)14 b(The)h(Standard)f(Mo)q
(dules)821 b(339)270 1479 y F4(18.1)20 b(Mo)q(dule)14
b FV(Se)n(quenc)n(es)44 b F4(.)20 b(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p
Black 30 w(339)p Black 270 1529 a(18.2)f(Mo)q(dule)14
b FV(FiniteSets)38 b F4(.)20 b(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p
Black 30 w(340)p Black 270 1579 a(18.3)f(Mo)q(dule)14
b FV(Bags)37 b F4(.)20 b(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)
g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p
Black 30 w(340)p Black 270 1628 a(18.4)f(The)15 b(Num)o(b)q(ers)e(Mo)q
(dules)20 b(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p Black 30 w(344)p
Black Black Black eop
%%Page: 15 15
15 14 bop Black Black 208 723 a F5(List)38 b(of)h(Figures)g(and)f(T)-10
b(ables)208 964 y F3(Figures)270 1056 y F4(2.1)41 b(The)15
b(hour-clo)q(c)o(k)f(sp)q(eci\014cation|t)o(yp)q(eset)h(and)f(ASCI)q(I)
g(v)o(ersions.)19 b(.)h(.)g(.)h(.)p Black 50 w(20)p Black
270 1147 a(3.1)41 b(Our)15 b(\014rst)f(sp)q(eci\014cation)h(of)e(an)h
(async)o(hronous)h(in)o(terface.)g(.)20 b(.)g(.)h(.)f(.)g(.)g(.)h(.)p
Black 50 w(27)p Black 270 1197 a(3.2)41 b(Our)15 b(second)g(sp)q
(eci\014cation)f(of)g(an)f(async)o(hronous)i(in)o(terface.)31
b(.)21 b(.)f(.)g(.)g(.)h(.)p Black 50 w(30)p Black 270
1246 a(3.3)41 b(The)15 b(hour-clo)q(c)o(k)f(sp)q(eci\014cation)g(with)g
(commen)o(ts.)40 b(.)20 b(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p
Black 50 w(33)p Black 270 1338 a(4.1)41 b(The)15 b(sp)q(eci\014cation)f
(of)g(a)f(FIF)o(O,)h(with)f(the)i(in)o(ternal)e(v)n(ariable)g
FV(q)18 b F4(visible.)p Black 70 w(38)p Black 270 1388
a(4.2)41 b(A)14 b(sp)q(eci\014cation)h(of)e(a)h(FIF)o(O)g(bu\013er)h
(of)e(length)h FV(N)p F4(.)40 b(.)20 b(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g
(.)h(.)p Black 50 w(43)p Black 270 1479 a(5.1)41 b(The)15
b(sp)q(eci\014cation)f(of)g(a)f(memory)f(in)o(terface.)26
b(.)20 b(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p
Black 50 w(48)p Black 270 1529 a(5.2)41 b(The)15 b(in)o(ternal)e
(memory)e(sp)q(eci\014cation)k(.)d(.)20 b(.)h(.)f(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p Black 50 w(52)p
Black 270 1579 a(5.3)41 b(The)15 b(memory)c(sp)q(eci\014cation.)19
b(.)h(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h
(.)f(.)g(.)g(.)h(.)p Black 50 w(53)p Black 270 1628 a(5.4)41
b(The)15 b(write-through)f(cac)o(he.)41 b(.)20 b(.)g(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p
Black 50 w(55)p Black 270 1678 a(5.5)41 b(The)15 b(write-through)f(cac)
o(he)h(sp)q(eci\014cation)f(.)i(.)k(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h
(.)f(.)g(.)g(.)h(.)p Black 50 w(57)p Black 270 1769 a(9.1)41
b(The)15 b(real-time)d(sp)q(eci\014cation)j(of)e(an)h(hour)g(clo)q(c)o
(k.)19 b(.)h(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p
Black 30 w(121)p Black 270 1819 a(9.2)41 b(The)15 b FV(R)n(e)n(alTime)h
F4(mo)q(dule)c(for)i(writing)f(real-time)f(sp)q(eci\014cations.)27
b(.)20 b(.)g(.)h(.)p Black 30 w(125)p Black 270 1869
a(9.3)41 b(A)14 b(real-time)f(v)o(ersion)h(of)f(the)h(linearizable)g
(memory)d(sp)q(eci\014cation.)18 b(.)i(.)h(.)p Black
30 w(126)p Black 270 1919 a(9.4)41 b(A)14 b(real-time)f(v)o(ersion)h
(of)f(the)h(write-through)h(cac)o(he)f(.)19 b(.)h(.)h(.)f(.)g(.)h(.)f
(.)g(.)g(.)h(.)p Black 30 w(129)p Black 270 2010 a(10.1)f(A)14
b(nonin)o(terlea)o(ving)f(comp)q(osite)g(sp)q(eci\014cation)i(of)e(the)
i(FIF)o(O.)g(.)21 b(.)f(.)g(.)g(.)h(.)p Black 30 w(143)p
Black 270 2060 a(10.2)f(A)14 b(join)o(t-action)f(sp)q(eci\014cation)h
(of)g(a)f(linearizable)g(memory)m(.)21 b(.)f(.)h(.)f(.)g(.)g(.)h(.)p
Black 30 w(150)p Black 270 2110 a(10.3)f(A)14 b(sp)q(eci\014cation)h
(of)e(a)h(binary)f(hour)h(clo)q(c)o(k.)31 b(.)20 b(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p Black 30 w(160)p
Black 270 2160 a(10.4)f(Re\014ning)14 b(a)f(c)o(hannel.)22
b(.)e(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p Black 30 w(162)p
Black 270 2251 a(11.1)f(A)14 b(mo)q(dule)f(for)g(sp)q(ecifying)h(op)q
(erators)h(on)e(graphs.)33 b(.)20 b(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h
(.)p Black 30 w(175)p Black 270 2301 a(11.2)f(A)14 b(mo)q(dule)f(for)g
(sp)q(ecifying)h(the)h(solution)e(to)g(a)h(di\013eren)o(tial)g
(equation.)39 b(.)p Black 30 w(178)p Black 270 2351 a(11.3)20
b(The)15 b(de\014nition)e(of)g(the)i(grammar)c FV(GSE)19
b F4(for)14 b(the)g(language)f(SE.)40 b(.)20 b(.)g(.)h(.)p
Black 30 w(183)p Black 270 2400 a(11.4)f(The)15 b(mo)q(dule)d
FV(BNF)o(Gr)n(ammars)p F4(.)40 b(.)21 b(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f
(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p Black 30
w(184)p Black 270 2450 a(11.5)f(A)14 b(mo)q(dule)f(for)g(sp)q(ecifying)
h(a)g(register)h(in)o(terface)f(to)g(a)f(memory)m(.)38
b(.)20 b(.)g(.)h(.)p Black 30 w(186)p Black 270 2500
a(11.6)f(Mo)q(dule)14 b FV(InnerSerial)k F4(.)g(.)i(.)g(.)h(.)f(.)g(.)h
(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)
h(.)p Black 30 w(196)p Black Black 1934 2622 a(xv)p Black
eop
%%Page: 16 16
16 15 bop Black 208 275 a F4(xvi)1059 b FR(LIST)14 b(OF)g(FIGURES)f
(AND)h(T)m(ABLES)p 208 282 1770 2 v Black 270 391 a F4(11.7)20
b(Mo)q(dule)14 b FV(InnerSe)n(quential)19 b F4(.)37 b(.)20
b(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f
(.)g(.)g(.)h(.)p Black 30 w(201)p Black 270 483 a(14.1)f(The)15
b(alternating)e(bit)g(proto)q(col)h(.)26 b(.)21 b(.)f(.)g(.)g(.)h(.)f
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p
Black 30 w(223)p Black 270 532 a(14.2)f(Mo)q(dule)14
b FV(MCA)o(lternatingBit)p F4(.)41 b(.)20 b(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p
Black 30 w(227)p Black 270 582 a(14.3)f(A)14 b(con\014guration)g
(\014le)g(for)f(mo)q(dule)g FV(MCA)o(lternatingBit)p
F4(.)37 b(.)20 b(.)g(.)h(.)f(.)g(.)g(.)h(.)p Black 30
w(227)p Black 270 632 a(14.4)f(A)14 b(sp)q(eci\014cation)h(of)e
(correctness)k(of)c(the)i(alternating)e(bit)h(proto)q(col.)f(.)20
b(.)h(.)p Black 30 w(229)p Black 270 682 a(14.5)f(The)15
b(standard)f(mo)q(dule)e FV(TLC)p F4(.)28 b(.)20 b(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p
Black 30 w(248)p Black 270 732 a(14.6)f(The)15 b(BNF)f(grammar)d(of)i
(the)i(con\014guration)e(\014le.)22 b(.)e(.)g(.)g(.)h(.)f(.)g(.)h(.)f
(.)g(.)g(.)h(.)p Black 30 w(263)p Black 270 823 a(18.1)f(The)15
b(standard)f FV(Se)n(quenc)n(es)k F4(mo)q(dule.)29 b(.)20
b(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p
Black 30 w(341)p Black 270 873 a(18.2)f(The)15 b(standard)f
FV(FiniteSets)j F4(mo)q(dule.)24 b(.)c(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p Black 30 w(341)p
Black 270 923 a(18.3)f(The)15 b(standard)f FV(Bags)k
F4(mo)q(dule.)k(.)e(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f
(.)g(.)h(.)f(.)g(.)g(.)h(.)p Black 30 w(343)p Black 270
972 a(18.4)f(The)15 b FV(Pe)n(ano)i F4(mo)q(dule.)11
b(.)20 b(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)
g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p Black 30 w(345)p
Black 270 1022 a(18.5)f(The)15 b FV(Pr)n(otoR)n(e)n(als)i
F4(mo)q(dule)12 b(.)f(.)21 b(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)
f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p Black 30
w(346)p Black 270 1072 a(18.6)f(The)15 b(standard)f FV(Natur)n(als)i
F4(mo)q(dule.)22 b(.)e(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g
(.)h(.)f(.)g(.)g(.)h(.)p Black 30 w(348)p Black 270 1122
a(18.7)f(The)15 b(standard)f FV(Inte)n(gers)j F4(mo)q(dule.)31
b(.)20 b(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)
g(.)h(.)p Black 30 w(348)p Black 270 1172 a(18.8)f(The)15
b(standard)f FV(R)n(e)n(als)j F4(mo)q(dule.)e(.)20 b(.)h(.)f(.)g(.)g(.)
h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p
Black 30 w(348)p Black 208 1496 a F3(T)-6 b(ables)270
1587 y F4(T)m(able)13 b(1)29 b(The)14 b(constan)o(t)h(op)q(erators.)28
b(.)20 b(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)
f(.)g(.)g(.)h(.)p Black 30 w(268)p Black 270 1637 a(T)m(able)13
b(2)29 b(Miscellaneous)14 b(constructs.)37 b(.)21 b(.)f(.)g(.)g(.)h(.)f
(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p
Black 30 w(269)p Black 270 1686 a(T)m(able)13 b(3)29
b(Action)14 b(op)q(erators.)j(.)j(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h
(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p
Black 30 w(269)p Black 270 1736 a(T)m(able)13 b(4)29
b(T)m(emp)q(oral)12 b(op)q(erators.)29 b(.)21 b(.)f(.)g(.)h(.)f(.)g(.)g
(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p
Black 30 w(269)p Black 270 1786 a(T)m(able)13 b(5)29
b(User-de\014nable)15 b(op)q(erator)g(sym)o(b)q(ols.)26
b(.)21 b(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p
Black 30 w(270)p Black 270 1836 a(T)m(able)13 b(6)29
b(The)14 b(precedence)j(ranges)e(of)e(op)q(erators.)35
b(.)20 b(.)h(.)f(.)g(.)g(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p
Black 30 w(271)p Black 270 1886 a(T)m(able)13 b(7)29
b(Op)q(erators)15 b(de\014ned)g(in)f(the)g(standard)g(mo)q(dules.)24
b(.)c(.)h(.)f(.)g(.)h(.)f(.)g(.)g(.)h(.)p Black 30 w(272)p
Black 270 1936 a(T)m(able)13 b(8)29 b(The)14 b FP(asci)q(i)f
F4(represen)o(tations)j(of)d(t)o(yp)q(eset)i(sym)o(b)q(ols.)j(.)j(.)f
(.)g(.)h(.)f(.)g(.)g(.)h(.)p Black 30 w(273)p Black Black
Black eop
%%Page: 17 17
17 16 bop Black Black 208 723 a F5(Ac)m(kno)m(wledgmen)l(ts)208
939 y F4(I)19 b(ha)o(v)o(e)g(sp)q(en)o(t)h(more)e(than)h(t)o(w)o(o)g
(and)g(a)f(half)g(decades)j(learning)e(ho)o(w)f(to)h(sp)q(ecify)h(and)
208 989 y(reason)e(ab)q(out)f(concurren)o(t)i(computer)e(systems.)29
b(Before)19 b(that,)f(I)f(had)h(already)f(sp)q(en)o(t)208
1039 y(man)o(y)9 b(y)o(ears)i(learning)g(ho)o(w)f(to)h(use)h
(mathematics)d(rigorously)m(.)16 b(I)11 b(cannot)g(b)q(egin)g(to)g
(thank)208 1089 y(ev)o(ery)o(one)16 b(who)g(help)q(ed)g(me)f(during)h
(all)e(that)i(time.)23 b(But)16 b(I)g(w)o(ould)f(lik)o(e)g(to)h
(express)i(m)o(y)208 1139 y(gratitude)11 b(to)g(t)o(w)o(o)g(men)f(who,)
h(more)g(than)g(an)o(y)o(one)g(else,)h(in\015uenced)g(this)f(b)q(o)q
(ok.)17 b(Ric)o(hard)208 1188 y(P)o(alais)e(taugh)o(t)g(me)g(ho)o(w)h
(ev)o(en)h(the)f(most)f(complicated)g(mathematics)f(could)h(b)q(e)i
(made)208 1238 y(b)q(oth)g(rigorous)f(and)h(elegan)o(t.)27
b(Mart)-5 b(\023)-16 b(\020n)17 b(Abadi)f(in\015uenced)i(the)g(dev)o
(elopmen)o(t)e(of)g(TLA)208 1288 y(and)d(w)o(as)h(m)o(y)e(collab)q
(orator)h(in)h(dev)o(eloping)f(the)h(ideas)g(b)q(ehind)h(Chapters)g(9)e
(and)h(10.)270 1338 y(Muc)o(h)h(of)f(what)g(I)h(kno)o(w)f(ab)q(out)h
(applying)e(the)i(mathematics)e(of)h(TLA)h(to)f(the)h(engi-)208
1388 y(neering)e(problems)f(of)h(complex)f(systems)h(came)g(from)e(w)o
(orking)h(with)h(Mark)g(T)m(uttle)g(and)208 1437 y(Y)m(uan)i(Y)m(u.)25
b(Y)m(uan)16 b(Y)m(u)g(also)f(help)q(ed)i(turn)g(TLA)986
1422 y FS(+)1023 1437 y F4(in)o(to)e(a)h(useful)g(to)q(ol)g(for)g
(engineers)h(b)o(y)208 1487 y(writing)e(the)i(TLC)g(mo)q(del)e(c)o(hec)
o(k)o(er,)j(ignoring)d(m)o(y)g(w)o(arnings)h(that)h(it)f(w)o(ould)g
(nev)o(er)h(b)q(e)208 1537 y(practical.)f(While)10 b(writing)f(the)i
(\014rst)g(v)o(ersion)g(of)e(the)i(Syn)o(tactic)g(Analyzer,)g
(Jean-Charles)208 1587 y(Gr)o(\023)-20 b(egoire)13 b(help)q(ed)i(me)e
(\014ne)h(tune)h(the)f(TLA)907 1572 y FS(+)942 1587 y
F4(language.)270 1637 y(The)e(follo)o(wing)c(p)q(eople)k(made)e
(helpful)h(commen)o(ts)e(on)i(earlier)h(v)o(ersions)g(of)e(this)i(b)q
(o)q(ok:)208 1686 y(Dominique)20 b(Couturier,)k(Douglas)d(F)m(rank,)j
(Vino)q(d)e(Gro)o(v)o(er,)i(Da)o(vid)d(Je\013erson,)26
b(Sara)208 1736 y(Kalv)n(ala,)19 b(and)i(W)m(olfgang)c(Sc)o(hreiner)22
b(all)d(p)q(oin)o(ted)i(out)f(mistak)o(es.)37 b(Kazuhiro)20
b(Ogata)208 1786 y(read)13 b(the)g(man)o(uscript)f(with)h(un)o(usual)f
(care)i(and)e(found)h(a)f(n)o(um)o(b)q(er)g(of)g(mistak)o(es.)17
b(Kapila)208 1836 y(P)o(ahala)o(w)o(atta)f(found)i(an)g(error)h(in)e
(the)i FV(Pr)n(otoR)n(e)n(als)i F4(mo)q(dule.)29 b(P)o(addy)18
b(Krishnan)g(also)208 1886 y(found)d(an)i(error)g(in)f(the)h
FV(Pr)n(otoR)n(e)n(als)i F4(mo)q(dule)c(and)h(suggested)i(a)e(w)o(a)o
(y)g(to)g(impro)o(v)o(e)e(the)208 1936 y(presen)o(tation.)19
b(And)14 b(I)g(wish)f(to)h(extend)h(m)o(y)d(sp)q(ecial)j(thanks)f(to)g
(Martin)f(Rudalics,)g(who)208 1985 y(read)h(the)g(man)o(uscript)f(with)
h(amazing)e(thoroughness)j(and)e(caugh)o(t)h(man)o(y)e(errors.)p
Black Black 1264 2074 a FV(L)n(eslie)i(L)n(amp)n(ort)1264
2124 y(Palo)h(A)o(lto,)f(California)1264 2174 y(4)h(Mar)n(ch)g(2002)p
Black 1910 2622 a F4(xvii)p Black eop
%%Page: 18 18
18 17 bop Black Black Black Black eop
%%Page: 1 19
1 18 bop Black Black 208 723 a F5(In)m(tro)s(duction)208
939 y F4(This)12 b(b)q(o)q(ok)h(will)e(teac)o(h)i(y)o(ou)f(ho)o(w)h(to)
f(write)h(sp)q(eci\014cations)h(of)e(computer)g(systems,)h(using)208
989 y(the)d(language)f(TLA)531 974 y FS(+)552 989 y F4(.)16
b(It's)10 b(rather)h(long,)e(but)i(most)d(p)q(eople)j(will)d(read)i
(only)f(P)o(art)i(I,)e(whic)o(h)208 1039 y(comprises)j(the)i(\014rst)f
(83)f(pages.)19 b(That)12 b(part)h(con)o(tains)g(all)f(that)g(most)g
(engineers)i(need)g(to)208 1089 y(kno)o(w)d(ab)q(out)g(writing)g(sp)q
(eci\014cations;)i(it)e(assumes)h(only)f(the)h(basic)g(bac)o(kground)f
(in)g(com-)208 1139 y(puting)16 b(and)g(kno)o(wledge)g(of)g
(mathematics)e(exp)q(ected)19 b(of)c(an)i(undergraduate)g(studying)208
1188 y(engineering)f(or)g(computer)g(science.)27 b(P)o(art)17
b(I)q(I)f(con)o(tains)g(more)g(adv)n(anced)g(material)e(for)208
1238 y(more)e(sophisticated)j(readers.)k(The)14 b(remainder)f(of)g(the)
h(b)q(o)q(ok)g(is)f(a)h(reference)i(man)o(ual|)208 1288
y(P)o(art)e(I)q(I)q(I)g(for)f(the)i(TLA)585 1273 y FS(+)619
1288 y F4(to)q(ols)f(and)g(P)o(art)g(IV)g(for)f(the)i(language)e
(itself.)270 1338 y(The)h(TLA)g(W)m(orld)f(Wide)g(W)m(eb)h(page)g(con)o
(tains)g(material)e(to)i(accompan)o(y)e(the)j(b)q(o)q(ok,)208
1388 y(including)h(the)i(TLA)553 1373 y FS(+)591 1388
y F4(to)q(ols,)g(exercises,)i(references)h(to)c(the)h(literature,)h
(and)e(a)g(list)g(of)208 1437 y(corrections.)i(There)c(is)f(a)f(link)g
(to)h(the)g(TLA)g(W)m(eb)g(page)g(on)p Black Black 332
1520 a FO(http://lamport.org)208 1603 y F4(Y)m(ou)f(can)h(also)f
(\014nd)h(the)h(page)f(b)o(y)f(searc)o(hing)i(the)f(W)m(eb)g(for)f(the)
i(21-letter)f(string)p Black Black 637 1686 a FO(omepage)-459
b(uidlamporttlah)208 1769 y F4(Do)13 b(not)h(put)g(this)g(string)g(in)f
(an)o(y)h(do)q(cumen)o(t)f(that)h(migh)o(t)e(app)q(ear)i(on)g(the)g(W)m
(eb.)208 1928 y FN(What)27 b(Is)g(a)g(Sp)r(eci\014cation?)p
Black Black 963 2016 a FV(Writing)14 b(is)h(natur)n(e's)f(way)h(of)g
(letting)f(you)1030 2066 y(know)h(how)g(sloppy)g(your)g(thinking)g(is.)
1440 2115 y F4(|)7 b(Guindon)208 2190 y(A)19 b(sp)q(eci\014cation)h(is)
g(a)f(written)h(description)g(of)f(what)g(a)g(system)g(is)h(supp)q
(osed)g(to)g(do.)208 2240 y(Sp)q(ecifying)c(a)h(system)g(helps)g(us)h
(understand)g(it.)27 b(It's)17 b(a)g(go)q(o)q(d)f(idea)h(to)g
(understand)h(a)208 2290 y(system)12 b(b)q(efore)i(building)d(it,)h(so)
h(it's)f(a)h(go)q(o)q(d)f(idea)h(to)f(write)h(a)g(sp)q(eci\014cation)g
(of)g(a)f(system)208 2339 y(b)q(efore)i(implemen)o(ting)d(it.)270
2389 y(This)18 b(b)q(o)q(ok)f(is)h(ab)q(out)g(sp)q(ecifying)g(the)g(b)q
(eha)o(vioral)f(prop)q(erties)i(of)f(a)f(system|also)208
2439 y(called)f(its)h(functional)f(or)h(logical)e(prop)q(erties.)28
b(These)19 b(are)e(the)g(prop)q(erties)i(that)e(sp)q(ec-)208
2489 y(ify)h(what)h(the)h(system)g(is)f(supp)q(osed)i(to)e(do.)34
b(There)21 b(are)e(other)i(imp)q(ortan)o(t)c(kinds)i(of)p
Black 1957 2622 a(1)p Black eop
%%Page: 2 20
2 19 bop Black 208 275 a F4(2)p 208 282 1770 2 v Black
208 391 a(prop)q(erties)21 b(that)e(w)o(e)h(don't)f(consider,)j
(including)c(p)q(erformance)i(prop)q(erties.)36 b(W)m(orst-)208
441 y(case)12 b(p)q(erformance)g(can)g(often)g(b)q(e)h(expressed)h(as)e
(a)g(b)q(eha)o(vioral)f(prop)q(ert)o(y|for)h(example,)208
491 y(Chapter)18 b(9)f(explains)h(ho)o(w)f(to)h(sp)q(ecify)g(that)g(a)f
(system)g(m)o(ust)g(react)i(within)e(a)g(certain)208
541 y(length)c(of)f(time.)17 b(Ho)o(w)o(ev)o(er,)c(sp)q(ecifying)g(a)o
(v)o(erage)g(p)q(erformance)g(is)g(b)q(ey)o(ond)g(the)h(scop)q(e)g(of)
208 591 y(the)g(metho)q(ds)f(describ)q(ed)j(here.)270
640 y(Our)k(basic)g(to)q(ol)f(for)g(writing)g(sp)q(eci\014cations)i(is)
f(mathematics.)33 b(Mathematics)19 b(is)208 690 y(nature's)e(w)o(a)o(y)
g(of)g(letting)g(y)o(ou)f(kno)o(w)h(ho)o(w)g(slopp)o(y)g(y)o(our)g
(writing)f(is.)28 b(It's)18 b(hard)f(to)g(b)q(e)208 740
y(precise)d(in)f(an)g(imprecise)g(language)f(lik)o(e)h(English)g(or)g
(Chinese.)19 b(In)13 b(engineering,)g(impre-)208 790
y(cision)g(can)g(lead)g(to)g(errors.)20 b(T)m(o)12 b(a)o(v)o(oid)g
(errors,)j(science)g(and)e(engineering)g(ha)o(v)o(e)h(adopted)208
840 y(mathematics)d(as)j(their)g(language.)270 889 y(The)19
b(mathematics)e(w)o(e)i(use)h(is)f(more)f(formal)f(than)i(the)g(math)f
(y)o(ou'v)o(e)g(gro)o(wn)h(up)208 939 y(with.)38 b(F)m(ormal)18
b(mathematics)g(is)j(nature's)g(w)o(a)o(y)f(of)g(letting)h(y)o(ou)f
(kno)o(w)g(ho)o(w)g(slopp)o(y)208 989 y(y)o(our)d(mathematics)e(is.)29
b(The)18 b(mathematics)d(written)j(b)o(y)f(most)f(mathematicians)f(and)
208 1039 y(scien)o(tists)c(is)f(not)g(really)g(precise.)18
b(It's)10 b(precise)i(in)e(the)h(small,)d(but)i(imprecise)g(in)g(the)h
(large.)208 1089 y(Eac)o(h)18 b(equation)f(is)h(a)f(precise)i
(assertion,)g(but)f(y)o(ou)f(ha)o(v)o(e)h(to)f(read)i(the)f(accompan)o
(ying)208 1139 y(w)o(ords)c(to)f(understand)i(ho)o(w)f(the)g(equations)
g(relate)g(to)g(one)g(another)g(and)g(exactly)g(what)208
1188 y(the)h(theorems)g(mean.)20 b(Logicians)14 b(ha)o(v)o(e)h(dev)o
(elop)q(ed)g(w)o(a)o(ys)g(of)f(eliminating)e(those)k(w)o(ords)208
1238 y(and)d(making)d(the)k(mathematics)d(completely)h(formal)f(and,)i
(hence,)h(completely)e(precise.)270 1288 y(Most)g(mathematicians)d(and)
j(scien)o(tists)i(think)e(that)g(formal)d(mathematics,)h(without)208
1338 y(w)o(ords,)20 b(is)f(long)f(and)h(tiresome.)34
b(They're)20 b(wrong.)33 b(Ordinary)20 b(mathematics)d(can)i(b)q(e)208
1388 y(expressed)i(compactly)d(in)h(a)f(precise,)k(completely)c(formal)
f(language.)33 b(It)19 b(tak)o(es)h(only)208 1437 y(ab)q(out)12
b(t)o(w)o(o)g(dozen)h(lines)f(to)g(de\014ne)h(the)g(solution)f(to)g(an)
g(arbitrary)g(di\013eren)o(tial)g(equation)208 1487 y(in)h(the)h
FV(Di\013er)n(entialEquations)j F4(mo)q(dule)c(of)g(Chapter)h(11.)j
(But)d(few)g(sp)q(eci\014cations)h(need)208 1537 y(suc)o(h)g
(sophisticated)h(mathematics.)i(Most)d(require)h(only)e(simple)g
(application)f(of)h(a)h(few)208 1587 y(standard)f(mathematical)c
(concepts.)208 1745 y FN(Wh)n(y)26 b(TLA)568 1719 y FM(+)610
1745 y FN(?)208 1836 y F4(W)m(e)12 b(sp)q(ecify)h(a)g(system)f(b)o(y)h
(describing)g(its)g(allo)o(w)o(ed)e(b)q(eha)o(viors|what)h(it)h(ma)o(y)
d(do)j(in)f(the)208 1886 y(course)18 b(of)f(an)g(execution.)28
b(In)18 b(1977,)e(Amir)g(Pn)o(ueli)h(in)o(tro)q(duced)h(the)g(use)g(of)
e(temp)q(oral)208 1936 y(logic)c(for)i(describing)g(system)f(b)q(eha)o
(viors.)18 b(In)c(principle,)f(a)h(system)f(could)h(b)q(e)g(describ)q
(ed)208 1986 y(b)o(y)h(a)h(single)f(temp)q(oral)g(logic)g(form)o(ula.)
21 b(In)16 b(practice,)h(it)e(couldn't.)24 b(Pn)o(ueli's)15
b(temp)q(oral)208 2035 y(logic)9 b(w)o(as)g(ideal)h(for)f(describing)i
(some)e(prop)q(erties)i(of)f(systems,)g(but)g(a)o(wkw)o(ard)g(for)f
(others.)208 2085 y(So,)k(it)g(w)o(as)h(usually)f(com)o(bined)g(with)g
(a)h(more)f(traditional)f(w)o(a)o(y)h(of)h(describing)g(systems.)270
2135 y(In)e(the)h(late)f(1980's,)g(I)g(in)o(v)o(en)o(ted)g(TLA,)g(the)h
(T)m(emp)q(oral)e(Logic)h(of)f(Actions|a)h(simple)208
2185 y(v)n(arian)o(t)e(of)g(Pn)o(ueli's)h(original)e(logic.)16
b(TLA)11 b(mak)o(es)f(it)h(practical)g(to)g(describ)q(e)h(a)f(system)g
(b)o(y)208 2235 y(a)h(single)h(form)o(ula.)i(Most)e(of)g(a)g(TLA)g(sp)q
(eci\014cation)g(consists)h(of)f(ordinary)m(,)e(non)o(temp)q(oral)208
2284 y(mathematics.)26 b(T)m(emp)q(oral)16 b(logic)g(pla)o(ys)h(a)h
(signi\014can)o(t)f(role)g(only)g(in)g(describing)h(those)208
2334 y(prop)q(erties)11 b(that)f(it's)f(go)q(o)q(d)h(at)g(describing.)
17 b(TLA)10 b(also)f(pro)o(vides)h(a)g(nice)g(w)o(a)o(y)f(to)h
(formalize)208 2384 y(the)19 b(st)o(yle)g(of)f(reasoning)g(ab)q(out)h
(systems)g(that)f(has)h(pro)o(v)o(ed)g(to)g(b)q(e)g(most)e(e\013ectiv)o
(e)j(in)208 2434 y(practice|a)15 b(st)o(yle)h(kno)o(wn)e(as)i
FV(assertional)j F4(reasoning.)j(Ho)o(w)o(ev)o(er,)16
b(this)f(b)q(o)q(ok)g(is)g(ab)q(out)208 2484 y(sp)q(eci\014cation;)f
(it)f(sa)o(ys)h(almost)e(nothing)i(ab)q(out)f(pro)q(ofs.)p
Black Black eop
%%Page: 3 21
3 20 bop Black 1957 275 a F4(3)p 208 282 1770 2 v Black
270 391 a(T)m(emp)q(oral)13 b(logic)i(assumes)g(an)g(underlying)g
(logic)g(for)g(expressing)h(ordinary)f(mathe-)208 441
y(matics.)20 b(There)c(are)f(man)o(y)e(w)o(a)o(ys)i(to)g(formalize)e
(ordinary)h(math.)20 b(Most)15 b(computer)g(sci-)208
491 y(en)o(tists)h(prefer)g(one)g(that)f(resem)o(bles)h(their)f(fa)o(v)
o(orite)g(programmi)o(ng)d(language.)22 b(I)15 b(c)o(hose)208
541 y(instead)i(the)h(one)f(that)g(most)f(mathematicia)o(ns)f
(prefer|the)j(one)f(logicians)f(call)g(\014rst-)208 591
y(order)e(logic)f(and)h(set)h(theory)m(.)270 640 y(TLA)h(pro)o(vides)g
(a)g(mathematical)d(foundation)h(for)i(describing)h(systems.)24
b(T)m(o)16 b(write)208 690 y(sp)q(eci\014cations,)h(w)o(e)g(need)h(a)e
(complete)g(language)g(built)g(atop)g(that)g(foundation.)25
b(I)17 b(ini-)208 740 y(tially)12 b(though)o(t)i(that)h(this)f
(language)f(should)i(b)q(e)f(some)g(sort)h(of)e(abstract)j(programmi)o
(ng)208 790 y(language)c(whose)i(seman)o(tics)g(w)o(ould)e(b)q(e)j
(based)f(on)f(TLA.)18 b(I)c(didn't)f(kno)o(w)g(what)g(kind)g(of)208
840 y(programmi)o(ng)g(language)i(constructs)j(w)o(ould)d(b)q(e)h(b)q
(est,)i(so)e(I)f(decided)i(to)f(start)h(writing)208 889
y(sp)q(eci\014cations)d(directly)f(in)g(TLA.)18 b(I)13
b(in)o(tended)h(to)f(in)o(tro)q(duce)g(programming)d(constructs)208
939 y(as)k(I)g(needed)i(them.)j(T)m(o)14 b(m)o(y)e(surprise,)k(I)e
(disco)o(v)o(ered)i(that)e(I)g(didn't)g(need)h(them.)k(What)208
989 y(I)13 b(needed)j(w)o(as)e(a)f(robust)i(language)e(for)g(writing)g
(mathematics.)270 1039 y(Although)18 b(mathematicians)e(ha)o(v)o(e)i
(dev)o(elop)q(ed)h(the)g(science)i(of)d(writing)g(form)o(ulas,)208
1089 y(they)d(ha)o(v)o(en't)g(turned)h(that)g(science)h(in)o(to)d(an)h
(engineering)h(discipline.)22 b(They)15 b(ha)o(v)o(e)h(de-)208
1139 y(v)o(elop)q(ed)d(notations)g(for)g(mathematics)e(in)h(the)i
(small,)d(but)i(not)h(for)e(mathematics)f(in)i(the)208
1188 y(large.)j(The)c(sp)q(eci\014cation)f(of)g(a)f(real)h(system)g
(can)g(b)q(e)h(dozens)g(or)e(ev)o(en)i(h)o(undreds)g(of)f(pages)208
1238 y(long.)16 b(Mathematicians)9 b(kno)o(w)h(ho)o(w)g(to)h(write)g
(20-line)e(form)o(ulas,)g(not)i(20-page)f(form)o(ulas.)208
1288 y(So,)16 b(I)g(had)g(to)g(in)o(tro)q(duce)h(notations)f(for)g
(writing)f(long)h(form)o(ulas.)23 b(What)15 b(I)i(to)q(ok)f(from)208
1338 y(programmi)o(ng)11 b(languages)i(w)o(ere)i(ideas)f(for)f(mo)q
(dularizing)f(large)h(sp)q(eci\014cations.)270 1388 y(The)i(language)f
(I)g(came)g(up)h(with)f(is)g(called)h(TLA)1070 1373 y
FS(+)1090 1388 y F4(.)20 b(I)15 b(re\014ned)h(TLA)1376
1373 y FS(+)1411 1388 y F4(in)e(the)i(course)208 1437
y(of)f(writing)h(sp)q(eci\014cations)h(of)f(disparate)g(systems.)26
b(But)17 b(it)f(has)g(c)o(hanged)h(little)e(in)h(the)208
1487 y(last)e(few)h(y)o(ears.)21 b(I)15 b(ha)o(v)o(e)f(found)h(TLA)819
1472 y FS(+)854 1487 y F4(to)g(b)q(e)g(quite)g(go)q(o)q(d)f(for)h(sp)q
(ecifying)f(a)h(wide)f(class)208 1537 y(of)h(systems|from)f(program)g
(in)o(terfaces)j(\(APIs\))h(to)d(distributed)i(systems.)25
b(It)16 b(can)g(b)q(e)208 1587 y(used)d(to)f(write)h(a)g(precise,)g
(formal)d(description)k(of)e(almost)e(an)o(y)i(sort)h(of)f(discrete)j
(system.)208 1637 y(It's)f(esp)q(ecially)g(w)o(ell)g(suited)g(to)g
(describing)h(async)o(hronous)g(systems|that)f(is,)g(systems)208
1686 y(with)f(comp)q(onen)o(ts)h(that)g(do)f(not)h(op)q(erate)h(in)e
(strict)i(lo)q(c)o(k-step.)208 1845 y FN(Ab)r(out)27
b(this)f(Bo)r(ok)208 1936 y F4(P)o(art)10 b(I,)g(consisting)g(of)g
(Chapters)i(1)e(through)g(7,)h(is)f(the)h(core)g(of)f(the)h(b)q(o)q(ok)
f(and)h(is)f(mean)o(t)f(to)208 1986 y(b)q(e)j(read)h(from)e(b)q
(eginning)g(to)h(end.)18 b(It)13 b(explains)f(ho)o(w)f(to)h(sp)q(ecify)
h(the)g(class)g(of)e(prop)q(erties)208 2035 y(kno)o(wn)e(as)i
FV(safety)i F4(prop)q(erties.)19 b(These)11 b(prop)q(erties,)h(whic)o
(h)e(can)g(b)q(e)h(sp)q(eci\014ed)h(with)e(almost)208
2085 y(no)j(temp)q(oral)g(logic,)f(are)i(all)f(that)h(most)f(engineers)
i(need)g(to)f(kno)o(w)f(ab)q(out.)270 2135 y(After)j(reading)g(P)o(art)
g(I,)f(y)o(ou)g(can)h(read)g(as)g(m)o(uc)o(h)e(of)h(P)o(art)h(I)q(I)g
(as)g(y)o(ou)f(lik)o(e.)22 b(Eac)o(h)16 b(of)208 2185
y(its)g(c)o(hapters)h(is)f(indep)q(enden)o(t)i(of)d(the)i(others.)26
b(T)m(emp)q(oral)14 b(logic)h(comes)g(to)h(the)h(fore)f(in)208
2235 y(Chapter)c(8,)f(where)i(it)e(is)h(used)g(to)f(sp)q(ecify)i(the)f
(additional)e(class)i(of)f(prop)q(erties)i(kno)o(wn)e(as)208
2284 y FV(liveness)j F4(prop)q(erties.)19 b(Chapter)11
b(9)g(describ)q(es)i(ho)o(w)e(to)g(sp)q(ecify)h(real-time)d(prop)q
(erties,)k(and)208 2334 y(Chapter)k(10)e(describ)q(es)k(ho)o(w)d(to)g
(write)h(sp)q(eci\014cations)g(as)f(comp)q(ositions.)24
b(Chapter)17 b(11)208 2384 y(con)o(tains)c(more)g(adv)n(anced)h
(examples.)270 2434 y(P)o(art)h(I)q(I)q(I)f(serv)o(es)j(as)d(the)i
(reference)h(man)o(ual)12 b(for)i(three)i(TLA)1252 2419
y FS(+)1287 2434 y F4(to)q(ols:)j(the)d(Syn)o(tactic)208
2484 y(Analyzer,)i(the)g(TLA)m(T)581 2493 y(E)604 2484
y(X)g(t)o(yp)q(esetting)h(program,)d(and)h(the)i(TLC)e(mo)q(del)f(c)o
(hec)o(k)o(er.)31 b(If)p Black Black eop
%%Page: 4 22
4 21 bop Black 208 275 a F4(4)p 208 282 1770 2 v Black
208 391 a(y)o(ou)16 b(w)o(an)o(t)g(to)h(use)g(TLA)608
376 y FS(+)629 391 y F4(,)g(then)g(y)o(ou)g(probably)f(w)o(an)o(t)g(to)
g(use)i(these)g(to)q(ols.)26 b(They)17 b(are)208 441
y(a)o(v)n(ailable)g(from)g(the)j(TLA)f(W)m(eb)g(page.)34
b(TLC)19 b(is)g(the)h(most)e(sophisticated)i(of)e(them.)208
491 y(The)d(examples)e(on)h(the)i(W)m(eb)e(can)h(get)f(y)o(ou)g
(started)i(using)e(it,)g(but)h(y)o(ou'll)e(ha)o(v)o(e)h(to)g(read)208
541 y(Chapter)g(14)f(to)h(learn)g(to)g(use)h(TLC)e(e\013ectiv)o(ely)m
(.)270 591 y(P)o(art)19 b(IV)f(is)h(a)f(reference)j(man)o(ual)c(for)h
(the)h(TLA)1081 576 y FS(+)1120 591 y F4(language.)32
b(P)o(art)19 b(I)f(pro)o(vides)h(a)208 640 y(go)q(o)q(d)c(enough)g(w)o
(orking)g(kno)o(wledge)g(of)h(the)g(language)e(for)i(most)e(purp)q
(oses.)25 b(Y)m(ou)15 b(need)208 690 y(lo)q(ok)f(at)i(P)o(art)g(IV)g
(only)f(if)f(y)o(ou)i(ha)o(v)o(e)f(questions)i(ab)q(out)e(the)i(\014ne)
f(p)q(oin)o(ts)f(of)h(the)g(syn)o(tax)208 740 y(and)d(seman)o(tics.)k
(Chapter)d(15)f(giv)o(es)g(the)h(syn)o(tax)f(of)g(TLA)1146
725 y FS(+)1166 740 y F4(.)18 b(Chapter)c(16)f(describ)q(es)i(the)208
790 y(precise)j(meanings)d(and)i(the)g(general)g(forms)f(of)g(all)g
(the)h(built-in)f(op)q(erators)h(of)g(TLA)1614 775 y
FS(+)1634 790 y F4(;)208 840 y(Chapter)k(17)f(describ)q(es)j(the)e
(precise)h(meaning)d(of)h(all)g(the)h(higher-lev)o(el)f(TLA)1528
825 y FS(+)1570 840 y F4(con-)208 889 y(structs)d(suc)o(h)f(as)g
(de\014nitions.)23 b(T)m(ogether,)16 b(these)h(t)o(w)o(o)e(c)o(hapters)
i(sp)q(ecify)f(the)g(seman)o(tics)208 939 y(of)10 b(the)i(language.)k
(Chapter)c(18)f(describ)q(es)i(the)f(standard)f(mo)q(dules|except)g
(for)g(mo)q(dule)208 989 y FV(R)n(e)n(alTime)s F4(,)i(describ)q(ed)j
(in)f(Chapter)g(9,)f(and)g(mo)q(dule)f FV(TLC)6 b F4(,)13
b(describ)q(ed)k(in)d(Chapter)h(14.)208 1039 y(Y)m(ou)h(migh)o(t)f(w)o
(an)o(t)i(to)f(lo)q(ok)g(at)h(this)g(c)o(hapter)h(if)f(y)o(ou're)f
(curious)i(ab)q(out)f(ho)o(w)f(standard)208 1089 y(elemen)o(tary)d
(mathematics)f(can)i(b)q(e)g(formalized)e(in)h(TLA)1134
1074 y FS(+)1155 1089 y F4(.)270 1139 y(P)o(art)g(IV)f(do)q(es)i(ha)o
(v)o(e)e(something)f(y)o(ou)i(ma)o(y)d(w)o(an)o(t)i(to)h(refer)h(to)e
(often:)17 b(a)c(mini-m)o(an)o(ua)o(l)208 1188 y(that)g(compactly)e
(presen)o(ts)k(lots)e(of)f(useful)h(information.)i(P)o(ages)f(268{273)d
(list)h(all)g(TLA)1625 1173 y FS(+)208 1238 y F4(op)q(erators,)i(all)e
(user-de\014nable)j(sym)o(b)q(ols,)d(the)j(precedence)h(of)d(all)g(op)q
(erators,)h(all)f(op)q(era-)208 1288 y(tors)j(de\014ned)g(in)g(the)g
(standard)g(mo)q(dules,)f(and)g(the)h FP(asci)q(i)f F4(represen)o
(tation)i(of)e(sym)o(b)q(ols)208 1338 y(lik)o(e)e F0(\012)p
F4(.)p Black Black eop
%%Page: 5 23
5 22 bop Black Black 799 1093 a FL(P)m(art)32 b(I)524
1301 y F5(Getting)40 b(Started)p Black 1957 2622 a F4(5)p
Black eop
%%Page: 6 24
6 23 bop Black Black Black Black eop
%%Page: 7 25
7 24 bop Black 1957 275 a F4(7)p 208 282 1770 2 v Black
270 391 a(A)17 b(system)h(sp)q(eci\014cation)g(consists)g(of)f(a)g(lot)
g(of)g(ordinary)g(mathematics)e(glued)i(to-)208 441 y(gether)i(with)g
(a)f(tin)o(y)g(bit)h(of)f(temp)q(oral)f(logic.)32 b(That's)18
b(wh)o(y)h(most)e(TLA)1421 426 y FS(+)1461 441 y F4(constructs)208
491 y(are)g(for)f(expressing)i(ordinary)e(mathematics.)24
b(T)m(o)16 b(write)h(sp)q(eci\014cations,)h(y)o(ou)f(ha)o(v)o(e)f(to)
208 541 y(b)q(e)h(famili)o(ar)d(with)i(this)h(ordinary)f(math.)25
b(Unfortunately)m(,)17 b(the)g(computer)f(science)j(de-)208
591 y(partmen)o(ts)13 b(in)g(man)o(y)f(univ)o(ersities)i(apparen)o(tly)
f(b)q(eliev)o(e)h(that)g(\015uency)g(in)f(C++)h(is)g(more)208
640 y(imp)q(ortan)o(t)9 b(than)j(a)f(sound)g(education)h(in)f(elemen)o
(tary)g(mathematics.)k(So,)c(some)f(readers)208 690 y(ma)o(y)k(b)q(e)k
(unfamili)o(ar)c(with)i(the)i(math)d(needed)j(to)f(write)g(sp)q
(eci\014cations.)27 b(F)m(ortunately)m(,)208 740 y(this)14
b(math)f(is)i(quite)g(simple.)j(If)d(exp)q(osure)h(to)e(C++)h(hasn't)g
(destro)o(y)o(ed)h(y)o(our)e(abilit)o(y)f(to)208 790
y(think)f(logically)m(,)e(y)o(ou)j(should)f(ha)o(v)o(e)h(no)g(trouble)g
(\014lling)e(an)o(y)i(gaps)g(in)f(y)o(our)h(mathematics)208
840 y(education.)21 b(Y)m(ou)14 b(probably)h(learned)g(arithmetic)f(b)q
(efore)i(learning)e(C++,)h(so)h(I)e(will)g(as-)208 889
y(sume)g(y)o(ou)g(kno)o(w)h(ab)q(out)g(n)o(um)o(b)q(ers)f(and)h
(arithmetic)f(op)q(erations)h(on)g(them.)1443 874 y FS(1)1482
889 y F4(I)g(will)f(try)208 939 y(to)e(explain)g(all)f(other)j
(mathematical)9 b(concepts)15 b(that)d(y)o(ou)g(need,)i(starting)f(in)f
(Chapter)h(1)208 989 y(with)d(a)g(review)i(of)e(some)f(elemen)o(tary)i
(math.)k(I)c(hop)q(e)g(most)e(readers)k(will)c(\014nd)i(this)f(review)
208 1039 y(completely)i(unnecessary)m(.)270 1089 y(After)k(the)g(brief)
g(review)g(of)f(simple)f(mathematics)f(in)i(the)h(\014rst)g(c)o
(hapter,)h(Chapters)208 1139 y(2)f(through)h(5)g(describ)q(e)i(TLA)694
1123 y FS(+)731 1139 y F4(with)e(a)g(sequence)i(of)d(examples.)27
b(Chapter)18 b(6)e(explains)208 1188 y(some)10 b(more)h(ab)q(out)g(the)
h(math)e(used)i(in)f(writing)g(sp)q(eci\014cations,)h(and)g(Chapter)g
(7)f(reviews)208 1238 y(ev)o(erything)17 b(and)g(pro)o(vides)h(some)e
(advice.)28 b(By)18 b(the)g(time)e(y)o(ou)h(\014nish)g(Chapter)h(7,)f
(y)o(ou)208 1288 y(should)d(b)q(e)h(able)g(to)f(handle)h(most)e(of)h
(the)h(sp)q(eci\014cation)h(problems)d(that)i(y)o(ou)f(are)h(lik)o(ely)
208 1338 y(to)e(encoun)o(ter)j(in)d(ordinary)h(engineering)g(practice.)
p Black 208 2439 576 2 v 254 2465 a FK(1)271 2477 y FZ(Some)g(readers)g
(ma)o(y)g(need)h(reminding)d(that)j(n)o(um)o(b)q(ers)e(are)i(not)g
(strings)f(of)h(bits,)g(and)g(2)1525 2465 y FK(33)1568
2477 y FW(\003)10 b FZ(2)1614 2465 y FK(33)208 2517 y
FZ(equals)g(2)333 2505 y FK(66)365 2517 y FZ(,)h(not)g
FY(over\015ow)j(err)n(or)p FZ(.)p Black Black Black eop
%%Page: 8 26
8 25 bop Black 208 275 a F4(8)p 208 282 1770 2 v Black
Black Black eop
%%Page: 9 27
9 26 bop Black Black 208 703 a FL(Chapter)31 b(1)208
910 y F5(A)38 b(Little)h(Simple)f(Math)208 1168 y FN(1.1)81
b(Prop)r(ositional)27 b(Logic)208 1259 y F4(Elemen)o(tary)16
b(algebra)h(is)g(the)h(mathematics)d(of)i(real)g(n)o(um)o(b)q(ers)g
(and)g(the)h(op)q(erators)g(+,)208 1308 y F0(\000)p F4(,)d
F0(\003)h F4(\(m)o(ultiplicatio)o(n\),)d(and)j FQ(=)f
F4(\(division\).)22 b(Prop)q(ositional)15 b(logic)f(is)i(the)g
(mathematics)208 1358 y(of)d(the)h(t)o(w)o(o)f(Bo)q(olean)h(v)n(alues)f
FP(tr)o(ue)h F4(and)f FP(f)l(alse)i F4(and)f(the)g(\014v)o(e)g(op)q
(erators)g(whose)h(names)208 1408 y(\(and)e(common)e(pron)o
(unciations\))j(are)p Black Black 332 1491 a F0(^)23
b F4(conjunction)14 b(\(and\))332 1548 y F0(_)23 b F4(disjunction)13
b(\(or\))332 1606 y F0(:)23 b F4(negation)13 b(\(not\))831
1491 y F0(\))23 b F4(implication)11 b(\(implies\))831
1548 y F0(\021)33 b F4(equiv)n(alence)14 b(\(is)g(equiv)n(alen)o(t)f
(to\))208 1687 y(T)m(o)18 b(learn)h(ho)o(w)g(to)h(compute)e(with)h(n)o
(um)o(b)q(ers,)h(y)o(ou)f(had)g(to)g(memorize)f(addition)g(and)208
1736 y(m)o(ultipli)o(cation)e(tables)j(and)g(algorithms)d(for)j
(calculating)f(with)g(m)o(ultidigit)e(n)o(um)o(b)q(ers.)208
1786 y(Prop)q(ositional)e(logic)g(is)h(m)o(uc)o(h)f(simpler,)g(since)i
(there)g(are)g(only)e(t)o(w)o(o)h(v)n(alues,)g FP(tr)o(ue)g
F4(and)208 1836 y FP(f)l(alse)q F4(.)i(T)m(o)12 b(learn)g(ho)o(w)g(to)g
(compute)f(with)h(these)i(v)n(alues,)d(all)g(y)o(ou)h(need)h(to)f(kno)o
(w)g(are)g(the)208 1886 y(follo)o(wing)f(de\014nitions)j(of)f(the)h
(\014v)o(e)h(Bo)q(olean)e(op)q(erators:)p Black 270 1969
a F0(^)p Black 34 w FV(F)i F0(^)9 b FV(G)17 b F4(equals)d
FP(tr)o(ue)g F4(i\013)28 b(b)q(oth)14 b FV(F)19 b F4(and)14
b FV(G)k F4(equal)13 b FP(tr)o(ue)p F4(.)p .95 TeXcolorgray
.95 TeXcolorgray 1679 2143 307 206 v .95 TeXcolorgray
Black Black 433 w FY(i\013)19 b FZ(stands)10 b(for)h
FY(if)1687 2008 y(and)i(only)f(if)p FZ(.)17 b(Lik)o(e)1687
2048 y(most)11 b(mathemati)o(-)1687 2087 y(cians,)g(I)g(use)g
FY(or)16 b FZ(to)1687 2127 y(mean)11 b FY(and/or)p FZ(.)p
Black .95 TeXcolorgray Black Black 270 2052 a F0(_)p
Black 34 w FV(F)k F0(_)9 b FV(G)17 b F4(equals)d FP(tr)o(ue)g
F4(i\013)g FV(F)19 b F4(or)14 b FV(G)k F4(equals)c FP(tr)o(ue)g
F4(\(or)g(b)q(oth)g(do\).)p Black 270 2135 a F0(:)p Black
34 w(:)p FV(F)19 b F4(equals)14 b FP(tr)o(ue)g F4(i\013)g
FV(F)19 b F4(equals)14 b FP(f)l(alse)r F4(.)p Black 270
2218 a F0(\))p Black 20 w FV(F)j F0(\))11 b FV(G)18 b
F4(equals)c FP(tr)o(ue)g F4(i\013)f FV(F)20 b F4(equals)14
b FP(f)l(alse)h F4(or)f FV(G)k F4(equals)13 b FP(tr)o(ue)h
F4(\(or)g(b)q(oth\).)p Black 270 2301 a F0(\021)p Black
30 w FV(F)j F0(\021)12 b FV(G)18 b F4(equals)c FP(tr)o(ue)g
F4(i\013)f FV(F)20 b F4(and)13 b FV(G)18 b F4(b)q(oth)c(equal)f
FP(tr)o(ue)i F4(or)e(b)q(oth)h(equal)g FP(f)l(alse)q
F4(.)p Black 1957 2622 a(9)p Black eop
%%Page: 10 28
10 27 bop Black 208 275 a F4(10)927 b FR(CHAPTER)14 b(1.)31
b(A)14 b(LITTLE)g(SIMPLE)h(MA)m(TH)p 208 282 1770 2 v
Black 208 391 a F4(W)m(e)e(can)h(also)f(describ)q(e)j(these)f(op)q
(erators)f(b)o(y)g FV(truth)g(tables)p F4(.)k(This)c(truth)g(table)g
(giv)o(es)f(the)208 441 y(v)n(alue)g(of)g FV(F)k F0(\))11
b FV(G)18 b F4(for)13 b(all)g(four)h(com)o(binations)d(of)j(truth)g(v)n
(alues)g(of)f FV(F)20 b F4(and)13 b FV(G)t F4(:)p Black
Black 390 523 a FQ(F)126 b(G)83 b(F)17 b F0(\))11 b FQ(G)p
332 540 478 2 v 331 589 2 50 v 353 575 a FP(tr)o(ue)p
480 589 V 52 w(tr)o(ue)p 629 589 V 638 589 V 60 w(tr)o(ue)p
809 589 V 332 591 478 2 v 331 641 2 50 v 353 626 a(tr)o(ue)p
480 641 V 52 w(f)l(alse)p 629 641 V 638 641 V 51 w(f)l(alse)p
809 641 V 332 643 478 2 v 331 692 2 50 v 353 677 a(f)l(alse)p
480 692 V 43 w(tr)o(ue)p 629 692 V 638 692 V 60 w(tr)o(ue)p
809 692 V 332 694 478 2 v 331 744 2 50 v 353 729 a(f)l(alse)p
480 744 V 43 w(f)l(alse)p 629 744 V 638 744 V 51 w(tr)o(ue)p
809 744 V 332 746 478 2 v 208 811 a F4(The)17 b(form)o(ula)d
FV(F)22 b F0(\))16 b FV(G)k F4(asserts)f(that)e FV(F)22
b F4(implies)15 b FV(G)t F4(|that)h(is,)h FV(F)22 b F0(\))15
b FV(G)21 b F4(equals)c FP(tr)o(ue)208 860 y F4(i\013)i(the)i(statemen)
o(t)e(\\)p FV(F)26 b F4(implies)17 b FV(G)t F4(")j(is)g(true.)36
b(P)o(eople)21 b(often)e(\014nd)i(the)f(de\014nition)f(of)208
910 y F0(\))c F4(confusing.)23 b(They)17 b(don't)e(understand)i(wh)o(y)
f FP(f)l(alse)d F0(\))e FP(tr)o(ue)16 b F4(and)f FP(f)l(alse)e
F0(\))e FP(f)l(alse)208 960 y F4(should)k(equal)h FP(tr)o(ue)p
F4(.)24 b(The)16 b(explanation)e(is)i(simple.)22 b(W)m(e)16
b(exp)q(ect)h(that)f(if)f FV(n)k F4(is)d(greater)208
1010 y(than)10 b(3,)g(then)h(it)f(should)g(b)q(e)h(greater)g(than)f(1,)
h(so)f FV(n)15 b FQ(>)d F4(3)e(should)g(imply)e FV(n)15
b FQ(>)d F4(1.)k(Therefore,)208 1060 y(the)d(form)o(ula)k(\()p
FV(n)e FQ(>)d F4(3\))g F0(\))f F4(\()p FV(n)k FQ(>)d
F4(1\))19 b(should)13 b(equal)f FP(tr)o(ue)p F4(.)18
b(Substituting)13 b(4,)f(2,)g(and)h(0)f(for)208 1109
y FV(n)19 b F4(in)c(this)g(form)o(ula)e(explains)j(wh)o(y)f
FV(F)20 b F0(\))14 b FV(G)19 b F4(means)c FV(F)22 b(implies)16
b(G)j F4(or,)d(equiv)n(alen)o(tly)m(,)d FV(if)208 1159
y(F)20 b(then)15 b(G)t F4(.)270 1209 y(The)h(equiv)n(alence)g(op)q
(erator)g F0(\021)g F4(is)f(equalit)o(y)g(for)g(Bo)q(oleans.)24
b(W)m(e)15 b(can)h(replace)g F0(\021)g F4(b)o(y)208 1259
y(=,)e(but)h(not)f(vice)h(v)o(ersa.)21 b(\(W)m(e)14 b(can)h(write)g
FP(f)l(alse)f F4(=)f F0(:)p FP(tr)o(ue)p F4(,)i(but)f(not)h(2)9
b(+)h(2)j F0(\021)g F4(4.\))20 b(It's)208 1309 y(a)13
b(go)q(o)q(d)h(idea)g(to)f(write)i F0(\021)f F4(instead)g(of)g(=)g(to)g
(mak)o(e)e(it)i(clear)g(that)g(the)h(equal)e(expressions)208
1359 y(are)h(Bo)q(oleans.)451 1343 y FS(1)270 1408 y
F4(Just)19 b(lik)o(e)e(form)o(ulas)f(of)h(algebra,)h(form)o(ulas)e(of)i
(prop)q(ositional)e(logic)h(are)i(made)e(up)208 1458
y(of)k(v)n(alues,)h(op)q(erators,)i(and)e(iden)o(ti\014ers)g(lik)o(e)f
FV(x)26 b F4(that)c(stand)g(for)f(v)n(alues.)41 b(Ho)o(w)o(ev)o(er,)208
1508 y(prop)q(ositional-logic)14 b(form)o(ulas)h(use)j(only)e(the)i(t)o
(w)o(o)e(v)n(alues)h FP(tr)o(ue)g F4(and)g FP(f)l(alse)h
F4(and)f(the)208 1558 y(\014v)o(e)e(Bo)q(olean)g(op)q(erators)h
F0(^)p F4(,)e F0(_)p F4(,)h F0(:)p F4(,)f F0(\))p F4(,)h(and)g
F0(\021)p F4(.)21 b(In)16 b(algebraic)e(form)o(ulas,)f
F0(\003)i F4(has)g(higher)208 1608 y(precedence)e(\(binds)d(more)g
(tigh)o(tly\))f(than)h(+,)h(so)f FV(x)e F4(+)r FV(y)e
F0(\003)r FV(z)15 b F4(means)9 b FV(x)e F4(+)r(\()p FV(y)f
F0(\003)r FV(z)f F4(\).)18 b(Similarl)o(y)m(,)7 b F0(:)208
1657 y F4(has)12 b(higher)h(precedence)j(than)d F0(^)f
F4(and)g F0(_)p F4(,)h(whic)o(h)f(ha)o(v)o(e)h(higher)f(precedence)k
(than)d F0(\))f F4(and)208 1707 y F0(\021)p F4(,)f(so)g
F0(:)p FV(F)j F0(^)9 b FV(G)16 b F0(\))11 b FV(H)17 b
F4(means)10 b(\(\()p F0(:)p FV(F)c F4(\))j F0(^)g FV(G)t
F4(\))i F0(\))g FV(H)c F4(.)17 b(Other)12 b(mathematical)c(op)q
(erators)k(lik)o(e)208 1757 y(+)17 b(and)f FQ(>)i F4(ha)o(v)o(e)e
(higher)h(precedence)j(than)d(the)h(op)q(erators)g(of)e(prop)q
(ositional)g(logic,)g(so)208 1807 y FV(n)f FQ(>)c F4(0)h
F0(\))f FV(n)i F0(\000)c F4(1)i F0(\025)h F4(0)g(means)g(\()p
FV(n)j FQ(>)d F4(0\))f F0(\))g F4(\()p FV(n)i F0(\000)d
F4(1)h F0(\025)h F4(0\).)17 b(Redundan)o(t)12 b(paren)o(theses)j(can't)
208 1857 y(h)o(urt)h(and)g(often)g(mak)o(e)f(a)g(form)o(ula)f(easier)j
(to)f(read.)25 b(If)15 b(y)o(ou)h(ha)o(v)o(e)g(the)h(sligh)o(test)f
(doubt)208 1906 y(ab)q(out)d(whether)j(paren)o(theses)g(are)e(needed,)h
(use)g(them.)270 1956 y(The)f(op)q(erators)g F0(^)f F4(and)g
F0(_)g F4(are)g(asso)q(ciativ)o(e,)g(just)h(lik)o(e)e(+)i(and)f
F0(\003)p F4(.)k(Asso)q(ciativit)o(y)c(of)g(+)208 2006
y(means)h(that)i FV(x)f F4(+)c(\()p FV(y)j F4(+)c FV(z)5
b F4(\))16 b(equals)f(\()p FV(x)h F4(+)11 b FV(y)t F4(\))f(+)g
FV(z)5 b F4(,)16 b(so)f(w)o(e)h(can)f(write)h FV(x)g
F4(+)10 b FV(y)k F4(+)d FV(z)20 b F4(without)208 2056
y(paren)o(theses.)35 b(Similarly)l(,)17 b(asso)q(ciativit)o(y)h(of)g
F0(^)h F4(and)g F0(_)f F4(lets)i(us)f(write)g FV(F)f
F0(^)13 b FV(G)j F0(^)c FV(H)26 b F4(or)208 2106 y FV(F)10
b F0(_)5 b FV(G)k F0(_)c FV(H)i F4(.)17 b(Lik)o(e)12
b(+)g(and)f F0(\003)p F4(,)h(the)h(op)q(erators)f F0(^)g
F4(and)g F0(_)f F4(are)h(also)g(comm)o(utati)o(v)o(e,)d(so)j
FV(F)f F0(^)5 b FV(G)208 2156 y F4(is)13 b(equiv)n(alen)o(t)g(to)h
FV(G)f F0(^)c FV(F)d F4(,)13 b(and)h FV(F)h F0(_)9 b
FV(G)17 b F4(is)d(equiv)n(alen)o(t)f(to)h FV(G)f F0(_)c
FV(F)d F4(.)270 2205 y(The)19 b(truth)g(of)f(the)h(form)o(ula)d(\()p
FV(x)25 b F4(=)19 b(2\))h F0(\))e F4(\()p FV(x)g F4(+)13
b(1)19 b(=)h(3\))e(expresses)j(a)d(fact)h(ab)q(out)208
2255 y(n)o(um)o(b)q(ers.)h(T)m(o)15 b(determine)f(that)h(it's)g(true,)h
(w)o(e)f(ha)o(v)o(e)f(to)h(understand)h(some)e(elemen)o(tary)208
2305 y(prop)q(erties)g(of)f(arithmetic.)k(Ho)o(w)o(ev)o(er,)c(w)o(e)g
(can)h(tell)f(that)g(\()p FV(x)k F4(=)12 b(2\))f F0(\))g
F4(\()p FV(x)17 b F4(=)12 b(2\))c F0(_)g F4(\()p FV(y)15
b FQ(>)d F4(7\))208 2355 y(is)k(true)h(ev)o(en)g(if)e(w)o(e)i(kno)o(w)e
(nothing)h(ab)q(out)g(n)o(um)o(b)q(ers.)25 b(This)16
b(form)o(ula)e(is)i(true)h(b)q(ecause)208 2405 y FV(F)23
b F0(\))18 b FV(F)g F0(_)11 b FV(G)22 b F4(is)17 b(true,)j(regardless)f
(of)e(what)h(the)g(form)o(ulas)e FV(F)24 b F4(and)17
b FV(G)22 b F4(are.)30 b(In)18 b(other)p Black 208 2439
576 2 v 254 2466 a FK(1)271 2477 y FZ(Section)13 b(16.1.3)h(on)g(page)g
(296)g(explains)f(a)i(more)f(subtle)f(reason)h(for)g(using)g
FW(\021)i FZ(instead)d(of)i(=)h(for)208 2517 y(equalit)o(y)9
b(of)i(Bo)q(olean)f(v)n(alues.)p Black Black Black eop
%%Page: 11 29
11 28 bop Black 208 275 a FR(1.2.)30 b(SETS)1528 b F4(11)p
208 282 1770 2 v Black 208 391 a(w)o(ords,)16 b FV(F)k
F0(\))14 b FV(F)i F0(_)10 b FV(G)20 b F4(is)c(true)g(for)g(all)e(p)q
(ossible)i(truth)h(v)n(alues)e(of)g(its)h(iden)o(ti\014ers)h
FV(F)k F4(and)208 441 y FV(G)t F4(.)c(Suc)o(h)e(a)e(form)o(ula)f(is)h
(called)h(a)f FV(tautolo)n(gy)p F4(.)270 491 y(In)g(general,)g(a)g
(tautology)f(of)g(prop)q(ositional)g(logic)g(is)h(a)g(prop)q
(ositional-logic)d(form)o(ula)208 541 y(that)j(is)f(true)i(for)f(all)f
(p)q(ossible)h(truth)h(v)n(alues)e(of)h(its)g(iden)o(ti\014ers.)18
b(Simple)11 b(tautologies)i(lik)o(e)208 591 y(this)i(should)h(b)q(e)g
(as)f(ob)o(vious)g(as)h(simple)e(algebraic)h(prop)q(erties)i(of)e(n)o
(um)o(b)q(ers.)22 b(It)16 b(should)208 640 y(b)q(e)f(as)h(ob)o(vious)e
(that)i FV(F)j F0(\))14 b FV(F)i F0(_)9 b FV(G)19 b F4(is)d(a)f
(tautology)f(as)h(that)g FV(x)20 b F0(\024)14 b FV(x)h
F4(+)c FV(y)19 b F4(is)c(true)h(for)f(all)208 690 y(non-negativ)o(e)i
(n)o(um)o(b)q(ers)g FV(x)22 b F4(and)c FV(y)t F4(.)28
b(One)18 b(can)g(deriv)o(e)g(complicated)e(tautologies)h(from)208
740 y(simpler)12 b(ones)h(b)o(y)h(calculations,)e(just)h(as)h(one)f
(deriv)o(es)h(more)f(complicated)f(prop)q(erties)i(of)208
790 y(n)o(um)o(b)q(ers)i(from)f(simpler)g(ones.)27 b(Ho)o(w)o(ev)o(er,)
18 b(this)e(tak)o(es)h(practice.)28 b(Y)m(ou'v)o(e)16
b(sp)q(en)o(t)h(y)o(ears)208 840 y(learning)11 b(ho)o(w)h(to)g
(manipulate)e(n)o(um)o(b)q(er-v)n(alued)h(expressions|for)i(example,)d
(to)i(deduce)208 889 y(that)f FV(x)17 b F0(\024)11 b(\000)p
FV(x)f F4(+)t FV(y)15 b F4(holds)c(i\013)g(2)t F0(\003)t
FV(x)17 b F0(\024)11 b FV(y)k F4(do)q(es.)j(Y)m(ou)11
b(probably)g(ha)o(v)o(en't)f(learned)i(to)f(deduce)208
939 y(that)i F0(:)p FV(F)i F0(_)9 b FV(G)17 b F4(holds)d(i\013)g
FV(F)j F0(\))11 b FV(G)17 b F4(do)q(es.)270 989 y(If)g(y)o(ou)g(ha)o(v)
o(en't)h(learned)g(to)g(manipulate)d(Bo)q(olean-v)n(alued)i
(expressions,)j(y)o(ou)d(will)208 1039 y(ha)o(v)o(e)11
b(to)g(do)g(the)h(equiv)n(alen)o(t)f(of)g(coun)o(ting)g(on)g(y)o(our)g
(\014ngers.)18 b(Y)m(ou)11 b(can)g(c)o(hec)o(k)i(if)d(a)h(form)o(ula)
208 1089 y(is)f(a)g(tautology)f(b)o(y)h(calculating)g(whether)h(it)f
(equals)h FP(tr)o(ue)f F4(for)g(eac)o(h)h(p)q(ossible)g(assignmen)o(t)
208 1139 y(of)f(Bo)q(olean)g(v)n(alues)h(to)f(its)h(v)n(ariables.)16
b(This)11 b(is)f(b)q(est)i(done)f(b)o(y)g(constructing)g(a)g(truth)g
(table)208 1188 y(that)j(lists)g(the)h(p)q(ossible)g(assignmen)o(ts)f
(of)g(v)n(alues)g(to)g(v)n(ariables)g(and)g(the)h(corresp)q(onding)208
1238 y(v)n(alues)j(of)f(all)h(subform)o(ulas.)29 b(F)m(or)18
b(example,)g(here)i(is)e(the)h(truth)g(table)f(sho)o(wing)g(that)208
1288 y(\()p FV(F)f F0(\))11 b FV(G)t F4(\))g F0(\021)h
F4(\()p F0(:)p FV(F)j F0(_)9 b FV(G)t F4(\))k(is)h(a)g(tautology)m(.)p
Black Black 418 1371 a FQ(F)126 b(G)83 b(F)17 b F0(\))11
b FQ(G)41 b F0(:)p FQ(F)94 b F0(:)p FQ(F)14 b F0(_)9
b FQ(G)41 b F4(\()p FQ(F)17 b F0(\))12 b FQ(G)p F4(\))18
b F0(\021)g(:)p FQ(F)d F0(_)9 b FQ(G)p 360 1388 1219
2 v 359 1437 2 50 v 381 1422 a FP(tr)o(ue)p 508 1437
V 51 w(tr)o(ue)p 657 1437 V 666 1437 V 72 w(tr)o(ue)p
836 1437 V 63 w(f)l(alse)p 985 1437 V 59 w(tr)o(ue)p
1166 1437 V 199 w(tr)o(ue)p 1577 1437 V 360 1439 1219
2 v 359 1489 2 50 v 381 1474 a(tr)o(ue)p 508 1489 V 51
w(f)l(alse)p 657 1489 V 666 1489 V 63 w(f)l(alse)p 836
1489 V 54 w(f)l(alse)p 985 1489 V 59 w(f)l(alse)p 1166
1489 V 190 w(tr)o(ue)p 1577 1489 V 360 1491 1219 2 v
359 1540 2 50 v 381 1525 a(f)l(alse)p 508 1540 V 42 w(tr)o(ue)p
657 1540 V 666 1540 V 72 w(tr)o(ue)p 836 1540 V 63 w(tr)o(ue)p
985 1540 V 68 w(tr)o(ue)p 1166 1540 V 199 w(tr)o(ue)p
1577 1540 V 360 1542 1219 2 v 359 1592 2 50 v 381 1577
a(f)l(alse)p 508 1592 V 42 w(f)l(alse)p 657 1592 V 666
1592 V 63 w(tr)o(ue)p 836 1592 V 63 w(tr)o(ue)p 985 1592
V 68 w(tr)o(ue)p 1166 1592 V 199 w(tr)o(ue)p 1577 1592
V 360 1593 1219 2 v 208 1660 a F4(W)m(riting)16 b(truth)j(tables)g(is)f
(a)g(go)q(o)q(d)g(w)o(a)o(y)g(to)g(impro)o(v)o(e)e(y)o(our)i
(understanding)h(of)f(prop)q(o-)208 1709 y(sitional)f(logic.)32
b(Ho)o(w)o(ev)o(er,)20 b(computers)f(are)g(b)q(etter)i(than)e(p)q
(eople)g(at)f(doing)g(this)h(sort)208 1759 y(of)d(calculation.)25
b(Chapter)18 b(14)e(explains,)g(on)h(page)g(261,)f(ho)o(w)g(to)h(use)g
(the)h(TLC)e(mo)q(del)208 1809 y(c)o(hec)o(k)o(er)e(to)e(v)o(erify)g
(prop)q(ositional)g(logic)f(tautologies)h(and)h(to)f(p)q(erform)g
(other)h(TLA)1548 1794 y FS(+)1581 1809 y F4(cal-)208
1859 y(culations.)208 2017 y FN(1.2)81 b(Sets)208 2108
y F4(Set)15 b(theory)g(is)g(the)g(foundation)f(of)g(ordinary)g
(mathematics.)19 b(A)c(set)h(is)e(often)h(describ)q(ed)208
2158 y(as)f(a)h(collection)f(of)g(elemen)o(ts,)g(but)h(sa)o(ying)f
(that)h(a)f(set)i(is)f(a)f(collection)g(do)q(esn't)i(explain)208
2208 y(v)o(ery)h(m)o(uc)o(h.)27 b(The)18 b(concept)g(of)f(set)h(is)f
(so)h(fundamen)o(tal)d(that)i(w)o(e)g(don't)g(try)h(to)f(de\014ne)208
2258 y(it.)g(W)m(e)d(tak)o(e)g(as)f(unde\014ned)j(concepts)f(the)g
(notion)e(of)g(a)g(set)i(and)f(the)g(relation)g F0(2)p
F4(,)f(where)208 2307 y FV(x)23 b F0(2)17 b FV(S)23 b
F4(means)17 b(that)g FV(x)23 b F4(is)18 b(an)f(elemen)o(t)g(of)g
FV(S)5 b F4(.)29 b(W)m(e)18 b(often)f(sa)o(y)h FV(is)g(in)i
F4(instead)e(of)f FV(is)h(an)208 2357 y(element)c(of)p
F4(.)270 2407 y(A)f(set)h(can)g(ha)o(v)o(e)f(a)g(\014nite)g(or)h
(in\014nite)f(n)o(um)o(b)q(er)f(of)h(elemen)o(ts.)18
b(The)13 b(set)i(of)d(all)g(natural)208 2457 y(n)o(um)o(b)q(ers)f(\(0,)
h(1,)g(2,)f(etc.\))i(is)f(an)g(in\014nite)g(set.)18 b(The)13
b(set)g(of)e(all)g(natural)g(n)o(um)o(b)q(ers)h(less)h(than)p
Black Black eop
%%Page: 12 30
12 29 bop Black 208 275 a F4(12)927 b FR(CHAPTER)14 b(1.)31
b(A)14 b(LITTLE)g(SIMPLE)h(MA)m(TH)p 208 282 1770 2 v
Black 208 391 a F4(3)g(is)i(\014nite,)f(and)g(con)o(tains)g(the)h
(three)h(elemen)o(ts)e(0,)g(1,)g(and)g(2.)25 b(W)m(e)16
b(can)g(write)h(this)f(set)208 441 y F0(f)p F4(0)p FQ(;)7
b F4(1)p FQ(;)g F4(2)p F0(g)m F4(.)270 491 y(A)15 b(set)h(is)e
(completely)g(determined)h(b)o(y)g(its)f(elemen)o(ts.)21
b(Tw)o(o)15 b(sets)h(are)f(equal)g(i\013)f(they)208 541
y(ha)o(v)o(e)d(the)i(same)d(elemen)o(ts.)18 b(Th)o(us,)12
b F0(f)p F4(0)p FQ(;)7 b F4(1)p FQ(;)g F4(2)p F0(g)i
F4(and)j F0(f)p F4(2)p FQ(;)7 b F4(1)p FQ(;)g F4(0)p
F0(g)i F4(and)j F0(f)p F4(0)p FQ(;)7 b F4(0)p FQ(;)g
F4(1)p FQ(;)g F4(2)p FQ(;)f F4(2)p F0(g)j F4(are)j(all)e(the)208
591 y(same)j(set|the)h(unique)g(set)h(con)o(taining)e(the)h(three)h
(elemen)o(ts)f(0,)f(1,)g(and)h(2.)k(The)c(empt)o(y)208
640 y(set,)g(whic)o(h)g(w)o(e)g(write)g F0(fg)p F4(,)f(is)h(the)g
(unique)g(set)h(that)f(has)g(no)f(elemen)o(ts.)270 690
y(The)h(most)f(common)e(op)q(erations)j(on)g(sets)h(are)p
Black Black 332 768 a F0(\\)21 b F4(in)o(tersection)93
b F0([)29 b F4(union)94 b F0(\022)33 b F4(subset)91 b
F0(n)28 b F4(set)15 b(di\013erence)208 845 y(Here)g(are)f(their)g
(de\014nitions)g(and)g(examples)f(of)g(their)h(use.)p
Black 270 923 a FV(S)g F0(\\)9 b FV(T)p Black 35 w F4(The)15
b(set)g(of)e(elemen)o(ts)h(in)f(b)q(oth)h FV(S)19 b F4(and)14
b FV(T)6 b F4(.)451 973 y F0(f)p F4(1)p FQ(;)13 b F0(\000)p
F4(1)p FQ(=)p F4(2)p FQ(;)g F4(3)p F0(g)i(\\)h(f)p F4(1)p
FQ(;)d F4(2)p FQ(;)g F4(3)p FQ(;)g F4(5)p FQ(;)g F4(7)p
F0(g)18 b F4(=)h F0(f)p F4(1)p FQ(;)13 b F4(3)p F0(g)p
Black 270 1053 a FV(S)h F0([)9 b FV(T)p Black 35 w F4(The)15
b(set)g(of)e(elemen)o(ts)h(in)f FV(S)19 b F4(or)14 b
FV(T)19 b F4(\(or)14 b(b)q(oth\).)451 1103 y F0(f)p F4(1)p
FQ(;)f F0(\000)p F4(1)p FQ(=)p F4(2)p F0(g)i([)h(f)p
F4(1)p FQ(;)d F4(5)p FQ(;)g F4(7)p F0(g)18 b F4(=)h F0(f)p
F4(1)p FQ(;)13 b F0(\000)p F4(1)p FQ(=)p F4(2)p FQ(;)g
F4(5)p FQ(;)g F4(7)p F0(g)p Black 270 1183 a FV(S)k F0(\022)11
b FV(T)p Black 26 w F4(T)m(rue)k(i\013)e(ev)o(ery)i(elemen)o(t)e(of)g
FV(S)20 b F4(is)13 b(an)h(elemen)o(t)f(of)h FV(T)6 b
F4(.)451 1233 y F0(f)p F4(1)p FQ(;)13 b F4(3)p F0(g)18
b(\022)h(f)p F4(3)p FQ(;)12 b F4(2)p FQ(;)i F4(1)p F0(g)p
Black 270 1313 a FV(S)e F0(n)7 b FV(T)p Black 46 w F4(The)15
b(set)g(of)e(elemen)o(ts)h(in)f FV(S)19 b F4(that)14
b(are)g(not)g(in)g FV(T)6 b F4(.)451 1363 y F0(f)p F4(1)p
FQ(;)h F0(\000)p F4(1)p FQ(=)p F4(2)p FQ(;)g F4(3)p F0(g)k(n)j(f)p
F4(1)p FQ(;)7 b F4(5)p FQ(;)g F4(7)p F0(g)16 b F4(=)j
F0(f\000)p F4(1)p FQ(=)p F4(2)p FQ(;)7 b F4(3)p F0(g)208
1440 y F4(This)k(is)h(all)f(y)o(ou)g(need)i(to)f(kno)o(w)f(ab)q(out)h
(sets)h(b)q(efore)g(w)o(e)f(start)g(lo)q(oking)e(at)i(ho)o(w)g(to)f(sp)
q(ecify)208 1490 y(systems.)18 b(W)m(e'll)12 b(return)j(to)f(set)g
(theory)h(in)e(Section)i(6.1.)208 1647 y FN(1.3)81 b(Predicate)27
b(Logic)208 1738 y F4(Once)21 b(w)o(e)f(ha)o(v)o(e)f(sets,)j(it's)e
(natural)f(to)h(sa)o(y)g(that)f(some)g(form)o(ula)f(is)h(true)i(for)f
(all)e(the)208 1788 y(elemen)o(ts)d(of)f(a)h(set,)h(or)f(for)g(some)f
(of)g(the)i(elemen)o(ts)f(of)g(a)f(set.)23 b(Predicate)16
b(logic)e(extends)208 1838 y(prop)q(ositional)e(logic)h(with)h(the)g(t)
o(w)o(o)f(quan)o(ti\014ers)p Black Black 332 1915 a F0(8)30
b F4(univ)o(ersal)14 b(quan)o(ti\014cation)f(\(for)g(all\))332
1965 y F0(9)30 b F4(existen)o(tial)14 b(quan)o(ti\014cation)f(\(there)i
(exists\))208 2041 y(The)d(form)o(ula)d F0(8)e FV(x)17
b F0(2)11 b FV(S)i F4(:)8 b FV(F)17 b F4(asserts)d(that)d(form)o(ula)e
FV(F)18 b F4(is)11 b(true)i(for)e(ev)o(ery)i(elemen)o(t)e
FV(x)17 b F4(in)11 b(the)208 2090 y(set)j FV(S)5 b F4(.)18
b(F)m(or)c(example,)e F0(8)7 b FV(n)15 b F0(2)c FV(Nat)h
F4(:)c FV(n)k F4(+)e(1)h FQ(>)h FV(n)17 b F4(asserts)f(that)d(the)i
(form)o(ula)c FV(n)h F4(+)e(1)h FQ(>)h FV(n)17 b F4(is)208
2140 y(true)c(for)f(all)f(elemen)o(ts)h FV(n)k F4(of)c(the)h(set)g
FV(Nat)j F4(of)c(natural)g(n)o(um)o(b)q(ers.)17 b(This)12
b(form)o(ula)e(happ)q(ens)208 2190 y(to)j(b)q(e)i(true.)270
2240 y(The)h(form)o(ula)e F0(9)7 b FV(x)17 b F0(2)11
b FV(S)i F4(:)8 b FV(F)21 b F4(asserts)d(that)e(form)o(ula)e
FV(F)22 b F4(is)15 b(true)i(for)f(at)g(least)g(one)h(ele-)208
2290 y(men)o(t)11 b FV(x)19 b F4(in)12 b FV(S)5 b F4(.)18
b(F)m(or)12 b(example,)g F0(9)7 b FV(n)15 b F0(2)c FV(Nat)h
F4(:)7 b FV(n)931 2275 y FS(2)962 2290 y F4(=)12 b(2)g(asserts)j(that)e
(there)h(exists)g(a)e(natural)208 2340 y(n)o(um)o(b)q(er)h
FV(n)k F4(whose)e(square)f(equals)g(2.)k(This)c(form)o(ula)d(happ)q
(ens)k(to)e(b)q(e)i(false.)270 2389 y(F)m(orm)o(ula)10
b FV(F)18 b F4(is)13 b(true)h(for)e(some)g FV(x)18 b
F4(in)13 b FV(S)18 b F4(i\013)12 b FV(F)19 b F4(is)12
b(not)h(false)g(for)f(all)g FV(x)18 b F4(in)12 b FV(S)5
b F4(|that)13 b(is,)f(i\013)208 2439 y(it's)h(not)h(the)g(case)h(that)f
F0(:)p FV(F)19 b F4(is)14 b(true)h(for)e(all)g FV(x)19
b F4(in)13 b FV(S)5 b F4(.)19 b(Hence,)c(the)f(form)o(ula)p
Black Black 332 2517 a(\()p F0(9)7 b FV(x)17 b F0(2)11
b FV(S)j F4(:)7 b FV(F)f F4(\))35 b F0(\021)f(:)p F4(\()p
F0(8)7 b FV(x)17 b F0(2)11 b FV(S)j F4(:)7 b F0(:)p FV(F)f
F4(\))p Black -733 w(\(1.1\))p Black Black Black eop
%%Page: 13 31
13 30 bop Black 208 275 a FR(1.3.)30 b(PREDICA)m(TE)14
b(LOGIC)1232 b F4(13)p 208 282 1770 2 v Black 208 391
a(is)17 b(a)h(tautology)f(of)h(predicate)h(logic,)e(meaning)g(that)h
(it)g(is)f(true)i(for)f(all)f(v)n(alues)h(of)f(the)208
441 y(iden)o(ti\014ers)d FV(S)19 b F4(and)14 b FV(F)6
b F4(.)566 426 y FS(2)270 491 y F4(Since)18 b(there)g(exists)g(no)f
(elemen)o(t)g(in)f(the)i(empt)o(y)e(set,)j(the)e(form)o(ula)e
F0(9)7 b FV(x)17 b F0(2)11 b(fg)d F4(:)f FV(F)23 b F4(is)208
541 y(false)14 b(for)h(ev)o(ery)g(form)o(ula)e FV(F)6
b F4(.)20 b(By)15 b(\(1.1\),)f(this)h(implies)e(that)i
F0(8)7 b FV(x)17 b F0(2)11 b(fg)d F4(:)f FV(F)21 b F4(m)o(ust)14
b(b)q(e)h(true)208 591 y(for)e(ev)o(ery)i FV(F)6 b F4(.)270
640 y(The)16 b(quan)o(ti\014cation)f(in)h(the)g(form)o(ulas)e
F0(8)7 b FV(x)17 b F0(2)11 b FV(S)i F4(:)8 b FV(F)22
b F4(and)15 b F0(9)7 b FV(x)17 b F0(2)11 b FV(S)j F4(:)7
b FV(F)22 b F4(is)16 b(said)f(to)h(b)q(e)208 690 y FV(b)n(ounde)n(d)p
F4(,)e(since)h(these)h(form)o(ulas)c(mak)o(e)h(an)g(assertion)i(only)f
(ab)q(out)g(elemen)o(ts)g(in)f(the)i(set)208 740 y FV(S)5
b F4(.)22 b(There)16 b(is)f(also)f(un)o(b)q(ounded)i(quan)o
(ti\014cation.)21 b(The)15 b(form)o(ula)e F0(8)7 b FV(x)13
b F4(:)8 b FV(F)20 b F4(asserts)d(that)e FV(F)208 790
y F4(is)g(true)h(for)f(all)f(v)n(alues)h FV(x)5 b F4(,)15
b(and)g F0(9)7 b FV(x)14 b F4(:)7 b FV(F)21 b F4(asserts)c(that)e
FV(F)21 b F4(is)15 b(true)h(for)f(at)h(least)f(one)h(v)n(alue)208
840 y(of)d FV(x)5 b F4(|a)14 b(v)n(alue)g(that)g(is)h(not)f
(constrained)h(to)f(b)q(e)h(in)f(an)o(y)g(particular)g(set.)21
b(Bounded)15 b(and)208 889 y(un)o(b)q(ounded)f(quan)o(ti\014cation)f
(are)h(related)h(b)o(y)e(the)i(follo)o(wing)c(tautologies:)p
Black Black 332 971 a(\()p F0(8)c FV(x)17 b F0(2)11 b
FV(S)j F4(:)7 b FV(F)f F4(\))23 b F0(\021)g F4(\()p F0(8)7
b FV(x)14 b F4(:)7 b(\()p FV(x)17 b F0(2)12 b FV(S)5
b F4(\))12 b F0(\))f FV(F)5 b F4(\))332 1029 y(\()p F0(9)i
FV(x)17 b F0(2)11 b FV(S)j F4(:)7 b FV(F)f F4(\))23 b
F0(\021)g F4(\()p F0(9)7 b FV(x)14 b F4(:)7 b(\()p FV(x)17
b F0(2)12 b FV(S)5 b F4(\))k F0(^)g FV(F)d F4(\))208
1111 y(The)14 b(analog)e(of)i(\(1.1\))f(for)g(un)o(b)q(ounded)i(quan)o
(ti\014ers)f(is)g(also)f(a)h(tautology:)p Black Black
332 1193 a(\()p F0(9)7 b FV(x)14 b F4(:)7 b FV(F)f F4(\))34
b F0(\021)h(:)p F4(\()p F0(8)7 b FV(x)13 b F4(:)8 b F0(:)p
FV(F)e F4(\))208 1275 y(Whenev)o(er)16 b(p)q(ossible,)g(it)f(is)g(b)q
(etter)i(to)f(use)g(b)q(ounded)g(than)g(un)o(b)q(ounded)g(quan)o
(ti\014cation)208 1324 y(in)d(a)h(sp)q(eci\014cation.)k(This)c(mak)o
(es)f(the)h(sp)q(eci\014cation)h(easier)g(for)e(b)q(oth)h(p)q(eople)g
(and)g(to)q(ols)208 1374 y(to)f(understand.)270 1424
y(Univ)o(ersal)18 b(quan)o(ti\014cation)g(generalizes)h(conjunction.)32
b(If)19 b FV(S)24 b F4(is)18 b(a)g(\014nite)h(set,)h(then)208
1474 y F0(8)7 b FV(x)16 b F0(2)c FV(S)h F4(:)8 b FV(F)20
b F4(is)15 b(the)h(conjunction)f(of)f(the)i(form)o(ulas)d(obtained)i(b)
o(y)g(substituting)g(the)h(dif-)208 1524 y(feren)o(t)e(elemen)o(ts)g
(of)f FV(S)19 b F4(for)14 b FV(x)19 b F4(in)13 b FV(F)6
b F4(.)18 b(F)m(or)c(example,)p Black Black 332 1606
a(\()p F0(8)7 b FV(x)17 b F0(2)11 b(f)p F4(2)p FQ(;)c
F4(3)p FQ(;)g F4(7)p F0(g)16 b F4(:)i FV(x)f FQ(<)12
b FV(y)746 1588 y FJ(x)767 1606 y F4(\))35 b F0(\021)g
F4(\(2)11 b FQ(<)h FV(y)1001 1588 y FS(2)1019 1606 y
F4(\))e F0(^)f F4(\(3)i FQ(<)h FV(y)1198 1588 y FS(3)1216
1606 y F4(\))e F0(^)f F4(\(7)i FQ(<)h FV(y)1395 1588
y FS(7)1413 1606 y F4(\))208 1687 y(W)m(e)k(sometimes)g(informally)e
(talk)j(ab)q(out)g(the)h(conjunction)f(of)g(an)g(in\014nite)g(n)o(um)o
(b)q(er)f(of)208 1737 y(form)o(ulas)10 b(when)i(w)o(e)h(formally)c
(mean)i(a)h(univ)o(ersally)g(quan)o(ti\014ed)g(form)o(ula.)j(F)m(or)d
(example,)208 1787 y(the)h(conjunction)h(of)e(the)i(form)o(ulas)d
FV(x)17 b F0(\024)12 b FV(y)892 1772 y FJ(x)926 1787
y F4(for)h(all)f(natural)h(n)o(um)o(b)q(ers)g FV(x)18
b F4(is)c(the)f(form)o(ula)208 1837 y F0(8)7 b FV(x)16
b F0(2)c FV(Nat)22 b F4(:)c FV(x)f F0(\024)11 b FV(y)534
1822 y FJ(x)556 1837 y F4(.)17 b(Similarly)l(,)10 b(existen)o(tial)i
(quan)o(ti\014cation)g(generalizes)i(disjunction.)270
1887 y(Logicians)d(ha)o(v)o(e)g(rules)i(for)e(pro)o(ving)g
(predicate-logic)h(tautologies)f(suc)o(h)i(as)f(\(1.1\),)f(but)208
1936 y(y)o(ou)16 b(shouldn't)g(need)i(them.)26 b(Y)m(ou)17
b(should)f(b)q(ecome)h(famili)o(ar)d(enough)j(with)g(predicate)208
1986 y(logic)d(that)h(simple)f(tautologies)h(are)g(ob)o(vious.)22
b(Thinking)14 b(of)h F0(8)22 b F4(as)15 b(conjunction)h(and)f
F0(9)208 2036 y F4(as)i(disjunction)g(can)g(help.)28
b(F)m(or)17 b(example,)f(the)i(asso)q(ciativit)o(y)e(and)h(comm)o
(utativi)o(t)o(y)d(of)208 2086 y(conjunction)f(and)h(disjunction)g
(lead)f(to)h(the)h(tautologies)p Black Black 332 2168
a(\()p F0(8)7 b FV(x)17 b F0(2)11 b FV(S)24 b F4(:)18
b FV(F)6 b F4(\))16 b F0(^)g F4(\()p F0(8)7 b FV(x)17
b F0(2)11 b FV(S)24 b F4(:)18 b FV(G)t F4(\))g F0(\021)h
F4(\()p F0(8)7 b FV(x)16 b F0(2)c FV(S)23 b F4(:)18 b
FV(F)d F0(^)9 b FV(G)t F4(\))332 2225 y(\()p F0(9)e FV(x)17
b F0(2)11 b FV(S)24 b F4(:)18 b FV(F)6 b F4(\))16 b F0(_)g
F4(\()p F0(9)7 b FV(x)17 b F0(2)11 b FV(S)24 b F4(:)18
b FV(G)t F4(\))g F0(\021)h F4(\()p F0(9)7 b FV(x)16 b
F0(2)c FV(S)23 b F4(:)18 b FV(F)d F0(_)9 b FV(G)t F4(\))208
2305 y(for)k(an)o(y)g(set)i FV(S)k F4(and)14 b(form)o(ulas)e
FV(F)19 b F4(and)14 b FV(G)t F4(.)270 2355 y(Mathematicians)g(use)i
(some)f(ob)o(vious)g(abbreviations)g(for)g(nested)i(quan)o(ti\014ers.)
23 b(F)m(or)208 2405 y(example,)p Black 208 2439 576
2 v 254 2466 a FK(2)271 2477 y FZ(Strictly)7 b(sp)q(eaking,)g
FW(2)h FZ(isn't)g(an)g(op)q(erator)f(of)h(predicate)e(logic,)i(so)h
(this)f(isn't)f(really)h(a)g(predicate-log)o(ic)208 2517
y(tautology)m(.)p Black Black Black eop
%%Page: 14 32
14 31 bop Black 208 275 a F4(14)927 b FR(CHAPTER)14 b(1.)31
b(A)14 b(LITTLE)g(SIMPLE)h(MA)m(TH)p 208 282 1770 2 v
Black Black Black 332 385 a F0(8)7 b FV(x)17 b F0(2)11
b FV(S)5 b FQ(;)i FV(y)15 b F0(2)c FV(T)j F4(:)7 b FV(F)39
b F4(means)27 b F0(8)7 b FV(x)16 b F0(2)c FV(S)h F4(:)7
b(\()p F0(8)g FV(y)16 b F0(2)11 b FV(T)i F4(:)8 b FV(F)e
F4(\))332 434 y F0(9)h FV(w)t FQ(;)g FV(x)e FQ(;)i FV(y)t
FQ(;)g FV(z)15 b F0(2)c FV(S)j F4(:)7 b FV(F)34 b F4(means)27
b F0(9)7 b FV(w)15 b F0(2)c FV(S)j F4(:)7 b(\()p F0(9)g
FV(x)17 b F0(2)11 b FV(S)j F4(:)7 b(\()p F0(9)g FV(y)16
b F0(2)11 b FV(S)i F4(:)8 b(\()p F0(9)f FV(z)17 b F0(2)11
b FV(S)i F4(:)8 b FV(F)e F4(\)\)\))270 504 y(In)17 b(the)i(expression)f
F0(9)7 b FV(x)17 b F0(2)11 b FV(S)j F4(:)7 b FV(F)f F4(,)18
b(logicians)e(sa)o(y)h(that)h FV(x)23 b F4(is)17 b(a)h
FV(b)n(ound)h(variable)h F4(and)208 554 y(that)13 b(o)q(ccurrences)j
(of)c FV(x)18 b F4(in)13 b FV(F)18 b F4(are)13 b FV(b)n(ound)p
F4(.)19 b(F)m(or)13 b(example,)e FV(n)16 b F4(is)d(a)g(b)q(ound)g(v)n
(ariable)f(in)g(the)208 603 y(form)o(ula)7 b F0(9)g FV(n)15
b F0(2)d FV(Nat)f F4(:)d FV(n)13 b F4(+)c(1)j FQ(>)f
FV(n)t F4(,)f(and)h(the)f(t)o(w)o(o)g(o)q(ccurrences)k(of)9
b FV(n)14 b F4(in)c(the)h(sub)q(expression)208 653 y
FV(n)k F4(+)d(1)18 b FQ(>)g FV(n)j F4(are)e(b)q(ound.)29
b(A)18 b(v)n(ariable)f FV(x)23 b F4(that's)18 b(not)g(b)q(ound)f(is)h
(said)g(to)f(b)q(e)i FV(fr)n(e)n(e)p F4(,)e(and)208 703
y(o)q(ccurrences)12 b(of)d FV(x)15 b F4(that)10 b(are)g(not)f(b)q(ound)
h(are)g(called)f FV(fr)n(e)n(e)j F4(o)q(ccurrences.)20
b(This)9 b(terminology)208 753 y(is)i(rather)i(misleading.)i(A)d(b)q
(ound)f(v)n(ariable)g(do)q(esn't)h(really)f(o)q(ccur)i(in)f(a)f(form)o
(ula)e(b)q(ecause)208 803 y(replacing)i(it)h(b)o(y)f(some)g(new)h(v)n
(ariable)f(do)q(esn't)h(c)o(hange)g(the)h(form)o(ula.)i(The)d(t)o(w)o
(o)f(form)o(ulas)p Black Black 332 874 a F0(9)c FV(n)15
b F0(2)c FV(Nat)h F4(:)c FV(n)13 b F4(+)c(1)i FQ(>)h
FV(n)128 b F0(9)7 b FV(x)17 b F0(2)11 b FV(Nat)h F4(:)c
FV(x)14 b F4(+)c(1)h FQ(>)h FV(x)208 945 y F4(are)j(equiv)n(alen)o(t.)
20 b(Calling)13 b FV(n)18 b F4(a)d(v)n(ariable)f(of)g(the)i(\014rst)f
(form)o(ula)e(is)h(a)h(bit)f(lik)o(e)g(calling)g FV(a)k
F4(a)208 995 y(v)n(ariable)12 b(of)h(that)g(form)o(ula)e(b)q(ecause)k
(it)e(app)q(ears)h(in)f(the)h(name)e FV(Nat)t F4(.)18
b(Nev)o(ertheless,)d(it)e(is)208 1045 y(con)o(v)o(enien)o(t)h(to)g
(talk)f(ab)q(out)g(an)h(o)q(ccurrence)j(of)c(a)h(b)q(ound)g(v)n
(ariable)e(in)i(a)f(form)o(ula.)208 1201 y FN(1.4)81
b(F)-7 b(orm)n(ulas)27 b(and)g(Language)208 1291 y F4(When)17
b(y)o(ou)g(\014rst)h(studied)g(mathematics,)d(form)o(ulas)g(w)o(ere)j
(statemen)o(ts.)29 b(The)17 b(form)o(ula)208 1341 y(2)7
b F0(\003)g FV(x)17 b FQ(>)12 b FV(x)18 b F4(w)o(as)13
b(just)h(a)f(compact)f(w)o(a)o(y)g(of)h(writing)f(the)i(statemen)o(t)f
(\\2)f(times)h FV(x)18 b F4(is)13 b(greater)208 1391
y(than)g FV(x)5 b F4(.")18 b(In)c(this)g(b)q(o)q(ok,)f(y)o(ou)h(are)g
(en)o(tering)g(the)h(realm)d(of)h(logic,)g(where)i(a)e(form)o(ula)e(is)
j(a)208 1441 y(noun.)j(The)12 b(form)o(ula)d(2)c F0(\003)g
FV(x)16 b FQ(>)c FV(x)17 b F4(is)11 b(just)h(a)g(form)o(ula;)d(it)i(ma)
o(y)f(b)q(e)j(true)f(or)g(false,)f(dep)q(ending)208 1491
y(on)j(the)i(v)n(alue)e(of)h FV(x)5 b F4(.)22 b(If)14
b(w)o(e)h(w)o(an)o(t)g(to)g(assert)h(that)f(this)h(form)o(ula)c(is)j
(true,)h(meaning)d(that)208 1541 y(2)c F0(\003)g FV(x)19
b F4(really)13 b(is)h(greater)h(than)e FV(x)5 b F4(,)14
b(w)o(e)g(should)g(explicitly)f(write)h(\\2)9 b F0(\003)g
FV(x)16 b FQ(>)c FV(x)19 b F4(is)14 b(true.")270 1590
y(Using)20 b(a)h(form)o(ula)d(in)i(place)h(of)f(a)h(statemen)o(t)f(can)
h(lead)g(to)f(confusion.)38 b(On)21 b(the)208 1640 y(other)14
b(hand,)f(form)o(ulas)e(are)j(more)f(compact)g(and)g(easier)i(to)e
(read)h(than)g(prose.)19 b(Reading)208 1690 y(2)6 b F0(\003)h
FV(x)17 b FQ(>)12 b FV(x)18 b F4(is)13 b(easier)g(than)g(reading)g(\\2)
7 b F0(\003)f FV(x)19 b F4(is)12 b(greater)i(than)f FV(x)5
b F4(";)13 b(and)f(\\2)7 b F0(\003)g FV(x)17 b FQ(>)11
b FV(x)19 b F4(is)12 b(true")208 1740 y(ma)o(y)e(seem)i(redundan)o(t.)
19 b(So,)12 b(lik)o(e)g(most)f(mathematicians,)e(I)k(will)e(often)h
(write)h(sen)o(tences)208 1790 y(lik)o(e)p Black Black
332 1861 a(W)m(e)h(kno)o(w)f(that)h FV(x)19 b F4(is)14
b(p)q(ositiv)o(e,)f(so)h(2)9 b F0(\003)g FV(x)17 b FQ(>)11
b FV(x)5 b F4(.)208 1932 y(If)18 b(it's)h(not)g(ob)o(vious)f(whether)i
(a)f(form)o(ula)d(is)j(really)f(a)h(form)o(ula)e(or)i(is)f(the)i
(statemen)o(t)208 1982 y(that)c(the)g(form)o(ula)e(is)i(true,)g(here's)
i(an)d(easy)i(w)o(a)o(y)e(to)h(tell.)24 b(Replace)16
b(the)h(form)o(ula)c(with)208 2032 y(a)j(name)g(and)h(read)g(the)h(sen)
o(tence.)29 b(If)16 b(the)i(sen)o(tence)h(is)e(grammati)o(cally)c
(correct,)19 b(ev)o(en)208 2081 y(though)c(nonsensical,)h(then)g(the)g
(form)o(ula)d(is)i(a)g(form)o(ula;)f(otherwise,)i(it's)f(a)g(statemen)o
(t.)208 2131 y(The)f(form)o(ula)d(2)e F0(\003)g FV(x)17
b FQ(>)12 b FV(x)19 b F4(in)13 b(the)i(sen)o(tence)h(ab)q(o)o(v)o(e)e
(is)f(a)h(statemen)o(t)g(b)q(ecause)p Black Black 332
2202 a(W)m(e)g(kno)o(w)f(that)h FV(x)19 b F4(is)14 b(p)q(ositiv)o(e,)f
(so)h(Mary)m(.)208 2274 y(is)f(ungrammatical.)i(It)e(is)h(a)g(form)o
(ula)d(in)j(the)g(sen)o(tence)p Black Black 332 2345
a(T)m(o)f(pro)o(v)o(e)h(2)9 b F0(\003)g FV(x)17 b FQ(>)12
b FV(x)5 b F4(,)13 b(w)o(e)h(m)o(ust)f(pro)o(v)o(e)h(that)g
FV(x)19 b F4(is)14 b(p)q(ositiv)o(e.)208 2416 y(b)q(ecause)h(the)g
(follo)o(wing)c(silly)i(sen)o(tence)j(is)d(grammaticall)o(y)e(correct:)
p Black Black 332 2487 a(T)m(o)i(pro)o(v)o(e)h(F)m(red,)g(w)o(e)g(m)o
(ust)f(pro)o(v)o(e)h(that)g FV(x)19 b F4(is)14 b(p)q(ositiv)o(e.)p
Black Black eop
%%Page: 15 33
15 32 bop Black Black 208 703 a FL(Chapter)31 b(2)208
910 y F5(Sp)s(ecifying)37 b(a)i(Simple)f(Clo)s(c)m(k)208
1168 y FN(2.1)81 b(Beha)n(viors)208 1259 y F4(Before)11
b(w)o(e)g(try)g(to)f(sp)q(ecify)h(a)g(system,)f(let's)h(lo)q(ok)e(at)i
(ho)o(w)f(scien)o(tists)i(do)e(it.)17 b(F)m(or)10 b(cen)o(turies,)208
1308 y(they)g(ha)o(v)o(e)g(describ)q(ed)i(a)e(system)g(with)g
(equations)g(that)h(determine)f(ho)o(w)g(its)g(state)h(ev)o(olv)o(es)
208 1358 y(with)j(time,)e(where)k(the)f(state)g(consists)g(of)f(the)h
(v)n(alues)f(of)g(v)n(ariables.)19 b(F)m(or)14 b(example,)e(the)208
1408 y(state)k(of)f(the)h(system)f(comprising)f(the)i(earth)g(and)f
(the)i(mo)q(on)c(migh)o(t)h(b)q(e)i(describ)q(ed)h(b)o(y)208
1458 y(the)c(v)n(alues)f(of)g(the)h(four)f(v)n(ariables)g
FV(e)p 797 1458 13 2 v 18 w(p)n(os)s F4(,)h FV(m)p 934
1458 V 19 w(p)n(os)s F4(,)g FV(e)p 1057 1458 V 18 w(vel)t
F4(,)f(and)h FV(m)p 1266 1458 V 18 w(vel)t F4(,)f(represen)o(ting)i
(the)208 1508 y(p)q(ositions)j(and)h(v)o(elo)q(cities)g(of)f(the)i(t)o
(w)o(o)e(b)q(o)q(dies.)31 b(These)19 b(v)n(alues)f(are)g(elemen)o(ts)g
(in)g(a)f(3-)208 1557 y(dimensional)9 b(space.)18 b(The)12
b(earth-mo)q(on)f(system)g(is)h(describ)q(ed)i(b)o(y)d(equations)h
(expressing)208 1607 y(the)f(v)n(ariables')g(v)n(alues)g(as)g
(functions)g(of)g(time)f(and)h(of)g(certain)h(constan)o(ts|namely)m(,)d
(their)208 1657 y(masses)k(and)h(initial)e(p)q(ositions)i(and)f(v)o
(elo)q(cities.)270 1707 y(A)19 b(b)q(eha)o(vior)f(of)h(the)g(earth-mo)q
(on)f(system)g(consists)i(of)f(a)f(function)h FV(F)24
b F4(from)17 b(time)208 1757 y(to)i(states,)j FV(F)6
b F4(\()p FV(t)t F4(\))19 b(represen)o(ting)j(the)e(state)g(of)g(the)g
(system)f(at)h(time)e FV(t)t F4(.)35 b(A)20 b(computer)208
1806 y(system)9 b(di\013ers)i(from)d(the)j(systems)f(traditionally)e
(studied)j(b)o(y)e(scien)o(tists)j(b)q(ecause)f(w)o(e)g(can)208
1856 y(pretend)k(that)g(its)g(state)g(c)o(hanges)g(in)f(discrete)i
(steps.)22 b(So,)13 b(w)o(e)i(represen)o(t)i(the)e(execution)208
1906 y(of)j(a)g(system)h(as)g(a)g(sequence)i(of)d(states.)34
b(F)m(ormally)l(,)17 b(w)o(e)i(de\014ne)h(a)f FV(b)n(ehavior)k
F4(to)c(b)q(e)g(a)208 1956 y(sequence)g(of)e(states,)i(where)f(a)f
(state)h(is)f(an)h(assignmen)o(t)e(of)g(v)n(alues)h(to)h(v)n(ariables.)
27 b(W)m(e)208 2006 y(sp)q(ecify)12 b(a)f(system)h(b)o(y)g(sp)q
(ecifying)f(a)h(set)h(of)e(p)q(ossible)h(b)q(eha)o(viors|the)g(ones)g
(represen)o(ting)208 2056 y(a)h(correct)j(execution)e(of)g(the)g
(system.)208 2214 y FN(2.2)81 b(An)27 b(Hour)g(Clo)r(c)n(k)208
2305 y F4(Let's)19 b(start)h(with)f(a)f(v)o(ery)i(trivial)e(system|a)g
(digital)f(clo)q(c)o(k)i(that)g(displa)o(ys)g(only)f(the)208
2355 y(hour.)f(T)m(o)11 b(mak)o(e)f(the)i(system)g(completely)e
(trivial,)g(w)o(e)i(ignore)g(the)g(relation)f(b)q(et)o(w)o(een)i(the)
208 2404 y(displa)o(y)f(and)h(the)h(actual)g(time.)i(The)e(hour)g(clo)q
(c)o(k)f(is)g(then)i(just)e(a)h(device)g(whose)g(displa)o(y)208
2454 y(cycles)f(through)f(the)g(v)n(alues)g(1)f(through)h(12.)17
b(Let)c(the)f(v)n(ariable)f FV(hr)16 b F4(represen)o(t)e(the)f(clo)q(c)
o(k's)p Black 1936 2622 a(15)p Black eop
%%Page: 16 34
16 33 bop Black 208 275 a F4(16)797 b FR(CHAPTER)14 b(2.)31
b(SPECIFYING)15 b(A)f(SIMPLE)g(CLOCK)p 208 282 1770 2
v Black 208 391 a F4(displa)o(y)m(.)i(A)e(t)o(ypical)f(b)q(eha)o(vior)h
(of)f(the)i(clo)q(c)o(k)e(is)h(the)h(sequence)p Black
Black 332 474 a([)p FV(hr)g F4(=)d(11])22 b F0(!)h F4([)p
FV(hr)15 b F4(=)d(12])22 b F0(!)h F4([)p FV(hr)15 b F4(=)d(1])22
b F0(!)h F4([)p FV(hr)15 b F4(=)d(2])22 b F0(!)h(\001)7
b(\001)g(\001)p Black -1136 w F4(\(2.1\))p Black 208
557 a(of)14 b(states,)j(where)g([)p FV(hr)g F4(=)e(11])f(is)i(a)f
(state)h(in)f(whic)o(h)g(the)h(v)n(ariable)f FV(hr)k
F4(has)d(the)g(v)n(alue)f(11.)208 607 y(A)f(pair)f(of)g(successiv)o(e)j
(states,)f(suc)o(h)g(as)f([)p FV(hr)h F4(=)d(1])e F0(!)h
F4([)p FV(hr)16 b F4(=)c(2],)g(is)i(called)g(a)f FV(step)p
F4(.)270 657 y(T)m(o)e(sp)q(ecify)h(the)h(hour)f(clo)q(c)o(k,)g(w)o(e)g
(describ)q(e)h(all)e(its)h(p)q(ossible)g(b)q(eha)o(viors.)17
b(W)m(e)12 b(write)g(an)208 707 y FV(initial)j(pr)n(e)n(dic)n(ate)i
F4(that)e(sp)q(eci\014es)i(the)e(p)q(ossible)h(initial)d(v)n(alues)h
(of)g FV(hr)t F4(,)h(and)g(a)g FV(next-state)208 757
y(r)n(elation)h F4(that)e(sp)q(eci\014es)i(ho)o(w)d(the)i(v)n(alue)e
(of)g FV(hr)18 b F4(can)c(c)o(hange)g(in)g(an)o(y)f(step.)270
806 y(W)m(e)h(don't)h(w)o(an)o(t)f(to)h(sp)q(ecify)g(exactly)g(what)g
(the)g(displa)o(y)f(reads)i(initially;)c(an)o(y)j(hour)208
856 y(will)e(do.)22 b(So,)15 b(w)o(e)h(w)o(an)o(t)e(the)i(initial)e
(predicate)i(to)f(assert)i(that)e FV(hr)k F4(can)d(ha)o(v)o(e)f(an)o(y)
g(v)n(alue)208 906 y(from)d(1)i(through)h(12.)k(Let's)c(call)f(the)h
(initial)d(predicate)k FV(HCini)t F4(.)j(W)m(e)14 b(migh)o(t)e
(informally)208 956 y(de\014ne)i FV(HCini)k F4(b)o(y)p
.95 TeXcolorgray .95 TeXcolorgray 1679 1050 307 142 v
.95 TeXcolorgray Black Black 1188 w FZ(The)12 b(sym)o(b)q(ol)1883
935 y FI(\001)1881 956 y FZ(=)1687 995 y(means)e FY(is)i(de\014ne)n(d)
1687 1035 y(to)g(e)n(qual)p FZ(.)p Black .95 TeXcolorgray
Black Black Black 332 1043 a FV(HCini)485 1020 y FI(\001)480
1043 y F4(=)35 b FV(hr)16 b F0(2)11 b(f)p F4(1)p FQ(;)i(:)7
b(:)g(:)12 b(;)i F4(12)p F0(g)208 1126 y F4(Later,)k(w)o(e'll)f(see)h
(ho)o(w)g(to)f(write)h(this)g(de\014nition)f(formally)m(,)e(without)i
(the)h(\\.)6 b(.)h(.)f(")30 b(that)208 1176 y(stands)14
b(for)g(the)g(informal)d FV(and)16 b(so)f(on)p F4(.)270
1226 y(The)g(next-state)h(relation)e FV(HCnxt)19 b F4(is)c(a)f(form)o
(ula)f(expressing)j(the)f(relation)f(b)q(et)o(w)o(een)208
1276 y(the)j(v)n(alues)g(of)f FV(hr)21 b F4(in)16 b(the)h(old)g
(\(\014rst\))g(state)h(and)f(new)g(\(second\))h(state)g(of)e(a)g(step.)
28 b(W)m(e)208 1325 y(let)16 b FV(hr)21 b F4(represen)o(t)d(the)f(v)n
(alue)f(of)g FV(hr)k F4(in)c(the)h(old)f(state)h(and)f
FV(hr)1231 1310 y FH(0)1259 1325 y F4(represen)o(t)j(its)e(v)n(alue)e
(in)208 1375 y(the)f(new)h(state.)20 b(\(The)586 1360
y FH(0)611 1375 y F4(in)14 b FV(hr)703 1360 y FH(0)729
1375 y F4(is)g(read)h FV(prime)p F4(.\))k(W)m(e)13 b(w)o(an)o(t)h(the)h
(next-state)g(relation)f(to)208 1425 y(assert)k(that)f
FV(hr)465 1410 y FH(0)493 1425 y F4(equals)g FV(hr)f
F4(+)11 b(1)17 b(except)h(if)e FV(hr)22 b F4(equals)16
b(12,)h(in)g(whic)o(h)f(case)i FV(hr)1499 1410 y FH(0)1528
1425 y F4(should)208 1475 y(equal)d(1.)25 b(Using)15
b(an)h FP(if)p F4(/)p FP(then)p F4(/)p FP(else)h F4(construct)g(with)f
(the)h(ob)o(vious)e(meaning,)f(w)o(e)j(can)208 1525 y(de\014ne)d
FV(HCnxt)k F4(to)c(b)q(e)g(the)h(next-state)g(relation)e(b)o(y)h
(writing)p Black Black 332 1612 a FV(HCnxt)492 1588 y
FI(\001)488 1612 y F4(=)34 b FV(hr)597 1595 y FH(0)628
1612 y F4(=)18 b FP(if)24 b FV(hr)15 b F0(6)p F4(=)d(12)21
b FP(then)j FV(hr)13 b F4(+)d(1)23 b FP(else)h F4(1)208
1695 y FV(HCnxt)18 b F4(is)d(an)f(ordinary)h(mathematical)c(form)o
(ula,)h(except)k(that)f(it)f(con)o(tains)h(primed)f(as)208
1745 y(w)o(ell)d(as)h(unprimed)e(v)n(ariables.)17 b(Suc)o(h)12
b(a)g(form)o(ula)d(is)j(called)g(an)f FV(action)p F4(.)18
b(An)12 b(action)f(is)h(true)208 1794 y(or)f(false)h(of)f(a)g(step.)19
b(A)11 b(step)i(that)f(satis\014es)h(the)f(action)g FV(HCnxt)j
F4(is)d(called)f(an)h FV(HCnxt)j(step)p F4(.)270 1844
y(When)21 b(an)f FV(HCnxt)k F4(step)e(o)q(ccurs,)h(w)o(e)d(sometimes)f
(sa)o(y)h(that)h FV(HCnxt)j F4(is)d FV(exe)n(cute)n(d)p
F4(.)208 1894 y(Ho)o(w)o(ev)o(er,)13 b(it)h(w)o(ould)f(b)q(e)h(a)g
(mistak)o(e)e(to)i(tak)o(e)g(this)f(terminology)f(seriously)m(.)18
b(An)c(action)f(is)208 1944 y(a)g(form)o(ula,)e(and)j(form)o(ulas)d
(aren't)j(executed.)270 1994 y(W)m(e)i(w)o(an)o(t)h(our)f(sp)q
(eci\014cation)i(to)f(b)q(e)g(a)f(single)h(form)o(ula,)d(not)j(the)h
(pair)e(of)g(form)o(ulas)208 2044 y FV(HCini)f F4(and)d
FV(HCnxt)t F4(.)17 b(This)12 b(form)o(ula)d(m)o(ust)i(assert)j(ab)q
(out)e(a)f(b)q(eha)o(vior)h(that)g(\(i\))g(its)g(initial)208
2093 y(state)h(satis\014es)g FV(HCini)t F4(,)e(and)h(\(ii\))g(eac)o(h)g
(of)g(its)g(steps)i(satis\014es)f FV(HCnxt)t F4(.)k(W)m(e)12
b(express)i(\(i\))e(as)208 2143 y(the)h(form)o(ula)e
FV(HCini)t F4(,)i(whic)o(h)g(w)o(e)g(in)o(terpret)i(as)e(a)g(statemen)o
(t)g(ab)q(out)h(b)q(eha)o(viors)f(to)g(mean)208 2193
y(that)h(the)h(initial)e(state)i(satis\014es)g FV(HCini)t
F4(.)20 b(T)m(o)13 b(express)k(\(ii\),)c(w)o(e)i(use)g(the)g(temp)q
(oral-logic)208 2243 y(op)q(erator)h FG(2)g F4(\(pronounced)h
FV(b)n(ox)5 b F4(\).)24 b(The)16 b(temp)q(oral)e(form)o(ula)g
FG(2)p FV(F)21 b F4(asserts)d(that)d(form)o(ula)208 2293
y FV(F)23 b F4(is)18 b(alw)o(a)o(ys)f(true.)32 b(In)18
b(particular,)h FG(2)p FV(HCnxt)j F4(is)c(the)h(assertion)g(that)f
FV(HCnxt)k F4(is)c(true)208 2342 y(for)e(ev)o(ery)h(step)h(in)e(the)i
(b)q(eha)o(vior.)26 b(So,)16 b FV(HCini)22 b F0(^)c FG(2)p
FV(HCnxt)i F4(is)d(true)g(of)f(a)h(b)q(eha)o(vior)f(i\013)208
2392 y(the)i(initial)e(state)i(satis\014es)h FV(HCini)i
F4(and)d(ev)o(ery)g(step)h(satis\014es)g FV(HCnxt)t F4(.)29
b(This)17 b(form)o(ula)208 2442 y(describ)q(es)j(all)e(b)q(eha)o(viors)
h(lik)o(e)f(the)h(one)g(in)f(\(2.1\))g(on)h(this)f(page;)j(it)d(seems)h
(to)g(b)q(e)g(the)208 2492 y(sp)q(eci\014cation)14 b(w)o(e're)h(lo)q
(oking)d(for.)p Black Black eop
%%Page: 17 35
17 34 bop Black 208 275 a FR(2.2.)30 b(AN)15 b(HOUR)e(CLOCK)1267
b F4(17)p 208 282 1770 2 v Black 270 391 a(If)17 b(w)o(e)h(considered)h
(the)f(clo)q(c)o(k)g(only)f(in)g(isolation)f(and)h(nev)o(er)i(tried)f
(to)g(relate)g(it)f(to)208 441 y(another)f(system,)f(then)i(this)f(w)o
(ould)f(b)q(e)h(a)f(\014ne)i(sp)q(eci\014cation.)24 b(Ho)o(w)o(ev)o
(er,)16 b(supp)q(ose)h(the)208 491 y(clo)q(c)o(k)h(is)h(part)g(of)f(a)h
(larger)g(system|for)f(example,)g(the)h(hour)g(displa)o(y)f(of)g(a)h(w)
o(eather)208 541 y(station)d(that)g(displa)o(ys)g(the)g(curren)o(t)i
(hour)e(and)h(temp)q(erature.)25 b(The)17 b(state)g(of)f(the)h(sta-)208
591 y(tion)d(is)h(describ)q(ed)j(b)o(y)d(t)o(w)o(o)f(v)n(ariables:)20
b FV(hr)t F4(,)c(represen)o(ting)h(the)f(hour)f(displa)o(y)m(,)f(and)h
FV(tmp)s F4(,)208 640 y(represen)o(ting)20 b(the)g(temp)q(erature)g
(displa)o(y)m(.)32 b(Consider)20 b(this)f(b)q(eha)o(vior)g(of)f(the)i
(w)o(eather)208 690 y(station:)p Black Black 332 729
a FF(\024)p Black 34 x FV(hr)56 b F4(=)23 b(11)354 813
y FV(tmp)j F4(=)d(23)p FQ(:)p F4(5)p Black 578 729 a
FF(\025)625 788 y F0(!)692 729 y FF(\024)p Black 34 x
FV(hr)55 b F4(=)24 b(12)714 813 y FV(tmp)h F4(=)f(23)p
FQ(:)p F4(5)p Black 938 729 a FF(\025)985 788 y F0(!)1052
729 y FF(\024)p Black 34 x FV(hr)55 b F4(=)24 b(12)1074
813 y FV(tmp)h F4(=)f(23)p FQ(:)p F4(4)p Black 1297 729
a FF(\025)1345 788 y F0(!)415 853 y FF(\024)p Black 34
x FV(hr)56 b F4(=)23 b(12)437 937 y FV(tmp)j F4(=)d(23)p
FQ(:)p F4(3)p Black 661 853 a FF(\025)708 912 y F0(!)775
853 y FF(\024)p Black 34 x FV(hr)55 b F4(=)24 b(1)797
937 y FV(tmp)h F4(=)f(23)p FQ(:)p F4(3)p Black 1021 853
a FF(\025)1068 912 y F0(!)h(\001)7 b(\001)g(\001)208
1018 y F4(In)j(the)h(second)g(and)f(third)g(steps,)i
FV(tmp)h F4(c)o(hanges)d(but)h FV(hr)j F4(remains)9 b(the)i(same.)16
b(These)c(steps)208 1068 y(are)k(not)f(allo)o(w)o(ed)g(b)o(y)g
FG(2)p FV(HCnxt)t F4(,)g(whic)o(h)h(asserts)h(that)f(ev)o(ery)g(step)h
(m)o(ust)e(incremen)o(t)g FV(hr)t F4(.)208 1118 y(The)g(form)o(ula)d
FV(HCini)i F0(^)9 b FG(2)p FV(HCnxt)19 b F4(do)q(es)c(not)g(describ)q
(e)i(the)e(hour)g(clo)q(c)o(k)g(in)g(the)g(w)o(eather)208
1167 y(station.)270 1217 y(A)20 b(form)o(ula)e(that)i(describ)q(es)j
FV(any)i F4(hour)20 b(clo)q(c)o(k)g(m)o(ust)g(allo)o(w)f(steps)i(that)g
(lea)o(v)o(e)f FV(hr)208 1267 y F4(unc)o(hanged|in)13
b(other)h(w)o(ords,)f FV(hr)771 1252 y FH(0)794 1267
y F4(=)f FV(hr)18 b F4(steps.)h(These)c(are)f(called)f
FV(stuttering)h(steps)i F4(of)208 1317 y(the)e(clo)q(c)o(k.)k(A)c(sp)q
(eci\014cation)h(of)e(the)i(hour)f(clo)q(c)o(k)g(should)g(allo)o(w)e(b)
q(oth)i FV(HCnxt)k F4(steps)d(and)208 1367 y(stuttering)h(steps.)25
b(So,)15 b(a)h(step)g(should)g(b)q(e)g(allo)o(w)o(ed)f(i\013)g(it)g(is)
h(either)g(an)g FV(HCnxt)j F4(step)e(or)208 1417 y(a)f(stuttering)h
(step|that)h(is,)e(i\013)h(it)f(is)g(a)h(step)g(satisfying)f
FV(HCnxt)f F0(_)c F4(\()p FV(hr)1391 1401 y FH(0)1419
1417 y F4(=)16 b FV(hr)t F4(\).)27 b(This)208 1466 y(suggests)19
b(that)g(w)o(e)f(adopt)g FV(HCini)e F0(^)c FG(2)p F4(\()p
FV(HCnxt)k F0(_)c F4(\()p FV(hr)1101 1451 y FH(0)1132
1466 y F4(=)20 b FV(hr)t F4(\)\))f(as)f(our)h(sp)q(eci\014cation.)208
1516 y(In)d(TLA,)h(w)o(e)g(let)g([)p FV(HCnxt)t F4(])650
1522 y FJ(hr)703 1516 y F4(stand)g(for)g FV(HCnxt)e F0(_)c
F4(\()p FV(hr)1116 1501 y FH(0)1144 1516 y F4(=)17 b
FV(hr)t F4(\),)h(so)f(w)o(e)g(can)g(write)g(the)p .95
TeXcolorgray .95 TeXcolorgray 1679 1643 307 158 v .95
TeXcolorgray Black Black 42 w FZ(I)12 b(pronounce)1687
1556 y([)p FY(HCnxt)s FZ(])1810 1562 y FE(hr)1854 1556
y FZ(as)1687 1595 y FY(squar)n(e)h(HCnxt)i(sub)1687 1634
y(hr)t FZ(.)p Black .95 TeXcolorgray Black 208 1566 a
F4(form)o(ula)c(more)i(compactly)f(as)i FV(HCini)f F0(^)c
FG(2)p F4([)p FV(HCnxt)t F4(])1050 1572 y FJ(hr)1086
1566 y F4(.)270 1616 y(The)19 b(form)o(ula)e FV(HCini)f
F0(^)d FG(2)p F4([)p FV(HCnxt)t F4(])861 1622 y FJ(hr)916
1616 y F4(do)q(es)20 b(allo)o(w)e(stuttering)i(steps.)35
b(In)19 b(fact,)h(it)208 1666 y(allo)o(ws)12 b(the)j(b)q(eha)o(vior)p
Black Black 332 1749 a([)p FQ(hr)d F4(=)g(10])22 b F0(!)g
F4([)p FQ(hr)12 b F4(=)g(11])22 b F0(!)h F4([)p FQ(hr)12
b F4(=)f(11])23 b F0(!)f F4([)p FQ(hr)12 b F4(=)g(11])22
b F0(!)g(\001)7 b(\001)g(\001)208 1832 y F4(that)14 b(ends)h(with)e(an)
h(in\014nite)g(sequence)i(of)d(stuttering)i(steps.)20
b(This)14 b(b)q(eha)o(vior)g(describ)q(es)208 1881 y(a)e(clo)q(c)o(k)g
(whose)h(displa)o(y)e(attains)h(the)h(v)n(alue)f(11)g(and)g(then)h(k)o
(eeps)g(that)g(v)n(alue)e(forev)o(er|in)208 1931 y(other)19
b(w)o(ords,)g(a)f(clo)q(c)o(k)h(that)f(stops)h(at)f(11.)32
b(In)18 b(a)g(lik)o(e)g(manner,)g(w)o(e)h(can)f(represen)o(t)j(a)208
1981 y(terminating)15 b(execution)j(of)e(an)o(y)h(system)f(b)o(y)h(an)g
(in\014nite)g(b)q(eha)o(vior)f(that)i(ends)f(with)g(a)208
2031 y(sequence)h(of)d(nothing)h(but)g(stuttering)h(steps.)26
b(W)m(e)16 b(ha)o(v)o(e)g(no)g(need)h(of)e(\014nite)i(b)q(eha)o(viors)
208 2081 y(\(\014nite)d(sequences)i(of)d(states\),)i(so)f(w)o(e)g
(consider)h(only)e(in\014nite)h(ones.)270 2131 y(It's)f(natural)f(to)h
(require)h(that)f(a)g(clo)q(c)o(k)g(do)q(es)h(not)f(stop,)g(so)g(our)g
(sp)q(eci\014cation)h(should)208 2180 y(assert)19 b(that)e(there)i(are)
f(in\014nitely)f(man)o(y)f(nonstuttering)j(steps.)30
b(Chapter)19 b(8)e(explains)208 2230 y(ho)o(w)11 b(to)h(express)i(this)
e(requiremen)o(t.)17 b(F)m(or)12 b(no)o(w,)g(w)o(e)g(con)o(ten)o(t)h
(ourselv)o(es)g(with)e(clo)q(c)o(ks)i(that)208 2280 y(ma)o(y)i(stop,)k
(and)f(w)o(e)g(tak)o(e)g(as)g(our)f(sp)q(eci\014cation)i(of)e(an)h
(hour)g(clo)q(c)o(k)g(the)g(form)o(ula)d FV(HC)208 2330
y F4(de\014ned)g(b)o(y)p Black Black 332 2417 a FV(HC)438
2393 y FI(\001)433 2417 y F4(=)35 b FV(HCini)13 b F0(^)c
FG(2)p F4([)p FV(HCnxt)t F4(])836 2423 y FJ(hr)p Black
Black eop
%%Page: 18 36
18 35 bop Black 208 275 a F4(18)797 b FR(CHAPTER)14 b(2.)31
b(SPECIFYING)15 b(A)f(SIMPLE)g(CLOCK)p 208 282 1770 2
v Black 208 400 a FN(2.3)81 b(A)27 b(Closer)g(Lo)r(ok)h(at)f(the)g(Sp)r
(eci\014cation)208 491 y F4(A)13 b(state)g(is)g(an)g(assignmen)o(t)e
(of)i(v)n(alues)f(to)h(v)n(ariables,)f(but)h(what)g(v)n(ariables?)k
(The)c(answ)o(er)208 540 y(is)j(simple:)22 b(all)16 b(v)n(ariables.)26
b(In)17 b(the)g(b)q(eha)o(vior)g(\(2.1\))f(on)g(page)h(16,)f([)p
FV(hr)21 b F4(=)16 b(1])g(represen)o(ts)208 590 y(some)e(particular)h
(state)h(that)g(assigns)f(the)h(v)n(alue)f(1)g(to)g FV(hr)t
F4(.)23 b(It)15 b(migh)o(t)e(assign)j(the)g(v)n(alue)208
640 y(23)11 b(to)h(the)h(v)n(ariable)e FV(tmp)j F4(and)e(the)h(v)n
(alue)871 607 y F0(p)p 906 607 74 2 v 33 x(\000)p F4(17)f(to)f(the)i(v)
n(ariable)e FV(m)p 1304 640 13 2 v 18 w(p)n(os)s F4(.)18
b(W)m(e)12 b(can)g(think)208 690 y(of)i(a)h(state)h(as)g(represen)o
(ting)g(a)f(p)q(oten)o(tial)g(state)h(of)f(the)h(en)o(tire)f(univ)o
(erse.)23 b(A)16 b(state)g(that)208 740 y(assigns)11
b(1)f(to)h FV(hr)k F4(and)c(a)f(particular)h(p)q(oin)o(t)f(in)h
(3-space)g(to)g FV(m)p 1156 740 V 18 w(p)n(os)k F4(describ)q(es)e(a)d
(state)i(of)e(the)208 789 y(univ)o(erse)15 b(in)f(whic)o(h)g(the)h
(hour)f(clo)q(c)o(k)g(reads)i(1)e(and)g(the)h(mo)q(on)d(is)i(in)g(a)g
(particular)g(place.)208 839 y(A)g(state)g(that)g(assigns)583
807 y F0(p)p 618 807 54 2 v 32 x(\000)p F4(2)g(to)f FV(hr)18
b F4(do)q(esn't)d(corresp)q(ond)g(to)f(an)o(y)f(state)i(of)e(the)i
(univ)o(erse)208 889 y(that)d(w)o(e)g(recognize,)h(b)q(ecause)h(the)e
(hour)h(clo)q(c)o(k)f(can't)g(displa)o(y)f(the)h(v)n(alue)1381
856 y F0(p)p 1415 856 V 1415 889 a(\000)p F4(2.)18 b(It)12
b(migh)o(t)208 939 y(represen)o(t)19 b(the)g(state)f(of)f(the)h(univ)o
(erse)h(after)f(a)f(b)q(om)o(b)f(fell)h(on)g(the)i(clo)q(c)o(k,)f
(making)d(its)208 989 y(displa)o(y)d(purely)j(imaginary)l(.)270
1038 y(A)f(b)q(eha)o(vior)f(is)h(an)g(in\014nite)f(sequence)k(of)c
(states|for)h(example:)p Black Black 332 1122 a([)p FV(hr)h
F4(=)d(11])22 b F0(!)h F4([)p FV(hr)15 b F4(=)d(77)p
FQ(:)p F4(2])21 b F0(!)i F4([)p FV(hr)15 b F4(=)d(78)p
FQ(:)p F4(2])21 b F0(!)i F4([)p FV(hr)15 b F4(=)1259
1087 y F0(p)p 1294 1087 V 35 x(\000)p F4(2])22 b F0(!)h(\001)7
b(\001)g(\001)p Black -1288 w F4(\(2.2\))p Black 208
1205 a(A)18 b(b)q(eha)o(vior)g(describ)q(es)j(a)d(p)q(oten)o(tial)g
(history)h(of)e(the)j(univ)o(erse.)32 b(The)19 b(b)q(eha)o(vior)g
(\(2.2\))208 1254 y(do)q(esn't)12 b(corresp)q(ond)h(to)e(a)h(history)f
(that)h(w)o(e)g(understand,)h(b)q(ecause)g(w)o(e)f(don't)f(kno)o(w)g
(ho)o(w)208 1304 y(the)19 b(clo)q(c)o(k's)g(displa)o(y)e(can)i(c)o
(hange)h(from)d(11)h(to)g(77.2.)32 b(Whatev)o(er)19 b(kind)f(of)g
(history)h(it)208 1354 y(represen)o(ts)d(is)e(not)g(one)g(in)f(whic)o
(h)h(the)g(clo)q(c)o(k)g(is)g(doing)f(what)h(it's)f(supp)q(osed)j(to.)
270 1404 y(F)m(orm)o(ula)8 b FV(HC)15 b F4(is)c(a)f(temp)q(oral)e(form)
o(ula.)15 b(A)10 b(temp)q(oral)f(form)o(ula)f(is)i(an)g(assertion)h(ab)
q(out)208 1454 y(b)q(eha)o(viors.)17 b(W)m(e)c(sa)o(y)g(that)g(a)f(b)q
(eha)o(vior)h FV(satis\014es)j(HC)j F4(i\013)13 b FV(HC)18
b F4(is)13 b(a)g(true)g(assertion)h(ab)q(out)208 1503
y(the)19 b(b)q(eha)o(vior.)32 b(Beha)o(vior)18 b(\(2.1\))g(satis\014es)
i(form)o(ula)c FV(HC)6 b F4(.)32 b(Beha)o(vior)18 b(\(2.2\))g(do)q(es)h
(not,)208 1553 y(b)q(ecause)14 b FV(HC)k F4(asserts)c(that)e(ev)o(ery)i
(step)f(satis\014es)g FV(HCnxt)k F4(or)12 b(lea)o(v)o(es)h
FV(hr)j F4(unc)o(hanged,)d(and)208 1603 y(the)i(\014rst)h(and)f(third)h
(steps)g(of)f(\(2.2\))f(don't.)22 b(\(The)15 b(second)i(step,)f([)p
FV(hr)h F4(=)d(77)p FQ(:)p F4(2])e F0(!)h F4([)p FV(hr)18
b F4(=)208 1653 y(78)p FQ(:)p F4(2],)e(do)q(es)j(satisfy)e
FV(HCnxt)t F4(.\))30 b(W)m(e)17 b(regard)h(form)o(ula)d
FV(HC)24 b F4(to)17 b(b)q(e)i(the)f(sp)q(eci\014cation)g(of)208
1703 y(an)e(hour)g(clo)q(c)o(k)h(b)q(ecause)h(it)e(is)h(satis\014ed)g
(b)o(y)f(exactly)h(those)g(b)q(eha)o(viors)g(that)g(represen)o(t)208
1752 y(histories)d(of)f(the)i(univ)o(erse)f(in)g(whic)o(h)g(the)g(clo)q
(c)o(k)g(functions)g(prop)q(erly)m(.)270 1802 y(If)d(the)i(clo)q(c)o(k)
e(is)h(b)q(eha)o(ving)f(prop)q(erly)m(,)h(then)g(its)g(displa)o(y)f
(should)g(b)q(e)i(an)e(in)o(teger)h(from)e(1)208 1852
y(through)i(12.)18 b(So,)12 b FV(hr)17 b F4(should)12
b(b)q(e)i(an)f(in)o(teger)g(from)e(1)h(through)h(12)g(in)f(ev)o(ery)h
(state)h(of)e(an)o(y)208 1902 y(b)q(eha)o(vior)k(satisfying)g(the)i
(clo)q(c)o(k's)e(sp)q(eci\014cation,)i FV(HC)6 b F4(.)27
b(F)m(orm)o(ula)14 b FV(HCini)20 b F4(asserts)f(that)208
1952 y FV(hr)h F4(is)c(an)h(in)o(teger)f(from)f(1)h(through)h(12,)f
(and)g FG(2)p FV(HCini)k F4(asserts)e(that)f FV(HCini)j
F4(is)c(alw)o(a)o(ys)208 2002 y(true.)j(So,)14 b FG(2)p
FV(HCini)k F4(should)c(b)q(e)g(true)h(for)f(an)o(y)g(b)q(eha)o(vior)g
(satisfying)f FV(HC)6 b F4(.)19 b(Another)c(w)o(a)o(y)208
2051 y(of)e(sa)o(ying)h(this)g(is)g(that)g FV(HC)20 b
F4(implies)12 b FG(2)p FV(HCini)t F4(,)i(for)g(an)o(y)g(b)q(eha)o
(vior.)k(Th)o(us,)d(the)f(form)o(ula)208 2101 y FV(HC)27
b F0(\))21 b FG(2)p FV(HCini)i F4(should)d(b)q(e)g(satis\014ed)g(b)o(y)
g FV(every)j F4(b)q(eha)o(vior.)36 b(A)20 b(temp)q(oral)e(form)o(ula)
208 2151 y(satis\014ed)e(b)o(y)g(ev)o(ery)g(b)q(eha)o(vior)g(is)g
(called)g(a)f FV(the)n(or)n(em)p F4(,)h(so)g FV(HC)k
F0(\))14 b FG(2)p FV(HCini)20 b F4(should)c(b)q(e)g(a)208
2201 y(theorem.)368 2186 y FS(1)404 2201 y F4(It's)e(easy)g(to)f(see)i
(that)f(it)g(is:)j FV(HC)j F4(implies)12 b(that)h FV(HCini)18
b F4(is)13 b(true)i(initially)c(\(in)208 2251 y(the)17
b(\014rst)h(state)g(of)f(the)h(b)q(eha)o(vior\),)f(and)g
FG(2)p F4([)p FV(HCnxt)t F4(])1063 2257 y FJ(hr)1117
2251 y F4(implies)e(that)i(eac)o(h)h(step)g(either)208
2300 y(adv)n(ances)j FV(hr)k F4(to)20 b(its)h(prop)q(er)h(next)f(v)n
(alue)f(or)h(else)g(lea)o(v)o(es)g FV(hr)k F4(unc)o(hanged.)39
b(W)m(e)21 b(can)208 2350 y(formalize)15 b(this)i(reasoning)g(using)f
(the)i(pro)q(of)f(rules)g(of)g(TLA,)f(but)i(w)o(e're)f(not)g(going)f
(to)208 2400 y(delv)o(e)e(in)o(to)f(pro)q(ofs)h(and)f(pro)q(of)h
(rules.)p Black 208 2435 576 2 v 254 2462 a FK(1)271
2473 y FZ(Logicians)e(call)i(a)g(form)o(ula)e FY(valid)19
b FZ(if)14 b(it)g(is)g(satis\014ed)e(b)o(y)i(ev)o(ery)f(b)q(eha)o
(vior;)g(they)g(reserv)o(e)g(the)g(term)208 2513 y FY(the)n(or)n(em)j
FZ(for)11 b(pro)o(v)n(ably)e(v)n(alid)h(form)o(ulas.)p
Black Black Black eop
%%Page: 19 37
19 36 bop Black 208 275 a FR(2.4.)30 b(THE)15 b(SPECIFICA)m(TION)f(IN)g
(TLA)901 260 y FS(+)1936 275 y F4(19)p 208 282 1770 2
v Black 208 405 a FN(2.4)81 b(The)27 b(Sp)r(eci\014cation)f(in)g(TLA)
1288 379 y FM(+)208 495 y F4(Figure)9 b(2.1)f(on)i(the)f(next)h(page)g
(sho)o(ws)f(ho)o(w)g(the)h(hour-clo)q(c)o(k)g(sp)q(eci\014cation)g(can)
f(b)q(e)h(written)208 545 y(in)i(TLA)342 530 y FS(+)363
545 y F4(.)18 b(There)c(are)f(t)o(w)o(o)g(v)o(ersions:)18
b(the)c FP(asci)q(i)e F4(v)o(ersion)h(on)g(the)h(b)q(ottom)e(is)g(the)i
(actual)208 595 y(TLA)295 580 y FS(+)331 595 y F4(sp)q(eci\014cation,)i
(the)g(w)o(a)o(y)f(y)o(ou)g(t)o(yp)q(e)h(it;)g(the)g(t)o(yp)q(eset)h(v)
o(ersion)e(on)h(the)g(top)f(is)h(one)208 645 y(that)i(the)h(TLA)m(T)485
654 y(E)507 645 y(X)g(program,)e(describ)q(ed)j(in)e(Chapter)h(13,)f
(migh)o(t)f(pro)q(duce.)32 b(Before)208 695 y(trying)19
b(to)g(understand)i(the)g(sp)q(eci\014cation,)g(observ)o(e)g(the)f
(relation)f(b)q(et)o(w)o(een)i(the)f(t)o(w)o(o)208 745
y(syn)o(taxes.)p Black 270 828 a F0(\017)p Black 20 w
F4(Reserv)o(ed)13 b(w)o(ords)f(that)g(app)q(ear)g(in)f(small)e(upp)q
(er-case)k(letters)g(\(lik)o(e)e FP(extends)p F4(\))h(are)311
877 y(written)j(in)e FP(asci)q(i)g F4(with)h(ordinary)f(upp)q(er-case)j
(letters.)p Black 270 960 a F0(\017)p Black 20 w F4(When)d(p)q
(ossible,)g(sym)o(b)q(ols)e(are)j(represen)o(ted)h(pictorially)c(in)i
FP(asci)q(i)p F4(|for)e(example,)311 1010 y FG(2)j F4(is)g(t)o(yp)q(ed)
g(as)g FO([)7 b(])14 b F4(and)g F0(6)p F4(=)g(as)g FO(#)p
F4(.)k(\(Y)m(ou)13 b(can)h(also)f(t)o(yp)q(e)i F0(6)p
F4(=)f(as)g FO(/=)p F4(.\))p Black 270 1093 a F0(\017)p
Black 20 w F4(When)j(there)g(is)g(no)f(go)q(o)q(d)g FP(asci)q(i)f
F4(represen)o(tation,)j(T)1172 1102 y(E)1195 1093 y(X)e(notation)1395
1078 y FS(2)1430 1093 y F4(is)g(used|for)311 1148 y(example,)d
F0(2)h F4(is)g(t)o(yp)q(ed)h(as)g FO(\\in)p F4(.)k(The)c(ma)r(jor)d
(exception)k(is)1277 1125 y FI(\001)1272 1148 y F4(=,)e(whic)o(h)h(is)f
(t)o(yp)q(ed)h(as)311 1198 y FO(=)7 b(=)g F4(.)208 1281
y(A)17 b(complete)g(list)g(of)g(sym)o(b)q(ols)f(and)h(their)h
FP(asci)q(i)e F4(equiv)n(alen)o(ts)h(app)q(ears)h(in)f(T)m(able)g(8)g
(on)208 1331 y(page)f(273.)26 b(I)17 b(will)e(usually)h(sho)o(w)g(the)i
(t)o(yp)q(eset)g(v)o(ersion)f(of)f(a)g(sp)q(eci\014cation;)j(the)e
FP(asci)q(i)208 1381 y F4(v)o(ersions)11 b(of)g(all)e(the)j(sp)q
(eci\014cations)g(in)f(this)g(b)q(o)q(ok)g(can)g(b)q(e)h(found)e
(through)h(the)h(TLA)f(W)m(eb)208 1430 y(page.)270 1480
y(No)o(w)i(let's)h(lo)q(ok)f(at)h(what)g(the)g(sp)q(eci\014cation)h(sa)
o(ys.)j(It)c(starts)h(with)p Black Black Black Black
312 1579 2 25 v 314 1556 480 2 v 808 1563 a FP(module)h
FV(HourClo)n(ck)p 1185 1556 V 1665 1579 2 25 v 208 1655
a F4(whic)o(h)e(b)q(egins)h(a)f(mo)q(dule)g(named)f FV(HourClo)n(ck)t
F4(.)20 b(TLA)1086 1640 y FS(+)1121 1655 y F4(sp)q(eci\014cations)c
(are)f(partitioned)208 1705 y(in)o(to)e(mo)q(dules;)f(the)j(hour)f(clo)
q(c)o(k's)f(sp)q(eci\014cation)i(consists)g(of)e(this)h(single)g(mo)q
(dule.)270 1754 y(Arithmetic)k(op)q(erators)i(lik)o(e)f(+)g(are)h(not)f
(built)f(in)o(to)h(TLA)1243 1739 y FS(+)1264 1754 y F4(,)h(but)f(are)h
(themselv)o(es)208 1804 y(de\014ned)14 b(in)f(mo)q(dules.)j(\(Y)m(ou)d
(migh)o(t)e(w)o(an)o(t)i(to)g(write)h(a)e(sp)q(eci\014cation)i(in)f
(whic)o(h)g(+)h(means)208 1854 y(addition)k(of)i(matrices)f(rather)i
(than)f(n)o(um)o(b)q(ers.\))36 b(The)20 b(usual)g(op)q(erators)h(on)e
(natural)208 1904 y(n)o(um)o(b)q(ers)12 b(are)i(de\014ned)g(in)f(the)h
FV(Natur)n(als)i F4(mo)q(dule.)g(Their)d(de\014nitions)h(are)f(incorp)q
(orated)208 1954 y(in)o(to)g(mo)q(dule)f FV(HourClo)n(ck)18
b F4(b)o(y)c(the)g(statemen)o(t)p Black Black 332 2037
a FP(extends)i FV(Natur)n(als)208 2120 y F4(Ev)o(ery)h(sym)o(b)q(ol)e
(that)i(app)q(ears)g(in)g(a)f(form)o(ula)e(m)o(ust)i(either)i(b)q(e)f
(a)g(built-in)e(op)q(erator)i(of)208 2169 y(TLA)295 2154
y FS(+)315 2169 y F4(,)d(or)f(else)i(it)f(m)o(ust)e(b)q(e)j(declared)g
(or)f(de\014ned.)19 b(The)14 b(statemen)o(t)p Black Black
332 2252 a FP(v)l(ariable)k FV(hr)208 2336 y F4(declares)d
FV(hr)j F4(to)13 b(b)q(e)i(a)f(v)n(ariable.)p Black 208
2362 576 2 v 254 2389 a FK(2)271 2401 y FZ(The)d(T)362
2408 y(E)382 2401 y(X)g(t)o(yp)q(esetting)c(system)i(is)i(describ)q(ed)
d(in)i FY(The)i(T)1039 2408 y(E)1058 2401 y(Xb)n(o)n(ok)k
FZ(b)o(y)10 b(Donald)f(E.)i(Kn)o(uth,)f(published)208
2440 y(b)o(y)h(Addison-W)m(esley)m(,)e(Reading,)g(Massac)o(h)o(usetts,)
g(1986.)p Black Black Black eop
%%Page: 20 38
20 37 bop Black 208 275 a F4(20)797 b FR(CHAPTER)14 b(2.)31
b(SPECIFYING)15 b(A)f(SIMPLE)g(CLOCK)p 208 282 1770 2
v Black Black Black Black 188 395 2 25 v 190 372 543
2 v 746 379 a FP(module)h FV(HourClo)n(ck)p 1121 372
V 1664 395 2 25 v 208 437 a FP(extends)h FV(Natur)n(als)208
495 y FP(v)l(ariable)h FV(hr)208 553 y(HCini)363 530
y FI(\001)358 553 y F4(=)31 b FV(hr)15 b F0(2)d F4(\(1)h
FQ(:)7 b(:)13 b F4(12\))208 618 y FV(HCnxt)363 595 y
FI(\001)358 618 y F4(=)31 b FV(hr)464 603 y FH(0)494
618 y F4(=)19 b FP(if)k FV(hr)16 b F0(6)p F4(=)11 b(12)22
b FP(then)i FV(hr)14 b F4(+)9 b(1)23 b FP(else)h F4(1)208
687 y FV(HC)309 663 y FI(\001)304 687 y F4(=)30 b FV(HCini)20
b F0(^)c FG(2)p F4([)p FV(HCnxt)t F4(])716 693 y FJ(hr)p
188 741 V 190 730 1475 2 v 1665 740 2 25 v 208 778 a
FP(theorem)g FV(HC)h F0(\))11 b FG(2)p FV(HCini)p 188
821 V 190 821 1475 2 v 1665 821 2 25 v Black Black 208
976 a FO(---------------)o(-----)o(--)19 b(MODULE)h(HourClock)g
(-------------------)o(---)208 1025 y(EXTENDS)g(Naturals)208
1075 y(VARIABLE)g(hr)208 1125 y(HCini)42 b(==)h(hr)22
b(\\in)f(\(1)g(..)h(12\))208 1175 y(HCnxt)42 b(==)h(hr')21
b(=)h(IF)f(hr)h(#)f(12)h(THEN)f(hr)g(+)h(1)f(ELSE)g(1)208
1225 y(HC)43 b(==)g(HCini)21 b(/\\)g([][HCnxt]_hr)208
1275 y(---------------)o(-----)o(-----)o(-----)o(-----)o(----)o(-----)o
(-----)o(-----)o(-----)o(---)208 1324 y(THEOREM)42 b(HC)21
b(=>)g([]HCini)208 1374 y(===============)o(=====)o(=====)o(=====)o
(=====)o(====)o(=====)o(=====)o(=====)o(=====)o(===)p
Black 274 1487 a FU(Figure)15 b(2.1:)j F4(The)d(hour-clo)q(c)o(k)e(sp)q
(eci\014cation|t)o(yp)q(eset)j(and)e(ASCI)q(I)g(v)o(ersions.)p
Black Black 270 1600 a(T)m(o)i(de\014ne)h FV(HCini)t
F4(,)f(w)o(e)h(need)h(to)e(express)i(the)f(set)h F0(f)p
F4(1)p FQ(;)13 b(:)7 b(:)g(:)e(;)13 b F4(12)p F0(g)j
F4(formally)m(,)d(without)208 1649 y(the)h(ellipsis)f(\\.)6
b(.)h(.)f(".)18 b(W)m(e)c(can)g(write)g(this)g(set)h(out)e(completely)g
(as)p Black Black 332 1729 a F0(f)p F4(1)p FQ(;)7 b F4(2)p
FQ(;)g F4(3)p FQ(;)g F4(4)p FQ(;)g F4(5)o FQ(;)g F4(6)p
FQ(;)f F4(7)p FQ(;)g F4(8)p FQ(;)g F4(9)p FQ(;)h F4(1)o(0)p
FQ(;)g F4(1)o(1)p FQ(;)g F4(1)o(2)p F0(g)208 1808 y F4(but)14
b(that's)h(tiresome.)k(Instead,)c(w)o(e)g(use)g(the)h(op)q(erator)f(\\)
7 b FQ(:)g(:)p F4(",)12 b(de\014ned)k(in)e(the)h FV(Natur)n(als)208
1858 y F4(mo)q(dule,)d(to)i(write)h(this)f(set)i(as)e(1)7
b FQ(:)g(:)g F4(12.)17 b(In)e(general)f FV(i)d FQ(:)c(:)g
FV(j)19 b F4(is)14 b(the)h(set)g(of)f(in)o(tegers)h(from)e
FV(i)208 1908 y F4(through)h FV(j)6 b F4(,)14 b(for)g(an)o(y)f(in)o
(tegers)j FV(i)i F4(and)c FV(j)6 b F4(.)19 b(\(It)c(equals)f(the)h
(empt)o(y)e(set)i(if)f FV(j)k FQ(<)13 b FV(i)t F4(.\))19
b(It's)14 b(no)o(w)208 1958 y(ob)o(vious)d(ho)o(w)h(to)h(write)f(the)h
(de\014nition)g(of)e FV(HCini)t F4(.)18 b(The)12 b(de\014nitions)h(of)f
FV(HCnxt)k F4(and)c FV(HC)208 2008 y F4(are)k(written)g(just)g(as)g(b)q
(efore.)25 b(\(The)16 b(ordinary)g(mathematical)c(op)q(erators)17
b(of)e(logic)g(and)208 2058 y(set)f(theory)m(,)g(lik)o(e)f
F0(^)g F4(and)h F0(2)p F4(,)f(are)i(built)e(in)o(to)g(TLA)1002
2042 y FS(+)1023 2058 y F4(.\))270 2107 y(The)h(line)p
Black Black Black Black 312 2191 V 314 2180 1350 2 v
1664 2190 2 25 v 208 2258 a(can)d(app)q(ear)g(an)o(ywhere)h(b)q(et)o(w)
o(een)h(statemen)o(ts;)f(it's)e(purely)h(cosmetic)g(and)g(has)g(no)g
(mean-)208 2308 y(ing.)17 b(F)m(ollo)o(wing)11 b(it)j(is)f(the)i
(statemen)o(t)p Black Black 332 2387 a FP(theorem)h FV(HC)i
F0(\))11 b FG(2)p FV(HCini)208 2467 y F4(of)e(the)h(theorem)f(that)h(w)
o(as)f(discussed)j(ab)q(o)o(v)o(e.)k(This)10 b(statemen)o(t)f(asserts)i
(that)f(the)g(form)o(ula)208 2517 y FV(HC)28 b F0(\))22
b FG(2)p FV(HCini)i F4(is)d(true)g(in)f(the)h(con)o(text)h(of)e(the)h
(statemen)o(t.)38 b(More)21 b(precisely)m(,)h(it)p Black
Black eop
%%Page: 21 39
21 38 bop Black 208 275 a FR(2.5.)30 b(AN)15 b(AL)m(TERNA)m(TIVE)e
(SPECIFICA)m(TION)904 b F4(21)p 208 282 1770 2 v Black
208 391 a(asserts)13 b(that)f(the)g(form)o(ula)e(follo)o(ws)g
(logically)f(from)h(the)j(de\014nitions)f(in)f(this)h(mo)q(dule,)e(the)
208 441 y(de\014nitions)k(in)g(the)h FV(Natur)n(als)h
F4(mo)q(dule,)d(and)h(the)h(rules)g(of)f(TLA)1246 426
y FS(+)1266 441 y F4(.)19 b(If)14 b(the)h(form)o(ula)d(w)o(ere)208
491 y(not)h(true,)i(then)f(the)h(mo)q(dule)d(w)o(ould)h(b)q(e)i
(incorrect.)270 541 y(The)f(mo)q(dule)f(is)g(terminated)h(b)o(y)f(the)i
(sym)o(b)q(ol)p Black Black Black Black 312 613 2 25
v 314 613 1350 2 v 1664 613 2 25 v 270 700 a(The)k(sp)q(eci\014cation)g
(of)f(the)i(hour)f(clo)q(c)o(k)f(is)h(the)g(de\014nition)f(of)h
FV(HC)6 b F4(,)19 b(including)e(the)208 750 y(de\014nitions)g(of)g(the)
h(form)o(ulas)d FV(HCnxt)21 b F4(and)d FV(HCini)j F4(and)c(of)g(the)h
(op)q(erators)32 b FQ(:)7 b(:)23 b F4(and)18 b(+)208
800 y(that)e(app)q(ear)g(in)g(the)h(de\014nition)e(of)h
FV(HC)6 b F4(.)24 b(F)m(ormally)m(,)13 b(nothing)i(in)h(the)h(mo)q
(dule)d(tells)i(us)208 849 y(that)d FV(HC)20 b F4(rather)15
b(than)e FV(HCini)18 b F4(is)c(the)g(clo)q(c)o(k's)g(sp)q
(eci\014cation.)19 b(TLA)1313 834 y FS(+)1347 849 y F4(is)14
b(a)f(language)g(for)208 899 y(writing)18 b(mathematics|in)d
(particular,)20 b(for)e(writing)h(mathematical)c(de\014nitions)k(and)
208 949 y(theorems.)f(What)13 b(those)h(de\014nitions)g(represen)o(t,)h
(and)f(what)f(signi\014cance)h(w)o(e)g(attac)o(h)g(to)208
999 y(those)g(theorems,)f(lies)g(outside)g(the)h(scop)q(e)h(of)e
(mathematics)e(and)i(therefore)i(outside)e(the)208 1049
y(scop)q(e)k(of)f(TLA)459 1034 y FS(+)480 1049 y F4(.)26
b(Engineering)17 b(requires)g(not)g(just)g(the)g(abilit)o(y)e(to)h(use)
i(mathematics,)208 1099 y(but)13 b(the)h(abilit)o(y)e(to)h(understand)h
(what,)f(if)g(an)o(ything,)f(the)i(mathematics)d(tells)i(us)h(ab)q(out)
208 1148 y(an)f(actual)h(system.)208 1306 y FN(2.5)81
b(An)27 b(Alternativ)n(e)e(Sp)r(eci\014cation)208 1397
y F4(The)12 b FV(Natur)n(als)i F4(mo)q(dule)d(also)g(de\014nes)i(the)g
(mo)q(dulus)d(op)q(erator,)j(whic)o(h)e(w)o(e)h(write)h
FD(\045)o F4(.)k(The)208 1447 y(form)o(ula)10 b FV(i)15
b FD(\045)c FV(n)s F4(,)i(whic)o(h)g(mathematicia)o(ns)d(write)j
FV(i)j F4(mo)q(d)10 b FV(n)s F4(,)j(is)f(the)h(remainder)f(when)h
FV(i)k F4(is)208 1497 y(divided)12 b(b)o(y)h FV(n)s F4(.)18
b(More)13 b(formally)m(,)d FV(i)15 b FD(\045)c FV(n)17
b F4(is)12 b(the)i(natural)f(n)o(um)o(b)q(er)f(less)h(than)g
FV(n)k F4(satisfying)208 1546 y FV(i)j F4(=)e FV(q)d
F0(\003)c FV(n)k F4(+)d(\()p FV(i)21 b FD(\045)16 b FV(n)s
F4(\))i(for)f(some)f(natural)h(n)o(um)o(b)q(er)f FV(q)t
F4(.)28 b(Let's)17 b(express)i(this)f(condition)208 1596
y(mathematical)o(ly)l(.)36 b(The)21 b FV(Natur)n(als)i
F4(mo)q(dule)c(de\014nes)j FV(Nat)j F4(to)20 b(b)q(e)h(the)h(set)f(of)f
(natural)208 1646 y(n)o(um)o(b)q(ers,)f(and)h(the)g(assertion)f(that)h
(there)h(exists)f(a)f FV(q)k F4(in)c(the)g(set)i FV(Nat)i
F4(satisfying)18 b(a)208 1696 y(form)o(ula)12 b FV(F)20
b F4(is)15 b(written)h F0(9)7 b FV(q)17 b F0(2)c FV(Nat)24
b F4(:)c FV(F)6 b F4(.)21 b(Th)o(us,)15 b(if)f FV(i)19
b F4(and)14 b FV(n)19 b F4(are)c(elemen)o(ts)g(of)f FV(Nat)19
b F4(and)208 1746 y FV(n)c FQ(>)c F4(0,)j(then)g FV(i)i
FD(\045)11 b FV(n)17 b F4(is)d(the)g(unique)g(n)o(um)o(b)q(er)f
(satisfying)p Black Black 332 1825 a(\()p FV(i)j FD(\045)11
b FV(n)22 b F0(2)c F4(0)c FQ(:)7 b(:)12 b F4(\()p FV(n)h
F0(\000)d F4(1\)\))21 b F0(^)f F4(\()p F0(9)14 b FV(q)h
F0(2)d FV(Nat)22 b F4(:)c FV(i)d F4(=)d FV(q)h F0(\003)c
FV(n)k F4(+)c(\()p FV(i)16 b FD(\045)11 b FV(n)s F4(\)\))208
1905 y(W)m(e)17 b(can)i(use)g FD(\045)f F4(to)g(simplify)d(our)k
(hour-clo)q(c)o(k)f(sp)q(eci\014cation)h(a)f(bit.)31
b(Observing)19 b(that)208 1955 y(\(11)11 b FD(\045)g
F4(12\))s(+)s(1)f(equals)h(12)f(and)h(\(12)g FD(\045)g
F4(12\))s(+)s(1)g(equals)g(1,)f(w)o(e)h(can)g(de\014ne)h(a)f
(di\013eren)o(t)h(next-)208 2005 y(state)i(action)g FV(HCnxt)t
F4(2)f(and)h(a)g(di\013eren)o(t)g(form)o(ula)e FV(HC)6
b F4(2)13 b(to)h(b)q(e)g(the)h(clo)q(c)o(k)f(sp)q(eci\014cation)p
Black Black 332 2088 a FV(HCnxt)t F4(2)513 2065 y FI(\001)508
2088 y F4(=)35 b FV(hr)618 2071 y FH(0)642 2088 y F4(=)11
b(\()p FV(hr)16 b FD(\045)11 b F4(12\))e(+)h(1)103 b
FV(HC)6 b F4(2)1162 2065 y FI(\001)1157 2088 y F4(=)35
b FV(HCini)20 b F0(^)c FG(2)p F4([)p FV(HCnxt)t F4(2])1595
2094 y FJ(hr)208 2168 y F4(Actions)d FV(HCnxt)18 b F4(and)13
b FV(HCnxt)t F4(2)g(are)h(not)f(equiv)n(alen)o(t.)k(The)d(step)g([)p
FV(hr)h F4(=)d(24])f F0(!)g F4([)p FV(hr)k F4(=)d(25])208
2218 y(satis\014es)17 b FV(HCnxt)j F4(but)c(not)g FV(HCnxt)t
F4(2,)g(while)f(the)i(step)g([)p FV(hr)i F4(=)d(24])e
F0(!)h F4([)p FV(hr)k F4(=)c(1])h(satis\014es)208 2268
y FV(HCnxt)t F4(2)11 b(but)i(not)f FV(HCnxt)t F4(.)17
b(Ho)o(w)o(ev)o(er,)c(an)o(y)e(step)i(starting)g(in)e(a)h(state)h(with)
f FV(hr)k F4(in)c(1)i FQ(:)7 b(:)12 b F4(12)208 2317
y(satis\014es)g FV(HCnxt)k F4(i\013)11 b(it)h(satis\014es)g
FV(HCnxt)t F4(2.)17 b(It's)12 b(therefore)h(not)f(hard)g(to)f(deduce)j
(that)d(an)o(y)208 2367 y(b)q(eha)o(vior)j(starting)g(in)h(a)f(state)h
(satisfying)f FV(HCini)k F4(satis\014es)e FG(2)p F4([)p
FV(HCnxt)t F4(])1364 2373 y FJ(hr)1414 2367 y F4(i\013)f(it)f
(satis\014es)208 2417 y FG(2)p F4([)p FV(HCnxt)t F4(2])405
2423 y FJ(hr)441 2417 y F4(.)27 b(Hence,)19 b(form)o(ulas)c
FV(HC)23 b F4(and)17 b FV(HC)6 b F4(2)16 b FV(ar)n(e)k
F4(equiv)n(alen)o(t.)27 b(In)17 b(other)h(w)o(ords,)208
2467 y FV(HC)g F0(\021)13 b FV(HC)6 b F4(2)14 b(is)g(a)h(theorem.)20
b(It)14 b(do)q(esn't)i(matter)e(whic)o(h)g(of)g(the)h(t)o(w)o(o)f(form)
o(ulas)f(w)o(e)i(tak)o(e)208 2517 y(to)e(b)q(e)i(the)f(sp)q
(eci\014cation)h(of)e(an)h(hour)g(clo)q(c)o(k.)p Black
Black eop
%%Page: 22 40
22 39 bop Black 208 275 a F4(22)797 b FR(CHAPTER)14 b(2.)31
b(SPECIFYING)15 b(A)f(SIMPLE)g(CLOCK)p 208 282 1770 2
v Black 270 391 a F4(Mathematics)k(pro)o(vides)i(in\014nitely)e(man)o
(y)f(w)o(a)o(ys)i(of)g(expressing)h(the)g(same)e(thing.)208
441 y(The)13 b(expressions)i(6)8 b(+)h(6,)j(3)c F0(\003)g
F4(4,)13 b(and)g(141)8 b F0(\000)g F4(129)13 b(all)f(ha)o(v)o(e)h(the)h
(same)e(meaning;)g(they)h(are)208 491 y(just)i(di\013eren)o(t)h(w)o(a)o
(ys)f(of)g(writing)f(the)i(n)o(um)o(b)q(er)e(12.)22 b(W)m(e)15
b(could)g(replace)h(either)g(instance)208 541 y(of)i(the)i(n)o(um)o(b)q
(er)e(12)h(in)g(mo)q(dule)f FV(HourClo)n(ck)23 b F4(b)o(y)c(an)o(y)f
(of)h(these)h(expressions)h(without)208 591 y(c)o(hanging)13
b(the)h(meaning)e(of)h(an)o(y)h(of)f(the)i(mo)q(dule's)d(form)o(ulas.)
270 640 y(When)k(writing)g(a)g(sp)q(eci\014cation,)h(y)o(ou)f(will)e
(often)j(b)q(e)f(faced)h(with)f(a)g(c)o(hoice)h(of)e(ho)o(w)208
690 y(to)f(express)h(something.)j(When)c(that)g(happ)q(ens,)h(y)o(ou)e
(should)h(\014rst)h(mak)o(e)e(sure)i(that)f(the)208 740
y(c)o(hoices)h(yield)g(equiv)n(alen)o(t)f(sp)q(eci\014cations.)22
b(If)14 b(they)h(do,)g(then)g(y)o(ou)g(can)g(c)o(ho)q(ose)g(the)h(one)
208 790 y(that)e(y)o(ou)g(feel)h(mak)o(es)f(the)h(sp)q(eci\014cation)g
(easiest)h(to)e(understand.)22 b(If)14 b(they)h(don't,)f(then)208
840 y(y)o(ou)f(m)o(ust)g(decide)i(whic)o(h)e(one)i(y)o(ou)e(mean.)p
Black Black eop
%%Page: 23 41
23 40 bop Black Black 208 703 a FL(Chapter)31 b(3)208
910 y F5(An)38 b(Async)m(hronous)e(In)m(terface)208 1126
y F4(W)m(e)9 b(no)o(w)h(sp)q(ecify)h(an)e(in)o(terface)i(for)f
(transmitting)e(data)i(b)q(et)o(w)o(een)h(async)o(hronous)g(devices.)
208 1176 y(A)j FV(sender)k F4(and)c(a)f FV(r)n(e)n(c)n(eiver)18
b F4(are)c(connected)i(as)d(sho)o(wn)h(here.)p Black
Black 329 1239 194 4 v 329 1537 4 299 v 369 1401 a FC(Sender)p
519 1537 V 329 1540 194 4 v 702 1239 V 702 1537 4 299
v 247 w(Receiv)o(er)p 892 1537 V 702 1540 194 4 v 587
1283 a FB(val)584 1369 y(r)n(dy)p 519 1296 187 4 v 664
1294 a FA(-)p 519 1333 187 2 v 664 1332 a Fz(-)583 1470
y FB(ack)p 519 1482 V 519 1481 a Fz(\033)208 1620 y F4(Data)d(is)h(sen)
o(t)h(on)f FV(val)t F4(,)g(and)g(the)h FV(r)n(dy)i F4(and)d
FV(ack)17 b F4(lines)c(are)f(used)h(for)f(sync)o(hronization.)17
b(The)208 1670 y(sender)11 b(m)o(ust)f(w)o(ait)f(for)h(an)g(ac)o(kno)o
(wledgmen)o(t)f(\(an)h FV(A)n(ck)t F4(\))h(for)f(one)h(data)f(item)f(b)
q(efore)i(it)f(can)208 1719 y(send)16 b(the)g(next.)23
b(The)16 b(in)o(terface)g(uses)g(the)h(standard)e(t)o(w)o(o-phase)h
(handshak)o(e)g(proto)q(col,)208 1769 y(describ)q(ed)f(b)o(y)f(the)g
(follo)o(wing)e(sample)g(b)q(eha)o(vior:)p Black Black
332 1815 a FF(2)332 1890 y(4)p Black -41 x FV(val)36
b F4(=)23 b(26)360 1899 y FV(r)n(dy)30 b F4(=)23 b(0)360
1949 y FV(ack)28 b F4(=)23 b(0)p Black 544 1815 a FF(3)544
1890 y(5)594 1865 y FJ(Send)12 b FS(37)619 1899 y F0(\000)-6
b(!)734 1815 y FF(2)734 1890 y(4)p Black -41 x FV(val)36
b F4(=)23 b(37)762 1899 y FV(r)n(dy)30 b F4(=)23 b(1)762
1949 y FV(ack)28 b F4(=)23 b(0)p Black 946 1815 a FF(3)946
1890 y(5)1001 1862 y FJ(A)n(ck)997 1899 y F0(\000)-7
b(!)1087 1815 y FF(2)1087 1890 y(4)p Black 1114 1849
a FV(val)36 b F4(=)24 b(37)1114 1899 y FV(r)n(dy)30 b
F4(=)24 b(1)1114 1949 y FV(ack)k F4(=)c(1)p Black 1298
1815 a FF(3)1298 1890 y(5)1349 1865 y FJ(Send)12 b FS(4)1366
1899 y F0(\000)-7 b(!)415 2002 y FF(2)415 2077 y(4)p
Black -41 x FV(val)36 b F4(=)23 b(4)443 2085 y FV(r)n(dy)30
b F4(=)23 b(0)443 2135 y FV(ack)28 b F4(=)23 b(1)p Black
-133 x FF(3)606 2077 y(5)661 2051 y FJ(A)n(ck)657 2085
y F0(\000)-7 b(!)746 2002 y FF(2)746 2077 y(4)p Black
-41 x FV(val)36 b F4(=)23 b(4)774 2085 y FV(r)n(dy)30
b F4(=)23 b(0)774 2135 y FV(ack)28 b F4(=)23 b(0)p Black
-133 x FF(3)937 2077 y(5)988 2051 y FJ(Send)12 b FS(19)1013
2085 y F0(\000)-7 b(!)1128 2002 y FF(2)1128 2077 y(4)p
Black -41 x FV(val)36 b F4(=)23 b(19)1156 2085 y FV(r)n(dy)30
b F4(=)23 b(1)1156 2135 y FV(ack)28 b F4(=)23 b(0)p Black
1340 2002 a FF(3)1340 2077 y(5)1395 2051 y FJ(A)n(ck)1390
2085 y F0(\000)-6 b(!)34 b(\001)7 b(\001)g(\001)208 2218
y F4(\(It)14 b(do)q(esn't)g(matter)f(what)h(v)n(alue)f
FV(val)18 b F4(has)c(in)g(the)g(initial)e(state.\))270
2268 y(It's)h(easy)g(to)f(see)i(from)d(this)i(sample)f(b)q(eha)o(vior)g
(what)h(the)g(set)h(of)e(all)g(p)q(ossible)h(b)q(eha)o(v-)208
2317 y(iors)g(should)g(b)q(e|once)h(w)o(e)g(decide)g(what)f(the)h(data)
f(v)n(alues)g(are)h(that)g(can)f(b)q(e)h(sen)o(t.)19
b(But,)208 2367 y(b)q(efore)c(writing)f(the)h(TLA)636
2352 y FS(+)671 2367 y F4(sp)q(eci\014cation)g(that)g(describ)q(es)h
(these)g(b)q(eha)o(viors,)e(let's)h(lo)q(ok)208 2417
y(at)e(what)h(I'v)o(e)g(just)g(done.)270 2467 y(In)e(writing)g(this)h
(b)q(eha)o(vior,)f(I)g(made)f(the)i(decision)g(that)f
FV(val)17 b F4(and)12 b FV(r)n(dy)k F4(should)d(c)o(hange)208
2517 y(in)19 b(a)g(single)h(step.)36 b(The)20 b(v)n(alues)g(of)f(the)h
(v)n(ariables)f FV(val)24 b F4(and)19 b FV(r)n(dy)k F4(represen)o(t)f
(v)o(oltages)p Black 1936 2622 a(23)p Black eop
%%Page: 24 42
24 41 bop Black 208 275 a F4(24)747 b FR(CHAPTER)14 b(3.)32
b(AN)14 b(ASYNCHR)o(ONOUS)h(INTERF)-5 b(A)o(CE)p 208
282 1770 2 v Black 208 391 a F4(on)16 b(some)h(set)h(of)e(wires)i(in)e
(the)i(ph)o(ysical)f(device.)28 b(V)m(oltages)17 b(on)g(di\013eren)o(t)
h(wires)f(don't)208 441 y(c)o(hange)i(at)g(precisely)i(the)e(same)g
(instan)o(t.)34 b(I)19 b(decided)h(to)g(ignore)f(this)g(asp)q(ect)i(of)
d(the)208 491 y(ph)o(ysical)11 b(system)h(and)g(pretend)i(that)e(the)h
(v)n(alues)f(of)g FV(val)k F4(and)c FV(r)n(dy)k F4(represen)o(ted)f(b)o
(y)d(those)208 541 y(v)o(oltages)18 b(c)o(hange)h(instan)o(taneously)m
(.)32 b(This)18 b(simpli\014es)f(the)j(sp)q(eci\014cation,)g(but)f(at)f
(the)208 591 y(price)d(of)f(ignoring)g(what)h(ma)o(y)e(b)q(e)i(an)g
(imp)q(ortan)o(t)e(detail)h(of)g(the)i(system.)21 b(In)15
b(an)f(actual)208 640 y(implem)o(en)o(tation)h(of)j(the)g(proto)q(col,)
h(the)f(v)o(oltage)f(on)h(the)h FV(r)n(dy)i F4(line)d(shouldn't)g(c)o
(hange)208 690 y(un)o(til)11 b(the)i(v)o(oltages)f(on)g(the)g
FV(val)17 b F4(lines)12 b(ha)o(v)o(e)g(stabilized;)g(but)h(y)o(ou)f(w)o
(on't)f(learn)h(that)h(from)208 740 y(m)o(y)g(sp)q(eci\014cation.)24
b(Had)16 b(I)f(w)o(an)o(ted)h(the)g(sp)q(eci\014cation)h(to)e(con)o(v)o
(ey)h(this)f(requiremen)o(t,)h(I)208 790 y(w)o(ould)f(ha)o(v)o(e)i
(written)g(a)g(b)q(eha)o(vior)f(in)g(whic)o(h)h(the)g(v)n(alue)f(of)h
FV(val)j F4(and)d(the)g(v)n(alue)f(of)g FV(r)n(dy)208
840 y F4(c)o(hange)e(in)f(separate)i(steps.)270 889 y(A)c(sp)q
(eci\014cation)h(is)f(an)f(abstraction.)18 b(It)11 b(describ)q(es)i
(some)d(asp)q(ects)j(of)e(the)g(system)g(and)208 939
y(ignores)g(others.)18 b(W)m(e)12 b(w)o(an)o(t)f(the)h(sp)q
(eci\014cation)g(to)g(b)q(e)g(as)f(simple)f(as)i(p)q(ossible,)g(so)f(w)
o(e)h(w)o(an)o(t)208 989 y(to)h(ignore)g(as)g(man)o(y)f(details)h(as)g
(w)o(e)h(can.)k(But,)13 b(whenev)o(er)i(w)o(e)e(omit)f(some)g(asp)q
(ect)j(of)d(the)208 1039 y(system)k(from)f(the)i(sp)q(eci\014cation,)g
(w)o(e)g(admit)d(a)i(p)q(oten)o(tial)g(source)i(of)e(error.)27
b(With)16 b(m)o(y)208 1089 y(sp)q(eci\014cation,)f(w)o(e)f(can)h(v)o
(erify)f(the)h(correctness)j(of)c(a)g(system)h(that)f(uses)i(this)f(in)
o(terface,)208 1139 y(and)c(the)i(system)f(could)g(still)f(fail)f(b)q
(ecause)k(the)e(implemen)o(ter)e(didn't)i(kno)o(w)f(that)h(the)h
FV(val)208 1188 y F4(line)g(should)h(stabilize)f(b)q(efore)i(the)f
FV(r)n(dy)k F4(line)13 b(is)h(c)o(hanged.)270 1238 y(The)d(hardest)g
(part)g(of)f(writing)f(a)h(sp)q(eci\014cation)h(is)g(c)o(ho)q(osing)f
(the)h(prop)q(er)g(abstraction.)208 1288 y(I)16 b(can)g(teac)o(h)h(y)o
(ou)f(ab)q(out)g(TLA)718 1273 y FS(+)739 1288 y F4(,)g(so)g(expressing)
i(an)e(abstract)h(view)f(of)g(a)g(system)g(as)g(a)208
1338 y(TLA)295 1323 y FS(+)332 1338 y F4(sp)q(eci\014cation)h(b)q
(ecomes)f(a)g(straigh)o(tforw)o(ard)g(task.)25 b(But)17
b(I)f(don't)g(kno)o(w)g(ho)o(w)g(to)208 1388 y(teac)o(h)11
b(y)o(ou)f(ab)q(out)h(abstraction.)17 b(A)10 b(go)q(o)q(d)h(engineer)g
(kno)o(ws)g(ho)o(w)f(to)h(abstract)g(the)g(essence)208
1437 y(of)g(a)g(system)g(and)h(suppress)h(the)g(unimp)q(ortan)o(t)d
(details)h(when)h(sp)q(ecifying)g(and)f(designing)208
1487 y(it.)17 b(The)e(art)f(of)f(abstraction)h(is)g(learned)g(only)f
(through)h(exp)q(erience.)270 1537 y(When)k(writing)f(a)h(sp)q
(eci\014cation,)h(y)o(ou)e(m)o(ust)g(\014rst)i(c)o(ho)q(ose)f(the)h
(abstraction.)30 b(In)18 b(a)208 1587 y(TLA)295 1572
y FS(+)325 1587 y F4(sp)q(eci\014cation,)10 b(this)g(means)e(c)o(ho)q
(osing)h(the)h(v)n(ariables)f(that)g(represen)o(t)j(the)e(system's)208
1637 y(state)h(and)g(the)g(gran)o(ularit)o(y)e(of)h(the)i(steps)g(that)
f(c)o(hange)g(those)g(v)n(ariables')f(v)n(alues.)16 b(Should)208
1686 y(the)11 b FV(r)n(dy)k F4(and)c FV(ack)16 b F4(lines)11
b(b)q(e)h(represen)o(ted)h(as)f(separate)g(v)n(ariables)e(or)i(as)f(a)g
(single)f(v)n(ariable?)208 1736 y(Should)16 b FV(val)22
b F4(and)17 b FV(r)n(dy)k F4(c)o(hange)d(in)f(one)g(step,)i(t)o(w)o(o)e
(steps,)i(or)e(an)h(arbitrary)f(n)o(um)o(b)q(er)f(of)208
1786 y(steps?)22 b(T)m(o)14 b(help)h(mak)o(e)f(these)i(c)o(hoices,)g(I)
f(recommend)e(that)i(y)o(ou)g(start)g(b)o(y)g(writing)f(the)208
1836 y(\014rst)h(few)f(steps)h(of)f(one)g(or)h(t)o(w)o(o)e(sample)g(b)q
(eha)o(viors,)h(just)h(as)f(I)g(did)g(at)g(the)h(b)q(eginning)e(of)208
1886 y(this)h(section.)k(Chapter)d(7)e(has)h(more)f(to)h(sa)o(y)g(ab)q
(out)g(these)h(c)o(hoices.)208 2044 y FN(3.1)81 b(The)27
b(First)f(Sp)r(eci\014cation)208 2135 y F4(Let's)17 b(sp)q(ecify)g(the)
g(async)o(hronous)g(in)o(terface)h(with)e(a)g(mo)q(dule)g
FV(AsynchInterfac)n(e)s F4(.)26 b(The)208 2185 y(sp)q(eci\014cation)15
b(uses)i(subtraction)e(of)g(natural)g(n)o(um)o(b)q(ers,)f(so)i(our)f
(mo)q(dule)e FP(extends)j F4(the)208 2235 y FV(Natur)n(als)h
F4(mo)q(dule)12 b(to)j(incorp)q(orate)f(the)h(de\014nition)f(of)g(the)h
(subtraction)g(op)q(erator)g(\\)p F0(\000)p F4(".)208
2284 y(W)m(e)g(next)i(decide)g(what)g(the)g(p)q(ossible)f(v)n(alues)g
(of)g FV(val)k F4(should)c(b)q(e|that)h(is,)f(what)g(data)208
2334 y(v)n(alues)h(ma)o(y)e(b)q(e)k(sen)o(t.)29 b(W)m(e)17
b(could)h(write)g(a)f(sp)q(eci\014cation)h(that)g(places)g(no)f
(restriction)208 2384 y(on)g(the)g(data)g(v)n(alues.)28
b(The)18 b(sp)q(eci\014cation)g(could)f(allo)o(w)e(the)j(sender)h
(\014rst)f(to)f(send)h(37,)208 2434 y(then)d(to)g(send)451
2401 y F0(p)p 486 2401 74 2 v 33 x(\000)p F4(15,)f(and)h(then)h(to)f
(send)h FV(Nat)j F4(\(the)d(en)o(tire)f(set)h(of)f(natural)g(n)o(um)o
(b)q(ers\).)208 2484 y(Ho)o(w)o(ev)o(er,)d(an)o(y)h(real)f(device)i
(can)f(send)h(only)e(a)g(restricted)j(set)f(of)e(v)n(alues.)17
b(W)m(e)c(could)f(pic)o(k)p Black Black eop
%%Page: 25 43
25 42 bop Black 208 275 a FR(3.1.)30 b(THE)15 b(FIRST)e(SPECIFICA)m
(TION)1057 b F4(25)p 208 282 1770 2 v Black 208 391 a(some)16
b(sp)q(eci\014c)j(set|for)e(example,)g(32-bit)f(n)o(um)o(b)q(ers.)29
b(Ho)o(w)o(ev)o(er,)18 b(the)g(proto)q(col)f(is)g(the)208
441 y(same)11 b(regardless)j(of)d(whether)j(it's)e(used)h(to)f(send)i
(32-bit)d(n)o(um)o(b)q(ers)h(or)h(128-bit)e(n)o(um)o(b)q(ers.)208
491 y(So,)16 b(w)o(e)h(compromise)d(b)q(et)o(w)o(een)k(the)f(t)o(w)o(o)
f(extremes)h(of)f(allo)o(wing)e(an)o(ything)i(to)g(b)q(e)h(sen)o(t)208
541 y(and)11 b(allo)o(wing)e(only)i(32-bit)f(n)o(um)o(b)q(ers)h(to)g(b)
q(e)h(sen)o(t)h(b)o(y)e(assuming)f(only)g(that)i(there)g(is)g(some)208
591 y(set)i FV(Data)k F4(of)13 b(data)g(v)n(alues)h(that)g(ma)o(y)e(b)q
(e)i(sen)o(t.)19 b(The)14 b(constan)o(t)g FV(Data)k F4(is)c(a)f
(parameter)g(of)208 640 y(the)h(sp)q(eci\014cation.)19
b(It's)14 b(declared)h(b)o(y)e(the)i(statemen)o(t)p Black
Black 332 723 a FP(const)m(ant)h FV(Data)208 806 y F4(Our)e(three)h(v)n
(ariables)e(are)i(declared)g(b)o(y)p Black Black 332
889 a FP(v)l(ariables)j FV(val)t FQ(;)7 b FV(r)n(dy)t
FQ(;)g FV(ack)208 972 y F4(The)12 b(k)o(eyw)o(ords)g
FP(v)l(ariable)h F4(and)f FP(v)l(ariables)h F4(are)f(synon)o(ymous,)f
(as)h(are)g FP(const)m(ant)g F4(and)208 1022 y FP(const)m(ants)p
F4(.)270 1072 y(The)j(v)n(ariable)f FV(r)n(dy)19 b F4(can)c(assume)g
(an)o(y)f(v)n(alue|for)g(example,)g F0(\000)p F4(1)p
FQ(=)p F4(2.)21 b(That)15 b(is,)g(there)208 1122 y(exist)10
b(states)i(that)e(assign)g(the)h(v)n(alue)f F0(\000)p
F4(1)p FQ(=)p F4(2)g(to)g FV(r)n(dy)t F4(.)16 b(When)11
b(discussing)g(the)g(sp)q(eci\014cation,)208 1172 y(w)o(e)f(usually)f
(sa)o(y)g(that)h FV(r)n(dy)k F4(can)c(assume)f(only)g(the)i(v)n(alues)e
(0)h(and)g(1.)16 b(What)10 b(w)o(e)g(really)f(mean)208
1222 y(is)i(that)h(the)g(v)n(alue)f(of)g FV(r)n(dy)k
F4(equals)d(0)f(or)h(1)g(in)f(ev)o(ery)h(state)h(of)e(an)o(y)g(b)q(eha)
o(vior)g(satisfying)g(the)208 1271 y(sp)q(eci\014cation.)18
b(But)12 b(a)g(reader)i(of)d(the)i(sp)q(eci\014cation)g(shouldn't)f(ha)
o(v)o(e)g(to)g(understand)h(the)208 1321 y(complete)i(sp)q
(eci\014cation)h(to)g(\014gure)g(this)g(out.)23 b(W)m(e)15
b(can)h(mak)o(e)e(the)j(sp)q(eci\014cation)f(easier)208
1371 y(to)f(understand)j(b)o(y)d(telling)g(the)i(reader)g(what)f(v)n
(alues)g(the)h(v)n(ariables)e(can)h(assume)g(in)f(a)208
1421 y(b)q(eha)o(vior)d(that)h(satis\014es)h(the)f(sp)q(eci\014cation.)
19 b(W)m(e)12 b(could)h(do)g(this)g(with)f(commen)o(ts,)f(but)i(I)208
1471 y(prefer)i(to)e(use)i(a)f(de\014nition)f(lik)o(e)g(this)h(one:)p
Black Black 332 1558 a FV(T)m(yp)n(eInvariant)628 1534
y FI(\001)624 1558 y F4(=)35 b(\()p FV(val)15 b F0(2)d
FV(Data)s F4(\))17 b F0(^)f F4(\()p FV(r)n(dy)f F0(2)c(f)p
F4(0)p FQ(;)c F4(1)p F0(g)p F4(\))15 b F0(^)g F4(\()p
FV(ack)i F0(2)11 b(f)p F4(0)p FQ(;)c F4(1)p F0(g)p F4(\))208
1641 y(I)16 b(call)f(the)i(set)g F0(f)p F4(0)p FQ(;)7
b F4(1)p F0(g)14 b F4(the)j FV(typ)n(e)i F4(of)d FV(r)n(dy)t
F4(,)f(and)h(I)g(call)g FV(T)m(yp)n(eInvariant)k F4(a)15
b FV(typ)n(e)i(invariant)p F4(.)208 1691 y(Let's)d(de\014ne)h
FV(typ)n(e)i F4(and)d(some)f(other)h(terms)g(more)f(precisely)m(.)p
Black 270 1774 a F0(\017)p Black 20 w F4(A)i FV(state)g(function)j
F4(is)d(an)f(ordinary)g(expression)h(\(one)g(with)f(no)h(prime)e(or)h
FG(2)p F4(\))h(that)311 1824 y(can)f(con)o(tain)g(v)n(ariables)f(and)h
(constan)o(ts.)p Black 270 1907 a F0(\017)p Black 20
w F4(A)g FV(state)h(pr)n(e)n(dic)n(ate)i F4(is)c(a)h(Bo)q(olean-v)n
(alued)f(state)i(function.)p Black 270 1990 a F0(\017)p
Black 20 w F4(An)20 b FV(invariant)j(Inv)h F4(of)19 b(a)g(sp)q
(eci\014cation)h FV(Sp)n(e)n(c)j F4(is)c(a)g(state)h(predicate)h(suc)o
(h)f(that)311 2039 y FV(Sp)n(e)n(c)15 b F0(\))c FG(2)p
FV(Inv)19 b F4(is)13 b(a)h(theorem.)p Black 270 2122
a F0(\017)p Black 20 w F4(A)g(v)n(ariable)e FV(v)17 b
F4(has)d FV(typ)n(e)i(T)j F4(in)12 b(a)h(sp)q(eci\014cation)h
FV(Sp)n(e)n(c)i F4(i\013)d FV(v)j F0(2)11 b FV(T)19 b
F4(is)13 b(an)g(in)o(v)n(arian)o(t)e(of)311 2172 y FV(Sp)n(e)n(c)r
F4(.)208 2255 y(W)m(e)18 b(can)i(mak)o(e)e(the)i(de\014nition)e(of)h
FV(T)m(yp)n(eInvariant)k F4(easier)d(to)g(read)f(b)o(y)g(writing)g(it)g
(as)208 2305 y(follo)o(ws.)p Black Black 332 2388 a FV(T)m(yp)n
(eInvariant)628 2365 y FI(\001)624 2388 y F4(=)35 b F0(^)13
b FV(val)j F0(2)11 b FV(Data)691 2438 y F0(^)i FV(r)n(dy)i
F0(2)c(f)p F4(0)p FQ(;)c F4(1)p F0(g)691 2488 y(^)13
b FV(ack)k F0(2)11 b(f)p F4(0)p FQ(;)c F4(1)p F0(g)p
Black Black eop
%%Page: 26 44
26 43 bop Black 208 275 a F4(26)747 b FR(CHAPTER)14 b(3.)32
b(AN)14 b(ASYNCHR)o(ONOUS)h(INTERF)-5 b(A)o(CE)p 208
282 1770 2 v Black 208 391 a F4(Eac)o(h)19 b(conjunct)h(b)q(egins)f
(with)g(a)g F0(^)f F4(and)h(m)o(ust)f(lie)h(completely)f(to)h(the)h
(righ)o(t)e(of)h(that)208 441 y F0(^)p F4(.)29 b(\(The)18
b(conjunct)g(ma)o(y)e(o)q(ccup)o(y)i(m)o(ultiple)e(lines\).)29
b(W)m(e)17 b(use)i(a)e(similar)e(notation)i(for)208 491
y(disjunctions.)g(When)c(using)g(this)f(bulleted-list)h(notation,)e
(the)j F0(^)p F4('s)e(or)h F0(_)p F4('s)f(m)o(ust)g(line)g(up)208
541 y(precisely)f(\(ev)o(en)g(in)f(the)h FP(asci)q(i)f
F4(input\).)16 b(Because)d(the)e(inden)o(tation)f(is)g(signi\014can)o
(t,)g(w)o(e)h(can)208 591 y(eliminate)f(paren)o(theses,)k(making)c
(this)j(notation)e(esp)q(ecially)i(useful)g(when)g(conjunctions)208
640 y(and)g(disjunctions)h(are)g(nested.)270 690 y(The)h(form)o(ula)d
FV(T)m(yp)n(eInvariant)18 b F4(will)13 b(not)i(app)q(ear)f(as)h(part)g
(of)f(the)h(sp)q(eci\014cation.)20 b(W)m(e)208 740 y(do)11
b(not)g(assume)g(that)h FV(T)m(yp)n(eInvariant)k F4(is)11
b(an)g(in)o(v)n(arian)o(t;)g(the)h(sp)q(eci\014cation)g(should)f(imply)
208 790 y(that)i(it)h(is.)k(In)c(fact,)f(its)h(in)o(v)n(ariance)f(will)
g(b)q(e)h(asserted)i(as)e(a)f(theorem.)270 840 y(The)h(initial)f
(predicate)i(is)f(straigh)o(tforw)o(ard.)k(Initially)m(,)11
b FV(val)19 b F4(can)14 b(equal)g(an)o(y)f(elemen)o(t)208
889 y(of)g FV(Data)s F4(.)19 b(W)m(e)13 b(can)h(start)h(with)e
FV(r)n(dy)k F4(and)d FV(ack)19 b F4(either)c(b)q(oth)f(0)f(or)h(b)q
(oth)g(1.)p Black Black 332 973 a FV(Init)441 950 y FI(\001)436
973 y F4(=)35 b F0(^)14 b FV(val)i F0(2)11 b FV(Data)503
1023 y F0(^)j FV(r)n(dy)h F0(2)c(f)p F4(0)p FQ(;)c F4(1)p
F0(g)503 1073 y(^)14 b FV(ack)i F4(=)c FV(r)n(dy)208
1158 y F4(No)o(w)h(for)h(the)g(next-state)h(action)f
FV(Next)t F4(.)k(A)c(step)h(of)f(the)g(proto)q(col)g(either)h(sends)g
(a)f(v)n(alue)208 1207 y(or)j(receiv)o(es)i(a)e(v)n(alue.)27
b(W)m(e)17 b(de\014ne)h(separately)g(the)g(t)o(w)o(o)f(actions)g
FV(Send)23 b F4(and)17 b FV(R)n(cv)22 b F4(that)208 1257
y(describ)q(e)13 b(the)g(sending)f(and)f(receiving)h(of)g(a)f(v)n
(alue.)17 b(A)12 b FV(Next)j F4(step)e(\(one)f(satisfying)f(action)208
1307 y FV(Next)t F4(\))i(is)g(either)g(a)g FV(Send)19
b F4(step)14 b(or)f(a)f FV(R)n(cv)18 b F4(step,)c(so)f(it)g(is)g(a)f
FV(Send)h F0(_)7 b FV(R)n(cv)18 b F4(step.)h(Therefore,)208
1357 y FV(Next)e F4(is)d(de\014ned)h(to)f(equal)f FV(Send)i
F0(_)9 b FV(R)n(cv)t F4(.)19 b(Let's)14 b(no)o(w)f(de\014ne)i
FV(Send)k F4(and)14 b FV(R)n(cv)t F4(.)270 1407 y(W)m(e)i(sa)o(y)h
(that)g(action)f FV(Send)22 b F4(is)17 b FV(enable)n(d)22
b F4(in)16 b(a)g(state)i(from)d(whic)o(h)i(it)f(is)h(p)q(ossible)g(to)
208 1457 y(tak)o(e)12 b(a)h FV(Send)k F4(step.)i(F)m(rom)11
b(the)i(sample)e(b)q(eha)o(vior)i(ab)q(o)o(v)o(e,)f(w)o(e)h(see)h(that)
e FV(Send)18 b F4(is)13 b(enabled)208 1506 y(i\013)i
FV(r)n(dy)k F4(equals)d FV(ack)t F4(.)25 b(Usually)m(,)14
b(the)j(\014rst)f(question)g(w)o(e)g(ask)g(ab)q(out)g(an)f(action)h
(is,)f(when)208 1556 y(is)i(it)f(enabled?)28 b(So,)18
b(the)f(de\014nition)g(of)f(an)h(action)g(usually)f(b)q(egins)i(with)f
(its)g(enabling)208 1606 y(condition.)23 b(The)17 b(\014rst)g(conjunct)
f(in)g(the)h(de\014nition)e(of)h FV(Send)21 b F4(is)16
b(therefore)h FV(r)n(dy)i F4(=)d FV(ack)t F4(.)208 1656
y(The)h(next)g(conjuncts)h(tell)e(us)h(what)g(the)g(new)g(v)n(alues)f
(of)g(the)i(v)n(ariables)e FV(val)t F4(,)h FV(r)n(dy)t
F4(,)f(and)208 1706 y FV(ack)21 b F4(are.)27 b(The)17
b(new)g(v)n(alue)f FV(val)723 1691 y FH(0)752 1706 y
F4(of)g FV(val)21 b F4(can)c(b)q(e)g(an)o(y)f(elemen)o(t)g(of)h
FV(Data)s F4(|that)g(is,)f(an)o(y)208 1755 y(v)n(alue)d(satisfying)g
FV(val)555 1740 y FH(0)578 1755 y F0(2)f FV(Data)s F4(.)19
b(The)14 b(v)n(alue)f(of)h FV(r)n(dy)j F4(c)o(hanges)e(from)d(0)i(to)g
(1)f(or)h(from)e(1)i(to)208 1805 y(0,)e(so)i FV(r)n(dy)365
1790 y FH(0)390 1805 y F4(equals)f(1)8 b F0(\000)h FV(r)n(dy)17
b F4(\(b)q(ecause)e(1)d(=)f(1)e F0(\000)f F4(0)14 b(and)f(0)e(=)h(1)c
F0(\000)h F4(1\).)18 b(The)c(v)n(alue)f(of)g FV(ack)18
b F4(is)208 1855 y(left)13 b(unc)o(hanged.)270 1905 y(TLA)357
1890 y FS(+)395 1905 y F4(de\014nes)19 b FP(unchanged)e
FV(v)23 b F4(to)17 b(mean)g(that)g(the)i(expression)f
FV(v)23 b F4(has)17 b(the)i(same)208 1955 y(v)n(alue)14
b(in)h(the)h(old)f(and)g(new)h(states.)23 b(More)16 b(precisely)m(,)g
FP(unchanged)h FV(v)j F4(equals)15 b FV(v)1538 1940 y
FH(0)1565 1955 y F4(=)f FV(v)t F4(,)208 2004 y(where)i
FV(v)352 1989 y FH(0)379 2004 y F4(is)f(the)g(expression)h(obtained)f
(from)e FV(v)20 b F4(b)o(y)14 b(priming)f(all)h(its)h(v)n(ariables.)20
b(So,)15 b(w)o(e)208 2054 y(de\014ne)f FV(Send)20 b F4(b)o(y)p
Black Black 332 2138 a FV(Send)463 2114 y FI(\001)458
2138 y F4(=)35 b F0(^)13 b FV(r)n(dy)i F4(=)d FV(ack)525
2188 y F0(^)h FV(val)621 2173 y FH(0)645 2188 y F0(2)e
FV(Data)525 2238 y F0(^)i FV(r)n(dy)627 2222 y FH(0)650
2238 y F4(=)f(1)d F0(\000)g FV(r)n(dy)525 2287 y F0(^)k
FP(unchanged)18 b FV(ack)208 2367 y F4(\(I)12 b(could)f(ha)o(v)o(e)h
(written)h FV(ack)660 2352 y FH(0)684 2367 y F4(=)f FV(ack)k
F4(instead)d(of)e FP(unchanged)17 b FV(ack)t F4(,)c(but)f(I)g(prefer)h
(to)f(use)208 2417 y(the)i FP(unchanged)h F4(construct)h(in)d(sp)q
(eci\014cations.\))270 2467 y(A)g FV(R)n(cv)18 b F4(step)d(is)e
(enabled)h(i\013)f FV(r)n(dy)k F4(is)c(di\013eren)o(t)h(from)e
FV(ack)t F4(;)i(it)f(complemen)o(ts)f(the)i(v)n(alue)208
2517 y(of)c FV(ack)15 b F4(and)c(lea)o(v)o(es)g FV(val)k
F4(and)c FV(r)n(dy)j F4(unc)o(hanged.)j(Both)11 b FV(val)k
F4(and)c FV(r)n(dy)j F4(are)d(left)g(unc)o(hanged)g(i\013)p
Black Black eop
%%Page: 27 45
27 44 bop Black 208 275 a FR(3.1.)30 b(THE)15 b(FIRST)e(SPECIFICA)m
(TION)1057 b F4(27)p 208 282 1770 2 v Black Black Black
Black 188 395 2 25 v 190 372 493 2 v 696 379 a FP(module)15
b FV(AsynchInterfac)n(e)p 1171 372 V 1664 395 2 25 v
Black Black 208 454 a FP(extends)h FV(Natur)n(als)208
504 y FP(const)m(ant)21 b FV(Data)208 553 y FP(v)l(ariables)c
FV(val)t FQ(;)7 b FV(r)n(dy)t FQ(;)g FV(ack)208 614 y(T)m(yp)n
(eInvariant)504 591 y FI(\001)499 614 y F4(=)35 b F0(^)15
b FV(val)g F0(2)d FV(Data)566 664 y F0(^)j FV(r)n(dy)g
F0(2)c(f)p F4(0)p FQ(;)c F4(1)p F0(g)566 714 y(^)15 b
FV(ack)h F0(2)11 b(f)p F4(0)p FQ(;)c F4(1)p F0(g)p 188
746 V 190 735 1475 2 v 1665 745 2 25 v 208 783 a FV(Init)327
760 y FI(\001)322 783 y F4(=)23 b F0(^)15 b FV(val)h
F0(2)11 b FV(Data)377 833 y F0(^)k FV(r)n(dy)g F0(2)c(f)p
F4(0)p FQ(;)c F4(1)p F0(g)377 883 y(^)15 b FV(ack)h F4(=)c
FV(r)n(dy)208 948 y(Send)327 924 y FI(\001)322 948 y
F4(=)23 b F0(^)15 b FV(r)n(dy)g F4(=)d FV(ack)377 997
y F0(^)j FV(val)475 982 y FH(0)498 997 y F0(2)c FV(Data)377
1047 y F0(^)k FV(r)n(dy)481 1032 y FH(0)503 1047 y F4(=)d(1)d
F0(\000)h FV(r)n(dy)377 1097 y F0(^)15 b FP(unchanged)i
FV(ack)208 1162 y(R)n(cv)327 1138 y FI(\001)322 1162
y F4(=)23 b F0(^)15 b FV(r)n(dy)g F0(6)p F4(=)d FV(ack)377
1212 y F0(^)j FV(ack)483 1196 y FH(0)507 1212 y F4(=)d(1)d
F0(\000)g FV(ack)377 1261 y F0(^)15 b FP(unchanged)i
F0(h)s FV(val)t FQ(;)7 b FV(r)n(dy)g F0(i)208 1326 y
FV(Next)327 1303 y FI(\001)322 1326 y F4(=)23 b FV(Send)f
F0(_)15 b FV(R)n(cv)208 1383 y(Sp)n(e)n(c)327 1359 y
FI(\001)322 1383 y F4(=)23 b FV(Init)d F0(^)c FG(2)p
F4([)p FV(Next)t F4(])649 1390 y FH(h)s FJ(val)s Fy(;)p
FJ(r)n(dy)r Fy(;)p FJ(ack)s FH(i)p 188 1430 V 190 1419
1475 2 v 1665 1430 2 25 v 208 1468 a FP(theorem)g FV(Sp)n(e)n(c)e
F0(\))d FG(2)p FV(T)m(yp)n(eInvariant)p 188 1510 V 190
1510 1475 2 v 1665 1510 2 25 v Black 337 1600 a FU(Figure)j(3.1:)19
b F4(Our)14 b(\014rst)h(sp)q(eci\014cation)g(of)e(an)h(async)o(hronous)
g(in)o(terface.)p Black Black 208 1716 a(the)d(pair)f(of)h(v)n(alues)f
FV(val)t F4(,)h FV(r)n(dy)j F4(is)d(left)g(unc)o(hanged.)17
b(TLA)1089 1701 y FS(+)1121 1716 y F4(uses)12 b(angle)e(brac)o(k)o(ets)
i F0(h)i F4(and)g F0(i)d F4(to)208 1766 y(enclose)k(ordered)g(tuples,)f
(so)g FV(R)n(cv)19 b F4(asserts)c(that)f F0(h)s FV(val)t
FQ(;)h FV(r)n(dy)6 b F0(i)14 b F4(is)g(left)g(unc)o(hanged.)19
b(\(Angle)208 1816 y(brac)o(k)o(ets)14 b(are)h(t)o(yp)q(ed)f(in)g
FP(asci)q(i)f F4(as)g FO(<<)h F4(and)g FO(>>)p F4(.\))j(The)e
(de\014nition)e(of)g FV(R)n(cv)19 b F4(is)14 b(therefore)p
Black Black 332 1906 a FV(R)n(cv)442 1882 y FI(\001)437
1906 y F4(=)35 b F0(^)14 b FV(r)n(dy)h F0(6)p F4(=)d
FV(ack)504 1955 y F0(^)i FV(ack)609 1940 y FH(0)633 1955
y F4(=)e(1)d F0(\000)g FV(ack)504 2005 y F0(^)14 b FP(unchanged)j
F0(h)s FV(val)t FQ(;)7 b FV(r)n(dy)g F0(i)208 2094 y
F4(As)12 b(in)g(our)g(clo)q(c)o(k)g(example,)f(the)h(complete)g(sp)q
(eci\014cation)h FV(Sp)n(e)n(c)i F4(should)d(allo)o(w)e(stuttering)208
2144 y(steps|in)g(this)h(case,)g(ones)g(that)f(lea)o(v)o(e)g(all)f
(three)j(v)n(ariables)d(unc)o(hanged.)18 b(So,)10 b FV(Sp)n(e)n(c)j
F4(allo)o(ws)208 2193 y(steps)i(that)f(lea)o(v)o(e)f
F0(h)s FV(val)t FQ(;)7 b FV(r)n(dy)t FQ(;)g FV(ack)h
F0(i)14 b F4(unc)o(hanged.)k(Its)d(de\014nition)e(is)p
Black Black 332 2283 a FV(Sp)n(e)n(c)452 2259 y FI(\001)448
2283 y F4(=)34 b FV(Init)20 b F0(^)c FG(2)p F4([)p FV(Next)t
F4(])786 2290 y FH(h)s FJ(val)s Fy(;)p FJ(r)n(dy)r Fy(;)p
FJ(ack)s FH(i)208 2366 y F4(Mo)q(dule)11 b FV(AsynchInterfac)n(e)j
F4(also)c(asserts)j(the)e(in)o(v)n(ariance)g(of)f FV(T)m(yp)n
(eInvariant)t F4(.)17 b(It)11 b(app)q(ears)208 2416 y(in)i(full)g(in)g
(Figure)h(3.1)f(on)h(this)g(page.)p Black Black eop
%%Page: 28 46
28 45 bop Black 208 275 a F4(28)747 b FR(CHAPTER)14 b(3.)32
b(AN)14 b(ASYNCHR)o(ONOUS)h(INTERF)-5 b(A)o(CE)p 208
282 1770 2 v Black 208 400 a FN(3.2)81 b(Another)27 b(Sp)r
(eci\014cation)208 491 y F4(Mo)q(dule)13 b FV(AsynchInterfac)n(e)k
F4(is)d(a)f(\014ne)h(description)h(of)e(the)h(in)o(terface)g(and)g(its)
g(handshak)o(e)208 540 y(proto)q(col.)24 b(Ho)o(w)o(ev)o(er,)17
b(it's)e(not)h(w)o(ell)g(suited)h(for)e(helping)h(to)g(sp)q(ecify)h
(systems)f(that)g(use)208 590 y(the)h(in)o(terface.)27
b(Let's)17 b(rewrite)h(the)f(in)o(terface)g(sp)q(eci\014cation)g(in)g
(a)f(form)f(that)i(mak)o(es)e(it)208 640 y(more)d(con)o(v)o(enien)o(t)j
(to)e(use)i(as)f(part)g(of)f(a)h(larger)g(sp)q(eci\014cation.)270
690 y(The)d(\014rst)h(problem)e(with)g(the)i(original)d(sp)q
(eci\014cation)j(is)e(that)i(it)e(uses)i(three)h(v)n(ariables)208
740 y(to)h(describ)q(e)i(a)e(single)g(in)o(terface.)20
b(A)15 b(system)f(migh)o(t)e(use)k(sev)o(eral)f(di\013eren)o(t)g
(instances)g(of)208 789 y(the)c(in)o(terface.)18 b(T)m(o)11
b(a)o(v)o(oid)f(a)h(proliferation)f(of)h(v)n(ariables,)f(w)o(e)i
(replace)g(the)g(three)h(v)n(ariables)208 839 y FV(val)t
F4(,)g FV(r)n(dy)t F4(,)g FV(ack)19 b F4(with)14 b(a)g(single)g(v)n
(ariable)f FV(chan)18 b F4(\(short)c(for)g FV(channel)t
F4(\).)20 b(A)14 b(mathematician)208 889 y(w)o(ould)f(do)g(this)h(b)o
(y)g(letting)g(the)g(v)n(alue)f(of)h FV(chan)k F4(b)q(e)c(an)g(ordered)
h(triple|for)e(example,)f(a)208 939 y(state)k([)p FV(chan)h
F4(=)d F0(h)s(\000)p F4(1)p FQ(=)p F4(2)p FQ(;)g F4(0)p
FQ(;)f F4(1)s F0(i)p F4(])i(migh)o(t)e(replace)j(the)g(state)g(with)f
FV(val)j F4(=)c F0(\000)p F4(1)p FQ(=)p F4(2,)g FV(r)n(dy)k
F4(=)c(0,)208 989 y(and)f FV(ack)j F4(=)c(1.)17 b(But)d(programmers)e
(ha)o(v)o(e)h(learned)h(that)f(using)g(tuples)h(lik)o(e)e(this)i(leads)
f(to)208 1038 y(mistak)o(es;)f(it's)h(easy)h(to)f(forget)h(if)f(the)h
FV(ack)k F4(line)13 b(is)h(represen)o(ted)i(b)o(y)d(the)i(second)f(or)g
(third)208 1088 y(comp)q(onen)o(t.)21 b(TLA)527 1073
y FS(+)562 1088 y F4(therefore)c(pro)o(vides)e(records)i(in)e(addition)
f(to)h(more)f(con)o(v)o(en)o(tional)208 1138 y(mathematical)c
(notation.)270 1188 y(Let's)16 b(represen)o(t)j(the)e(state)g(of)e(the)
i(c)o(hannel)f(as)h(a)f(record)h(with)f FV(val)t F4(,)g
FV(r)n(dy)t F4(,)g(and)g FV(ack)208 1238 y F4(\014elds.)i(If)12
b FV(r)17 b F4(is)12 b(suc)o(h)i(a)f(record,)g(then)h
FV(r)t FQ(:)p FV(val)i F4(is)d(its)g FV(val)k F4(\014eld.)g(The)d(t)o
(yp)q(e)f(in)o(v)n(arian)o(t)e(asserts)208 1288 y(that)17
b(the)g(v)n(alue)g(of)f FV(chan)21 b F4(is)c(an)g(elemen)o(t)f(of)g
(the)i(set)g(of)e(all)g(suc)o(h)i(records)h FV(r)h F4(in)d(whic)o(h)208
1337 y FV(r)t FQ(:)p FV(val)g F4(is)e(an)f(elemen)o(t)f(of)h(the)h(set)
g FV(Data)j F4(and)c FV(r)t FQ(:)p FV(r)n(dy)j F4(and)d
FV(r)t FQ(:)p FV(ack)19 b F4(are)14 b(elemen)o(ts)g(of)g(the)h(set)208
1387 y F0(f)p F4(0)p FQ(;)7 b F4(1)p F0(g)p F4(.)16 b(This)e(set)h(of)e
(records)i(is)f(written)p Black Black 332 1470 a([)p
FV(val)e F4(:)c FV(Data)s FQ(;)18 b FV(r)n(dy)12 b F4(:)7
b F0(f)p F4(0)p FQ(;)g F4(1)p F0(g)p FQ(;)17 b FV(ack)c
F4(:)7 b F0(f)p F4(0)p FQ(;)g F4(1)p F0(g)p F4(])208
1553 y(The)17 b(\014elds)h(of)f(a)g(record)h(are)g(not)f(ordered,)i(so)
e(it)g(do)q(esn't)h(matter)f(in)f(what)i(order)g(w)o(e)208
1603 y(write)c(them.)j(This)d(same)f(set)i(of)e(records)i(can)f(also)g
(b)q(e)g(written)h(as)p Black Black 332 1686 a([)p FV(ack)e
F4(:)7 b F0(f)p F4(0)p FQ(;)g F4(1)p F0(g)p FQ(;)17 b
FV(val)12 b F4(:)c FV(Data)s FQ(;)18 b FV(r)n(dy)12 b
F4(:)7 b F0(f)p F4(0)p FQ(;)g F4(1)p F0(g)p F4(])208
1769 y(Initially)m(,)14 b FV(chan)21 b F4(can)d(equal)e(an)o(y)h
(elemen)o(t)f(of)h(this)g(set)g(whose)h FV(ack)k F4(and)17
b FV(r)n(dy)j F4(\014elds)d(are)208 1819 y(equal,)f(so)g(the)h(initial)
d(predicate)k(is)e(the)h(conjunction)f(of)g(the)h(t)o(yp)q(e)f(in)o(v)n
(arian)o(t)f(and)h(the)208 1869 y(condition)d FV(chan)s
FQ(:)p FV(ack)k F4(=)12 b FV(chan)s FQ(:)p FV(r)n(dy)t
F4(.)270 1919 y(A)h(system)g(that)h(uses)g(the)g(in)o(terface)g(ma)o(y)
e(p)q(erform)g(an)h(op)q(eration)h(that)f(sends)i(some)208
1968 y(data)j(v)n(alue)h FV(d)24 b F4(and)19 b(p)q(erforms)g(some)f
(other)i(c)o(hanges)g(that)f(dep)q(end)h(on)f(the)h(v)n(alue)f
FV(d)t F4(.)208 2018 y(W)m(e'd)d(lik)o(e)g(to)h(represen)o(t)j(suc)o(h)
d(an)g(op)q(eration)g(as)g(an)g(action)g(that)g(is)g(the)h(conjunction)
208 2068 y(of)13 b(t)o(w)o(o)h(separate)h(actions:)k(one)14
b(that)g(describ)q(es)i(the)f(sending)f(of)g FV(d)k F4(and)c(the)h
(other)g(that)208 2118 y(describ)q(es)e(the)f(other)g(c)o(hanges.)18
b(Th)o(us,)12 b(instead)g(of)f(de\014ning)g(an)g(action)g
FV(Send)17 b F4(that)12 b(sends)208 2168 y(some)f(unsp)q(eci\014ed)i
(data)f(v)n(alue,)f(w)o(e)i(de\014ne)g(the)g(action)e
FV(Send)t F4(\()p FV(d)t F4(\))j(that)e(sends)i(data)e(v)n(alue)208
2217 y FV(d)t F4(.)20 b(The)15 b(next-state)h(action)f(is)f
(satis\014ed)i(b)o(y)e(a)g FV(Send)t F4(\()p FV(d)t F4(\))j(step,)e
(for)g(some)e FV(d)20 b F4(in)14 b FV(Data)s F4(,)h(or)208
2267 y(a)h FV(R)n(cv)21 b F4(step.)27 b(\(The)17 b(v)n(alue)f(receiv)o
(ed)i(b)o(y)f(a)f FV(R)n(cv)21 b F4(step)d(equals)e FV(chan)s
FQ(:)p FV(val)t F4(.\))27 b(Sa)o(ying)16 b(that)208 2317
y(a)i(step)i(is)e(a)h FV(Send)t F4(\()p FV(d)t F4(\))i(step)e(for)g
(some)f FV(d)23 b F4(in)18 b FV(Data)k F4(means)c(that)h(there)h
(exists)g(a)e FV(d)23 b F4(in)208 2367 y FV(Data)c F4(suc)o(h)e(that)e
(the)i(step)f(satis\014es)h FV(Send)t F4(\()p FV(d)t
F4(\)|in)g(other)g(w)o(ords,)f(that)f(the)i(step)f(is)g(an)208
2417 y F0(9)7 b FV(d)16 b F0(2)11 b FV(Data)h F4(:)7
b FV(Send)t F4(\()p FV(d)t F4(\))16 b(step.)j(So)14 b(w)o(e)g(de\014ne)
p Black Black 332 2506 a FV(Next)458 2483 y FI(\001)454
2506 y F4(=)34 b(\()p F0(9)7 b FV(d)17 b F0(2)11 b FV(Data)22
b F4(:)c FV(Send)t F4(\()p FV(d)t F4(\)\))g F0(_)e FV(R)n(cv)p
Black Black eop
%%Page: 29 47
29 46 bop Black 208 275 a FR(3.2.)30 b(ANOTHER)15 b(SPECIFICA)m(TION)
1071 b F4(29)p 208 282 1770 2 v Black 208 391 a(The)14
b FV(Send)t F4(\()p FV(d)t F4(\))i(action)d(asserts)j(that)e
FV(chan)892 376 y FH(0)918 391 y F4(equals)g(the)h(record)g
FV(r)j F4(suc)o(h)c(that)p Black Black 332 467 a FV(r)t
FQ(:)p FV(val)h F4(=)d FV(d)88 b(r)t FQ(:)p FV(r)n(dy)14
b F4(=)e(1)d F0(\000)g FV(chan)s FQ(:)p FV(r)n(dy)87
b(r)t FQ(:)p FV(ack)16 b F4(=)c FV(chan)s FQ(:)p FV(ack)208
542 y F4(This)h(record)i(is)f(written)h(in)e(TLA)752
527 y FS(+)787 542 y F4(as)p Black Black 332 618 a([)p
FV(val)i F0(7!)c FV(d)t FQ(;)30 b FV(r)n(dy)15 b F0(7!)c
F4(1)e F0(\000)h FV(chan)s FQ(:)p FV(r)n(dy)t FQ(;)29
b FV(ack)17 b F0(7!)11 b FV(chan)s FQ(:)p FV(ack)t F4(])208
693 y(\(The)17 b(sym)o(b)q(ol)e F0(7!)h F4(is)h(t)o(yp)q(ed)g(in)f
FP(asci)q(i)g F4(as)h FO(|->)6 b F4(.\))27 b(Since)17
b(the)g(\014elds)g(of)g(records)h(are)f(not)208 743 y(ordered,)d(this)g
(record)h(can)f(just)g(as)g(w)o(ell)g(b)q(e)g(written)p
Black Black 332 818 a([)p FV(ack)i F0(7!)11 b FV(chan)s
FQ(:)p FV(ack)t FQ(;)31 b FV(val)16 b F0(7!)11 b FV(d)t
FQ(;)30 b FV(r)n(dy)15 b F0(7!)c F4(1)e F0(\000)g FV(chan)s
FQ(:)p FV(r)n(dy)t F4(])208 894 y(The)j(enabling)g(condition)f(of)h
FV(Send)t F4(\()p FV(d)t F4(\))i(is)e(that)g(the)h FV(r)n(dy)j
F4(and)c FV(ack)17 b F4(lines)12 b(are)h(equal,)e(so)i(w)o(e)208
944 y(can)h(de\014ne)p Black Black 332 1019 a FV(Send)t
F4(\()p FV(d)t F4(\))521 996 y FI(\001)516 1019 y F4(=)374
1069 y F0(^)f FV(chan)s FQ(:)p FV(r)n(dy)j F4(=)11 b
FV(chan)s FQ(:)p FV(ack)374 1119 y F0(^)i FV(chan)502
1104 y FH(0)526 1119 y F4(=)f([)p FV(val)j F0(7!)c FV(d)t
FQ(;)19 b FV(r)n(dy)c F0(7!)c F4(1)e F0(\000)g FV(chan)s
FQ(:)p FV(r)n(dy)t FQ(;)18 b FV(ack)f F0(7!)11 b FV(chan)s
FQ(:)p FV(ack)t F4(])208 1195 y(This)20 b(is)g(a)g(p)q(erfectly)h(go)q
(o)q(d)f(de\014nition)f(of)h FV(Send)t F4(\()p FV(d)t
F4(\).)39 b(Ho)o(w)o(ev)o(er,)22 b(I)e(prefer)h(a)f(sligh)o(tly)208
1244 y(di\013eren)o(t)15 b(one.)21 b(W)m(e)15 b(can)g(describ)q(e)h
(the)f(v)n(alue)g(of)f FV(chan)1094 1229 y FH(0)1121
1244 y F4(b)o(y)h(sa)o(ying)f(that)g(it)h(is)f(the)i(same)208
1294 y(as)g(the)h(v)n(alue)f(of)g FV(chan)21 b F4(except)d(that)e(its)h
FV(val)j F4(\014eld)d(equals)f FV(d)21 b F4(and)c(its)f
FV(r)n(dy)k F4(\014eld)d(equals)208 1344 y(1)9 b F0(\000)g
FV(chan)s FQ(:)p FV(r)n(dy)t F4(.)18 b(In)c(TLA)608 1329
y FS(+)629 1344 y F4(,)f(w)o(e)h(can)g(write)g(this)g(v)n(alue)g(as)p
Black Black 332 1420 a([)p FV(chan)19 b FP(ex)o(cept)h
F4(!)s FQ(:)p FV(val)15 b F4(=)d FV(d)t FQ(;)22 b F4(!)s
FQ(:)p FV(r)n(dy)14 b F4(=)e(1)d F0(\000)g FV(chan)s
FQ(:)p FV(r)n(dy)t F4(])208 1495 y(Think)i(of)h(the)k(!)g(as)c
(standing)g(for)g(the)h(new)g(record)g(that)g(the)f FP(ex)o(cept)h
F4(expression)g(forms)208 1545 y(b)o(y)20 b(mo)q(difying)d
FV(chan)s F4(.)38 b(So,)21 b(the)f(expression)i(can)e(b)q(e)h(read)g
(as)f(the)h(record)k(!)e(that)d(is)208 1595 y(the)c(same)f(as)h
FV(chan)k F4(except)h(!)s FQ(:)p FV(val)f F4(equals)c
FV(d)k F4(and)f(!)s FQ(:)p FV(r)n(dy)g F4(equals)d(1)10
b F0(\000)h FV(chan)s FQ(:)p FV(r)n(dy)t F4(.)24 b(In)16
b(the)208 1644 y(expression)e(that)i(!)s FQ(:)p FV(r)n(dy)g
F4(equals,)d(the)g(sym)o(b)q(ol)e(@)i(stands)h(for)f
FV(chan)s FQ(:)p FV(r)n(dy)t F4(,)f(so)h(w)o(e)g(can)h(write)208
1694 y(this)g FP(ex)o(cept)f F4(expression)i(as)p Black
Black 332 1770 a([)p FV(chan)k FP(ex)o(cept)h F4(!)s
FQ(:)p FV(val)15 b F4(=)d FV(d)t FQ(;)22 b F4(!)s FQ(:)p
FV(r)n(dy)14 b F4(=)e(1)d F0(\000)g F4(@])208 1845 y(In)k(general,)h
(for)g(an)o(y)f(record)i FV(r)t F4(,)e(the)i(expression)p
Black Black 332 1921 a([)p FV(r)k FP(ex)o(cept)g F4(!)s
FQ(:)p FV(c)591 1927 y FS(1)622 1921 y F4(=)11 b FV(e)687
1927 y FS(1)706 1921 y FQ(;)18 b(:)7 b(:)g(:)13 b(;)21
b F4(!)s FQ(:)p FV(c)880 1927 y FJ(n)915 1921 y F4(=)12
b FV(e)981 1927 y FJ(n)1005 1921 y F4(])208 1996 y(is)h(the)h(record)g
(obtained)f(from)f FV(r)17 b F4(b)o(y)c(replacing)g FV(r)t
FQ(:)p FV(c)1038 2002 y FJ(i)1067 1996 y F4(with)g FV(e)1183
2002 y FJ(i)1198 1996 y F4(,)g(for)g(eac)o(h)h FV(i)j
F4(in)c(1)h FQ(:)7 b(:)12 b FV(n)s F4(.)19 b(An)208 2046
y(@)14 b(in)f(the)i(expression)g FV(e)596 2052 y FJ(i)625
2046 y F4(stands)g(for)e FV(r)t FQ(:)p FV(c)873 2052
y FJ(i)888 2046 y F4(.)18 b(Using)c(this)g(notation,)f(w)o(e)h
(de\014ne)p Black Black 332 2126 a FV(Send)t F4(\()p
FV(d)t F4(\))521 2102 y FI(\001)516 2126 y F4(=)35 b
F0(^)13 b FV(chan)s FQ(:)p FV(r)n(dy)j F4(=)11 b FV(chan)s
FQ(:)p FV(ack)583 2175 y F0(^)i FV(chan)711 2160 y FH(0)735
2175 y F4(=)f([)p FV(chan)19 b FP(ex)o(cept)h F4(!)s
FQ(:)p FV(val)15 b F4(=)d FV(d)t FQ(;)22 b F4(!)s FQ(:)p
FV(r)n(dy)14 b F4(=)e(1)d F0(\000)g F4(@])208 2256 y(The)j
(de\014nition)f(of)g FV(R)n(cv)16 b F4(is)c(straigh)o(tforw)o(ard.)k(A)
c(v)n(alue)f(can)h(b)q(e)g(receiv)o(ed)h(when)f FV(chan)s
FQ(:)p FV(r)n(dy)208 2306 y F4(do)q(es)i(not)g(equal)g
FV(chan)s FQ(:)p FV(ack)t F4(,)g(and)g(receiving)g(the)h(v)n(alue)e
(complemen)o(ts)f FV(chan)s FQ(:)p FV(ack)t F4(:)p Black
Black 332 2386 a FV(R)n(cv)442 2362 y FI(\001)437 2386
y F4(=)35 b F0(^)14 b FV(chan)s FQ(:)p FV(r)n(dy)h F0(6)p
F4(=)d FV(chan)s FQ(:)p FV(ack)504 2436 y F0(^)i FV(chan)633
2421 y FH(0)657 2436 y F4(=)e([)p FV(chan)19 b FP(ex)o(cept)g
F4(!)s FQ(:)p FV(ack)d F4(=)c(1)d F0(\000)h F4(@])208
2517 y(The)k(complete)f(sp)q(eci\014cation)i(app)q(ears)f(in)g(Figure)g
(3.2)f(on)g(the)i(next)f(page.)p Black Black eop
%%Page: 30 48
30 47 bop Black 208 275 a F4(30)747 b FR(CHAPTER)14 b(3.)32
b(AN)14 b(ASYNCHR)o(ONOUS)h(INTERF)-5 b(A)o(CE)p 208
282 1770 2 v Black Black Black Black 188 395 2 25 v 190
372 564 2 v 767 379 a FP(module)15 b FV(Channel)p 1101
372 V 1665 395 2 25 v Black Black 208 454 a FP(extends)h
FV(Natur)n(als)208 504 y FP(const)m(ant)g FV(Data)208
553 y FP(v)l(ariable)31 b FV(chan)208 614 y(T)m(yp)n(eInvariant)504
591 y FI(\001)499 614 y F4(=)k FV(chan)23 b F0(2)18 b
F4([)p FV(val)11 b F4(:)d FV(Data)s FQ(;)19 b FV(r)n(dy)11
b F4(:)d F0(f)p F4(0)p FQ(;)f F4(1)p F0(g)p FQ(;)16 b
FV(ack)d F4(:)8 b F0(f)p F4(0)p FQ(;)f F4(1)p F0(g)p
F4(])p 188 668 V 190 657 1475 2 v 1665 668 2 25 v 208
705 a FV(Init)317 682 y FI(\001)312 705 y F4(=)35 b F0(^)14
b FV(T)m(yp)n(eInvariant)379 755 y F0(^)g FV(chan)s FQ(:)p
FV(ack)j F4(=)12 b FV(chan)s FQ(:)p FV(r)n(dy)208 824
y(Send)t F4(\()p FV(d)t F4(\))384 801 y FI(\001)380 824
y F4(=)23 b F0(^)15 b FV(chan)s FQ(:)p FV(r)n(dy)g F4(=)d
FV(chan)s FQ(:)p FV(ack)435 874 y F0(^)j FV(chan)565
859 y FH(0)589 874 y F4(=)d([)p FV(chan)19 b FP(ex)o(cept)g
F4(!)s FQ(:)p FV(val)c F4(=)d FV(d)t FQ(;)22 b F4(!)s
FQ(:)p FV(r)n(dy)15 b F4(=)c(1)e F0(\000)h F4(@])208
939 y FV(R)n(cv)384 915 y FI(\001)380 939 y F4(=)23 b
F0(^)15 b FV(chan)s FQ(:)p FV(r)n(dy)g F0(6)p F4(=)d
FV(chan)s FQ(:)p FV(ack)435 988 y F0(^)j FV(chan)565
973 y FH(0)589 988 y F4(=)d([)p FV(chan)19 b FP(ex)o(cept)g
F4(!)s FQ(:)p FV(ack)d F4(=)c(1)d F0(\000)g F4(@])208
1057 y FV(Next)322 1034 y FI(\001)318 1057 y F4(=)23
b(\()p F0(9)7 b FV(d)16 b F0(2)11 b FV(Data)22 b F4(:)c
FV(Send)t F4(\()p FV(d)t F4(\)\))h F0(_)d FV(R)n(cv)208
1122 y(Sp)n(e)n(c)322 1098 y FI(\001)318 1122 y F4(=)23
b FV(Init)d F0(^)c FG(2)p F4([)p FV(Next)t F4(])645 1128
y FJ(chan)p 188 1168 V 190 1157 1475 2 v 1665 1168 2
25 v 208 1205 a FP(theorem)g FV(Sp)n(e)n(c)e F0(\))d
FG(2)p FV(T)m(yp)n(eInvariant)p 188 1248 V 190 1248 1475
2 v 1665 1248 2 25 v Black 313 1338 a FU(Figure)j(3.2:)19
b F4(Our)14 b(second)h(sp)q(eci\014cation)g(of)e(an)h(async)o(hronous)g
(in)o(terface.)p Black Black 208 1463 a FN(3.3)81 b(T)n(yp)r(es:)36
b(A)27 b(Reminder)208 1554 y F4(As)12 b(de\014ned)i(in)e(Section)h
(3.1,)e(a)h(v)n(ariable)g FV(v)17 b F4(has)12 b(t)o(yp)q(e)h
FV(T)18 b F4(in)12 b(sp)q(eci\014cation)h FV(Sp)n(e)n(c)i
F4(i\013)d FV(v)k F0(2)c FV(T)208 1603 y F4(is)17 b(an)g(in)o(v)n
(arian)o(t)g(of)g FV(Sp)n(e)n(c)r F4(.)30 b(Th)o(us,)18
b FV(hr)k F4(has)c(t)o(yp)q(e)g(1)13 b FQ(:)7 b(:)13
b F4(12)k(in)h(the)g(sp)q(eci\014cation)g FV(HC)23 b
F4(of)208 1653 y(the)15 b(hour)h(clo)q(c)o(k.)22 b(This)15
b(assertion)h(do)q(es)g FV(not)j F4(mean)14 b(that)i(the)f(v)n(ariable)
f FV(hr)20 b F4(can)15 b(assume)208 1703 y(only)g(v)n(alues)i(in)f(the)
h(set)h(1)c FQ(:)7 b(:)12 b F4(12.)26 b(A)17 b(state)g(is)g(an)f
(arbitrary)h(assignmen)o(t)f(of)g(v)n(alues)g(to)208
1753 y(v)n(ariables,)e(so)i(there)h(exist)f(states)g(in)f(whic)o(h)h
(the)g(v)n(alue)f(of)g FV(hr)k F4(is)1277 1720 y F0(p)p
1311 1720 54 2 v 1311 1753 a(\000)p F4(2.)k(The)16 b(assertion)208
1803 y(do)q(es)f(mean)e(that,)h(in)g(ev)o(ery)h(b)q(eha)o(vior)f
(satisfying)g(form)o(ula)d FV(HC)6 b F4(,)14 b(the)h(v)n(alue)f(of)f
FV(hr)19 b F4(is)14 b(an)208 1852 y(elemen)o(t)f(of)g(1)h
FQ(:)7 b(:)13 b F4(12.)270 1902 y(If)e(y)o(ou)g(are)h(used)h(to)e(t)o
(yp)q(es)i(in)e(programming)d(languages,)j(it)g(ma)o(y)f(seem)h
(strange)i(that)208 1952 y(TLA)295 1937 y FS(+)333 1952
y F4(allo)o(ws)k(a)g(v)n(ariable)g(to)h(assume)f(an)o(y)h(v)n(alue.)29
b(Wh)o(y)18 b(not)f(restrict)j(our)e(states)h(to)208
2002 y(ones)c(in)f(whic)o(h)h(v)n(ariables)f(ha)o(v)o(e)g(the)i(v)n
(alues)e(of)g(the)i(righ)o(t)e(t)o(yp)q(e?)21 b(In)15
b(other)g(w)o(ords,)g(wh)o(y)208 2052 y(not)f(add)g(a)f(formal)f(t)o
(yp)q(e)j(system)e(to)h(TLA)897 2037 y FS(+)925 2052
y F4(?)19 b(A)14 b(complete)f(answ)o(er)i(w)o(ould)e(tak)o(e)i(us)f(to)
q(o)208 2102 y(far)f(a\014eld.)18 b(The)c(question)f(is)h(addressed)h
(further)g(in)e(Section)h(6.2.)j(F)m(or)c(no)o(w,)g(remem)o(b)q(er)208
2151 y(that)e(TLA)382 2136 y FS(+)414 2151 y F4(is)g(an)g(un)o(t)o(yp)q
(ed)h(language.)k(T)o(yp)q(e)c(correctness)i(is)d(just)g(a)g(name)f
(for)h(a)g(certain)208 2201 y(in)o(v)n(ariance)h(prop)q(ert)o(y)m(.)18
b(Assigning)13 b(the)h(name)e FV(T)m(yp)n(eInvariant)17
b F4(to)c(a)g(form)o(ula)e(giv)o(es)i(it)g(no)208 2251
y(sp)q(ecial)h(status.)p Black Black eop
%%Page: 31 49
31 48 bop Black 208 275 a FR(3.4.)30 b(DEFINITIONS)1353
b F4(31)p 208 282 1770 2 v Black 208 400 a FN(3.4)81
b(De\014nitions)208 491 y F4(Let's)19 b(examine)g(what)g(a)g
(de\014nition)h(means.)34 b(If)19 b FV(Id)24 b F4(is)19
b(a)g(simple)f(iden)o(ti\014er)i(lik)o(e)f FV(Init)208
545 y F4(or)f FV(Sp)n(e)n(c)r F4(,)i(then)f(the)g(de\014nition)f
FV(Id)805 521 y FI(\001)800 545 y F4(=)i FV(exp)h F4(de\014nes)f
FV(Id)j F4(to)c(b)q(e)g(synon)o(ymous)e(with)h(the)208
594 y(expression)e FV(exp)s F4(.)22 b(Replacing)15 b
FV(Id)k F4(b)o(y)c FV(exp)s F4(,)h(or)f(vice-v)o(ersa,)h(in)f(an)o(y)f
(expression)j(do)q(es)f(not)208 644 y(c)o(hange)h(the)h(meaning)d(of)h
(that)h(expression.)29 b(This)17 b(replacemen)o(t)g(m)o(ust)f(b)q(e)h
(done)h(after)208 694 y(the)f(expression)i(is)e(parsed,)i(not)e(in)g
(the)h(\\ra)o(w)e(input".)28 b(F)m(or)17 b(example,)f(the)i
(de\014nition)208 748 y FV(x)248 724 y FI(\001)243 748
y F4(=)12 b FV(a)h F4(+)c FV(b)14 b F4(mak)o(es)c FV(x)f
F0(\003)t FV(c)k F4(equal)e(to)g(\()p FV(a)d F4(+)t FV(b)s
F4(\))t F0(\003)t FV(c)r F4(,)j(not)g(to)g FV(a)c F4(+)t
FV(b)f F0(\003)t FV(c)r F4(,)12 b(whic)o(h)f(equals)g
FV(a)c F4(+)t(\()p FV(b)f F0(\003)t FV(c)r F4(\).)270
804 y(The)13 b(de\014nition)g(of)g FV(Send)18 b F4(has)13
b(the)h(form)d FV(Id)t F4(\()p FV(p)s F4(\))1044 781
y FI(\001)1039 804 y F4(=)h FV(exp)s F4(,)h(where)h FV(Id)k
F4(and)13 b FV(p)j F4(are)d(iden)o(ti-)208 854 y(\014ers.)21
b(F)m(or)15 b(an)o(y)f(expression)i FV(e)s F4(,)f(this)f(de\014nes)j
FV(Id)t F4(\()p FV(e)s F4(\))e(to)g(b)q(e)g(the)h(expression)g
(obtained)e(b)o(y)208 904 y(substituting)g FV(e)j F4(for)c
FV(p)k F4(in)c FV(exp)s F4(.)18 b(F)m(or)c(example,)e(the)i
(de\014nition)g(of)f FV(Send)19 b F4(in)14 b(the)g FV(Channel)208
954 y F4(mo)q(dule)e(de\014nes)j FV(Send)t F4(\()p F0(\000)p
F4(5\))h(to)d(equal)p Black Black 332 1037 a F0(^)h FV(chan)s
FQ(:)p FV(r)n(dy)h F4(=)d FV(chan)s FQ(:)p FV(ack)332
1087 y F0(^)i FV(chan)461 1072 y FH(0)485 1087 y F4(=)e([)p
FV(chan)19 b FP(ex)o(cept)g F4(!)s FQ(:)p FV(val)c F4(=)d
F0(\000)p F4(5)p FQ(;)22 b F4(!)s FQ(:)p FV(r)n(dy)14
b F4(=)e(1)d F0(\000)g F4(@])208 1170 y FV(Send)t F4(\()p
FV(e)s F4(\))15 b(is)f(an)g(expression,)h(for)f(an)o(y)g(expression)h
FV(e)s F4(.)k(Th)o(us,)14 b(w)o(e)g(can)g(write)h(the)f(form)o(ula)208
1220 y FV(Send)t F4(\()p F0(\000)p F4(5\))c F0(^)f F4(\()p
FV(chan)s FQ(:)p FV(ack)17 b F4(=)12 b(1\).)24 b(The)16
b(iden)o(ti\014er)g FV(Send)21 b F4(b)o(y)15 b(itself)h(is)f(not)h(an)f
(expression,)208 1270 y(and)e FV(Send)i F0(^)9 b F4(\()p
FV(chan)s FQ(:)p FV(ack)17 b F4(=)12 b(1\))h(is)h(not)g(a)f
(grammatical)o(ly)e(w)o(ell-formed)g(string.)18 b(It's)c(non-)208
1319 y(syn)o(tactic)g(nonsense,)h(lik)o(e)e FV(a)g F4(+)c
F0(\003)e FV(b)j F4(+)d(.)270 1369 y(W)m(e)16 b(sa)o(y)h(that)g
FV(Send)22 b F4(is)17 b(an)g FV(op)n(er)n(ator)k F4(that)c(tak)o(es)g
(a)g(single)f(argumen)o(t.)26 b(W)m(e)17 b(de\014ne)208
1419 y(op)q(erators)h(that)g(tak)o(e)g(more)f(than)h(one)g(argumen)o(t)
f(in)g(the)i(ob)o(vious)e(w)o(a)o(y)m(,)g(the)i(general)208
1469 y(form)12 b(b)q(eing)p Black Black 332 1556 a FV(Id)t
F4(\()p FV(p)413 1562 y FS(1)432 1556 y FQ(;)i(:)7 b(:)g(:)e(;)13
b FV(p)562 1562 y FJ(n)586 1556 y F4(\))641 1533 y FI(\001)637
1556 y F4(=)35 b FV(exp)p Black -555 w F4(\(3.1\))p Black
208 1639 a(where)16 b(the)f FV(p)425 1645 y FJ(i)455
1639 y F4(are)h(distinct)f(iden)o(ti\014ers)g(and)g FV(exp)j
F4(is)d(an)g(expression.)22 b(W)m(e)15 b(can)g(consider)208
1689 y(de\014ned)e(iden)o(ti\014ers)g(lik)o(e)f FV(Init)k
F4(and)c FV(Sp)n(e)n(c)k F4(to)c(b)q(e)h(op)q(erators)g(that)g(tak)o(e)
f(no)h(argumen)o(t,)e(but)208 1739 y(w)o(e)f(generally)f(use)i
FV(op)n(er)n(ator)j F4(to)c(mean)f(an)g(op)q(erator)i(that)f(tak)o(es)g
(one)g(or)g(more)f(argumen)o(ts.)270 1789 y(I)17 b(will)f(use)j(the)f
(term)f FV(symb)n(ol)22 b F4(to)17 b(mean)g(an)g(iden)o(ti\014er)h(lik)
o(e)f FV(Send)22 b F4(or)c(an)f(op)q(erator)208 1838
y(sym)o(b)q(ol)7 b(lik)o(e)i(+.)17 b(Ev)o(ery)10 b(sym)o(b)q(ol)e(that)
i(is)f(used)i(in)e(a)h(sp)q(eci\014cation)g(m)o(ust)f(either)h(b)q(e)g
(a)g(built-)208 1888 y(in)15 b(op)q(erator)h(of)f(TLA)563
1873 y FS(+)600 1888 y F4(\(lik)o(e)g F0(2)p F4(\))h(or)f(it)h(m)o(ust)
f(b)q(e)h(declared)h(or)e(de\014ned.)25 b(Ev)o(ery)17
b(sym)o(b)q(ol)208 1938 y(declaration)11 b(or)i(de\014nition)e(has)i(a)
f FV(sc)n(op)n(e)j F4(within)d(whic)o(h)g(the)h(sym)o(b)q(ol)d(ma)o(y)g
(b)q(e)j(used.)18 b(The)208 1988 y(scop)q(e)13 b(of)e(a)h
FP(v)l(ariable)h F4(or)f FP(const)m(ant)h F4(declaration,)e(and)h(of)f
(a)h(de\014nition,)f(is)h(the)g(part)g(of)208 2038 y(the)h(mo)q(dule)f
(that)h(follo)o(ws)e(it.)17 b(Th)o(us,)c(w)o(e)h(can)f(use)h
FV(Init)i F4(in)d(an)o(y)f(expression)i(that)f(follo)o(ws)208
2087 y(its)e(de\014nition)g(in)g(mo)q(dule)f FV(Channel)t
F4(.)18 b(The)12 b(statemen)o(t)f FP(extends)16 b FV(Natur)n(als)e
F4(extends)f(the)208 2137 y(scop)q(e)h(of)e(sym)o(b)q(ols)f(lik)o(e)h
(+)h(de\014ned)h(in)f(the)g FV(Natur)n(als)j F4(mo)q(dule)11
b(to)i(the)g FV(Channel)18 b F4(mo)q(dule.)270 2187 y(The)d(op)q
(erator)h(de\014nition)e(\(3.1\))g(implicitly)e(includes)j(a)g
(declaration)g(of)f(the)h(iden)o(ti-)208 2237 y(\014ers)g
FV(p)320 2243 y FS(1)338 2237 y F4(,)e(.)7 b(.)f(.)h(,)13
b FV(p)468 2243 y FJ(n)506 2237 y F4(whose)h(scop)q(e)h(is)f(the)g
(expression)h FV(exp)s F4(.)k(An)14 b(expression)h(of)e(the)h(form)p
Black Black 332 2320 a F0(9)7 b FV(v)16 b F0(2)11 b FV(S)24
b F4(:)18 b FV(exp)208 2403 y F4(has)d(a)f(declaration)h(of)f
FV(v)19 b F4(whose)d(scop)q(e)g(is)f(the)g(expression)h
FV(exp)s F4(.)21 b(Th)o(us)16 b(the)f(iden)o(ti\014er)g
FV(v)208 2453 y F4(has)f(a)f(meaning)f(within)h(the)i(expression)g
FV(exp)i F4(\(but)d(not)g(within)f(the)i(expression)g
FV(S)5 b F4(\).)p Black Black eop
%%Page: 32 50
32 49 bop Black 208 275 a F4(32)747 b FR(CHAPTER)14 b(3.)32
b(AN)14 b(ASYNCHR)o(ONOUS)h(INTERF)-5 b(A)o(CE)p 208
282 1770 2 v Black 270 391 a F4(A)17 b(sym)o(b)q(ol)f(cannot)h(b)q(e)h
(declared)g(or)f(de\014ned)i(if)d(it)h(already)g(has)g(a)g(meaning.)26
b(The)208 441 y(expression)p Black Black 332 523 a(\()p
F0(9)7 b FV(v)16 b F0(2)c FV(S)23 b F4(:)18 b FV(exp)s
F4(1\))e F0(^)g F4(\()p F0(9)7 b FV(v)17 b F0(2)11 b
FV(T)23 b F4(:)18 b FV(exp)s F4(2\))208 605 y(is)d(all)f(righ)o(t,)h(b)
q(ecause)j(neither)e(declaration)f(of)g FV(v)20 b F4(lies)c(within)f
(the)h(scop)q(e)h(of)e(the)h(other.)208 655 y(Similarl)o(y)m(,)c(the)k
(t)o(w)o(o)e(declarations)i(of)e(the)i(sym)o(b)q(ol)d
FV(d)20 b F4(in)15 b(the)h FV(Channel)k F4(mo)q(dule)13
b(\(in)i(the)208 705 y(de\014nition)k(of)h FV(Send)25
b F4(and)20 b(in)g(the)g(expression)i F0(9)7 b FV(d)24
b F4(in)c(the)h(de\014nition)e(of)h FV(Next)t F4(\))g(ha)o(v)o(e)208
755 y(disjoin)o(t)12 b(scop)q(es.)20 b(Ho)o(w)o(ev)o(er,)14
b(the)g(expression)p Black Black 332 837 a(\()p F0(9)7
b FV(v)16 b F0(2)c FV(S)23 b F4(:)18 b(\()p FV(exp)s
F4(1)e F0(^)g(9)7 b FV(v)16 b F0(2)c FV(T)23 b F4(:)18
b FV(exp)s F4(2\)\))208 918 y(is)11 b(illegal)f(b)q(ecause)k(the)e
(declaration)f(of)h FV(v)k F4(in)11 b(the)i(second)g
F0(9)7 b FV(v)16 b F4(lies)c(inside)f(the)i(scop)q(e)g(of)e(its)208
968 y(declaration)k(in)g(the)h(\014rst)h F0(9)7 b FV(v)t
F4(.)24 b(Although)15 b(con)o(v)o(en)o(tional)g(mathematics)e(and)j
(program-)208 1018 y(ming)11 b(languages)h(allo)o(w)g(suc)o(h)i
(redeclarations,)f(TLA)1062 1003 y FS(+)1096 1018 y F4(forbids)g(them)f
(b)q(ecause)j(they)f(can)208 1068 y(lead)f(to)h(confusion)f(and)h
(errors.)208 1226 y FN(3.5)81 b(Commen)n(ts)208 1317
y F4(Ev)o(en)10 b(simple)e(sp)q(eci\014cations)j(lik)o(e)e(the)h(ones)g
(in)g(mo)q(dules)e FV(AsynchInterfac)n(e)14 b F4(and)9
b FV(Channel)208 1367 y F4(can)h(b)q(e)g(hard)g(to)g(understand)i(from)
c(the)i(mathematics)e(alone.)17 b(That's)9 b(wh)o(y)h(I)g(b)q(egan)g
(with)208 1417 y(an)16 b(in)o(tuitiv)o(e)g(explanation)h(of)f(the)i(in)
o(terface.)28 b(That)17 b(explanation)f(made)g(it)g(easier)i(for)208
1466 y(y)o(ou)11 b(to)h(understand)h(form)o(ula)c FV(Sp)n(e)n(c)15
b F4(in)c(the)i(mo)q(dule,)d(whic)o(h)i(is)g(the)g(actual)g(sp)q
(eci\014cation.)208 1516 y(Ev)o(ery)18 b(sp)q(eci\014cation)h(should)e
(b)q(e)i(accompanied)d(b)o(y)i(an)g(informal)d(prose)j(explanation.)208
1566 y(The)d(explanation)f(ma)o(y)f(b)q(e)i(in)f(an)h(accompan)o(ying)e
(do)q(cumen)o(t,)h(or)h(it)f(ma)o(y)f(b)q(e)j(included)208
1616 y(as)e(commen)o(ts)e(in)h(the)i(sp)q(eci\014cation.)270
1666 y(Figure)21 b(3.3)e(on)h(the)i(next)f(page)f(sho)o(ws)h(ho)o(w)g
(the)g(hour)f(clo)q(c)o(k's)h(sp)q(eci\014cation)g(in)208
1715 y(mo)q(dule)16 b FV(HourClo)n(ck)22 b F4(migh)o(t)15
b(b)q(e)k(explained)f(b)o(y)f(commen)o(ts.)28 b(In)18
b(the)h(t)o(yp)q(eset)g(v)o(ersion,)208 1765 y(commen)o(ts)10
b(are)j(distinguished)f(from)f(the)i(sp)q(eci\014cation)g(itself)f(b)o
(y)h(the)g(use)g(of)f(a)g(di\013eren)o(t)208 1815 y(fon)o(t.)21
b(As)15 b(sho)o(wn)g(in)g(the)h(\014gure,)f(TLA)840 1800
y FS(+)876 1815 y F4(pro)o(vides)g(t)o(w)o(o)g(w)o(a)o(ys)f(of)h
(writing)f(commen)o(ts)f(in)208 1865 y(the)i FP(asci)q(i)f
F4(v)o(ersion.)22 b(A)16 b(commen)o(t)d(ma)o(y)g(app)q(ear)j(an)o
(ywhere)g(enclosed)g(b)q(et)o(w)o(een)g FO(\(*)f F4(and)208
1915 y FO(*\))p F4(.)24 b(An)16 b(end-of-line)g(commen)o(t)e(is)i
(preceded)i(b)o(y)e FO(\\*)p F4(.)24 b(Commen)o(ts)14
b(ma)o(y)g(b)q(e)j(nested,)h(so)208 1965 y(y)o(ou)11
b(can)i(commen)o(t)d(out)i(a)g(section)h(of)f(a)g(sp)q(eci\014cation)h
(b)o(y)f(enclosing)h(it)e(b)q(et)o(w)o(een)j FO(\(*)e
F4(and)208 2014 y FO(*\))p F4(,)h(ev)o(en)h(if)f(the)i(section)f(con)o
(tains)g(commen)o(ts.)270 2064 y(A)f(commen)o(t)f(almost)f(alw)o(a)o
(ys)i(app)q(ears)h(on)f(a)g(line)g(b)o(y)h(itself)f(or)g(at)h(the)g
(end)g(of)f(a)g(line.)208 2118 y(I)g(put)h(a)g(commen)o(t)e(b)q(et)o(w)
o(een)j FV(HCnxt)j F4(and)913 2095 y FI(\001)908 2118
y F4(=)j(just)15 b(to)e(sho)o(w)h(that)g(it)g(can)g(b)q(e)g(done.)270
2168 y(T)m(o)f(sa)o(v)o(e)h(space,)g(I)g(will)f(write)h(few)g(commen)o
(ts)e(in)h(the)i(example)d(sp)q(eci\014cations.)19 b(But)208
2218 y(sp)q(eci\014cations)g(should)f(ha)o(v)o(e)g(lots)h(of)e(commen)o
(ts.)30 b(Ev)o(en)19 b(if)e(there)j(is)e(an)g(accompan)o(y-)208
2268 y(ing)e(do)q(cumen)o(t)g(describing)h(the)h(system,)e(commen)o(ts)
f(are)j(needed)g(to)e(help)h(the)h(reader)208 2317 y(understand)d(ho)o
(w)e(the)i(sp)q(eci\014cation)f(formalizes)e(that)i(description.)270
2367 y(Commen)o(ts)c(can)i(help)h(solv)o(e)f(a)g(problem)f(p)q(osed)i
(b)o(y)f(the)h(logical)d(structure)15 b(of)d(a)g(sp)q(ec-)208
2417 y(i\014cation.)32 b(A)19 b(sym)o(b)q(ol)e(has)i(to)f(b)q(e)i
(declared)g(or)e(de\014ned)i(b)q(efore)g(it)f(can)g(b)q(e)g(used.)34
b(In)208 2467 y(mo)q(dule)18 b FV(Channel)t F4(,)j(the)f(de\014nition)f
(of)g FV(Sp)n(e)n(c)k F4(has)c(to)h(follo)o(w)d(the)j(de\014nition)g
(of)e FV(Next)t F4(,)208 2517 y(whic)o(h)c(has)g(to)g(follo)o(w)e(the)j
(de\014nitions)g(of)e FV(Send)20 b F4(and)14 b FV(R)n(cv)t
F4(.)20 b(But)15 b(it's)e(usually)h(easiest)h(to)p Black
Black eop
%%Page: 33 51
33 50 bop Black 208 275 a FR(3.5.)30 b(COMMENTS)1382
b F4(33)p 208 282 1770 2 v Black Black Black Black 188
497 2 25 v 190 474 543 2 v 746 481 a FP(module)15 b FV(HourClo)n(ck)p
1121 474 V 1664 497 2 25 v .95 TeXcolorgray .95 TeXcolorgray
235 593 1344 91 v .95 TeXcolorgray Black 244 539 a FZ(This)c(mo)q(dule)
f(sp)q(eci\014es)f(a)j(digital)d(clo)q(c)o(k)i(that)f(displa)o(ys)g
(the)g(curren)o(t)g(hour.)16 b(It)11 b(ignores)f(real)244
578 y(time,)g(not)g(sp)q(ecifying)f(when)i(the)g(displa)o(y)f(can)h(c)o
(hange.)p .95 TeXcolorgray Black 208 639 a FP(extends)16
b FV(Natur)n(als)208 697 y FP(v)l(ariable)h FV(hr)p .95
TeXcolorgray .95 TeXcolorgray 490 717 547 57 v .95 TeXcolorgray
Black 57 w FZ(V)m(ariable)10 b FY(hr)16 b FZ(represen)o(ts)9
b(the)i(displa)o(y)m(.)p .95 TeXcolorgray Black 208 755
a FV(HCini)356 732 y FI(\001)351 755 y F4(=)30 b FV(hr)16
b F0(2)11 b F4(\(1)j FQ(:)7 b(:)13 b F4(12\))p .95 TeXcolorgray
.95 TeXcolorgray 694 775 801 57 v .95 TeXcolorgray Black
42 w FZ(Initially)m(,)c FY(hr)16 b FZ(can)10 b(ha)o(v)o(e)h(an)o(y)f(v)
n(alue)h(from)f(1)h(through)f(12.)p .95 TeXcolorgray
Black 208 824 a FV(HCnxt)p .95 TeXcolorgray .95 TeXcolorgray
341 844 581 57 v .95 TeXcolorgray Black 25 w FZ(This)h(is)h(a)f(w)o
(eird)g(place)f(for)h(a)h(commen)o(t.)p .95 TeXcolorgray
Black 951 801 a FI(\001)946 824 y F4(=)p .95 TeXcolorgray
.95 TeXcolorgray 242 902 662 57 v .95 TeXcolorgray Black
250 882 a FZ(The)g(v)n(alue)e(of)h FY(hr)k FZ(cycles)c(from)f(1)h
(through)f(12.)p .95 TeXcolorgray Black 250 940 a FV(hr)293
925 y FH(0)323 940 y F4(=)19 b FP(if)k FV(hr)16 b F0(6)p
F4(=)c(12)22 b FP(then)i FV(hr)13 b F4(+)d(1)23 b FP(else)h
F4(1)208 1008 y FV(HC)309 985 y FI(\001)304 1008 y F4(=)30
b FV(HCini)20 b F0(^)c FG(2)p F4([)p FV(HCnxt)t F4(])716
1014 y FJ(hr)p .95 TeXcolorgray .95 TeXcolorgray 242
1078 765 57 v .95 TeXcolorgray Black 250 1058 a FZ(The)c(complete)c(sp)
q(ec.)15 b(It)c(p)q(ermits)f(the)g(clo)q(c)o(k)h(to)g(stop.)p
.95 TeXcolorgray Black 188 1112 2 25 v 190 1101 1475
2 v 1665 1112 2 25 v 208 1149 a FP(theorem)16 b FV(HC)h
F0(\))11 b FG(2)p FV(HCini)p .95 TeXcolorgray .95 TeXcolorgray
727 1170 466 57 v .95 TeXcolorgray Black 61 w FZ(T)o(yp)q(e-correctne)o
(ss)e(of)i(the)g(sp)q(ec.)p .95 TeXcolorgray Black 188
1192 2 25 v 190 1192 1475 2 v 1665 1192 2 25 v Black
Black 208 1347 a FO(---------------)o(-----)o(--)19 b(MODULE)h
(HourClock)g(-------------------)o(---)251 1397 y(\(*****************)o
(*****)o(*****)o(*****)o(****)o(*****)o(*****)o(*****)o(*****)o(\))251
1447 y(\(*)i(This)e(module)h(specifies)f(a)i(digital)e(clock)h(that)g
(displays)42 b(*\))251 1496 y(\(*)22 b(the)f(current)f(hour.)43
b(It)21 b(ignores)f(real)h(time,)g(not)196 b(*\))251
1546 y(\(*)22 b(specifying)d(when)i(the)g(display)g(can)g(change.)304
b(*\))251 1596 y(\(*****************)o(*****)o(*****)o(*****)o(****)o
(*****)o(*****)o(*****)o(*****)o(\))208 1646 y(EXTENDS)20
b(Naturals)208 1696 y(VARIABLE)g(hr)108 b(\\*)22 b(Variable)e(hr)h
(represents)f(the)h(display.)208 1746 y(HCini)42 b(==)21
b(hr)h(\\in)f(\(1)g(..)h(12\))65 b(\\*)21 b(Initially,)f(hr)h(can)g
(have)g(any)840 1795 y(\\*)g(value)g(from)g(1)g(through)g(12.)208
1845 y(HCnxt)42 b(\(*)21 b(This)g(is)h(a)f(weird)g(place)g(for)g(a)h
(comment.)e(*\))43 b(==)251 1895 y(\(*****************)o(*****)o(*****)
o(*****)o(****)o(*****)o(*****)o(***\))251 1945 y(\(*)22
b(The)f(value)f(of)i(hr)f(cycles)g(from)g(1)g(through)g(12.)108
b(*\))251 1995 y(\(*****************)o(*****)o(*****)o(*****)o(****)o
(*****)o(*****)o(***\))251 2044 y(hr')21 b(=)h(IF)f(hr)h(#)f(12)h(THEN)
f(hr)g(+)h(1)f(ELSE)g(1)208 2094 y(HC)43 b(==)g(HCini)21
b(/\\)g([][HCnxt]_hr)251 2144 y(\(*)h(The)f(complete)f(spec.)42
b(It)22 b(permits)e(the)h(clock)g(to)g(stop.)g(*\))208
2194 y(---------------)o(-----)o(-----)o(-----)o(-----)o(----)o(-----)o
(-----)o(-----)o(-----)o(---)208 2244 y(THEOREM)42 b(HC)21
b(=>)g([]HCini)43 b(\\*)21 b(Type-correctness)d(of)k(the)f(spec.)208
2293 y(===============)o(=====)o(=====)o(=====)o(=====)o(====)o(=====)o
(=====)o(=====)o(=====)o(===)p Black 399 2406 a FU(Figure)14
b(3.3:)19 b F4(The)14 b(hour-clo)q(c)o(k)g(sp)q(eci\014cation)h(with)e
(commen)o(ts.)p Black Black Black Black eop
%%Page: 34 52
34 51 bop Black 208 275 a F4(34)747 b FR(CHAPTER)14 b(3.)32
b(AN)14 b(ASYNCHR)o(ONOUS)h(INTERF)-5 b(A)o(CE)p 208
282 1770 2 v Black 208 391 a F4(understand)16 b(a)f(top-do)o(wn)f
(description)i(of)e(a)h(system.)21 b(W)m(e)15 b(w)o(ould)f(probably)g
(\014rst)i(w)o(an)o(t)208 441 y(to)i(read)h(the)g(declarations)f(of)g
FV(Data)23 b F4(and)18 b FV(chan)s F4(,)i(then)f(the)g(de\014nition)f
(of)g FV(Sp)n(e)n(c)r F4(,)i(then)208 491 y(the)15 b(de\014nitions)h
(of)e FV(Init)19 b F4(and)c FV(Next)t F4(,)g(and)h(then)g(the)f
(de\014nitions)h(of)e FV(Send)21 b F4(and)15 b FV(R)n(cv)t
F4(.)23 b(In)208 541 y(other)13 b(w)o(ords,)g(w)o(e)g(w)o(an)o(t)g(to)g
(read)g(the)h(sp)q(eci\014cation)f(more)f(or)h(less)h(from)d(b)q(ottom)
h(to)g(top.)208 591 y(This)k(is)g(easy)g(enough)g(to)g(do)g(for)g(a)g
(mo)q(dule)f(as)h(short)g(as)h FV(Channel)t F4(;)g(it's)f(incon)o(v)o
(enien)o(t)208 640 y(for)f(longer)h(sp)q(eci\014cations.)25
b(W)m(e)16 b(can)g(use)h(commen)o(ts)d(to)i(guide)f(the)i(reader)g
(through)f(a)208 690 y(longer)11 b(sp)q(eci\014cation.)18
b(F)m(or)11 b(example,)g(w)o(e)h(could)f(precede)j(the)f(de\014nition)e
(of)g FV(Send)17 b F4(in)11 b(the)208 740 y FV(Channel)18
b F4(mo)q(dule)13 b(with)g(the)i(commen)o(t)p Black Black
332 823 a(Actions)j FV(Send)k F4(and)17 b FV(R)n(cv)k
F4(b)q(elo)o(w)c(are)h(the)f(disjuncts)h(of)e(the)i(next-state)g
(action)332 873 y FV(Next)t F4(.)270 956 y(The)g(mo)q(dule)e(structure)
k(also)d(allo)o(ws)g(us)h(to)g(c)o(ho)q(ose)g(the)h(order)f(in)f(whic)o
(h)h(a)g(sp)q(ec-)208 1006 y(i\014cation)e(is)i(read.)29
b(F)m(or)17 b(example,)g(w)o(e)h(can)g(rewrite)g(the)g(hour-clo)q(c)o
(k)g(sp)q(eci\014cation)g(b)o(y)208 1056 y(splitting)13
b(the)h FV(HourClo)n(ck)k F4(mo)q(dule)12 b(in)o(to)h(three)j(separate)
f(mo)q(dules:)p Black 270 1139 a FV(HCV)m(ar)p Black
92 w F4(A)f(mo)q(dule)f(that)h(declares)h(the)f(v)n(ariable)f
FV(hr)t F4(.)p Black 270 1222 a FV(HCA)n(ctions)p Black
23 w F4(A)h(mo)q(dule)f(that)h FP(extends)g F4(mo)q(dules)f
FV(Natur)n(als)j F4(and)e FV(HCV)m(ar)j F4(and)d(de-)490
1271 y(\014nes)h FV(HCini)j F4(and)13 b FV(HCnxt)t F4(.)p
Black 270 1354 a FV(HCSp)n(e)n(c)p Black 81 w F4(A)21
b(mo)q(dule)e(that)h FP(extends)h F4(mo)q(dule)e FV(HCA)n(ctions)s
F4(,)j(de\014nes)f(form)o(ula)490 1404 y FV(HC)6 b F4(,)13
b(and)h(asserts)i(the)e(t)o(yp)q(e-correctness)j(theorem.)208
1487 y(The)10 b FP(extends)g F4(relation)f(implies)f(a)h(logical)f
(ordering)i(of)f(the)h(mo)q(dules:)15 b FV(HCV)m(ar)e
F4(precedes)208 1537 y FV(HCA)n(ctions)s F4(,)g(whic)o(h)h(precedes)i
FV(HCSp)n(e)n(c)r F4(.)j(But)c(the)f(mo)q(dules)f(don't)h(ha)o(v)o(e)f
(to)h(b)q(e)h(read)f(in)208 1587 y(that)c(order.)18 b(The)10
b(reader)i(can)e(b)q(e)h(told)f(to)g(read)h FV(HCV)m(ar)j
F4(\014rst,)d(then)g FV(HCSp)n(e)n(c)r F4(,)g(and)f(\014nally)208
1637 y FV(HCA)n(ctions)s F4(.)25 b(The)17 b FP(inst)m(ance)g
F4(construct)h(in)o(tro)q(duced)g(b)q(elo)o(w)e(in)g(Chapter)h(4)g(pro)
o(vides)208 1686 y(another)d(to)q(ol)f(for)h(mo)q(dularizing)d(sp)q
(eci\014cations.)270 1736 y(Splitting)h(a)i(tin)o(y)f(sp)q
(eci\014cation)h(lik)o(e)f FV(HourClo)n(ck)18 b F4(in)13
b(this)h(w)o(a)o(y)f(w)o(ould)g(b)q(e)h(ludicrous.)208
1786 y(But)e(the)h(prop)q(er)g(splitting)e(of)h(mo)q(dules)f(can)i
(help)f(mak)o(e)e(a)i(large)g(sp)q(eci\014cation)h(easier)g(to)208
1836 y(read.)23 b(When)16 b(writing)f(a)h(sp)q(eci\014cation,)g(y)o(ou)
f(should)h(decide)g(in)g(what)f(order)i(it)e(should)208
1886 y(b)q(e)f(read.)k(Y)m(ou)13 b(can)h(then)g(design)g(the)g(mo)q
(dule)e(structure)j(to)f(p)q(ermit)e(reading)i(it)f(in)g(that)208
1936 y(order,)20 b(when)g(eac)o(h)g(individual)d(mo)q(dule)h(is)h(read)
h(from)e(b)q(eginning)g(to)i(end.)34 b(Finally)m(,)208
1985 y(y)o(ou)12 b(should)h(ensure)i(that)f(the)f(commen)o(ts)f(within)
g(eac)o(h)i(mo)q(dule)e(mak)o(e)g(sense)j(when)e(the)208
2035 y(di\013eren)o(t)h(mo)q(dules)f(are)i(read)f(in)f(the)i
(appropriate)f(order.)p Black Black eop
%%Page: 35 53
35 52 bop Black Black 208 703 a FL(Chapter)31 b(4)208
910 y F5(A)38 b(FIF)m(O)208 1126 y F4(Our)11 b(next)f(example)g(is)g(a)
g(FIF)o(O)h(bu\013er,)g(called)g(a)f(FIF)o(O)g(for)g(short|a)h(device)g
(with)f(whic)o(h)208 1176 y(a)15 b(sender)j(pro)q(cess)g(transmits)d(a)
g(sequence)k(of)c(v)n(alues)h(to)f(a)h(receiv)o(er.)26
b(The)16 b(sender)i(and)208 1226 y(receiv)o(er)d(use)g(t)o(w)o(o)e(c)o
(hannels,)h FV(in)j F4(and)d FV(out)t F4(,)f(to)h(comm)o(unicate)e
(with)h(the)i(bu\013er:)p Black Black 329 1297 194 4
v 329 1596 4 299 v 369 1460 a FC(Sender)p 519 1596 V
329 1599 194 4 v 702 1353 269 4 v 702 1540 4 187 v 304
w(Bu\013er)p 967 1540 V 702 1543 269 4 v 1151 1297 194
4 v 1151 1596 4 299 v 1177 1459 a(Receiv)o(er)p 1341
1596 V 1151 1599 194 4 v 594 1436 a FB(in)404 b(out)p
519 1448 187 4 v 664 1446 a FA(-)p 967 1448 V 406 w(-)208
1679 y F4(V)m(alues)11 b(are)h(sen)o(t)h(o)o(v)o(er)e
FV(in)k F4(and)c FV(out)16 b F4(using)c(the)g(async)o(hronous)g(proto)q
(col)g(sp)q(eci\014ed)h(b)o(y)e(the)208 1729 y FV(Channel)18
b F4(mo)q(dule)12 b(of)h(Figure)g(3.2)f(on)i(page)f(30.)k(The)d
(system's)f(sp)q(eci\014cation)i(will)d(allo)o(w)208
1779 y(b)q(eha)o(viors)j(with)g(four)g(kinds)g(of)g(nonstuttering)h
(steps:)22 b FV(Send)f F4(and)15 b FV(R)n(cv)20 b F4(steps)d(on)e(b)q
(oth)208 1829 y(the)f FV(in)j F4(c)o(hannel)d(and)g(the)g
FV(out)k F4(c)o(hannel.)208 1987 y FN(4.1)81 b(The)27
b(Inner)f(Sp)r(eci\014cation)208 2078 y F4(The)15 b(sp)q(eci\014cation)
h(of)e(the)i(FIF)o(O)f(\014rst)h FP(extends)g F4(mo)q(dules)e
FV(Natur)n(als)k F4(and)d FV(Se)n(quenc)n(es)s F4(.)208
2128 y(The)i FV(Se)n(quenc)n(es)k F4(mo)q(dule)15 b(de\014nes)j(op)q
(erations)f(on)g(\014nite)g(sequences.)29 b(W)m(e)16
b(represen)o(t)j(a)208 2178 y(\014nite)14 b(sequence)i(as)e(a)g(tuple,)
g(so)g(the)h(sequence)i(of)c(three)j(n)o(um)o(b)q(ers)d(3,)h(2,)f(1)h
(is)g(the)h(triple)208 2227 y F0(h)s F4(3)p FQ(;)7 b
F4(2)p FQ(;)g F4(1)s F0(i)p F4(.)17 b(The)d FV(Se)n(quenc)n(es)19
b F4(mo)q(dule)12 b(de\014nes)j(the)g(follo)o(wing)c(op)q(erators)k(on)
f(sequences:)p Black 270 2310 a FV(Se)n(q)t F4(\()p FV(S)5
b F4(\))p Black 45 w(The)19 b(set)h(of)e(all)g(sequences)k(of)c(elemen)
o(ts)h(of)f(the)i(set)g FV(S)5 b F4(.)33 b(F)m(or)19
b(example,)438 2360 y F0(h)s F4(3)p FQ(;)7 b F4(7)s F0(i)14
b F4(is)g(an)f(elemen)o(t)h(of)f FV(Se)n(q)t F4(\()p
FV(Nat)t F4(\).)p Black 270 2443 a FV(He)n(ad)t F4(\()p
FV(s)s F4(\))p Black 22 w(The)e(\014rst)g(elemen)o(t)e(of)h(sequence)j
FV(s)s F4(.)k(F)m(or)10 b(example,)f FV(He)n(ad)t F4(\()p
F0(h)s F4(3)p FQ(;)e F4(7)s F0(i)p F4(\))k(equals)g(3.)p
Black 1936 2622 a(35)p Black eop
%%Page: 36 54
36 53 bop Black 208 275 a F4(36)1294 b FR(CHAPTER)15
b(4.)31 b(A)14 b(FIF)o(O)p 208 282 1770 2 v Black Black
270 391 a FV(T)m(ail)t F4(\()p FV(s)s F4(\))p Black 40
w(The)h(tail)g(of)f(sequence)k FV(s)s F4(,)d(whic)o(h)g(consists)h(of)f
FV(s)k F4(with)14 b(its)i(head)f(remo)o(v)o(ed.)438 441
y(F)m(or)e(example,)f FV(T)m(ail)t F4(\()p F0(h)s F4(3)p
FQ(;)7 b F4(7)s F0(i)p F4(\))14 b(equals)g F0(h)s F4(7)s
F0(i)p F4(.)p Black 270 524 a FV(App)n(end)t F4(\()p
FV(s)s FQ(;)7 b FV(e)s F4(\))p Black 22 w(The)16 b(sequence)i(obtained)
d(b)o(y)g(app)q(ending)h(elemen)o(t)f FV(e)j F4(to)e(the)g(tail)e(of)
438 574 y(sequence)i FV(s)s F4(.)i(F)m(or)c(example,)e
FV(App)n(end)t F4(\()p F0(h)s F4(3)p FQ(;)7 b F4(7)s
F0(i)p FQ(;)g F4(3\))14 b(equals)g F0(h)s F4(3)p FQ(;)7
b F4(7)p FQ(;)g F4(3)s F0(i)p F4(.)p Black 270 657 a
FV(s)12 b F0(\016)d FV(t)p Black 95 w F4(The)i(sequence)j(obtained)c(b)
o(y)h(concatenating)h(the)f(sequences)j FV(s)h F4(and)10
b FV(t)t F4(.)17 b(F)m(or)438 707 y(example,)12 b F0(h)s
F4(3)p FQ(;)7 b F4(7)s F0(i)i(\016)g(h)s F4(3)s F0(i)15
b F4(equals)f F0(h)s F4(3)p FQ(;)7 b F4(7)p FQ(;)g F4(3)s
F0(i)p F4(.)17 b(\(W)m(e)d(t)o(yp)q(e)g F0(\016)g F4(in)f
FP(asci)q(i)g F4(as)h FO(\\o)p F4(.\))p Black 270 790
a FV(L)n(en)s F4(\()p FV(s)s F4(\))p Black 47 w(The)g(length)g(of)f
(sequence)j FV(s)s F4(.)j(F)m(or)13 b(example,)f FV(L)n(en)s
F4(\()p F0(h)s F4(3)p FQ(;)7 b F4(7)s F0(i)p F4(\))15
b(equals)f(2.)208 873 y(The)k(FIF)o(O's)f(sp)q(eci\014cation)i(con)o
(tin)o(ues)f(b)o(y)f(declaring)h(the)g(constan)o(t)g
FV(Message)s F4(,)h(whic)o(h)208 923 y(represen)o(ts)12
b(the)e(set)h(of)e(all)f(messages)i(that)g(can)f(b)q(e)i(sen)o(t.)1089
908 y FS(1)1125 923 y F4(It)f(then)g(declares)h(the)f(v)n(ariables.)208
972 y(There)18 b(are)f(three)i(v)n(ariables:)24 b FV(in)c
F4(and)d FV(out)t F4(,)h(represen)o(ting)g(the)g(c)o(hannels,)g(and)f
(a)g(third)208 1022 y(v)n(ariable)12 b FV(q)17 b F4(that)d(represen)o
(ts)i(the)e(queue)g(of)f(bu\013ered)i(messages.)j(The)c(v)n(alue)f(of)g
FV(q)k F4(is)c(the)208 1072 y(sequence)i(of)e(messages)g(that)g(ha)o(v)
o(e)h(b)q(een)g(sen)o(t)g(b)o(y)f(the)h(sender)h(but)f(not)f(y)o(et)g
(receiv)o(ed)i(b)o(y)208 1122 y(the)f(receiv)o(er.)20
b(\(Section)14 b(4.3)f(has)h(more)f(to)h(sa)o(y)f(ab)q(out)h(this)g
(additional)e(v)n(ariable)h FV(q)t F4(.\))270 1172 y(W)m(e)g(w)o(an)o
(t)h(to)f(use)i(the)f(de\014nitions)g(in)f(the)i FV(Channel)j
F4(mo)q(dule)13 b(to)g(sp)q(ecify)i(op)q(erations)208
1222 y(on)h(the)h(c)o(hannels)g FV(in)i F4(and)e FV(out)t
F4(.)26 b(This)16 b(requires)i(t)o(w)o(o)e(instances)h(of)f(that)h(mo)q
(dule|one)208 1271 y(in)c(whic)o(h)g(the)h(v)n(ariable)f
FV(chan)18 b F4(of)13 b(the)h FV(Channel)k F4(mo)q(dule)12
b(is)i(replaced)g(with)g(the)g(v)n(ariable)208 1321 y
FV(in)21 b F4(of)c(our)h(curren)o(t)i(mo)q(dule,)d(and)h(the)g(other)h
(in)f(whic)o(h)g FV(chan)k F4(is)17 b(replaced)i(with)f
FV(out)t F4(.)208 1371 y(In)e(b)q(oth)i(instances,)g(the)f(constan)o(t)
h FV(Data)j F4(of)16 b(the)h FV(Channel)22 b F4(mo)q(dule)16
b(is)g(replaced)i(with)208 1421 y FV(Message)s F4(.)g(W)m(e)c(obtain)f
(the)h(\014rst)h(of)e(these)j(instances)f(with)e(the)i(statemen)o(t)p
Black Black 332 1508 a FV(InChan)509 1484 y FI(\001)505
1508 y F4(=)35 b FP(inst)m(ance)16 b FV(Channel)k FP(with)15
b FV(Data)g F0( )c FV(Message)s FQ(;)19 b FV(chan)d F0( )11
b FV(in)208 1591 y F4(F)m(or)j(ev)o(ery)i(sym)o(b)q(ol)d
FQ(\033)j F4(de\014ned)g(in)e(mo)q(dule)f FV(Channel)t
F4(,)j(this)f(de\014nes)h FV(InChan)7 b F4(!)s FQ(\033)16
b F4(to)f(ha)o(v)o(e)208 1641 y(the)h(same)f(meaning)f(in)h(the)i
(curren)o(t)g(mo)q(dule)d(as)i FQ(\033)h F4(had)f(in)f(mo)q(dule)g
FV(Channel)t F4(,)h(except)208 1691 y(with)f FV(Message)k
F4(substituted)f(for)d FV(Data)k F4(and)d FV(in)j F4(substituted)e(for)
f FV(chan)s F4(.)24 b(F)m(or)16 b(example,)208 1740 y(this)e(statemen)o
(t)f(de\014nes)j FV(InChan)7 b F4(!)s FV(T)m(yp)n(eInvariant)18
b F4(to)c(equal)p Black Black 332 1824 a FV(in)22 b F0(2)c
F4([)p FV(val)12 b F4(:)7 b FV(Message)s FQ(;)19 b FV(r)n(dy)12
b F4(:)7 b F0(f)p F4(0)p FQ(;)g F4(1)p F0(g)p FQ(;)17
b FV(ack)c F4(:)7 b F0(f)p F4(0)p FQ(;)g F4(1)p F0(g)p
F4(])208 1907 y(\(The)20 b(statemen)o(t)f(do)q(es)h FV(not)k
F4(de\014ne)d FV(InChan)7 b F4(!)s FV(Data)24 b F4(b)q(ecause)d
FV(Data)i F4(is)c(declared,)j(not)208 1956 y(de\014ned,)14
b(in)e(mo)q(dule)g FV(Channel)t F4(.\))19 b(W)m(e)12
b(in)o(tro)q(duce)i(our)g(second)g(instance)g(of)e(the)i
FV(Channel)208 2006 y F4(mo)q(dule)e(with)i(the)g(analogous)f(statemen)
o(t)p Black Black 332 2093 a FV(OutChan)538 2070 y FI(\001)533
2093 y F4(=)35 b FP(inst)m(ance)16 b FV(Channel)28 b
FP(with)14 b FV(Data)i F0( )11 b FV(Message)s FQ(;)19
b FV(chan)c F0( )c FV(out)208 2176 y F4(The)k(initial)f(states)i(of)f
(the)h FV(in)i F4(and)d FV(out)20 b F4(c)o(hannels)c(are)g(sp)q
(eci\014ed)g(b)o(y)g FV(InChan)7 b F4(!)s FV(Init)19
b F4(and)208 2226 y FV(OutChan)7 b F4(!)s FV(Init)t F4(.)28
b(Initially)m(,)15 b(no)i(messages)h(ha)o(v)o(e)f(b)q(een)i(sen)o(t)f
(or)f(receiv)o(ed,)i(so)f FV(q)j F4(should)p Black 208
2261 576 2 v 254 2288 a FK(1)271 2299 y FZ(I)11 b(lik)o(e)e(to)i(use)f
(a)g(singular)f(noun)g(lik)o(e)h FY(Message)k FZ(rather)9
b(than)g(a)h(plural)f(lik)o(e)h FY(Messages)k FZ(for)c(the)g(name)208
2339 y(of)i(a)g(set.)17 b(That)12 b(w)o(a)o(y)m(,)g(the)g
FW(2)g FZ(in)g(the)f(expression)f FY(m)k FW(2)d FY(Message)k
FZ(can)d(b)q(e)g(read)f FY(is)i(a)p FZ(.)18 b(This)12
b(is)h(the)e(same)208 2378 y(con)o(v)o(en)o(tion)d(that)i(most)h
(programme)o(rs)e(use)i(for)g(naming)e(t)o(yp)q(es.)p
Black Black Black eop
%%Page: 37 55
37 54 bop Black 208 275 a FR(4.2.)30 b(INST)m(ANTIA)m(TION)14
b(EXAMINED)1045 b F4(37)p 208 282 1770 2 v Black 208
391 a(equal)12 b(the)i(empt)o(y)e(sequence.)19 b(The)14
b(empt)o(y)e(sequence)j(is)d(the)i(0-tuple)f(\(there's)h(only)e(one,)
208 441 y(and)h(it's)h(written)g F0(h)7 b(i)p F4(\),)14
b(so)g(w)o(e)g(de\014ne)h(the)f(initial)e(predicate)j(to)f(b)q(e)p
Black Black 332 528 a FV(Init)441 505 y FI(\001)436 528
y F4(=)35 b F0(^)14 b FV(InChan)7 b F4(!)s FV(Init)503
578 y F0(^)14 b FV(OutChan)7 b F4(!)s FV(Init)503 628
y F0(^)14 b FV(q)h F4(=)d F0(h)7 b(i)208 714 y F4(W)m(e)k(next)g
(de\014ne)i(the)f(t)o(yp)q(e)g(in)o(v)n(arian)o(t.)j(The)d(t)o(yp)q(e)g
(in)o(v)n(arian)o(ts)e(for)h FV(in)j F4(and)e FV(out)j
F4(come)c(from)208 764 y(the)h FV(Channel)17 b F4(mo)q(dule,)10
b(and)i(the)h(t)o(yp)q(e)f(of)g FV(q)j F4(is)d(the)h(set)g(of)e
(\014nite)h(sequences)j(of)c(messages.)208 814 y(The)j(t)o(yp)q(e)g(in)
o(v)n(arian)o(t)f(for)g(the)i(FIF)o(O)f(sp)q(eci\014cation)g(is)g
(therefore)p Black Black 332 899 a FV(T)m(yp)n(eInvariant)628
875 y FI(\001)624 899 y F4(=)35 b F0(^)13 b FV(InChan)7
b F4(!)s FV(T)m(yp)n(eInvariant)691 949 y F0(^)13 b FV(OutChan)7
b F4(!)s FV(T)m(yp)n(eInvariant)691 999 y F0(^)13 b FV(q)i
F0(2)d FV(Se)n(q)t F4(\()p FV(Message)s F4(\))208 1085
y(The)k(four)g(kinds)g(of)f(nonstuttering)i(steps)g(allo)o(w)o(ed)e(b)o
(y)h(the)g(next-state)h(action)f(are)h(de-)208 1135 y(scrib)q(ed)e(b)o
(y)e(four)h(actions:)p Black 270 1216 a FV(SSend)t F4(\()p
FV(msg)t F4(\))p Black 22 w(The)g(sender)i(sends)f(message)f
FV(msg)j F4(on)d(the)g FV(in)j F4(c)o(hannel.)p Black
270 1297 a FV(BufR)n(cv)p Black 111 w F4(The)h(bu\013er)g(receiv)o(es)h
(the)f(message)f(from)f(the)i FV(in)j F4(c)o(hannel)c(and)g(ap-)511
1347 y(p)q(ends)e(it)f(to)f(the)i(tail)e(of)g FV(q)t
F4(.)p Black 270 1429 a FV(BufSend)p Black 91 w F4(The)i(bu\013er)h
(remo)o(v)o(es)f(the)g(message)g(from)e(the)i(head)g(of)f
FV(q)19 b F4(and)c(sends)511 1479 y(it)f(on)f(c)o(hannel)h
FV(out)t F4(.)p Black 270 1561 a FV(RR)n(cv)p Black 145
w F4(The)g(receiv)o(er)i(receiv)o(es)f(the)g(message)f(from)e(the)i
FV(out)k F4(c)o(hannel.)208 1642 y(The)d(de\014nitions)g(of)g(these)i
(actions,)e(along)f(with)g(the)i(rest)h(of)d(the)i(sp)q(eci\014cation,)
g(are)f(in)208 1691 y(mo)q(dule)c FV(InnerFIF)o(O)16
b F4(of)c(Figure)h(4.1)e(on)i(the)g(next)g(page.)k(The)c(reason)g(for)g
(the)g(adjectiv)o(e)208 1741 y FV(Inner)18 b F4(is)c(explained)g(in)f
(Section)h(4.3)f(b)q(elo)o(w.)208 1899 y FN(4.2)81 b(Instan)n(tiation)
27 b(Examined)208 1990 y F4(The)11 b FP(inst)m(ance)g
F4(statemen)o(t)g(is)f(seldom)g(used)i(except)g(in)e(one)h(idiom)e(for)
h(hiding)g(v)n(ariables,)208 2040 y(whic)o(h)j(is)h(describ)q(ed)h(in)f
(Section)g(4.3.)j(So,)c(most)g(readers)i(can)f(skip)f(this)h(section)h
(and)e(go)208 2090 y(directly)h(to)f(page)h(41.)208 2227
y F3(4.2.1)65 b(Instan)n(tiation)24 b(Is)e(Substitution)208
2317 y F4(Consider)16 b(the)g(de\014nition)f(of)g FV(Next)k
F4(in)c(mo)q(dule)f FV(Channel)21 b F4(\(page)15 b(30\).)23
b(W)m(e)15 b(can)h(remo)o(v)o(e)208 2367 y(ev)o(ery)e(de\014ned)h(sym)o
(b)q(ol)e(that)h(app)q(ears)g(in)g(that)g(de\014nition)g(b)o(y)f(using)
h(the)h(sym)o(b)q(ol's)d(def-)208 2417 y(inition.)28
b(F)m(or)17 b(example,)g(w)o(e)h(can)g(eliminate)e(the)i(expression)h
FV(Send)t F4(\()p FV(d)t F4(\))h(b)o(y)d(expanding)208
2467 y(the)e(de\014nition)f(of)g FV(Send)t F4(.)21 b(W)m(e)15
b(can)f(rep)q(eat)i(this)f(pro)q(cess.)22 b(F)m(or)14
b(example,)f(the)i(\\)p F0(\000)p F4(")g(that)208 2517
y(app)q(ears)f(in)f(the)h(expression)g(1)8 b F0(\000)h
F4(@)k(\(obtained)h(b)o(y)f(expanding)g(the)h(de\014nition)f(of)f
FV(Send)t F4(\))p Black Black eop
%%Page: 38 56
38 55 bop Black 208 275 a F4(38)1294 b FR(CHAPTER)15
b(4.)31 b(A)14 b(FIF)o(O)p 208 282 1770 2 v Black Black
Black Black 188 541 2 25 v 190 518 538 2 v 741 525 a
FP(module)h FV(InnerFIF)o(O)p 1126 518 V 1664 541 2 25
v Black Black 208 600 a FP(extends)h FV(Natur)n(als)s
FQ(;)7 b FV(Se)n(quenc)n(es)208 650 y FP(const)m(ant)16
b FV(Message)208 700 y FP(v)l(ariables)h FV(in)s FQ(;)h
FV(out)t FQ(;)g FV(q)208 761 y(InChan)402 737 y FI(\001)397
761 y F4(=)24 b FP(inst)m(ance)16 b FV(Channel)k FP(with)15
b FV(Data)g F0( )c FV(Message)s FQ(;)19 b FV(chan)d F0( )11
b FV(in)208 818 y(OutChan)402 794 y FI(\001)397 818 y
F4(=)24 b FP(inst)m(ance)16 b FV(Channel)k FP(with)15
b FV(Data)g F0( )c FV(Message)s FQ(;)19 b FV(chan)d F0( )11
b FV(out)p 188 850 V 190 839 1475 2 v 1665 849 2 25 v
208 887 a(Init)317 864 y FI(\001)312 887 y F4(=)35 b
F0(^)14 b FV(InChan)7 b F4(!)s FV(Init)379 937 y F0(^)14
b FV(OutChan)7 b F4(!)s FV(Init)379 987 y F0(^)14 b FV(q)i
F4(=)11 b F0(h)c(i)208 1064 y FV(T)m(yp)n(eInvariant)504
1041 y FI(\001)499 1064 y F4(=)35 b F0(^)15 b FV(InChan)7
b F4(!)s FV(T)m(yp)n(eInvariant)566 1114 y F0(^)15 b
FV(OutChan)7 b F4(!)s FV(T)m(yp)n(eInvariant)566 1164
y F0(^)15 b FV(q)g F0(2)c FV(Se)n(q)t F4(\()p FV(Message)s
F4(\))208 1241 y FV(SSend)t F4(\()p FV(msg)t F4(\))467
1218 y FI(\001)463 1241 y F4(=)35 b F0(^)14 b FV(InChan)7
b F4(!)s FV(Send)t F4(\()p FV(msg)t F4(\))530 1291 y
F0(^)14 b FP(unchanged)j F0(h)s FV(out)t FQ(;)e FV(q)7
b F0(i)p .95 TeXcolorgray .95 TeXcolorgray 998 1261 399
57 v .95 TeXcolorgray Black 1006 1241 a FZ(Send)k FY(msg)j
FZ(on)d(c)o(hannel)f FY(in)s FZ(.)p .95 TeXcolorgray
Black 208 1369 a FV(BufR)n(cv)382 1345 y FI(\001)377
1369 y F4(=)35 b F0(^)15 b FV(InChan)7 b F4(!)s FV(R)n(cv)444
1418 y F0(^)15 b FV(q)510 1403 y FH(0)533 1418 y F4(=)c
FV(App)n(end)t F4(\()p FV(q)t FQ(;)k FV(in)s FQ(:)p FV(val)t
F4(\))444 1468 y F0(^)g FP(unchanged)i FV(out)p .95 TeXcolorgray
.95 TeXcolorgray 936 1439 526 106 v .95 TeXcolorgray
Black 944 1369 a FZ(Receiv)o(e)10 b(message)g(from)g(c)o(hannel)g
FY(in)980 1418 y FZ(and)g(app)q(end)g(it)h(to)g(tail)g(of)g
FY(q)s FZ(.)p .95 TeXcolorgray Black 208 1546 a FV(BufSend)402
1522 y FI(\001)398 1546 y F4(=)35 b F0(^)14 b FV(q)h
F0(6)p F4(=)d F0(h)7 b(i)465 1595 y(^)14 b FV(OutChan)7
b F4(!)s FV(Send)t F4(\()p FV(He)n(ad)t F4(\()p FV(q)t
F4(\)\))465 1645 y F0(^)14 b FV(q)530 1630 y FH(0)553
1645 y F4(=)e FV(T)m(ail)t F4(\()p FV(q)t F4(\))465 1695
y F0(^)i FP(unchanged)j FV(in)p .95 TeXcolorgray .95
TeXcolorgray 999 1665 491 156 v .95 TeXcolorgray Black
1008 1546 a FZ(Enabled)9 b(only)i(if)g FY(q)k FZ(is)d(nonempt)o(y)m(.)
1008 1595 y(Send)e FY(He)n(ad)s FZ(\()p FY(q)s FZ(\))j(on)e(c)o(hannel)
f FY(out)1043 1645 y FZ(and)h(remo)o(v)o(e)e(it)i(from)g
FY(q)s FZ(.)p .95 TeXcolorgray Black 208 1773 a FV(RR)n(cv)348
1749 y FI(\001)343 1773 y F4(=)35 b F0(^)15 b FV(OutChan)7
b F4(!)s FV(R)n(cv)410 1822 y F0(^)15 b FP(unchanged)i
F0(h)s FV(in)s FQ(;)d FV(q)7 b F0(i)p .95 TeXcolorgray
.95 TeXcolorgray 857 1793 554 57 v .95 TeXcolorgray Black
865 1773 a FZ(Receiv)o(e)j(message)f(from)i(c)o(hannel)e
FY(out)s FZ(.)p .95 TeXcolorgray Black 208 1900 a FV(Next)334
1876 y FI(\001)329 1900 y F4(=)35 b F0(_)14 b(9)7 b FV(msg)16
b F0(2)11 b FV(Message)22 b F4(:)c FV(SSend)t F4(\()p
FV(msg)t F4(\))396 1950 y F0(_)c FV(BufR)n(cv)396 2000
y F0(_)g FV(BufSend)396 2049 y F0(_)g FV(RR)n(cv)208
2127 y(Sp)n(e)n(c)328 2103 y FI(\001)323 2127 y F4(=)35
b FV(Init)20 b F0(^)c FG(2)p F4([)p FV(Next)t F4(])662
2134 y FH(h)s FJ(in)s Fy(;)t FJ(out)s Fy(;)5 b FJ(q)g
FH(i)p 188 2174 2 25 v 190 2163 1475 2 v 1665 2174 2
25 v 208 2229 a FP(theorem)16 b FV(Sp)n(e)n(c)e F0(\))d
FG(2)p FV(T)m(yp)n(eInvariant)p 188 2271 V 190 2271 1475
2 v 1665 2271 2 25 v Black 221 2361 a FU(Figure)j(4.1:)19
b F4(The)14 b(sp)q(eci\014cation)h(of)e(a)h(FIF)o(O,)f(with)h(the)h(in)
o(ternal)e(v)n(ariable)g FV(q)k F4(visible.)p Black Black
Black Black eop
%%Page: 39 57
39 56 bop Black 208 275 a FR(4.2.)30 b(INST)m(ANTIA)m(TION)14
b(EXAMINED)1045 b F4(39)p 208 282 1770 2 v Black 208
391 a(can)19 b(b)q(e)h(eliminated)d(b)o(y)i(using)f(the)i(de\014nition)
f(of)f(\\)p F0(\000)p F4(")h(from)e(the)j FV(Natur)n(als)i
F4(mo)q(dule.)208 441 y(Con)o(tin)o(uing)15 b(in)g(this)i(w)o(a)o(y)m
(,)e(w)o(e)i(ev)o(en)o(tually)f(obtain)f(a)h(de\014nition)g(for)g
FV(Next)k F4(in)c(terms)g(of)208 491 y(only)e(the)i(built-in)d(op)q
(erators)k(of)d(TLA)842 476 y FS(+)878 491 y F4(and)h(the)h(parameters)
f FV(Data)k F4(and)c FV(chan)k F4(of)14 b(the)208 541
y FV(Channel)j F4(mo)q(dule.)f(W)m(e)c(consider)h(this)f(to)g(b)q(e)h
(the)g(\\real")f(de\014nition)g(of)f FV(Next)16 b F4(in)c(mo)q(dule)208
591 y FV(Channel)t F4(.)18 b(The)d(statemen)o(t)p Black
Black 332 666 a FV(InChan)509 642 y FI(\001)505 666 y
F4(=)35 b FP(inst)m(ance)16 b FV(Channel)k FP(with)15
b FV(Data)g F0( )c FV(Message)s FQ(;)19 b FV(chan)d F0( )11
b FV(in)208 741 y F4(in)18 b(mo)q(dule)f FV(InnerFIF)o(O)22
b F4(de\014nes)e FV(InChan)7 b F4(!)s FV(Next)23 b F4(to)18
b(b)q(e)h(the)g(form)o(ula)d(obtained)j(from)208 790
y(this)c(real)h(de\014nition)f(of)g FV(Next)20 b F4(b)o(y)15
b(substituting)h FV(Message)k F4(for)15 b FV(Data)20
b F4(and)15 b FV(in)k F4(for)c FV(chan)s F4(.)208 840
y(This)f(de\014nes)i FV(InChan)7 b F4(!)s FV(Next)19
b F4(in)14 b(terms)h(of)f(only)g(the)h(built-in)e(op)q(erators)j(of)e
(TLA)1544 825 y FS(+)1579 840 y F4(and)208 890 y(the)g(parameters)g
FV(Message)k F4(and)13 b FV(in)k F4(of)d(mo)q(dule)e
FV(InnerFIF)o(O)t F4(.)270 940 y(Let's)i(no)o(w)g(consider)g(an)g
(arbitrary)g FP(inst)m(ance)h F4(statemen)o(t)p Black
Black 332 1019 a FV(IM)431 996 y FI(\001)427 1019 y F4(=)35
b FP(inst)m(ance)16 b FV(M)22 b FP(with)15 b FV(p)883
1025 y FS(1)913 1019 y F0( )c FV(e)988 1025 y FS(1)1007
1019 y FQ(;)18 b(:)7 b(:)g(:)12 b(;)18 b FV(p)1153 1025
y FJ(n)1189 1019 y F0( )11 b FV(e)1264 1025 y FJ(n)208
1094 y F4(Let)j(\006)g(b)q(e)h(a)e(sym)o(b)q(ol)g(de\014ned)i(in)e(mo)q
(dule)g FV(M)21 b F4(and)14 b(let)g FV(d)k F4(b)q(e)d(its)f(\\real")f
(de\014nition.)18 b(The)208 1144 y FP(inst)m(ance)d F4(statemen)o(t)h
(de\014nes)h FV(IM)10 b F4(!)s(\006)15 b(to)h(ha)o(v)o(e)f(as)h(its)f
(real)h(de\014nition)f(the)h(expression)208 1194 y(obtained)c(from)f
FV(d)17 b F4(b)o(y)12 b(replacing)h(all)e(instances)j(of)e
FV(p)1048 1200 y FJ(i)1076 1194 y F4(b)o(y)g(the)h(expression)h
FV(e)1423 1200 y FJ(i)1439 1194 y F4(,)e(for)g(eac)o(h)h
FV(i)t F4(.)208 1244 y(The)j(de\014nition)g(of)f FV(IM)c
F4(!)s(\006)16 b(m)o(ust)f(con)o(tain)h(only)f(the)i(parameters)f
(\(declared)h(constan)o(ts)208 1293 y(and)c(v)n(ariables\))g(of)g(the)h
(curren)o(t)i(mo)q(dule,)11 b(not)j(the)g(ones)h(of)e(mo)q(dule)f
FV(M)7 b F4(.)18 b(Hence,)c(the)h FV(p)1631 1299 y FJ(i)208
1343 y F4(m)o(ust)g(consist)i(of)f(all)g(the)h(parameters)g(of)f(mo)q
(dule)f FV(M)7 b F4(.)26 b(The)17 b FV(e)1246 1349 y
FJ(i)1278 1343 y F4(m)o(ust)f(b)q(e)h(expressions)208
1393 y(that)c(are)i(meaningful)c(in)j(the)g(curren)o(t)h(mo)q(dule.)208
1529 y F3(4.2.2)65 b(P)n(arametrized)23 b(Instan)n(tiation)208
1619 y F4(The)d(FIF)o(O)g(sp)q(eci\014cation)h(uses)g(t)o(w)o(o)e
(instances)i(of)e(mo)q(dule)g FV(Channel)t F4(|one)h(with)g
FV(in)208 1669 y F4(substituted)f(for)f FV(chan)k F4(and)c(the)g(other)
h(with)f FV(out)k F4(substituted)d(for)f FV(chan)s F4(.)31
b(W)m(e)18 b(could)208 1719 y(instead)12 b(use)h(a)f(single)g
(parametrized)f(instance)i(b)o(y)f(putting)g(the)h(follo)o(wing)c
(statemen)o(t)j(in)208 1769 y(mo)q(dule)g FV(InnerFIF)o(O)t
F4(:)p Black Black 332 1844 a FV(Chan)s F4(\()p FV(ch)s
F4(\))546 1820 y FI(\001)541 1844 y F4(=)35 b FP(inst)m(ance)16
b FV(Channel)21 b FP(with)14 b FV(Data)i F0( )11 b FV(Message)s
FQ(;)c FV(chan)16 b F0( )11 b FV(ch)208 1919 y F4(F)m(or)j(an)o(y)g
(sym)o(b)q(ol)f(\006)i(de\014ned)h(in)e(mo)q(dule)g FV(Channel)19
b F4(and)c(an)o(y)f(expression)i FV(exp)s F4(,)f(this)g(de-)208
1969 y(\014nes)h FV(Chan)s F4(\()p FV(exp)s F4(\))s(!)s(\006)h(to)e
(equal)h(form)o(ula)d(\006)i(with)g FV(Message)20 b F4(substituted)d
(for)e FV(Data)k F4(and)208 2019 y FV(exp)h F4(substituted)g(for)d
FV(chan)s F4(.)30 b(The)19 b FV(R)n(cv)j F4(action)c(on)f(c)o(hannel)h
FV(in)j F4(could)c(then)i(b)q(e)f(writ-)208 2068 y(ten)d
FV(Chan)s F4(\()p FV(in)s F4(\))s(!)s FV(R)n(cv)t F4(,)i(and)e(the)g
FV(Send)t F4(\()p FV(msg)t F4(\))i(action)d(on)h(c)o(hannel)g
FV(out)k F4(could)c(b)q(e)g(written)208 2118 y FV(Chan)s
F4(\()p FV(out)t F4(\))s(!)s FV(Send)t F4(\()p FV(msg)t
F4(\).)270 2168 y(The)d(instan)o(tiation)d(ab)q(o)o(v)o(e)i(de\014nes)i
FV(Chan)7 b F4(!)s FV(Send)17 b F4(to)11 b(b)q(e)h(an)f(op)q(erator)h
(with)e(t)o(w)o(o)h(argu-)208 2218 y(men)o(ts.)23 b(W)m(riting)15
b FV(Chan)s F4(\()p FV(out)t F4(\))s(!)s FV(Send)t F4(\()p
FV(msg)t F4(\))j(instead)f(of)e FV(Chan)7 b F4(!)s FV(Send)t
F4(\()p FV(out)t FQ(;)g FV(msg)t F4(\))17 b(is)f(just)208
2268 y(an)d(idiosyncrasy)h(of)f(the)h(syn)o(tax.)k(It)c(is)g(no)f
(stranger)i(than)f(the)g(syn)o(tax)g(for)f(in\014x)h(op)q(era-)208
2317 y(tors,)f(whic)o(h)h(has)g(us)h(write)f FV(a)e F4(+)e
FV(b)16 b F4(instead)f(of)e(+\()p FV(a)s FQ(;)7 b FV(b)s
F4(\).)270 2367 y(P)o(arametrized)13 b(instan)o(tiation)e(is)i(used)h
(almost)e(exclusiv)o(ely)h(in)f(the)i(TLA)1448 2352 y
FS(+)1482 2367 y F4(idiom)c(for)208 2417 y(v)n(ariable)g(hiding,)g
(describ)q(ed)k(in)d(Section)h(4.3.)k(Y)m(ou)11 b(can)g(use)i(that)e
(idiom)e(without)i(under-)208 2467 y(standing)k(it,)g(so)h(y)o(ou)f
(probably)g(don't)g(need)h(to)g(kno)o(w)f(an)o(ything)g(ab)q(out)g
(parametrized)208 2517 y(instan)o(tiation.)p Black Black
eop
%%Page: 40 58
40 57 bop Black 208 275 a F4(40)1294 b FR(CHAPTER)15
b(4.)31 b(A)14 b(FIF)o(O)p 208 282 1770 2 v Black 208
391 a F3(4.2.3)65 b(Implicit)25 b(Substitutions)208 482
y F4(The)15 b(use)h(of)e FV(Message)19 b F4(as)c(the)h(name)e(for)g
(the)i(set)g(of)e(transmitted)h(v)n(alues)f(in)h(the)h(FIF)o(O)208
532 y(sp)q(eci\014cation)j(is)g(a)g(bit)g(strange,)i(since)f(w)o(e)f
(had)g(just)h(used)g(the)g(name)e FV(Data)k F4(for)d(the)208
582 y(analogous)12 b(set)j(in)e(the)i(async)o(hronous)f(c)o(hannel)g
(sp)q(eci\014cations.)19 b(Supp)q(ose)c(w)o(e)f(had)g(used)208
632 y FV(Data)h F4(in)d(place)g(of)f FV(Message)16 b
F4(as)c(the)g(constan)o(t)h(parameter)e(of)g(mo)q(dule)g
FV(InnerFIF)o(O)t F4(.)17 b(The)208 681 y(\014rst)d(instan)o(tiation)f
(statemen)o(t)h(w)o(ould)f(then)h(ha)o(v)o(e)g(b)q(een)p
Black Black 332 750 a FV(InChan)509 726 y FI(\001)505
750 y F4(=)35 b FP(inst)m(ance)16 b FV(Channel)k FP(with)15
b FV(Data)g F0( )c FV(Data)s FQ(;)c FV(chan)16 b F0( )11
b FV(in)208 818 y F4(The)16 b(substitution)g FV(Data)i
F0( )c FV(Data)20 b F4(indicates)c(that)g(the)g(constan)o(t)h
(parameter)e FV(Data)k F4(of)208 868 y(the)f(instan)o(tiated)g(mo)q
(dule)e FV(Channel)22 b F4(is)c(replaced)h(with)e(the)i(expression)g
FV(Data)i F4(of)c(the)208 918 y(curren)o(t)f(mo)q(dule.)21
b(TLA)607 903 y FS(+)643 918 y F4(allo)o(ws)14 b(us)h(to)g(drop)g(an)o
(y)g(substitution)h(of)e(the)i(form)d(\006)h F0( )f F4(\006,)208
968 y(for)g(a)h(sym)o(b)q(ol)e(\006.)18 b(So,)13 b(the)h(statemen)o(t)g
(ab)q(o)o(v)o(e)g(can)g(b)q(e)g(written)h(as)p Black
Black 332 1040 a FV(InChan)509 1017 y FI(\001)505 1040
y F4(=)35 b FP(inst)m(ance)16 b FV(Channel)k FP(with)15
b FV(chan)h F0( )11 b FV(in)208 1109 y F4(W)m(e)k(kno)o(w)g(there)i(is)
f(an)g(implied)d FV(Data)19 b F0( )14 b FV(Data)19 b
F4(substitution)d(b)q(ecause)i(an)e FP(inst)m(ance)208
1159 y F4(statemen)o(t)10 b(m)o(ust)g(ha)o(v)o(e)h(a)g(substitution)g
(for)g(ev)o(ery)g(parameter)g(of)f(the)i(instan)o(tiated)f(mo)q(d-)208
1208 y(ule.)20 b(If)15 b(some)f(parameter)g FV(p)k F4(has)d(no)f
(explicit)h(substitution,)g(then)g(there)h(is)f(an)g(implicit)208
1258 y(substitution)g FV(p)i F0( )d FV(p)s F4(.)22 b(This)16
b(means)e(that)i(the)g FP(inst)m(ance)g F4(statemen)o(t)f(m)o(ust)g
(lie)g(within)208 1308 y(the)f(scop)q(e)h(of)e(a)h(declaration)g(or)f
(de\014nition)h(of)f(the)i(sym)o(b)q(ol)d FV(p)s F4(.)270
1358 y(It)h(is)g(quite)g(common)e(to)i(instan)o(tiate)g(a)g(mo)q(dule)f
(with)g(this)i(kind)e(of)h(implicit)e(substi-)208 1408
y(tution.)22 b(Often,)16 b(ev)o(ery)h(parameter)e(has)g(an)h(implicit)d
(substitution,)i(in)g(whic)o(h)h(case)g(the)208 1457
y(list)d(of)g(explicit)h(substitutions)g(is)g(empt)o(y)m(.)i(The)f
FP(with)e F4(is)h(then)g(omitted.)208 1592 y F3(4.2.4)65
b(Instan)n(tiation)24 b(Without)g(Renaming)208 1682 y
F4(So)16 b(far,)g(all)g(the)h(instan)o(tiations)f(w)o(e'v)o(e)g(used)i
(ha)o(v)o(e)e(b)q(een)i(with)e(renaming.)25 b(F)m(or)16
b(exam-)208 1732 y(ple,)c(the)i(\014rst)f(instan)o(tiation)f(of)g(mo)q
(dule)g FV(Channel)17 b F4(renames)c(the)h(de\014ned)g(sym)o(b)q(ol)d
FV(Send)208 1782 y F4(as)16 b FV(InChan)7 b F4(!)s FV(Send)t
F4(.)29 b(This)16 b(kind)h(of)f(renaming)f(is)i(necessary)i(if)c(w)o(e)
i(are)h(using)e(m)o(ultiple)208 1832 y(instances)g(of)g(the)g(mo)q
(dule,)e(or)i(a)g(single)f(parametrized)h(instance.)24
b(The)16 b(t)o(w)o(o)g(instances)208 1882 y FV(InChan)7
b F4(!)s FV(Init)18 b F4(and)d FV(OutChan)7 b F4(!)s
FV(Init)19 b F4(of)14 b FV(Init)k F4(in)c(mo)q(dule)g
FV(InnerFIF)o(O)19 b F4(are)c(di\013eren)o(t)g(for-)208
1932 y(m)o(ulas,)c(so)j(they)g(need)h(di\013eren)o(t)g(names.)270
1981 y(Sometimes)9 b(w)o(e)j(need)g(only)f(a)g(single)g(instance)h(of)f
(a)g(mo)q(dule.)16 b(F)m(or)11 b(example,)f(supp)q(ose)208
2031 y(w)o(e)16 b(are)g(sp)q(ecifying)g(a)g(system)g(with)g(only)f(a)h
(single)g(async)o(hronous)h(c)o(hannel.)24 b(W)m(e)16
b(then)208 2081 y(need)d(only)g(one)g(instance)g(of)g
FV(Channel)t F4(,)g(so)g(w)o(e)g(don't)g(ha)o(v)o(e)f(to)h(rename)g
(the)g(instan)o(tiated)208 2131 y(sym)o(b)q(ols.)j(In)e(that)g(case,)g
(w)o(e)g(can)h(write)f(something)e(lik)o(e)p Black Black
332 2199 a FP(inst)m(ance)k FV(Channel)21 b FP(with)15
b FV(Data)g F0( )c FV(D)t FQ(;)c FV(chan)15 b F0( )c
FV(x)208 2268 y F4(This)17 b(instan)o(tiates)h FV(Channel)k
F4(with)17 b(no)g(renaming,)g(but)h(with)f(substitution.)29
b(Th)o(us,)18 b(it)208 2317 y(de\014nes)i FV(R)n(cv)25
b F4(to)19 b(b)q(e)h(the)g(form)o(ula)d(of)i(the)h(same)f(name)f(from)f
(the)k FV(Channel)j F4(mo)q(dule,)208 2367 y(except)13
b(with)e FV(D)k F4(substituted)e(for)f FV(Data)j F4(and)c
FV(x)17 b F4(substituted)c(for)e FV(chan)s F4(.)18 b(The)12
b(expressions)208 2417 y(substituted)17 b(for)f(an)f(instan)o(tiated)h
(mo)q(dule's)f(parameters)h(m)o(ust)f(b)q(e)h(de\014ned.)26
b(So,)16 b(this)208 2467 y FP(inst)m(ance)d F4(statemen)o(t)h(m)o(ust)e
(b)q(e)i(within)f(the)h(scop)q(e)g(of)f(the)h(de\014nitions)f(or)h
(declarations)208 2517 y(of)f FV(D)18 b F4(and)c FV(x)5
b F4(.)p Black Black eop
%%Page: 41 59
41 58 bop Black 208 275 a FR(4.3.)30 b(HIDING)14 b(THE)g(QUEUE)1208
b F4(41)p 208 290 1770 2 v Black 208 400 a FN(4.3)81
b(Hiding)26 b(the)h(Queue)208 491 y F4(Mo)q(dule)15 b
FV(InnerFIF)o(O)20 b F4(of)c(Figure)g(4.1)f(de\014nes)i
FV(Sp)n(e)n(c)i F4(to)c(b)q(e)i FV(Init)d F0(^)c FG(2)p
F4([)p FV(Next)t F4(])1437 497 y Fy(:::)1475 491 y F4(,)16
b(the)g(sort)208 540 y(of)i(form)o(ula)f(w)o(e'v)o(e)i(b)q(ecome)g
(accustomed)g(to)g(as)g(a)g(system)g(sp)q(eci\014cation.)34
b(Ho)o(w)o(ev)o(er,)208 590 y(form)o(ula)10 b FV(Sp)n(e)n(c)16
b F4(describ)q(es)f(the)f(v)n(alue)e(of)g(v)n(ariable)g
FV(q)t F4(,)h(as)g(w)o(ell)f(as)h(of)g(the)g(v)n(ariables)g
FV(in)j F4(and)208 640 y FV(out)t F4(.)i(The)13 b(picture)i(of)e(the)h
(FIF)o(O)f(system)g(I)h(drew)g(on)f(page)g(35)g(sho)o(ws)h(only)f(c)o
(hannels)h FV(in)208 690 y F4(and)e FV(out)t F4(;)h(it)g(do)q(esn't)g
(sho)o(w)g(an)o(ything)f(inside)h(the)h(b)q(o)o(xes.)k(A)13
b(sp)q(eci\014cation)h(of)e(the)i(FIF)o(O)208 740 y(should)f(describ)q
(e)i(only)d(the)i(v)n(alues)f(sen)o(t)h(and)f(receiv)o(ed)i(on)e(the)h
(c)o(hannels.)k(The)c(v)n(ariable)208 789 y FV(q)t F4(,)j(whic)o(h)h
(represen)o(ts)i(what's)d(going)f(on)h(inside)h(the)g(b)q(o)o(x)f(lab)q
(eled)g FV(Bu\013er)t F4(,)i(is)f(used)g(to)208 839 y(sp)q(ecify)c
(what)g(v)n(alues)g(are)g(sen)o(t)h(and)f(receiv)o(ed.)20
b(It)14 b(is)g(an)g FV(internal)k F4(v)n(ariable)13 b(and,)h(in)f(the)
208 889 y(\014nal)g(sp)q(eci\014cation,)h(it)f(should)h(b)q(e)h
(hidden.)270 939 y(In)k(TLA,)f(w)o(e)i(hide)f(a)g(v)n(ariable)e(with)i
(the)h(existen)o(tial)f(quan)o(ti\014er)1379 937 y F0(9)-21
b(9)g(9)1379 939 y(9)g(9)g(9)25 b F4(of)18 b(temp)q(oral)208
989 y(logic.)e(The)e(form)o(ula)557 987 y F0(9)-21 b(9)g(9)557
989 y(9)g(9)g(9)7 b FV(x)13 b F4(:)7 b FV(F)20 b F4(is)13
b(true)h(of)f(a)h(b)q(eha)o(vior)f(i\013)g(there)i(exists)f(some)f
(sequence)i(of)208 1038 y(v)n(alues|one)e(in)g(eac)o(h)i(state)g(of)e
(the)h(b)q(eha)o(vior|that)g(can)g(b)q(e)g(assigned)h(to)e(the)i(v)n
(ariable)208 1088 y FV(x)20 b F4(that)14 b(will)g(mak)o(e)f(form)o(ula)
f FV(F)21 b F4(true.)g(\(The)16 b(meaning)c(of)1151 1086
y F0(9)-21 b(9)g(9)1151 1088 y(9)g(9)g(9)21 b F4(is)14
b(de\014ned)i(more)e(precisely)208 1138 y(in)f(Section)h(8.8.\))270
1188 y(The)c(ob)o(vious)f(w)o(a)o(y)g(to)h(write)g(a)f(FIF)o(O)h(sp)q
(eci\014cation)h(in)e(whic)o(h)h FV(q)k F4(is)9 b(hidden)h(is)g(with)f
(the)208 1238 y(form)o(ula)360 1236 y F0(9)-21 b(9)g(9)360
1238 y(9)g(9)g(9)7 b FV(q)k F4(:)d FV(Sp)n(e)n(c)s F4(.)20
b(Ho)o(w)o(ev)o(er,)14 b(w)o(e)h(can't)f(put)h(this)g(de\014nition)f
(in)g(mo)q(dule)f FV(InnerFIF)o(O)208 1288 y F4(b)q(ecause)f
FV(q)i F4(is)c(already)g(declared)i(there,)g(and)e(a)g(form)o(ula)1105
1286 y F0(9)-21 b(9)g(9)1105 1288 y(9)g(9)g(9)6 b FV(q)12
b F4(:)c FQ(:)f(:)g(:)i F4(w)o(ould)g(redeclare)k(it.)j(In-)208
1337 y(stead,)c(w)o(e)g(use)g(a)f(new)h(mo)q(dule)e(with)h(a)g
(parametrized)h(instan)o(tiation)e(of)h(the)h FV(InnerFIF)o(O)208
1387 y F4(mo)q(dule)g(\(see)j(Section)g(4.2.2)d(on)h(page)h(39\):)p
Black Black Black Black 312 1486 2 25 v 314 1463 526
2 v 853 1470 a FP(module)h FV(FIF)o(O)p 1139 1463 V 1665
1486 2 25 v Black Black 332 1545 a FP(const)m(ant)h FV(Message)332
1595 y FP(v)l(ariables)i FV(in)s FQ(;)7 b FV(out)332
1673 y(Inner)t F4(\()p FV(q)t F4(\))530 1649 y FI(\001)525
1673 y F4(=)35 b FP(inst)m(ance)16 b FV(InnerFIF)o(O)332
1741 y(Sp)n(e)n(c)452 1718 y FI(\001)448 1741 y F4(=)514
1739 y F0(9)-22 b(9)g(9)514 1741 y(9)g(9)g(9)8 b FV(q)22
b F4(:)c FV(Inner)t F4(\()p FV(q)t F4(\))s(!)s FV(Sp)n(e)n(c)p
312 1801 V 314 1801 1350 2 v 1664 1801 2 25 v 208 1891
a F4(Observ)o(e)d(that)f(the)g FP(inst)m(ance)h F4(statemen)o(t)e(is)h
(an)g(abbreviation)f(for)p Black Black 332 1974 a FV(Inner)t
F4(\()p FV(q)t F4(\))530 1950 y FI(\001)525 1974 y F4(=)35
b FP(inst)m(ance)16 b FV(InnerFIF)o(O)629 2024 y FP(with)f
FV(q)g F0( )c FV(q)t FQ(;)18 b FV(in)d F0( )c FV(in)s
FQ(;)18 b FV(out)e F0( )11 b FV(out)t FQ(;)18 b FV(Message)d
F0( )c FV(Message)208 2105 y F4(The)g(v)n(ariable)e(parameter)i
FV(q)j F4(of)c(mo)q(dule)g FV(InnerFIF)o(O)k F4(is)d(instan)o(tiated)f
(with)h(the)g(parame-)208 2155 y(ter)h FV(q)k F4(of)11
b(the)h(de\014nition)g(of)f FV(Inner)t F4(.)18 b(The)12
b(other)h(parameters)f(of)f(the)h FV(InnerFIF)o(O)k F4(mo)q(dule)208
2204 y(are)e(instan)o(tiated)g(with)f(the)i(parameters)f(of)f(mo)q
(dule)f FV(FIF)o(O)t F4(.)270 2254 y(If)g(this)h(seems)g(confusing,)f
(don't)g(w)o(orry)h(ab)q(out)f(it.)17 b(Just)d(learn)f(the)g(TLA)1449
2239 y FS(+)1482 2254 y F4(idiom)d(for)208 2304 y(hiding)15
b(v)n(ariables)h(used)i(here)f(and)g(b)q(e)g(con)o(ten)o(t)h(with)e
(its)h(in)o(tuitiv)o(e)e(meaning.)25 b(In)16 b(fact,)208
2354 y(for)c(most)f(applications,)g(there's)j(no)f(need)g(to)f(hide)h
(v)n(ariables)f(in)g(the)h(sp)q(eci\014cation.)18 b(Y)m(ou)208
2404 y(can)13 b(just)h(write)g(the)g(inner)f(sp)q(eci\014cation)i(and)e
(note)h(in)f(the)h(commen)o(ts)d(whic)o(h)j(v)n(ariables)208
2454 y(should)f(b)q(e)i(regarded)g(as)f(visible)f(and)h(whic)o(h)f(as)h
(in)o(ternal)g(\(hidden\).)p Black Black eop
%%Page: 42 60
42 59 bop Black 208 275 a F4(42)1294 b FR(CHAPTER)15
b(4.)31 b(A)14 b(FIF)o(O)p 208 282 1770 2 v Black 208
400 a FN(4.4)81 b(A)27 b(Bounded)g(FIF)n(O)208 491 y
F4(W)m(e)15 b(ha)o(v)o(e)g(sp)q(eci\014ed)j(an)d(un)o(b)q(ounded)h(FIF)
o(O|a)f(bu\013er)i(that)f(can)g(hold)f(an)g(un)o(b)q(ounded)208
540 y(n)o(um)o(b)q(er)c(of)h(messages.)18 b(An)o(y)13
b(real)f(system)g(has)h(a)f(\014nite)h(amoun)o(t)e(of)h(resources,)j
(so)d(it)h(can)208 590 y(con)o(tain)h(only)g(a)g(b)q(ounded)h(n)o(um)o
(b)q(er)f(of)g(in-transit)h(messages.)20 b(In)15 b(man)o(y)e
(situations,)h(w)o(e)208 640 y(wish)h(to)h(abstract)h(a)o(w)o(a)o(y)e
(the)i(b)q(ound)f(on)g(resources)i(and)e(describ)q(e)i(a)e(system)g(in)
f(terms)208 690 y(of)f(un)o(b)q(ounded)i(FIF)o(Os.)22
b(In)15 b(other)h(situations,)e(w)o(e)h(ma)o(y)f(care)i(ab)q(out)e
(that)i(b)q(ound.)21 b(W)m(e)208 740 y(then)14 b(w)o(an)o(t)f(to)g
(strengthen)i(our)f(sp)q(eci\014cation)g(b)o(y)f(placing)g(a)g(b)q
(ound)g FV(N)20 b F4(on)14 b(the)g(n)o(um)o(b)q(er)208
789 y(of)f(outstanding)g(messages.)270 839 y(A)i(sp)q(eci\014cation)h
(of)f(a)g(b)q(ounded)h(FIF)o(O)g(di\013ers)g(from)e(our)h(sp)q
(eci\014cation)h(of)f(the)h(un-)208 889 y(b)q(ounded)g(FIF)o(O)g(only)f
(in)g(that)h(action)g FV(BufR)n(cv)k F4(should)c(not)g(b)q(e)g(enabled)
g(unless)h(there)208 939 y(are)i(few)o(er)g(than)g FV(N)25
b F4(messages)19 b(in)f(the)h(bu\013er|that)h(is,)f(unless)h
FV(L)n(en)s F4(\()p FV(q)t F4(\))f(is)f(less)i(than)208
989 y FV(N)7 b F4(.)20 b(It)15 b(w)o(ould)f(b)q(e)i(easy)f(to)g(write)g
(a)g(complete)f(new)i(sp)q(eci\014cation)f(of)f(a)h(b)q(ounded)h(FIF)o
(O)208 1038 y(b)o(y)h(cop)o(ying)h(mo)q(dule)e FV(InnerFIF)o(O)23
b F4(and)18 b(just)g(adding)f(the)i(conjunct)f FV(L)n(en)s
F4(\()p FV(q)t F4(\))i FQ(<)e FV(N)25 b F4(to)208 1088
y(the)15 b(de\014nition)f(of)g FV(BufR)n(cv)t F4(.)21
b(But)15 b(let's)f(use)i(mo)q(dule)d FV(InnerFIF)o(O)19
b F4(as)14 b(it)g(is,)g(rather)i(than)208 1138 y(cop)o(ying)d(it.)270
1188 y(The)e(next-state)g(action)f FV(BNext)15 b F4(for)10
b(the)h(b)q(ounded)g(FIF)o(O)f(is)h(the)g(same)e(as)i(the)g(FIF)o(O's)
208 1238 y(next-state)j(action)f FV(Next)k F4(except)d(that)f(it)g
(allo)o(ws)f(a)h FV(BufR)n(cv)18 b F4(step)c(only)e(if)h
FV(L)n(en)s F4(\()p FV(q)t F4(\))g(is)g(less)208 1288
y(than)i FV(N)7 b F4(.)22 b(In)15 b(other)h(w)o(ords,)f
FV(BNext)20 b F4(should)15 b(allo)o(w)f(a)h(step)h(only)e(if)h(\(i\))g
(it's)g(a)g FV(Next)k F4(step)208 1337 y(and)11 b(\(ii\))h(if)f(it's)h
(a)f FV(BufR)n(cv)18 b F4(step,)13 b(then)f FV(L)n(en)s
F4(\()p FV(q)t F4(\))g FQ(<)g FV(N)19 b F4(is)12 b(true)h(in)e(the)i
(\014rst)g(state.)18 b(In)12 b(other)208 1387 y(w)o(ords,)h
FV(BNext)18 b F4(should)c(equal)p Black Black 332 1470
a FV(Next)25 b F0(^)20 b F4(\()p FV(BufR)n(cv)d F0(\))11
b F4(\()p FV(L)n(en)s F4(\()p FV(q)t F4(\))h FQ(<)g FV(N)7
b F4(\)\))208 1553 y(Mo)q(dule)12 b FV(Bounde)n(dFIF)o(O)17
b F4(in)12 b(Figure)g(4.2)f(on)h(the)g(next)h(page)f(con)o(tains)g(the)
h(sp)q(eci\014cation.)208 1603 y(It)h(in)o(tro)q(duces)h(the)f(new)g
(constan)o(t)h(parameter)e FV(N)7 b F4(.)18 b(It)c(also)f(con)o(tains)h
(the)g(statemen)o(t)p Black Black 332 1686 a FP(assume)j
F4(\()p FV(N)h F0(2)11 b FV(Nat)t F4(\))16 b F0(^)g F4(\()p
FV(N)j FQ(>)11 b F4(0\))208 1769 y(whic)o(h)k(asserts)h(that,)f(in)g
(this)g(mo)q(dule,)e(w)o(e)j(are)f(assuming)f(that)h
FV(N)22 b F4(is)14 b(a)h(p)q(ositiv)o(e)g(natu-)208 1819
y(ral)g(n)o(um)o(b)q(er.)25 b(Suc)o(h)17 b(an)f(assumption)f(has)h(no)g
(e\013ect)i(on)e(an)o(y)g(de\014nitions)g(made)f(in)h(the)208
1869 y(mo)q(dule.)h(Ho)o(w)o(ev)o(er,)d(it)g(ma)o(y)f(b)q(e)h(tak)o(en)
h(as)f(a)g(h)o(yp)q(othesis)h(when)g(pro)o(ving)e(an)o(y)h(theorems)208
1919 y(asserted)j(in)d(the)i(mo)q(dule.)21 b(In)15 b(other)h(w)o(ords,)
g(a)e(mo)q(dule)g(asserts)j(that)f(its)f(assumptions)208
1968 y(imply)g(its)j(theorems.)31 b(It's)19 b(a)e(go)q(o)q(d)h(idea)g
(to)g(state)h(this)f(kind)g(of)g(simple)e(assumption)208
2018 y(ab)q(out)d(constan)o(ts.)270 2068 y(An)g FP(assume)i
F4(statemen)o(t)e(should)g(b)q(e)h(used)g(only)f(to)g(mak)o(e)f
(assumptions)h(ab)q(out)g(con-)208 2118 y(stan)o(ts.)21
b(The)16 b(form)o(ula)c(b)q(eing)j(assumed)g(should)g(not)f(con)o(tain)
h(an)o(y)f(v)n(ariables.)21 b(It)15 b(migh)o(t)208 2168
y(b)q(e)e(tempting)f(to)h(assert)h(t)o(yp)q(e)g(declarations)f(as)g
(assumptions|for)e(example,)g(to)i(add)g(to)208 2217
y(mo)q(dule)f FV(InnerFIF)o(O)18 b F4(the)c(assumption)e
FV(q)k F0(2)11 b FV(Se)n(q)t F4(\()p FV(Message)s F4(\).)19
b(Ho)o(w)o(ev)o(er,)14 b(that)f(w)o(ould)g(b)q(e)208
2267 y(wrong)h(b)q(ecause)i(it)e(asserts)i(that,)e(in)g(an)o(y)g
(state,)h FV(q)j F4(is)c(a)h(sequence)h(of)e(messages.)20
b(As)15 b(w)o(e)208 2317 y(observ)o(ed)i(in)e(Section)i(3.3,)e(a)h
(state)g(is)g(a)g(completely)f(arbitrary)h(assignmen)o(t)f(of)g(v)n
(alues)208 2367 y(to)e(v)n(ariables,)g(so)g(there)i(are)g(states)f(in)g
(whic)o(h)f FV(q)18 b F4(has)c(the)g(v)n(alue)1241 2334
y F0(p)p 1276 2334 74 2 v 33 x(\000)p F4(17)o(.)k(Assuming)13
b(that)208 2417 y(suc)o(h)h(a)g(state)g(do)q(esn't)h(exist)f(w)o(ould)f
(lead)h(to)g(a)f(logical)f(con)o(tradiction.)270 2466
y(Y)m(ou)k(ma)o(y)f(w)o(onder)i(wh)o(y)f(mo)q(dule)g
FV(Bounde)n(dFIF)o(O)21 b F4(assumes)c(that)g FV(N)23
b F4(is)17 b(a)f(p)q(ositiv)o(e)208 2516 y(natural,)i(but)g(do)q(esn't)
h(assume)f(that)g FV(Message)k F4(is)c(a)g(set.)31 b(Similarly)m(,)15
b(wh)o(y)j(didn't)g(w)o(e)p Black Black eop
%%Page: 43 61
43 60 bop Black 208 275 a FR(4.5.)30 b(WHA)m(T)14 b(WE'RE)f(SPECIFYING)
1070 b F4(43)p 208 282 1770 2 v Black Black Black Black
188 395 2 25 v 190 372 510 2 v 713 379 a FP(module)15
b FV(Bounde)n(dFIF)o(O)p 1154 372 V 1664 395 2 25 v Black
Black 208 454 a FP(extends)h FV(Natur)n(als)s FQ(;)d
FV(Se)n(quenc)n(es)208 504 y FP(v)l(ariables)k FV(in)s
FQ(;)7 b FV(out)208 553 y FP(const)m(ant)16 b FV(Message)s
FQ(;)7 b FV(N)208 615 y FP(assume)16 b F4(\()p FV(N)j
F0(2)11 b FV(Nat)t F4(\))16 b F0(^)g F4(\()p FV(N)i FQ(>)12
b F4(0\))208 688 y FV(Inner)t F4(\()p FV(q)t F4(\))407
665 y FI(\001)402 688 y F4(=)23 b FP(inst)m(ance)16 b
FV(InnerFIF)o(O)208 757 y(BNext)t F4(\()p FV(q)t F4(\))407
734 y FI(\001)402 757 y F4(=)23 b F0(^)15 b FV(Inner)t
F4(\()p FV(q)t F4(\))s(!)s FV(Next)457 807 y F0(^)g FV(Inner)t
F4(\()p FV(q)t F4(\))s(!)s FV(BufR)n(cv)24 b F0(\))18
b F4(\()p FV(L)n(en)s F4(\()p FV(q)t F4(\))13 b FQ(<)e
FV(N)c F4(\))208 880 y FV(Sp)n(e)n(c)328 857 y FI(\001)323
880 y F4(=)390 878 y F0(9)-22 b(9)g(9)390 880 y(9)g(9)g(9)7
b FV(q)22 b F4(:)c FV(Inner)t F4(\()p FV(q)t F4(\))s(!)s
FV(Init)26 b F0(^)21 b FG(2)p F4([)p FV(BNext)t F4(\()p
FV(q)t F4(\)])1036 887 y FH(h)s FJ(in)s Fy(;)p FJ(out)s
Fy(;)p FJ(q)s FH(i)p 188 923 V 190 923 1475 2 v 1665
923 2 25 v Black 398 1013 a FU(Figure)14 b(4.2:)19 b
F4(A)14 b(sp)q(eci\014cation)h(of)e(a)h(FIF)o(O)g(bu\013er)h(of)e
(length)h FV(N)p F4(.)p Black Black 208 1129 a(assume)g(that)h(the)h
(constan)o(t)g(parameter)f FV(Data)k F4(in)14 b(our)h(async)o(hronous)h
(in)o(terface)g(sp)q(eci-)208 1179 y(\014cations)f(is)g(a)g(set?)24
b(The)16 b(answ)o(er)g(is)f(that,)g(in)g(TLA)1055 1164
y FS(+)1076 1179 y F4(,)g(ev)o(ery)h(v)n(alue)f(is)g(a)g(set.)1464
1164 y FS(2)1506 1179 y F4(A)h(v)n(alue)208 1229 y(lik)o(e)e(the)i(n)o
(um)o(b)q(er)e(3,)h(whic)o(h)g(w)o(e)h(don't)e(think)h(of)g(as)g(a)g
(set,)h(is)f(formally)d(a)j(set.)23 b(W)m(e)15 b(just)208
1279 y(don't)f(kno)o(w)h(what)g(its)g(elemen)o(ts)g(are.)23
b(The)16 b(form)o(ula)c(2)i F0(2)f F4(3)i(is)g(a)g(p)q(erfectly)h
(reasonable)208 1328 y(one,)d(but)h(TLA)458 1313 y FS(+)493
1328 y F4(do)q(es)g(not)g(sp)q(ecify)h(whether)g(it's)e(true)i(or)f
(false.)k(So,)13 b(w)o(e)h(don't)f(ha)o(v)o(e)h(to)208
1378 y(assume)f(that)h FV(Message)k F4(is)13 b(a)h(set)h(b)q(ecause)g
(w)o(e)f(kno)o(w)g(that)g(it)f(is)h(one.)270 1428 y(Although)e
FV(Message)17 b F4(is)12 b(automatically)e(a)j(set,)g(it)g(isn't)f
(necessarily)i(a)f(\014nite)g(set.)18 b(F)m(or)208 1478
y(example,)10 b FV(Message)16 b F4(could)d(b)q(e)f(instan)o(tiated)h
(with)e(the)i(set)h FV(Nat)i F4(of)11 b(natural)h(n)o(um)o(b)q(ers.)17
b(If)208 1528 y(y)o(ou)d(w)o(an)o(t)g(to)g(assume)g(that)g(a)g(constan)
o(t)h(parameter)f(is)h(a)f(\014nite)h(set,)g(then)g(y)o(ou)f(need)h(to)
208 1577 y(state)c(this)g(as)g(an)f(assumption.)16 b(\(Y)m(ou)10
b(can)h(do)g(this)g(with)f(the)i FV(IsFiniteSet)i F4(op)q(erator)e
(from)208 1627 y(the)j FV(FiniteSets)k F4(mo)q(dule,)13
b(describ)q(ed)k(in)d(Section)i(6.1.\))21 b(Ho)o(w)o(ev)o(er,)15
b(most)f(sp)q(eci\014cations)208 1677 y(mak)o(e)j(p)q(erfect)k(sense)h
(for)d(in\014nite)g(sets)h(of)f(messages)h(or)f(pro)q(cessors,)k(so)c
(there)i(is)e(no)208 1727 y(reason)14 b(to)g(assume)f(these)j(sets)f
(to)e(b)q(e)i(\014nite.)208 1885 y FN(4.5)81 b(What)28
b(W)-7 b(e're)28 b(Sp)r(ecifying)208 1976 y F4(I)15 b(wrote)h(at)f(the)
h(b)q(eginning)f(of)g(this)h(c)o(hapter)g(that)g(w)o(e)f(w)o(ere)i
(going)d(to)h(sp)q(ecify)h(a)g(FIF)o(O)208 2026 y(bu\013er.)21
b(F)m(orm)o(ula)12 b FV(Sp)n(e)n(c)18 b F4(of)c(the)i
FV(FIF)o(O)i F4(mo)q(dule)13 b(actually)h(sp)q(eci\014es)j(a)d(set)i
(of)e(b)q(eha)o(viors,)208 2076 y(eac)o(h)d(represen)o(ting)h(a)f
(sequence)i(of)d(sending)h(and)g(receiving)g(op)q(erations)g(on)g(the)g
(c)o(hannels)208 2126 y FV(in)16 b F4(and)d FV(out)t
F4(.)18 b(The)13 b(sending)g(op)q(erations)h(on)e FV(in)17
b F4(are)c(p)q(erformed)g(b)o(y)f(the)i(sender,)g(and)f(the)208
2175 y(receiving)20 b(op)q(erations)h(on)e FV(out)25
b F4(are)20 b(p)q(erformed)g(b)o(y)g(the)h(receiv)o(er.)39
b(The)20 b(sender)i(and)208 2225 y(receiv)o(er)15 b(are)f(not)g(part)g
(of)f(the)i(FIF)o(O)f(bu\013er;)g(they)h(form)d(its)i
FV(envir)n(onment)p F4(.)270 2275 y(Our)k(sp)q(eci\014cation)f(describ)
q(es)j(a)d(system)g(consisting)g(of)f(the)i(FIF)o(O)g(bu\013er)g(and)f
(its)208 2325 y(en)o(vironmen)o(t.)g(The)e(b)q(eha)o(viors)f
(satisfying)f(form)o(ula)f FV(Sp)n(e)n(c)k F4(of)e(mo)q(dule)f
FV(FIF)o(O)18 b F4(represen)o(t)208 2375 y(those)g(histories)g(of)f
(the)i(univ)o(erse)g(in)e(whic)o(h)h(b)q(oth)g(the)g(system)g(and)f
(its)h(en)o(vironmen)o(t)p Black 208 2409 576 2 v 254
2436 a FK(2)271 2448 y FZ(TLA)344 2436 y FK(+)376 2448
y FZ(is)11 b(based)e(on)h(the)h(mathemat)o(ical)d(formalism)g(kno)o(wn)
i(as)h(Zermelo-F)m(r\177)-19 b(ank)o(e)o(l)8 b(set)j(theory)m(,)e(also)
208 2487 y(called)h(ZF.)p Black Black Black eop
%%Page: 44 62
44 61 bop Black 208 275 a F4(44)1294 b FR(CHAPTER)15
b(4.)31 b(A)14 b(FIF)o(O)p 208 282 1770 2 v Black 208
391 a F4(b)q(eha)o(v)o(e)h(correctly)m(.)22 b(It's)16
b(often)f(helpful)f(in)h(understanding)g(a)g(sp)q(eci\014cation)h(to)f
(indicate)208 441 y(explicitly)g(whic)o(h)i(steps)h(are)g(system)e
(steps)i(and)f(whic)o(h)g(are)g(en)o(vironmen)o(t)f(steps.)28
b(W)m(e)208 491 y(can)14 b(do)f(this)h(b)o(y)g(de\014ning)g(the)g
(next-state)h(action)f(to)g(b)q(e)p Black Black 332 578
a FV(Next)458 555 y FI(\001)454 578 y F4(=)34 b FV(SysNext)21
b F0(_)16 b FV(EnvNext)208 661 y F4(where)11 b FV(SysNext)k
F4(describ)q(es)d(system)e(steps)i(and)e FV(EnvNext)15
b F4(describ)q(es)e(en)o(vironmen)o(t)c(steps.)208 711
y(F)m(or)k(the)i(FIF)o(O,)e(w)o(e)h(ha)o(v)o(e)p Black
Black 332 798 a FV(SysNext)524 775 y FI(\001)520 798
y F4(=)30 b FV(BufR)n(cv)21 b F0(_)16 b FV(BufSend)332
862 y(EnvNext)524 839 y FI(\001)520 862 y F4(=)30 b(\()p
F0(9)7 b FV(msg)15 b F0(2)c FV(Message)23 b F4(:)18 b
FV(SSend)t F4(\()p FV(msg)t F4(\)\))f F0(_)f FV(RR)n(cv)208
944 y F4(While)f(suggestiv)o(e,)h(this)g(w)o(a)o(y)f(of)g(de\014ning)h
(the)h(next-state)g(action)e(has)h(no)g(formal)d(sig-)208
993 y(ni\014cance.)21 b(The)16 b(sp)q(eci\014cation)f
FV(Sp)n(e)n(c)j F4(equals)d FV(Init)e F0(^)c FG(2)p F4([)p
FV(Next)t F4(])1202 999 y Fy(:::)1239 993 y F4(;)15 b(c)o(hanging)f
(the)h(w)o(a)o(y)g(w)o(e)208 1043 y(structure)i(the)e(de\014nition)g
(of)f FV(Next)19 b F4(do)q(esn't)d(c)o(hange)f(its)g(meaning.)20
b(If)15 b(a)f(b)q(eha)o(vior)h(fails)208 1093 y(to)e(satisfy)h
FV(Sp)n(e)n(c)r F4(,)g(nothing)f(tells)h(us)g(if)g(the)g(system)g(or)g
(its)f(en)o(vironmen)o(t)g(is)h(to)g(blame.)270 1143
y(A)e(form)o(ula)e(lik)o(e)h FV(Sp)n(e)n(c)r F4(,)i(whic)o(h)f(describ)
q(es)j(the)d(correct)i(b)q(eha)o(vior)e(of)g(b)q(oth)g(the)h(system)208
1193 y(and)h(its)g(en)o(vironmen)o(t,)e(is)i(called)g(a)g
FV(close)n(d-system)j F4(or)e FV(c)n(omplete-system)i
F4(sp)q(eci\014cation.)208 1242 y(An)d FV(op)n(en-system)19
b F4(sp)q(eci\014cation)c(is)g(one)g(that)g(describ)q(es)h(only)e(the)i
(correct)g(b)q(eha)o(vior)e(of)208 1292 y(the)h(system.)22
b(A)16 b(b)q(eha)o(vior)e(satis\014es)j(an)e(op)q(en-system)g(sp)q
(eci\014cation)h(if)e(it)h(represen)o(ts)j(a)208 1342
y(history)12 b(in)h(whic)o(h)f(either)i(the)f(system)g(op)q(erates)h
(correctly)m(,)f(or)g(it)f(failed)g(to)h(op)q(erate)h(cor-)208
1392 y(rectly)f(only)f(b)q(ecause)j(its)d(en)o(vironmen)o(t)g(did)h
(something)e(wrong.)17 b(Section)d(10.7)d(explains)208
1442 y(ho)o(w)i(to)h(write)g(op)q(en-system)g(sp)q(eci\014cations.)270
1492 y(Op)q(en-system)21 b(sp)q(eci\014cations)g(are)g(philosophically)
d(more)h(satisfying.)37 b(Ho)o(w)o(ev)o(er,)208 1541
y(closed-system)19 b(sp)q(eci\014cations)h(are)g(a)f(little)g(easier)h
(to)f(write,)h(and)f(the)h(mathematics)208 1591 y(underlying)e(them)f
(is)i(simpler.)30 b(So,)19 b(w)o(e)g(almost)d(alw)o(a)o(ys)i(write)g
(closed-system)h(sp)q(eci-)208 1641 y(\014cations.)28
b(It's)17 b(usually)g(quite)g(easy)h(to)f(turn)h(a)f(closed-system)g
(sp)q(eci\014cation)h(in)o(to)f(an)208 1691 y(op)q(en-system)d(sp)q
(eci\014cation.)k(But)d(in)e(practice,)i(there's)g(seldom)d(an)o(y)i
(reason)g(to)g(do)g(so.)p Black Black eop
%%Page: 45 63
45 62 bop Black Black 208 703 a FL(Chapter)31 b(5)208
910 y F5(A)38 b(Cac)m(hing)g(Memory)208 1126 y F4(A)11
b(memory)e(system)i(consists)h(of)f(a)g(set)h(of)e(pro)q(cessors)k
(connected)f(to)e(a)g(memory)e(b)o(y)i(some)208 1176
y(abstract)j(in)o(terface,)g(whic)o(h)g(w)o(e)g(lab)q(el)g
FV(memInt)p F4(.)p Black Black 330 1429 191 2 v 330 1491
2 63 v 345 1473 a FC(Pro)q(cessor)p 519 1491 V 330 1493
191 2 v 330 1263 V 330 1325 2 63 v 345 1307 a(Pro)q(cessor)p
519 1325 V 330 1327 191 2 v 519 1461 104 2 v 581 1460
a Fz(-)p 519 1461 V -104 w(\033)p 519 1295 V 581 1294
a(-)p 519 1295 V -104 w(\033)p 1038 1378 84 2 v 1079
1377 a(-)p 1038 1378 V -83 w(\033)425 1398 y Fx(p)425
1377 y(p)425 1356 y(p)p 623 1534 11 2 v 623 1222 V 1027
1534 V 1027 1222 V 654 1534 21 2 v 695 1534 V 737 1534
V 778 1534 V 820 1534 V 861 1534 V 903 1534 V 944 1534
V 986 1534 V 654 1222 V 695 1222 V 737 1222 V 778 1222
V 820 1222 V 861 1222 V 903 1222 V 944 1222 V 986 1222
V 622 1242 2 21 v 622 1284 V 622 1325 V 622 1367 V 622
1408 V 622 1450 V 622 1491 V 622 1533 V 1037 1242 V 1037
1284 V 1037 1325 V 1037 1367 V 1037 1408 V 1037 1450
V 1037 1491 V 1037 1533 V 764 1390 a FB(memInt)p 1119
1242 128 2 v 1119 1512 2 270 v 1165 1295 a FC(M)1170
1333 y(E)1165 1371 y(M)1168 1409 y(O)1169 1447 y(R)1169
1485 y(Y)p 1245 1512 V 1119 1514 128 2 v 208 1616 a F4(In)e(this)g
(section)i(w)o(e)e(sp)q(ecify)h(what)f(the)h(memory)d(is)j(supp)q(osed)
g(to)g(do,)f(then)h(w)o(e)f(sp)q(ecify)h(a)208 1665 y(particular)g
(implemen)o(tatio)o(n)e(of)i(the)i(memory)c(using)i(cac)o(hes.)20
b(W)m(e)13 b(b)q(egin)g(b)o(y)h(sp)q(ecifying)208 1715
y(the)g(memory)d(in)o(terface,)j(whic)o(h)g(is)g(common)d(to)j(b)q(oth)
g(sp)q(eci\014cations.)208 1874 y FN(5.1)81 b(The)27
b(Memory)f(In)n(terface)208 1965 y F4(The)15 b(async)o(hronous)h(in)o
(terface)g(describ)q(ed)h(in)e(Chapter)h(3)f(uses)h(a)f(handshak)o(e)h
(proto)q(col.)208 2014 y(Receipt)c(of)f(a)h(data)g(v)n(alue)f(m)o(ust)g
(b)q(e)i(ac)o(kno)o(wledged)e(b)q(efore)i(the)g(next)f(data)g(v)n(alue)
f(can)h(b)q(e)208 2064 y(sen)o(t.)17 b(In)11 b(the)g(memory)e(in)o
(terface,)i(w)o(e)g(abstract)h(a)o(w)o(a)o(y)e(this)g(kind)h(of)f
(detail)g(and)h(represen)o(t)208 2114 y(b)q(oth)16 b(the)h(sending)f
(of)g(a)g(data)g(v)n(alue)g(and)g(its)g(receipt)h(as)g(a)f(single)g
(step.)26 b(W)m(e)16 b(call)f(it)h(a)208 2164 y FV(Send)21
b F4(step)c(if)e(a)g(pro)q(cessor)j(is)e(sending)g(the)h(v)n(alue)e(to)
h(the)g(memory;)e(it's)h(a)h FV(R)n(eply)k F4(step)208
2214 y(if)14 b(the)i(memory)e(is)h(sending)h(to)f(a)h(pro)q(cessor.)25
b(Pro)q(cessors)18 b(do)d(not)g(send)i(v)n(alues)e(to)h(one)208
2263 y(another,)d(and)h(the)h(memory)c(sends)k(to)f(only)f(one)h(pro)q
(cessor)i(at)e(a)f(time.)270 2313 y(W)m(e)h(represen)o(t)j(the)e(state)
g(of)f(the)h(memory)d(in)o(terface)j(b)o(y)f(the)h(v)n(alue)f(of)g(the)
h(v)n(ariable)208 2363 y FV(memInt)t F4(.)35 b(A)19 b
FV(Send)25 b F4(step)20 b(c)o(hanges)h FV(memInt)i F4(in)c(some)g(w)o
(a)o(y)m(,)g(but)h(w)o(e)g(don't)f(w)o(an)o(t)g(to)208
2413 y(sp)q(ecify)c(exactly)g(ho)o(w.)21 b(The)16 b(w)o(a)o(y)e(to)h
(lea)o(v)o(e)g(something)e(unsp)q(eci\014ed)k(in)d(a)h(sp)q
(eci\014cation)208 2463 y(is)h(to)g(mak)o(e)e(it)i(a)g(parameter.)25
b(F)m(or)15 b(example,)g(in)h(the)h(b)q(ounded)g(FIF)o(O)f(of)g
(Section)g(4.4,)208 2513 y(w)o(e)i(left)f(the)i(size)g(of)e(the)h
(bu\013er)h(unsp)q(eci\014ed)h(b)o(y)e(making)d(it)j(a)f(parameter)h
FV(N)7 b F4(.)30 b(W)m(e'd)p Black 1936 2622 a(45)p Black
eop
%%Page: 46 64
46 63 bop Black 208 275 a F4(46)986 b FR(CHAPTER)14 b(5.)32
b(A)14 b(CA)o(CHING)g(MEMOR)m(Y)p 208 282 1770 2 v Black
208 391 a F4(therefore)21 b(lik)o(e)d(to)i(declare)g(a)f(parameter)h
FV(Send)k F4(so)c(that)g FV(Send)t F4(\()p FV(p)s FQ(;)7
b FV(d)t F4(\))21 b(describ)q(es)g(ho)o(w)208 441 y FV(memInt)h
F4(is)c(c)o(hanged)h(b)o(y)g(a)f(step)h(that)g(represen)o(ts)i(pro)q
(cessor)f FV(p)i F4(sending)c(data)h(v)n(alue)208 491
y FV(d)25 b F4(to)20 b(the)h(memory)m(.)35 b(Ho)o(w)o(ev)o(er,)22
b(TLA)856 476 y FS(+)898 491 y F4(pro)o(vides)e(only)h
FP(const)m(ant)g F4(and)f FP(v)l(ariable)208 541 y F4(parameters,)i
(not)e(action)h(parameters.)868 526 y FS(1)925 541 y
F4(So,)g(w)o(e)g(declare)h FV(Send)k F4(to)21 b(b)q(e)g(a)f(constan)o
(t)208 591 y(op)q(erator)14 b(and)g(write)g FV(Send)t
F4(\()p FV(p)s FQ(;)h FV(d)t FQ(;)e FV(memInt)t FQ(;)h
FV(memInt)1083 576 y FH(0)1095 591 y F4(\))g(instead)g(of)f
FV(Send)t F4(\()p FV(p)s FQ(;)7 b FV(d)t F4(\).)270 640
y(In)16 b(TLA)411 625 y FS(+)432 640 y F4(,)g(w)o(e)g(declare)h
FV(Send)22 b F4(to)16 b(b)q(e)g(a)g(constan)o(t)h(op)q(erator)g(that)f
(tak)o(es)g(four)g(argu-)208 690 y(men)o(ts)d(b)o(y)h(writing)p
Black Black 332 773 a FP(const)m(ant)i FV(Send)t F4(\()p
653 773 21 3 v 36 w FQ(;)p 715 773 V 48 w(;)p 775 773
V 48 w(;)p 835 773 V 48 w F4(\))208 856 y(This)9 b(means)g(that)h
FV(Send)t F4(\()p FV(p)s FQ(;)15 b FV(d)t FQ(;)f FV(miOld)t
FQ(;)f FV(miNew)t F4(\))d(is)f(an)h(expression,)h(for)f(an)o(y)f
(expressions)208 906 y FV(p)s F4(,)20 b FV(d)t F4(,)g
FV(miOld)t F4(,)g(and)f FV(miNew)t F4(,)h(but)f(it)g(sa)o(ys)h(nothing)
e(ab)q(out)h(what)h(the)f(v)n(alue)g(of)g(that)208 956
y(expression)c(is.)20 b(W)m(e)14 b(w)o(an)o(t)g(it)h(to)f(b)q(e)h(a)f
(Bo)q(olean)h(v)n(alue)f(that)g(is)h(true)g(i\013)f(a)g(step)i(in)e
(whic)o(h)208 1006 y FV(memInt)g F4(equals)d FV(miOld)j
F4(in)c(the)i(\014rst)f(state)h(and)e FV(miNew)k F4(in)d(the)g(second)h
(state)f(represen)o(ts)208 1056 y(the)k(sending)g(b)o(y)f
FV(p)k F4(of)c(v)n(alue)g FV(d)20 b F4(to)14 b(the)h(memory)m(.)1006
1040 y FS(2)1043 1056 y F4(W)m(e)f(can)h(assert)h(that)f(the)g(v)n
(alue)g(is)f(a)208 1105 y(Bo)q(olean)f(b)o(y)h(the)g(assumption)p
Black Black 332 1188 a FP(assume)j F0(8)d FV(p)s FQ(;)f
FV(d)t FQ(;)h FV(miOld)t FQ(;)f FV(miNew)22 b F4(:)574
1238 y FV(Send)t F4(\()p FV(p)s FQ(;)7 b FV(d)t FQ(;)g
FV(miOld)t FQ(;)g FV(miNew)t F4(\))k F0(2)g FP(boolean)208
1319 y F4(This)i(asserts)j(that)e(the)g(form)o(ula)p
Black Black 332 1402 a FV(Send)t F4(\()p FV(p)s FQ(;)7
b FV(d)t FQ(;)g FV(miOld)t FQ(;)g FV(miNew)t F4(\))k
F0(2)g FP(boolean)208 1485 y F4(is)i(true)g(for)g(all)f(v)n(alues)h(of)
f FV(p)s F4(,)h FV(d)t F4(,)g FV(miOld)t F4(,)g(and)g
FV(miNew)t F4(.)k(The)d(built-in)d(sym)o(b)q(ol)h FP(boolean)208
1535 y F4(denotes)f(the)g(set)h F0(f)p FP(tr)o(ue)p FQ(;)h
FP(f)l(alse)r F0(g)p F4(,)d(whose)h(elemen)o(ts)f(are)h(the)g(t)o(w)o
(o)f(Bo)q(olean)g(v)n(alues)h FP(tr)o(ue)208 1585 y F4(and)i
FP(f)l(alse)r F4(.)270 1635 y(This)h FP(assume)h F4(statemen)o(t)e
(asserts)j(formally)11 b(that)j(the)g(v)n(alue)f(of)p
Black Black 332 1718 a FV(Send)t F4(\()p FV(p)s FQ(;)i
FV(d)t FQ(;)f FV(miOld)t FQ(;)f FV(miNew)t F4(\))208
1801 y(is)d(a)h(Bo)q(olean.)17 b(But)11 b(the)h(only)e(w)o(a)o(y)g(to)h
(assert)i(formally)7 b(what)k(that)g(v)n(alue)g(signi\014es)g(w)o(ould)
208 1851 y(b)q(e)16 b(to)g(sa)o(y)g(what)g(it)g(actually)f(equals|that)
h(is,)g(to)g(de\014ne)h FV(Send)k F4(rather)c(than)f(making)208
1900 y(it)i(a)g(parameter.)31 b(W)m(e)17 b(don't)h(w)o(an)o(t)g(to)g
(do)g(that,)h(so)g(w)o(e)f(just)h(state)g(informally)c(what)208
1950 y(the)e(v)n(alue)f(means.)17 b(This)12 b(statemen)o(t)h(is)g(part)
g(of)f(the)h(in)o(trinsically)e(informal)f(description)208
2000 y(of)16 b(the)i(relation)f(b)q(et)o(w)o(een)i(our)e(mathematical)d
(abstraction)j(and)h(a)f(ph)o(ysical)f(memory)208 2050
y(system.)270 2100 y(T)m(o)j(allo)o(w)f(the)j(reader)g(to)e(understand)
j(the)e(sp)q(eci\014cation,)i(w)o(e)e(ha)o(v)o(e)f(to)h(describ)q(e)208
2149 y(informall)o(y)13 b(what)i FV(Send)21 b F4(means.)h(The)15
b FP(assume)i F4(statemen)o(t)e(asserting)h(that)g FV(Send)t
F4(\()p FQ(:)7 b(:)g(:)p F4(\))208 2199 y(is)19 b(a)g(Bo)q(olean)g(is)g
(then)h(sup)q(er\015uous)g(as)g(an)f(explanation.)33
b(But)20 b(it's)e(a)h(go)q(o)q(d)g(idea)g(to)208 2249
y(include)14 b(it)f(an)o(yw)o(a)o(y)m(.)p Black 208 2284
576 2 v 254 2311 a FK(1)271 2322 y FZ(Ev)o(en)c(if)h(TLA)462
2311 y FK(+)493 2322 y FZ(allo)o(w)o(ed)f(us)h(to)f(declare)g(an)g
(action)f(parameter,)g(w)o(e)i(w)o(ould)g(ha)o(v)o(e)f(no)g(w)o(a)o(y)h
(to)g(sp)q(ecify)208 2362 y(that)g(a)h FY(Send)s FZ(\()p
FY(p)r Fw(;)c FY(d)s FZ(\))12 b(action)e(constrains)f(only)h
FY(memInt)16 b FZ(and)10 b(not)h(other)f(v)n(ariables.)254
2390 y FK(2)271 2401 y FZ(W)m(e)g(exp)q(ect)e FY(Send)s
FZ(\()p FY(p)r Fw(;)e FY(d)s Fw(;)h FY(miOld)s Fw(;)f
FY(miNew)t FZ(\))k(to)f(ha)o(v)o(e)g(this)g(meaning)e(only)i(when)g
FY(p)j FZ(is)e(a)g(pro)q(cessor)d(and)208 2441 y FY(d)16
b FZ(a)c(v)n(alue)f(that)h FY(p)j FZ(is)d(allo)o(w)o(ed)g(to)g(send,)g
(but)f(w)o(e)i(simplify)e(the)h(sp)q(eci\014catio)o(n)e(a)i(bit)g(b)o
(y)g(requiring)e(it)j(to)208 2480 y(b)q(e)e(a)g(Bo)q(olean)f(for)h(all)
g(v)n(alues)f(of)h FY(p)j FZ(and)d FY(d)s FZ(.)p Black
Black Black eop
%%Page: 47 65
47 64 bop Black 208 275 a FR(5.1.)30 b(THE)15 b(MEMOR)m(Y)e(INTERF)-5
b(A)o(CE)1075 b F4(47)p 208 282 1770 2 v Black 270 391
a(A)16 b(sp)q(eci\014cation)g(that)g(uses)h(the)g(memory)c(in)o
(terface)k(can)f(use)g(the)h(op)q(erators)g FV(Send)208
441 y F4(and)c FV(R)n(eply)18 b F4(to)c(sp)q(ecify)g(ho)o(w)g(the)g(v)n
(ariable)f FV(memInt)18 b F4(c)o(hanges.)h(The)14 b(sp)q(eci\014cation)
h(m)o(ust)208 491 y(also)d(describ)q(e)j FV(memInt)t
F4('s)e(initial)e(v)n(alue.)17 b(W)m(e)12 b(therefore)j(declare)f(a)f
(constan)o(t)g(parameter)208 541 y FV(InitMemInt)18 b
F4(that)c(is)f(the)i(set)g(of)e(p)q(ossible)h(initial)e(v)n(alues)i(of)
f FV(memInt)t F4(.)270 591 y(W)m(e)f(also)f(in)o(tro)q(duce)i(three)h
(constan)o(t)e(parameters)h(that)f(are)h(needed)g(to)f(describ)q(e)i
(the)208 640 y(in)o(terface:)p Black 270 723 a FV(Pr)n(o)n(c)p
Black 23 w F4(The)c(set)g(of)g(pro)q(cessor)h(iden)o(ti\014ers.)17
b(\(W)m(e)10 b(usually)f(shorten)i FV(pr)n(o)n(c)n(essor)f
(identi\014er)375 773 y F4(to)j FV(pr)n(o)n(c)n(essor)18
b F4(when)d(referring)f(to)g(an)f(elemen)o(t)h(of)f FV(Pr)n(o)n(c)r
F4(.\))p Black 270 856 a FV(A)n(dr)p Black 37 w F4(The)h(set)h(of)e
(memory)e(addresses.)p Black 270 939 a FV(V)m(al)p Black
45 w F4(The)i(set)i(of)d(p)q(ossible)i(memory)d(v)n(alues)i(that)g(can)
g(b)q(e)h(assigned)g(to)f(an)g(address.)208 1022 y(Finally)m(,)8
b(w)o(e)i(de\014ne)h(the)g(v)n(alues)f(that)g(the)h(pro)q(cessors)h
(and)e(memory)e(send)j(to)f(one)g(another)208 1072 y(o)o(v)o(er)16
b(the)h(in)o(terface.)27 b(A)17 b(pro)q(cessor)i(sends)f(a)e(request)i
(to)f(the)g(memory)m(.)23 b(W)m(e)17 b(represen)o(t)208
1122 y(a)h(request)i(as)f(a)f(record)i(with)e(an)h FV(op)i
F4(\014eld)e(that)g(sp)q(eci\014es)h(the)g(t)o(yp)q(e)f(of)f(request)i
(and)208 1172 y(additional)c(\014elds)j(that)g(sp)q(ecify)g(its)g
(argumen)o(ts.)31 b(Our)19 b(simple)e(memory)f(allo)o(ws)i(only)208
1222 y(read)h(and)g(write)g(requests.)35 b(A)19 b(read)h(request)g(has)
f FV(op)j F4(\014eld)d(\\)p FD(Rd)p F4(")g(and)g(an)f
FV(adr)24 b F4(\014eld)208 1271 y(sp)q(ecifying)15 b(the)h(address)h
(to)f(b)q(e)g(read.)24 b(The)16 b(set)g(of)g(all)e(read)i(requests)i
(is)d(therefore)i(the)208 1321 y(set)p Black Black 332
1404 a([)p FV(op)11 b F4(:)c F0(f)p F4(\\)p FD(Rd)p F4(")p
F0(g)p FQ(;)18 b FV(adr)12 b F4(:)c FV(A)n(dr)t F4(])208
1487 y(of)k(all)f(records)k(whose)e FV(op)j F4(\014eld)c(equals)h(\\)p
FD(Rd)p F4(")g(\(is)f(an)h(elemen)o(t)f(of)g(the)i(set)f
F0(f)p F4(\\)p FD(Rd)p F4(")p F0(g)f F4(whose)208 1537
y(only)j(elemen)o(t)h(is)g(the)g(string)h(\\)p FD(Rd)p
F4(")o(\))g(and)f(whose)g FV(adr)21 b F4(\014eld)16 b(is)g(an)g(elemen)
o(t)g(of)f FV(A)n(dr)t F4(.)25 b(A)208 1587 y(write)12
b(request)h(m)o(ust)e(sp)q(ecify)h(the)g(address)i(to)d(b)q(e)i
(written)f(and)f(the)i(v)n(alue)e(to)h(write.)17 b(It)12
b(is)208 1637 y(represen)o(ted)j(b)o(y)d(a)g(record)i(with)e
FV(op)k F4(\014eld)c(equal)h(to)f(\\)p FD(W)o(r)p F4(",)g(and)g(with)h
FV(adr)j F4(and)d FV(val)j F4(\014elds)208 1686 y(sp)q(ecifying)h(the)g
(address)i(and)d(v)n(alue.)27 b(W)m(e)17 b(de\014ne)h
FV(MR)n(e)n(q)t F4(,)g(the)f(set)h(of)f(all)f(requests,)j(to)208
1736 y(equal)10 b(the)h(union)f(of)h(these)h(t)o(w)o(o)e(sets.)18
b(\(Set)12 b(op)q(erations,)f(including)f(union,)g(are)h(describ)q(ed)
208 1786 y(in)i(Section)h(1.2)f(on)h(page)g(11.\))270
1836 y(The)20 b(memory)d(resp)q(onds)22 b(to)d(a)h(read)g(request)h
(with)f(the)g(memory)d(v)n(alue)i(it)h(read.)208 1886
y(W)m(e)d(will)g(also)h(ha)o(v)o(e)g(it)g(resp)q(ond)h(to)f(a)g(write)g
(request,)j(and)d(it)g(seems)g(nice)h(to)f(let)g(the)208
1936 y(resp)q(onse)12 b(b)q(e)f(di\013eren)o(t)g(from)d(the)j(resp)q
(onse)h(to)e(an)o(y)g(read)h(request.)18 b(W)m(e)10 b(therefore)i
(require)208 1985 y(the)k(memory)e(to)j(resp)q(ond)g(to)f(a)g(write)h
(request)h(b)o(y)e(returning)h(a)f(v)n(alue)f FV(NoV)m(al)21
b F4(that)16 b(is)208 2035 y(di\013eren)o(t)j(from)e(an)o(y)h(memory)e
(v)n(alue.)32 b(W)m(e)18 b(could)g(declare)i FV(NoV)m(al)i
F4(to)d(b)q(e)g(a)f(constan)o(t)208 2085 y(parameter)e(and)h(add)g(the)
g(assumption)f FV(NoV)m(al)25 b FQ(=)-26 b F0(2)16 b
FV(V)m(al)t F4(.)27 b(\(The)18 b(sym)o(b)q(ol)h FQ(=)-25
b F0(2)16 b F4(is)h(t)o(yp)q(ed)g(in)208 2135 y FP(asci)q(i)10
b F4(as)h FO(\\notin)5 b F4(.\))18 b(But)11 b(it's)g(b)q(est,)h(when)g
(p)q(ossible,)f(to)g(a)o(v)o(oid)f(in)o(tro)q(ducing)g(parameters.)208
2185 y(Instead,)k(w)o(e)g(de\014ne)h FV(NoV)m(al)i F4(b)o(y)p
Black Black 332 2272 a FV(NoV)m(al)487 2248 y FI(\001)483
2272 y F4(=)34 b FP(choose)17 b FV(v)23 b F4(:)18 b FV(v)j
FQ(=)-26 b F0(2)11 b FV(V)m(al)208 2355 y F4(The)j(expression)i
FP(choose)g FV(x)e F4(:)7 b FV(F)20 b F4(equals)14 b(an)g(arbitrarily)f
(c)o(hosen)j(v)n(alue)d FV(x)20 b F4(that)14 b(satis\014es)208
2405 y(the)i(form)o(ula)d FV(F)6 b F4(.)23 b(\(If)15
b(no)h(suc)o(h)g FV(x)21 b F4(exists,)16 b(the)h(expression)f(has)g(a)g
(completely)e(arbitrary)208 2454 y(v)n(alue.\))i(This)d(statemen)o(t)f
(de\014nes)h FV(NoV)m(al)j F4(to)c(b)q(e)h(some)e(v)n(alue)h(that)g(is)
g(not)g(an)g(elemen)o(t)f(of)p Black Black eop
%%Page: 48 66
48 65 bop Black 208 275 a F4(48)986 b FR(CHAPTER)14 b(5.)32
b(A)14 b(CA)o(CHING)g(MEMOR)m(Y)p 208 282 1770 2 v Black
Black Black Black 188 395 2 25 v 190 372 650 2 v 853
379 a FP(module)h FV(MemoryInterfac)n(e)p 1346 372 V
1996 395 2 25 v Black Black 208 454 a FP(v)l(ariable)i
FV(memInt)208 520 y FP(const)m(ants)f FV(Send)t F4(\()p
548 520 22 3 v 36 w FQ(;)p 603 520 V 42 w(;)p 656 520
V 41 w(;)p 710 520 V 42 w F4(\))p FQ(;)p .95 TeXcolorgray
.95 TeXcolorgray 807 574 991 91 v .95 TeXcolorgray Black
49 w FZ(A)c FY(Send)s FZ(\()p FY(p)r Fw(;)7 b FY(d)s
Fw(;)f FY(memInt)s Fw(;)g FY(memInt)1280 508 y FX(0)1292
520 y FZ(\))11 b(step)g(represen)o(ts)e(pro)q(cessor)g
FY(p)815 559 y FZ(sending)g(v)n(alue)i FY(d)k FZ(to)c(the)g(memory)m(.)
p .95 TeXcolorgray Black 435 612 a FV(R)n(eply)t F4(\()p
561 612 22 3 v 35 w FQ(;)p 614 612 V 41 w(;)p 668 612
V 42 w(;)p 721 612 V 41 w F4(\))p FQ(;)p .95 TeXcolorgray
.95 TeXcolorgray 807 666 991 91 v .95 TeXcolorgray Black
38 w FZ(A)h FY(R)n(eply)s FZ(\()p FY(p)r Fw(;)7 b FY(d)s
Fw(;)f FY(memInt)s Fw(;)g FY(memInt)1290 600 y FX(0)1302
612 y FZ(\))11 b(step)g(represen)o(ts)e(the)i(memory)815
651 y(sending)e(v)n(alue)i FY(d)k FZ(to)c(pro)q(cessor)e
FY(p)r FZ(.)p .95 TeXcolorgray Black 435 703 a FV(InitMemInt)t
FQ(;)p .95 TeXcolorgray .95 TeXcolorgray 694 724 991
57 v .95 TeXcolorgray Black 42 w FZ(The)j(set)f(of)g(p)q(ossible)f
(initial)f(v)n(alues)i(of)g FY(memInt)s FZ(.)p .95 TeXcolorgray
Black 435 753 a FV(Pr)n(o)n(c)r FQ(;)p .95 TeXcolorgray
.95 TeXcolorgray 694 773 499 57 v .95 TeXcolorgray Black
171 w FZ(The)h(set)f(of)g(pro)q(cessor)e(iden)o(ti\014ers.)p
.95 TeXcolorgray Black 435 803 a FV(A)n(dr)t FQ(;)p .95
TeXcolorgray .95 TeXcolorgray 694 823 475 57 v .95 TeXcolorgray
Black 183 w FZ(The)j(set)f(of)g(memory)e(addresses.)p
.95 TeXcolorgray Black 435 853 a FV(V)m(al)p .95 TeXcolorgray
.95 TeXcolorgray 694 873 424 57 v .95 TeXcolorgray Black
207 w FZ(The)j(set)f(of)g(memory)e(v)n(alues.)p .95 TeXcolorgray
Black 208 932 a FP(assume)16 b F0(8)7 b FV(p)s FQ(;)g
FV(d)t FQ(;)g FV(miOld)t FQ(;)g FV(miNew)21 b F4(:)d
F0(^)c FV(Send)t F4(\()p FV(p)s FQ(;)7 b FV(d)t FQ(;)g
FV(miOld)t FQ(;)g FV(miNew)t F4(\))k F0(2)h FP(boolean)793
982 y F0(^)i FV(R)n(eply)t F4(\()p FV(p)s FQ(;)7 b FV(d)t
FQ(;)g FV(miOld)t FQ(;)g FV(miNew)t F4(\))j F0(2)h FP(boolean)p
188 1022 2 25 v 190 1011 1806 2 v 1996 1021 2 25 v 208
1076 a FV(MR)n(e)n(q)363 1052 y FI(\001)358 1076 y F4(=)35
b([)p FV(op)11 b F4(:)c F0(f)p F4(\\)p FD(Rd)p F4(")p
F0(g)p FQ(;)13 b FV(adr)f F4(:)c FV(A)n(dr)t F4(])32
b F0([)g F4([)p FV(op)10 b F4(:)e F0(f)p F4(\\)p FD(W)o(r)p
F4(")o F0(g)p FQ(;)13 b FV(adr)g F4(:)8 b FV(A)n(dr)t
FQ(;)13 b FV(val)f F4(:)c FV(V)m(al)t F4(])p .95 TeXcolorgray
.95 TeXcolorgray 459 1146 1433 57 v .95 TeXcolorgray
Black 467 1126 a FZ(The)k(set)f(of)g(all)g(requests;)f(a)h(read)f(sp)q
(eci\014es)g(an)h(address,)f(a)h(write)g(sp)q(eci\014es)f(an)h(address)
f(and)g(a)i(v)n(alue.)p .95 TeXcolorgray Black 208 1199
a FV(NoV)m(al)363 1175 y FI(\001)358 1199 y F4(=)35 b
FP(choose)16 b FV(v)23 b F4(:)18 b FV(v)j FQ(=)-25 b
F0(2)11 b FV(V)m(al)p .95 TeXcolorgray .95 TeXcolorgray
830 1219 484 57 v .95 TeXcolorgray Black 46 w FZ(An)h(arbitrary)d(v)n
(alue)h(not)h(in)g FY(V)m(al)s FZ(.)p .95 TeXcolorgray
Black 188 1236 2 25 v 190 1236 1806 2 v 1996 1236 2 25
v Black 605 1326 a FU(Figure)j(5.1:)19 b F4(The)c(sp)q(eci\014cation)f
(of)f(a)h(memory)d(in)o(terface.)p Black Black 208 1439
a FV(V)m(al)t F4(.)18 b(W)m(e)13 b(ha)o(v)o(e)h(no)g(idea)g(what)g(the)
g(v)n(alue)g(of)f FV(NoV)m(al)18 b F4(is;)13 b(w)o(e)h(just)h(kno)o(w)e
(what)h(it)g(isn't|)208 1489 y(namely)m(,)g(that)j(it)f(isn't)g(an)h
(elemen)o(t)f(of)g FV(V)m(al)t F4(.)26 b(The)17 b FP(choose)g
F4(op)q(erator)h(is)e(discussed)i(in)208 1539 y(Section)c(6.6)f(on)g
(page)h(73.)270 1589 y(The)g(complete)g(memory)d(in)o(terface)k(sp)q
(eci\014cation)g(is)f(mo)q(dule)e FV(MemoryInterfac)n(e)17
b F4(in)208 1639 y(Figure)d(5.1)e(on)i(this)g(page.)208
1796 y FN(5.2)81 b(F)-7 b(unctions)208 1887 y F4(A)17
b(memory)e(assigns)j(v)n(alues)f(to)h(addresses.)31 b(The)18
b(state)h(of)e(the)h(memory)d(is)i(therefore)208 1937
y(an)c(assignmen)o(t)f(of)g(elemen)o(ts)i(of)e FV(V)m(al)17
b F4(\(memory)11 b(v)n(alues\))i(to)g(elemen)o(ts)g(of)g
FV(A)n(dr)k F4(\(memory)208 1987 y(addresses\).)24 b(In)15
b(a)g(programming)d(language,)i(suc)o(h)j(an)e(assignmen)o(t)f(is)h
(called)g(an)g(arra)o(y)208 2037 y(of)d(t)o(yp)q(e)i
FV(V)m(al)j F4(indexed)d(b)o(y)g FV(A)n(dr)t F4(.)j(In)d(mathematics,)d
(it's)i(called)g(a)g(function)g(from)f FV(A)n(dr)17 b
F4(to)208 2087 y FV(V)m(al)t F4(.)j(Before)c(writing)e(the)i(memory)c
(sp)q(eci\014cation,)k(let's)f(lo)q(ok)f(at)g(the)i(mathematics)c(of)
208 2136 y(functions,)h(and)h(ho)o(w)f(it)h(is)f(describ)q(ed)j(in)e
(TLA)968 2121 y FS(+)988 2136 y F4(.)270 2186 y(A)e(function)f
FV(f)20 b F4(has)12 b(a)f(domain,)f(written)i FP(domain)e
FV(f)e F4(,)k(and)f(it)h(assigns)g(to)f(eac)o(h)h(elemen)o(t)208
2236 y FV(x)20 b F4(of)15 b(its)h(domain)d(the)j(v)n(alue)f
FV(f)8 b F4([)p FV(x)d F4(].)23 b(\(Mathematicians)14
b(write)i(this)f(as)h FV(f)9 b F4(\()p FV(x)c F4(\),)15
b(but)h(TLA)1625 2221 y FS(+)208 2286 y F4(uses)f(the)f(arra)o(y)g
(notation)f(of)g(programming)d(languages,)j(with)h(square)g(brac)o(k)o
(ets.\))19 b(Tw)o(o)208 2336 y(functions)c FV(f)24 b
F4(and)15 b FV(g)20 b F4(are)15 b(equal)h(i\013)f(they)h(ha)o(v)o(e)f
(the)h(same)f(domain)e(and)i FV(f)9 b F4([)p FV(x)c F4(])13
b(=)i FV(g)t F4([)p FV(x)5 b F4(])14 b(for)208 2386 y(all)e
FV(x)19 b F4(in)14 b(their)g(domain.)270 2435 y(The)h
FV(r)n(ange)k F4(of)14 b(a)h(function)g FV(f)24 b F4(is)15
b(the)g(set)h(of)f(all)f(v)n(alues)h(of)f(the)i(form)d
FV(f)c F4([)p FV(x)c F4(])14 b(with)h FV(x)20 b F4(in)208
2485 y FP(domain)9 b FV(f)g F4(.)20 b(F)m(or)14 b(an)o(y)g(sets)i
FV(S)k F4(and)14 b FV(T)6 b F4(,)14 b(the)h(set)g(of)f(all)g(functions)
g(whose)i(domain)c(equals)208 2535 y FV(S)19 b F4(and)13
b(whose)i(range)f(is)g(an)o(y)f(subset)i(of)f FV(T)19
b F4(is)14 b(written)g([)p FV(S)i F0(!)11 b FV(T)6 b
F4(].)p Black Black eop
%%Page: 49 67
49 66 bop Black 208 275 a FR(5.2.)30 b(FUNCTIONS)1382
b F4(49)p 208 282 1770 2 v Black 270 391 a(Ordinary)11
b(mathematics)d(do)q(es)k(not)e(ha)o(v)o(e)h(a)f(con)o(v)o(enien)o(t)h
(notation)f(for)g(writing)g(an)h(ex-)208 441 y(pression)i(whose)f(v)n
(alue)g(is)g(a)g(function.)17 b(TLA)930 426 y FS(+)963
441 y F4(de\014nes)d([)p FV(x)i F0(2)11 b FV(S)17 b F0(7!)11
b FV(e)s F4(])h(to)g(b)q(e)h(the)g(function)208 491 y
FV(f)22 b F4(with)13 b(domain)f FV(S)19 b F4(suc)o(h)c(that)f
FV(f)8 b F4([)p FV(x)d F4(])11 b(=)h FV(e)17 b F4(for)d(ev)o(ery)g
FV(x)j F0(2)11 b FV(S)6 b F4(.)1160 476 y FS(3)1196 491
y F4(F)m(or)14 b(example,)p Black Black 332 580 a FV(suc)n(c)449
557 y FI(\001)444 580 y F4(=)35 b([)p FV(n)15 b F0(2)c
FV(Nat)k F0(7!)c FV(n)i F4(+)d(1])208 664 y(de\014nes)15
b FV(suc)n(c)i F4(to)c(b)q(e)i(the)f(successor)j(function)d(on)f(the)i
(natural)e(n)o(um)o(b)q(ers|the)h(function)208 713 y(with)f(domain)f
FV(Nat)17 b F4(suc)o(h)e(that)f FV(suc)n(c)r F4([)p FV(n)s
F4(])e(=)g FV(n)g F4(+)e(1)j(for)h(all)f FV(n)i F0(2)c
FV(Nat)t F4(.)270 763 y(A)k(record)h(is)e(a)h(function)g(whose)g
(domain)e(is)h(a)h(\014nite)g(set)h(of)e(strings.)21
b(F)m(or)15 b(example,)208 813 y(a)j(record)i(with)f
FV(val)t F4(,)h FV(ack)t F4(,)g(and)f FV(r)n(dy)j F4(\014elds)e(is)e(a)
h(function)g(whose)g(domain)e(is)h(the)i(set)208 863
y F0(f)p F4(\\)p FD(val)p F4(")o FQ(;)13 b F4(\\)p FD(ack)p
F4(")p FQ(;)h F4(\\)p FD(rdy)p F4(")p F0(g)20 b F4(consisting)h(of)f
(the)h(three)h(strings)f(\\)p FD(val)p F4(",)h(\\)p FD(ack)p
F4(",)g(and)e(\\)p FD(rdy)p F4(".)208 913 y(The)12 b(expression)h
FV(r)t FQ(:)p FV(ack)t F4(,)f(the)h FV(ack)k F4(\014eld)12
b(of)f(a)h(record)h FV(r)t F4(,)f(is)g(an)f(abbreviation)h(for)f
FV(r)t F4([\\)p FD(ack)p F4("].)208 962 y(The)j(record)p
Black Black 332 1045 a([)p FV(val)h F0(7!)c F4(42)p FQ(;)18
b FV(ack)e F0(7!)11 b F4(1)p FQ(;)18 b FV(r)n(dy)d F0(7!)c
F4(0])208 1128 y(can)j(b)q(e)g(written)p Black Black
332 1211 a([)p FV(i)h F0(2)c(f)p F4(\\)p FD(val)p F4(")p
FQ(;)i F4(\\)p FD(ack)p F4(")p FQ(;)h F4(\\)p FD(rdy)p
F4(")p F0(g)d(7!)385 1261 y FP(if)23 b FV(i)16 b F4(=)c(\\)p
FD(val)p F4(")21 b FP(then)i F4(42)g FP(else)h(if)f FV(i)16
b F4(=)c(\\)p FD(ack)p F4(")21 b FP(then)j F4(1)f FP(else)h
F4(0])208 1342 y(The)12 b FP(ex)o(cept)f F4(construct)j(for)d(records,)
i(explained)f(in)f(Section)h(3.2,)f(is)g(a)h(sp)q(ecial)f(case)i(of)e
(a)208 1392 y(general)j FP(ex)o(cept)f F4(construct)j(for)d(functions,)
h(where)k(!)s FQ(:)p FV(c)e F4(is)e(an)f(abbreviation)g(for)k(!)s([\\)p
FD(c)p F4("].)208 1447 y(F)m(or)c(an)o(y)h(function)g
FV(f)8 b F4(,)14 b(the)g(expression)i([)p FV(f)23 b FP(ex)o(cept)c
F4(!)s([)p FV(c)r F4(])11 b(=)h FV(e)s F4(])i(is)g(the)h(function)1493
1436 y(^)1492 1447 y FV(f)23 b F4(that)14 b(is)208 1501
y(the)g(same)f(as)h FV(f)22 b F4(except)16 b(with)695
1490 y(^)694 1501 y FV(f)9 b F4([)p FV(c)r F4(])i(=)h
FV(e)s F4(.)18 b(This)c(function)f(can)h(also)g(b)q(e)g(written)p
Black Black 332 1584 a([)p FV(x)i F0(2)c FP(domain)e
FV(f)27 b F0(7!)17 b FP(if)24 b FV(x)16 b F4(=)c FV(c)24
b FP(then)g FV(e)j FP(else)d FV(f)8 b F4([)p FV(x)d F4(])h(])208
1667 y(assuming)13 b(that)i(the)g(sym)o(b)q(ol)e FV(x)20
b F4(do)q(es)c(not)e(o)q(ccur)i(in)f(an)o(y)f(of)g(the)i(expressions)g
FV(f)9 b F4(,)14 b FV(c)r F4(,)h(and)208 1717 y FV(e)s
F4(.)20 b(F)m(or)15 b(example,)e([)p FV(suc)n(c)18 b
FP(ex)o(cept)h F4(!)s([42])10 b(=)i(86])h(is)i(the)g(function)g
FV(g)j F4(that)d(is)g(the)g(same)f(as)208 1766 y FV(suc)n(c)i
F4(except)f(that)f FV(g)t F4([42])e(equals)i(86)g(instead)g(of)f(43.)
270 1816 y(As)h(in)g(the)g FP(ex)o(cept)g F4(construct)i(for)d
(records,)i(the)g(expression)g FV(e)i F4(in)p Black Black
332 1899 a([)p FV(f)24 b FP(ex)o(cept)19 b F4(!)s([)p
FV(c)r F4(])11 b(=)h FV(e)s F4(])208 1982 y(can)i(con)o(tain)f(the)i
(sym)o(b)q(ol)d(@,)h(where)i(it)f(means)f FV(f)8 b F4([)p
FV(c)r F4(].)18 b(F)m(or)13 b(example,)p Black Black
332 2065 a([)p FV(suc)n(c)18 b FP(ex)o(cept)h F4(!)s([42])10
b(=)i(2)d F0(\003)g F4(@])34 b(=)h([)p FV(suc)n(c)18
b FP(ex)o(cept)h F4(!)s([42])11 b(=)g(2)e F0(\003)g FV(suc)n(c)r
F4([42])e(])208 2148 y(In)13 b(general,)p Black Black
332 2231 a([)p FV(f)24 b FP(ex)o(cept)19 b F4(!)s([)p
FV(c)591 2237 y FS(1)610 2231 y F4(])11 b(=)h FV(e)699
2237 y FS(1)717 2231 y FQ(;)18 b(:)7 b(:)g(:)13 b(;)21
b F4(!)s([)p FV(c)891 2237 y FJ(n)915 2231 y F4(])11
b(=)h FV(e)1004 2237 y FJ(n)1028 2231 y F4(])p Black
208 2268 576 2 v 254 2295 a FK(3)271 2307 y FZ(The)e
FW(2)g FZ(in)g([)p FY(x)k FW(2)c FY(S)j FW(7!)d FY(e)r
FZ(])i(is)e(just)f(part)g(of)h(the)g(syn)o(tax;)f(TLA)1079
2295 y FK(+)1110 2307 y FZ(uses)g(that)g(particular)f(sym)o(b)q(ol)g
(to)i(help)208 2346 y(y)o(ou)k(remem)o(b)q(er)e(what)i(the)g(construct)
f(means.)24 b(Computer)13 b(scien)o(tists)g(write)h Fw(\025)p
FY(x)20 b FZ(:)15 b FY(S)t Fw(:)p FY(e)j FZ(to)c(represen)o(t)208
2386 y(something)7 b(similar)i(to)i([)p FY(x)j FW(2)9
b FY(S)14 b FW(7!)c FY(e)r FZ(])q(,)g(except)f(that)h(their)f
Fw(\025)i FZ(expressions)d(aren't)h(quite)g(the)h(same)f(as)i(the)208
2425 y(functions)e(of)i(ordinary)e(mathematic)o(s)g(that)h(are)h(used)g
(in)g(TLA)1080 2414 y FK(+)1100 2425 y FZ(.)p Black Black
Black eop
%%Page: 50 68
50 67 bop Black 208 275 a F4(50)986 b FR(CHAPTER)14 b(5.)32
b(A)14 b(CA)o(CHING)g(MEMOR)m(Y)p 208 282 1770 2 v Black
208 391 a F4(is)g(the)i(function)487 380 y(^)487 391
y FV(f)23 b F4(that)15 b(is)g(the)h(same)e(as)h FV(f)23
b F4(except)17 b(with)1151 380 y(^)1150 391 y FV(f)9
b F4([)p FV(c)1205 397 y FJ(i)1220 391 y F4(])k(=)h FV(e)1313
397 y FJ(i)1343 391 y F4(for)h(eac)o(h)g FV(i)t F4(.)21
b(More)208 441 y(precisely)m(,)13 b(this)h(expression)h(equals)p
Black Black 332 522 a([)p FQ(:)7 b(:)g(:)e F4([)i([)p
FV(f)23 b FP(ex)o(cept)c F4(!)s([)p FV(c)676 528 y FS(1)695
522 y F4(])11 b(=)h FV(e)784 528 y FS(1)803 522 y F4(])j
FP(ex)o(cept)k F4(!)s([)p FV(c)1040 528 y FS(2)1059 522
y F4(])11 b(=)h FV(e)1148 528 y FS(2)1166 522 y F4(])18
b FQ(:)7 b(:)g(:)21 b FP(ex)o(cept)f F4(!)s([)p FV(c)1478
528 y FJ(n)1501 522 y F4(])11 b(=)h FV(e)1590 528 y FJ(n)1614
522 y F4(])208 603 y(F)m(unctions)g(corresp)q(ond)h(to)f(the)g(arra)o
(ys)g(of)g(programmi)o(ng)d(languages.)17 b(The)12 b(domain)e(of)h(a)
208 653 y(function)h(corresp)q(onds)j(to)d(the)i(index)f(set)g(of)f(an)
h(arra)o(y)m(.)k(F)m(unction)12 b([)p FV(f)24 b FP(ex)o(cept)19
b F4(!)s([)p FV(c)r F4(])11 b(=)h FV(e)s F4(])208 703
y(corresp)q(onds)20 b(to)e(the)g(arra)o(y)g(obtained)g(from)e
FV(f)27 b F4(b)o(y)18 b(assigning)f FV(e)k F4(to)d FV(f)9
b F4([)p FV(c)r F4(].)30 b(A)18 b(function)208 753 y(whose)11
b(range)g(is)f(a)h(set)h(of)e(functions)h(corresp)q(onds)h(to)f(an)f
(arra)o(y)h(of)f(arra)o(ys.)17 b(TLA)1492 737 y FS(+)1523
753 y F4(de\014nes)208 802 y([)p FV(f)23 b FP(ex)o(cept)d
F4(!)s([)p FV(c)r F4(][)p FV(d)t F4(])10 b(=)i FV(e)s
F4(])k(to)g(b)q(e)h(the)f(function)g(corresp)q(onding)h(to)f(the)h
(arra)o(y)f(obtained)208 852 y(b)o(y)d(assigning)g FV(e)k
F4(to)d FV(f)9 b F4([)p FV(c)r F4(][)p FV(d)t F4(].)17
b(It)d(can)g(b)q(e)g(written)h(as)p Black Black 332 933
a([)p FV(f)24 b FP(ex)o(cept)19 b F4(!)s([)p FV(c)r F4(])11
b(=)h([@)j FP(ex)o(cept)20 b F4(!)s([)p FV(d)t F4(])11
b(=)h FV(e)s F4(]])208 1014 y(The)h(generalization)g(to)h([)p
FV(f)23 b FP(ex)o(cept)d F4(!)s([)p FV(c)867 1020 y FS(1)885
1014 y F4(])7 b FQ(:)g(:)g(:)e F4([)p FV(c)992 1020 y
FJ(n)1016 1014 y F4(])11 b(=)h FV(e)s F4(])h(for)g(an)o(y)g
FV(n)k F4(should)c(b)q(e)h(ob)o(vious.)208 1064 y(Since)e(a)g(record)i
(is)e(a)g(function,)g(this)g(notation)g(can)g(b)q(e)h(used)g(for)f
(records)i(as)e(w)o(ell.)17 b(TLA)1625 1049 y FS(+)208
1114 y F4(uniformly)e(main)o(tains)h(the)j(notation)f(that)g
FQ(\033)o(:)p FV(c)i F4(is)f(an)f(abbreviation)f(for)i
FQ(\033)q F4([\\)p FD(c)p F4(")o(].)31 b(F)m(or)208 1164
y(example,)12 b(this)i(implies)p Black Black 332 1245
a([)p FV(f)24 b FP(ex)o(cept)19 b F4(!)s([)p FV(c)r F4(])p
FQ(:)p FV(d)c F4(=)d FV(e)s F4(])23 b(=)g([)p FV(f)h
FP(ex)o(cept)19 b F4(!)s([)p FV(c)r F4(][\\)p FD(d)p
F4(")o(])11 b(=)h FV(e)s F4(])752 1306 y(=)23 b([)p FV(f)h
FP(ex)o(cept)19 b F4(!)s([)p FV(c)r F4(])11 b(=)h([@)j
FP(ex)o(cept)20 b F4(!)s FQ(:)p FV(d)15 b F4(=)d FV(e)s
F4(]])270 1389 y(The)h(TLA)441 1374 y FS(+)475 1389 y
F4(de\014nition)f(of)g(records)i(as)f(functions)g(mak)o(es)f(it)g(p)q
(ossible)h(to)g(manipulate)208 1439 y(them)8 b(in)h(w)o(a)o(ys)g(that)h
(ha)o(v)o(e)f(no)g(coun)o(terparts)i(in)e(programmi)o(ng)e(languages.)
16 b(F)m(or)9 b(example,)208 1489 y(w)o(e)14 b(can)g(de\014ne)h(an)e
(op)q(erator)i FV(R)g F4(suc)o(h)g(that)f FV(R)r F4(\()p
FV(r)t FQ(;)7 b FV(s)s F4(\))13 b(is)h(the)h(record)g(obtained)e(from)f
FV(r)18 b F4(b)o(y)208 1539 y(replacing)d(the)i(v)n(alue)f(of)f(eac)o
(h)i(\014eld)f FV(c)i F4(that)e(is)g(also)g(a)f(\014eld)i(of)e(the)i
(record)g FV(s)i F4(with)d FV(s)s FQ(:)p FV(c)r F4(.)208
1589 y(In)g(other)i(w)o(ords,)f(for)f(ev)o(ery)i(\014eld)f
FV(c)i F4(of)d FV(r)t F4(,)h(if)f FV(c)j F4(is)e(a)f(\014eld)h(of)f
FV(s)21 b F4(then)c FV(R)r F4(\()p FV(r)t FQ(;)7 b FV(s)s
F4(\))p FQ(:)p FV(c)18 b F4(=)f FV(s)s FQ(:)p FV(c)r
F4(;)208 1638 y(otherwise)d FV(R)r F4(\()p FV(r)t FQ(;)7
b FV(s)s F4(\))p FQ(:)p FV(c)14 b F4(=)e FV(r)t FQ(:)p
FV(c)r F4(.)18 b(The)c(de\014nition)f(is)p Black Black
332 1726 a FV(R)r F4(\()p FV(r)t FQ(;)7 b FV(s)s F4(\))496
1702 y FI(\001)492 1726 y F4(=)35 b([)p FV(c)13 b F0(2)e
FP(domain)f FV(r)16 b F0(7!)11 b FP(if)23 b FV(c)14 b
F0(2)d FP(domain)f FV(s)25 b FP(then)f FV(s)s F4([)p
FV(c)r F4(])f FP(else)h FV(r)t F4([)p FV(c)r F4(])7 b(])270
1807 y(So)20 b(far,)h(w)o(e)f(ha)o(v)o(e)g(seen)i(only)d(functions)i
(of)e(a)h(single)g(argumen)o(t,)g(whic)o(h)h(are)f(the)208
1857 y(mathematical)11 b(analog)i(of)i(the)g(one-dimensional)e(arra)o
(ys)i(of)f(programmi)o(ng)e(languages.)208 1906 y(Mathematicians)g
(also)h(use)i(functions)f(of)f(m)o(ultiple)f(argumen)o(ts,)h(whic)o(h)g
(are)i(the)f(analog)208 1956 y(of)c(m)o(ulti-dim)o(ensional)e(arra)o
(ys.)17 b(In)11 b(TLA)864 1941 y FS(+)885 1956 y F4(,)g(as)g(in)g
(ordinary)g(mathematics,)e(a)i(function)f(of)208 2006
y(m)o(ultiple)e(argumen)o(ts)j(is)g(one)g(whose)h(domain)d(is)i(a)f
(set)i(of)f(tuples.)18 b(F)m(or)10 b(example,)g FV(f)f
F4([5)p FQ(;)e F4(3)p FQ(;)g F4(1])208 2056 y(is)k(an)g(abbreviation)g
(for)g FV(f)d F4([)p F0(h)s F4(5)p FQ(;)f F4(3)p FQ(;)g
F4(1)s F0(i)p F4(],)j(the)i(v)n(alue)f(of)g(the)h(function)f
FV(f)20 b F4(applied)11 b(to)g(the)h(triple)208 2106
y F0(h)s F4(5)p FQ(;)7 b F4(3)p FQ(;)g F4(1)s F0(i)p
F4(.)270 2155 y(The)17 b(function)f(constructs)j(of)c(TLA)861
2140 y FS(+)899 2155 y F4(ha)o(v)o(e)h(extensions)i(for)e(functions)g
(of)g(m)o(ultiple)208 2205 y(argumen)o(ts.)27 b(F)m(or)17
b(example,)f([)p FV(g)j FP(ex)o(cept)g F4(!)s([)p FV(a)s
FQ(;)7 b FV(b)s F4(])16 b(=)h FV(e)s F4(])g(is)g(the)h(function)f
FF(b)-23 b FV(g)21 b F4(that)c(is)g(the)208 2255 y(same)c(as)h
FV(g)j F4(except)e(with)f FF(b)-23 b FV(g)t F4([)p FV(a)s
FQ(;)7 b FV(b)s F4(])12 b(equal)i(to)f FV(e)s F4(.)19
b(The)14 b(expression)p Black Black 332 2336 a([)p FV(n)h
F0(2)c FV(Nat)t FQ(;)i FV(r)j F0(2)11 b FV(R)n(e)n(al)22
b F0(7!)c FV(n)13 b F0(\003)c FV(r)t F4(])p Black -640
w(\(5.1\))p Black 208 2417 a(equals)i(the)i(function)f
FV(f)20 b F4(suc)o(h)13 b(that)f FV(f)c F4([)p FV(n)s
FQ(;)f FV(r)t F4(])k(equals)h FV(n)d F0(\003)c FV(r)t
F4(,)12 b(for)f(all)g FV(n)k F0(2)c FV(Nat)16 b F4(and)11
b FV(r)16 b F0(2)11 b FV(R)n(e)n(al)t F4(.)208 2467 y(Just)20
b(as)f F0(8)7 b FV(i)16 b F0(2)11 b FV(S)i F4(:)8 b F0(8)f
FV(j)17 b F0(2)12 b FV(S)h F4(:)7 b FV(P)24 b F4(can)c(b)q(e)g(written)
g(as)g F0(8)7 b FV(i)t FQ(;)g FV(j)16 b F0(2)11 b FV(S)j
F4(:)7 b FV(P)e F4(,)20 b(w)o(e)g(can)f(write)h(the)208
2517 y(function)13 b([)p FV(i)i F0(2)c FV(S)5 b FQ(;)14
b FV(j)j F0(2)12 b FV(S)k F0(7!)11 b FV(e)s F4(])j(as)g([)p
FV(i)t FQ(;)7 b FV(j)16 b F0(2)11 b FV(S)17 b F0(7!)11
b FV(e)s F4(].)p Black Black eop
%%Page: 51 69
51 68 bop Black 208 275 a FR(5.3.)30 b(A)14 b(LINEARIZABLE)h(MEMOR)m(Y)
1061 b F4(51)p 208 282 1770 2 v Black 270 391 a(Section)14
b(16.1.7)e(on)i(page)g(301)f(describ)q(es)j(the)e(general)g(v)o
(ersions)h(of)e(the)h(TLA)1520 376 y FS(+)1555 391 y
F4(func-)208 441 y(tion)c(constructs)k(for)d(functions)h(with)f(an)o(y)
g(n)o(um)o(b)q(er)g(of)f(argumen)o(ts.)17 b(Ho)o(w)o(ev)o(er,)12
b(functions)208 491 y(of)f(a)h(single)f(argumen)o(t)g(are)i(all)d(y)o
(ou're)i(lik)o(ely)f(to)h(need.)18 b(Y)m(ou)12 b(can)g(almost)e(alw)o
(a)o(ys)h(replace)208 541 y(a)h(function)h(of)g(m)o(ultiple)e(argumen)o
(ts)h(with)h(a)f(function-v)n(alued)h(function|for)f(example,)208
591 y(writing)h FV(f)8 b F4([)p FV(a)s F4(][)p FV(b)s
F4(])k(instead)i(of)g FV(f)8 b F4([)p FV(a)s FQ(;)f FV(b)s
F4(].)208 747 y FN(5.3)81 b(A)27 b(Linearizable)e(Memory)208
838 y F4(W)m(e)15 b(no)o(w)h(sp)q(ecify)h(a)f(v)o(ery)g(simple)f
(memory)e(system)j(in)g(whic)o(h)g(a)g(pro)q(cessor)i
FV(p)h F4(issues)e(a)208 888 y(memory)12 b(request)17
b(and)e(then)h(w)o(aits)f(for)g(a)g(resp)q(onse)i(b)q(efore)f(issuing)f
(the)h(next)g(request.)208 938 y(In)c(our)h(sp)q(eci\014cation,)g(the)h
(request)g(is)e(executed)j(b)o(y)e(accessing)g(\(reading)g(or)g(mo)q
(difying\))208 987 y(a)18 b(v)n(ariable)g FV(mem)s F4(,)h(whic)o(h)g
(represen)o(ts)i(the)e(curren)o(t)i(state)e(of)f(the)h(memory)m(.)30
b(Because)208 1037 y(the)20 b(memory)d(can)i(receiv)o(e)i(requests)g
(from)d(other)i(pro)q(cessors)i(b)q(efore)e(resp)q(onding)g(to)208
1087 y(pro)q(cessor)c FV(p)s F4(,)d(it)h(matters)g(when)g
FV(mem)j F4(is)d(accessed.)21 b(W)m(e)14 b(let)g(the)h(access)h(of)e
FV(mem)j F4(o)q(ccur)208 1137 y(an)o(y)d(time)f(b)q(et)o(w)o(een)k(the)
e(request)h(and)f(the)g(resp)q(onse.)23 b(This)15 b(sp)q(eci\014es)h
(what)f(is)g(called)f(a)208 1187 y FV(line)n(arizable)i
F4(memory)m(.)h(Less)f(restrictiv)o(e,)f(more)f(practical)g(memory)e
(sp)q(eci\014cations)j(are)208 1237 y(describ)q(ed)g(in)f(Section)g
(11.2.)270 1286 y(In)g(addition)e(to)i FV(mem)s F4(,)f(the)h(sp)q
(eci\014cation)h(has)f(the)g(in)o(ternal)f(v)n(ariables)g
FV(ctl)18 b F4(and)13 b FV(buf)c F4(,)208 1336 y(where)18
b FV(ctl)t F4([)p FV(p)s F4(])d(describ)q(es)k(the)f(status)g(of)e(pro)
q(cessor)j FV(p)s F4('s)e(request,)h(and)f FV(buf)9 b
F4([)p FV(p)s F4(])16 b(con)o(tains)208 1386 y(either)e(the)h(request)g
(or)f(the)h(resp)q(onse.)20 b(Consider)14 b(the)g(request)i
FV(r)n(e)n(q)h F4(that)d(equals)p Black Black 332 1461
a([)p FV(op)g F0(7!)d F4(\\)p FD(W)o(r)p F4(")p FQ(;)18
b FV(adr)e F0(7!)11 b FV(a)s FQ(;)18 b FV(val)e F0(7!)11
b FV(v)t F4(])208 1535 y(It)16 b(is)g(a)h(request)h(to)e(write)h
FV(v)k F4(to)16 b(memory)e(address)k FV(a)s F4(,)e(and)h(it)f
(generates)i(the)f(resp)q(onse)208 1585 y FV(NoV)m(al)t
F4(.)f(The)11 b(pro)q(cessing)g(of)f(this)g(request)i(is)f(represen)o
(ted)i(b)o(y)d(the)h(follo)o(wing)c(three)12 b(steps:)p
Black Black 332 1624 a FF(2)332 1698 y(4)p Black -41
x FV(ctl)t F4([)p FV(p)s F4(])64 b(=)24 b(\\)p FD(rdy)p
F4(")360 1707 y FV(buf)9 b F4([)p FV(p)s F4(])49 b(=)24
b F0(\001)7 b(\001)g(\001)360 1757 y FV(mem)s F4([)p
FV(a)s F4(])22 b(=)i F0(\001)7 b(\001)g(\001)p Black
672 1624 a FF(3)672 1698 y(5)711 1669 y FJ(R)n(e)n(q)r
FS(\()p FJ(p)r FS(\))728 1707 y F0(\000)-6 b(!)823 1624
y FF(2)823 1698 y(4)p Black -41 x FV(ctl)t F4([)p FV(p)s
F4(])65 b(=)23 b(\\)p FD(busy)p F4(")851 1707 y FV(buf)9
b F4([)p FV(p)s F4(])50 b(=)23 b FV(r)n(e)n(q)851 1757
y(mem)s F4([)p FV(a)s F4(])g(=)g F0(\001)7 b(\001)g(\001)p
Black 1187 1624 a FF(3)1187 1698 y(5)415 1855 y FJ(Do)r
FS(\()p FJ(p)r FS(\))427 1894 y F0(\000)-7 b(!)517 1810
y FF(2)517 1885 y(4)p Black 544 1844 a FV(ctl)t F4([)p
FV(p)s F4(])65 b(=)23 b(\\)p FD(done)p F4(")544 1894
y FV(buf)9 b F4([)p FV(p)s F4(])50 b(=)23 b FV(NoV)m(al)544
1944 y(mem)s F4([)p FV(a)s F4(])g(=)g FV(v)p Black 884
1810 a FF(3)884 1885 y(5)923 1855 y FJ(Rsp)r FS(\()p
FJ(p)r FS(\))941 1894 y F0(\000)-6 b(!)1038 1810 y FF(2)1038
1885 y(4)p Black -41 x FV(ctl)t F4([)p FV(p)s F4(])64
b(=)24 b(\\)p FD(rdy)p F4(")1066 1894 y FV(buf)9 b F4([)p
FV(p)s F4(])49 b(=)24 b FV(NoV)m(al)1066 1944 y(mem)s
F4([)p FV(a)s F4(])e(=)i FV(v)p Black 1398 1810 a FF(3)1398
1885 y(5)208 2019 y F4(A)15 b FV(R)n(e)n(q)t F4(\()p
FV(p)s F4(\))g(step)h(represen)o(ts)i(the)d(issuing)g(of)g(a)f(request)
j(b)o(y)e(pro)q(cessor)i FV(p)s F4(.)k(It)16 b(is)f(enabled)208
2068 y(when)h FV(ctl)t F4([)p FV(p)s F4(])e(=)i(\\)p
FD(rdy)p F4(";)h(it)f(sets)h FV(ctl)t F4([)p FV(p)s F4(])e(to)h(\\)p
FD(busy)p F4(")h(and)f(sets)h FV(buf)9 b F4([)p FV(p)s
F4(])15 b(to)h(the)h(request.)27 b(A)208 2118 y FV(Do)s
F4(\()p FV(p)s F4(\))17 b(step)i(represen)o(ts)h(the)e(memory)d
(access;)21 b(it)c(is)g(enabled)h(when)g FV(ctl)t F4([)p
FV(p)s F4(])f(=)g(\\)p FD(busy)p F4(")208 2168 y(and)11
b(it)h(sets)h FV(ctl)t F4([)p FV(p)s F4(])d(to)i(\\)p
FD(done)p F4(")g(and)g FV(buf)d F4([)p FV(p)s F4(])h(to)i(the)g(resp)q
(onse.)20 b(A)11 b FV(Rsp)s F4(\()p FV(p)s F4(\))h(step)h(represen)o
(ts)208 2218 y(the)g(memory's)c(resp)q(onse)15 b(to)d
FV(p)s F4(;)g(it)g(is)h(enabled)f(when)h FV(ctl)t F4([)p
FV(p)s F4(])d(=)i(\\)p FD(done)p F4(")h(and)f(it)h(sets)g
FV(ctl)t F4([)p FV(p)s F4(])208 2268 y(to)g(\\)p FD(rdy)p
F4(")q(.)270 2317 y(W)m(riting)h(the)j(sp)q(eci\014cation)f(is)g(a)g
(straigh)o(tforw)o(ard)f(exercise)i(in)f(represen)o(ting)h(these)208
2367 y(c)o(hanges)j(to)f(the)i(v)n(ariables)e(in)g(TLA)820
2352 y FS(+)860 2367 y F4(notation.)35 b(The)20 b(in)o(ternal)f(sp)q
(eci\014cation,)i(with)208 2417 y FV(mem)s F4(,)16 b
FV(ctl)t F4(,)f(and)h FV(buf)25 b F4(visible)15 b(\(free)i(v)n
(ariables\),)e(app)q(ears)i(in)f(mo)q(dule)e FV(InternalMemory)208
2467 y F4(on)i(the)i(follo)o(wing)d(t)o(w)o(o)h(pages.)29
b(The)17 b(memory)e(sp)q(eci\014cation,)j(whic)o(h)f(hides)h(the)g
(three)208 2517 y(in)o(ternal)13 b(v)n(ariables,)g(is)g(mo)q(dule)g
FV(Memory)18 b F4(in)13 b(Figure)h(5.3)f(on)h(page)f(53.)p
Black Black eop
%%Page: 52 70
52 69 bop Black 208 275 a F4(52)986 b FR(CHAPTER)14 b(5.)32
b(A)14 b(CA)o(CHING)g(MEMOR)m(Y)p 208 282 1770 2 v Black
Black Black Black 188 519 2 25 v 190 496 490 2 v 694
503 a FP(module)i FV(InternalMemory)p 1174 496 V 1664
519 2 25 v Black Black 208 578 a FP(extends)g FV(MemoryInterfac)n(e)208
628 y FP(v)l(ariables)h FV(mem)s FQ(;)7 b FV(ctl)t FQ(;)g
FV(buf)p 188 682 V 190 671 1475 2 v 1665 681 2 25 v 208
728 a(IInit)333 704 y FI(\001)328 728 y F4(=)p .95 TeXcolorgray
.95 TeXcolorgray 429 748 333 57 v .95 TeXcolorgray Black
77 w FZ(The)12 b(initial)e(predicate)p .95 TeXcolorgray
Black 250 785 a F0(^)15 b FV(mem)f F0(2)d F4([)p FV(A)n(dr)k
F0(!)c FV(V)m(al)t F4(])250 835 y F0(^)k FV(ctl)g F4(=)d([)p
FV(p)i F0(2)d FV(Pr)n(o)n(c)i F0(7!)e F4(\\)p FD(rdy)p
F4(")q(])250 885 y F0(^)k FV(buf)20 b F4(=)12 b([)p FV(p)i
F0(2)d FV(Pr)n(o)n(c)i F0(7!)f FV(NoV)m(al)t F4(])250
935 y F0(^)j FV(memInt)g F0(2)c FV(InitMemInt)p .95 TeXcolorgray
.95 TeXcolorgray 807 955 800 206 v .95 TeXcolorgray Black
815 785 a FZ(Initially)m(,)e(memory)h(lo)q(cations)f(ha)o(v)o(e)h(an)o
(y)h(v)n(alues)f(in)h FY(V)m(al)s FZ(,)815 835 y(eac)o(h)g(pro)q
(cessor)e(is)j(ready)e(to)h(issue)f(requests,)815 885
y(eac)o(h)h FY(buf)c FZ([)p FY(p)r FZ(])12 b(is)f(arbitrarily)e
(initialized)g(to)i FY(NoV)m(al)s FZ(,)815 935 y(and)g
FY(memInt)k FZ(is)d(an)o(y)e(elemen)o(t)g(of)h FY(InitMemInt)s
FZ(.)p .95 TeXcolorgray Black 208 1025 a FV(T)m(yp)n(eInvariant)504
1001 y FI(\001)499 1025 y F4(=)p .95 TeXcolorgray .95
TeXcolorgray 600 1045 496 57 v .95 TeXcolorgray Black
77 w FZ(The)h(t)o(yp)q(e-correct)o(ness)c(in)o(v)n(arian)o(t.)p
.95 TeXcolorgray Black 250 1083 a F0(^)15 b FV(mem)f
F0(2)d F4([)p FV(A)n(dr)k F0(!)c FV(V)m(al)t F4(])250
1133 y F0(^)k FV(ctl)g F0(2)c F4([)p FV(Pr)n(o)n(c)i
F0(!)e(f)p F4(\\)p FD(rdy)p F4(")p FQ(;)c F4(\\)p FD(busy)p
F4(")p FQ(;)g F4(\\)p FD(done)p F4(")p F0(g)p F4(])250
1182 y F0(^)15 b FV(buf)20 b F0(2)11 b F4([)p FV(Pr)n(o)n(c)i
F0(!)e FV(MR)n(e)n(q)j F0([)9 b FV(V)m(al)k F0([)8 b(f)p
FV(NoV)m(al)t F0(g)p F4(])p .95 TeXcolorgray .95 TeXcolorgray
1031 1202 601 156 v .95 TeXcolorgray Black 1039 1083
a FY(mem)15 b FZ(is)c(a)h(function)d(from)h FY(A)n(dr)17
b FZ(to)11 b FY(V)m(al)s FZ(.)1039 1133 y FY(ctl)s FZ([)p
FY(p)r FZ(])h(equals)e(\\)p Fv(rdy)p FZ(",)h(\\)p Fv(busy)p
FZ(",)h(or)f(\\)p Fv(done)p FZ(")o(.)1039 1182 y FY(buf)c
FZ([)p FY(p)r FZ(])12 b(is)g(a)f(request)f(or)h(a)g(resp)q(onse.)p
.95 TeXcolorgray Black 208 1272 a FV(R)n(e)n(q)t F4(\()p
FV(p)s F4(\))371 1249 y FI(\001)366 1272 y F4(=)p .95
TeXcolorgray .95 TeXcolorgray 467 1293 457 57 v .95 TeXcolorgray
Black 77 w FZ(Pro)q(cessor)f FY(p)k FZ(issues)d(a)g(request.)p
.95 TeXcolorgray Black 250 1330 a F0(^)k FV(ctl)t F4([)p
FV(p)s F4(])10 b(=)i(\\)p FD(rdy)p F4(")p .95 TeXcolorgray
.95 TeXcolorgray 573 1350 639 57 v .95 TeXcolorgray Black
42 w FZ(Enabled)e(i\013)h FY(p)j FZ(is)e(ready)e(to)h(issue)f(a)i
(request.)p .95 TeXcolorgray Black 250 1388 a F0(^)j(9)7
b FV(r)n(e)n(q)14 b F0(2)d FV(MR)n(e)n(q)23 b F4(:)p
.95 TeXcolorgray .95 TeXcolorgray 616 1408 348 57 v .95
TeXcolorgray Black 60 w FZ(F)m(or)12 b(some)e(request)g
FY(r)n(e)n(q)s FZ(:)p .95 TeXcolorgray Black 335 1446
a F0(^)k FV(Send)t F4(\()p FV(p)s FQ(;)h FV(r)n(e)n(q)t
FQ(;)e FV(memInt)t FQ(;)g FV(memInt)928 1431 y FH(0)940
1446 y F4(\))335 1496 y F0(^)h FV(buf)440 1481 y FH(0)464
1496 y F4(=)d([)p FV(buf)24 b FP(ex)o(cept)c F4(!)s([)p
FV(p)s F4(])10 b(=)i FV(r)n(e)n(q)t F4(])335 1545 y F0(^)i
FV(ctl)425 1530 y FH(0)448 1545 y F4(=)e([)p FV(ctl)19
b FP(ex)o(cept)g F4(!)s([)p FV(p)s F4(])11 b(=)h(\\)p
FD(busy)p F4("])p .95 TeXcolorgray .95 TeXcolorgray 1012
1566 413 156 v .95 TeXcolorgray Black 1020 1446 a FZ(Send)e
FY(r)n(e)n(q)16 b FZ(on)11 b(the)g(in)o(terface.)1020
1496 y(Set)g FY(buf)c FZ([)p FY(p)r FZ(])12 b(to)f(the)g(request.)1020
1545 y(Set)g FY(ctl)s FZ([)p FY(p)r FZ(])h(to)f(\\)p
Fv(busy)p FZ(".)p .95 TeXcolorgray Black 250 1595 a F0(^)k
FP(unchanged)i FV(mem)208 1685 y(Do)s F4(\()p FV(p)s
F4(\))358 1662 y FI(\001)353 1685 y F4(=)p .95 TeXcolorgray
.95 TeXcolorgray 454 1706 506 57 v .95 TeXcolorgray Black
78 w FZ(P)o(erform)10 b FY(p)r FZ('s)h(request)f(to)h(memory)m(.)p
.95 TeXcolorgray Black 250 1743 a F0(^)k FV(ctl)t F4([)p
FV(p)s F4(])10 b(=)i(\\)p FD(busy)p F4(")p .95 TeXcolorgray
.95 TeXcolorgray 596 1763 543 57 v .95 TeXcolorgray Black
42 w FZ(Enabled)e(i\013)h FY(p)r FZ('s)h(request)e(is)h(p)q(ending.)p
.95 TeXcolorgray Black 250 1801 a F0(^)k FV(mem)383 1786
y FH(0)406 1801 y F4(=)d FP(if)23 b FV(buf)9 b F4([)p
FV(p)s F4(])p FQ(:)p FV(op)k F4(=)f(\\)p FD(W)o(r)p F4(")483
1851 y FP(then)24 b F4([)p FV(mem)18 b FP(ex)o(cept)662
1901 y F4(!)s([)p FV(buf)9 b F4([)p FV(p)s F4(])p FQ(:)p
FV(adr)t F4(])g(=)j FV(buf)d F4([)p FV(p)s F4(])p FQ(:)p
FV(val)t F4(])483 1958 y FP(else)36 b FV(mem)p .95 TeXcolorgray
.95 TeXcolorgray 729 1979 668 57 v .95 TeXcolorgray Black
45 w FZ(Lea)o(v)o(e)11 b FY(mem)k FZ(unc)o(hanged)8 b(on)j(a)h(\\)p
Fv(Rd)p FZ(")f(request.)p .95 TeXcolorgray Black .95
TeXcolorgray .95 TeXcolorgray 1163 1910 361 96 v .95
TeXcolorgray Black 1172 1851 a(W)m(rite)g(to)g(memory)e(on)i(a)1172
1890 y(\\)p Fv(W)o(r)p FZ(")g(request.)p .95 TeXcolorgray
Black 250 2016 a F0(^)k FV(buf)355 2001 y FH(0)379 2016
y F4(=)c([)p FV(buf)25 b FP(ex)o(cept)480 2066 y F4(!)s([)p
FV(p)s F4(])10 b(=)i FP(if)23 b FV(buf)9 b F4([)p FV(p)s
F4(])p FQ(:)p FV(op)k F4(=)f(\\)p FD(W)o(r)p F4(")p .95
TeXcolorgray .95 TeXcolorgray 1079 2236 500 206 v .95
TeXcolorgray Black 116 w FZ(Set)f FY(buf)d FZ([)p FY(p)r
FZ(])j(to)g(the)g(resp)q(onse:)1123 2116 y FY(NoV)m(al)16
b FZ(for)11 b(a)h(write;)1123 2166 y(the)e(memory)g(v)n(alue)g(for)h(a)
g(read.)1087 2215 y(Set)g FY(ctl)s FZ([)p FY(p)r FZ(])h(to)f(\\)p
Fv(done)p FZ(".)p .95 TeXcolorgray Black 630 2116 a FP(then)24
b FV(NoV)m(al)630 2166 y FP(else)36 b FV(mem)s F4([)p
FV(buf)9 b F4([)p FV(p)s F4(])p FQ(:)p FV(adr)t F4(])e(])250
2215 y F0(^)15 b FV(ctl)341 2200 y FH(0)363 2215 y F4(=)d([)p
FV(ctl)19 b FP(ex)o(cept)h F4(!)s([)p FV(p)s F4(])10
b(=)i(\\)p FD(done)p F4("])250 2265 y F0(^)j FP(unchanged)i
FV(memInt)p Black 365 2382 a FU(Figure)d(5.2a:)19 b F4(The)c(in)o
(ternal)e(memory)e(sp)q(eci\014cation)k(\(b)q(eginning\).)p
Black Black Black Black eop
%%Page: 53 71
53 70 bop Black 208 275 a FR(5.4.)30 b(TUPLES)15 b(AS)f(FUNCTIONS)1133
b F4(53)p 208 282 1770 2 v Black Black Black Black 208
392 a FV(Rsp)s F4(\()p FV(p)s F4(\))374 368 y FI(\001)369
392 y F4(=)p .95 TeXcolorgray .95 TeXcolorgray 428 412
560 57 v .95 TeXcolorgray Black 35 w FZ(Return)10 b(the)h(resp)q(onse)f
(to)h FY(p)r FZ('s)g(request.)p .95 TeXcolorgray Black
250 449 a F0(^)k FV(ctl)t F4([)p FV(p)s F4(])10 b(=)i(\\)p
FD(done)p F4(")250 499 y F0(^)j FV(R)n(eply)t F4(\()p
FV(p)s FQ(;)e FV(buf)c F4([)p FV(p)s F4(])p FQ(;)j FV(memInt)t
FQ(;)h FV(memInt)909 484 y FH(0)921 499 y F4(\))250 549
y F0(^)i FV(ctl)341 534 y FH(0)363 549 y F4(=)d([)p FV(ctl)19
b FP(ex)o(cept)h F4(!)s([)p FV(p)s F4(])10 b(=)i(\\)p
FD(rdy)p F4("])250 599 y F0(^)j FP(unchanged)i F0(h)s
FV(mem)s FQ(;)7 b FV(buf)12 b F0(i)p .95 TeXcolorgray
.95 TeXcolorgray 971 569 670 156 v .95 TeXcolorgray Black
980 449 a FZ(Enabled)d(i\013)i(req.)g(is)h(done)e(but)h(resp.)f(not)h
(sen)o(t.)980 499 y(Send)f(the)h(resp)q(onse)e(on)i(the)g(in)o
(terface.)980 549 y(Set)f FY(ctl)s FZ([)p FY(p)r FZ(])j(to)e(\\)p
Fv(rdy)p FZ(".)p .95 TeXcolorgray Black 208 689 a FV(INext)350
665 y FI(\001)345 689 y F4(=)35 b F0(9)7 b FV(p)14 b
F0(2)e FV(Pr)n(o)n(c)20 b F4(:)e FV(R)n(e)n(q)t F4(\()p
FV(p)s F4(\))9 b F0(_)g FV(Do)s F4(\()p FV(p)s F4(\))h
F0(_)f FV(Rsp)s F4(\()p FV(p)s F4(\))p .95 TeXcolorgray
.95 TeXcolorgray 1138 709 359 57 v .95 TeXcolorgray Black
42 w FZ(The)j(next-state)d(action.)p .95 TeXcolorgray
Black 208 779 a FV(ISp)n(e)n(c)344 756 y FI(\001)339
779 y F4(=)35 b FV(IInit)20 b F0(^)c FG(2)p F4([)p FV(INext)t
F4(])710 786 y FH(h)s FJ(memInt)s Fy(;)t FJ(mem)s Fy(;)t
FJ(ctl)s Fy(;)t FJ(buf)10 b FH(i)p .95 TeXcolorgray .95
TeXcolorgray 1106 799 289 57 v .95 TeXcolorgray Black
1114 779 a FZ(The)i(sp)q(eci\014cation)o(.)p .95 TeXcolorgray
Black 188 827 2 25 v 190 816 1475 2 v 1665 826 2 25 v
208 864 a FP(theorem)k FV(ISp)n(e)n(c)e F0(\))d FG(2)p
FV(T)m(yp)n(eInvariant)p 188 907 V 190 907 1475 2 v 1665
907 2 25 v Black 419 997 a FU(Figure)k(5.2b:)j F4(The)c(in)o(ternal)g
(memory)d(sp)q(eci\014cation)k(\(end\).)p Black Black
208 1123 a FN(5.4)81 b(T)-7 b(uples)26 b(as)h(F)-7 b(unctions)208
1214 y F4(Before)15 b(writing)g(our)f(cac)o(hing)h(memory)e(sp)q
(eci\014cation,)i(let's)g(tak)o(e)g(a)f(closer)i(lo)q(ok)e(at)h(tu-)208
1264 y(ples.)j(Recall)12 b(that)h F0(h)s FV(a)s FQ(;)7
b FV(b)s FQ(;)g FV(c)f F0(i)13 b F4(is)f(the)i(3-tuple)f(with)g(comp)q
(onen)o(ts)f FV(a)s F4(,)h FV(b)s F4(,)g(and)g FV(c)r
F4(.)18 b(In)13 b(TLA)1614 1249 y FS(+)1634 1264 y F4(,)208
1314 y(this)f(3-tuple)h(is)f(actually)g(the)h(function)f(with)h(domain)
d F0(f)p F4(1)p FQ(;)d F4(2)p FQ(;)g F4(3)p F0(g)j F4(that)j(maps)e(1)h
(to)h FV(a)s F4(,)g(2)f(to)208 1364 y FV(b)s F4(,)h(and)g(3)h(to)g
FV(c)r F4(.)k(Th)o(us,)c F0(h)s FV(a)s FQ(;)7 b FV(b)s
FQ(;)g FV(c)f F0(i)p F4([2])12 b(equals)i FV(b)s F4(.)270
1414 y(TLA)357 1399 y FS(+)392 1414 y F4(pro)o(vides)h(the)g(Cartesian)
f(pro)q(duct)i(op)q(erator)f F0(\002)g F4(of)f(ordinary)g(mathematics,)
208 1463 y(where)g FV(A)9 b F0(\002)f FV(B)13 b F0(\002)c
FV(C)19 b F4(is)14 b(the)g(set)g(of)f(all)f(3-tuples)i
F0(h)s FV(a)s FQ(;)7 b FV(b)s FQ(;)g FV(c)f F0(i)13 b
F4(suc)o(h)h(that)g FV(a)h F0(2)c FV(A)p F4(,)i FV(b)h
F0(2)d FV(B)t F4(,)j(and)208 1513 y FV(c)g F0(2)d FV(C)6
b F4(.)18 b(Note)c(that)g FV(A)9 b F0(\002)h FV(B)k F0(\002)9
b FV(C)20 b F4(is)14 b(di\013eren)o(t)h(from)d FV(A)d
F0(\002)h F4(\()p FV(B)j F0(\002)d FV(C)c F4(\),)13 b(whic)o(h)h(is)g
(the)h(set)f(of)208 1563 y(pairs)f F0(h)s FV(a)s FQ(;)7
b FV(p)f F0(i)15 b F4(with)f FV(a)j F4(in)c FV(A)h F4(and)g
FV(p)i F4(in)e(the)g(set)h(of)e(pairs)h FV(B)g F0(\002)9
b FV(C)d F4(.)270 1613 y(The)18 b FV(Se)n(quenc)n(es)23
b F4(mo)q(dule)16 b(de\014nes)k(\014nite)e(sequences)j(to)d(b)q(e)g
(tuples.)31 b(Hence,)20 b(a)e(se-)208 1663 y(quence)d(of)f(length)g
FV(n)k F4(is)c(a)g(function)g(with)g(domain)e(1)h FQ(:)7
b(:)13 b FV(n)s F4(.)20 b(In)14 b(fact,)g FV(s)k F4(is)c(a)g(sequence)i
(i\013)208 1712 y(it)c(equals)h([)p FV(i)i F0(2)c F4(1)j
FQ(:)7 b(:)12 b FV(L)n(en)s F4(\()p FV(s)s F4(\))h F0(7!)e
FV(s)s F4([)p FV(i)t F4(])r(])6 b(.)18 b(Belo)o(w)12
b(are)i(a)e(few)h(op)q(erator)g(de\014nitions)g(from)e(the)208
1762 y FV(Se)n(quenc)n(es)k F4(mo)q(dule.)g(\(The)d(meanings)d(of)h
(the)h(op)q(erators)h(are)f(describ)q(ed)i(in)d(Section)h(4.1.\))p
Black Black 332 1852 a FV(He)n(ad)t F4(\()p FV(s)s F4(\))507
1828 y FI(\001)502 1852 y F4(=)24 b FV(s)s F4([1])332
1916 y FV(T)m(ail)t F4(\()p FV(s)s F4(\))507 1892 y FI(\001)502
1916 y F4(=)g([)p FV(i)15 b F0(2)c F4(1)j FQ(:)7 b(:)12
b F4(\()p FV(L)n(en)s F4(\()p FV(s)s F4(\))f F0(\000)e
F4(1\))j F0(7!)f FV(s)s F4([)p FV(i)i F4(+)d(1]])332
1980 y FV(s)j F0(\016)c FV(t)507 1957 y FI(\001)502 1980
y F4(=)24 b([)p FV(i)15 b F0(2)c F4(1)j FQ(:)7 b(:)12
b F4(\()p FV(L)n(en)s F4(\()p FV(s)s F4(\))f(+)e FV(L)n(en)s
F4(\()p FV(t)t F4(\)\))k F0(7!)611 2033 y FP(if)23 b
FV(i)15 b F0(\024)d FV(L)n(en)s F4(\()p FV(s)s F4(\))23
b FP(then)h FV(s)s F4([)p FV(i)t F4(])f FP(else)g FV(t)t
F4([)p FV(i)13 b F0(\000)c FV(L)n(en)s F4(\()p FV(s)s
F4(\)])e(])p Black Black Black 188 2159 V 190 2136 564
2 v 767 2143 a FP(module)15 b FV(Memory)p 1101 2136 V
1665 2159 2 25 v Black Black 208 2218 a FP(extends)h
FV(MemoryInterfac)n(e)208 2279 y(Inner)t F4(\()p FV(mem)s
FQ(;)7 b FV(ctl)t FQ(;)g FV(buf)h F4(\))621 2256 y FI(\001)616
2279 y F4(=)35 b FP(inst)m(ance)16 b FV(InternalMemory)208
2344 y(Sp)n(e)n(c)328 2320 y FI(\001)323 2344 y F4(=)390
2342 y F0(9)-22 b(9)g(9)390 2344 y(9)g(9)g(9)7 b FV(mem)s
FQ(;)g FV(ctl)t FQ(;)g FV(buf)26 b F4(:)18 b FV(Inner)t
F4(\()p FV(mem)s FQ(;)7 b FV(ctl)t FQ(;)g FV(buf)i F4(\))s(!)s
FV(ISp)n(e)n(c)p 188 2373 V 190 2373 1475 2 v 1665 2373
2 25 v Black 565 2463 a FU(Figure)14 b(5.3:)19 b F4(The)14
b(memory)d(sp)q(eci\014cation.)p Black Black Black Black
eop
%%Page: 54 72
54 71 bop Black 208 275 a F4(54)986 b FR(CHAPTER)14 b(5.)32
b(A)14 b(CA)o(CHING)g(MEMOR)m(Y)p 208 282 1770 2 v Black
208 400 a FN(5.5)81 b(Recursiv)n(e)25 b(F)-7 b(unction)27
b(De\014nitions)208 491 y F4(W)m(e)18 b(need)h(one)g(more)f(to)q(ol)f
(to)i(write)g(the)g(cac)o(hing)f(memory)e(sp)q(eci\014cation:)28
b(recursiv)o(e)208 540 y(function)12 b(de\014nitions.)18
b(Recursiv)o(ely)13 b(de\014ned)h(functions)f(are)g(familia)o(r)e(to)h
(programmers.)208 590 y(The)18 b(classic)g(example)e(is)h(the)i
(factorial)d(function,)i(whic)o(h)f(I'll)f(call)h FV(fact)t
F4(.)29 b(It's)18 b(usually)208 640 y(de\014ned)d(b)o(y)e(writing)p
Black Black 332 723 a FV(fact)t F4([)p FV(n)s F4(])34
b(=)h FP(if)23 b FV(n)15 b F4(=)d(0)21 b FP(then)j F4(1)f
FP(else)h FV(n)13 b F0(\003)c FV(fact)t F4([)p FV(n)j
F0(\000)d F4(1])208 806 y(for)17 b(all)f FV(n)21 b F0(2)c
FV(Nat)t F4(.)29 b(The)18 b(TLA)712 791 y FS(+)750 806
y F4(notation)f(for)g(writing)g(functions)g(suggests)i(trying)e(to)208
856 y(de\014ne)d FV(fact)k F4(b)o(y)p Black Black 332
943 a FV(fact)442 920 y FI(\001)437 943 y F4(=)35 b([)p
FV(n)15 b F0(2)c FV(Nat)k F0(7!)c FP(if)24 b FV(n)15
b F4(=)c(0)22 b FP(then)i F4(1)f FP(else)h FV(n)12 b
F0(\003)d FV(fact)t F4([)p FV(n)j F0(\000)e F4(1])o(])208
1037 y(This)15 b(de\014nition)f(is)h(illegal)e(b)q(ecause)k(the)f(o)q
(ccurrence)i(of)c FV(fact)19 b F4(to)c(the)h(righ)o(t)e(of)h(the)1575
1014 y FI(\001)1571 1037 y F4(=)g(is)208 1087 y(unde\014ned|)p
FV(fact)j F4(is)c(de\014ned)h(only)e(after)h(its)g(de\014nition.)270
1137 y(TLA)357 1122 y FS(+)394 1137 y F4(do)q(es)k(allo)o(w)d(the)j
(apparen)o(t)f(circularit)o(y)g(of)f(recursiv)o(e)j(function)d
(de\014nitions.)208 1187 y(W)m(e)d(can)h(de\014ne)h(the)g(factorial)d
(function)i FV(fact)j F4(b)o(y)p Black Black 332 1274
a FV(fact)t F4([)p FV(n)d F0(2)e FV(Nat)t F4(])612 1250
y FI(\001)608 1274 y F4(=)34 b FP(if)24 b FV(n)15 b F4(=)c(0)22
b FP(then)i F4(1)f FP(else)h FV(n)12 b F0(\003)d FV(fact)t
F4([)p FV(n)j F0(\000)e F4(1])208 1368 y(In)g(general,)g(a)g
(de\014nition)g(of)f(the)i(form)d FV(f)h F4([)p FV(x)16
b F0(2)11 b FV(S)5 b F4(])995 1344 y FI(\001)991 1368
y F4(=)18 b FV(e)c F4(can)c(b)q(e)h(used)g(to)f(de\014ne)h(recursiv)o
(ely)208 1418 y(a)i(function)h FV(f)22 b F4(with)14 b(domain)d
FV(S)5 b F4(.)270 1468 y(The)13 b(function)g(de\014nition)g(notation)f
(has)h(a)g(straigh)o(tforw)o(ard)f(generalization)h(to)g(def-)208
1517 y(initions)f(of)i(functions)g(of)f(m)o(ultiple)e(argumen)o(ts.)18
b(F)m(or)13 b(example,)p Black Black 332 1605 a FV(A)n(cker)t
F4([)p FV(m)s FQ(;)g FV(n)i F0(2)c FV(Nat)t F4(])712
1581 y FI(\001)707 1605 y F4(=)415 1658 y FP(if)23 b
FV(m)15 b F4(=)d(0)21 b FP(then)j FV(n)13 b F4(+)c(1)608
1708 y FP(else)36 b(if)23 b FV(n)15 b F4(=)d(0)21 b FP(then)j
FV(A)n(cker)t F4([)p FV(m)12 b F0(\000)d F4(1)p FQ(;)14
b F4(0])912 1761 y FP(else)36 b FV(A)n(cker)t F4([)p
FV(m)12 b F0(\000)d F4(1)p FQ(;)14 b FV(A)n(cker)t F4([)p
FV(m)s FQ(;)f FV(n)f F0(\000)e F4(1]])208 1844 y(de\014nes)15
b FV(A)n(cker)t F4([)p FV(m)s FQ(;)e FV(n)s F4(])h(for)f(all)g(natural)
g(n)o(um)o(b)q(ers)h FV(m)j F4(and)d FV(n)s F4(.)270
1894 y(Section)j(6.3)f(explains)g(exactly)h(what)g(recursiv)o(e)h
(de\014nitions)f(mean.)26 b(F)m(or)16 b(no)o(w,)h(w)o(e)208
1944 y(will)12 b(just)i(write)g(recursiv)o(e)i(de\014nitions)e(without)
f(w)o(orrying)g(ab)q(out)h(their)g(meaning.)208 2102
y FN(5.6)81 b(A)27 b(W)-7 b(rite-Through)27 b(Cac)n(he)208
2193 y F4(W)m(e)10 b(no)o(w)h(sp)q(ecify)h(a)f(simple)e(write-through)j
(cac)o(he)g(that)f(implemen)o(ts)e(the)j(memory)d(sp)q(ec-)208
2243 y(i\014cation.)16 b(The)d(system)g(is)f(describ)q(ed)j(b)o(y)d
(the)h(picture)h(of)e(Figure)g(5.4)g(on)g(the)h(next)g(page.)208
2293 y(Eac)o(h)j(pro)q(cessor)i FV(p)g F4(comm)o(unicates)c(with)i(a)f
(lo)q(cal)g(con)o(troller,)h(whic)o(h)g(main)o(tains)e(three)208
2342 y(state)g(comp)q(onen)o(ts:)j FV(buf)9 b F4([)p
FV(p)s F4(],)j FV(ctl)t F4([)p FV(p)s F4(],)f(and)j FV(c)n(ache)s
F4([)p FV(p)s F4(].)j(The)d(v)n(alue)f(of)f FV(c)n(ache)s
F4([)p FV(p)s F4(])h(represen)o(ts)208 2392 y(the)19
b(pro)q(cessor's)h(cac)o(he;)i FV(buf)9 b F4([)p FV(p)s
F4(])17 b(and)i FV(ctl)t F4([)p FV(p)s F4(])e(pla)o(y)h(the)h(same)f
(role)g(as)h(in)f(the)h(in)o(ternal)208 2442 y(memory)13
b(sp)q(eci\014cation)k(\(mo)q(dule)e FV(InternalMemory)t
F4(\).)25 b(\(Ho)o(w)o(ev)o(er,)17 b(as)f(w)o(e)g(will)f(see)i(b)q(e-)
208 2492 y(lo)o(w,)g FV(ctl)t F4([)p FV(p)s F4(])f(can)h(assume)h(an)f
(additional)e(v)n(alue)i(\\)p FD(w)o(aiting)p F4(".\))29
b(These)19 b(lo)q(cal)d(con)o(trollers)p Black Black
eop
%%Page: 55 73
55 72 bop Black 208 275 a FR(5.6.)30 b(A)14 b(WRITE-THR)o(OUGH)f(CA)o
(CHE)1046 b F4(55)p 208 282 1770 2 v Black Black Black
Black 782 491 a Fx(q)782 463 y(q)782 434 y(q)p 870 633
142 2 v 870 632 a Fz(\033)p 692 579 180 2 v 692 685 2
106 v 714 641 a FB(c)n(ache)s FC([)p FB(p)r FC(])p 870
685 V 692 687 180 2 v 817 745 2 60 v 817 727 a Fz(6)p
746 745 V 747 745 a(?)p 692 745 180 2 v 692 801 2 57
v 731 783 a FB(buf)7 b FC([)p FB(p)r FC(])p 870 801 V
692 803 180 2 v 465 774 230 2 v 652 773 a Fz(-)-229 b(\033)504
766 y FB(memInt)p 870 774 142 2 v 970 773 a Fz(-)p 233
720 233 2 v 233 826 2 106 v 252 782 a FC(Pro)q(cessor)14
b FB(p)p 465 826 V 233 828 233 2 v 692 840 180 2 v 692
897 2 57 v 738 878 a(ctl)t FC([)p FB(p)r FC(])p 870 897
V 692 899 180 2 v 657 544 251 2 v 657 932 2 389 v 906
932 V 657 934 251 2 v 782 985 a Fx(q)782 1013 y(q)782
1041 y(q)p 1018 968 142 2 v 1118 967 a Fz(-)p 1336 968
V 276 w(-)p 1158 932 180 2 v 1158 1003 2 71 v 1191 976
a FB(memQ)p 1336 1003 V 1158 1005 180 2 v 1476 650 145
2 v 1476 1073 2 424 v 1489 870 a FV(wmem)p 1618 1073
V 1476 1075 145 2 v 1018 756 459 2 v 1018 755 a Fz(\033)1029
433 y FC(bus)p 1010 1108 4 741 v 1011 1108 V 1013 1108
V 1014 1108 V 1015 1108 V Black 576 1216 a FU(Figure)g(5.4:)19
b F4(The)14 b(write-through)g(cac)o(he.)p Black Black
208 1327 a(comm)o(uni)o(cate)c(with)i(the)h(main)d(memory)g
FV(wmem)s F4(,)1012 1312 y FS(4)1043 1327 y F4(and)i(with)g(one)g
(another,)h(o)o(v)o(er)f(a)g(bus.)208 1377 y(Requests)17
b(from)e(the)i(pro)q(cessors)h(to)e(the)h(main)d(memory)g(are)j(in)e
(the)i(queue)h FV(memQ)h F4(of)208 1426 y(maxim)n(um)9
b(length)14 b FV(QL)n(en)s F4(.)270 1476 y(A)f(write)f(request)j(b)o(y)
d(pro)q(cessor)j FV(p)g F4(is)e(p)q(erformed)f(b)o(y)g(the)i(action)e
FV(DoWr)t F4(\()p FV(p)s F4(\).)18 b(This)13 b(is)208
1526 y(a)f(write-through)h(cac)o(he,)g(meaning)e(that)h(ev)o(ery)h
(write)g(request)h(up)q(dates)g(main)c(memory)m(.)208
1576 y(So,)g(the)h FV(DoWr)t F4(\()p FV(p)s F4(\))g(action)f(writes)h
(the)g(v)n(alue)f(in)o(to)f FV(c)n(ache)s F4([)p FV(p)s
F4(])h(and)g(adds)h(the)g(write)f(request)208 1626 y(to)k(the)h(tail)f
(of)g FV(memQ)t F4(.)20 b(When)15 b(the)g(request)h(reac)o(hes)h(the)e
(head)g(of)f FV(memQ)t F4(,)g(the)h(action)208 1676 y
FV(MemQWr)f F4(stores)e(the)f(v)n(alue)f(in)g FV(wmem)s
F4(.)17 b(The)11 b FV(DoWr)t F4(\()p FV(p)s F4(\))g(action)f(also)g(up)
q(dates)h FV(c)n(ache)s F4([)p FV(q)t F4(])208 1725 y(for)i(ev)o(ery)i
(other)f(pro)q(cessor)i FV(q)i F4(that)c(has)g(a)f(cop)o(y)h(of)f(the)i
(address)g(in)e(its)h(cac)o(he.)270 1775 y(A)i(read)h(request)h(b)o(y)e
(pro)q(cessor)j FV(p)g F4(is)d(p)q(erformed)g(b)o(y)g(the)h(action)f
FV(DoR)n(d)t F4(\()p FV(p)s F4(\),)i(whic)o(h)208 1825
y(obtains)e(the)i(v)n(alue)e(from)g(the)h(cac)o(he.)29
b(If)17 b(the)g(v)n(alue)g(is)g(not)g(in)f(the)i(cac)o(he,)h(the)e
(action)208 1875 y FV(R)n(dMiss)s F4(\()p FV(p)s F4(\))g(adds)h(the)f
(request)i(to)e(the)g(tail)f(of)g FV(memQ)21 b F4(and)c(sets)h
FV(ctl)t F4([)p FV(p)s F4(])e(to)h(\\)p FD(w)o(aiting)p
F4(")o(.)208 1925 y(When)g(the)g(enqueued)i(request)g(reac)o(hes)f(the)
g(head)f(of)g FV(memQ)t F4(,)g(the)g(action)g FV(MemQR)n(d)208
1974 y F4(reads)d(the)h(v)n(alue)e(and)h(puts)g(it)g(in)f
FV(c)n(ache)s F4([)p FV(p)s F4(],)g(enabling)g(the)i
FV(DoR)n(d)t F4(\()p FV(p)s F4(\))g(action.)270 2024
y(W)m(e)f(migh)o(t)e(exp)q(ect)k(the)f FV(MemQR)n(d)k
F4(action)14 b(to)g(read)h(the)g(v)n(alue)f(from)e FV(wmem)s
F4(.)19 b(Ho)o(w-)208 2074 y(ev)o(er,)e(this)g(could)g(cause)h(an)e
(error)i(if)e(there)i(is)e(a)h(write)g(to)f(that)h(address)h(enqueued)g
(in)208 2124 y FV(memQ)k F4(b)q(ehind)e(the)f(read)h(request.)35
b(In)19 b(that)g(case,)h(reading)f(the)h(v)n(alue)e(from)f(mem-)208
2174 y(ory)c(could)h(lead)g(to)g(t)o(w)o(o)f(pro)q(cessors)k(ha)o(ving)
c(di\013eren)o(t)i(v)n(alues)e(for)h(the)h(address)g(in)e(their)208
2223 y(cac)o(hes:)20 b(the)15 b(one)g(that)f(issued)i(the)f(read)g
(request,)h(and)e(the)h(one)g(that)f(issued)h(the)h(write)208
2273 y(request)i(that)f(follo)o(w)o(ed)e(the)j(read)f(in)f
FV(memQ)t F4(.)27 b(So,)17 b(the)g FV(MemQR)n(d)22 b
F4(action)17 b(m)o(ust)e(read)208 2323 y(the)f(v)n(alue)f(from)g(the)h
(last)g(write)g(to)g(that)g(address)i(in)d FV(memQ)t
F4(,)g(if)g(there)j(is)e(suc)o(h)g(a)g(write;)208 2373
y(otherwise,)g(it)f(reads)i(the)g(v)n(alue)e(from)f FV(wmem)s
F4(.)p Black 208 2405 576 2 v 254 2432 a FK(4)271 2443
y FZ(W)m(e)20 b(use)f(the)g(name)f FY(wmem)23 b FZ(to)c(distinguish)e
(this)i(v)n(ariable)e(from)h(v)n(ariable)g FY(mem)23
b FZ(of)c(mo)q(dule)208 2483 y FY(InternalMemory)s FZ(.)k(W)m(e)13
b(don't)g(ha)o(v)o(e)f(to,)h(since)g FY(mem)k FZ(is)d(not)f(a)g(free)g
(\(visible\))e(v)n(ariable)h(of)h(the)g(actual)208 2522
y(memory)c(sp)q(eci\014cation)f(in)j(mo)q(dule)f FY(Memory)s
FZ(,)i(but)f(it)g(helps)f(us)i(a)o(v)o(oid)e(getting)f(confused.)p
Black Black Black eop
%%Page: 56 74
56 73 bop Black 208 275 a F4(56)986 b FR(CHAPTER)14 b(5.)32
b(A)14 b(CA)o(CHING)g(MEMOR)m(Y)p 208 282 1770 2 v Black
270 391 a F4(Eviction)f(of)g(an)g(address)i(from)d(pro)q(cessor)j
FV(p)s F4('s)e(cac)o(he)i(is)e(represen)o(ted)j(b)o(y)d(a)h(separate)
208 441 y FV(Evict)t F4(\()p FV(p)s F4(\))g(action.)19
b(Since)c(all)e(cac)o(hed)i(v)n(alues)f(ha)o(v)o(e)g(b)q(een)i(written)
f(to)f(memory)m(,)d(eviction)208 491 y(do)q(es)h(nothing)f(but)h(remo)o
(v)o(e)f(the)h(address)h(from)d(the)i(cac)o(he.)19 b(There)12
b(is)g(no)g(reason)g(to)f(evict)208 541 y(an)h(address)i(un)o(til)d
(the)i(space)h(is)e(needed,)i(so)f(in)f(an)g(implemen)o(tation,)d(this)
k(action)f(w)o(ould)208 591 y(b)q(e)g(executed)j(only)c(when)i(a)f
(request)i(for)e(an)g(uncac)o(hed)h(address)h(is)e(receiv)o(ed)h(from)e
FV(p)k F4(and)208 640 y FV(p)s F4('s)h(cac)o(he)j(is)e(full.)27
b(But)17 b(that's)h(a)f(p)q(erformance)g(optimization;)e(it)i(do)q
(esn't)h(a\013ect)g(the)208 690 y(correctness)e(of)d(the)h(algorithm,)c
(so)j(it)g(do)q(esn't)h(app)q(ear)g(in)f(the)h(sp)q(eci\014cation.)19
b(W)m(e)13 b(allo)o(w)208 740 y(a)e(cac)o(hed)i(address)g(to)f(b)q(e)g
(evicted)h(from)d FV(p)s F4('s)h(cac)o(he)i(at)f(an)o(y)f(time|except)g
(if)g(the)i(address)208 790 y(w)o(as)19 b(just)g(put)g(there)i(b)o(y)e
(a)f FV(MemQR)n(d)24 b F4(action)19 b(for)g(a)g(read)g(request)i(whose)
f FV(DoR)n(d)t F4(\()p FV(p)s F4(\))208 840 y(action)11
b(has)i(not)f(y)o(et)h(b)q(een)g(p)q(erformed.)k(This)12
b(is)g(the)h(case)g(when)g FV(ctl)t F4([)p FV(p)s F4(])e(equals)h(\\)p
FD(w)o(aiting)p F4(")208 889 y(and)h FV(buf)c F4([)p
FV(p)s F4(])p FQ(:)p FV(adr)17 b F4(equals)d(the)g(cac)o(hed)h
(address.)270 939 y(The)10 b(actions)h FV(R)n(e)n(q)t
F4(\()p FV(p)s F4(\))f(and)g FV(Rsp)s F4(\()p FV(p)s
F4(\),)g(whic)o(h)g(represen)o(t)j(pro)q(cessor)f FV(p)h
F4(issuing)c(a)h(request)208 989 y(and)i(the)i(memory)d(issuing)h(a)h
(reply)g(to)g FV(p)s F4(,)g(are)g(the)h(same)e(as)h(the)h(corresp)q
(onding)g(actions)208 1039 y(of)d(the)i(memory)d(sp)q(eci\014cation,)j
(except)h(that)e(they)h(also)f(lea)o(v)o(e)g(the)h(new)g(v)n(ariables)e
FV(c)n(ache)208 1089 y F4(and)i FV(memQ)18 b F4(unc)o(hanged,)c(and)f
(they)i(lea)o(v)o(e)e(unc)o(hanged)i FV(vmem)i F4(instead)d(of)f
FV(mem)s F4(.)270 1139 y(T)m(o)j(sp)q(ecify)h(all)f(these)i(actions,)f
(w)o(e)g(m)o(ust)f(decide)i(ho)o(w)e(the)h(pro)q(cessor)i(cac)o(hes)f
(and)208 1188 y(the)f(queue)g(of)g(requests)h(to)f(memory)d(are)j
(represen)o(ted)j(b)o(y)c(the)i(v)n(ariables)e FV(memQ)k
F4(and)208 1238 y FV(c)n(ache)s F4(.)k(W)m(e)15 b(let)h
FV(memQ)j F4(b)q(e)e(a)e(sequence)j(of)d(pairs)h(of)f(the)h(form)e
F0(h)s FV(p)s FQ(;)7 b FV(r)n(e)n(q)g F0(i)p F4(,)15
b(where)i FV(r)n(e)n(q)i F4(is)208 1288 y(a)14 b(request)j(and)d
FV(p)k F4(is)d(the)g(pro)q(cessor)i(that)e(issued)h(it.)k(F)m(or)15
b(an)o(y)f(memory)e(address)17 b FV(a)s F4(,)e(w)o(e)208
1338 y(let)h FV(c)n(ache)s F4([)p FV(p)s F4(][)p FV(a)s
F4(])g(b)q(e)i(the)f(v)n(alue)f(in)h FV(p)s F4('s)f(cac)o(he)i(for)e
(address)i FV(a)j F4(\(the)c(\\cop)o(y")f(of)h FV(a)j
F4(in)c FV(p)s F4('s)208 1388 y(cac)o(he\).)j(If)13 b
FV(p)s F4('s)h(cac)o(he)h(do)q(es)f(not)g(ha)o(v)o(e)g(a)f(cop)o(y)h
(of)f FV(a)s F4(,)h(w)o(e)g(let)g FV(c)n(ache)s F4([)p
FV(p)s F4(][)p FV(a)s F4(])f(equal)h FV(NoV)m(al)t F4(.)270
1437 y(The)19 b(sp)q(eci\014cation)g(app)q(ears)g(in)g(mo)q(dule)e
FV(WriteThr)n(oughCache)k F4(on)e(pages)g(57{59.)208
1487 y(I'll)c(no)o(w)i(go)f(through)h(this)g(sp)q(eci\014cation,)h
(explaining)e(some)g(of)h(the)g(\014ner)h(p)q(oin)o(ts)f(and)208
1537 y(some)c(notation)g(that)h(w)o(e)g(ha)o(v)o(en't)f(encoun)o(tered)
j(b)q(efore.)270 1587 y(The)j FP(extends)p F4(,)h(declaration)e
(statemen)o(ts,)h(and)g FP(assume)g F4(are)g(familia)o(r.)30
b(W)m(e)18 b(can)208 1637 y(reuse)13 b(some)f(of)g(the)h(de\014nitions)
f(from)e(the)j FV(InternalMemory)j F4(mo)q(dule,)11 b(so)h(an)h
FP(inst)m(ance)208 1686 y F4(statemen)o(t)g(instan)o(tiates)h(a)g(cop)o
(y)f(of)h(that)f(mo)q(dule)g(with)g FV(wmem)k F4(substituted)e(for)e
FV(mem)s F4(.)208 1736 y(\(The)j(other)h(parameters)f(of)g(mo)q(dule)e
FV(InternalMemory)20 b F4(are)d(instan)o(tiated)f(b)o(y)g(the)g(pa-)208
1786 y(rameters)e(of)f(the)h(same)f(name)g(in)h(mo)q(dule)e
FV(WriteThr)n(oughCache)s F4(.\))270 1836 y(The)i(initial)e(predicate)j
FV(Init)j F4(con)o(tains)c(the)g(conjunct)h FV(M)10 b
F4(!)s FV(IInit)t F4(,)j(whic)o(h)h(asserts)i(that)208
1886 y FV(ctl)g F4(and)d FV(buf)21 b F4(ha)o(v)o(e)13
b(the)g(same)f(initial)f(v)n(alues)h(as)h(in)g(the)g(in)o(ternal)f
(memory)f(sp)q(eci\014cation,)208 1936 y(and)16 b(that)h
FV(wmem)j F4(has)d(the)g(same)f(initial)f(v)n(alue)h(as)h
FV(mem)j F4(do)q(es)d(in)g(that)g(sp)q(eci\014cation.)208
1985 y(The)d(write-through)g(cac)o(he)h(allo)o(ws)e FV(ctl)t
F4([)p FV(p)s F4(])g(to)g(ha)o(v)o(e)h(the)h(v)n(alue)e(\\)p
FD(w)o(aiting)p F4(")h(that)g(it)g(didn't)208 2035 y(in)i(the)i(in)o
(ternal)e(memory)f(sp)q(eci\014cation,)j(so)f(w)o(e)g(can't)g(reuse)h
(the)g(in)o(ternal)e(memory's)208 2085 y(t)o(yp)q(e)k(in)o(v)n(arian)o
(t)e FV(M)10 b F4(!)s FV(T)m(yp)n(eInvariant)t F4(.)36
b(F)m(orm)o(ula)17 b FV(T)m(yp)n(eInvariant)24 b F4(therefore)d
(explicitly)208 2135 y(describ)q(es)e(the)g(t)o(yp)q(es)g(of)e
FV(wmem)s F4(,)h FV(ctl)t F4(,)g(and)g FV(buf)9 b F4(.)29
b(The)19 b(t)o(yp)q(e)f(of)f FV(memQ)22 b F4(is)17 b(the)i(set)f(of)208
2185 y(sequences)e(of)k F0(h)s F4(pro)q(cessor)s FQ(;)13
b F4(request)5 b F0(i)21 b F4(pairs.)270 2234 y(The)d(mo)q(dule)d(next)
j(de\014nes)h(the)f(predicate)g FV(Coher)n(enc)n(e)s
F4(,)g(whic)o(h)f(asserts)i(the)f(basic)208 2284 y(cac)o(he)d
(coherence)j(prop)q(ert)o(y)e(of)e(the)i(write-through)f(cac)o(he:)21
b(for)15 b(an)o(y)f(pro)q(cessors)j FV(p)h F4(and)208
2334 y FV(q)h F4(and)c(an)o(y)g(address)i FV(a)s F4(,)f(if)e
FV(p)19 b F4(and)c FV(q)k F4(b)q(oth)d(ha)o(v)o(e)f(copies)h(of)f
(address)i FV(a)i F4(in)c(their)h(cac)o(hes,)208 2384
y(then)f(those)h(copies)f(are)h(equal.)21 b(Note)15 b(the)g(tric)o(k)g
(of)g(writing)f FV(x)21 b FQ(=)-25 b F0(2)11 b(f)p FV(y)t
FQ(;)c FV(z)e F0(g)14 b F4(instead)h(of)f(the)208 2434
y(equiv)n(alen)o(t)f(but)h(longer)f(form)o(ula)f(\()p
FV(x)17 b F0(6)p F4(=)12 b FV(y)t F4(\))d F0(^)g F4(\()p
FV(x)17 b F0(6)p F4(=)11 b FV(z)5 b F4(\).)p Black Black
eop
%%Page: 57 75
57 74 bop Black 208 275 a FR(5.6.)30 b(A)14 b(WRITE-THR)o(OUGH)f(CA)o
(CHE)1046 b F4(57)p 208 282 1770 2 v Black Black Black
Black 188 482 2 25 v 190 459 455 2 v 659 466 a FP(module)16
b FV(WriteThr)n(oughCache)p 1210 459 V 1665 482 2 25
v Black Black 208 533 a FP(extends)g FV(Natur)n(als)s
FQ(;)d FV(Se)n(quenc)n(es)s FQ(;)i FV(MemoryInterfac)n(e)208
592 y FP(v)l(ariables)i FV(wmem)s FQ(;)c FV(ctl)t FQ(;)g
FV(buf)c FQ(;)14 b FV(c)n(ache)s FQ(;)g FV(memQ)208 647
y FP(const)m(ant)i FV(QL)n(en)208 703 y FP(assume)g F4(\()p
FV(QL)n(en)f F0(2)d FV(Nat)t F4(\))d F0(^)g F4(\()p FV(QL)n(en)15
b FQ(>)c F4(0\))208 769 y FV(M)291 746 y FI(\001)286
769 y F4(=)35 b FP(inst)m(ance)16 b FV(InternalMemory)k
FP(with)14 b FV(mem)h F0( )c FV(wmem)p 188 815 V 190
804 1475 2 v 1665 814 2 25 v 208 852 a(Init)317 828 y
FI(\001)312 852 y F4(=)p .95 TeXcolorgray .95 TeXcolorgray
413 872 333 57 v .95 TeXcolorgray Black 77 w FZ(The)h(initial)e
(predicate)p .95 TeXcolorgray Black 250 910 a F0(^)15
b FV(M)10 b F4(!)s FV(IInit)250 960 y F0(^)15 b FV(c)n(ache)g
F4(=)335 1022 y([)p FV(p)f F0(2)d FV(Pr)n(o)n(c)j F0(7!)d
F4([)p FV(a)j F0(2)d FV(A)n(dr)16 b F0(7!)11 b FV(NoV)m(al)t
F4(])c(])250 1084 y F0(^)15 b FV(memQ)g F4(=)d F0(h)7
b(i)p .95 TeXcolorgray .95 TeXcolorgray 549 980 1045
106 v .95 TeXcolorgray Black 557 910 a FY(wmem)s FZ(,)k
FY(buf)d FZ(,)k(and)e FY(ctl)16 b FZ(are)10 b(initialized)f(as)i(in)h
(the)e(in)o(ternal)g(memory)f(sp)q(ec.)557 960 y(All)j(cac)o(hes)e(are)
g(initially)g(empt)o(y)g(\()p FY(c)n(ache)r FZ([)p FY(p)r
FZ(][)p FY(a)s FZ(])h(=)f FY(NoV)m(al)17 b FZ(for)11
b(all)g FY(p)r FZ(,)h FY(a)s FZ(\).)p .95 TeXcolorgray
Black .95 TeXcolorgray .95 TeXcolorgray 549 1104 576
57 v .95 TeXcolorgray Black 557 1084 a(The)f(queue)f
FY(memQ)16 b FZ(is)c(initially)d(empt)o(y)m(.)p .95 TeXcolorgray
Black 208 1165 a FV(T)m(yp)n(eInvariant)504 1142 y FI(\001)499
1165 y F4(=)p .95 TeXcolorgray .95 TeXcolorgray 600 1185
315 57 v .95 TeXcolorgray Black 77 w FZ(The)j(t)o(yp)q(e)e(in)o(v)n
(arian)o(t.)p .95 TeXcolorgray Black 250 1223 a F0(^)15
b FV(wmem)k F0(2)11 b F4([)p FV(A)n(dr)k F0(!)c FV(V)m(al)t
F4(])250 1273 y F0(^)k FV(ctl)90 b F0(2)11 b F4([)p FV(Pr)n(o)n(c)i
F0(!)e(f)p F4(\\)p FD(rdy)p F4(")p FQ(;)j F4(\\)p FD(busy)p
F4(")p FQ(;)f F4(\\)p FD(w)o(aiting)p F4(")p FQ(;)g F4(\\)p
FD(done)p F4(")q F0(g)p F4(])250 1323 y F0(^)i FV(buf)80
b F0(2)11 b F4([)p FV(Pr)n(o)n(c)i F0(!)e FV(MR)n(e)n(q)i
F0([)c FV(V)m(al)k F0([)c(f)p FV(NoV)m(al)t F0(g)p F4(])250
1373 y F0(^)15 b FV(c)n(ache)37 b F0(2)11 b F4([)p FV(Pr)n(o)n(c)i
F0(!)e F4([)p FV(A)n(dr)k F0(!)c FV(V)m(al)i F0([)c(f)p
FV(NoV)m(al)t F0(g)p F4(])e(])250 1422 y F0(^)15 b FV(memQ)g
F0(2)c FV(Se)n(q)t F4(\()p FV(Pr)n(o)n(c)g F0(\002)f
FV(MR)n(e)n(q)t F4(\))p .95 TeXcolorgray .95 TeXcolorgray
835 1442 725 57 v .95 TeXcolorgray Black 43 w FY(memQ)16
b FZ(is)11 b(a)g(sequence)f(of)h FW(h)s FZ(pro)q(c.,)f(request)s
FW(i)f FZ(pairs.)p .95 TeXcolorgray Black 208 1504 a
FV(Coher)n(enc)n(e)435 1480 y FI(\001)430 1504 y F4(=)p
.95 TeXcolorgray .95 TeXcolorgray 701 1564 860 96 v .95
TeXcolorgray Black 247 w FZ(Asserts)j(that)e(if)h(t)o(w)o(o)h(pro)q
(cessors')d(cac)o(hes)h(b)q(oth)g(ha)o(v)o(e)h(copies)709
1543 y(of)h(an)f(address,)e(then)i(those)f(copies)g(ha)o(v)o(e)g(equal)
h(v)n(alues.)p .95 TeXcolorgray Black 250 1554 a F0(8)c
FV(p)s FQ(;)g FV(q)15 b F0(2)c FV(Pr)n(o)n(c)r FQ(;)i
FV(a)i F0(2)c FV(A)n(dr)23 b F4(:)292 1607 y(\()p FV(NoV)m(al)e
FQ(=)-26 b F0(2)11 b(f)p FV(c)n(ache)s F4([)p FV(p)s
F4(][)p FV(a)s F4(])p FQ(;)h FV(c)n(ache)s F4([)p FV(q)t
F4(][)p FV(a)s F4(])p F0(g)p F4(\))22 b F0(\))h F4(\()p
FV(c)n(ache)s F4([)p FV(p)s F4(][)p FV(a)s F4(])11 b(=)g
FV(c)n(ache)s F4([)p FV(q)t F4(][)p FV(a)s F4(]\))p 188
1664 2 25 v 190 1653 1475 2 v 1665 1664 2 25 v 208 1706
a FV(R)n(e)n(q)t F4(\()p FV(p)s F4(\))371 1682 y FI(\001)366
1706 y F4(=)p .95 TeXcolorgray .95 TeXcolorgray 467 1726
457 57 v .95 TeXcolorgray Black 77 w FZ(Pro)q(cessor)f
FY(p)k FZ(issues)d(a)g(request.)p .95 TeXcolorgray Black
250 1764 a FV(M)f F4(!)s FV(R)n(e)n(q)t F4(\()p FV(p)s
F4(\))17 b F0(^)e FP(unchanged)j F0(h)s FV(c)n(ache)s
FQ(;)c FV(memQ)8 b F0(i)208 1845 y FV(Rsp)s F4(\()p FV(p)s
F4(\))374 1822 y FI(\001)369 1845 y F4(=)p .95 TeXcolorgray
.95 TeXcolorgray 470 1865 705 57 v .95 TeXcolorgray Black
78 w FZ(The)j(system)f(issues)h(a)g(resp)q(onse)f(to)h(pro)q(cessor)e
FY(p)r FZ(.)p .95 TeXcolorgray Black 250 1903 a FV(M)h
F4(!)s FV(Rsp)s F4(\()p FV(p)s F4(\))17 b F0(^)f FP(unchanged)h
F0(h)s FV(c)n(ache)s FQ(;)e FV(memQ)7 b F0(i)208 1993
y FV(R)n(dMiss)s F4(\()p FV(p)s F4(\))440 1970 y FI(\001)435
1993 y F4(=)p .95 TeXcolorgray .95 TeXcolorgray 494 2013
950 57 v .95 TeXcolorgray Black 35 w FZ(Enqueue)i(a)j(request)e(to)h
(write)g(v)n(alue)f(from)g(memory)g(to)h FY(p)r FZ('s)g(cac)o(he.)p
.95 TeXcolorgray Black 250 2053 a F0(^)k F4(\()p FV(ctl)t
F4([)p FV(p)s F4(])10 b(=)i(\\)p FD(busy)p F4("\))e F0(^)e
F4(\()p FV(buf)h F4([)p FV(p)s F4(])p FQ(:)p FV(op)k
F4(=)f(\\)p FD(Rd)p F4("\))250 2103 y F0(^)j FV(c)n(ache)s
F4([)p FV(p)s F4(][)p FV(buf)8 b F4([)p FV(p)s F4(])p
FQ(:)p FV(adr)t F4(])h(=)j FV(NoV)m(al)250 2153 y F0(^)j
FV(L)n(en)s F4(\()p FV(memQ)t F4(\))d FQ(<)f FV(QL)n(en)250
2203 y F0(^)k FV(memQ)416 2188 y FH(0)438 2203 y F4(=)d
FV(App)n(end)t F4(\()p FV(memQ)t FQ(;)7 b F0(h)s FV(p)s
FQ(;)g FV(buf)i F4([)p FV(p)s F4(])s F0(i)p F4(\))250
2252 y F0(^)15 b FV(ctl)341 2237 y FH(0)363 2252 y F4(=)d([)p
FV(ctl)19 b FP(ex)o(cept)h F4(!)s([)p FV(p)s F4(])10
b(=)i(\\)p FD(w)o(aiting)p F4(")o(])250 2302 y F0(^)j
FP(unchanged)i F0(h)s FV(memInt)t FQ(;)d FV(wmem)s FQ(;)f
FV(buf)c FQ(;)k FV(c)n(ache)7 b F0(i)p .95 TeXcolorgray
.95 TeXcolorgray 1089 2273 517 256 v .95 TeXcolorgray
Black 1098 2053 a FZ(Enabled)i(on)i(a)h(read)e(request)g(when)1133
2103 y(the)h(address)f(is)h(not)g(in)g FY(p)r FZ('s)h(cac)o(he)1133
2153 y(and)f FY(memQ)k FZ(is)d(not)f(full.)1098 2203
y(App)q(end)f FW(h)s FY(p)r Fw(;)c FZ(request)p FW(i)12
b FZ(to)f FY(memQ)s FZ(.)1098 2252 y(Set)f FY(ctl)s FZ([)p
FY(p)r FZ(])j(to)e(\\)p Fv(w)o(aiting)p FZ(".)p .95 TeXcolorgray
Black Black 335 2419 a FU(Figure)j(5.5a:)19 b F4(The)14
b(write-through)g(cac)o(he)h(sp)q(eci\014cation)g(\(b)q(eginning\).)p
Black Black Black Black eop
%%Page: 58 76
58 75 bop Black 208 275 a F4(58)986 b FR(CHAPTER)14 b(5.)32
b(A)14 b(CA)o(CHING)g(MEMOR)m(Y)p 208 282 1770 2 v Black
Black Black Black 208 470 a FV(DoR)n(d)t F4(\()p FV(p)s
F4(\))409 447 y FI(\001)404 470 y F4(=)p .95 TeXcolorgray
.95 TeXcolorgray 463 490 686 57 v .95 TeXcolorgray Black
35 w FZ(P)o(erform)c(a)i(read)e(b)o(y)h FY(p)j FZ(of)d(a)h(v)n(alue)e
(in)h(its)g(cac)o(he.)p .95 TeXcolorgray Black 250 528
a F0(^)k FV(ctl)t F4([)p FV(p)s F4(])10 b F0(2)h(f)p
F4(\\)p FD(busy)p F4(")p FQ(;)j F4(\\)p FD(w)o(aiting)p
F4(")o F0(g)250 578 y(^)h FV(buf)8 b F4([)p FV(p)s F4(])p
FQ(:)p FV(op)13 b F4(=)f(\\)p FD(Rd)p F4(")250 628 y
F0(^)j FV(c)n(ache)s F4([)p FV(p)s F4(][)p FV(buf)8 b
F4([)p FV(p)s F4(])p FQ(:)p FV(adr)t F4(])h F0(6)p F4(=)j
FV(NoV)m(al)250 678 y F0(^)j FV(buf)355 662 y FH(0)379
678 y F4(=)c([)p FV(buf)25 b FP(ex)o(cept)19 b F4(!)s([)p
FV(p)s F4(])10 b(=)i FV(c)n(ache)s F4([)p FV(p)s F4(][)p
FV(buf)c F4([)p FV(p)s F4(])p FQ(:)p FV(adr)t F4(])f(])250
727 y F0(^)15 b FV(ctl)341 712 y FH(0)378 727 y F4(=)d([)p
FV(ctl)19 b FP(ex)o(cept)g F4(!)s([)p FV(p)s F4(])11
b(=)h(\\)p FD(done)p F4("])250 777 y F0(^)j FP(unchanged)i
F0(h)s FV(memInt)t FQ(;)d FV(wmem)s FQ(;)f FV(c)n(ache)s
FQ(;)h FV(memQ)7 b F0(i)p .95 TeXcolorgray .95 TeXcolorgray
1201 747 384 256 v .95 TeXcolorgray Black 1209 528 a
FZ(Enabled)j(if)h(a)h(read)1227 578 y(request)e(is)h(p)q(ending)e(and)
1227 628 y(address)h(is)h(in)g(cac)o(he.)1209 678 y(Get)g(result)f
(from)h(cac)o(he.)1209 727 y(Set)g FY(ctl)s FZ([)p FY(p)r
FZ(])h(to)f(\\)p Fv(done)p FZ(")o(.)p .95 TeXcolorgray
Black 208 863 a FV(DoWr)t F4(\()p FV(p)s F4(\))419 840
y FI(\001)414 863 y F4(=)p .95 TeXcolorgray .95 TeXcolorgray
473 883 1106 57 v .95 TeXcolorgray Black 35 w FZ(W)m(rite)g(to)g
FY(p)r FZ('s)h(cac)o(he,)e(up)q(date)f(other)i(cac)o(hes,)e(and)i
(enqueue)e(memory)h(up)q(date.)p .95 TeXcolorgray Black
250 928 a FP(let)23 b FV(r)403 904 y FI(\001)399 928
y F4(=)34 b FV(buf)9 b F4([)p FV(p)s F4(])p .95 TeXcolorgray
.95 TeXcolorgray 609 948 352 57 v .95 TeXcolorgray Black
42 w FZ(Pro)q(cessor)g FY(p)r FZ('s)j(request.)p .95
TeXcolorgray Black 250 986 a FP(in)54 b F0(^)15 b F4(\()p
FV(ctl)t F4([)p FV(p)s F4(])10 b(=)i(\\)p FD(busy)p F4("\))e
F0(^)e F4(\()p FV(r)t FQ(:)p FV(op)15 b F4(=)d(\\)p FD(W)o(r)p
F4(")o(\))p .95 TeXcolorgray .95 TeXcolorgray 1027 1056
523 106 v .95 TeXcolorgray Black 43 w FZ(Enabled)e(if)h(write)g
(request)f(p)q(ending)1070 1035 y(and)h FY(memQ)16 b
FZ(is)11 b(not)g(full.)p .95 TeXcolorgray Black -1073
w F0(^)k FV(L)n(en)s F4(\()p FV(memQ)t F4(\))d FQ(<)f
FV(QL)n(en)342 1093 y F0(^)k FV(c)n(ache)485 1078 y FH(0)508
1093 y F4(=)p .95 TeXcolorgray .95 TeXcolorgray 586 1113
862 57 v .95 TeXcolorgray Black 55 w FZ(Up)q(date)10
b FY(p)r FZ('s)i(cac)o(he)e(and)h(an)o(y)f(other)g(cac)o(he)g(that)h
(has)g(a)g(cop)o(y)m(.)p .95 TeXcolorgray Black 427 1151
a F4([)p FV(q)k F0(2)c FV(Pr)n(o)n(c)j F0(7!)d FP(if)23
b F4(\()p FV(p)14 b F4(=)e FV(q)t F4(\))k F0(_)g F4(\()p
FV(c)n(ache)s F4([)p FV(q)t F4(][)p FV(r)t FQ(:)p FV(adr)t
F4(])10 b F0(6)p F4(=)i FV(NoV)m(al)t F4(\))694 1201
y FP(then)24 b F4([)p FV(c)n(ache)s F4([)p FV(q)t F4(])14
b FP(ex)o(cept)20 b F4(!)s([)p FV(r)t FQ(:)p FV(adr)t
F4(])10 b(=)i FV(r)t FQ(:)p FV(val)t F4(])694 1251 y
FP(else)36 b FV(c)n(ache)s F4([)p FV(q)t F4(]])342 1308
y F0(^)15 b FV(memQ)508 1293 y FH(0)530 1308 y F4(=)d
FV(App)n(end)t F4(\()p FV(memQ)t FQ(;)j F0(h)s FV(p)s
FQ(;)7 b FV(r)g F0(i)p F4(\))p .95 TeXcolorgray .95 TeXcolorgray
1074 1428 547 156 v .95 TeXcolorgray Black 85 w FZ(Enqueue)j(write)h
(at)g(tail)g(of)g FY(memQ)s FZ(.)1082 1358 y(Generate)e(resp)q(onse.)
1082 1408 y(Set)i FY(ctl)k FZ(to)c(indicate)f(request)f(is)j(done.)p
.95 TeXcolorgray Black 342 1358 a F0(^)j FV(buf)447 1343
y FH(0)471 1358 y F4(=)c([)p FV(buf)25 b FP(ex)o(cept)19
b F4(!)s([)p FV(p)s F4(])10 b(=)i FV(NoV)m(al)t F4(])342
1408 y F0(^)j FV(ctl)433 1393 y FH(0)470 1408 y F4(=)d([)p
FV(ctl)19 b FP(ex)o(cept)g F4(!)s([)p FV(p)s F4(])11
b(=)h(\\)p FD(done)p F4("])342 1458 y F0(^)j FP(unchanged)i
F0(h)s FV(memInt)t FQ(;)d FV(wmem)7 b F0(i)208 1544 y
FV(vmem)356 1520 y FI(\001)351 1544 y F4(=)p .95 TeXcolorgray
.95 TeXcolorgray 452 1564 1122 57 v .95 TeXcolorgray
Black 78 w FZ(The)k(v)n(alue)f FY(wmem)15 b FZ(will)d(ha)o(v)o(e)e
(after)h(all)g(the)f(writes)i(in)f FY(memQ)16 b FZ(are)10
b(p)q(erformed.)p .95 TeXcolorgray Black 250 1600 a FP(let)23
b FV(f)9 b F4([)p FV(i)22 b F0(2)c F4(0)13 b FQ(:)7 b(:)13
b FV(L)n(en)s F4(\()p FV(memQ)t F4(\)])810 1577 y FI(\001)806
1600 y F4(=)p .95 TeXcolorgray .95 TeXcolorgray 907 1660
647 96 v .95 TeXcolorgray Black 77 w FZ(The)f(v)n(alue)e
FY(wmem)15 b FZ(will)c(ha)o(v)o(e)g(after)f(the)h(\014rst)1021
1640 y FY(i)k FZ(writes)c(in)g FY(memQ)16 b FZ(are)11
b(p)q(erformed.)p .95 TeXcolorgray Black 384 1650 a FP(if)24
b FV(i)15 b F4(=)d(0)22 b FP(then)i FV(wmem)558 1700
y FP(else)36 b(if)23 b FV(memQ)t F4([)p FV(i)t F4(][2])p
FQ(:)p FV(op)12 b F4(=)g(\\)p FD(Rd)p F4(")713 1750 y
FP(then)24 b FV(f)9 b F4([)p FV(i)j F0(\000)e F4(1])713
1800 y FP(else)36 b F4([)p FV(f)8 b F4([)p FV(i)13 b
F0(\000)c F4(1])15 b FP(ex)o(cept)20 b F4(!)s([)p FV(memQ)t
F4([)p FV(i)t F4(][2])p FQ(:)o FV(adr)t F4(])9 b(=)1218
1850 y FV(memQ)t F4([)p FV(i)t F4(][2])p FQ(:)p FV(val)t
F4(])250 1899 y FP(in)54 b FV(f)9 b F4([)p FV(L)n(en)s
F4(\()p FV(memQ)t F4(\)])208 1985 y FV(MemQWr)432 1962
y FI(\001)428 1985 y F4(=)p .95 TeXcolorgray .95 TeXcolorgray
486 2005 702 57 v .95 TeXcolorgray Black 35 w FZ(P)o(erform)g(write)j
(at)f(head)f(of)h FY(memQ)16 b FZ(to)11 b(memory)m(.)p
.95 TeXcolorgray Black 250 2050 a FP(let)23 b FV(r)403
2026 y FI(\001)399 2050 y F4(=)34 b FV(He)n(ad)t F4(\()p
FV(memQ)t F4(\)[2])p .95 TeXcolorgray .95 TeXcolorgray
793 2070 556 57 v .95 TeXcolorgray Black 42 w FZ(The)12
b(request)e(at)h(the)f(head)h(of)g FY(memQ)s FZ(.)p .95
TeXcolorgray Black 250 2108 a FP(in)54 b F0(^)15 b F4(\()p
FV(memQ)g F0(6)p F4(=)d F0(h)7 b(i)p F4(\))16 b F0(^)g
F4(\()p FV(r)t FQ(:)p FV(op)e F4(=)e(\\)p FD(W)o(r)p
F4("\))p .95 TeXcolorgray .95 TeXcolorgray 1031 2277
530 206 v .95 TeXcolorgray Black 85 w FZ(Enabled)e(if)h
FY(He)n(ad)s FZ(\()p FY(memQ)s FZ(\))j(a)d(write.)1039
2158 y(P)o(erform)f(the)g(write)i(to)f(memory)m(.)1039
2257 y(Remo)o(v)o(e)f(the)g(write)i(from)e FY(memQ)s
FZ(.)p .95 TeXcolorgray Black 342 2158 a F0(^)15 b FV(wmem)503
2142 y FH(0)526 2158 y F4(=)427 2207 y([)p FV(wmem)j
FP(ex)o(cept)h F4(!)s([)p FV(r)t FQ(:)p FV(adr)t F4(])11
b(=)g FV(r)t FQ(:)p FV(val)t F4(])342 2257 y F0(^)k FV(memQ)508
2242 y FH(0)530 2257 y F4(=)d FV(T)m(ail)t F4(\()p FV(memQ)t
F4(\))342 2315 y F0(^)j FP(unchanged)i F0(h)s FV(memInt)t
FQ(;)d FV(buf)9 b FQ(;)k FV(ctl)t FQ(;)g FV(c)n(ache)7
b F0(i)p Black 360 2428 a FU(Figure)14 b(5.5b:)k F4(The)d
(write-through)f(cac)o(he)h(sp)q(eci\014cation)f(\(middle\).)p
Black Black Black Black eop
%%Page: 59 77
59 76 bop Black 208 275 a FR(5.6.)30 b(A)14 b(WRITE-THR)o(OUGH)f(CA)o
(CHE)1046 b F4(59)p 208 282 1770 2 v Black Black Black
Black 208 392 a FV(MemQR)n(d)423 368 y FI(\001)418 392
y F4(=)p .95 TeXcolorgray .95 TeXcolorgray 476 412 611
57 v .95 TeXcolorgray Black 35 w FZ(P)o(erform)10 b(an)h(enqueued)d
(read)j(to)g(memory)m(.)p .95 TeXcolorgray Black 250
456 a FP(let)23 b FV(p)394 433 y FI(\001)389 456 y F4(=)g
FV(He)n(ad)t F4(\()p FV(memQ)t F4(\)[1])p .95 TeXcolorgray
.95 TeXcolorgray 774 476 412 57 v .95 TeXcolorgray Black
44 w FZ(The)11 b(requesting)e(pro)q(cessor.)p .95 TeXcolorgray
Black 342 513 a FV(r)394 490 y FI(\001)389 513 y F4(=)23
b FV(He)n(ad)t F4(\()p FV(memQ)t F4(\)[2])p .95 TeXcolorgray
.95 TeXcolorgray 774 533 556 57 v .95 TeXcolorgray Black
44 w FZ(The)11 b(request)f(at)h(the)g(head)f(of)i FY(memQ)s
FZ(.)p .95 TeXcolorgray Black 250 571 a FP(in)54 b F0(^)15
b F4(\()p FV(memQ)g F0(6)p F4(=)d F0(h)7 b(i)p F4(\))16
b F0(^)g F4(\()p FV(r)t FQ(:)p FV(op)e F4(=)e(\\)p FD(Rd)p
F4("\))p .95 TeXcolorgray .95 TeXcolorgray 984 641 554
106 v .95 TeXcolorgray Black 42 w FZ(Enabled)e(if)i FY(He)n(ad)s
FZ(\()p FY(memQ)s FZ(\))i(is)d(a)g(read.)992 621 y(Remo)o(v)o(e)f(the)h
(head)f(of)i FY(memQ)s FZ(.)p .95 TeXcolorgray Black
-1083 w F0(^)j FV(memQ)508 606 y FH(0)530 621 y F4(=)d
FV(T)m(ail)t F4(\()p FV(memQ)t F4(\))342 678 y F0(^)j
FV(c)n(ache)485 663 y FH(0)508 678 y F4(=)p .95 TeXcolorgray
.95 TeXcolorgray 586 699 747 57 v .95 TeXcolorgray Black
55 w FZ(Put)c(v)n(alue)f(from)g(memory)g(or)h FY(memQ)16
b FZ(in)11 b FY(p)r FZ('s)g(cac)o(he.)p .95 TeXcolorgray
Black 427 736 a F4([)p FV(c)n(ache)19 b FP(ex)o(cept)g
F4(!)s([)p FV(p)s F4(][)p FV(r)t FQ(:)p FV(adr)t F4(])10
b(=)h FV(vmem)s F4([)p FV(r)t FQ(:)p FV(adr)t F4(]])342
786 y F0(^)k FP(unchanged)i F0(h)s FV(memInt)t FQ(;)d
FV(wmem)s FQ(;)f FV(buf)c FQ(;)k FV(ctl)7 b F0(i)208
872 y FV(Evict)t F4(\()p FV(p)s FQ(;)13 b FV(a)s F4(\))450
848 y FI(\001)445 872 y F4(=)p .95 TeXcolorgray .95 TeXcolorgray
503 892 541 57 v .95 TeXcolorgray Black 35 w FZ(Remo)o(v)o(e)d(address)
f FY(a)15 b FZ(from)10 b FY(p)r FZ('s)i(cac)o(he.)p .95
TeXcolorgray Black 250 930 a F0(^)j F4(\()p FV(ctl)t
F4([)p FV(p)s F4(])10 b(=)i(\\)p FD(w)o(aiting)p F4(")o(\))g
F0(\))f F4(\()p FV(buf)e F4([)p FV(p)s F4(])p FQ(:)p
FV(adr)15 b F0(6)p F4(=)c FV(a)s F4(\))p .95 TeXcolorgray
.95 TeXcolorgray 1079 989 505 96 v .95 TeXcolorgray Black
86 w FZ(Can't)g(evict)f FY(a)15 b FZ(if)c(it)g(w)o(as)h(just)f(read)
1123 969 y(in)o(to)g(cac)o(he)f(from)g(memory)m(.)p .95
TeXcolorgray Black 250 988 a F0(^)15 b FV(c)n(ache)393
972 y FH(0)416 988 y F4(=)d([)p FV(c)n(ache)19 b FP(ex)o(cept)g
F4(!)s([)p FV(p)s F4(][)p FV(a)s F4(])10 b(=)i FV(NoV)m(al)t
F4(])250 1037 y F0(^)j FP(unchanged)i F0(h)s FV(memInt)t
FQ(;)d FV(wmem)s FQ(;)f FV(buf)c FQ(;)k FV(ctl)t FQ(;)g
FV(memQ)7 b F0(i)208 1136 y FV(Next)334 1112 y FI(\001)329
1136 y F4(=)35 b F0(_)14 b(9)7 b FV(p)15 b F0(2)c FV(Pr)n(o)n(c)21
b F4(:)d F0(_)c FV(R)n(e)n(q)t F4(\()p FV(p)s F4(\))9
b F0(_)g FV(Rsp)s F4(\()p FV(p)s F4(\))676 1186 y F0(_)14
b FV(R)n(dMiss)s F4(\()p FV(p)s F4(\))c F0(_)f FV(DoR)n(d)t
F4(\()p FV(p)s F4(\))i F0(_)d FV(DoWr)t F4(\()p FV(p)s
F4(\))676 1236 y F0(_)14 b(9)7 b FV(a)15 b F0(2)c FV(A)n(dr)23
b F4(:)18 b FV(Evict)t F4(\()p FV(p)s FQ(;)7 b FV(a)s
F4(\))396 1285 y F0(_)14 b FV(MemQWr)g F0(_)9 b FV(MemQR)n(d)208
1367 y(Sp)n(e)n(c)328 1344 y FI(\001)323 1367 y F4(=)35
b FV(Init)13 b F0(^)c FG(2)p F4([)p FV(Next)t F4(])648
1374 y FH(h)s FJ(memInt)s Fy(;)t FJ(wmem)s Fy(;)t FJ(buf)d
Fy(;)f FJ(ctl)s Fy(;)g FJ(c)n(ache)r Fy(;)g FJ(memQ)t
FH(i)p 188 1415 2 25 v 190 1404 1475 2 v 1665 1414 2
25 v 208 1452 a FP(theorem)16 b FV(Sp)n(e)n(c)e F0(\))d
FG(2)p F4(\()p FV(T)m(yp)n(eInvariant)j F0(^)9 b FV(Coher)n(enc)n(e)s
F4(\))p 188 1506 V 190 1495 1475 2 v 1665 1505 2 25 v
208 1543 a FV(LM)317 1520 y FI(\001)312 1543 y F4(=)35
b FP(inst)m(ance)16 b FV(Memory)208 1601 y FP(theorem)g
FV(Sp)n(e)n(c)e F0(\))d FV(LM)g F4(!)s FV(Sp)n(e)n(c)p
.95 TeXcolorgray .95 TeXcolorgray 759 1563 784 57 v .95
TeXcolorgray Black 767 1543 a FZ(The)h(memory)d(sp)q(ec.)i(with)g(in)o
(ternal)e(v)n(ariables)h(hidden.)p .95 TeXcolorgray Black
.95 TeXcolorgray .95 TeXcolorgray 759 1621 697 57 v .95
TeXcolorgray Black 767 1601 a(F)m(orm)o(ula)g FY(Sp)n(e)n(c)15
b FZ(implemen)o(ts)8 b(the)j(memory)e(sp)q(ec.)p .95
TeXcolorgray Black 188 1630 2 25 v 190 1630 1475 2 v
1665 1630 2 25 v Black 392 1720 a FU(Figure)14 b(5.5c:)19
b F4(The)14 b(write-through)g(cac)o(he)h(sp)q(eci\014cation)g(\(end\).)
p Black Black 270 1838 a(The)i(actions)g FV(R)n(e)n(q)t
F4(\()p FV(p)s F4(\))f(and)h FV(Rsp)s F4(\()p FV(p)s
F4(\),)g(whic)o(h)f(represen)o(t)j(a)e(pro)q(cessor)h(sending)f(a)f
(re-)208 1888 y(quest)11 b(and)g(receiving)h(a)e(reply)m(,)h(are)h
(essen)o(tially)e(the)i(same)e(as)h(the)h(corresp)q(onding)g(actions)
208 1938 y(in)h(mo)q(dule)f FV(InternalMemory)t F4(.)18
b(Ho)o(w)o(ev)o(er,)c(they)h(m)o(ust)d(also)i(sp)q(ecify)g(that)g(the)h
(v)n(ariables)208 1988 y FV(c)n(ache)i F4(and)d FV(memQ)t
F4(,)f(not)h(presen)o(t)h(in)f(mo)q(dule)e FV(InternalMemory)t
F4(,)h(are)h(left)g(unc)o(hanged.)270 2037 y(In)c(the)h(de\014nition)g
(of)e FV(R)n(dMiss)s F4(,)j(the)f(expression)h FV(App)n(end)t
F4(\()p FV(memQ)t FQ(;)7 b F0(h)s FV(p)s FQ(;)g FV(buf)i
F4([)p FV(p)s F4(])s F0(i)p F4(\))h(is)g(the)208 2087
y(sequence)16 b(obtained)d(b)o(y)h(app)q(ending)g(the)g(elemen)o(t)g
F0(h)s FV(p)s FQ(;)f FV(buf)c F4([)p FV(p)s F4(])s F0(i)14
b F4(to)f(the)i(end)f(of)g FV(memQ)t F4(.)270 2137 y(The)j
FV(DoR)n(d)t F4(\()p FV(p)s F4(\))g(action)f(represen)o(ts)j(the)e(p)q
(erforming)e(of)g(the)i(read)g(from)d FV(p)s F4('s)i(cac)o(he.)208
2187 y(If)i FV(ctl)t F4([)p FV(p)s F4(])h(=)i(\\)p FD(busy)p
F4(",)f(then)g(the)g(address)h(w)o(as)e(originally)d(in)j(the)h(cac)o
(he.)35 b(If)19 b FV(ctl)t F4([)p FV(p)s F4(])g(=)208
2237 y(\\)p FD(w)o(aiting)p F4(")o(,)14 b(then)g(the)h(address)g(w)o
(as)f(just)g(read)g(in)o(to)f(the)i(cac)o(he)g(from)d(memory)m(.)270
2286 y(The)i FV(DoWr)t F4(\()p FV(p)s F4(\))h(action)f(writes)g(the)h
(v)n(alue)e(to)h FV(p)s F4('s)g(cac)o(he)h(and)e(up)q(dates)i(the)g(v)n
(alue)e(in)208 2336 y(an)o(y)i(other)h(cac)o(hes)h(that)f(ha)o(v)o(e)f
(copies.)24 b(It)16 b(also)f(enqueues)i(a)e(write)h(request)h(in)f
FV(memQ)t F4(.)208 2386 y(In)f(an)f(implemen)o(tation,)e(the)j(request)
i(is)e(put)g(on)g(the)g(bus,)h(whic)o(h)f(transmits)f(it)g(to)h(the)208
2436 y(other)f(cac)o(hes)i(and)e(to)g(the)g FV(memQ)k
F4(queue.)i(In)14 b(our)g(high-lev)o(el)f(view)h(of)f(the)i(system,)f
(w)o(e)208 2486 y(represen)o(t)i(all)c(this)i(as)g(a)g(single)f(step.)p
Black Black eop
%%Page: 60 78
60 77 bop Black 208 275 a F4(60)986 b FR(CHAPTER)14 b(5.)32
b(A)14 b(CA)o(CHING)g(MEMOR)m(Y)p 208 282 1770 2 v Black
270 391 a F4(The)i(de\014nition)g(of)g FV(DoWr)21 b F4(in)o(tro)q
(duces)c(the)g(TLA)1090 376 y FS(+)1133 391 y FP(let)p
F4(/)p FP(in)23 b F4(construct.)j(The)17 b FP(let)208
441 y F4(clause)d(consists)g(of)f(a)g(sequence)i(of)e(de\014nitions)h
(whose)g(scop)q(e)g(extends)h(un)o(til)e(the)h(end)f(of)208
491 y(the)e FP(in)g F4(clause.)18 b(In)11 b(the)h(de\014nition)f(of)f
FV(DoWr)t F4(,)i(the)g FP(let)f F4(clause)h(de\014nes)g
FV(r)j F4(to)c(equal)g FV(buf)e F4([)p FV(p)s F4(])208
541 y(within)k(the)h FP(in)g F4(clause.)19 b(Observ)o(e)d(that)e(the)h
(de\014nition)e(of)h FV(r)k F4(con)o(tains)c(the)g(parameter)g
FV(p)208 591 y F4(of)e(the)h(de\014nition)g(of)f FV(DoWr)t
F4(.)18 b(Hence,)c(w)o(e)f(could)g(not)g(mo)o(v)o(e)e(the)i
(de\014nition)g(of)f FV(r)17 b F4(outside)208 640 y(the)d(de\014nition)
g(of)f FV(DoWr)t F4(.)270 690 y(A)20 b(de\014nition)g(in)h(a)f
FP(let)g F4(is)g(just)h(lik)o(e)f(an)g(ordinary)g(de\014nition)g(in)g
(a)g(mo)q(dule;)i(in)208 740 y(particular,)10 b(it)g(can)g(ha)o(v)o(e)g
(parameters.)17 b(These)12 b(lo)q(cal)d(de\014nitions)h(can)h(b)q(e)g
(used)g(to)f(shorten)208 790 y(an)18 b(expression)h(b)o(y)f(replacing)h
(common)c(sub)q(expressions)21 b(with)d(an)g(op)q(erator.)32
b(In)18 b(the)208 840 y(de\014nition)d(of)g FV(DoWr)t
F4(,)i(I)f(replaced)h(\014v)o(e)f(instances)h(of)f FV(buf)9
b F4([)p FV(p)s F4(])14 b(b)o(y)i(the)h(single)e(sym)o(b)q(ol)f
FV(r)t F4(.)208 889 y(This)e(w)o(as)h(a)f(silly)g(thing)g(to)h(do,)f(b)
q(ecause)j(it)d(mak)o(es)g(almost)f(no)h(di\013erence)j(in)e(the)g
(length)208 939 y(of)k(the)h(de\014nition)g(and)g(it)f(requires)i(the)g
(reader)g(to)f(remem)o(b)q(er)f(the)h(de\014nition)g(of)f(the)208
989 y(new)d(sym)o(b)q(ol)f FV(r)t F4(.)19 b(But)c(using)f(a)g
FP(let)h F4(to)f(eliminate)e(common)g(sub)q(expressions)k(can)f(often)
208 1039 y(greatly)e(shorten)i(and)f(simplify)d(an)j(expression.)270
1089 y(A)k FP(let)g F4(can)g(also)f(b)q(e)h(used)h(to)f(mak)o(e)e(an)i
(expression)h(easier)f(to)g(read,)h(ev)o(en)f(if)f(the)208
1139 y(op)q(erators)c(it)g(de\014nes)h(app)q(ear)g(only)e(once)h(in)g
(the)h FP(in)e F4(expression.)19 b(W)m(e)13 b(write)g(a)g(sp)q
(eci\014ca-)208 1188 y(tion)i(with)g(a)g(sequence)j(of)d
(de\014nitions,)h(instead)g(of)f(just)g(de\014ning)h(a)f(single)g
(monolithic)208 1238 y(form)o(ula,)f(b)q(ecause)19 b(a)e(form)o(ula)e
(is)i(easier)h(to)f(understand)h(when)g(presen)o(ted)h(in)d(smaller)208
1288 y(c)o(h)o(unks.)i(The)12 b FP(let)h F4(construct)h(allo)o(ws)d
(the)i(pro)q(cess)h(of)e(splitting)f(a)h(form)o(ula)e(in)o(to)h
(smaller)208 1338 y(parts)k(to)h(b)q(e)g(done)f(hierarc)o(hically)m(.)
21 b(A)16 b FP(let)f F4(can)h(app)q(ear)f(as)h(a)f(sub)q(expression)i
(of)e(an)g FP(in)208 1388 y F4(expression.)k(Nested)c
FP(let)p F4(s)f(are)h(common)c(in)i(large,)g(complicated)g(sp)q
(eci\014cations.)270 1437 y(Next)f(comes)g(the)g(de\014nition)f(of)h
(the)g(state)h(function)e FV(vmem)s F4(,)h(whic)o(h)g(is)f(used)i(in)e
(de\014n-)208 1487 y(ing)k(action)g FV(MemQR)n(d)21 b
F4(b)q(elo)o(w.)j(It)16 b(equals)g(the)g(v)n(alue)f(that)h(the)h(main)d
(memory)f FV(wmem)208 1537 y F4(will)d(ha)o(v)o(e)i(after)g(all)e(the)j
(write)f(op)q(erations)g(curren)o(tly)h(in)e FV(memQ)16
b F4(ha)o(v)o(e)c(b)q(een)h(p)q(erformed.)208 1587 y(Recall)j(that)h
(the)h(v)n(alue)e(read)i(b)o(y)e FV(MemQR)n(d)22 b F4(m)o(ust)16
b(b)q(e)i(the)g(most)d(recen)o(t)k(one)e(written)208
1637 y(to)e(that)g(address|a)h(v)n(alue)f(that)h(ma)o(y)d(still)i(b)q
(e)h(in)f FV(memQ)t F4(.)22 b(That)15 b(v)n(alue)g(is)h(the)g(one)f(in)
208 1686 y FV(vmem)s F4(.)22 b(The)16 b(function)f FV(vmem)j
F4(is)d(de\014ned)i(in)e(terms)g(of)f(the)i(recursiv)o(ely)g(de\014ned)
h(func-)208 1736 y(tion)g FV(f)8 b F4(,)19 b(where)g
FV(f)8 b F4([)p FV(i)t F4(])17 b(is)h(the)h(v)n(alue)e
FV(wmem)k F4(will)16 b(ha)o(v)o(e)i(after)g(the)h(\014rst)f
FV(i)k F4(op)q(erations)c(in)208 1786 y FV(memQ)i F4(ha)o(v)o(e)d(b)q
(een)h(p)q(erformed.)27 b(Note)18 b(that)f FV(memQ)t
F4([)p FV(i)t F4(][2])d(is)j(the)g(second)i(comp)q(onen)o(t)208
1836 y(\(the)14 b(request\))i(of)d FV(memQ)t F4([)p FV(i)t
F4(],)f(the)j FV(i)780 1821 y FS(th)827 1836 y F4(elemen)o(t)e(in)h
(the)g(sequence)i FV(memQ)t F4(.)270 1886 y(The)e(next)h(t)o(w)o(o)e
(actions,)h FV(MemQWr)k F4(and)c FV(MemQR)n(d)t F4(,)g(represen)o(t)j
(the)d(pro)q(cessing)h(of)208 1936 y(the)j(request)i(at)f(the)g(head)f
(of)g(the)h FV(memQ)j F4(queue|)p FV(MemQWr)h F4(for)18
b(a)g(write)h(request,)208 1985 y(and)d FV(MemQR)n(d)21
b F4(for)16 b(a)g(read)h(request.)27 b(These)18 b(actions)e(also)g(use)
h(a)f FP(let)h F4(to)f(mak)o(e)f(lo)q(cal)208 2035 y(de\014nitions.)i
(Here,)c(the)f(de\014nitions)g(of)f FV(p)j F4(and)e FV(r)k
F4(could)11 b(b)q(e)h(mo)o(v)o(ed)e(b)q(efore)j(the)f(de\014nition)208
2085 y(of)c FV(MemQWr)t F4(.)17 b(In)10 b(fact,)g(w)o(e)f(could)g(sa)o
(v)o(e)h(space)g(b)o(y)f(replacing)h(the)g(t)o(w)o(o)f(lo)q(cal)f
(de\014nitions)h(of)208 2135 y FV(r)14 b F4(with)9 b(one)i(global)d
(\(within)i(the)h(mo)q(dule\))e(de\014nition.)16 b(Ho)o(w)o(ev)o(er,)11
b(making)c(the)k(de\014nition)208 2185 y(of)f FV(r)15
b F4(global)10 b(in)g(this)i(w)o(a)o(y)e(w)o(ould)h(b)q(e)g(somewhat)g
(distracting,)g(since)h FV(r)j F4(is)c(used)h(only)f(in)f(the)208
2234 y(de\014nitions)15 b(of)f FV(MemQWr)20 b F4(and)15
b FV(MemQR)n(d)t F4(.)23 b(It)16 b(migh)o(t)d(b)q(e)j(b)q(etter)g
(instead)g(to)f(com)o(bine)208 2284 y(these)g(t)o(w)o(o)f(actions)g(in)
o(to)f(one.)19 b(Whether)c(y)o(ou)e(put)h(a)g(de\014nition)g(in)o(to)f
(a)h FP(let)g F4(or)g(mak)o(e)e(it)208 2334 y(more)g(global)h(should)g
(dep)q(end)i(on)f(what)g(mak)o(es)f(the)h(sp)q(eci\014cation)h(easier)f
(to)g(read.)270 2384 y(The)h FV(Evict)t F4(\()p FV(p)s
FQ(;)7 b FV(a)s F4(\))14 b(action)g(represen)o(ts)j(the)e(op)q(eration)
g(of)e(remo)o(ving)g(address)j FV(a)i F4(from)208 2434
y(pro)q(cessor)f FV(p)s F4('s)e(cac)o(he.)25 b(As)16
b(explained)f(ab)q(o)o(v)o(e,)g(w)o(e)h(allo)o(w)e(an)i(address)h(to)e
(b)q(e)h(evicted)h(at)208 2483 y(an)o(y)11 b(time|unless)h(the)h
(address)g(w)o(as)f(just)h(written)g(to)f(satisfy)g(a)g(p)q(ending)g
(read)h(request,)p Black Black eop
%%Page: 61 79
61 78 bop Black 208 275 a FR(5.7.)30 b(INV)-5 b(ARIANCE)1363
b F4(61)p 208 282 1770 2 v Black 208 391 a(whic)o(h)14
b(is)g(the)i(case)f(i\013)g FV(ctl)t F4([)p FV(p)s F4(])c(=)i(\\)p
FD(w)o(aiting)p F4(")h(and)h FV(buf)9 b F4([)p FV(p)s
F4(])p FQ(:)p FV(adr)15 b F4(=)e FV(a)s F4(.)21 b(Note)15
b(the)g(use)g(of)f(the)208 441 y(\\double)j(subscript")h(in)f(the)h
FP(ex)o(cept)g F4(expression)g(of)f(the)h(action's)f(second)i
(conjunct.)208 491 y(This)c(conjunct)h(\\assigns)f FV(NoV)m(al)k
F4(to)c FV(c)n(ache)s F4([)p FV(p)s F4(][)p FV(a)s F4(]".)21
b(If)15 b(address)i FV(a)h F4(is)d(not)h(in)e FV(p)s
F4('s)h(cac)o(he,)208 541 y(then)j FV(c)n(ache)s F4([)p
FV(p)s F4(][)p FV(a)s F4(])f(already)g(equals)h FV(NoV)m(al)k
F4(and)17 b(an)h FV(Evict)t F4(\()p FV(p)s FQ(;)7 b FV(a)s
F4(\))17 b(step)i(is)f(a)f(stuttering)208 591 y(step.)270
640 y(The)e(de\014nitions)g(of)f(the)i(next-state)g(action)e
FV(Next)19 b F4(and)c(of)f(the)i(complete)e(sp)q(eci\014ca-)208
690 y(tion)i FV(Sp)n(e)n(c)j F4(are)e(straigh)o(tforw)o(ard.)26
b(The)17 b(mo)q(dule)f(closes)h(with)g(t)o(w)o(o)f(theorems)h(that)f
(are)208 740 y(discussed)f(next.)208 895 y FN(5.7)81
b(In)n(v)l(ariance)208 986 y F4(Mo)q(dule)13 b FV(WriteThr)n(oughCache)
k F4(con)o(tains)d(the)h(theorem)p Black Black 332 1052
a FP(theorem)h FV(Sp)n(e)n(c)f F0(\))c FG(2)p F4(\()p
FV(T)m(yp)n(eInvariant)i F0(^)c FV(Coher)n(enc)n(e)s
F4(\))208 1119 y(whic)o(h)15 b(asserts)j(that)e FV(T)m(yp)n(eInvariant)
e F0(^)c FV(Coher)n(enc)n(e)19 b F4(is)d(an)f(in)o(v)n(arian)o(t)f(of)i
FV(Sp)n(e)n(c)r F4(.)24 b(A)16 b(state)208 1168 y(predicate)f
FV(P)g F0(^)9 b FV(Q)18 b F4(is)d(alw)o(a)o(ys)f(true)h(i\013)g(b)q
(oth)f FV(P)19 b F4(and)c FV(Q)j F4(are)e(alw)o(a)o(ys)d(true,)i(so)g
FG(2)p F4(\()p FV(P)g F0(^)9 b FV(Q)t F4(\))208 1218
y(is)k(equiv)n(alen)o(t)f(to)h FG(2)p FV(P)g F0(^)7 b
FG(2)p FV(Q)t F4(.)18 b(This)13 b(implies)e(that)j(the)f(theorem)g(ab)q
(o)o(v)o(e)g(is)g(equiv)n(alen)o(t)g(to)208 1268 y(the)h(t)o(w)o(o)f
(theorems)p Black Black 332 1334 a FP(theorem)j FV(Sp)n(e)n(c)f
F0(\))c FG(2)p FV(T)m(yp)n(eInvariant)332 1392 y FP(theorem)16
b FV(Sp)n(e)n(c)f F0(\))c FG(2)p FV(Coher)n(enc)n(e)208
1456 y F4(The)20 b(\014rst)g(theorem)f(is)g(the)h(usual)g(t)o(yp)q
(e-in)o(v)n(ariance)f(assertion.)35 b(The)20 b(second,)i(whic)o(h)208
1506 y(asserts)15 b(that)e FV(Coher)n(enc)n(e)k F4(is)c(an)g(in)o(v)n
(arian)o(t)f(of)h FV(Sp)n(e)n(c)r F4(,)h(expresses)i(an)d(imp)q(ortan)o
(t)f(prop)q(ert)o(y)208 1556 y(of)h(the)h(algorithm.)270
1606 y(Although)f FV(T)m(yp)n(eInvariant)18 b F4(and)c
FV(Coher)n(enc)n(e)j F4(are)d(b)q(oth)g(in)o(v)n(arian)o(ts)f(of)g(the)
h(temp)q(oral)208 1655 y(form)o(ula)j FV(Sp)n(e)n(c)r
F4(,)k(they)g(di\013er)f(in)f(a)h(fundamen)o(tal)e(w)o(a)o(y)m(.)34
b(If)20 b FV(s)j F4(is)d(an)o(y)f(state)i(satisfying)208
1705 y FV(T)m(yp)n(eInvariant)t F4(,)d(then)g(an)o(y)f(state)i
FV(t)i F4(suc)o(h)d(that)g FV(s)j F0(!)d FV(t)j F4(is)c(a)h
FV(Next)j F4(step)e(also)e(satis\014es)208 1755 y FV(T)m(yp)n
(eInvariant)t F4(.)h(This)13 b(prop)q(ert)o(y)i(is)f(expressed)i(b)o(y)
p Black Black 332 1822 a FP(theorem)g FV(T)m(yp)n(eInvariant)e
F0(^)9 b FV(Next)15 b F0(\))c FV(T)m(yp)n(eInvariant)1238
1804 y FH(0)208 1888 y F4(\(Recall)h(that)h FV(T)m(yp)n(eInvariant)694
1873 y FH(0)718 1888 y F4(is)g(the)g(form)o(ula)e(obtained)h(b)o(y)h
(priming)e(all)g(the)j(v)n(ariables)208 1938 y(in)j(form)o(ula)f
FV(T)m(yp)n(eInvariant)t F4(.\))30 b(In)18 b(general,)h(when)g
FV(P)13 b F0(^)c FV(N)18 b F0(\))11 b FV(P)1273 1923
y FH(0)1303 1938 y F4(holds,)19 b(w)o(e)f(sa)o(y)g(that)208
1988 y(predicate)12 b FV(P)j F4(is)10 b(an)h(in)o(v)n(arian)o(t)e(of)i
(action)f FV(N)d F4(.)34 b(Predicate)12 b FV(T)m(yp)n(eInvariant)j
F4(is)c(an)g(in)o(v)n(arian)o(t)p .95 TeXcolorgray .95
TeXcolorgray 1679 2272 307 316 v .95 TeXcolorgray Black
Black 39 w FZ(An)h(in)o(v)n(arian)o(t)d(of)1687 2027
y(a)j(sp)q(eci\014cation)1687 2066 y FY(S)k FZ(that)11
b(is)g(also)1687 2106 y(an)g(in)o(v)n(arian)o(t)e(of)1687
2145 y(its)j(next-state)c(ac-)1687 2185 y(tion)j(is)g(sometimes)1687
2224 y(called)f(an)h FY(inductive)1687 2264 y FZ(in)o(v)n(arian)o(t)e
(of)j FY(S)t FZ(.)p Black .95 TeXcolorgray Black 208
2037 a F4(of)e FV(Sp)n(e)n(c)k F4(b)q(ecause)e(it)f(is)g(an)f(in)o(v)n
(arian)o(t)g(of)g FV(Next)15 b F4(and)c(it)f(is)h(implied)e(b)o(y)h
(the)i(initial)d(predicate)208 2087 y FV(Init)t F4(.)270
2137 y(Predicate)17 b FV(Coher)n(enc)n(e)i F4(is)d(not)f(an)h(in)o(v)n
(arian)o(t)e(of)h(the)i(next-state)g(action)e FV(Next)t
F4(.)24 b(F)m(or)208 2187 y(example,)12 b(supp)q(ose)j
FV(s)i F4(is)d(a)f(state)i(in)e(whic)o(h)p Black 270
2253 a F0(\017)p Black 20 w FV(c)n(ache)s F4([)p FV(p)s
F4(1][)p FV(a)s F4(])e(=)h(1)p Black 270 2328 a F0(\017)p
Black 20 w FV(c)n(ache)s F4([)p FV(q)t F4(][)p FV(b)s
F4(])e(=)i FV(NoV)m(al)t F4(,)h(for)h(all)e F0(h)s FV(q)t
FQ(;)7 b FV(b)f F0(i)14 b F4(di\013eren)o(t)h(from)d
F0(h)s FV(p)s F4(1)p FQ(;)7 b FV(a)g F0(i)p Black 270
2403 a(\017)p Black 20 w FV(wmem)s F4([)p FV(a)s F4(])k(=)h(2)p
Black 270 2477 a F0(\017)p Black 20 w FV(memQ)18 b F4(con)o(tains)c
(the)g(single)g(elemen)o(t)f F0(h)s FV(p)s F4(2)p FQ(;)h
F4([)p FV(op)g F0(7!)d F4(\\)p FD(Rd)p F4(")p FQ(;)c
FV(adr)15 b F0(7!)c FV(a)s F4(])s F0(i)p Black Black
eop
%%Page: 62 80
62 79 bop Black 208 275 a F4(62)986 b FR(CHAPTER)14 b(5.)32
b(A)14 b(CA)o(CHING)g(MEMOR)m(Y)p 208 282 1770 2 v Black
208 391 a F4(for)g(t)o(w)o(o)h(di\013eren)o(t)h(pro)q(cessors)h
FV(p)s F4(1)d(and)h FV(p)s F4(2)g(and)g(some)f(address)i
FV(a)s F4(.)22 b(Suc)o(h)15 b(a)g(state)h FV(s)i F4(\(an)208
441 y(assignmen)o(t)d(of)h(v)n(alues)g(to)g(v)n(ariables\))g(exists,)h
(assuming)e(that)h(there)i(are)f(at)f(least)g(t)o(w)o(o)208
491 y(pro)q(cessors)i(and)e(at)g(least)g(one)g(address.)26
b(Then)16 b FV(Coher)n(enc)n(e)k F4(is)15 b(true)i(in)f(state)h
FV(s)s F4(.)25 b(Let)16 b FV(t)208 541 y F4(b)q(e)h(the)h(state)f
(obtained)g(from)e FV(s)20 b F4(b)o(y)d(taking)f(a)h
FV(MemQR)n(d)k F4(step.)28 b(In)17 b(state)h FV(t)t F4(,)f(w)o(e)g(ha)o
(v)o(e)208 591 y FV(c)n(ache)s F4([)p FV(p)s F4(2][)p
FV(a)s F4(])12 b(=)h(2)i(and)g FV(c)n(ache)s F4([)p FV(p)s
F4(1][)p FV(a)s F4(])d(=)i(1,)g(so)h FV(Coher)n(enc)n(e)j
F4(is)d(false.)21 b(Hence)c FV(Coher)n(enc)n(e)208 640
y F4(is)c(not)h(an)g(in)o(v)n(arian)o(t)e(of)h(the)i(next-state)g
(action.)270 690 y FV(Coher)n(enc)n(e)h F4(is)d(an)g(in)o(v)n(arian)o
(t)e(of)i(form)o(ula)d FV(Sp)n(e)n(c)16 b F4(b)q(ecause)f(states)f(lik)
o(e)e FV(s)17 b F4(cannot)c(o)q(ccur)208 740 y(in)j(a)g(b)q(eha)o(vior)
h(satisfying)f FV(Sp)n(e)n(c)r F4(.)27 b(Pro)o(ving)17
b(its)f(in)o(v)n(ariance)g(is)h(not)g(so)g(easy)m(.)26
b(W)m(e)17 b(m)o(ust)208 790 y(\014nd)11 b(a)g(predicate)h
FV(Inv)k F4(that)c(is)f(an)g(in)o(v)n(arian)o(t)e(of)i
FV(Next)k F4(suc)o(h)d(that)f FV(Inv)16 b F4(implies)10
b FV(Coher)n(enc)n(e)208 840 y F4(and)j(is)h(implied)e(b)o(y)h(the)i
(initial)d(predicate)j FV(Init)t F4(.)270 889 y(Imp)q(ortan)o(t)d(prop)
q(erties)k(of)d(a)g(sp)q(eci\014cation)i(can)f(often)g(b)q(e)g
(expressed)j(as)d(in)o(v)n(arian)o(ts.)208 939 y(Pro)o(ving)d(that)h(a)
g(state)g(predicate)h FV(P)k F4(is)12 b(an)f(in)o(v)n(arian)o(t)g(of)g
(a)h(sp)q(eci\014cation)h(means)e(pro)o(ving)208 989
y(a)i(form)o(ula)e(of)j(the)g(form)p Black Black 332
1072 a FV(Init)f F0(^)c FG(2)p F4([)p FV(Next)t F4(])590
1078 y FJ(v)622 1072 y F0(\))i FG(2)p FV(P)208 1155 y
F4(This)i(is)h(done)g(b)o(y)g(\014nding)f(an)h(appropriate)g(state)h
(predicate)g FV(Inv)j F4(and)c(pro)o(ving)p Black Black
332 1238 a FV(Init)h F0(\))c FV(Inv)t FQ(;)91 b FV(Inv)14
b F0(^)9 b F4([)p FV(Next)t F4(])851 1244 y FJ(v)882
1238 y F0(\))i FV(Inv)997 1221 y FH(0)1010 1238 y FQ(;)89
b FV(Inv)17 b F0(\))11 b FV(P)208 1321 y F4(Since)j(our)g(sub)r(ject)h
(is)f(sp)q(eci\014cation,)g(not)g(pro)q(of,)f(I)h(w)o(on't)f(discuss)i
(ho)o(w)e(to)h(\014nd)g FV(Inv)t F4(.)208 1480 y FN(5.8)81
b(Pro)n(ving)27 b(Implemen)n(tation)208 1570 y F4(Mo)q(dule)13
b FV(WriteThr)n(oughCache)k F4(ends)e(with)f(the)g(theorem)p
Black Black 332 1653 a FP(theorem)i FV(Sp)n(e)n(c)f F0(\))c
FV(LM)f F4(!)s FV(Sp)n(e)n(c)208 1736 y F4(where)15 b
FV(LM)10 b F4(!)s FV(Sp)n(e)n(c)17 b F4(is)d(form)o(ula)e
FV(Sp)n(e)n(c)17 b F4(of)c(mo)q(dule)g FV(Memory)t F4(.)18
b(This)c(theorem)g(asserts)i(that)208 1786 y(ev)o(ery)e(b)q(eha)o(vior)
g(satisfying)e(sp)q(eci\014cation)j FV(Sp)n(e)n(c)h F4(of)e(the)g
(write-through)g(cac)o(he)h(also)e(sat-)208 1836 y(is\014es)k
FV(LM)11 b F4(!)s FV(Sp)n(e)n(c)r F4(,)18 b(the)g(sp)q(eci\014cation)g
(of)e(a)h(linearizable)f(memory)m(.)25 b(In)17 b(other)h(w)o(ords,)f
(it)208 1886 y(asserts)12 b(that)f(the)g(write-through)g(cac)o(he)g
(implemen)o(ts)d(a)j(linearizable)f(memory)m(.)k(In)c(TLA,)208
1936 y(implem)o(en)o(tation)e(is)j(implication.)j(A)d(system)f(describ)
q(ed)j(b)o(y)e(a)f(form)o(ula)f FV(Sys)14 b F4(implemen)o(ts)208
1986 y(a)h(sp)q(eci\014cation)i FV(Sp)n(e)n(c)h F4(i\013)e
FV(Sys)j F4(implies)14 b FV(Sp)n(e)n(c)r F4(|that)j(is,)e(i\013)h
FV(Sys)j F0(\))14 b FV(Sp)n(e)n(c)k F4(is)e(a)g(theorem.)208
2035 y(TLA)d(mak)o(es)g(no)g(distinction)g(b)q(et)o(w)o(een)i(system)f
(descriptions)h(and)e(sp)q(eci\014cations;)h(they)208
2085 y(are)g(b)q(oth)g(just)g(form)o(ulas.)270 2135 y(By)c
(de\014nition)f(of)g(form)o(ula)e FV(Sp)n(e)n(c)12 b
F4(of)d(the)h FV(Memory)j F4(mo)q(dule)c(\(page)g(53\),)h(w)o(e)g(can)f
(restate)208 2185 y(the)14 b(theorem)g(as)p Black Black
332 2268 a FP(theorem)i FV(Sp)n(e)n(c)26 b F0(\))695
2266 y(9)-21 b(9)g(9)695 2268 y(9)g(9)g(9)6 b FV(mem)s
FQ(;)h FV(ctl)t FQ(;)g FV(buf)26 b F4(:)18 b FV(LM)11
b F4(!)s FV(Inner)t F4(\()p FV(mem)s FQ(;)c FV(ctl)t
FQ(;)g FV(buf)h F4(\))s(!)s FV(ISp)n(e)n(c)208 2351 y
F4(where)15 b FV(LM)c F4(!)s FV(Inner)t F4(\()p FV(mem)s
FQ(;)c FV(ctl)t FQ(;)g FV(buf)i F4(\))s(!)s FV(ISp)n(e)n(c)18
b F4(is)c(form)o(ula)e FV(ISp)n(e)n(c)18 b F4(of)c(the)h
FV(InternalMemory)208 2401 y F4(mo)q(dule.)22 b(The)17
b(rules)f(of)f(logic)g(tell)h(us)g(that)g(to)g(pro)o(v)o(e)g(suc)o(h)g
(a)g(theorem,)g(w)o(e)g(m)o(ust)f(\014nd)208 2450 y(\\witnesses")f(for)
g(the)g(quan)o(ti\014ed)f(v)n(ariables)g FV(mem)s F4(,)g
FV(ctl)t F4(,)g(and)h FV(buf)8 b F4(.)18 b(These)d(witnesses)g(are)p
Black Black eop
%%Page: 63 81
63 80 bop Black 208 275 a FR(5.8.)30 b(PR)o(O)o(VING)14
b(IMPLEMENT)m(A)m(TION)1024 b F4(63)p 208 282 1770 2
v Black 208 391 a(state)11 b(functions)h(\(ordinary)e(expressions)j
(with)e(no)g(primes\),)f(whic)o(h)h(I'll)f(call)g FV(omem)s
F4(,)i FV(o)n(ctl)t F4(,)208 441 y(and)h FV(obuf)c F4(,)14
b(that)g(satisfy)p Black Black 332 522 a FV(Sp)n(e)n(c)26
b F0(\))d FV(LM)10 b F4(!)s FV(Inner)t F4(\()p FV(omem)s
FQ(;)15 b FV(o)n(ctl)t FQ(;)e FV(obuf)c F4(\))s(!)s FV(ISp)n(e)n(c)p
Black -942 w F4(\(5.2\))p Black 208 603 a(F)m(orm)o(ula)k
FV(LM)e F4(!)s FV(Inner)t F4(\()p FV(omem)s FQ(;)j FV(o)n(ctl)t
FQ(;)g FV(obuf)9 b F4(\))s(!)s FV(ISp)n(e)n(c)20 b F4(is)c(form)o(ula)d
FV(ISp)n(e)n(c)20 b F4(with)c(the)h(substi-)208 652 y(tutions)p
Black Black 332 733 a FV(mem)e F0( )c FV(omem)s FQ(;)48
b FV(ctl)15 b F0( )d FV(o)n(ctl)t FQ(;)47 b FV(buf)21
b F0( )11 b FV(obuf)208 814 y F4(The)f(tuple)g F0(h)s
FV(omem)s FQ(;)d FV(o)n(ctl)t FQ(;)g FV(obuf)12 b F0(i)e
F4(of)f(witness)i(functions)f(is)f(called)h(a)f FV(r)n(e\014nement)j
(mapping)p F4(,)208 864 y(and)f(w)o(e)g(describ)q(e)i(\(5.2\))e(as)g
(the)h(assertion)g(that)f FV(Sp)n(e)n(c)j F4(implemen)o(ts)9
b(form)o(ula)g FV(ISp)n(e)n(c)14 b F4(under)208 913 y(this)g
(re\014nemen)o(t)h(mapping.)k(In)o(tuitiv)o(ely)m(,)12
b(this)j(means)f FV(Sp)n(e)n(c)k F4(implies)12 b(that)j(the)g(v)n(alue)
f(of)208 963 y(the)f(tuple)g F0(h)s FV(memInt)t FQ(;)h
FV(omem)s FQ(;)g FV(o)n(ctl)t FQ(;)f FV(obuf)g F0(i)g
F4(of)f(state)i(functions)f(c)o(hanges)g(the)h(w)o(a)o(y)e
FV(ISp)n(e)n(c)208 1013 y F4(asserts)j(that)f(the)h(tuple)f
F0(h)s FV(memInt)t FQ(;)g FV(mem)s FQ(;)f FV(ctl)t FQ(;)g
FV(buf)g F0(i)h F4(of)f(v)n(ariables)g(should)h(c)o(hange.)270
1063 y(I)h(will)f(no)o(w)g(brie\015y)i(describ)q(e)h(ho)o(w)e(w)o(e)g
(pro)o(v)o(e)g(\(5.2\);)g(for)g(details,)f(see)j(the)f(tec)o(hnical)208
1113 y(pap)q(ers)c(ab)q(out)f(TLA,)f(a)o(v)n(ailable)f(through)j(the)f
(TLA)h(W)m(eb)e(page.)17 b(Let)12 b(me)e(\014rst)i(in)o(tro)q(duce)208
1163 y(a)h(bit)f(of)h(non-TLA)520 1147 y FS(+)554 1163
y F4(notation.)k(F)m(or)c(an)o(y)f(form)o(ula)f FV(F)19
b F4(of)12 b(mo)q(dule)g FV(InternalMemory)t F4(,)h(let)p
208 1179 33 2 v 208 1212 a FV(F)19 b F4(equal)13 b FV(LM)e
F4(!)s FV(Inner)t F4(\()p FV(omem)s FQ(;)k FV(o)n(ctl)t
FQ(;)e FV(obuf)c F4(\))s(!)s FV(F)d F4(,)13 b(whic)o(h)h(is)g(form)o
(ula)d FV(F)19 b F4(with)14 b FV(omem)s F4(,)g FV(o)n(ctl)t
F4(,)208 1262 y(and)h FV(obuf)25 b F4(substituted)17
b(for)e FV(mem)s F4(,)h FV(ctl)t F4(,)f(and)h FV(buf)9
b F4(.)23 b(In)16 b(particular,)p 1307 1228 91 2 v 15
w FV(mem)s F4(,)p 1425 1228 48 2 v 16 w FV(ctl)t F4(,)f(and)p
1583 1228 63 2 v 16 w FV(buf)208 1312 y F4(equal)e FV(omem)s
F4(,)h FV(o)n(ctl)t F4(,)f(and)h FV(obuf)9 b F4(,)k(resp)q(ectiv)o(ely)
m(.)270 1362 y(With)f(this)h(notation,)f(w)o(e)h(can)h(write)f(\(5.2\))
f(as)h FV(Sp)n(e)n(c)i F0(\))p 1168 1328 97 2 v 11 w
FV(ISp)n(e)n(c)r F4(.)j(Replacing)12 b FV(Sp)n(e)n(c)k
F4(and)208 1412 y FV(ISp)n(e)n(c)g F4(b)o(y)e(their)g(de\014nitions,)g
(this)g(form)o(ula)d(b)q(ecomes)p .95 TeXcolorgray .95
TeXcolorgray 1679 1624 307 252 v .95 TeXcolorgray Black
Black 1687 1384 124 2 v 615 w FY(memInt)16 b FZ(equals)1687
1451 y FY(memInt)s FZ(,)c(since)1687 1490 y FY(memInt)k
FZ(is)11 b(a)g(v)n(ari-)1687 1530 y(able)g(distinct)f(from)1687
1569 y FY(mem)s FZ(,)i FY(ctl)s FZ(,)h(and)1687 1609
y FY(buf)8 b FZ(.)p Black .95 TeXcolorgray Black Black
Black 332 1492 a FV(Init)13 b F0(^)c FG(2)p F4([)p FV(Next)t
F4(])590 1499 y FH(h)s FJ(memInt)s Fy(;)t FJ(wmem)s Fy(;)t
FJ(buf)d Fy(;)g FJ(ctl)s Fy(;)t FJ(c)n(ache)r Fy(;)f
FJ(memQ)g FH(i)397 1567 y F0(\))p 473 1534 86 2 v 34
w FV(IInit)20 b F0(^)c FG(2)p F4([)p 662 1534 103 2 v
FV(INext)s F4(])776 1581 y FH(h)s FJ(memInt)s Fy(;)p
925 1557 74 2 v 4 w FJ(mem)r Fy(;)p 1015 1556 40 2 v
6 w FJ(ctl)r Fy(;)p 1069 1556 52 2 v 5 w FJ(buf)9 b FH(i)p
Black 208 1492 a F4(\(5.3\))p Black 208 1655 a(F)m(orm)o(ula)i(\(5.3\))
i(is)h(then)g(pro)o(v)o(ed)g(b)o(y)g(\014nding)f(an)h(in)o(v)n(arian)o
(t)e FV(Inv)19 b F4(of)13 b FV(Sp)n(e)n(c)k F4(suc)o(h)e(that)p
Black Black 332 1736 a F0(^)f FV(Init)h F0(\))p 508 1702
86 2 v 11 w FV(IInit)332 1795 y F0(^)f FV(Inv)g F0(^)9
b FV(Next)27 b F0(\))22 b(_)p 699 1761 103 2 v 14 w FV(INext)657
1847 y F0(_)14 b FP(unchanged)j F0(h)s FV(memInt)t FQ(;)p
1131 1813 91 2 v 14 w FV(mem)s FQ(;)p 1246 1813 48 2
v 13 w FV(ctl)t FQ(;)p 1320 1813 63 2 v 14 w FV(buf)12
b F0(i)208 1926 y F4(The)h(second)i(conjunct)f(is)f(called)g
FV(step)h(simulation)p F4(.)k(It)13 b(asserts)i(that)f(a)f
FV(Next)k F4(step)d(start-)208 1975 y(ing)h(in)g(a)h(state)h
(satisfying)e(the)h(in)o(v)n(arian)o(t)f FV(Inv)20 b
F4(is)c(either)h(an)p 1209 1942 103 2 v 16 w FV(INext)j
F4(step|a)c(step)h(that)208 2025 y(c)o(hanges)12 b(the)g(4-tuple)f
F0(h)s FV(memInt)t FQ(;)j FV(omem)s FQ(;)g FV(o)n(ctl)t
FQ(;)f FV(obuf)g F0(i)f F4(the)g(w)o(a)o(y)f(an)g FV(INext)16
b F4(step)c(c)o(hanges)208 2075 y F0(h)s FV(memInt)t
FQ(;)i FV(mem)s FQ(;)f FV(ctl)t FQ(;)g FV(buf)g F0(i)p
F4(|or)19 b(else)i(it)e(lea)o(v)o(es)h(that)g(4-tuple)f(unc)o(hanged.)
36 b(F)m(or)20 b(our)208 2125 y(memory)11 b(sp)q(eci\014cations,)j(the)
g(state)h(functions)e FV(omem)s F4(,)h FV(o)n(ctl)t F4(,)f(and)h
FV(obuf)22 b F4(are)14 b(de\014ned)h(b)o(y)p Black Black
332 2210 a FV(omem)471 2186 y FI(\001)467 2210 y F4(=)23
b FV(vmem)332 2274 y(o)n(ctl)471 2250 y FI(\001)467 2274
y F4(=)g([)p FV(p)14 b F0(2)d FV(Pr)n(o)n(c)j F0(7!)d
FP(if)23 b FV(ctl)t F4([)p FV(p)s F4(])10 b(=)i(\\)p
FD(w)o(aiting)p F4(")21 b FP(then)j F4(\\)p FD(busy)p
F4(")g FP(else)g FV(ctl)t F4([)p FV(p)s F4(]])332 2338
y FV(obuf)471 2315 y FI(\001)467 2338 y F4(=)f FV(buf)270
2417 y F4(The)g(mathematics)d(of)h(an)h(implemen)o(tation)d(pro)q(of)j
(is)g(simple,)h(so)f(the)h(pro)q(of)f(is)208 2467 y(straigh)o(tforw)o
(ard|in)9 b(theory)m(.)16 b(F)m(or)10 b(sp)q(eci\014cations)i(of)e
(real)g(systems,)h(suc)o(h)g(pro)q(ofs)g(can)f(b)q(e)208
2517 y(quite)j(di\016cult.)18 b(Going)12 b(from)h(theory)h(to)g
(practice)h(requires)g(turning)f(the)g(mathematics)p
Black Black eop
%%Page: 64 82
64 81 bop Black 208 275 a F4(64)986 b FR(CHAPTER)14 b(5.)32
b(A)14 b(CA)o(CHING)g(MEMOR)m(Y)p 208 282 1770 2 v Black
208 391 a F4(of)g(pro)q(ofs)h(in)o(to)f(an)h(engineering)g(discipline.)
21 b(This)15 b(is)f(a)h(sub)r(ject)h(that)f(deserv)o(es)i(a)e(b)q(o)q
(ok)208 441 y(to)e(itself,)g(and)h(I)g(w)o(on't)f(try)h(to)g(discuss)h
(it)f(here.)270 491 y(Y)m(ou)k(will)f(probably)h(nev)o(er)h(pro)o(v)o
(e)g(that)g(one)f(sp)q(eci\014cation)i(implem)o(en)o(ts)d(another.)208
541 y(Ho)o(w)o(ev)o(er,)12 b(y)o(ou)f(should)h(understand)h
(re\014nemen)o(t)f(mappings)e(and)h(step)i(sim)o(ulation.)h(Y)m(ou)208
591 y(will)9 b(then)j(b)q(e)g(able)e(to)h(use)h(TLC)f(to)g(c)o(hec)o(k)
h(that)f(one)g(sp)q(eci\014cation)h(implemen)o(ts)d(another;)208
640 y(Chapter)14 b(14)f(explains)h(ho)o(w.)p Black Black
eop
%%Page: 65 83
65 82 bop Black Black 208 703 a FL(Chapter)31 b(6)208
910 y F5(Some)37 b(More)i(Math)208 1126 y F4(The)12 b(mathematics)d(w)o
(e)j(use)g(to)f(write)h(sp)q(eci\014cations)h(is)e(built)g(on)g(a)h
(small,)d(simple)h(collec-)208 1176 y(tion)j(of)g(concepts.)19
b(Y)m(ou'v)o(e)13 b(already)h(seen)h(most)d(of)h(what's)h(needed)h(to)e
(describ)q(e)j(almost)208 1226 y(an)o(y)c(kind)g(of)g(mathematics.)k
(All)c(y)o(ou)g(lac)o(k)g(is)h(a)f(handful)g(of)g(op)q(erators)i(on)f
(sets)h(that)e(are)208 1276 y(describ)q(ed)k(b)q(elo)o(w)f(in)g
(Section)g(6.1.)21 b(After)16 b(learning)e(ab)q(out)h(them,)f(y)o(ou)h
(will)e(b)q(e)j(able)f(to)208 1325 y(de\014ne)f(all)f(the)i(data)e
(structures)k(and)c(op)q(erations)h(that)g(o)q(ccur)h(in)f(sp)q
(eci\014cations.)270 1375 y(While)d(our)h(mathematics)e(is)i(simple,)e
(its)i(foundations)g(are)g(nonob)o(vious|for)e(exam-)208
1425 y(ple,)i(the)h(meanings)f(of)g(recursiv)o(e)i(function)f
(de\014nitions)f(and)h(the)g FP(choose)h F4(op)q(erator)f(are)208
1475 y(subtle.)22 b(This)16 b(section)g(discusses)h(some)d(of)h(those)h
(foundations.)22 b(Understanding)16 b(them)208 1525 y(will)c(help)i(y)o
(ou)f(use)i(TLA)613 1510 y FS(+)648 1525 y F4(more)d(e\013ectiv)o(ely)m
(.)208 1683 y FN(6.1)81 b(Sets)208 1774 y F4(The)13 b(simple)f(op)q
(erations)i(on)f(sets)i(describ)q(ed)g(in)e(Section)h(1.2)e(are)i(all)e
(y)o(ou)h(need)h(to)g(write)208 1824 y(most)i(system)h(sp)q
(eci\014cations.)30 b(Ho)o(w)o(ev)o(er,)18 b(y)o(ou)f(ma)o(y)f(o)q
(ccasionally)g(ha)o(v)o(e)h(to)h(use)g(more)208 1873
y(sophisticated)13 b(op)q(erators|esp)q(ecially)g(if)e(y)o(ou)h(need)i
(to)e(de\014ne)i(data)e(structures)j(b)q(ey)o(ond)208
1923 y(tuples,)f(records,)h(and)e(simple)g(functions.)270
1973 y(Tw)o(o)18 b(p)q(o)o(w)o(erful)f(op)q(erators)j(of)d(set)j
(theory)e(are)h(the)g(unary)f(op)q(erators)h FP(union)h
F4(and)208 2023 y FP(subset)p F4(,)13 b(de\014ned)i(as)f(follo)o(ws:)p
Black 270 2106 a FP(union)j FV(S)p Black 39 w F4(The)g(union)e(of)g
(the)i(elemen)o(ts)f(of)f FV(S)5 b F4(.)25 b(In)15 b(other)i(w)o(ords,)
f(a)g(v)n(alue)f FV(e)k F4(is)d(an)p .95 TeXcolorgray
.95 TeXcolorgray 1679 2206 307 131 v .95 TeXcolorgray
Black Black 41 w FZ(Mathematicians)1687 2145 y(write)c
Fu(union)h FY(S)i FZ(as)1687 2156 y FF(S)1728 2185 y
FY(S)t FZ(.)p Black .95 TeXcolorgray Black 463 2156 a
F4(elemen)o(t)i(of)f FP(union)10 b FV(S)23 b F4(i\013)16
b(it)h(is)g(an)g(elemen)o(t)f(of)h(an)g(elemen)o(t)f(of)g
FV(S)5 b F4(.)28 b(F)m(or)463 2206 y(example:)p Black
Black 588 2272 a FP(union)17 b F0(ff)p F4(1)p FQ(;)7
b F4(2)p F0(g)p FQ(;)g F0(f)p F4(2)p FQ(;)f F4(3)p F0(g)p
FQ(;)g F0(f)p F4(3)p FQ(;)g F4(4)p F0(gg)20 b F4(=)j
F0(f)p F4(1)p FQ(;)7 b F4(2)p FQ(;)g F4(3)p FQ(;)g F4(4)p
F0(g)p Black 270 2355 a FP(subset)i FV(S)p Black 26 w
F4(The)19 b(set)h(of)e(all)f(subsets)k(of)d FV(S)5 b
F4(.)32 b(In)19 b(other)g(w)o(ords,)h FV(T)25 b F0(2)19
b FP(subset)9 b FV(S)24 b F4(i\013)p .95 TeXcolorgray
.95 TeXcolorgray 1679 2528 307 205 v .95 TeXcolorgray
Black Black 41 w FZ(Mathematicians)1687 2394 y(call)11
b Fu(subset)r FY(S)k FZ(the)1687 2434 y FY(p)n(ower)e(set)i
FZ(of)c FY(S)1687 2473 y FZ(and)g(write)g(it)h FW(P)s
FZ(\()p FY(S)t FZ(\))1687 2520 y(or)g(2)1749 2508 y FY(S)1774
2520 y FZ(.)p Black .95 TeXcolorgray Black 463 2405 a
FV(T)17 b F0(\022)12 b FV(S)5 b F4(.)18 b(F)m(or)c(example:)p
Black Black 588 2471 a FP(subset)9 b F0(f)p F4(1)p FQ(;)e
F4(2)p F0(g)22 b F4(=)h F0(ffg)p FQ(;)7 b F0(f)p F4(1)p
F0(g)p FQ(;)g F0(f)p F4(2)p F0(g)p FQ(;)f F0(f)p F4(1)p
FQ(;)g F4(2)p F0(gg)p Black 1936 2622 a F4(65)p Black
eop
%%Page: 66 84
66 83 bop Black 208 275 a F4(66)1034 b FR(CHAPTER)14
b(6.)32 b(SOME)15 b(MORE)f(MA)m(TH)p 208 282 1770 2 v
Black 208 391 a F4(Mathematicians)d(often)j(describ)q(e)g(a)f(set)h(as)
g(\\the)f(set)h(of)f(all)f(.)6 b(.)h(.)19 b(suc)o(h)14
b(that)f(.)7 b(.)f(.)h(".)17 b(TLA)1625 376 y FS(+)208
441 y F4(has)d(t)o(w)o(o)f(constructs)j(that)e(formalize)e(suc)o(h)i(a)
g(description:)p Black 270 515 a F0(f)p FV(x)i F0(2)c
FV(S)k F4(:)11 b FV(p)s F0(g)p Black 21 w F4(The)k(subset)g(of)f
FV(S)20 b F4(consisting)14 b(of)g(all)f(elemen)o(ts)h
FV(x)20 b F4(satisfying)13 b(prop)q(ert)o(y)494 565 y
FV(p)s F4(.)19 b(F)m(or)14 b(example,)f(the)i(set)g(of)f(o)q(dd)h
(natural)f(n)o(um)o(b)q(ers)g(can)g(b)q(e)h(written)494
615 y F0(f)p FV(n)h F0(2)d FV(Nat)23 b F4(:)d FV(n)c
FD(\045)d F4(2)g(=)g(1)p F0(g)p F4(.)20 b(The)15 b(iden)o(ti\014er)g
FV(x)20 b F4(is)15 b(b)q(ound)g(in)f FV(p)s F4(;)g(it)h(ma)o(y)p
.95 TeXcolorgray .95 TeXcolorgray 1679 787 307 204 v
.95 TeXcolorgray Black Black 39 w FZ(The)d(mo)q(dulus)1687
654 y(op)q(erator)e Fv(\045)i FZ(is)1687 694 y(describ)q(ed)d(in)1687
733 y(Section)h(2.5)h(on)1687 772 y(page)g(21.)p Black
.95 TeXcolorgray Black 494 665 a F4(not)j(o)q(ccur)h(in)e
FV(S)5 b F4(.)p Black 270 743 a F0(f)p FV(e)14 b F4(:)d
FV(x)17 b F0(2)11 b FV(S)5 b F0(g)p Black 23 w F4(The)17
b(set)i(of)d(elemen)o(ts)h(of)g(the)h(form)d FV(e)s F4(,)j(for)f(all)f
FV(x)22 b F4(in)17 b(the)h(set)g FV(S)5 b F4(.)28 b(F)m(or)494
793 y(example,)11 b F0(f)p F4(2)d F0(\003)h FV(n)k F4(+)d(1)d(:)h
FV(n)15 b F0(2)c FV(Nat)t F0(g)h F4(is)g(the)h(set)h(of)d(all)g(o)q(dd)
i(natural)f(n)o(um-)494 843 y(b)q(ers.)19 b(The)14 b(iden)o(ti\014er)h
FV(x)k F4(is)13 b(b)q(ound)h(in)g FV(e)s F4(;)f(it)h(ma)o(y)e(not)i(o)q
(ccur)h(in)e FV(S)5 b F4(.)208 917 y(The)16 b(construct)i
F0(f)p FV(e)11 b F4(:)d FV(x)16 b F0(2)c FV(S)5 b F0(g)16
b F4(has)g(the)h(same)e(generalizations)h(as)g F0(9)7
b FV(x)17 b F0(2)11 b FV(S)j F4(:)7 b FV(F)f F4(.)25
b(F)m(or)16 b(ex-)208 967 y(ample,)11 b F0(f)p FV(e)g
F4(:)c FV(x)17 b F0(2)11 b FV(S)5 b FQ(;)14 b FV(y)h
F0(2)c FV(T)6 b F0(g)12 b F4(is)h(the)g(set)h(of)f(all)e(elemen)o(ts)i
(of)f(the)i(form)d FV(e)s F4(,)i(for)f FV(x)18 b F4(in)13
b FV(S)18 b F4(and)208 1016 y FV(y)j F4(in)c FV(T)6 b
F4(.)27 b(In)18 b(the)g(construct)h F0(f)p FV(x)d F0(2)c
FV(S)h F4(:)8 b FV(P)t F0(g)p F4(,)17 b(w)o(e)h(can)g(let)f
FV(x)23 b F4(b)q(e)18 b(a)f(tuple.)29 b(F)m(or)17 b(example,)208
1066 y F0(fh)s FV(y)t FQ(;)7 b FV(z)h F0(i)j(2)h FV(S)h
F4(:)8 b FV(P)t F0(g)17 b F4(is)g(the)h(set)g(of)f(all)f(pairs)h
F0(h)s FV(y)t FQ(;)7 b FV(z)i F0(i)17 b F4(in)g(the)h(set)g
FV(S)k F4(that)c(satisfy)f FV(P)t F4(.)28 b(The)208 1116
y(gramma)o(r)9 b(of)i(TLA)515 1101 y FS(+)547 1116 y
F4(in)g(Chapter)h(15)f(sp)q(eci\014es)i(precisely)f(what)f(set)i
(expressions)g(y)o(ou)e(can)208 1166 y(write.)270 1216
y(All)g(the)i(set)g(op)q(erators)g(w)o(e'v)o(e)g(seen)g(so)f(far)g(are)
h(built-in)e(op)q(erators)i(of)f(TLA)1490 1201 y FS(+)1510
1216 y F4(.)18 b(There)208 1265 y(is)13 b(also)h(a)f(standard)h(mo)q
(dule)f FV(FiniteSets)k F4(that)d(de\014nes)h(t)o(w)o(o)f(op)q
(erators:)p Black 270 1339 a FV(Car)n(dinality)t F4(\()p
FV(S)5 b F4(\))p Black 20 w(The)14 b(n)o(um)o(b)q(er)f(of)h(elemen)o
(ts)f(in)h(set)h FV(S)5 b F4(,)13 b(if)g FV(S)20 b F4(is)13
b(a)h(\014nite)g(set.)p Black 270 1418 a FV(IsFiniteSet)t
F4(\()p FV(S)5 b F4(\))p Black 21 w(T)m(rue)14 b(i\013)g
FV(S)19 b F4(is)14 b(a)f(\014nite)h(set.)208 1492 y(The)c
FV(FiniteSets)j F4(mo)q(dule)c(app)q(ears)h(on)g(341.)16
b(The)10 b(de\014nition)g(of)f FV(Car)n(dinality)j F4(is)e(discussed)
208 1542 y(b)q(elo)o(w)j(on)h(page)g(70.)270 1592 y(Careless)i
(reasoning)f(ab)q(out)f(sets)i(can)f(lead)g(to)g(problems.)k(The)d
(classic)f(example)e(of)208 1641 y(this)h(is)f(Russell's)h(parado)o(x:)
p Black Black 311 1715 a(Let)h F0(R)g F4(b)q(e)g(the)g(set)h(of)e(all)f
(sets)j FV(S)k F4(suc)o(h)15 b(that)f FV(S)23 b FQ(=)-26
b F0(2)13 b FV(S)5 b F4(.)20 b(The)15 b(de\014nition)f(of)g
F0(R)311 1765 y F4(implies)e(that)i F0(R)e(2)f(R)j F4(is)g(true)h
(i\013)e F0(R)k FQ(=)-26 b F0(2)11 b(R)j F4(is)g(true.)208
1839 y(The)h(form)o(ula)e F0(R)19 b FQ(=)-26 b F0(2)14
b(R)i F4(is)f(the)h(negation)f(of)f F0(R)h(2)e(R)p F4(,)j(and)f(a)g
(form)o(ula)e(and)i(its)g(negation)208 1889 y(can)e(neither)g(b)q(oth)g
(b)q(e)h(true)f(nor)g(b)q(oth)g(b)q(e)h(false.)j(The)c(source)h(of)f
(the)g(parado)o(x)f(is)h(that)g F0(R)208 1939 y F4(isn't)h(a)h(set.)21
b(There's)16 b(no)f(w)o(a)o(y)f(to)h(write)g(it)f(in)h(TLA)1051
1924 y FS(+)1071 1939 y F4(.)21 b(In)o(tuitiv)o(ely)m(,)13
b F0(R)i F4(is)g(to)q(o)f(big)h(to)f(b)q(e)208 1989 y(a)g(set.)23
b(A)15 b(collection)f F0(C)j F4(is)e(to)q(o)g(big)f(to)h(b)q(e)h(a)f
(set)g(if)g(it)f(is)h(as)g(big)f(as)i(the)f(collection)g(of)f(all)208
2038 y(sets|meaning)e(that)h(w)o(e)h(can)f(assign)g(to)g(ev)o(ery)h
(set)h(a)e(di\013eren)o(t)h(elemen)o(t)f(of)f F0(C)r
F4(.)18 b(That)13 b(is,)208 2088 y F0(C)j F4(is)d(to)q(o)h(big)f(to)h
(b)q(e)g(a)g(set)h(if)e(w)o(e)h(can)g(de\014ne)h(an)f(op)q(erator)g
FV(SMap)k F4(suc)o(h)c(that)p Black 270 2162 a F0(\017)p
Black 20 w FV(SMap)s F4(\()p FV(S)5 b F4(\))15 b(is)f(in)g
F0(C)r F4(,)f(for)h(an)o(y)f(set)i FV(S)5 b F4(.)p Black
270 2241 a F0(\017)p Black 20 w F4(If)14 b FV(S)19 b
F4(and)14 b FV(T)19 b F4(are)14 b(t)o(w)o(o)f(di\013eren)o(t)i(sets,)g
(then)g FV(SMap)s F4(\()p FV(S)5 b F4(\))12 b F0(6)p
F4(=)g FV(SMap)s F4(\()p FV(T)6 b F4(\).)208 2315 y(F)m(or)12
b(example,)f(the)j(collection)e(of)g(all)g(sequences)j(of)e(length)f(2)
h(is)g(to)q(o)f(big)g(to)h(b)q(e)g(a)g(set;)h(w)o(e)208
2364 y(can)g(de\014ne)h(the)f(op)q(erator)g FV(SMap)k
F4(b)o(y)p Black Black 332 2443 a FV(SMap)s F4(\()p FV(S)5
b F4(\))538 2419 y FI(\001)533 2443 y F4(=)35 b F0(h)s
F4(1)p FQ(;)7 b FV(S)h F0(i)208 2517 y F4(This)13 b(op)q(erator)i
(assigns)f(to)g(ev)o(ery)g(set)h FV(S)k F4(a)14 b(di\013eren)o(t)h
(sequence)h(of)d(length)h(2.)p Black Black eop
%%Page: 67 85
67 84 bop Black 208 275 a FR(6.2.)30 b(SILL)m(Y)14 b(EXPRESSIONS)1207
b F4(67)p 208 282 1770 2 v Black 208 400 a FN(6.2)81
b(Silly)25 b(Expressions)208 491 y F4(Most)20 b(mo)q(dern)f
(programming)e(languages)i(in)o(tro)q(duce)i(some)e(form)f(of)i(t)o(yp)
q(e)h(c)o(hec)o(king)208 540 y(to)16 b(prev)o(en)o(t)i(y)o(ou)f(from)e
(writing)h(silly)g(expressions)j(lik)o(e)d(3)p FQ(=)p
F4(\\)p FD(ab)q(c)p F4(".)27 b(TLA)1401 525 y FS(+)1439
540 y F4(is)16 b(based)i(on)208 590 y(the)c(usual)g(formalizatio)o(n)d
(of)i(mathematics)f(b)o(y)i(mathematicia)o(ns,)d(whic)o(h)j(do)q(esn't)
g(ha)o(v)o(e)208 640 y(t)o(yp)q(es.)19 b(In)14 b(an)g(un)o(t)o(yp)q(ed)
h(formalism)o(,)10 b(ev)o(ery)15 b(syn)o(tactically)e(w)o(ell-formed)f
(expression)k(has)208 690 y(a)11 b(meaning|ev)o(en)f(a)h(silly)f
(expression)j(lik)o(e)e(3)p FQ(=)p F4(\\)p FD(ab)q(c)p
F4(".)17 b(Mathematically)m(,)9 b(the)j(expression)208
740 y(3)p FQ(=)p F4(\\)p FD(ab)q(c)p F4(")d(is)h(no)f(sillier)g(than)h
(the)g(expression)h(3)p FQ(=)p F4(0,)f(and)f(mathematicians)e
(implicitly)g(write)208 789 y(that)13 b(silly)g(expression)i(all)e(the)
h(time.)j(F)m(or)d(example,)e(consider)i(the)h(true)g(form)o(ula)p
Black Black 332 872 a F0(8)7 b FV(x)17 b F0(2)11 b FV(R)n(e)n(al)23
b F4(:)18 b(\()p FV(x)f F0(6)p F4(=)11 b(0\))h F0(\))f
F4(\()p FV(x)k F0(\003)9 b F4(\(3)p FQ(=)p FV(x)c F4(\))11
b(=)h(3\))208 955 y(where)f FV(R)n(e)n(al)j F4(is)9 b(the)i(set)f(of)g
(all)e(real)i(n)o(um)o(b)q(ers.)16 b(This)10 b(asserts)i(that)d(\()p
FV(x)17 b F0(6)p F4(=)12 b(0\))g F0(\))f F4(\()p FV(x)6
b F0(\003)q F4(\(3)p FQ(=)p FV(x)f F4(\))12 b(=)208 1005
y(3\))k(is)g(true)i(for)e(all)f(real)i(n)o(um)o(b)q(ers)f
FV(x)5 b F4(.)27 b(Substituting)16 b(0)g(for)h FV(x)k
F4(yields)c(the)g(true)g(form)o(ula)208 1055 y(\(0)11
b F0(6)p F4(=)h(0\))f F0(\))g F4(\(0)s F0(\003)s F4(\(3)p
FQ(=)p F4(0\))h(=)g(3\))f(that)g(con)o(tains)f(the)i(silly)e
(expression)i(3)p FQ(=)p F4(0.)k(It's)11 b(true)h(b)q(ecause)208
1105 y(0)f F0(6)p F4(=)h(0)h(equals)h FP(f)l(alse)r F4(,)f(and)h
FP(f)l(alse)f F0(\))e FV(P)18 b F4(is)c(true)h(for)e(an)o(y)g(form)o
(ula)f FV(P)t F4(.)270 1155 y(A)h(correct)i(form)o(ula)c(can)i(con)o
(tain)g(silly)f(expressions.)20 b(F)m(or)12 b(example,)g(3)p
FQ(=)p F4(0)f(=)h(3)p FQ(=)p F4(0)g(is)h(a)208 1205 y(correct)i(form)o
(ula)c(b)q(ecause)16 b(an)o(y)e(v)n(alue)f(equals)h(itself.)j(Ho)o(w)o
(ev)o(er,)d(the)h(truth)f(of)g(a)f(correct)208 1254 y(form)o(ula)e
(cannot)j(dep)q(end)h(on)e(the)i(meaning)d(of)h(a)g(silly)g
(expression.)19 b(If)13 b(an)h(expression)h(is)208 1304
y(silly)m(,)10 b(then)i(its)g(meaning)e(is)i(probably)f(unsp)q
(eci\014ed.)19 b(The)12 b(de\014nitions)g(of)f FQ(=)h
F4(and)f F0(\003)h F4(\(whic)o(h)208 1354 y(are)h(in)f(the)h(standard)g
(mo)q(dule)e FV(R)n(e)n(als)s F4(\))i(don't)g(sp)q(ecify)g(the)g(v)n
(alue)f(of)g(0)7 b F0(\003)g F4(\(3)p FQ(=)p F4(0\),)k(so)i(there's)208
1404 y(no)g(w)o(a)o(y)g(of)h(kno)o(wing)e(whether)k(that)e(v)n(alue)f
(equals)h(3.)270 1454 y(No)j(sensible)h(syn)o(tactic)g(rules)g(can)g
(prev)o(en)o(t)g(y)o(ou)f(from)e(writing)i(3)p FQ(=)p
F4(0)g(without)f(also)208 1503 y(prev)o(en)o(ting)e(y)o(ou)g(from)f
(writing)h(p)q(erfectly)h(reasonable)g(expressions.)22
b(The)14 b(t)o(yping)g(rules)208 1553 y(of)9 b(programmi)o(ng)e
(languages)i(in)o(tro)q(duce)i(complexit)o(y)d(and)h(limitations)e(on)j
(what)f(y)o(ou)h(can)208 1603 y(write)h(that)h(don't)f(exist)h(in)f
(ordinary)g(mathematics.)k(In)c(a)g(w)o(ell-designed)h(programmi)o(ng)
208 1653 y(language,)g(the)i(costs)h(of)e(t)o(yp)q(es)h(are)g(balanced)
g(b)o(y)f(b)q(ene\014ts:)20 b(t)o(yp)q(es)15 b(allo)o(w)c(a)j(compiler)
e(to)208 1703 y(pro)q(duce)g(more)f(e\016cien)o(t)h(co)q(de,)g(and)g(t)
o(yp)q(e)g(c)o(hec)o(king)g(catc)o(hes)h(errors.)18 b(F)m(or)12
b(programmi)o(ng)208 1752 y(languages,)g(the)j(b)q(ene\014ts)g(seem)e
(to)h(out)o(w)o(eigh)f(the)h(costs.)19 b(F)m(or)14 b(writing)f(sp)q
(eci\014cations,)h(I)208 1802 y(ha)o(v)o(e)f(found)h(that)g(the)g
(costs)h(out)o(w)o(eigh)e(the)i(b)q(ene\014ts.)270 1852
y(If)10 b(y)o(ou're)h(used)g(to)g(the)g(constrain)o(ts)h(of)e
(programmi)o(ng)e(languages,)i(it)h(ma)o(y)e(b)q(e)i(a)f(while)208
1902 y(b)q(efore)15 b(y)o(ou)f(start)h(taking)f(adv)n(an)o(tage)g(of)g
(the)h(freedom)f(a\013orded)h(b)o(y)g(mathematics.)j(A)o(t)208
1952 y(\014rst,)12 b(y)o(ou)e(w)o(on't)h(think)f(of)h(de\014ning)g(an)o
(ything)f(lik)o(e)h(the)g(op)q(erator)h FV(R)h F4(de\014ned)f(on)f
(page)g(50)208 2002 y(of)i(Section)h(5.2,)f(whic)o(h)g(couldn't)h(b)q
(e)g(written)h(in)e(a)h(t)o(yp)q(ed)g(programming)c(language.)208
2160 y FN(6.3)81 b(Recursion)26 b(Revisited)208 2251
y F4(Section)16 b(5.5)f(in)o(tro)q(duced)i(recursiv)o(e)h(function)d
(de\014nitions.)25 b(Let's)17 b(no)o(w)e(examine)g(what)208
2301 y(suc)o(h)i(de\014nitions)f(mean)f(mathematicall)o(y)m(.)22
b(Mathematicians)15 b(usually)g(de\014ne)i(the)g(fac-)208
2350 y(torial)12 b(function)i FV(fact)k F4(b)o(y)13 b(writing)p
Black Black 332 2433 a FV(fact)t F4([)p FV(n)s F4(])34
b(=)h FP(if)23 b FV(n)15 b F4(=)d(0)21 b FP(then)j F4(1)f
FP(else)h FV(n)13 b F0(\003)c FV(fact)t F4([)p FV(n)j
F0(\000)d F4(1])p FQ(;)27 b F4(for)13 b(all)g FV(n)i
F0(2)c FV(Nat)p Black Black eop
%%Page: 68 86
68 85 bop Black 208 275 a F4(68)1034 b FR(CHAPTER)14
b(6.)32 b(SOME)15 b(MORE)f(MA)m(TH)p 208 282 1770 2 v
Black 208 391 a F4(This)f(de\014nition)f(can)i(b)q(e)f(justi\014ed)h(b)
o(y)f(pro)o(ving)f(that)h(it)g(de\014nes)h(a)f(unique)g(function)g
FV(fact)208 441 y F4(with)g(domain)f FV(Nat)t F4(.)17
b(In)d(other)h(w)o(ords,)f FV(fact)j F4(is)d(the)g(unique)g(v)n(alue)g
(satisfying)p Black Black 332 511 a FV(fact)h F4(=)d([)p
FV(n)j F0(2)c FV(Nat)k F0(7!)c FP(if)23 b FV(n)16 b F4(=)11
b(0)22 b FP(then)i F4(1)f FP(else)h FV(n)12 b F0(\003)d
FV(fact)t F4([)p FV(n)j F0(\000)e F4(1])o(])p Black -1201
w(\(6.1\))p Black 208 582 a(The)17 b FP(choose)g F4(op)q(erator,)h(in)o
(tro)q(duced)f(on)f(pages)h(47{48)f(of)g(Section)h(5.1,)f(allo)o(ws)f
(us)i(to)208 632 y(express)g(\\the)e(v)n(alue)g FV(x)20
b F4(satisfying)15 b(prop)q(ert)o(y)h FV(p)s F4(")e(as)i
FP(choose)g FV(x)e F4(:)7 b FV(p)s F4(.)22 b(W)m(e)15
b(can)g(therefore)208 681 y(de\014ne)f FV(fact)k F4(as)c(follo)o(ws)e
(to)i(b)q(e)h(the)f(v)n(alue)f(satisfying)g(\(6.1\):)p
Black Black 332 758 a FV(fact)442 735 y FI(\001)437 758
y F4(=)35 b FP(choose)17 b FV(fact)22 b F4(:)546 808
y FV(fact)15 b F4(=)d([)p FV(n)j F0(2)c FV(Nat)k F0(7!)c
FP(if)23 b FV(n)15 b F4(=)d(0)21 b FP(then)j F4(1)1077
858 y FP(else)36 b FV(n)13 b F0(\003)c FV(fact)t F4([)p
FV(n)j F0(\000)e F4(1])d(])p Black 208 758 a(\(6.2\))p
Black 208 929 a(\(Since)17 b(the)g(sym)o(b)q(ol)e FV(fact)20
b F4(is)c(not)h(y)o(et)g(de\014ned)g(in)g(the)g(expression)h(to)e(the)h
(righ)o(t)f(of)g(the)208 985 y(\\)240 961 y FI(\001)235
985 y F4(=)7 b(",)19 b(w)o(e)g(can)f(use)h(it)f(as)h(the)g(b)q(ound)f
(iden)o(ti\014er)h(in)f(the)h FP(choose)g F4(expression.\))32
b(The)208 1035 y(TLA)295 1020 y FS(+)329 1035 y F4(de\014nition)p
Black Black 332 1105 a FV(fact)t F4([)p FV(n)14 b F0(2)e
FV(Nat)t F4(])612 1082 y FI(\001)608 1105 y F4(=)34 b
FP(if)24 b FV(n)15 b F4(=)c(0)22 b FP(then)i F4(1)f FP(else)h
FV(n)12 b F0(\003)d FV(fact)t F4([)p FV(n)j F0(\000)e
F4(1])208 1187 y(is)i(simply)e(an)j(abbreviation)e(for)i(\(6)p
FQ(:)p F4(2\).)j(In)d(general,)19 b FV(f)9 b F4([)p FV(x)16
b F0(2)11 b FV(S)5 b F4(])1234 1163 y FI(\001)1230 1187
y F4(=)18 b FV(e)23 b F4(is)12 b(an)h(abbreviation)208
1236 y(for)p Black Black 332 1307 a FV(f)393 1283 y FI(\001)388
1307 y F4(=)35 b FP(choose)17 b FV(f)27 b F4(:)18 b FV(f)i
F4(=)12 b([)p FV(x)k F0(2)11 b FV(S)17 b F0(7!)11 b FV(e)s
F4(])p Black -768 w(\(6.3\))p Black 270 1377 a(TLA)357
1362 y FS(+)391 1377 y F4(allo)o(ws)i(y)o(ou)g(to)h(write)g(silly)f
(de\014nitions.)18 b(F)m(or)c(example,)e(y)o(ou)h(can)h(write)p
Black Black 332 1452 a FV(cir)n(c)r F4([)p FV(n)g F0(2)e
FV(Nat)t F4(])610 1428 y FI(\001)605 1452 y F4(=)35 b
FP(choose)17 b FV(y)22 b F4(:)c FV(y)e F0(6)p F4(=)11
b FV(cir)n(c)r F4([)p FV(n)s F4(])p Black -895 w(\(6.4\))p
Black 208 1522 a(This)19 b(app)q(ears)i(to)f(de\014ne)h
FV(cir)n(c)h F4(to)d(b)q(e)i(a)f(function)f(suc)o(h)i(that)f
FV(cir)n(c)r F4([)p FV(n)s F4(])h F0(6)p F4(=)h FV(cir)n(c)r
F4([)p FV(n)s F4(])d(for)208 1572 y(an)o(y)e(natural)g(n)o(um)o(b)q(er)
g FV(n)s F4(.)29 b(There)19 b(ob)o(viously)d(is)i(no)f(suc)o(h)h
(function,)g(so)g FV(cir)n(c)h F4(can't)e(b)q(e)208 1622
y(de\014ned)f(to)f(equal)g(it.)23 b(A)15 b(recursiv)o(e)i(function)e
(de\014nition)g(do)q(esn't)h(necessarily)h(de\014ne)f(a)208
1671 y(function.)26 b(If)16 b(there)i(is)e(no)h FV(f)25
b F4(that)17 b(equals)g([)p FV(x)k F0(2)15 b FV(S)22
b F0(7!)16 b FV(e)s F4(],)g(then)i(\(6.3\))d(de\014nes)k
FV(f)25 b F4(to)16 b(b)q(e)208 1721 y(some)c(unsp)q(eci\014ed)j(v)n
(alue.)j(Th)o(us,)13 b(the)h(nonsensical)g(de\014nition)f(\(6.4\))g
(de\014nes)i FV(cir)n(c)g F4(to)e(b)q(e)208 1771 y(some)g(unkno)o(wn)g
(v)n(alue.)270 1821 y(Although)h(TLA)541 1806 y FS(+)576
1821 y F4(allo)o(ws)f(the)j(apparen)o(t)f(circularit)o(y)f(of)g(a)g
(recursiv)o(e)i(function)f(de\014-)208 1871 y(nition,)d(it)i(do)q(es)h
(not)g(allo)o(w)d(circular)j(de\014nitions)f(in)g(whic)o(h)g(t)o(w)o(o)
g(or)g(more)f(functions)h(are)208 1920 y(de\014ned)g(in)f(terms)g(of)g
(one)h(another.)k(Mathematicians)12 b(o)q(ccasionally)g(write)i(suc)o
(h)g(m)o(utu-)208 1970 y(ally)d(recursiv)o(e)j(de\014nitions.)k(F)m(or)
12 b(example,)g(they)h(migh)o(t)d(try)k(to)e(de\014ne)i(functions)f
FV(f)21 b F4(and)208 2020 y FV(g)t F4(,)13 b(with)g(domains)f(equal)i
(to)f(the)i(set)g FV(Nat)t F4(,)e(b)o(y)h(writing)p Black
Black 332 2095 a FV(f)9 b F4([)p FV(n)14 b F0(2)d FV(Nat)t
F4(])553 2071 y FI(\001)548 2095 y F4(=)23 b FP(if)g
FV(n)16 b F4(=)11 b(0)22 b FP(then)i F4(17)e FP(else)i
FV(f)9 b F4([)p FV(n)j F0(\000)e F4(1])e F0(\003)h FV(g)t
F4([)p FV(n)s F4(])332 2159 y FV(g)t F4([)p FV(n)14 b
F0(2)e FV(Nat)t F4(])553 2135 y FI(\001)548 2159 y F4(=)23
b FP(if)g FV(n)16 b F4(=)11 b(0)22 b FP(then)i F4(42)e
FP(else)i FV(f)9 b F4([)p FV(n)j F0(\000)e F4(1])e(+)i
FV(g)t F4([)p FV(n)i F0(\000)d F4(1])p .95 TeXcolorgray
.95 TeXcolorgray 1453 2142 460 84 v .95 TeXcolorgray
Black 1461 2095 a FZ(This)j(pair)e(of)h(de\014nitions)e(is)1461
2134 y(not)i(allo)o(w)o(ed)f(in)h(TLA)1763 2122 y FK(+)1784
2134 y FZ(.)p .95 TeXcolorgray Black 208 2231 a F4(TLA)295
2216 y FS(+)334 2231 y F4(do)q(es)19 b(not)f(allo)o(w)e(m)o(utually)g
(recursiv)o(e)k(de\014nitions.)31 b(Ho)o(w)o(ev)o(er,)20
b(w)o(e)e(can)h(de\014ne)208 2281 y(these)c(functions)f
FV(f)23 b F4(and)14 b FV(g)j F4(in)d(TLA)782 2266 y FS(+)817
2281 y F4(as)g(follo)o(ws.)j(W)m(e)d(\014rst)h(de\014ne)g(a)e(function)
h FV(mr)k F4(suc)o(h)208 2331 y(that)13 b FV(mr)t F4([)p
FV(n)s F4(])h(is)g(a)f(record)i(whose)g FV(f)22 b F4(and)14
b FV(g)j F4(\014elds)e(equal)e FV(f)c F4([)p FV(n)s F4(])k(and)h
FV(g)t F4([)p FV(n)s F4(],)f(resp)q(ectiv)o(ely:)p Black
Black 332 2408 a FV(mr)t F4([)p FV(n)i F0(2)c FV(Nat)t
F4(])597 2384 y FI(\001)593 2408 y F4(=)415 2465 y([)p
FV(f)32 b F0(7!)23 b FP(if)g FV(n)15 b F4(=)d(0)21 b
FP(then)j F4(17)f FP(else)h FV(mr)t F4([)p FV(n)12 b
F0(\000)e F4(1])p FQ(:)p FV(f)16 b F0(\003)9 b FV(mr)t
F4([)p FV(n)s F4(])p FQ(:)p FV(g)h FQ(;)427 2522 y FV(g)26
b F0(7!)d FP(if)g FV(n)15 b F4(=)d(0)21 b FP(then)j F4(42)f
FP(else)h FV(mr)t F4([)p FV(n)12 b F0(\000)e F4(1])p
FQ(:)p FV(f)16 b F4(+)10 b FV(mr)t F4([)p FV(n)i F0(\000)d
F4(1])p FQ(:)p FV(g)h F4(])p Black Black eop
%%Page: 69 87
69 86 bop Black 208 275 a FR(6.4.)30 b(FUNCTIONS)15 b(VERSUS)f(OPERA)m
(TORS)923 b F4(69)p 208 282 1770 2 v Black 208 391 a(W)m(e)13
b(can)h(then)h(de\014ne)g FV(f)22 b F4(and)14 b FV(g)j
F4(in)d(terms)f(of)h FV(mr)t F4(:)p Black Black 332 479
a FV(f)9 b F4([)p FV(n)14 b F0(2)d FV(Nat)t F4(])553
455 y FI(\001)548 479 y F4(=)23 b FV(mr)t F4([)p FV(n)s
F4(])p FQ(:)p FV(f)332 547 y(g)t F4([)p FV(n)14 b F0(2)e
FV(Nat)t F4(])553 523 y FI(\001)548 547 y F4(=)23 b FV(mr)t
F4([)p FV(n)s F4(])p FQ(:)p FV(g)208 628 y F4(This)14
b(tric)o(k)h(can)g(b)q(e)g(used)h(to)e(con)o(v)o(ert)i(an)o(y)e(m)o
(utually)e(recursiv)o(e)k(de\014nitions)f(in)o(to)f(a)g(sin-)208
678 y(gle)h(recursiv)o(e)i(de\014nition)e(of)g(a)g(record-v)n(alued)h
(function)f(whose)h(\014elds)g(are)g(the)g(desired)208
728 y(functions.)270 777 y(If)h(w)o(e)g(w)o(an)o(t)g(to)g(reason)h(ab)q
(out)f(a)g(function)g FV(f)26 b F4(de\014ned)18 b(b)o(y)f
FV(f)9 b F4([)p FV(x)16 b F0(2)11 b FV(S)5 b F4(])1408
754 y FI(\001)1403 777 y F4(=)12 b FV(e)s F4(,)17 b(w)o(e)h(need)208
827 y(to)e(pro)o(v)o(e)g(that)h(there)g(exists)h(an)e
FV(f)25 b F4(that)16 b(equals)h([)p FV(x)f F0(2)11 b
FV(S)17 b F0(7!)11 b FV(e)s F4(].)25 b(The)17 b(existence)h(of)e
FV(f)25 b F4(is)208 877 y(ob)o(vious)12 b(if)g FV(f)22
b F4(do)q(es)14 b(not)f(o)q(ccur)h(in)f FV(e)s F4(.)18
b(If)12 b(it)h(do)q(es,)h(so)f(this)g(is)g(a)g(recursiv)o(e)i
(de\014nition,)d(then)208 927 y(there)17 b(is)f(something)f(to)i(pro)o
(v)o(e.)25 b(Since)17 b(I'm)e(not)h(discussing)h(pro)q(ofs,)f(I)g(w)o
(on't)g(describ)q(e)208 977 y(ho)o(w)10 b(to)h(pro)o(v)o(e)g(it.)17
b(In)o(tuitiv)o(ely)m(,)9 b(y)o(ou)i(ha)o(v)o(e)g(to)g(c)o(hec)o(k)h
(that,)f(as)g(in)f(the)i(case)g(of)e(the)i(factorial)208
1027 y(function,)h(the)h(de\014nition)g(uniquely)f(determines)h(the)h
(v)n(alue)e(of)g FV(f)c F4([)p FV(x)c F4(])13 b(for)g(ev)o(ery)i
FV(x)k F4(in)14 b FV(S)5 b F4(.)270 1076 y(Recursion)11
b(is)g(a)f(common)e(programmi)o(ng)g(tec)o(hnique)k(b)q(ecause)g
(programs)e(m)o(ust)f(com-)208 1126 y(pute)17 b(v)n(alues)g(using)f(a)h
(small)d(rep)q(ertoire)19 b(of)d(simple)f(elemen)o(tary)h(op)q
(erations.)27 b(It's)17 b(not)208 1176 y(used)12 b(as)g(often)h(in)e
(mathematical)e(de\014nitions,)j(where)h(w)o(e)f(needn't)h(w)o(orry)f
(ab)q(out)f(ho)o(w)h(to)208 1226 y(compute)j(the)h(v)n(alue)f(and)h
(can)g(use)h(the)f(p)q(o)o(w)o(erful)f(op)q(erators)i(of)e(logic)g(and)
h(set)g(theory)m(.)208 1276 y(F)m(or)f(example,)g(the)i(op)q(erators)g
FV(He)n(ad)t F4(,)g FV(T)m(ail)t F4(,)e(and)h F0(\016)g
F4(are)h(de\014ned)g(in)f(Section)g(5.4)f(with-)208 1325
y(out)f(recursion,)i(ev)o(en)g(though)e(computer)h(scien)o(tists)h
(usually)e(de\014ne)i(them)e(recursiv)o(ely)m(.)208 1375
y(Still,)g(there)i(are)g(some)f(things)g(that)h(are)g(b)q(est)g
(de\014ned)h(inductiv)o(ely)m(,)d(using)h(a)g(recursiv)o(e)208
1425 y(function)e(de\014nition.)208 1583 y FN(6.4)81
b(F)-7 b(unctions)27 b(v)n(ersus)e(Op)r(erators)208 1674
y F4(Consider)14 b(these)h(de\014nitions,)f(whic)o(h)f(w)o(e'v)o(e)h
(seen)h(b)q(efore:)p Black Black 332 1762 a FV(T)m(ail)t
F4(\()p FV(s)s F4(\))499 1738 y FI(\001)495 1762 y F4(=)35
b([)p FV(i)15 b F0(2)c F4(1)i FQ(:)7 b(:)13 b F4(\()p
FV(L)n(en)s F4(\()p FV(s)s F4(\))e F0(\000)e F4(1\))j
F0(7!)f FV(s)s F4([)p FV(i)i F4(+)c(1]])332 1830 y FV(fact)t
F4([)p FV(n)14 b F0(2)e FV(Nat)t F4(])612 1806 y FI(\001)608
1830 y F4(=)34 b FP(if)24 b FV(n)15 b F4(=)c(0)22 b FP(then)i
F4(1)f FP(else)h FV(n)12 b F0(\003)d FV(fact)t F4([)p
FV(n)j F0(\000)e F4(1])208 1911 y(They)16 b(de\014ne)h(t)o(w)o(o)e(v)o
(ery)h(di\013eren)o(t)h(kinds)f(of)f(ob)r(jects:)23 b
FV(fact)c F4(is)d(a)g(function,)f(and)h FV(T)m(ail)j
F4(is)208 1961 y(an)13 b(op)q(erator.)19 b(F)m(unctions)14
b(and)f(op)q(erators)i(di\013er)g(in)e(a)h(few)g(basic)g(w)o(a)o(ys.)
270 2011 y(Their)c(most)e(ob)o(vious)h(di\013erence)i(is)f(that)f(a)h
(function)f(lik)o(e)g FV(fact)k F4(b)o(y)c(itself)h(is)f(a)g(complete)
208 2060 y(expression)h(that)f(denotes)i(a)e(v)n(alue,)g(but)g(an)g(op)
q(erator)h(lik)o(e)f FV(T)m(ail)j F4(is)e(not.)16 b(Both)10
b FV(fact)t F4([)p FV(n)s F4(])g F0(2)i FV(S)208 2110
y F4(and)18 b FV(fact)d F0(2)d FV(S)24 b F4(are)19 b(syn)o(tactically)f
(correct)i(expressions.)35 b(But,)20 b(while)e FV(T)m(ail)t
F4(\()p FV(n)s F4(\))12 b F0(2)f FV(S)24 b F4(is)208
2160 y(syn)o(tactically)16 b(correct,)j FV(T)m(ail)c
F0(2)c FV(S)22 b F4(is)17 b(not.)28 b(It)17 b(is)g(gibb)q(erish|a)f
(meaningless)g(string)h(of)208 2210 y(sym)o(b)q(ols,)12
b(lik)o(e)h FV(x)5 b F4(+)12 b FQ(>)g F4(0)o(.)270 2260
y(Unlik)o(e)d(an)h(op)q(erator,)h(a)f(function)f(m)o(ust)g(ha)o(v)o(e)h
(a)g(domain,)e(whic)o(h)i(is)g(a)f(set.)18 b(W)m(e)10
b(cannot)208 2310 y(de\014ne)18 b(a)f(function)g FV(T)m(ail)k
F4(so)c(that)g FV(T)m(ail)t F4([)p FV(s)s F4(])f(is)i(the)g(tail)e(of)h
(an)o(y)f(nonempt)o(y)h(sequence)i FV(s)s F4(;)208 2359
y(the)e(domain)d(of)i(suc)o(h)i(a)e(function)g(w)o(ould)g(ha)o(v)o(e)h
(to)f(include)h(all)e(nonempt)o(y)h(sequences,)208 2409
y(and)h(the)h(collection)f(of)f(all)h(suc)o(h)h(sequences)i(is)d(to)q
(o)g(big)g(to)g(b)q(e)h(a)f(set.)29 b(\(As)18 b(explained)208
2459 y(on)d(page)h(66,)g(a)f(collection)h F0(C)i F4(is)e(to)q(o)g(big)f
(to)h(b)q(e)g(a)g(set)h(if)e(w)o(e)h(can)g(assign)g(to)g(eac)o(h)g(set)
h(a)208 2513 y(di\013eren)o(t)e(mem)o(b)q(er)e(of)h F0(C)r
F4(.)21 b(The)15 b(op)q(erator)h FV(SMap)i F4(de\014ned)e(b)o(y)e
FV(SMap)s F4(\()p FV(S)5 b F4(\))1398 2489 y FI(\001)1393
2513 y F4(=)14 b F0(h)s FV(S)9 b F0(i)15 b F4(assigns)p
Black Black eop
%%Page: 70 88
70 87 bop Black 208 275 a F4(70)1034 b FR(CHAPTER)14
b(6.)32 b(SOME)15 b(MORE)f(MA)m(TH)p 208 282 1770 2 v
Black 208 391 a F4(to)g(ev)o(ery)i(set)g(a)e(di\013eren)o(t)i(nonempt)o
(y)e(sequence.\))23 b(Hence,)16 b(w)o(e)f(can't)g(de\014ne)g
FV(T)m(ail)k F4(to)14 b(b)q(e)208 441 y(a)f(function.)270
491 y(Unlik)o(e)f(a)h(function,)f(an)g(op)q(erator)i(cannot)f(b)q(e)g
(de\014ned)h(recursiv)o(ely)g(in)e(TLA)1501 476 y FS(+)1522
491 y F4(.)17 b(Ho)o(w-)208 541 y(ev)o(er,)k(w)o(e)e(can)h(usually)e
(transform)g(an)i(illegal)d(recursiv)o(e)k(op)q(erator)f(de\014nition)f
(in)o(to)f(a)208 591 y(nonrecursiv)o(e)d(one)f(using)g(a)f(recursiv)o
(e)j(function)d(de\014nition.)18 b(F)m(or)c(example,)e(let's)i(try)g
(to)208 640 y(de\014ne)i(the)g FV(Car)n(dinality)i F4(op)q(erator)e(on)
f(\014nite)h(sets.)23 b(\(Recall)15 b(that)g(the)h(cardinalit)o(y)e(of)
h(a)208 690 y(\014nite)g(set)i FV(S)k F4(is)15 b(the)h(n)o(um)o(b)q(er)
f(of)g(elemen)o(ts)h(in)f FV(S)5 b F4(.\))24 b(The)16
b(collection)f(of)g(all)f(\014nite)i(sets)h(is)208 747
y(to)q(o)11 b(big)f(to)i(b)q(e)g(a)f(set.)18 b(\(The)12
b(op)q(erator)g FV(SMap)s F4(\()p FV(S)5 b F4(\))1005
723 y FI(\001)1001 747 y F4(=)11 b F0(f)p FV(S)5 b F0(g)12
b F4(assigns)f(to)h(eac)o(h)f(set)i(a)e(di\013eren)o(t)208
796 y(set)j(of)f(cardinalit)o(y)f(1.\))17 b(The)d FV(Car)n(dinality)i
F4(op)q(erator)e(has)g(a)f(simple)e(in)o(tuitiv)o(e)i(de\014nition:)p
Black 270 879 a F0(\017)p Black 20 w FV(Car)n(dinality)t
F4(\()p F0(fg)p F4(\))d(=)i(0.)p Black 270 962 a F0(\017)p
Black 20 w F4(If)i FV(S)19 b F4(is)14 b(a)f(nonempt)o(y)g(\014nite)h
(set,)g(then)p .95 TeXcolorgray .95 TeXcolorgray 1679
1056 307 127 v .95 TeXcolorgray Black Black 760 w FY(S)c
FW(n)c(f)p FY(x)t FW(g)11 b FZ(is)h(the)e(set)1687 1002
y(of)i(all)f(elemen)o(ts)e(in)1687 1041 y FY(S)16 b FZ(except)10
b FY(x)t FZ(.)p Black .95 TeXcolorgray Black Black Black
436 1029 a FV(Car)n(dinality)t F4(\()p FV(S)5 b F4(\))11
b(=)h(1)d(+)g FV(Car)n(dinality)t F4(\()p FV(S)i F0(n)c(f)p
FV(x)e F0(g)p F4(\))311 1095 y(where)15 b FV(x)k F4(is)14
b(an)g(arbitrary)g(elemen)o(t)f(of)g FV(S)5 b F4(.)208
1178 y(Using)13 b(the)h FP(choose)g F4(op)q(erator)g(to)f(describ)q(e)j
(an)d(arbitrary)g(elemen)o(t)g(of)g FV(S)5 b F4(,)13
b(w)o(e)h(can)g(write)208 1228 y(this)g(as)f(the)i(more)e(formal-lo)q
(o)o(king,)d(but)k(still)f(illegal,)f(de\014nition)p
Black Black 332 1315 a FV(Car)n(dinality)t F4(\()p FV(S)5
b F4(\))638 1292 y FI(\001)633 1315 y F4(=)p .95 TeXcolorgray
.95 TeXcolorgray 816 1335 568 57 v .95 TeXcolorgray Black
159 w FZ(This)12 b(is)f(not)g(a)h(legal)e(TLA)1188 1304
y FK(+)1220 1315 y FZ(de\014nition.)p .95 TeXcolorgray
Black 415 1368 a FP(if)23 b FV(S)17 b F4(=)12 b F0(fg)21
b FP(then)j F4(0)620 1418 y FP(else)36 b F4(1)9 b(+)g
FV(Car)n(dinality)t F4(\()p FV(S)i F0(n)c(f)p FP(choose)16
b FV(x)24 b F4(:)18 b FV(x)f F0(2)11 b FV(S)5 b F0(g)p
F4(\))208 1499 y(This)14 b(de\014nition)g(is)h(illegal)d(b)q(ecause)17
b(it's)d(circular|only)g(in)g(a)g(recursiv)o(e)i(function)f(de\014-)208
1553 y(nition)d(can)j(the)f(sym)o(b)q(ol)e(b)q(eing)i(de\014ned)h(app)q
(ear)f(to)g(the)h(righ)o(t)e(of)g(the)1355 1530 y FI(\001)1351
1553 y F4(=)7 b(.)270 1603 y(T)m(o)13 b(turn)i(this)f(in)o(to)f(a)h
(legal)f(de\014nition,)g(observ)o(e)i(that,)f(for)f(a)h(giv)o(en)g
(\014nite)g(set)h FV(S)5 b F4(,)14 b(w)o(e)208 1653 y(can)g(de\014ne)g
(a)g(function)f FV(CS)19 b F4(suc)o(h)c(that)f FV(CS)5
b F4([)p FV(T)h F4(])12 b(equals)h(the)i(cardinalit)o(y)d(of)i
FV(T)19 b F4(for)13 b(ev)o(ery)208 1703 y(subset)i FV(T)k
F4(of)13 b FV(S)5 b F4(.)18 b(The)d(de\014nition)e(is)p
Black Black 332 1786 a FV(CS)5 b F4([)p FV(T)16 b F0(2)c
FP(subset)d FV(S)c F4(])711 1762 y FI(\001)706 1786 y
F4(=)415 1836 y FP(if)23 b FV(T)17 b F4(=)12 b F0(fg)21
b FP(then)j F4(0)627 1885 y FP(else)36 b F4(1)9 b(+)g
FV(CS)c F4([)p FV(T)12 b F0(n)7 b(f)p FP(choose)16 b
FV(x)24 b F4(:)18 b FV(x)e F0(2)c FV(T)6 b F0(g)p F4(])208
1969 y(Since)13 b FV(S)19 b F4(is)13 b(a)g(subset)h(of)f(itself,)g
(this)g(de\014nes)h FV(CS)5 b F4([)p FV(S)g F4(])13 b(to)g(equal)g
FV(Car)n(dinality)t F4(\()p FV(S)5 b F4(\),)12 b(if)h
FV(S)18 b F4(is)13 b(a)208 2019 y(\014nite)h(set.)20
b(\(W)m(e)13 b(don't)h(kno)o(w)g(or)g(care)h(what)f FV(CS)5
b F4([)p FV(S)g F4(])13 b(equals)h(if)g FV(S)19 b F4(is)14
b(not)g(\014nite.\))19 b(So,)14 b(w)o(e)208 2069 y(can)g(de\014ne)h
(the)f FV(Car)n(dinality)j F4(op)q(erator)d(b)o(y)p Black
Black 332 2156 a FV(Car)n(dinality)t F4(\()p FV(S)5 b
F4(\))638 2132 y FI(\001)633 2156 y F4(=)415 2212 y FP(let)23
b FV(CS)5 b F4([)p FV(T)16 b F0(2)c FP(subset)d FV(S)c
F4(])886 2189 y FI(\001)882 2212 y F4(=)590 2262 y FP(if)23
b FV(T)17 b F4(=)12 b F0(fg)21 b FP(then)j F4(0)802 2312
y FP(else)36 b F4(1)9 b(+)g FV(CS)c F4([)p FV(T)12 b
F0(n)7 b(f)p FP(choose)16 b FV(x)24 b F4(:)18 b FV(x)e
F0(2)c FV(T)6 b F0(g)p F4(])415 2362 y FP(in)54 b FV(CS)5
b F4([)p FV(S)g F4(])270 2443 y(Op)q(erators)13 b(also)e(di\013er)h
(from)e(functions)h(in)g(that)h(an)f(op)q(erator)i(can)e(tak)o(e)h(an)f
(op)q(erator)208 2493 y(as)h(an)h(argumen)o(t.)k(F)m(or)12
b(example,)f(w)o(e)i(can)h(de\014ne)f(an)g(op)q(erator)g
FV(IsPartialOr)n(der)j F4(so)d(that)p Black Black eop
%%Page: 71 89
71 88 bop Black 208 275 a FR(6.4.)30 b(FUNCTIONS)15 b(VERSUS)f(OPERA)m
(TORS)923 b F4(71)p 208 282 1770 2 v Black 208 391 a
FV(IsPartialOr)n(der)t F4(\()p FV(R)r FQ(;)7 b FV(S)e
F4(\))11 b(equals)j(true)g(i\013)f(the)h(op)q(erator)f
FV(R)i F4(de\014nes)g(an)e(irre\015exiv)o(e)h(partial)208
441 y(order)g(on)g FV(S)5 b F4(.)18 b(The)c(de\014nition)g(is)p
.95 TeXcolorgray .95 TeXcolorgray 1679 686 307 277 v
.95 TeXcolorgray Black Black 957 w FZ(If)e(y)o(ou)e(don't)g(kno)o(w)
1687 481 y(what)i(an)f(irre\015ex-)1687 520 y(iv)o(e)g(partial)f(order)
1687 559 y(is,)i(read)e(this)1687 599 y(de\014nition)f(of)1687
638 y FY(IsPartialOr)n(der)1687 678 y FZ(to)j(\014nd)e(out.)p
Black .95 TeXcolorgray Black Black Black 332 524 a FV(IsPartialOr)n
(der)t F4(\()p FV(R)r F4(\()p 672 524 21 3 v 34 w FQ(;)p
724 524 V 41 w F4(\))p FQ(;)j FV(S)5 b F4(\))877 500
y FI(\001)872 524 y F4(=)415 577 y F0(^)14 b(8)7 b FV(x)e
FQ(;)i FV(y)t FQ(;)g FV(z)15 b F0(2)c FV(S)24 b F4(:)18
b FV(R)r F4(\()p FV(x)5 b FQ(;)i FV(y)t F4(\))i F0(^)g
FV(R)r F4(\()p FV(y)t FQ(;)e FV(z)e F4(\))11 b F0(\))g
FV(R)r F4(\()p FV(x)5 b FQ(;)i FV(z)e F4(\))415 630 y
F0(^)14 b(8)7 b FV(x)16 b F0(2)c FV(S)23 b F4(:)18 b
F0(:)p FV(R)r F4(\()p FV(x)5 b FQ(;)i FV(x)e F4(\))208
710 y(W)m(e)11 b(could)h(also)g(use)h(an)e(in\014x-op)q(erator)h(sym)o
(b)q(ol)f(lik)o(e)g F0(\036)h F4(instead)h(of)e FV(R)j
F4(as)e(the)h(parameter)208 760 y(of)g(the)h(de\014nition,)f(writing)p
Black Black 332 847 a FV(IsPartialOr)n(der)t F4(\()p
624 847 V 31 w F0(\036)p 685 847 V 33 w FQ(;)g FV(S)5
b F4(\))822 823 y FI(\001)817 847 y F4(=)415 900 y F0(^)14
b(8)7 b FV(x)e FQ(;)i FV(y)t FQ(;)g FV(z)15 b F0(2)c
FV(S)24 b F4(:)18 b(\()p FV(x)f F0(\036)12 b FV(y)t F4(\))d
F0(^)g F4(\()p FV(y)15 b F0(\036)d FV(z)5 b F4(\))12
b F0(\))f F4(\()p FV(x)17 b F0(\036)12 b FV(z)5 b F4(\))415
953 y F0(^)14 b(8)7 b FV(x)16 b F0(2)c FV(S)23 b F4(:)18
b F0(:)p F4(\()p FV(x)f F0(\036)12 b FV(x)5 b F4(\))208
1034 y(The)15 b(\014rst)h(argumen)o(t)d(of)i FV(IsPartialOr)n(der)i
F4(is)e(an)g(op)q(erator)g(that)g(tak)o(es)h(t)o(w)o(o)e(argumen)o(ts;)
208 1083 y(its)k(second)h(argumen)o(t)e(is)h(an)g(expression.)31
b(Since)19 b FQ(>)f F4(is)g(an)g(op)q(erator)h(that)f(tak)o(es)g(t)o(w)
o(o)208 1133 y(argumen)o(ts,)g(the)h(expression)h FV(IsPartialOr)n(der)
t F4(\()p FQ(>;)7 b FV(Nat)t F4(\))17 b(is)h(syn)o(tactically)g
(correct.)34 b(In)208 1183 y(fact,)14 b(it)h(equals)g
FP(tr)o(ue)p F4(,)g(if)f FQ(>)h F4(is)g(de\014ned)h(to)f(b)q(e)g(the)h
(usual)e(op)q(erator)i(on)f(n)o(um)o(b)q(ers.)20 b(The)208
1233 y(expression)12 b FV(IsPartialOr)n(der)t F4(\(+)p
FQ(;)7 b F4(3\))j(is)h(also)g(syn)o(tactically)g(correct,)i(but)f(it's)
f(silly)f(and)i(w)o(e)208 1283 y(ha)o(v)o(e)h(no)h(idea)g(whether)h(or)
f(not)f(it)h(equals)g FP(tr)o(ue)p F4(.)270 1332 y(There)d(is)f(one)g
(di\013erence)i(b)q(et)o(w)o(een)g(functions)e(and)g(op)q(erators)g
(that)h(is)e(subtle)i(and)f(not)208 1382 y(v)o(ery)15
b(imp)q(ortan)o(t,)f(but)i(I)f(will)f(men)o(tion)g(it)h(an)o(yw)o(a)o
(y)f(for)h(completeness.)23 b(The)16 b(de\014nition)208
1432 y(of)f FV(T)m(ail)k F4(de\014nes)f FV(T)m(ail)t
F4(\()p FV(s)s F4(\))e(for)f(all)g(v)n(alues)h(of)f FV(s)s
F4(.)25 b(F)m(or)15 b(example,)g(it)h(de\014nes)h FV(T)m(ail)t
F4(\(1)p FQ(=)p F4(2\))e(to)208 1482 y(equal)p Black
Black 332 1564 a([)p FV(i)g F0(2)c F4(1)j FQ(:)7 b(:)13
b F4(\()p FV(L)n(en)s F4(\(1)p FQ(=)p F4(2\))c F0(\000)h
F4(1\))h F0(7!)g F4(\(1)p FQ(=)p F4(2\)[)p FV(i)h F4(+)e(1]])p
Black -833 w(\(6.5\))p Black 208 1647 a(W)m(e)20 b(ha)o(v)o(e)g(no)g
(idea)h(what)f(this)g(expression)i(means,)f(b)q(ecause)h(w)o(e)f(don't)
f(kno)o(w)g(what)208 1697 y FV(L)n(en)s F4(\(1)p FQ(=)p
F4(2\))14 b(or)g(\(1)p FQ(=)p F4(2\)[)p FV(i)e F4(+)e(1])k(mean.)j
(But,)e(whatev)o(er)g(\(6.5\))e(means,)g(it)h(equals)g
FV(T)m(ail)t F4(\(1)p FQ(=)p F4(2\).)208 1746 y(The)f(de\014nition)g
(of)g FV(fact)j F4(de\014nes)f FV(fact)t F4([)p FV(n)s
F4(])d(only)h(for)g FV(n)i F0(2)c FV(Nat)t F4(.)18 b(It)13
b(tells)g(us)g(nothing)g(ab)q(out)208 1796 y(the)i(v)n(alue)g(of)f
FV(fact)t F4([1)p FQ(=)p F4(2].)20 b(The)c(expression)g
FV(fact)t F4([1)p FQ(=)p F4(2])d(is)i(syn)o(tactically)g(w)o
(ell-formed,)e(so)208 1846 y(it)f(to)q(o)g(denotes)h(some)f(v)n(alue.)
17 b(Ho)o(w)o(ev)o(er,)12 b(the)h(de\014nition)f(of)g
FV(fact)k F4(tells)d(us)f(nothing)g(ab)q(out)208 1896
y(what)h(that)h(v)n(alue)g(is.)270 1946 y(The)h(last)f(di\013erence)j
(b)q(et)o(w)o(een)e(op)q(erators)h(and)e(functions)h(has)g(nothing)e
(to)i(do)f(with)208 1995 y(mathematics)g(and)i(is)g(an)g(idiosyncrasy)g
(of)g(TLA)1017 1980 y FS(+)1038 1995 y F4(:)23 b(the)17
b(language)e(do)q(esn't)i(p)q(ermit)e(us)208 2045 y(to)e(de\014ne)i
(in\014x)f(functions.)k(Mathematicians)12 b(often)i(de\014ne)h
FQ(=)f F4(to)f(b)q(e)i(a)e(function)h(of)f(t)o(w)o(o)208
2095 y(argumen)o(ts,)h(but)i(w)o(e)f(can't)h(do)f(that)g(in)g(TLA)956
2080 y FS(+)977 2095 y F4(.)23 b(If)15 b(w)o(e)g(w)o(an)o(t)g(to)h
(de\014ne)g FQ(=)p F4(,)f(w)o(e)h(ha)o(v)o(e)f(no)208
2145 y(c)o(hoice)f(but)g(to)g(mak)o(e)e(it)i(an)f(op)q(erator.)270
2195 y(One)g(can)g(write)g(equally)f(nonsensical)h(things)f(using)h
(functions)f(or)h(op)q(erators.)18 b(Ho)o(w-)208 2245
y(ev)o(er,)e(whether)h(y)o(ou)f(use)g(functions)g(or)g(op)q(erators)g
(ma)o(y)e(determine)i(whether)h(the)f(non-)208 2294 y(sense)h(y)o(ou)f
(write)h(is)f(nonsyn)o(tactic)h(gibb)q(erish)f(or)g(syn)o(tactically)g
(correct)i(but)e(seman)o(ti-)208 2344 y(cally)f(silly)m(.)24
b(The)17 b(string)f(of)g(sym)o(b)q(ols)f(2\(\\)p FD(a)p
F4(")o(\))i(is)f(not)g(a)h(syn)o(tactically)e(correct)j(form)o(ula)208
2394 y(b)q(ecause)d(2)e(is)g(not)g(an)h(op)q(erator.)k(Ho)o(w)o(ev)o
(er,)13 b(2[\\)p FD(a)p F4(")o(],)g(whic)o(h)g(can)h(also)e(b)q(e)i
(written)g(2)p FQ(:)p FV(a)s F4(,)f(is)208 2444 y(a)d(syn)o(tactically)
h(correct)i(expression.)18 b(It's)11 b(nonsensical)h(b)q(ecause)h(2)e
(isn't)f(a)h(function,)1579 2429 y FS(1)1609 2444 y F4(so)p
Black 208 2478 576 2 v 254 2505 a FK(1)271 2517 y FZ(More)g(precisely)m
(,)e(w)o(e)j(don't)e(kno)o(w)i(whether)e(or)h(not)g(2)g(is)h(a)f
(function.)p Black Black Black eop
%%Page: 72 90
72 89 bop Black 208 275 a F4(72)1034 b FR(CHAPTER)14
b(6.)32 b(SOME)15 b(MORE)f(MA)m(TH)p 208 282 1770 2 v
Black 208 391 a F4(w)o(e)f(don't)f(kno)o(w)g(what)h(2[\\)p
FD(a)p F4(")n(])g(means.)j(Similarly)m(,)9 b FV(T)m(ail)t
F4(\()p FV(s)s FQ(;)e FV(t)t F4(\))12 b(is)g(syn)o(tactically)h
(incorrect)208 441 y(b)q(ecause)g FV(T)m(ail)j F4(is)11
b(an)h(op)q(erator)h(that)f(tak)o(es)g(a)g(single)f(argumen)o(t.)17
b(Ho)o(w)o(ev)o(er,)12 b(as)g(explained)208 491 y(in)j(Section)h
(16.1.7)e(on)h(page)h(301,)f FV(fact)t F4([)p FV(m)s
FQ(;)7 b FV(n)s F4(])15 b(is)g(syn)o(tactic)i(sugar)f(for)f
FV(fact)t F4([)p F0(h)s FV(m)s FQ(;)7 b FV(n)g F0(i)p
F4(],)15 b(so)208 541 y(it)k(is)g(a)h(syn)o(tactically)f(correct,)j
(seman)o(tically)c(silly)g(form)o(ula.)33 b(Whether)21
b(an)e(error)i(is)208 591 y(syn)o(tactic)15 b(or)g(seman)o(tic)g
(determines)g(what)g(kind)f(of)h(to)q(ol)f(can)i(catc)o(h)f(it.)21
b(In)16 b(particular,)208 640 y(the)h(parser)h(describ)q(ed)h(in)e
(Chapter)g(12)g(catc)o(hes)h(syn)o(tactic)g(errors,)h(but)e(not)g
(seman)o(tic)208 690 y(silliness.)g(The)d(TLC)f(mo)q(del)f(c)o(hec)o(k)
o(er,)j(describ)q(ed)g(in)e(Chapter)i(14,)d(will)g(rep)q(ort)j(an)e
(error)208 740 y(if)g(it)g(tries)i(to)e(ev)n(aluate)h(a)g(seman)o
(tically)d(silly)i(expression.)270 790 y(The)g(distinction)f(b)q(et)o
(w)o(een)h(functions)g(and)f(op)q(erators)h(seems)g(to)f(confuse)h
(some)f(p)q(eo-)208 840 y(ple.)29 b(One)19 b(reason)g(is)e(that,)i
(although)e(this)h(distinction)f(exists)i(in)e(ordinary)g(math,)g(it)
208 889 y(usually)11 b(go)q(es)h(unnoticed)h(b)o(y)f(mathematicians.)i
(If)e(y)o(ou)g(ask)g(a)g(mathematicia)o(n)e(whether)208
939 y FP(subset)16 b F4(is)g(a)g(function,)g(she's)h(lik)o(ely)e(to)h
(sa)o(y)g(y)o(es.)25 b(But)17 b(if)e(y)o(ou)h(p)q(oin)o(t)g(out)g(to)g
(her)h(that)208 989 y FP(subset)c F4(can't)g(b)q(e)h(a)f(function)g(b)q
(ecause)i(its)e(domain)e(can't)i(b)q(e)h(a)f(set,)h(she)g(will)e
(probably)208 1039 y(realize)j(for)g(the)h(\014rst)f(time)f(that)h
(mathematicians)e(use)j(op)q(erators)g(lik)o(e)e FP(subset)h
F4(and)g F0(2)208 1089 y F4(without)e(noticing)h(that)g(they)h(form)d
(a)i(class)h(of)e(ob)r(jects)j(di\013eren)o(t)f(from)d(functions.)19
b(Lo-)208 1139 y(gicians)11 b(will)g(observ)o(e)i(that)f(the)h
(distinction)f(b)q(et)o(w)o(een)h(op)q(erators)g(and)f(v)n(alues,)g
(including)208 1188 y(functions,)j(arises)g(b)q(ecause)i(TLA)756
1173 y FS(+)792 1188 y F4(is)e(a)g(\014rst-order)h(logic)e(rather)i
(than)f(a)g(higher-order)208 1238 y(logic.)270 1288 y(When)j
(de\014ning)g(an)f(ob)r(ject)i FV(V)7 b F4(,)19 b(y)o(ou)e(ma)o(y)f(ha)
o(v)o(e)i(to)f(decide)i(whether)g(to)f(mak)o(e)e FV(V)208
1338 y F4(an)j(op)q(erator)h(that)g(tak)o(es)g(an)g(argumen)o(t)e(or)i
(a)f(function.)35 b(The)21 b(di\013erences)g(b)q(et)o(w)o(een)208
1388 y(op)q(erators)e(and)g(functions)g(will)e(often)i(determine)g(the)
g(decision.)33 b(F)m(or)19 b(example,)f(if)g(a)208 1437
y(v)n(ariable)f(ma)o(y)f(ha)o(v)o(e)i FV(V)25 b F4(as)19
b(its)f(v)n(alue,)g(then)h FV(V)25 b F4(m)o(ust)17 b(b)q(e)i(a)f
(function.)31 b(Th)o(us,)19 b(in)e(the)208 1487 y(memory)8
b(sp)q(eci\014cation)j(of)f(Section)i(5.3,)e(w)o(e)h(had)f(to)h
(represen)o(t)i(the)e(state)h(of)e(the)h(memory)208 1537
y(b)o(y)16 b(a)h(function)f(rather)i(than)e(an)h(op)q(erator,)g(since)h
(the)f(v)n(ariable)f FV(mem)k F4(couldn't)c(equal)208
1587 y(an)d(op)q(erator.)19 b(If)14 b(these)h(di\013erences)h(don't)e
(determine)g(whether)h(to)f(use)h(an)e(op)q(erator)i(or)208
1637 y(a)e(function,)g(then)i(the)f(c)o(hoice)h(is)e(a)h(matter)f(of)g
(taste.)19 b(I)14 b(usually)f(prefer)i(op)q(erators.)208
1795 y FN(6.5)81 b(Using)27 b(F)-7 b(unctions)208 1886
y F4(Consider)14 b(the)g(follo)o(wing)e(t)o(w)o(o)h(form)o(ulas:)p
Black Black 332 1969 a FV(f)354 1952 y FH(0)377 1969
y F4(=)f([)p FV(i)j F0(2)c FV(Nat)k F0(7!)c FV(i)i F4(+)d(1])p
Black -527 w(\(6.6\))p Black Black Black 332 2044 a F0(8)d
FV(i)16 b F0(2)11 b FV(Nat)22 b F4(:)c FV(f)570 2027
y FH(0)581 2044 y F4([)p FV(i)t F4(])11 b(=)h FV(i)h
F4(+)c(1)p Black -557 w(\(6.7\))p Black 208 2135 a(Both)18
b(form)o(ulas)d(imply)g(that)j FV(f)723 2120 y FH(0)734
2135 y F4([)p FV(i)t F4(])f(=)i FV(i)c F4(+)e(1)k(for)g(ev)o(ery)i
(natural)e(n)o(um)o(b)q(er)g FV(i)t F4(,)h(but)g(they)208
2185 y(are)e(not)g(equiv)n(alen)o(t.)24 b(F)m(orm)o(ula)13
b(\(6.6\))j(uniquely)f(determines)h FV(f)1246 2170 y
FH(0)1258 2185 y F4(,)g(asserting)g(that)h(it's)e(a)208
2235 y(function)f(with)h(domain)d FV(Nat)t F4(.)21 b(F)m(orm)o(ula)12
b(\(6.7\))i(is)h(satis\014ed)g(b)o(y)g(lots)f(of)g(di\013eren)o(t)i(v)n
(alues)208 2284 y(of)d FV(f)276 2269 y FH(0)288 2284
y F4(.)18 b(F)m(or)13 b(example,)g(it)g(is)h(satis\014ed)g(if)f
FV(f)869 2269 y FH(0)894 2284 y F4(is)h(the)h(function)p
Black Black 332 2367 a([)p FV(i)g F0(2)c FV(R)n(e)n(al)16
b F0(7!)11 b FP(if)23 b FV(i)16 b F0(2)11 b FV(Nat)25
b FP(then)f FV(i)13 b F4(+)d(1)23 b FP(else)h FV(i)1135
2352 y FS(2)1153 2367 y F4(])208 2450 y(In)16 b(fact,)h(from)e
(\(6.7\),)h(w)o(e)h(can't)g(ev)o(en)g(deduce)h(that)f
FV(f)1097 2435 y FH(0)1126 2450 y F4(is)f(a)g(function.)27
b(F)m(orm)o(ula)14 b(\(6.6\))208 2500 y(implies)d(form)o(ula)h
(\(6.7\),)g(but)j(not)e(vice-v)o(ersa.)p Black Black
eop
%%Page: 73 91
73 90 bop Black 208 275 a FR(6.6.)30 b(CHOOSE)1456 b
F4(73)p 208 282 1770 2 v Black 270 391 a(When)12 b(writing)f(sp)q
(eci\014cations,)i(w)o(e)f(almost)f(alw)o(a)o(ys)f(w)o(an)o(t)i(to)g
(sp)q(ecify)g(the)h(new)g(v)n(alue)208 441 y(of)18 b(a)h(v)n(ariable)f
FV(f)27 b F4(rather)20 b(than)f(the)h(new)f(v)n(alues)g(of)f
FV(f)9 b F4([)p FV(i)t F4(])18 b(for)g(all)g FV(i)23
b F4(in)c(some)f(set.)34 b(W)m(e)208 491 y(therefore)15
b(usually)e(write)h(\(6.6\))f(rather)i(than)f(\(6.7\).)208
649 y FN(6.6)81 b(Cho)r(ose)208 740 y F4(The)14 b FP(choose)g
F4(op)q(erator)g(w)o(as)g(in)o(tro)q(duced)g(in)f(the)h(memory)e(in)o
(terface)i(of)f(Section)h(5.1)e(in)p .95 TeXcolorgray
.95 TeXcolorgray 1679 867 307 158 v .95 TeXcolorgray
Black Black 41 w FZ(The)g Fu(choose)g FZ(op-)1687 780
y(erator)e(is)i(kno)o(wn)1687 819 y(to)g(logicians)d(as)1687
859 y(Hilb)q(ert's)i Fw(")p FZ(.)p Black .95 TeXcolorgray
Black 208 790 a F4(the)17 b(simple)e(idiom)f FP(choose)j
FV(v)c F4(:)7 b FV(v)21 b FQ(=)-26 b F0(2)12 b FV(S)5
b F4(,)17 b(whic)o(h)g(is)f(an)h(expression)h(whose)f(v)n(alue)f(is)h
(not)208 840 y(an)12 b(elemen)o(t)f(of)h FV(S)5 b F4(.)18
b(In)12 b(Section)h(6.3)e(ab)q(o)o(v)o(e,)h(w)o(e)h(sa)o(w)f(that)h(it)
e(is)i(a)f(p)q(o)o(w)o(erful)g(to)q(ol)f(that)i(can)208
890 y(b)q(e)h(used)h(in)e(rather)i(subtle)f(w)o(a)o(ys.)270
939 y(The)19 b(most)e(common)f(use)j(for)g(the)g FP(choose)g
F4(op)q(erator)g(is)g(to)f(\\name")f(a)h(uniquely)208
989 y(sp)q(eci\014ed)g(v)n(alue.)25 b(F)m(or)16 b(example,)f
FV(a)s FQ(=)p FV(b)20 b F4(is)c(the)h(unique)g(real)f(n)o(um)o(b)q(er)g
(that)h(satis\014es)g(the)208 1039 y(form)o(ula)11 b
FV(a)k F4(=)d FV(b)g F0(\003)d F4(\()p FV(a)s FQ(=)p
FV(b)s F4(\),)14 b(if)f FV(a)k F4(and)d FV(b)j F4(are)d(real)g(n)o(um)o
(b)q(ers)f(and)h FV(b)h F0(6)p F4(=)d(0.)18 b(So,)13
b(the)h(standard)208 1089 y(mo)q(dule)e FV(R)n(e)n(als)17
b F4(de\014nes)e(division)e(on)h(the)g(set)h FV(R)n(e)n(al)j
F4(of)13 b(real)h(n)o(um)o(b)q(ers)g(b)o(y)p Black Black
332 1176 a FV(a)s FQ(=)p FV(b)438 1153 y FI(\001)434
1176 y F4(=)34 b FP(choose)17 b FV(c)d F0(2)d FV(R)n(e)n(al)23
b F4(:)18 b FV(a)d F4(=)d FV(b)g F0(\003)d FV(c)208 1259
y F4(\(The)21 b(expression)i FP(choose)17 b FV(x)f F0(2)11
b FV(S)j F4(:)7 b FV(p)25 b F4(means)20 b FP(choose)d
FV(x)c F4(:)8 b(\()p FV(x)16 b F0(2)c FV(S)5 b F4(\))k
F0(^)g FV(p)s F4(.\))40 b(If)21 b FV(a)k F4(is)c(a)208
1309 y(nonzero)g(real)g(n)o(um)o(b)q(er,)g(then)h(there)g(is)e(no)h
(real)g(n)o(um)o(b)q(er)f FV(c)j F4(suc)o(h)e(that)g
FV(a)26 b F4(=)e(0)13 b F0(\003)h FV(c)r F4(.)208 1359
y(Therefore,)k FV(a)s FQ(=)p F4(0)f(has)g(an)g(unsp)q(eci\014ed)i(v)n
(alue.)27 b(W)m(e)17 b(don't)f(kno)o(w)h(what)g(a)g(real)g(n)o(um)o(b)q
(er)208 1409 y(times)12 b(a)i(string)g(equals,)f(so)h(w)o(e)g(cannot)g
(sa)o(y)f(whether)i(or)f(not)g(there)h(is)e(a)h(real)f(n)o(um)o(b)q(er)
g FV(c)208 1458 y F4(suc)o(h)i(that)g FV(a)j F4(equals)d(\\)p
FD(xyz)p F4(")10 b F0(\003)g FV(c)r F4(.)21 b(Hence,)16
b(w)o(e)f(don't)g(kno)o(w)f(what)h(the)g(v)n(alue)g(of)f
FV(a)s FQ(=)p F4(\\)p FD(xyz)p F4(")208 1508 y(is.)270
1558 y(P)o(eople)f(who)f(do)h(a)f(lot)h(of)f(programmi)o(ng)e(and)j
(not)f(m)o(uc)o(h)g(mathematics)e(often)j(think)208 1608
y(that)18 b FP(choose)h F4(m)o(ust)e(b)q(e)i(a)f(nondeterministic)g(op)
q(erator.)31 b(In)19 b(mathematics,)d(there)k(is)208
1658 y(no)13 b(suc)o(h)i(thing)f(as)g(a)f(nondeterministic)h(op)q
(erator)g(or)g(a)g(nondeterministic)f(function.)18 b(If)208
1707 y(some)11 b(expression)j(equals)e(42)g(to)q(da)o(y)m(,)g(then)h
(it)f(will)f(equal)i(42)f(tomorro)o(w,)e(and)j(it)f(will)f(still)208
1757 y(equal)i(42)g(a)h(million)c(y)o(ears)15 b(from)d(tomorro)o(w.)k
(The)f(sp)q(eci\014cation)p Black Black 332 1840 a(\()p
FV(x)i F4(=)12 b FP(choose)k FV(n)22 b F4(:)c FV(n)d
F0(2)d FV(Nat)t F4(\))20 b F0(^)h FG(2)p F4([)p FV(x)963
1823 y FH(0)986 1840 y F4(=)12 b FP(choose)k FV(n)22
b F4(:)c FV(n)d F0(2)c FV(Nat)t F4(])1424 1846 y FJ(x)208
1923 y F4(allo)o(ws)d(only)i(a)g(single)f(b)q(eha)o(vior|one)h(in)g
(whic)o(h)g FV(x)15 b F4(alw)o(a)o(ys)9 b(equals)i FP(choose)16
b FV(n)c F4(:)7 b FV(n)15 b F0(2)d FV(Nat)s F4(,)208
1973 y(whic)o(h)j(is)g(some)f(particular,)h(unsp)q(eci\014ed)i(natural)
e(n)o(um)o(b)q(er.)21 b(It)16 b(is)f(v)o(ery)g(di\013eren)o(t)i(from)
208 2023 y(the)d(sp)q(eci\014cation)p Black Black 332
2106 a(\()p FV(x)j F0(2)11 b FV(Nat)t F4(\))21 b F0(^)f
FG(2)p F4([)p FV(x)645 2089 y FH(0)668 2106 y F0(2)12
b FV(Nat)t F4(])790 2112 y FJ(x)208 2189 y F4(that)19
b(allo)o(ws)e(all)h(b)q(eha)o(viors)h(in)g(whic)o(h)g
FV(x)24 b F4(is)19 b(alw)o(a)o(ys)f(a)h(natural)g(n)o(um)o(b)q(er|p)q
(ossibly)e(a)208 2239 y(di\013eren)o(t)i(n)o(um)o(b)q(er)f(in)g(eac)o
(h)h(state.)33 b(This)18 b(sp)q(eci\014cation)h(is)g(highly)e
(nondeterministic,)208 2289 y(allo)o(wing)11 b(lots)j(of)f(di\013eren)o
(t)i(b)q(eha)o(viors.)p Black Black eop
%%Page: 74 92
74 91 bop Black 208 275 a F4(74)1034 b FR(CHAPTER)14
b(6.)32 b(SOME)15 b(MORE)f(MA)m(TH)p 208 282 1770 2 v
Black Black Black eop
%%Page: 75 93
75 92 bop Black Black 208 703 a FL(Chapter)31 b(7)208
910 y F5(W)-10 b(riting)39 b(a)h(Sp)s(eci\014cation:)208
1035 y(Some)d(Advice)208 1251 y F4(Y)m(ou)18 b(ha)o(v)o(e)g(no)o(w)h
(learned)g(all)f(y)o(ou)g(need)i(to)e(kno)o(w)h(ab)q(out)f(TLA)1267
1236 y FS(+)1307 1251 y F4(to)h(write)g(y)o(our)f(o)o(wn)208
1300 y(sp)q(eci\014cations.)h(Here)c(are)f(a)g(few)g(additional)e(hin)o
(ts)i(to)f(help)h(y)o(ou)g(get)g(started.)208 1459 y
FN(7.1)81 b(Wh)n(y)27 b(Sp)r(ecify)208 1550 y F4(W)m(riting)13
b(a)i(sp)q(eci\014cation)h(requires)h(e\013ort;)f(the)g(b)q(ene\014t)h
(it)d(pro)o(vides)i(m)o(ust)e(justify)h(that)208 1599
y(e\013ort.)24 b(The)16 b(purp)q(ose)g(of)f(writing)g(a)h(sp)q
(eci\014cation)g(is)g(to)f(help)h(a)o(v)o(oid)e(errors.)25
b(Here)16 b(are)208 1649 y(some)d(w)o(a)o(ys)g(it)h(can)g(do)f(that.)p
Black 270 1732 a F0(\017)p Black 20 w F4(W)m(riting)h(a)h(TLA)588
1717 y FS(+)624 1732 y F4(sp)q(eci\014cation)g(can)h(help)f(the)h
(design)f(pro)q(cess.)24 b(Ha)o(ving)14 b(to)h(de-)311
1782 y(scrib)q(e)j(a)f(design)g(precisely)g(often)g(rev)o(eals)g
(problems|subtle)f(in)o(teractions)h(and)311 1832 y(\\corner)12
b(cases")f(that)g(are)f(easily)g(o)o(v)o(erlo)q(ok)o(ed.)16
b(These)c(problems)d(are)i(easier)g(to)g(cor-)311 1882
y(rect)i(when)g(disco)o(v)o(ered)f(in)f(the)i(design)f(phase)g(rather)h
(than)e(after)h(implemen)o(tation)311 1932 y(has)i(b)q(egun.)p
Black 270 2015 a F0(\017)p Black 20 w F4(A)i(TLA)445
2000 y FS(+)481 2015 y F4(sp)q(eci\014cation)g(can)f(pro)o(vide)g(a)g
(clear,)h(concise)g(w)o(a)o(y)f(of)f(comm)o(unicating)311
2064 y(a)20 b(design.)38 b(It)21 b(helps)g(ensure)h(that)e(the)h
(designers)h(agree)f(on)f(what)g(they)h(ha)o(v)o(e)311
2114 y(designed,)13 b(and)f(it)f(pro)o(vides)i(a)e(v)n(aluable)g(guide)
h(to)g(the)h(engineers)g(who)f(implem)o(en)o(t)311 2164
y(and)i(test)h(the)f(system.)k(It)c(ma)o(y)e(also)h(help)h(users)i
(understand)f(the)f(system.)p Black 270 2247 a F0(\017)p
Black 20 w F4(A)e(TLA)441 2232 y FS(+)474 2247 y F4(sp)q(eci\014cation)
h(is)f(a)g(formal)d(description)k(to)f(whic)o(h)g(to)q(ols)g(can)g(b)q
(e)g(applied)311 2297 y(to)17 b(help)f(\014nd)h(errors)h(in)e(the)h
(design)g(and)f(to)h(help)f(in)g(testing)h(the)h(system.)25
b(The)311 2347 y(most)12 b(useful)h(to)q(ol)g(written)g(so)h(far)e(for)
h(this)g(purp)q(ose)i(is)e(the)g(TLC)g(mo)q(del)f(c)o(hec)o(k)o(er,)311
2397 y(describ)q(ed)k(in)d(Chapter)i(14.)p Black 1936
2622 a(75)p Black eop
%%Page: 76 94
76 93 bop Black 208 275 a F4(76)524 b FR(CHAPTER)15 b(7.)31
b(WRITING)13 b(A)h(SPECIFICA)m(TION:)g(SOME)g(AD)o(VICE)p
208 282 1770 2 v Black 208 391 a F4(Whether)j(the)f(b)q(ene\014t)h
(justi\014es)g(the)f(e\013ort)h(of)e(writing)g(the)i(sp)q
(eci\014cation)g(dep)q(ends)g(on)208 441 y(the)f(nature)g(of)f(the)h
(pro)r(ject.)25 b(Sp)q(eci\014cation)16 b(is)f(not)h(an)f(end)i(in)e
(itself;)h(it)f(is)g(just)h(a)g(to)q(ol)208 491 y(that)d(an)h(engineer)
h(should)f(b)q(e)g(able)g(to)g(use)g(when)h(appropriate.)208
649 y FN(7.2)81 b(What)28 b(to)g(Sp)r(ecify)208 740 y
F4(Although)14 b(w)o(e)h(talk)f(ab)q(out)g(sp)q(ecifying)h(a)g(system,)
f(that's)h(not)f(what)h(w)o(e)g(do.)20 b(A)15 b(sp)q(eci\014-)208
790 y(cation)g(is)h(a)f(mathematical)d(mo)q(del)j(of)g(a)g(particular)h
(view)f(of)g(some)g(part)h(of)f(a)h(system.)208 840 y(When)h(writing)f
(a)h(sp)q(eci\014cation,)h(the)f(\014rst)h(thing)f(y)o(ou)f(m)o(ust)g
(c)o(ho)q(ose)i(is)f(exactly)g(what)208 890 y(part)12
b(of)g(the)h(system)g(y)o(ou)f(w)o(an)o(t)g(to)h(mo)q(del.)j(Sometimes)
10 b(the)j(c)o(hoice)g(is)g(ob)o(vious;)f(often)g(it)208
939 y(isn't.)23 b(The)16 b(cac)o(he-coherence)j(proto)q(col)d(of)f(a)h
(real)f(m)o(ultipro)q(cessor)h(computer)f(ma)o(y)f(b)q(e)208
989 y(in)o(timately)d(connected)17 b(with)d(ho)o(w)g(the)h(pro)q
(cessors)i(execute)f(instructions.)21 b(Finding)13 b(an)208
1039 y(abstraction)i(that)g(describ)q(es)i(the)f(coherence)h(proto)q
(col)e(while)g(suppressing)h(the)g(details)208 1089 y(of)g(instruction)
h(execution)g(ma)o(y)e(b)q(e)i(di\016cult.)26 b(It)17
b(ma)o(y)e(require)i(de\014ning)g(an)f(in)o(terface)208
1139 y(b)q(et)o(w)o(een)g(the)f(pro)q(cessor)i(and)e(the)g(memory)d
(that)j(do)q(esn't)h(exist)f(in)f(the)i(actual)e(system)208
1189 y(design.)270 1238 y(The)i(primary)e(purp)q(ose)j(of)f(a)f(sp)q
(eci\014cation)i(is)f(to)g(help)g(a)o(v)o(oid)e(errors.)26
b(Y)m(ou)15 b(should)208 1288 y(sp)q(ecify)d(those)g(parts)g(of)f(the)h
(system)f(for)g(whic)o(h)g(a)h(sp)q(eci\014cation)g(is)f(most)f(lik)o
(ely)g(to)i(rev)o(eal)208 1338 y(errors.)18 b(TLA)428
1323 y FS(+)461 1338 y F4(is)11 b(particularly)g(e\013ectiv)o(e)j(at)d
(rev)o(ealing)h(concurrency)i(errors|ones)f(that)208
1388 y(arise)i(through)g(the)h(in)o(teraction)f(of)f(async)o(hronous)i
(comp)q(onen)o(ts.)21 b(So,)14 b(when)i(writing)e(a)208
1438 y(TLA)295 1423 y FS(+)325 1438 y F4(sp)q(eci\014cation,)d(y)o(ou)f
(will)e(probably)h(concen)o(trate)j(y)o(our)e(e\013orts)h(on)f(the)g
(parts)h(of)e(the)208 1487 y(system)14 b(that)g(are)h(most)e(lik)o(ely)
g(to)h(ha)o(v)o(e)g(suc)o(h)h(errors.)20 b(If)14 b(that's)h(not)f
(where)h(y)o(ou)f(should)208 1537 y(b)q(e)g(concen)o(trating)h(y)o(our)
e(e\013orts,)i(then)f(y)o(ou)g(probably)f(shouldn't)g(b)q(e)i(using)f
(TLA)1538 1522 y FS(+)1558 1537 y F4(.)208 1696 y FN(7.3)81
b(The)27 b(Grain)g(of)g(A)n(tomicit)n(y)208 1786 y F4(After)11
b(c)o(ho)q(osing)g(what)g(part)h(of)e(the)i(system)f(to)g(sp)q(ecify)m
(,)g(y)o(ou)g(m)o(ust)f(c)o(ho)q(ose)i(the)g(sp)q(eci\014ca-)208
1836 y(tion's)f(lev)o(el)g(of)g(abstraction.)17 b(The)c(most)d(imp)q
(ortan)o(t)g(asp)q(ect)j(of)e(the)h(lev)o(el)g(of)f(abstraction)208
1886 y(is)j(the)i(grain)e(of)h(atomicit)o(y)m(,)d(the)j(c)o(hoice)h(of)
e(what)h(system)g(c)o(hanges)h(are)f(represen)o(ted)j(as)208
1936 y(a)g(single)g(step)i(of)e(a)g(b)q(eha)o(vior.)32
b(Sending)19 b(a)f(message)h(in)f(an)g(actual)g(system)h(in)o(v)o(olv)o
(es)208 1986 y(m)o(ultiple)d(sub)q(op)q(erations,)k(but)f(w)o(e)g
(usually)e(represen)o(t)k(it)d(as)h(a)f(single)g(step.)33
b(On)19 b(the)208 2036 y(other)c(hand,)f(the)h(sending)f(of)g(a)g
(message)h(and)f(its)g(receipt)i(are)f(usually)f(represen)o(ted)j(as)
208 2085 y(separate)e(steps)g(when)f(sp)q(ecifying)g(a)g(distributed)g
(system.)270 2135 y(The)e(same)e(sequence)k(of)d(system)g(op)q
(erations)h(is)f(represen)o(ted)k(b)o(y)c(a)g(shorter)i(sequence)208
2185 y(of)k(steps)h(in)g(a)f(coarser-grained)h(represen)o(tation)i
(than)d(in)g(a)h(\014ner-grained)g(one.)29 b(This)208
2235 y(almost)16 b(alw)o(a)o(ys)i(mak)o(es)f(the)i(coarser-grained)g
(sp)q(eci\014cation)h(simpler)d(than)h(the)h(\014ner-)208
2285 y(grained)14 b(one.)k(Ho)o(w)o(ev)o(er,)d(the)f(\014ner-grained)h
(sp)q(eci\014cation)g(more)e(accurately)i(describ)q(es)208
2334 y(the)i(b)q(eha)o(vior)f(of)f(the)i(actual)f(system.)26
b(A)16 b(coarser-grained)i(sp)q(eci\014cation)f(ma)o(y)d(fail)h(to)208
2384 y(rev)o(eal)f(imp)q(ortan)o(t)e(details)h(of)h(the)g(system.)270
2434 y(There)20 b(is)f(no)g(simple)e(rule)j(for)e(deciding)h(on)g(the)h
(grain)e(of)g(atomicit)o(y)m(.)31 b(Ho)o(w)o(ev)o(er,)208
2484 y(there)14 b(is)f(one)h(w)o(a)o(y)e(of)h(thinking)f(ab)q(out)h
(gran)o(ularit)o(y)f(that)h(can)h(help.)k(T)m(o)12 b(describ)q(e)j(it,)
e(w)o(e)p Black Black eop
%%Page: 77 95
77 94 bop Black 208 275 a FR(7.3.)30 b(THE)15 b(GRAIN)e(OF)h(A)m
(TOMICITY)1052 b F4(77)p 208 282 1770 2 v Black 208 391
a(need)16 b(the)g(TLA)466 376 y FS(+)503 391 y F4(action-comp)q
(osition)d(op)q(erator)j(\\)p F0(\001)p F4(".)22 b(If)16
b FV(A)f F4(and)g FV(B)21 b F4(are)16 b(actions,)f(then)208
441 y(the)h(action)f FV(A)p F0(\001)o FV(B)20 b F4(is)15
b(executed)i(b)o(y)e(executing)h(\014rst)h FV(A)e F4(then)h
FV(B)j F4(as)d(a)f(single)g(step.)23 b(More)208 491 y(precisely)m(,)14
b FV(A)c F0(\001)f FV(B)19 b F4(is)14 b(the)i(action)e(de\014ned)i(b)o
(y)e(letting)g FV(s)i F0(!)c FV(t)18 b F4(b)q(e)e(an)e
FV(A)c F0(\001)f FV(B)19 b F4(step)c(i\013)g(there)208
541 y(exists)f(a)g(state)g FV(u)k F4(suc)o(h)c(that)g
FV(s)h F0(!)c FV(u)18 b F4(is)13 b(an)h FV(A)g F4(step)h(and)e
FV(u)i F0(!)c FV(t)18 b F4(is)c(a)f FV(B)19 b F4(step.)270
591 y(When)14 b(determining)f(the)h(grain)f(of)g(atomicit)o(y)m(,)e(w)o
(e)j(m)o(ust)f(decide)i(whether)g(to)f(repre-)208 640
y(sen)o(t)e(the)g(execution)h(of)e(an)g(op)q(eration)g(as)h(a)f(single)
h(step)g(or)g(as)f(a)h(sequence)h(of)e(steps,)i(eac)o(h)208
690 y(corresp)q(onding)f(to)g(the)g(execution)g(of)g(a)f(sub)q(op)q
(eration.)18 b(Let's)12 b(consider)g(the)h(simple)d(case)208
740 y(of)k(an)h(op)q(eration)g(consisting)g(of)f(t)o(w)o(o)h(sub)q(op)q
(erations)h(that)f(are)g(executed)i(sequen)o(tially)m(,)208
790 y(where)e(those)g(sub)q(op)q(erations)g(are)f(describ)q(ed)i(b)o(y)
e(the)h(t)o(w)o(o)f(actions)g FV(R)i F4(and)e FV(L)p
F4(.)19 b(\(Execut-)208 840 y(ing)11 b FV(R)k F4(enables)e
FV(L)f F4(and)g(disables)h FV(R)r F4(.\))18 b(When)12
b(the)h(op)q(eration's)g(execution)g(is)f(represen)o(ted)208
889 y(b)o(y)k(t)o(w)o(o)g(steps,)i(eac)o(h)f(of)e(those)i(steps)h(is)f
(an)f FV(R)i F4(step)f(or)g(an)f FV(L)g F4(step.)27 b(The)17
b(op)q(eration)f(is)208 939 y(then)j(describ)q(ed)h(with)e(the)h
(action)f FV(R)c F0(_)e FV(L)p F4(.)31 b(When)19 b(its)f(execution)i
(is)e(represen)o(ted)j(b)o(y)208 989 y(a)16 b(single)g(step,)i(the)g
(op)q(eration)e(is)h(describ)q(ed)h(with)f(the)g(action)f
FV(R)r F0(\001)p FV(L)p F4(.)1341 974 y FS(1)1386 989
y F4(Let)h FV(S)5 b F4(2)17 b(b)q(e)g(the)208 1039 y(\014ner-grained)e
(sp)q(eci\014cation)h(in)e(whic)o(h)h(the)h(op)q(eration)e(is)h
(executed)i(in)d(t)o(w)o(o)h(steps,)h(and)208 1089 y(let)11
b FV(S)5 b F4(1)11 b(b)q(e)h(the)f(coarser-grained)i(sp)q
(eci\014cation)e(in)g(whic)o(h)g(it)g(is)g(executed)i(as)e(a)g(single)g
FV(R)5 b F0(\001)t FV(L)208 1139 y F4(step.)18 b(T)m(o)10
b(c)o(ho)q(ose)j(the)f(grain)f(of)f(atomicit)o(y)m(,)f(w)o(e)j(m)o(ust)
e(c)o(ho)q(ose)i(whether)h(to)e(tak)o(e)h FV(S)5 b F4(1)11
b(or)h FV(S)5 b F4(2)208 1188 y(as)14 b(the)g(sp)q(eci\014cation.)19
b(Let's)14 b(examine)f(the)h(relation)f(b)q(et)o(w)o(een)j(the)e(t)o(w)
o(o)g(sp)q(eci\014cations.)270 1238 y(W)m(e)g(can)g(transform)f(an)o(y)
h(b)q(eha)o(vior)g FQ(\033)h F4(satisfying)f FV(S)5 b
F4(1)14 b(in)o(to)f(a)h(b)q(eha)o(vior)h FF(b)-24 b FQ(\033)16
b F4(satisfying)208 1298 y FV(S)5 b F4(2)16 b(b)o(y)g(replacing)g(eac)o
(h)g(step)h FV(s)734 1274 y FJ(R)q FH(\001)p FJ(L)742
1298 y F0(!)22 b FV(t)e F4(with)c(the)g(pair)g(of)g(steps)h
FV(s)1298 1274 y FJ(R)1290 1298 y F0(!)e FV(u)1397 1274
y FJ(L)1387 1298 y F0(!)g FV(t)t F4(,)h(for)g(some)208
1348 y(state)d FV(u)s F4(.)18 b(If)12 b(w)o(e)g(regard)h
FQ(\033)h F4(as)e(b)q(eing)h(equiv)n(alen)o(t)e(to)j
FF(b)-25 b FQ(\033)r F4(,)12 b(then)h(w)o(e)g(can)f(regard)h
FV(S)5 b F4(1)12 b(as)h(b)q(eing)208 1397 y(a)f(strengthened)i(v)o
(ersion)e(of)g FV(S)5 b F4(2|one)12 b(that)h(allo)o(ws)e(few)o(er)i(b)q
(eha)o(viors.)k(Sp)q(eci\014cation)c FV(S)5 b F4(1)208
1447 y(requires)13 b(that)f(eac)o(h)h FV(R)h F4(step)f(b)q(e)g(follo)o
(w)o(ed)d(immediately)f(b)o(y)j(an)g FV(L)g F4(step,)h(while)f
FV(S)5 b F4(2)12 b(allo)o(ws)208 1497 y(b)q(eha)o(viors)18
b(in)g(whic)o(h)h(other)g(steps)g(come)f(b)q(et)o(w)o(een)i(the)f
FV(R)h F4(and)f FV(L)f F4(steps.)33 b(T)m(o)18 b(c)o(ho)q(ose)208
1547 y(the)i(appropriate)f(grain)g(of)f(atomicit)o(y)m(,)g(w)o(e)h(m)o
(ust)g(decide)h(whether)h(those)f(additional)208 1597
y(b)q(eha)o(viors)14 b(allo)o(w)o(ed)e(b)o(y)i FV(S)5
b F4(2)14 b(are)g(imp)q(ortan)o(t.)270 1646 y(The)g(additional)e(b)q
(eha)o(viors)i(allo)o(w)o(ed)e(b)o(y)i FV(S)5 b F4(2)14
b(are)g(not)g(imp)q(ortan)o(t)e(if)h(the)h(actual)f(sys-)208
1696 y(tem)e(executions)i(they)g(describ)q(e)g(are)g(also)e(describ)q
(ed)j(b)o(y)e(b)q(eha)o(viors)g(allo)o(w)o(ed)f(b)o(y)h
FV(S)5 b F4(1.)18 b(So,)208 1746 y(w)o(e)13 b(can)g(ask)g(whether)i
(eac)o(h)e(b)q(eha)o(vior)g FQ(\034)18 b F4(satisfying)12
b FV(S)5 b F4(2)13 b(has)g(a)g(corresp)q(onding)h(b)q(eha)o(vior)209
1796 y FF(e)-24 b FQ(\034)19 b F4(satisfying)13 b FV(S)5
b F4(1)15 b(that)g(is,)f(in)g(some)f(sense,)j(equiv)n(alen)o(t)e(to)h
FQ(\034)5 b F4(.)19 b(One)d(w)o(a)o(y)d(to)i(construct)i
FF(e)-24 b FQ(\034)208 1846 y F4(from)12 b FQ(\034)18
b F4(is)c(to)g(transform)f(a)g(sequence)j(of)d(steps)p
Black Black 332 1949 a FV(s)372 1915 y FJ(R)364 1949
y F0(!)e FV(u)442 1955 y FS(1)473 1915 y FJ(A)498 1919
y FI(1)473 1949 y F0(!)g FV(u)551 1955 y FS(2)581 1915
y FJ(A)606 1919 y FI(2)581 1949 y F0(!)g FV(u)659 1955
y FS(3)697 1949 y FQ(:)c(:)g(:)17 b FV(u)789 1955 y FJ(n)825
1915 y(A)850 1919 y Ft(n)825 1949 y F0(!)12 b FV(u)904
1955 y FJ(n)s FS(+1)992 1915 y FJ(L)982 1949 y F0(!)f
FV(t)p Black -841 w F4(\(7.1\))p Black 208 2032 a(in)o(to)i(the)h
(sequence)p Black Black 332 2136 a FV(s)364 2102 y FJ(A)389
2106 y FI(1)364 2136 y F0(!)d FV(v)440 2142 y FS(1)478
2136 y FQ(:)c(:)g(:)17 b FV(v)568 2142 y FJ(k)s FH(\000)p
FS(2)644 2102 y FJ(A)669 2106 y Ft(k)643 2136 y F0(!)11
b FV(v)719 2142 y FJ(k)s FH(\000)p FS(1)803 2102 y FJ(R)795
2136 y F0(!)g FV(v)871 2142 y FJ(k)914 2102 y(L)904 2136
y F0(!)g FV(v)980 2142 y FJ(k)s FS(+1)1055 2102 y FJ(A)1080
2106 y Ft(k)r FI(+1)1073 2136 y F0(!)28 b FV(v)1166 2142
y FJ(k)s FS(+2)1248 2136 y FQ(:)7 b(:)g(:)17 b FV(v)1338
2142 y FJ(n)s FS(+1)1416 2102 y FJ(A)1441 2106 y Ft(n)1416
2136 y F0(!)12 b FV(t)p Black -1276 w F4(\(7.2\))p Black
208 2219 a(where)i(the)g FV(A)429 2225 y FJ(i)457 2219
y F4(are)g(other)g(system)f(actions)g(that)h(can)f(b)q(e)h(executed)h
(b)q(et)o(w)o(een)g(the)f FV(R)h F4(and)208 2269 y FV(L)d
F4(steps.)18 b(Both)13 b(sequences)i(start)d(in)g(state)h
FV(s)j F4(and)11 b(end)i(in)f(state)h FV(t)t F4(,)f(but)g(the)h(in)o
(termediate)208 2319 y(states)i(ma)o(y)d(b)q(e)i(di\013eren)o(t.)p
Black 208 2353 576 2 v 254 2380 a FK(1)271 2392 y FZ(W)m(e)j(actually)d
(describ)q(e)h(the)g(op)q(eration)f(with)j(an)f(ordinary)e(action,)i
(lik)o(e)g(the)g(ones)f(w)o(e'v)o(e)h(b)q(een)208 2431
y(writing,)10 b(that)h(is)g(equiv)n(alen)o(t)e(to)i FY(R)q
FW(\001)p FY(L)p FZ(.)16 b(The)c(op)q(erator)d(\\)p FW(\001)p
FZ(")i(rarely)f(app)q(ears)f(in)j(an)f(actual)f(sp)q(eci\014cation)o(.)
208 2471 y(If)15 b(y)o(ou're)f(ev)o(er)h(tempted)e(to)i(use)g(it,)i(lo)
q(ok)d(for)h(a)h(b)q(etter)e(w)o(a)o(y)i(to)f(write)g(the)g(sp)q
(eci\014cation)o(;)g(y)o(ou)g(can)208 2510 y(probably)9
b(\014nd)h(one.)p Black Black Black eop
%%Page: 78 96
78 95 bop Black 208 275 a F4(78)524 b FR(CHAPTER)15 b(7.)31
b(WRITING)13 b(A)h(SPECIFICA)m(TION:)g(SOME)g(AD)o(VICE)p
208 282 1770 2 v Black 270 391 a F4(When)e(is)g(suc)o(h)h(a)f
(transformation)e(p)q(ossible?)17 b(An)c(answ)o(er)f(can)h(b)q(e)f(giv)
o(en)g(in)g(terms)f(of)208 441 y(comm)o(utati)o(vit)o(y)h(relations.)20
b(W)m(e)15 b(sa)o(y)f(that)h(actions)g FV(A)g F4(and)f
FV(B)20 b F4(comm)o(ute)12 b(if)i(p)q(erforming)208 491
y(them)f(in)h(either)h(order)g(pro)q(duces)h(the)f(same)e(result.)20
b(F)m(ormally)l(,)11 b FV(A)j F4(and)g FV(B)19 b F4(comm)o(ute)12
b(i\013)208 541 y FV(A)d F0(\001)h FV(B)19 b F4(is)c(equiv)n(alen)o(t)f
(to)g FV(B)h F0(\001)9 b FV(A)p F4(.)21 b(A)15 b(simple)e(su\016cien)o
(t)i(condition)g(for)f(comm)o(utativi)o(t)o(y)e(is)208
591 y(that)j(t)o(w)o(o)g(actions)g(comm)o(ute)e(if)i(\(i\))g(eac)o(h)h
(one)f(lea)o(v)o(es)g(unc)o(hanged)h(an)o(y)f(v)n(ariable)f(whose)208
640 y(v)n(alue)c(ma)o(y)e(b)q(e)k(c)o(hanged)f(b)o(y)f(the)h(other,)h
(and)e(\(ii\))g(neither)i(enables)f(or)g(disables)f(the)i(other.)208
690 y(It's)17 b(not)g(hard)g(to)g(see)i(that)e(w)o(e)h(can)f(transform)
f(\(7.1\))h(to)g(\(7.2\))f(in)h(the)h(follo)o(wing)c(t)o(w)o(o)208
740 y(cases:)p Black 270 823 a F0(\017)p Black 20 w FV(R)i
F4(comm)o(utes)c(with)i(eac)o(h)g FV(A)771 829 y FJ(i)786
823 y F4(.)k(\(In)c(this)g(case,)h FV(k)h F4(=)c FV(n)s
F4(.\))p Black 270 906 a F0(\017)p Black 20 w FV(L)i
F4(comm)o(utes)e(with)i(eac)o(h)g FV(A)765 912 y FJ(i)780
906 y F4(.)k(\(In)c(this)g(case,)h FV(k)h F4(=)c(0.\))208
989 y(In)e(general,)h(if)f(an)g(op)q(eration)g(consists)i(of)d(a)i
(sequence)h(of)e FV(m)k F4(subactions,)d(w)o(e)f(m)o(ust)g(decide)208
1039 y(whether)17 b(to)f(c)o(ho)q(ose)h(the)f(\014ner-grained)h
(represen)o(tation)g FV(O)1183 1045 y FS(1)1212 1039
y F0(_)11 b FV(O)1287 1045 y FS(2)1316 1039 y F0(_)f
FQ(:)d(:)g(:)i F0(_)h FV(O)1487 1045 y FJ(m)1535 1039
y F4(or)16 b(the)208 1089 y(coarser-grained)i(one)f FV(O)615
1095 y FS(1)645 1089 y F0(\001)11 b FV(O)704 1095 y FS(2)730
1089 y F0(\001)c(\001)g(\001)e FV(O)821 1095 y FJ(m)853
1089 y F4(.)28 b(The)18 b(generalization)f(of)g(the)h(transformation)
208 1139 y(from)c(\(7.1\))i(to)g(\(7.2\))g(is)g(one)g(that)h
(transforms)e(an)i(arbitrary)f(b)q(eha)o(vior)g(satisfying)f(the)208
1188 y(\014ner-grained)i(sp)q(eci\014cation)g(in)o(to)e(one)i(in)f
(whic)o(h)g(the)i(sequence)g(of)e FV(O)1364 1194 y FS(1)1382
1188 y F4(,)h FV(O)1447 1194 y FS(2)1465 1188 y F4(,)g(.)6
b(.)h(.)f(,)17 b FV(O)1614 1194 y FJ(m)208 1238 y F4(steps)d(come)d
(one)i(righ)o(t)f(after)h(the)h(other.)k(Suc)o(h)13 b(a)f
(transformation)f(is)i(p)q(ossible)f(if)g(all)g(but)208
1288 y(one)h(of)f(the)i(actions)f FV(O)576 1294 y FJ(i)604
1288 y F4(comm)o(ute)e(with)i(ev)o(ery)g(other)h(system)f(action.)k
(Comm)o(utativ)o(it)o(y)208 1338 y(can)d(b)q(e)g(replaced)h(b)o(y)f(w)o
(eak)o(er)g(conditions,)f(but)h(it)g(is)f(the)i(most)e(common)e(case.)
270 1408 y(By)17 b(comm)o(uting)d(actions)j(and)f(replacing)h(a)g
(sequence)i FV(s)1215 1374 y FJ(O)1244 1378 y FI(1)1216
1408 y F0(!)f(\001)7 b(\001)g(\001)1341 1374 y FJ(O)1370
1378 y Ft(m)1346 1408 y F0(!)22 b FV(t)f F4(of)16 b(steps)i(b)o(y)208
1458 y(a)c(single)g FV(O)395 1464 y FS(1)421 1458 y F0(\001)7
b(\001)g(\001)e FV(O)512 1464 y FJ(m)559 1458 y F4(step,)15
b(y)o(ou)f(ma)o(y)f(b)q(e)i(able)g(to)f(transform)g(an)o(y)g(b)q(eha)o
(vior)h(of)f(a)g(\014ner-)208 1507 y(grained)19 b(sp)q(eci\014cation)i
(in)o(to)e(a)h(corresp)q(onding)h(b)q(eha)o(vior)e(of)h(a)f
(coarser-grained)i(one.)208 1557 y(But)15 b(that)g(do)q(esn't)g(mean)f
(that)g(the)i(coarser-grained)f(sp)q(eci\014cation)h(is)f(just)g(as)f
(go)q(o)q(d)h(as)208 1607 y(the)i(\014ner-grained)h(one.)27
b(The)18 b(sequences)h(\(7.1\))e(and)g(\(7.2\))f(are)h(not)g(the)h
(same,)e(and)h(a)208 1657 y(sequence)g(of)d FV(O)465
1663 y FJ(i)495 1657 y F4(steps)j(is)e(not)g(the)g(same)f(as)i(a)e
(single)h FV(O)1137 1663 y FS(1)1162 1657 y F0(\001)7
b(\001)g(\001)f FV(O)1254 1663 y FJ(m)1301 1657 y F4(step.)22
b(Whether)16 b(y)o(ou)208 1707 y(can)d(consider)i(the)f(transformed)f
(b)q(eha)o(vior)g(to)g(b)q(e)i(equiv)n(alen)o(t)d(to)i(the)g(original)e
(one,)h(and)208 1757 y(use)i(the)g(coarser-grained)g(sp)q
(eci\014cation,)g(dep)q(ends)h(on)e(the)h(particular)f(system)h(y)o(ou)
e(are)208 1806 y(sp)q(ecifying)i(and)g(on)g(the)h(purp)q(ose)h(of)d
(the)i(sp)q(eci\014cation.)23 b(Understanding)16 b(the)g(relation)208
1856 y(b)q(et)o(w)o(een)i(\014ner-)f(and)f(coarser-grained)i(sp)q
(eci\014cations)f(can)g(help)g(y)o(ou)f(c)o(ho)q(ose)h(b)q(et)o(w)o
(een)208 1906 y(them;)12 b(it)i(w)o(on't)f(mak)o(e)f(the)j(c)o(hoice)f
(for)g(y)o(ou.)208 2064 y FN(7.4)81 b(The)27 b(Data)h(Structures)208
2155 y F4(Another)11 b(asp)q(ect)g(of)f(a)g(sp)q(eci\014cation's)h(lev)
o(el)f(of)g(abstraction)g(is)h(the)g(accuracy)g(with)f(whic)o(h)208
2205 y(it)j(describ)q(es)k(the)d(system's)g(data)g(structures.)21
b(F)m(or)14 b(example,)e(should)i(the)h(sp)q(eci\014cation)208
2255 y(of)e(a)g(program)g(in)o(terface)h(describ)q(e)i(the)e(actual)g
(la)o(y)o(out)f(of)g(a)g(pro)q(cedure's)j(argumen)o(ts)d(in)208
2305 y(memory)m(,)d(or)k(should)g(the)g(argumen)o(ts)f(b)q(e)i
(represen)o(ted)h(more)d(abstractly?)270 2355 y(T)m(o)e(answ)o(er)h
(suc)o(h)g(a)f(question,)h(y)o(ou)f(m)o(ust)g(remem)o(b)q(er)f(that)i
(the)g(purp)q(ose)h(of)d(the)j(sp)q(ec-)208 2404 y(i\014cation)f(is)h
(to)f(help)h(catc)o(h)h(errors.)19 b(A)13 b(precise)h(description)g(of)
e(the)i(la)o(y)o(out)e(of)g(pro)q(cedure)208 2454 y(argumen)o(ts)f
(will)g(help)h(prev)o(en)o(t)h(errors)g(caused)g(b)o(y)f
(misunderstandings)g(ab)q(out)g(that)g(la)o(y-)208 2504
y(out,)j(but)g(at)g(the)h(cost)g(of)f(complicating)e(the)j(program)e
(in)o(terface's)h(sp)q(eci\014cation.)23 b(The)p Black
Black eop
%%Page: 79 97
79 96 bop Black 208 275 a FR(7.5.)30 b(WRITING)13 b(THE)h(SPECIFICA)m
(TION)986 b F4(79)p 208 282 1770 2 v Black 208 391 a(cost)13
b(is)g(justi\014ed)h(only)e(if)h(suc)o(h)h(errors)g(are)g(lik)o(ely)e
(to)h(b)q(e)g(a)g(real)h(problem)d(and)i(the)h(TLA)1625
376 y FS(+)208 441 y F4(sp)q(eci\014cation)g(pro)o(vides)g(the)h(b)q
(est)g(w)o(a)o(y)e(to)h(a)o(v)o(oid)e(them.)270 491 y(If)19
b(the)h(purp)q(ose)h(of)d(the)i(sp)q(eci\014cation)h(is)e(to)g(catc)o
(h)h(errors)h(caused)g(b)o(y)e(the)h(asyn-)208 541 y(c)o(hronous)e(in)o
(teraction)g(of)g(concurren)o(tly)h(executing)g(comp)q(onen)o(ts,)g
(then)f(detailed)h(de-)208 591 y(scriptions)12 b(of)g(data)g
(structures)i(will)d(b)q(e)i(a)f(needless)i(complication.)h(So,)d(y)o
(ou)f(will)g(proba-)208 640 y(bly)h(w)o(an)o(t)i(to)f(use)h(high-lev)o
(el,)e(abstract)j(descriptions)f(of)f(the)h(system's)f(data)g
(structures)208 690 y(in)18 b(the)h(sp)q(eci\014cation.)33
b(F)m(or)18 b(example,)h(to)f(sp)q(ecify)h(a)g(program)e(in)o(terface,)
j(y)o(ou)e(migh)o(t)208 740 y(in)o(tro)q(duce)g(constan)o(t)h
(parameters)f(to)g(represen)o(t)j(the)d(actions)h(of)e(calling)g(and)h
(return-)208 790 y(ing)12 b(from)f(a)i(pro)q(cedure|parameters)i
(analogous)c(to)i FV(Send)18 b F4(and)13 b FV(R)n(eply)k
F4(of)c(the)g(memory)208 840 y(in)o(terface)h(describ)q(ed)i(in)d
(Section)h(5.1)f(\(page)h(45\).)208 998 y FN(7.5)81 b(W)-7
b(riting)27 b(the)g(Sp)r(eci\014cation)208 1089 y F4(Once)11
b(y)o(ou'v)o(e)f(c)o(hosen)i(the)f(part)g(of)f(the)i(system)e(to)h(sp)q
(ecify)g(and)f(the)i(lev)o(el)e(of)g(abstraction,)208
1139 y(y)o(ou're)15 b(ready)i(to)f(start)h(writing)e(the)i(TLA)912
1124 y FS(+)948 1139 y F4(sp)q(eci\014cation.)26 b(W)m(e'v)o(e)15
b(already)h(seen)h(ho)o(w)208 1189 y(this)d(is)f(done;)h(let's)g
(review)g(the)h(steps.)270 1238 y(First,)g(pic)o(k)g(the)h(v)n
(ariables)e(and)h(de\014ne)h(the)g(t)o(yp)q(e)g(in)o(v)n(arian)o(t)d
(and)i(initial)e(predicate.)208 1288 y(In)19 b(the)g(course)i(of)d
(doing)g(this,)i(y)o(ou)f(will)f(determine)h(the)g(constan)o(t)h
(parameters)f(and)208 1338 y(assumptions)f(ab)q(out)i(them)f(that)g(y)o
(ou)h(need.)36 b(Y)m(ou)19 b(ma)o(y)f(also)h(ha)o(v)o(e)g(to)h
(de\014ne)h(some)208 1388 y(additional)12 b(constan)o(ts.)270
1438 y(Next,)i(write)h(the)f(next-state)i(action,)d(whic)o(h)h(forms)f
(the)i(bulk)e(of)h(the)h(sp)q(eci\014cation.)208 1487
y(Sk)o(etc)o(hing)9 b(a)g(few)h(sample)e(b)q(eha)o(viors)h(ma)o(y)f
(help)h(y)o(ou)g(get)h(started.)17 b(Y)m(ou)9 b(m)o(ust)g(\014rst)h
(decide)208 1537 y(ho)o(w)j(to)g(decomp)q(ose)g(the)h(next-state)h
(action)e(as)g(the)h(disjunction)f(of)g(actions)g(describing)208
1587 y(the)18 b(di\013eren)o(t)g(kinds)f(of)g(system)g(op)q(erations.)
29 b(Y)m(ou)17 b(then)h(de\014ne)h(those)f(actions.)28
b(The)208 1637 y(goal)13 b(is)i(to)g(mak)o(e)f(the)h(action)g
(de\014nitions)g(as)g(compact)f(and)h(easy)h(to)e(read)i(as)f(p)q
(ossible,)208 1687 y(whic)o(h)k(requires)j(carefully)d(structuring)i
(them.)36 b(One)21 b(w)o(a)o(y)e(to)h(reduce)h(the)g(size)g(of)e(a)208
1736 y(sp)q(eci\014cation)f(is)f(to)g(de\014ne)h(state)g(predicates)h
(and)e(state)i(functions)e(that)g(are)h(used)g(in)208
1786 y(sev)o(eral)12 b(di\013eren)o(t)h(action)e(de\014nitions.)17
b(When)12 b(writing)f(the)i(action)e(de\014nitions,)h(y)o(ou)f(will)208
1836 y(determine)g(whic)o(h)h(of)f(the)h(standard)g(mo)q(dules)f(y)o
(ou)g(need)i(and)f(will)e(add)h(the)i(appropriate)208
1886 y FP(extends)j F4(statemen)o(t.)22 b(Y)m(ou)15 b(ma)o(y)e(also)i
(ha)o(v)o(e)g(to)g(de\014ne)i(some)d(constan)o(t)i(op)q(erators)g(for)
208 1936 y(the)e(data)g(structures)i(that)e(y)o(ou)f(are)i(using.)270
1986 y(Y)m(ou)k(m)o(ust)f(no)o(w)h(write)h(the)g(temp)q(oral)e(part)i
(of)f(the)h(sp)q(eci\014cation.)35 b(If)19 b(y)o(ou)g(w)o(an)o(t)208
2035 y(to)g(sp)q(ecify)i(liv)o(eness)f(prop)q(erties,)i(y)o(ou)e(ha)o
(v)o(e)f(to)h(c)o(ho)q(ose)h(the)f(fairness)g(conditions,)h(as)208
2085 y(describ)q(ed)f(b)q(elo)o(w)e(in)f(Chapter)i(8.)31
b(Y)m(ou)18 b(then)h(com)o(bine)d(the)j(initial)e(predicate,)j(next-)
208 2135 y(state)c(action,)g(and)f(an)o(y)h(fairness)g(conditions)f(y)o
(ou'v)o(e)g(c)o(hosen)i(in)o(to)e(the)i(de\014nition)e(of)g(a)208
2185 y(single)e(temp)q(oral)g(form)o(ula)e(that)j(is)g(the)g(sp)q
(eci\014cation.)270 2235 y(Finally)m(,)c(y)o(ou)i(can)g(assert)i
(theorems)e(ab)q(out)h(the)g(sp)q(eci\014cation.)18 b(If)12
b(nothing)f(else,)i(y)o(ou)208 2284 y(probably)g(w)o(an)o(t)g(to)h(add)
g(a)f(t)o(yp)q(e-correctness)18 b(theorem.)p Black Black
eop
%%Page: 80 98
80 97 bop Black 208 275 a F4(80)524 b FR(CHAPTER)15 b(7.)31
b(WRITING)13 b(A)h(SPECIFICA)m(TION:)g(SOME)g(AD)o(VICE)p
208 282 1770 2 v Black 208 400 a FN(7.6)81 b(Some)28
b(F)-7 b(urther)26 b(Hin)n(ts)208 491 y F4(Here)15 b(are)g(a)f(few)g
(miscellaneous)f(suggestions)i(that)f(ma)o(y)f(help)h(y)o(ou)g(write)g
(b)q(etter)i(sp)q(eci-)208 540 y(\014cations.)208 648
y FU(Don't)e(b)q(e)i(to)q(o)f(clev)o(er.)208 725 y F4(Clev)o(erness)d
(can)g(mak)o(e)d(a)i(sp)q(eci\014cation)h(hard)f(to)g(read|and)g(ev)o
(en)h(wrong.)17 b(The)11 b(form)o(ula)208 775 y FV(q)k
F4(=)d F0(h)s FV(h)329 760 y FH(0)345 775 y F0(i)d(\016)g
FV(q)423 760 y FH(0)448 775 y F4(ma)o(y)j(lo)q(ok)h(lik)o(e)g(a)h
(nice,)g(short)g(w)o(a)o(y)f(of)h(writing)p Black Black
332 858 a(\()p FV(h)372 841 y FH(0)396 858 y F4(=)e FV(He)n(ad)t
F4(\()p FV(q)t F4(\)\))17 b F0(^)e F4(\()p FV(q)704 841
y FH(0)727 858 y F4(=)d FV(T)m(ail)t F4(\()p FV(q)t F4(\)\))p
Black -710 w(\(7.3\))p Black 208 941 a(But)k(not)f(only)g(is)g
FV(q)j F4(=)c F0(h)s FV(h)629 926 y FH(0)645 941 y F0(i)d(\016)f
FV(q)726 926 y FH(0)753 941 y F4(harder)16 b(to)f(understand)i(than)e
(\(7.3\),)g(it's)g(also)g(wrong.)208 991 y(W)m(e)d(don't)h(kno)o(w)f
(what)h FV(a)d F0(\016)e FV(b)15 b F4(equals)e(if)f FV(a)k
F4(and)d FV(b)j F4(are)d(not)g(b)q(oth)g(sequences,)i(so)e(w)o(e)g
(don't)208 1040 y(kno)o(w)i(whether)i FV(h)503 1025 y
FH(0)529 1040 y F4(=)e FV(He)n(ad)t F4(\()p FV(q)t F4(\))h(and)g
FV(q)847 1025 y FH(0)873 1040 y F4(=)f FV(T)m(ail)t F4(\()p
FV(q)t F4(\))g(are)h(the)g(only)f(v)n(alues)g(of)g FV(h)1501
1025 y FH(0)1529 1040 y F4(and)g FV(q)1634 1025 y FH(0)208
1090 y F4(that)g(satisfy)g FV(q)j F4(=)c F0(h)s FV(h)556
1075 y FH(0)573 1090 y F0(i)c(\016)g FV(q)653 1075 y
FH(0)664 1090 y F4(.)23 b(There)16 b(could)g(b)q(e)g(other)g(v)n(alues)
f(of)g FV(h)1299 1075 y FH(0)1326 1090 y F4(and)g FV(q)1431
1075 y FH(0)1443 1090 y F4(,)g(whic)o(h)g(are)208 1140
y(not)e(sequences,)j(that)e(satisfy)g(the)g(form)o(ula.)270
1190 y(In)i(general,)h(the)g(b)q(est)g(w)o(a)o(y)f(to)g(sp)q(ecify)h
(the)g(new)g(v)n(alue)f(of)g(a)g(v)n(ariable)f FV(v)21
b F4(is)16 b(with)g(a)208 1240 y(conjunct)h(of)f(the)h(form)e
FV(v)628 1225 y FH(0)657 1240 y F4(=)h FV(exp)k F4(or)c
FV(v)860 1225 y FH(0)889 1240 y F0(2)g FV(exp)s F4(,)h(where)h
FV(exp)h F4(is)e(a)f(state)i(function|an)208 1289 y(expression)d(with)e
(no)h(primes.)208 1397 y FU(A)i(t)o(yp)q(e)f(in)o(v)m(arian)o(t)e(is)i
(not)g(an)g(assumption.)208 1474 y F4(T)o(yp)q(e)20 b(in)o(v)n(ariance)
g(is)g(a)g(prop)q(ert)o(y)h(of)f(a)g(sp)q(eci\014cation,)i(not)e(an)g
(assumption.)36 b(When)208 1524 y(writing)17 b(a)i(sp)q(eci\014cation,)
h(w)o(e)f(usually)f(de\014ne)h(a)g(t)o(yp)q(e)g(in)o(v)n(arian)o(t.)30
b(But)20 b(that's)e(just)h(a)208 1574 y(de\014nition;)10
b(a)h(de\014nition)f(is)h(not)f(an)h(assumption.)k(Supp)q(ose)d(y)o(ou)
e(de\014ne)i(a)e(t)o(yp)q(e)i(in)o(v)n(arian)o(t)208
1623 y(that)g(asserts)i(that)e(a)g(v)n(ariable)f FV(n)16
b F4(is)c(of)f(t)o(yp)q(e)i FV(Nat)t F4(.)k(Y)m(ou)12
b(ma)o(y)e(b)q(e)j(tempted)f(then)h(to)f(think)208 1673
y(that)i(a)g(conjunct)h FV(n)529 1658 y FH(0)554 1673
y FQ(>)d F4(7)j(in)f(an)g(action)g(asserts)i(that)e FV(n)1117
1658 y FH(0)1144 1673 y F4(is)g(a)g(natural)g(n)o(um)o(b)q(er)g
(greater)208 1723 y(than)g(7.)21 b(It)15 b(do)q(esn't.)22
b(The)15 b(form)o(ula)e FV(n)835 1708 y FH(0)860 1723
y FQ(>)h F4(7)h(asserts)h(only)e(that)h FV(n)1286 1708
y FH(0)1312 1723 y FQ(>)e F4(7.)21 b(It)15 b(is)g(satis\014ed)208
1773 y(if)e FV(n)272 1758 y FH(0)295 1773 y F4(=)339
1738 y F0(p)p 374 1738 42 2 v 35 x F4(96)g(as)h(w)o(ell)f(as)h(if)f
FV(n)679 1758 y FH(0)703 1773 y F4(=)f(8.)17 b(Since)e(w)o(e)f(don't)f
(kno)o(w)g(whether)j(or)e(not)f(\\)p FD(ab)q(c)p F4(")f
FQ(>)g F4(7)208 1823 y(is)i(true,)h(it)f(migh)o(t)e(b)q(e)k
(satis\014ed)f(ev)o(en)g(if)f FV(n)889 1808 y FH(0)913
1823 y F4(=)f(\\)p FD(ab)q(c)p F4(")q(.)19 b(The)c(meaning)e(of)h(the)h
(form)o(ula)d(is)208 1872 y(not)h(c)o(hanged)i(just)f(b)q(ecause)h(y)o
(ou'v)o(e)e(de\014ned)i(a)f(t)o(yp)q(e)g(in)o(v)n(arian)o(t)f(that)h
(asserts)h FV(n)g F0(2)c FV(Nat)t F4(.)270 1922 y(In)h(general,)g(y)o
(ou)g(ma)o(y)e(w)o(an)o(t)h(to)h(describ)q(e)i(the)f(new)f(v)n(alue)g
(of)f(a)h(v)n(ariable)f FV(x)17 b F4(b)o(y)12 b(assert-)208
1972 y(ing)g(some)h(prop)q(ert)o(y)i(of)e FV(x)621 1957
y FH(0)633 1972 y F4(.)k(Ho)o(w)o(ev)o(er,)d(the)g(next-state)h(action)
e(should)h(imply)d(that)j FV(x)1593 1957 y FH(0)1618
1972 y F4(is)208 2022 y(an)f(elemen)o(t)h(of)f(some)g(suitable)h(set.)
19 b(F)m(or)13 b(example,)f(a)i(sp)q(eci\014cation)g(migh)o(t)e
(de\014ne)1549 2007 y FS(2)p Black Black 332 2109 a FV(A)n(ction)s
F4(1)503 2086 y FI(\001)498 2109 y F4(=)23 b(\()p FV(n)595
2094 y FH(0)619 2109 y FQ(>)12 b F4(7\))21 b F0(^)f FQ(:)7
b(:)g(:)332 2173 y FV(A)n(ction)s F4(2)503 2150 y FI(\001)498
2173 y F4(=)23 b(\()p FV(n)595 2158 y FH(0)619 2173 y
F0(\024)12 b F4(6\))21 b F0(^)f FQ(:)7 b(:)g(:)332 2238
y FV(Next)503 2214 y FI(\001)498 2238 y F4(=)23 b(\()p
FV(n)595 2222 y FH(0)619 2238 y F0(2)11 b FV(Nat)t F4(\))21
b F0(^)g F4(\()p FV(A)n(ction)s F4(1)9 b F0(_)g FV(A)n(ction)s
F4(2\))p Black 208 2279 576 2 v 254 2306 a FK(2)271 2318
y FZ(An)17 b(alternativ)o(e)d(approac)o(h)h(is)i(to)f(de\014ne)g
FY(Next)21 b FZ(to)c(equal)e FY(A)n(ction)s FZ(1)d FW(_)f
FY(A)n(ction)s FZ(2)18 b(and)e(to)g(let)h(the)208 2357
y(sp)q(eci\014catio)o(n)9 b(b)q(e)j FY(Init)f FW(^)d
Fs(2)p FZ([)p FY(Next)s FZ(])676 2361 y Fr(:::)716 2357
y FW(^)g Fs(2)p FZ(\()p FY(n)14 b FW(2)d FY(Nat)s FZ(\).)18
b(But)12 b(it's)g(usually)e(b)q(etter)h(to)h(stic)o(k)f(to)h(the)g
(simple)208 2396 y(form)e FY(Init)g FW(^)e Fs(2)p FZ([)p
FY(Next)s FZ(])508 2400 y Fr(:::)551 2396 y FZ(for)j(sp)q
(eci\014cation)o(s.)p Black Black Black eop
%%Page: 81 99
81 98 bop Black 208 275 a FR(7.6.)30 b(SOME)15 b(FUR)m(THER)e(HINTS)
1147 b F4(81)p 208 282 1770 2 v Black 208 391 a FU(Don't)14
b(b)q(e)i(to)q(o)f(abstract.)208 468 y F4(Supp)q(ose)i(a)f(user)h(in)o
(teracts)g(with)f(the)h(system)f(b)o(y)g(t)o(yping)g(on)g(a)g(k)o(eyb)q
(oard.)25 b(W)m(e)16 b(could)208 518 y(describ)q(e)11
b(the)g(in)o(teraction)e(abstractly)h(with)g(a)f(v)n(ariable)g
FV(typ)k F4(and)c(an)h(op)q(erator)g(parameter)208 568
y FV(KeyStr)n(oke)s F4(,)g(where)h(the)f(action)g FV(KeyStr)n(oke)s
F4(\(\\)p FD(a)p F4(")p FQ(;)j FV(typ)s FQ(;)g FV(typ)1150
553 y FH(0)1162 568 y F4(\))d(represen)o(ts)i(the)f(user)g(t)o(yping)
208 617 y(an)i(\\)p FD(a)p F4(")o(.)18 b(This)13 b(is)h(the)g(approac)o
(h)f(w)o(e)h(to)q(ok)f(in)g(describing)h(the)g(comm)o(uni)o(cation)c(b)
q(et)o(w)o(een)208 667 y(the)k(pro)q(cessors)i(and)e(the)g(memory)e(in)
h(the)i FV(MemoryInterfac)n(e)i F4(mo)q(dule)12 b(on)i(page)f(48.)270
717 y(A)j(more)f(concrete)j(description)f(w)o(ould)f(b)q(e)g(to)g(let)h
FV(kb)n(d)j F4(represen)o(t)f(the)e(state)g(of)e(the)208
767 y(k)o(eyb)q(oard,)g(p)q(erhaps)i(letting)e FV(kb)n(d)k
F4(=)14 b F0(fg)h F4(mean)g(that)g(no)g(k)o(ey)h(is)f(depressed,)j(and)
e FV(kb)n(d)j F4(=)208 817 y F0(f)p F4(\\)p FD(a)p F4(")o
F0(g)c F4(mean)f(that)i(the)g FV(a)j F4(k)o(ey)c(is)h(depressed.)25
b(The)16 b(t)o(yping)f(of)f(an)i FV(a)i F4(is)e(represen)o(ted)i(b)o(y)
208 866 y(t)o(w)o(o)d(steps,)j(a)e([)p FV(kb)n(d)k F4(=)c
F0(fg)p F4(])e F0(!)h F4([)p FV(kb)n(d)20 b F4(=)c F0(f)p
F4(\\)p FD(a)p F4(")o F0(g)p F4(])g(step)h(represen)o(ts)i(the)e
(pressing)g(of)f(the)h FV(a)208 916 y F4(k)o(ey)m(,)e(and)h(a)g([)p
FV(kb)n(d)k F4(=)c F0(f)p F4(\\)p FD(a)p F4(")o F0(g)p
F4(])e F0(!)h F4([)p FV(kb)n(d)20 b F4(=)15 b F0(fg)p
F4(])h(step)h(represen)o(ts)i(its)d(release.)26 b(This)16
b(is)g(the)208 966 y(approac)o(h)d(w)o(e)i(to)q(ok)e(in)g(the)i(async)o
(hronous)g(in)o(terface)f(sp)q(eci\014cations)h(of)e(Chapter)i(3.)270
1016 y(The)21 b(abstract)g(in)o(terface)g(is)f(simpler;)i(t)o(yping)d
(an)h FV(a)k F4(is)c(represen)o(ted)j(b)o(y)d(a)g(single)208
1066 y FV(KeyStr)n(oke)s F4(\(\\)p FD(a)p F4(")o FQ(;)14
b FV(typ)s FQ(;)f FV(typ)638 1051 y FH(0)649 1066 y F4(\))19
b(step)g(instead)g(of)f(a)g(pair)g(of)g(steps.)33 b(Ho)o(w)o(ev)o(er,)
19 b(using)f(the)208 1116 y(concrete)d(represen)o(tation)f(leads)g(us)f
(naturally)f(to)h(ask:)18 b(what)13 b(if)f(the)i(user)g(presses)i(the)e
FV(a)208 1165 y F4(k)o(ey)f(and,)f(b)q(efore)i(releasing)g(it,)e
(presses)k(the)d FV(b)j F4(k)o(ey?)i(That's)13 b(easy)h(to)f(describ)q
(e)h(with)f(the)208 1215 y(concrete)e(represen)o(tation.)19
b(The)10 b(state)h(with)e(b)q(oth)i(k)o(eys)f(depressed)i(is)e
FV(kb)n(d)16 b F4(=)c F0(f)p F4(\\)p FD(a)p F4(")o FQ(;)i
F4(\\)p FD(b)p F4(")p F0(g)p F4(.)208 1265 y(Pressing)g(and)g
(releasing)g(a)g(k)o(ey)g(are)g(represen)o(ted)j(simply)12
b(b)o(y)h(the)i(t)o(w)o(o)e(actions)p Black Black 332
1352 a FV(Pr)n(ess)s F4(\()p FV(k)t F4(\))527 1329 y
FI(\001)523 1352 y F4(=)34 b FV(kb)n(d)650 1335 y FH(0)674
1352 y F4(=)12 b FV(kb)n(d)i F0([)9 b(f)p FV(k)t F0(g)124
b FV(R)n(ele)n(ase)s F4(\()p FV(k)t F4(\))1246 1329 y
FI(\001)1241 1352 y F4(=)35 b FV(kb)n(d)1369 1335 y FH(0)1393
1352 y F4(=)11 b FV(kb)n(d)h F0(n)7 b(f)p FV(k)t F0(g)208
1435 y F4(The)14 b(p)q(ossibilit)o(y)e(of)h(ha)o(ving)f(t)o(w)o(o)h(k)o
(eys)h(depressed)i(cannot)e(b)q(e)g(expressed)i(with)d(the)i(sim-)208
1485 y(ple)i(abstract)h(in)o(terface.)28 b(T)m(o)17 b(express)i(it)e
(abstractly)m(,)g(w)o(e)h(w)o(ould)e(ha)o(v)o(e)h(to)g(replace)h(the)
208 1535 y(parameter)e FV(KeyStr)n(oke)k F4(with)c(t)o(w)o(o)g
(parameters)h FV(Pr)n(essKey)j F4(and)c FV(R)n(ele)n(aseKey)t
F4(,)h(and)g(w)o(e)208 1585 y(w)o(ould)c(ha)o(v)o(e)h(to)g(express)i
(explicitly)d(the)i(prop)q(ert)o(y)g(that)f(a)g(k)o(ey)g(can't)g(b)q(e)
h(released)h(un)o(til)208 1634 y(it)c(has)h(b)q(een)i(depressed,)g(and)
e(vice-v)o(ersa.)18 b(The)c(more)e(concrete)j(represen)o(tation)f(is)f
(then)208 1684 y(simpler.)270 1734 y(W)m(e)h(migh)o(t)f(decide)j(that)f
(w)o(e)g(don't)f(w)o(an)o(t)h(to)g(consider)h(the)f(p)q(ossibilit)o(y)f
(of)g(t)o(w)o(o)g(k)o(eys)208 1784 y(b)q(eing)c(depressed,)j(and)e
(that)f(w)o(e)h(prefer)g(the)h(abstract)f(represen)o(tation.)18
b(But)12 b(that)e(should)208 1834 y(b)q(e)h(a)f(conscious)i(decision.)
17 b(Our)11 b(abstraction)g(should)g(not)f(blind)g(us)h(to)g(what)f
(can)h(happ)q(en)208 1884 y(in)h(the)i(actual)f(system.)18
b(When)13 b(in)g(doubt,)g(it's)g(safer)h(to)f(use)h(a)f(concrete)i
(represen)o(tation)208 1933 y(that)e(more)g(accurately)h(describ)q(es)h
(the)f(real)g(system.)k(That)13 b(w)o(a)o(y)m(,)f(y)o(ou)h(are)h(less)g
(lik)o(ely)e(to)208 1983 y(o)o(v)o(erlo)q(ok)h(real)g(problems.)208
2091 y FU(Don't)h(assume)h(v)m(alues)g(that)g(lo)q(ok)h(di\013eren)o(t)
c(are)k(unequal.)208 2168 y F4(The)c(rules)h(of)f(TLA)522
2153 y FS(+)555 2168 y F4(do)g(not)g(imply)e(that)i(1)g
F0(6)p F4(=)g(\\)p FD(a)p F4(")o(.)17 b(If)12 b(the)h(system)f(can)h
(send)g(a)f(message)208 2217 y(that)17 b(is)g(either)h(a)f(string)g(or)
g(a)g(n)o(um)o(b)q(er,)g(represen)o(t)i(the)f(message)f(as)g(a)g
(record)h(with)f(a)208 2267 y FV(typ)n(e)g F4(and)c FV(value)18
b F4(\014eld|for)13 b(example,)p Black Black 332 2350
a([)p FV(typ)n(e)h F0(7!)d F4(\\)p FD(String)p F4(")p
FQ(;)18 b FV(value)d F0(7!)c F4(\\)p FD(a)p F4("])41
b(or)g([)p FV(typ)n(e)15 b F0(7!)c F4(\\)p FD(Nat)p F4(")p
FQ(;)17 b FV(value)e F0(7!)c F4(1])208 2433 y(W)m(e)17
b(kno)o(w)g(that)h(these)h(t)o(w)o(o)e(v)n(alues)g(are)h(di\013eren)o
(t)h(b)q(ecause)g(they)g(ha)o(v)o(e)e(di\013eren)o(t)i
FV(typ)n(e)208 2483 y F4(\014elds.)p Black Black eop
%%Page: 82 100
82 99 bop Black 208 275 a F4(82)524 b FR(CHAPTER)15 b(7.)31
b(WRITING)13 b(A)h(SPECIFICA)m(TION:)g(SOME)g(AD)o(VICE)p
208 282 1770 2 v Black 208 391 a FU(Mo)o(v)o(e)h(quan)o(ti\014cation)d
(to)j(the)g(outside.)208 468 y F4(Sp)q(eci\014cations)g(are)h(usually)e
(easier)i(to)f(read)h(if)e F0(9)22 b F4(is)15 b(mo)o(v)o(ed)e(outside)j
(disjunctions)f(and)208 518 y F0(8)20 b F4(is)14 b(mo)o(v)o(ed)e
(outside)j(conjunctions.)j(F)m(or)13 b(example,)g(instead)h(of)p
Black Black 332 605 a FV(Up)478 581 y FI(\001)473 605
y F4(=)35 b F0(9)7 b FV(e)15 b F0(2)c FV(Elevator)23
b F4(:)18 b FQ(:)7 b(:)g(:)332 662 y FV(Down)478 638
y FI(\001)473 662 y F4(=)35 b F0(9)7 b FV(e)15 b F0(2)c
FV(Elevator)23 b F4(:)18 b FQ(:)7 b(:)g(:)332 718 y FV(Move)478
695 y FI(\001)473 718 y F4(=)35 b FV(Up)19 b F0(_)d FV(Down)208
800 y F4(it's)d(usually)g(b)q(etter)j(to)d(write)p Black
Black 332 887 a FV(Up)s F4(\()p FV(e)s F4(\))533 863
y FI(\001)528 887 y F4(=)35 b FQ(:)7 b(:)g(:)332 944
y FV(Down)s F4(\()p FV(e)s F4(\))533 920 y FI(\001)528
944 y F4(=)35 b FQ(:)7 b(:)g(:)332 1000 y FV(Move)533
977 y FI(\001)528 1000 y F4(=)35 b F0(9)7 b FV(e)14 b
F0(2)e FV(Elevator)22 b F4(:)c FV(Up)s F4(\()p FV(e)s
F4(\))f F0(_)e FV(Down)s F4(\()p FV(e)s F4(\))208 1106
y FU(Prime)f(only)g(what)i(y)o(ou)f(mean)h(to)f(prime.)208
1183 y F4(When)e(writing)g(an)h(action,)f(b)q(e)h(careful)g(where)h(y)o
(ou)e(put)h(y)o(our)f(primes.)18 b(The)c(expression)208
1233 y FV(f)8 b F4([)p FV(e)s F4(])275 1218 y FH(0)302
1233 y F4(equals)17 b FV(f)452 1218 y FH(0)464 1233 y
F4([)p FV(e)498 1218 y FH(0)510 1233 y F4(];)f(it)g(equals)h
FV(f)744 1218 y FH(0)756 1233 y F4([)p FV(e)s F4(])f(only)g(if)f
FV(e)974 1218 y FH(0)1002 1233 y F4(=)h FV(e)s F4(,)h(whic)o(h)f(need)i
(not)e(b)q(e)h(true)h(if)d(the)208 1283 y(expression)f
FV(e)i F4(con)o(tains)d(v)n(ariables.)k(Be)d(esp)q(ecially)g(careful)f
(when)h(priming)c(an)j(op)q(erator)208 1332 y(whose)i(de\014nition)g
(con)o(tains)h(a)f(v)n(ariable.)21 b(F)m(or)15 b(example,)f(supp)q(ose)
i FV(x)21 b F4(is)15 b(a)g(v)n(ariable)f(and)208 1382
y FV(op)i F4(is)e(de\014ned)h(b)o(y)p Black Black 332
1469 a FV(op)s F4(\()p FV(a)s F4(\))473 1446 y FI(\001)468
1469 y F4(=)35 b FV(x)15 b F4(+)9 b FV(a)208 1552 y F4(Then)h
FV(op)s F4(\()p FV(y)t F4(\))413 1537 y FH(0)434 1552
y F4(equals)g(\()p FV(x)c F4(+)q FV(y)t F4(\))670 1537
y FH(0)682 1552 y F4(,)k(whic)o(h)g(equals)g FV(x)965
1537 y FH(0)978 1552 y F4(+)q FV(y)1035 1537 y FH(0)1046
1552 y F4(,)h(while)e FV(op)s F4(\()p FV(y)1258 1537
y FH(0)1269 1552 y F4(\))h(equals)g FV(x)c F4(+)q FV(y)1499
1537 y FH(0)1511 1552 y F4(.)17 b(There)208 1602 y(is)12
b(no)g(w)o(a)o(y)g(to)g(use)h FV(op)j F4(and)643 1587
y FH(0)667 1602 y F4(to)c(write)h(the)g(expression)g
FV(x)1113 1587 y FH(0)1131 1602 y F4(+)6 b FV(y)t F4(.)18
b(\(W)m(riting)11 b FV(op)1435 1587 y FH(0)1447 1602
y F4(\()p FV(y)t F4(\))h(do)q(esn't)208 1652 y(w)o(ork)h(b)q(ecause)j
(it's)d(illegal|y)o(ou)e(can)j(prime)f(only)g(an)h(expression,)g(not)g
(an)g(op)q(erator.\))208 1760 y FU(W)l(rite)g(commen)o(ts)g(as)i
(commen)o(ts.)208 1837 y F4(Don't)11 b(put)h(commen)o(ts)e(in)o(to)i
(the)g(sp)q(eci\014cation)h(itself.)k(I)12 b(ha)o(v)o(e)g(seen)h(p)q
(eople)g(write)f(things)208 1886 y(lik)o(e)h(the)h(follo)o(wing)d
(action)j(de\014nition:)p Black Black 332 1974 a FV(A)402
1950 y FI(\001)398 1974 y F4(=)34 b F0(_)14 b(^)f FV(x)k
F0(\025)12 b F4(0)506 2023 y F0(^)h FQ(:)7 b(:)g(:)464
2073 y F0(_)14 b(^)f FV(x)k FQ(<)12 b F4(0)506 2123 y
F0(^)h FP(f)l(alse)208 2204 y F4(The)i(second)i(disjunct)e(is)h(mean)o
(t)e(to)h(indicate)g(that)h(the)g(writer)g(in)o(tended)g
FV(A)f F4(not)g(to)g(b)q(e)208 2254 y(enabled)c(when)h
FV(x)17 b FQ(<)12 b F4(0.)17 b(But)12 b(that)f(disjunct)h(is)f
(completely)f(redundan)o(t,)i(since)h FV(F)d F0(^)t FP(f)l(alse)208
2304 y F4(equals)g FP(f)l(alse)r F4(,)h(and)f FV(F)f
F0(_)s FP(f)l(alse)j F4(equals)f FV(F)6 b F4(,)k(for)h(an)o(y)f(form)o
(ula)e FV(F)e F4(.)17 b(So)10 b(the)i(second)g(disjunct)208
2354 y(of)h(the)h(de\014nition)g(serv)o(es)h(only)e(as)h(a)g(form)e(of)
h(commen)o(t.)j(It's)e(b)q(etter)i(to)d(write)p Black
Black 332 2441 a FV(A)402 2417 y FI(\001)398 2441 y F4(=)34
b F0(^)14 b FV(x)j F0(\025)12 b F4(0)464 2491 y F0(^)i
FQ(:)7 b(:)g(:)p .95 TeXcolorgray .95 TeXcolorgray 639
2461 400 57 v .95 TeXcolorgray Black 648 2441 a FY(A)12
b FZ(is)f(not)g(enabled)f(if)h FY(x)j Fw(<)c FZ(0)p .95
TeXcolorgray Black Black Black eop
%%Page: 83 101
83 100 bop Black 208 275 a FR(7.7.)30 b(WHEN)14 b(AND)g(HO)o(W)g(TO)g
(SPECIFY)1000 b F4(83)p 208 282 1770 2 v Black 208 400
a FN(7.7)81 b(When)27 b(and)g(Ho)n(w)g(to)h(Sp)r(ecify)208
491 y F4(Sp)q(eci\014cations)12 b(are)h(often)f(written)g(later)g(than)
g(they)h(should)e(b)q(e.)18 b(Engineers)13 b(are)g(usually)208
540 y(under)f(sev)o(ere)h(time)d(constrain)o(ts,)j(and)e(they)h(ma)o(y)
e(feel)h(that)h(writing)f(a)g(sp)q(eci\014cation)h(will)208
590 y(slo)o(w)e(them)g(do)o(wn.)17 b(Only)10 b(after)h(a)g(design)g
(has)g(b)q(ecome)g(so)g(complex)f(that)h(they)g(need)h(help)208
640 y(understanding)i(it)g(do)f(most)g(engineers)i(think)f(ab)q(out)f
(writing)h(a)f(precise)j(sp)q(eci\014cation.)270 690
y(W)m(riting)c(a)i(sp)q(eci\014cation)h(helps)g(y)o(ou)f(think)f
(clearly)m(.)19 b(Thinking)13 b(clearly)h(is)g(hard;)g(w)o(e)208
740 y(can)f(use)i(all)d(the)i(help)g(w)o(e)g(can)f(get.)19
b(Making)12 b(sp)q(eci\014cation)i(part)g(of)f(the)h(design)g(pro)q
(cess)208 789 y(can)g(impro)o(v)o(e)e(the)i(design.)270
839 y(I)h(ha)o(v)o(e)g(describ)q(ed)j(ho)o(w)d(to)g(write)h(a)f(sp)q
(eci\014cation)h(assuming)e(that)h(the)h(system)g(de-)208
889 y(sign)g(already)h(exists.)28 b(But)18 b(it's)e(b)q(etter)j(to)e
(write)g(the)h(sp)q(eci\014cation)f(as)h(the)f(system)g(is)208
939 y(b)q(eing)d(designed.)20 b(The)15 b(sp)q(eci\014cation)g(will)e
(start)i(out)f(b)q(eing)g(incomplete)f(and)i(probably)208
989 y(incorrect.)33 b(F)m(or)19 b(example,)f(an)g(initial)f(sp)q
(eci\014cation)i(of)g(the)g(write-through)g(cac)o(he)g(of)208
1038 y(Section)14 b(5.6)f(\(page)h(54\))f(migh)o(t)f(include)i(the)g
(de\014nition)p Black Black 332 1128 a FV(R)n(dMiss)s
F4(\()p FV(p)s F4(\))564 1104 y FI(\001)559 1128 y F4(=)p
.95 TeXcolorgray .95 TeXcolorgray 618 1148 950 57 v .95
TeXcolorgray Black 35 w FZ(Enqueue)c(a)h(request)f(to)h(write)g(v)n
(alue)g(from)f(memory)f(to)i FY(p)r FZ('s)h(cac)o(he.)p
.95 TeXcolorgray Black .95 TeXcolorgray .95 TeXcolorgray
365 1198 775 57 v .95 TeXcolorgray Black 374 1178 a(Some)e(enabling)f
(condition)g(m)o(ust)h(b)q(e)h(conjoined)e(here.)p .95
TeXcolorgray Black 374 1239 a F0(^)k FV(memQ)538 1224
y FH(0)561 1239 y F4(=)f FV(App)n(end)t F4(\()p FV(memQ)t
FQ(;)7 b FV(buf)i F4([)p FV(p)s F4(]\))374 1301 y F0(^)k
FV(ctl)463 1286 y FH(0)486 1301 y F4(=)f([)p FV(ctl)19
b FP(ex)o(cept)g F4(!)s([)p FV(p)s F4(])11 b(=)g(\\)p
FD(?)p F4(")o(])374 1362 y F0(^)i FP(unchanged)k F0(h)s
FV(memInt)t FQ(;)d FV(wmem)s FQ(;)f FV(buf)c FQ(;)14
b FV(c)n(ache)7 b F0(i)p .95 TeXcolorgray .95 TeXcolorgray
1087 1320 660 117 v .95 TeXcolorgray Black 1095 1239
a FZ(App)q(end)k(request)e(to)i FY(memQ)s FZ(.)1095 1300
y(Set)g FY(ctl)s FZ([)p FY(p)r FZ(])h(to)f(v)n(alue)g(to)g(b)q(e)g
(determined)d(later.)p .95 TeXcolorgray Black 208 1443
a F4(Some)14 b(system)i(functionalit)o(y)f(will)f(at)i(\014rst)h(b)q(e)
f(omitted;)f(it)h(can)g(b)q(e)h(included)f(later)g(b)o(y)208
1493 y(adding)g(new)i(disjuncts)h(to)e(the)h(next-state)h(action.)29
b(T)m(o)q(ols)17 b(can)h(b)q(e)g(applied)f(to)g(these)208
1543 y(preliminary)11 b(sp)q(eci\014cations)k(to)f(help)g(\014nd)g
(design)g(errors.)p Black Black eop
%%Page: 84 102
84 101 bop Black 208 275 a F4(84)524 b FR(CHAPTER)15
b(7.)31 b(WRITING)13 b(A)h(SPECIFICA)m(TION:)g(SOME)g(AD)o(VICE)p
208 282 1770 2 v Black Black Black eop
%%Page: 85 103
85 102 bop Black Black 779 1093 a FL(P)m(art)32 b(I)s(I)343
1301 y F5(More)40 b(Adv)-6 b(anced)37 b(T)-10 b(opics)p
Black 1936 2622 a F4(85)p Black eop
%%Page: 86 104
86 103 bop Black Black Black Black eop
%%Page: 87 105
87 104 bop Black Black 208 703 a FL(Chapter)31 b(8)208
910 y F5(Liv)m(eness)38 b(and)g(F)-10 b(airness)208 1126
y F4(The)15 b(sp)q(eci\014cations)g(w)o(e)g(ha)o(v)o(e)g(written)g(so)f
(far)h(sa)o(y)f(what)g(a)h(system)f(m)o(ust)g FV(not)19
b F4(do.)g(The)208 1176 y(clo)q(c)o(k)d(m)o(ust)f(not)h(adv)n(ance)g
(from)e(11)i(to)f(9;)i(the)f(receiv)o(er)i(m)o(ust)d(not)h(receiv)o(e)h
(a)f(message)208 1226 y(if)j(the)h(FIF)o(O)g(is)g(empt)o(y)m(.)34
b(They)20 b(don't)g(require)g(that)g(the)h(system)e(ev)o(er)i(actually)
e(do)208 1276 y(an)o(ything.)e(The)e(clo)q(c)o(k)f(need)h(nev)o(er)g
(tic)o(k;)f(the)h(sender)g(need)h(nev)o(er)f(send)g(an)o(y)e(messages.)
208 1325 y(Our)j(sp)q(eci\014cations)h(ha)o(v)o(e)e(describ)q(ed)j
(what)d(are)h(called)g FV(safety)g(pr)n(op)n(erties)p
F4(.)23 b(If)15 b(a)h(safet)o(y)208 1375 y(prop)q(ert)o(y)e(is)g
(violated,)f(it)g(is)h(violated)f(at)h(some)f(particular)g(p)q(oin)o(t)
h(in)f(the)i(b)q(eha)o(vior|b)o(y)208 1425 y(a)d(step)i(that)g(adv)n
(ances)f(the)h(clo)q(c)o(k)f(from)e(11)i(to)g(9,)f(or)h(that)h(reads)g
(the)f(wrong)g(v)n(alue)g(from)208 1475 y(memory)m(.)26
b(Therefore,)19 b(w)o(e)f(can)f(talk)g(ab)q(out)h(a)f(safet)o(y)h(prop)
q(ert)o(y)g(b)q(eing)g(satis\014ed)g(b)o(y)f(a)208 1525
y(\014nite)d(b)q(eha)o(vior,)f(whic)o(h)h(means)f(that)h(it)f(has)h
(not)g(b)q(een)h(violated)e(b)o(y)h(an)o(y)f(step)i(so)f(far.)270
1574 y(W)m(e)i(no)o(w)g(learn)h(ho)o(w)f(to)h(sp)q(ecify)g(that)g
(something)e FV(do)n(es)21 b F4(happ)q(en|that)c(the)g(clo)q(c)o(k)208
1624 y(k)o(eeps)10 b(tic)o(king,)f(or)h(that)f(a)g(v)n(alue)g(is)h(ev)o
(en)o(tually)f(read)g(from)f(memory)m(.)14 b(W)m(e)9
b(sp)q(ecify)h FV(liveness)208 1674 y(pr)n(op)n(erties)s
F4(|ones)18 b(that)h(cannot)g(b)q(e)h(violated)e(at)h(an)o(y)f
(particular)h(instan)o(t.)33 b(Only)19 b(b)o(y)208 1724
y(examining)d(an)j(en)o(tire)h(in\014nite)f(b)q(eha)o(vior)g(can)g(w)o
(e)h(tell)e(that)i(the)f(clo)q(c)o(k)h(has)f(stopp)q(ed)208
1774 y(tic)o(king,)12 b(or)i(that)g(a)g(message)f(is)h(nev)o(er)h(sen)o
(t.)270 1823 y(W)m(e)i(express)i(liv)o(eness)f(prop)q(erties)g(as)g
(temp)q(oral)e(form)o(ulas.)26 b(This)17 b(means)f(that,)i(to)208
1873 y(add)13 b(liv)o(eness)g(conditions)g(to)h(y)o(our)f(sp)q
(eci\014cations,)h(y)o(ou)e(ha)o(v)o(e)i(to)f(understand)h(temp)q(oral)
208 1923 y(logic|the)f(logic)h(of)g(temp)q(oral)f(form)o(ulas.)18
b(The)d(c)o(hapter)h(b)q(egins,)f(in)f(Section)h(8.1,)e(with)208
1973 y(a)f(more)f(rigorous)h(lo)q(ok)g(at)g(what)g(a)g(temp)q(oral)f
(form)o(ula)f(means.)17 b(T)m(o)12 b(understand)h(a)f(logic,)208
2023 y(y)o(ou)e(ha)o(v)o(e)g(to)g(understand)i(what)e(its)g(true)i
(form)o(ulas)c(are.)17 b(Section)11 b(8.2)f(is)g(ab)q(out)g(temp)q
(oral)208 2073 y(tautologies,)k(the)i(true)g(form)o(ulas)d(of)h(temp)q
(oral)g(logic.)21 b(Sections)16 b(8.4{8.7)d(describ)q(e)k(ho)o(w)208
2122 y(to)f(use)h(temp)q(oral)e(form)o(ulas)f(to)j(sp)q(ecify)g(liv)o
(eness)g(prop)q(erties.)27 b(Section)17 b(8.8)e(completes)208
2172 y(our)h(study)i(of)e(temp)q(oral)g(logic)f(b)o(y)i(examining)d
(the)k(temp)q(oral)d(quan)o(ti\014er)1438 2170 y F0(9)-21
b(9)g(9)1438 2172 y(9)g(9)g(9)7 b F4(.)26 b(Finally)m(,)208
2222 y(Section)14 b(8.9)g(reviews)h(what)g(w)o(e'v)o(e)f(done)h(and)f
(explains)h(wh)o(y)f(the)h(undisciplined)f(use)h(of)208
2272 y(temp)q(oral)d(logic)h(is)h(dangerous.)270 2322
y(This)j(c)o(hapter)g(is)g(the)h(only)e(one)h(that)g(con)o(tains)g(pro)
q(ofs.)26 b(It)17 b(w)o(ould)g(b)q(e)g(nice)g(if)f(y)o(ou)208
2371 y(learned)21 b(to)g(write)h(similar)c(pro)q(ofs)j(y)o(ourself,)i
(but)e(it)g(do)q(esn't)g(matter)g(if)f(y)o(ou)h(don't.)208
2421 y(The)16 b(pro)q(ofs)g(are)g(here)h(b)q(ecause)g(studying)f(them)f
(can)h(help)f(y)o(ou)h(dev)o(elop)f(the)i(in)o(tuitiv)o(e)208
2471 y(understanding)22 b(of)f(temp)q(oral)f(form)o(ulas)g(that)i(y)o
(ou)f(need)i(to)e(write)h(sp)q(eci\014cations|)p Black
1936 2622 a(87)p Black eop
%%Page: 88 106
88 105 bop Black 208 275 a F4(88)908 b FR(CHAPTER)14
b(8.)31 b(LIVENESS)15 b(AND)f(F)-5 b(AIRNESS)p 208 282
1770 2 v Black 208 391 a F4(an)20 b(understanding)i(that)f(mak)o(es)f
(the)h(truth)h(of)e(a)h(simple)e(temp)q(oral)h(tautology)g(lik)o(e)208
441 y FG(22)p FV(F)j F0(\021)18 b FG(2)p FV(F)23 b F4(as)18
b(ob)o(vious)f(as)h(the)g(truth)g(of)f(a)g(simple)g(theorem)g(ab)q(out)
g(n)o(um)o(b)q(ers)h(lik)o(e)208 491 y F0(8)7 b FV(n)15
b F0(2)c FV(Nat)k F4(:)c(2)e F0(\003)g FV(n)15 b F0(\025)d
FV(n)t F4(.)270 541 y(Man)o(y)18 b(readers)i(will)c(\014nd)j(that)f
(this)h(c)o(hapter)g(taxes)g(their)g(mathematical)c(abilit)o(y)m(.)208
591 y(Don't)j(w)o(orry)i(if)f(y)o(ou)g(ha)o(v)o(e)h(trouble)g
(understanding)g(it.)35 b(T)m(reat)20 b(this)g(c)o(hapter)g(as)g(an)208
640 y(exercise)14 b(to)e(stretc)o(h)h(y)o(our)f(mind)f(and)h(prepare)h
(y)o(ou)f(to)g(add)g(liv)o(eness)g(prop)q(erties)i(to)e(y)o(our)208
690 y(sp)q(eci\014cations.)20 b(And)15 b(remem)o(b)q(er)f(that)g(liv)o
(eness)h(prop)q(erties)h(are)f(lik)o(ely)e(to)h(b)q(e)i(the)f(least)208
740 y(imp)q(ortan)o(t)g(part)j(of)f(y)o(our)g(sp)q(eci\014cation.)30
b(Y)m(ou)17 b(will)f(probably)h(not)h(lose)f(m)o(uc)o(h)g(if)f(y)o(ou)
208 790 y(simply)11 b(omit)h(them.)208 946 y FN(8.1)81
b(T)-7 b(emp)r(oral)28 b(F)-7 b(orm)n(ulas)208 1037 y
F4(Recall)10 b(that)i(a)g(state)g(assigns)g(a)f(v)n(alue)g(to)h(ev)o
(ery)g(v)n(ariable,)f(and)g(a)h(b)q(eha)o(vior)f(is)h(an)f(in\014nite)
208 1087 y(sequence)16 b(of)d(states.)19 b(A)14 b(temp)q(oral)f(form)o
(ula)e(is)j(true)h(or)e(false)h(of)f(a)h(b)q(eha)o(vior.)k(F)m(ormally)
l(,)208 1137 y(a)g(temp)q(oral)f(form)o(ula)e FV(F)24
b F4(assigns)19 b(a)f(Bo)q(olean)g(v)n(alue,)h(whic)o(h)f(w)o(e)g
(write)h FQ(\033)h F0(j)-7 b F4(=)19 b FV(F)6 b F4(,)19
b(to)f(a)208 1187 y(b)q(eha)o(vior)c FQ(\033)q F4(.)21
b(W)m(e)15 b(sa)o(y)g(that)f FV(F)21 b F4(is)15 b(true)g(of)g
FQ(\033)q F4(,)f(or)h(that)g FQ(\033)h F4(satis\014es)g
FV(F)6 b F4(,)14 b(i\013)h FQ(\033)f F0(j)-7 b F4(=)13
b FV(F)21 b F4(equals)208 1237 y FP(tr)o(ue)p F4(.)d(T)m(o)13
b(de\014ne)i(the)f(meaning)e(of)h(a)h(temp)q(oral)e(form)o(ula)g
FV(F)6 b F4(,)13 b(w)o(e)h(ha)o(v)o(e)f(to)h(explain)f(ho)o(w)208
1286 y(to)g(determine)h(the)g(v)n(alue)f(of)g FQ(\033)g
F0(j)-7 b F4(=)11 b FV(F)19 b F4(for)14 b(an)o(y)f(b)q(eha)o(vior)g
FQ(\033)q F4(.)18 b(F)m(or)13 b(no)o(w,)g(w)o(e)h(consider)h(only)208
1336 y(temp)q(oral)d(form)o(ulas)g(that)i(don't)f(con)o(tain)h(the)g
(temp)q(oral)f(existen)o(tial)g(quan)o(ti\014er)1531
1334 y F0(9)-21 b(9)g(9)1531 1336 y(9)g(9)g(9)6 b F4(.)270
1386 y(It's)j(easy)h(to)g(de\014ne)g(the)g(meaning)e(of)h(a)g(Bo)q
(olean)g(com)o(bination)e(of)i(temp)q(oral)f(form)o(ulas)208
1436 y(in)17 b(terms)h(of)f(the)h(meanings)f(of)g(those)i(form)o(ulas.)
27 b(The)19 b(form)o(ula)c FV(F)i F0(^)12 b FV(G)21 b
F4(is)d(true)h(of)e(a)208 1486 y(b)q(eha)o(vior)c FQ(\033)i
F4(i\013)e(b)q(oth)h FV(F)19 b F4(and)13 b FV(G)18 b
F4(are)c(true)g(of)f FQ(\033)q F4(,)h(and)f F0(:)p FV(F)19
b F4(is)13 b(true)i(of)e FQ(\033)i F4(i\013)e FV(F)19
b F4(is)13 b(not)h(true)208 1535 y(of)f FQ(\033)q F4(.)18
b(These)d(de\014nitions)f(are)g(written)h(more)e(formally)d(as)p
Black Black 332 1615 a FQ(\033)j F0(j)-7 b F4(=)11 b(\()p
FV(F)k F0(^)9 b FV(G)t F4(\))603 1591 y FI(\001)599 1615
y F4(=)34 b(\()p FQ(\033)13 b F0(j)-7 b F4(=)12 b FV(F)6
b F4(\))j F0(^)g F4(\()p FQ(\033)k F0(j)-7 b F4(=)11
b FV(G)t F4(\))124 b FQ(\033)13 b F0(j)-7 b F4(=)12 b
F0(:)p FV(F)1324 1591 y FI(\001)1319 1615 y F4(=)35 b
F0(:)7 b F4(\()p FQ(\033)13 b F0(j)-7 b F4(=)11 b FV(F)6
b F4(\))208 1690 y(These)13 b(are)g(the)g(de\014nitions)g(of)e(the)i
(meaning)e(of)h F0(^)g F4(and)g(of)g F0(:)g F4(as)h(op)q(erators)g(on)f
(temp)q(oral)208 1739 y(form)o(ulas.)24 b(The)17 b(meanings)f(of)g(the)
h(other)h(Bo)q(olean)e(op)q(erators)i(are)f(similarly)d(de\014ned.)208
1789 y(W)m(e)f(can)h(also)g(de\014ne)g(in)g(this)g(w)o(a)o(y)f(the)i
(ordinary)e(predicate-logic)h(quan)o(ti\014ers)g F0(8)21
b F4(and)14 b F0(9)208 1839 y F4(as)g(op)q(erators)g(on)g(temp)q(oral)f
(form)o(ulas|fo)o(r)e(example:)p Black Black 332 1918
a FQ(\033)i F0(j)-7 b F4(=)11 b(\()p F0(9)c FV(r)23 b
F4(:)18 b FV(F)6 b F4(\))622 1895 y FI(\001)617 1918
y F4(=)35 b F0(9)7 b FV(r)22 b F4(:)c(\()p FQ(\033)13
b F0(j)-7 b F4(=)12 b FV(F)6 b F4(\))208 1993 y(Ordinary)k(quan)o
(ti\014cation)g(o)o(v)o(er)h(constan)o(t)g(sets)h(is)f(de\014ned)g(the)
h(same)e(w)o(a)o(y)m(.)15 b(F)m(or)c(example,)208 2043
y(if)j FV(S)21 b F4(is)15 b(an)g(ordinary)g(constan)o(t)h
(expression|that)h(is,)e(one)h(con)o(taining)e(no)h(v)n(ariables|)208
2093 y(then)p Black Black 332 2168 a FQ(\033)e F0(j)-7
b F4(=)11 b(\()p F0(8)c FV(r)16 b F0(2)11 b FV(S)24 b
F4(:)18 b FV(F)6 b F4(\))701 2144 y FI(\001)696 2168
y F4(=)35 b F0(8)7 b FV(r)16 b F0(2)11 b FV(S)24 b F4(:)17
b(\()p FQ(\033)c F0(j)-7 b F4(=)12 b FV(F)6 b F4(\))208
2243 y(Quan)o(ti\014ers)14 b(are)h(discussed)g(further)g(in)e(Section)i
(8.8)d(b)q(elo)o(w.)270 2292 y(All)j(the)h(unquan)o(ti\014ed)g(temp)q
(oral)f(form)o(ulas)e(that)j(w)o(e'v)o(e)g(seen)h(ha)o(v)o(e)f(b)q(een)
h(Bo)q(olean)208 2342 y(com)o(binations)11 b(of)h(three)j(simple)d
(kinds)h(of)g(form)o(ulas,)d(whic)o(h)k(ha)o(v)o(e)f(the)h(follo)o
(wing)c(mean-)208 2392 y(ings:)p .95 TeXcolorgray .95
TeXcolorgray 1679 2525 307 165 v .95 TeXcolorgray Black
Black 1395 w FY(State)j(function)1687 2431 y FZ(and)e
FY(state)h(pr)n(e)n(di-)1687 2471 y(c)n(ate)k FZ(are)11
b(de\014ned)1687 2510 y(on)g(page)g(25.)p Black .95 TeXcolorgray
Black Black 270 2467 a F0(\017)p Black 20 w F4(A)16 b(state)g
(predicate,)g(view)o(ed)f(as)g(a)g(temp)q(oral)f(form)o(ula,)f(is)i
(true)h(of)e(a)h(b)q(eha)o(vior)g(i\013)311 2517 y(it)f(is)g(true)g(in)
g(the)g(\014rst)h(state)g(of)e(the)h(b)q(eha)o(vior.)p
Black Black eop
%%Page: 89 107
89 106 bop Black 208 275 a FR(8.1.)30 b(TEMPORAL)15 b(F)o(ORMULAS)1135
b F4(89)p 208 282 1770 2 v Black Black 270 391 a F0(\017)p
Black 20 w F4(A)15 b(form)o(ula)d FG(2)p FV(P)t F4(,)i(where)i
FV(P)i F4(is)c(a)h(state)g(predicate,)g(is)f(true)h(of)f(a)g(b)q(eha)o
(vior)g(i\013)g FV(P)19 b F4(is)311 441 y(true)c(in)f(ev)o(ery)g(state)
h(of)e(the)i(b)q(eha)o(vior.)p Black 270 519 a F0(\017)p
Black 20 w F4(A)d(form)o(ula)e FG(2)p F4([)p FV(N)d F4(])598
525 y FJ(v)618 519 y F4(,)k(where)j FV(N)k F4(is)12 b(an)g(action)f
(and)h FV(v)17 b F4(is)12 b(a)f(state)i(function,)f(is)g(true)g(of)311
569 y(a)i(b)q(eha)o(vior)f(i\013)g(ev)o(ery)h(successiv)o(e)i(pair)d
(of)g(steps)i(in)e(the)h(b)q(eha)o(vior)f(is)h(a)f([)p
FV(N)7 b F4(])1527 575 y FJ(v)1560 569 y F4(step.)208
641 y(Since)16 b(a)g(state)h(predicate)h(is)e(an)g(action)g(that)g(con)
o(tains)g(no)g(primed)f(v)n(ariables,)h(w)o(e)h(can)208
691 y(b)q(oth)11 b(com)o(bine)f(and)h(generalize)i(these)f(three)h
(kinds)e(of)g(temp)q(oral)f(form)o(ulas)g(in)o(to)g(the)i(t)o(w)o(o)208
740 y(kinds)f(of)f(form)o(ulas)f FV(A)i F4(and)g FG(2)p
FV(A)p F4(,)g(where)i FV(A)e F4(is)g(an)g(action.)16
b(I'll)10 b(\014rst)i(explain)f(the)g(meanings)208 790
y(of)k(these)i(t)o(w)o(o)f(kinds)g(of)f(form)o(ulas,)f(and)i(then)h
(de\014ne)g(the)g(op)q(erator)f FG(2)g F4(in)g(general.)25
b(T)m(o)208 840 y(do)15 b(this,)g(I)g(will)f(use)i(the)g(notation)e
(that)i FQ(\033)901 846 y FJ(i)931 840 y F4(is)g(the)f(\()p
FV(i)g F4(+)10 b(1\))1170 825 y FS(st)1213 840 y F4(state)17
b(of)d(the)i(b)q(eha)o(vior)f FQ(\033)q F4(,)208 890
y(for)e(an)o(y)g(natural)h(n)o(um)o(b)q(er)f FV(i)t F4(,)g(so)h
FQ(\033)h F4(is)f(the)h(b)q(eha)o(vior)e FQ(\033)1086
896 y FS(0)1117 890 y F0(!)e FQ(\033)1195 896 y FS(1)1225
890 y F0(!)g FQ(\033)1303 896 y FS(2)1333 890 y F0(!)g(\001)c(\001)g
(\001)f F4(.)270 940 y(W)m(e)12 b(in)o(terpret)i(an)e(arbitrary)g
(action)h FV(A)f F4(as)h(a)f(temp)q(oral)f(form)o(ula)f(b)o(y)i
(de\014ning)h FQ(\033)g F0(j)-7 b F4(=)11 b FV(A)208
990 y F4(to)h(b)q(e)h(true)g(i\013)f(the)h(\014rst)g(t)o(w)o(o)f
(states)i(of)e FQ(\033)h F4(are)g(an)f FV(A)h F4(step.)18
b(That)12 b(is,)h(w)o(e)f(de\014ne)i FQ(\033)e F0(j)-7
b F4(=)12 b FV(A)g F4(to)208 1039 y(b)q(e)h(true)g(i\013)f
FQ(\033)422 1045 y FS(0)452 1039 y F0(!)f FQ(\033)530
1045 y FS(1)561 1039 y F4(is)i(an)f FV(A)g F4(step.)18
b(In)13 b(the)g(sp)q(ecial)f(case)i(when)f FV(A)f F4(is)g(a)g(state)h
(predicate,)208 1089 y FQ(\033)233 1095 y FS(0)271 1089
y F0(!)20 b FQ(\033)358 1095 y FS(1)396 1089 y F4(is)f(an)g
FV(A)f F4(step)i(i\013)f FV(A)g F4(is)g(true)h(in)e(state)i
FQ(\033)1078 1095 y FS(0)1097 1089 y F4(,)g(so)f(this)g(de\014nition)f
(of)h FQ(\033)i F0(j)-7 b F4(=)20 b FV(A)208 1139 y F4(generalizes)14
b(our)g(in)o(terpretation)h(of)e(a)h(state)g(predicate)h(as)f(a)g(temp)
q(oral)e(form)o(ula.)270 1189 y(W)m(e)g(ha)o(v)o(e)h(already)g(seen)h
(that)f FG(2)p F4([)p FV(N)7 b F4(])852 1195 y FJ(v)885
1189 y F4(is)13 b(true)h(of)e(a)h(b)q(eha)o(vior)f(i\013)h(eac)o(h)h
(step)g(is)e(a)h([)p FV(N)7 b F4(])1626 1195 y FJ(v)208
1239 y F4(step.)18 b(This)c(leads)g(us)f(to)h(de\014ne)g
FQ(\033)f F0(j)-7 b F4(=)12 b FG(2)p FV(A)h F4(to)g(b)q(e)h(true)h
(i\013)e FQ(\033)1161 1245 y FJ(n)1197 1239 y F0(!)e
FQ(\033)1275 1245 y FJ(n)s FS(+1)1354 1239 y F4(is)i(an)h
FV(A)f F4(step,)h(for)208 1288 y(all)e(natural)i(n)o(um)o(b)q(ers)f
FV(n)s F4(.)270 1338 y(W)m(e)k(no)o(w)h(generalize)g(from)e(the)j
(de\014nition)f(of)f FQ(\033)i F0(j)-7 b F4(=)18 b FG(2)p
FV(A)g F4(for)g(an)f(action)h FV(A)g F4(to)f(the)208
1388 y(de\014nition)12 b(of)h FQ(\033)g F0(j)-7 b F4(=)11
b FG(2)p FV(F)19 b F4(for)13 b(an)g(arbitrary)g(temp)q(oral)f(form)o
(ula)e FV(F)c F4(.)18 b(W)m(e)13 b(de\014ned)h FQ(\033)f
F0(j)-7 b F4(=)11 b FG(2)p FV(A)208 1438 y F4(to)h(b)q(e)i(true)g
(i\013)f FQ(\033)474 1444 y FJ(n)509 1438 y F0(!)e FQ(\033)587
1444 y FJ(n)s FS(+1)666 1438 y F4(is)i(an)g FV(A)g F4(step)h(for)e(all)
g FV(n)s F4(.)18 b(This)13 b(is)g(true)h(i\013)f FV(A)p
F4(,)f(in)o(terpreted)j(as)208 1488 y(a)f(temp)q(oral)f(form)o(ula,)e
(is)j(true)h(of)f(a)g(b)q(eha)o(vior)g(whose)h(\014rst)g(step)g(is)f
FQ(\033)1331 1494 y FJ(n)1367 1488 y F0(!)e FQ(\033)1446
1494 y FJ(n)s FS(+1)1512 1488 y F4(,)i(for)g(all)208
1537 y FV(n)s F4(.)k(Let's)c(de\014ne)h FQ(\033)511 1522
y FS(+)p FJ(n)575 1537 y F4(to)e(b)q(e)i(the)f(su\016x)g(of)f
FQ(\033)i F4(obtained)f(b)o(y)g(deleting)g(its)f(\014rst)i
FV(n)i F4(states:)p Black Black 332 1614 a FQ(\033)357
1597 y FS(+)p FJ(n)446 1590 y FI(\001)441 1614 y F4(=)35
b FQ(\033)533 1620 y FJ(n)569 1614 y F0(!)11 b FQ(\033)647
1620 y FJ(n)s FS(+1)724 1614 y F0(!)g FQ(\033)802 1620
y FJ(n)s FS(+2)880 1614 y F0(!)g(\001)c(\001)g(\001)208
1686 y F4(Then)13 b FQ(\033)340 1692 y FJ(n)376 1686
y F0(!)e FQ(\033)454 1692 y FJ(n)s FS(+1)533 1686 y F4(is)j(the)f
(\014rst)i(step)f(of)f FQ(\033)890 1671 y FS(+)p FJ(n)939
1686 y F4(,)g(so)g FQ(\033)g F0(j)-7 b F4(=)12 b FG(2)p
FV(A)h F4(is)g(true)h(i\013)f FQ(\033)1377 1671 y FS(+)p
FJ(n)1438 1686 y F0(j)-7 b F4(=)12 b FV(A)h F4(is)g(true)208
1736 y(for)g(all)g FV(n)s F4(.)18 b(In)c(other)h(w)o(ords)p
Black Black 332 1808 a FQ(\033)e F0(j)-7 b F4(=)11 b
FG(2)p FV(A)35 b F0(\021)g(8)7 b FV(n)15 b F0(2)c FV(Nat)22
b F4(:)c FQ(\033)831 1791 y FS(+)p FJ(n)892 1808 y F0(j)-7
b F4(=)12 b FV(A)208 1881 y F4(The)i(ob)o(vious)f(generalization)g(is)p
Black Black 332 1957 a FQ(\033)g F0(j)-7 b F4(=)11 b
FG(2)p FV(F)520 1934 y FI(\001)515 1957 y F4(=)35 b F0(8)7
b FV(n)15 b F0(2)d FV(Nat)22 b F4(:)c FQ(\033)833 1940
y FS(+)p FJ(n)894 1957 y F0(j)-7 b F4(=)11 b FV(F)208
2029 y F4(for)i(an)o(y)h(temp)q(oral)e(form)o(ula)g FV(F)6
b F4(.)17 b(In)d(other)h(w)o(ords,)f FQ(\033)h F4(satis\014es)g
FG(2)p FV(F)k F4(i\013)14 b(ev)o(ery)h(su\016x)e FQ(\033)1596
2014 y FS(+)p FJ(n)208 2079 y F4(of)g FQ(\033)i F4(satis\014es)g
FV(F)6 b F4(.)17 b(This)d(de\014nes)h(the)g(meaning)d(of)h(the)i(temp)q
(oral)d(op)q(erator)j FG(2)p F4(.)270 2129 y(W)m(e)h(ha)o(v)o(e)h(no)o
(w)g(de\014ned)h(the)f(meaning)f(of)g(an)o(y)g(temp)q(oral)g(form)o
(ula)e(built)j(from)e(ac-)208 2179 y(tions)g(\(including)f(state)i
(predicates\),)h(Bo)q(olean)f(op)q(erators,)g(and)f(the)h
FG(2)f F4(op)q(erator.)23 b(F)m(or)208 2229 y(example:)p
Black Black 332 2301 a FQ(\033)13 b F0(j)-7 b F4(=)11
b FG(2)p F4(\(\()p FV(x)17 b F4(=)12 b(1\))g F0(\))f
FG(2)p F4(\()p FV(y)k FQ(>)d F4(0\)\))394 2358 y F0(\021)24
b(8)7 b FV(n)15 b F0(2)c FV(Nat)22 b F4(:)c FQ(\033)700
2343 y FS(+)p FJ(n)761 2358 y F0(j)-7 b F4(=)12 b(\(\()p
FV(x)17 b F4(=)12 b(1\))f F0(\))g FG(2)p F4(\()p FV(y)16
b FQ(>)11 b F4(0\)\))p .95 TeXcolorgray .95 TeXcolorgray
1405 2378 350 57 v .95 TeXcolorgray Black 211 w FZ(By)g(the)g(meaning)e
(of)i Fs(2)p FZ(.)p .95 TeXcolorgray Black 394 2415 a
F0(\021)24 b(8)7 b FV(n)15 b F0(2)c FV(Nat)22 b F4(:)c(\()p
FQ(\033)716 2400 y FS(+)p FJ(n)777 2415 y F0(j)-7 b F4(=)12
b(\()p FV(x)17 b F4(=)12 b(1\)\))f F0(\))g F4(\()p FQ(\033)1080
2400 y FS(+)p FJ(n)1141 2415 y F0(j)-7 b F4(=)12 b FG(2)p
F4(\()p FV(y)j FQ(>)d F4(0\)\))p .95 TeXcolorgray .95
TeXcolorgray 1405 2436 360 57 v .95 TeXcolorgray Black
44 w FZ(By)f(the)g(meaning)e(of)i FW(\))p FZ(.)p .95
TeXcolorgray Black 394 2473 a F0(\021)24 b(8)7 b FV(n)15
b F0(2)c FV(Nat)22 b F4(:)c(\()p FQ(\033)716 2458 y FS(+)p
FJ(n)777 2473 y F0(j)-7 b F4(=)12 b(\()p FV(x)17 b F4(=)12
b(1\)\))f F0(\))717 2522 y F4(\()p F0(8)c FV(m)14 b F0(2)e
FV(Nat)22 b F4(:)c(\()p FQ(\033)1010 2507 y FS(+)p FJ(n)1060
2522 y F4(\))1076 2507 y FS(+)p FJ(m)1145 2522 y F0(j)-7
b F4(=)11 b(\()p FV(y)16 b FQ(>)c F4(0\)\))p .95 TeXcolorgray
.95 TeXcolorgray 1405 2493 350 57 v .95 TeXcolorgray
Black 1413 2473 a FZ(By)f(the)g(meaning)e(of)i Fs(2)p
FZ(.)p .95 TeXcolorgray Black Black Black eop
%%Page: 90 108
90 107 bop Black 208 275 a F4(90)908 b FR(CHAPTER)14
b(8.)31 b(LIVENESS)15 b(AND)f(F)-5 b(AIRNESS)p 208 282
1770 2 v Black 208 391 a F4(Th)o(us,)13 b FQ(\033)g F0(j)-7
b F4(=)11 b FG(2)p F4(\(\()p FV(x)17 b F4(=)12 b(1\))g
F0(\))f FG(2)p F4(\()p FV(y)k FQ(>)d F4(0\)\))i(is)f(true)i(i\013,)e
(for)g(all)g FV(n)i F0(2)c FV(Nat)t F4(,)i(if)g FV(x)k
F4(=)12 b(1)h(is)h(true)g(in)208 441 y(state)g FQ(\033)334
447 y FJ(n)358 441 y F4(,)g(then)g FV(y)i FQ(>)11 b F4(0)j(is)g(true)g
(in)g(all)f(states)i FQ(\033)971 447 y FJ(n)s FS(+)p
FJ(m)1064 441 y F4(with)f FV(m)g F0(\025)e F4(0.)270
491 y(T)m(o)19 b(understand)i(temp)q(oral)e(form)o(ulas)f(in)o(tuitiv)o
(ely)m(,)h(think)h(of)f FQ(\033)1326 497 y FJ(n)1370
491 y F4(as)h(the)h(state)f(of)208 541 y(the)g(univ)o(erse)g(at)f(time)
f(instan)o(t)i FV(n)j F4(during)c(the)h(b)q(eha)o(vior)f
FQ(\033)q F4(.)1226 526 y FS(1)1280 541 y F4(F)m(or)g(an)o(y)g(state)h
(pred-)208 591 y(icate)g FV(P)t F4(,)j(the)e(expression)g
FQ(\033)689 576 y FS(+)p FJ(n)762 591 y F0(j)-7 b F4(=)22
b FV(P)j F4(asserts)d(that)f FV(P)k F4(is)20 b(true)i(at)e(time)f
FV(n)s F4(.)39 b(Th)o(us,)208 640 y FG(2)p F4(\(\()p
FV(x)17 b F4(=)11 b(1\))h F0(\))f FG(2)p F4(\()p FV(y)k
FQ(>)d F4(0\)\))j(asserts)h(that,)e(an)o(y)g(time)f FV(x)k
F4(=)c(1)h(is)g(true,)h FV(y)h FQ(>)d F4(0)h(is)g(true)i(from)208
690 y(then)g(on.)25 b(F)m(or)16 b(an)g(arbitrary)g(temp)q(oral)e(form)o
(ula)g FV(F)6 b F4(,)16 b(w)o(e)g(also)g(in)o(terpret)h
FQ(\033)1443 675 y FS(+)p FJ(n)1508 690 y F0(j)-7 b F4(=)15
b FV(F)22 b F4(as)208 740 y(the)c(assertion)g(that)f
FV(F)23 b F4(is)17 b(true)h(at)f(time)g(instan)o(t)g
FV(n)s F4(.)29 b(The)17 b(form)o(ula)e FG(2)p FV(F)23
b F4(then)18 b(asserts)208 790 y(that)c FV(F)19 b F4(is)14
b(true)h(at)e(all)g(times.)k(W)m(e)d(can)g(therefore)h(read)g
FG(2)f F4(as)g FV(always)j F4(or)d FV(henc)n(eforth)j
F4(or)208 840 y FV(fr)n(om)d(then)h(on)p F4(.)270 889
y(W)m(e)10 b(sa)o(w)g(in)g(Section)h(2.2)e(that)i(a)f(sp)q
(eci\014cation)h(should)f(allo)o(w)f(stuttering)i(steps|ones)208
939 y(that)16 b(lea)o(v)o(e)g(unc)o(hanged)h(all)f(the)h(v)n(ariables)f
(app)q(earing)g(in)g(the)h(form)o(ula.)23 b(A)17 b(stuttering)208
989 y(step)f(represen)o(ts)i(a)c(c)o(hange)i(only)e(to)h(some)g(part)g
(of)g(the)g(system)g(not)g(describ)q(ed)i(b)o(y)e(the)208
1039 y(form)o(ula;)g(adding)h(it)g(to)h(the)g(b)q(eha)o(vior)g(should)f
(not)h(a\013ect)h(the)f(truth)g(of)g(the)g(form)o(ula.)208
1089 y(W)m(e)d(sa)o(y)g(that)h(a)f(form)o(ula)e FV(F)20
b F4(is)15 b FV(invariant)g(under)h(stuttering)1197 1074
y FS(2)1229 1089 y F4(i\013)e(adding)g(or)h(deleting)f(a)208
1139 y(stuttering)f(step)h(to)f(a)g(b)q(eha)o(vior)g
FQ(\033)h F4(do)q(es)f(not)g(a\013ect)h(whether)h FQ(\033)f
F4(satis\014es)g FV(F)6 b F4(.)17 b(A)c(sensible)208
1188 y(form)o(ula)c(should)k(b)q(e)g(in)o(v)n(arian)o(t)d(under)k
(stuttering.)k(There's)13 b(no)g(p)q(oin)o(t)e(writing)h(form)o(ulas)
208 1238 y(that)f(aren't)h(sensible,)h(so)e(TLA)h(allo)o(ws)e(y)o(ou)i
(to)f(write)h(only)f(temp)q(oral)f(form)o(ulas)g(that)h(are)208
1288 y(in)o(v)n(arian)o(t)h(under)j(stuttering.)270 1338
y(A)e(state)i(predicate)g(\(view)o(ed)e(as)h(a)f(temp)q(oral)g(form)o
(ula\))e(is)i(in)o(v)n(arian)o(t)f(under)j(stutter-)208
1388 y(ing,)f(since)i(its)f(truth)h(dep)q(ends)h(only)d(on)h(the)h
(\014rst)g(state)g(of)f(a)g(b)q(eha)o(vior,)g(and)g(adding)f(a)208
1437 y(stuttering)g(step)h(do)q(esn't)g(c)o(hange)f(the)h(\014rst)g
(state.)k(An)14 b(arbitrary)g(action)g(is)g(not)f(in)o(v)n(ari-)208
1487 y(an)o(t)k(under)i(stuttering.)30 b(F)m(or)18 b(example,)f(the)h
(action)g([)p FV(x)1123 1472 y FH(0)1152 1487 y F4(=)h
FV(x)e F4(+)12 b(1])1316 1493 y FJ(x)1354 1487 y F4(is)18
b(satis\014ed)h(b)o(y)e(a)208 1537 y(b)q(eha)o(vior)d
FQ(\033)i F4(in)f(whic)o(h)g FV(x)20 b F4(is)15 b(left)g(unc)o(hanged)g
(in)g(the)g(\014rst)h(step)g(and)f(incremen)o(ted)g(b)o(y)g(2)208
1587 y(in)g(the)h(second)h(step;)h(it)d(isn't)h(satis\014ed)g(b)o(y)g
(the)g(b)q(eha)o(vior)g(obtained)g(b)o(y)f(remo)o(ving)f(the)208
1637 y(initial)e(stuttering)j(step)g(from)d FQ(\033)q
F4(.)19 b(Ho)o(w)o(ev)o(er,)14 b(the)h(form)o(ula)d FG(2)p
F4([)p FV(x)1233 1622 y FH(0)1256 1637 y F4(=)g FV(x)j
F4(+)10 b(1])1409 1643 y FJ(x)1444 1637 y F4(is)k(in)o(v)n(arian)o(t)
208 1686 y(under)g(stuttering,)g(since)g(it)g(is)f(satis\014ed)h(b)o(y)
g(a)f(b)q(eha)o(vior)g(i\013)h(ev)o(ery)g(step)h(that)e(c)o(hanges)i
FV(x)208 1736 y F4(is)e(an)h FV(x)331 1721 y FH(0)354
1736 y F4(=)e FV(x)j F4(+)9 b(1)k(step|a)i(condition)e(not)g
(a\013ected)j(b)o(y)d(adding)g(or)h(deleting)g(stuttering)208
1786 y(steps.)270 1836 y(In)j(general,)g(the)h(form)o(ula)d
FG(2)p F4([)p FV(A)p F4(])800 1842 y FJ(v)837 1836 y
F4(is)h(in)o(v)n(arian)o(t)g(under)i(stuttering,)g(for)f(an)o(y)f
(action)208 1886 y FV(A)f F4(and)h(state)h(function)f
FV(v)t F4(.)25 b(Ho)o(w)o(ev)o(er,)17 b FG(2)p FV(A)f
F4(is)g(not)g(in)o(v)n(arian)o(t)e(under)j(stuttering)g(for)f(an)208
1936 y(arbitrary)e(action)g FV(A)p F4(.)20 b(F)m(or)14
b(example,)f FG(2)p F4(\()p FV(x)894 1920 y FH(0)919
1936 y F4(=)f FV(x)j F4(+)10 b(1\))15 b(can)f(b)q(e)i(made)d(false)h(b)
o(y)g(adding)g(a)208 1985 y(step)j(that)f(do)q(es)h(not)f(c)o(hange)h
FV(x)5 b F4(.)25 b(So,)16 b(ev)o(en)h(though)f(w)o(e)h(ha)o(v)o(e)f
(assigned)h(a)f(meaning)e(to)208 2035 y FG(2)p F4(\()p
FV(x)279 2020 y FH(0)302 2035 y F4(=)e FV(x)i F4(+)c(1\),)j(it)h(isn't)
f(a)h(legal)f(TLA)h(form)o(ula.)270 2085 y(In)o(v)n(ariance)9
b(under)i(stuttering)g(is)f(preserv)o(ed)i(b)o(y)e FG(2)g
F4(and)f(b)o(y)h(the)h(Bo)q(olean)e(op)q(erators|)208
2135 y(that)14 b(is,)f(if)g FV(F)19 b F4(and)14 b FV(G)k
F4(are)c(in)o(v)n(arian)o(t)e(under)j(stuttering,)f(then)h(so)f(are)g
FG(2)p FV(F)6 b F4(,)13 b F0(:)p FV(F)6 b F4(,)13 b FV(F)i
F0(^)9 b FV(G)t F4(,)208 2185 y F0(8)e FV(x)16 b F0(2)c
FV(S)h F4(:)8 b FV(F)d F4(,)16 b(etc.)26 b(So,)15 b(state)i
(predicates,)h(form)o(ulas)c(of)h(the)i(form)d FG(2)p
F4([)p FV(N)7 b F4(])1392 2191 y FJ(v)1412 2185 y F4(,)16
b(and)g(all)e(for-)208 2234 y(m)o(ulas)c(obtainable)i(from)f(them)h(b)o
(y)g(applying)f FG(2)i F4(and)f(Bo)q(olean)h(op)q(erators)g(are)h(in)o
(v)n(arian)o(t)208 2284 y(under)g(stuttering.)p Black
208 2319 576 2 v 254 2346 a FK(1)271 2357 y FZ(It)d(is)g(b)q(ecause)f
(w)o(e)h(think)f(of)h Fw(\033)679 2361 y FE(n)712 2357
y FZ(as)g(the)f(state)h(at)g(time)f FY(n)s FZ(,)h(and)f(b)q(ecause)g(w)
o(e)i(usually)d(measure)g(time)208 2397 y(starting)g(from)h(0,)i(that)e
(I)i(n)o(um)o(b)q(er)d(the)i(states)f(of)h(a)h(b)q(eha)o(vior)d
(starting)g(with)j(0)f(rather)f(than)g(1.)254 2425 y
FK(2)271 2436 y FZ(This)f(is)g(a)g(completely)c(new)k(sense)f(of)h(the)
f(w)o(ord)g FY(invariant)s FZ(;)j(it)e(has)f(nothing)f(to)h(do)g(with)h
(the)f(concept)208 2476 y(of)j(in)o(v)n(ariance)d(discussed)i(already)m
(.)p Black Black Black eop
%%Page: 91 109
91 108 bop Black 208 275 a FR(8.1.)30 b(TEMPORAL)15 b(F)o(ORMULAS)1135
b F4(91)p 208 282 1770 2 v Black 270 391 a(W)m(e)14 b(no)o(w)h(examine)
f(\014v)o(e)h(esp)q(ecially)g(imp)q(ortan)o(t)f(classes)i(of)e(form)o
(ulas)f(that)i(are)h(con-)208 441 y(structed)g(from)d(arbitrary)h(temp)
q(oral)f(form)o(ulas)f FV(F)21 b F4(and)14 b FV(G)t F4(.)19
b(W)m(e)14 b(in)o(tro)q(duce)i(new)f(op)q(era-)208 491
y(tors)f(for)f(expressing)j(the)e(\014rst)h(three.)p
Black 208 574 a FG(3)p FV(F)p Black 26 w F4(is)10 b(de\014ned)i(to)e
(equal)h F0(:)p FG(2)p F0(:)p FV(F)6 b F4(.)15 b(It)c(asserts)h(that)f
FV(F)16 b F4(is)11 b(not)f(alw)o(a)o(ys)g(false,)g(whic)o(h)h(means)311
624 y(that)j FV(F)20 b F4(is)13 b(true)i(at)f(some)f(time:)p
Black Black 436 690 a FQ(\033)g F0(j)-7 b F4(=)11 b FG(3)p
FV(F)492 747 y F0(\021)23 b FQ(\033)13 b F0(j)-7 b F4(=)12
b F0(:)p FG(2)p F0(:)p FV(F)p .95 TeXcolorgray .95 TeXcolorgray
1089 768 306 57 v .95 TeXcolorgray Black 350 w FZ(By)f(de\014nition)e
(of)i Fs(3)p FZ(.)p .95 TeXcolorgray Black 492 805 a
F0(\021)23 b(:)7 b F4(\()p FQ(\033)13 b F0(j)-7 b F4(=)11
b FG(2)p F0(:)p FV(F)6 b F4(\))p .95 TeXcolorgray .95
TeXcolorgray 1089 825 348 57 v .95 TeXcolorgray Black
306 w FZ(By)11 b(the)g(meaning)e(of)i FW(:)p FZ(.)p .95
TeXcolorgray Black 492 862 a F0(\021)23 b(:)7 b F4(\()p
F0(8)g FV(n)15 b F0(2)c FV(Nat)23 b F4(:)18 b FQ(\033)849
847 y FS(+)p FJ(n)910 862 y F0(j)-7 b F4(=)11 b F0(:)p
FV(F)6 b F4(\))p .95 TeXcolorgray .95 TeXcolorgray 1089
882 350 57 v .95 TeXcolorgray Black 62 w FZ(By)11 b(the)g(meaning)e(of)
i Fs(2)p FZ(.)p .95 TeXcolorgray Black 492 919 a F0(\021)23
b(:)7 b F4(\()p F0(8)g FV(n)15 b F0(2)c FV(Nat)23 b F4(:)18
b F0(:)7 b F4(\()p FQ(\033)900 904 y FS(+)p FJ(n)960
919 y F0(j)-7 b F4(=)12 b FV(F)6 b F4(\)\))p .95 TeXcolorgray
.95 TeXcolorgray 1089 939 348 57 v .95 TeXcolorgray Black
23 w FZ(By)11 b(the)g(meaning)e(of)i FW(:)p FZ(.)p .95
TeXcolorgray Black 492 977 a F0(\021)23 b(9)7 b FV(n)16
b F0(2)11 b FV(Nat)22 b F4(:)c FQ(\033)798 962 y FS(+)p
FJ(n)859 977 y F0(j)-7 b F4(=)11 b FV(F)p .95 TeXcolorgray
.95 TeXcolorgray 1089 997 518 57 v .95 TeXcolorgray Black
163 w FZ(Because)f FW(:8)t(:)h FZ(is)h(equiv)n(alen)o(t)c(to)j
FW(9)6 b FZ(.)p .95 TeXcolorgray Black 311 1041 a F4(W)m(e)14
b(usually)f(read)h FG(3)g F4(as)g FV(eventual)r(ly)p
F4(,)g(taking)f(ev)o(en)o(tually)g(to)h(include)g(no)o(w.)p
Black 208 1124 a FV(F)j FG(;)11 b FV(G)p Black 24 w F4(is)k(de\014ned)g
(to)g(equal)f FG(2)p F4(\()p FV(F)k F0(\))13 b FG(3)p
FV(G)t F4(\).)19 b(The)d(same)d(kind)h(of)g(calculation)g(w)o(e)h(just)
311 1174 y(did)f(for)f FQ(\033)g F0(j)-7 b F4(=)12 b
FG(3)p FV(F)19 b F4(sho)o(ws)p Black Black 436 1240 a
FQ(\033)13 b F0(j)-7 b F4(=)11 b(\()p FV(F)17 b FG(;)11
b FV(G)t F4(\))35 b F0(\021)498 1292 y(8)7 b FV(n)15
b F0(2)c FV(Nat)23 b F4(:)18 b(\()p FQ(\033)765 1277
y FS(+)p FJ(n)826 1292 y F0(j)-7 b F4(=)11 b FV(F)6 b
F4(\))12 b F0(\))f F4(\()p F0(9)c FV(m)14 b F0(2)e FV(Nat)22
b F4(:)c(\()p FQ(\033)1281 1277 y FS(+\()p FJ(n)s FS(+)p
FJ(m)s FS(\))1424 1292 y F0(j)-7 b F4(=)11 b FV(G)t F4(\)\))311
1357 y(The)20 b(form)o(ula)d FV(F)26 b FG(;)20 b FV(G)k
F4(asserts)d(that)e(whenev)o(er)i FV(F)k F4(is)19 b(true,)i
FV(G)i F4(is)c(ev)o(en)o(tually)311 1407 y(true|that)13
b(is,)e FV(G)16 b F4(is)c(true)h(then)f(or)g(at)g(some)f(later)h(time.)
k(W)m(e)c(read)g FG(;)f F4(as)h FV(le)n(ads)h(to)p F4(.)p
Black 208 1490 a FG(3)p F0(h)p FV(A)p F0(i)304 1496 y
FJ(v)p Black 345 1490 a F4(is)f(de\014ned)g(to)f(equal)g
F0(:)p FG(2)p F4([)p F0(:)p FV(A)p F4(])822 1496 y FJ(v)842
1490 y F4(,)g(where)i FV(A)e F4(is)g(an)g(action)g(and)g
FV(v)16 b F4(a)11 b(state)i(function.)311 1539 y(It)i(asserts)i(that)e
(not)g(ev)o(ery)h(step)g(is)f(a)f(\()p F0(:)p FV(A)p
F4(\))9 b F0(_)g F4(\()p FV(v)1113 1524 y FH(0)1137 1539
y F4(=)j FV(v)t F4(\))j(step,)h(so)f(some)f(step)i(is)f(a)311
1589 y F0(:)p F4(\(\()p F0(:)p FV(A)p F4(\))9 b F0(_)g
F4(\()p FV(v)531 1574 y FH(0)555 1589 y F4(=)j FV(v)t
F4(\)\))18 b(step.)30 b(Since)18 b F0(:)p F4(\()p FV(P)e
F0(_)11 b FV(Q)t F4(\))17 b(is)g(equiv)n(alen)o(t)g(to)g(\()p
F0(:)p FV(P)t F4(\))12 b F0(^)g F4(\()p F0(:)p FV(Q)t
F4(\),)311 1639 y(for)i(an)o(y)f FV(P)18 b F4(and)c FV(Q)t
F4(,)f(action)g F0(:)p F4(\(\()p F0(:)p FV(A)p F4(\))c
F0(_)g F4(\()p FV(v)985 1624 y FH(0)1009 1639 y F4(=)i
FV(v)t F4(\)\))k(is)e(equiv)n(alen)o(t)g(to)h FV(A)9
b F0(^)g F4(\()p FV(v)1527 1624 y FH(0)1551 1639 y F0(6)p
F4(=)j FV(v)t F4(\).)311 1689 y(Hence,)k FG(3)p F0(h)s
FV(A)s F0(i)549 1695 y FJ(v)585 1689 y F4(asserts)g(that)f(some)e(step)
j(is)e(an)g FV(A)9 b F0(^)g F4(\()p FV(v)1220 1674 y
FH(0)1244 1689 y F0(6)p F4(=)j FV(v)t F4(\))j(step|that)g(is,)f(an)311
1739 y FV(A)g F4(step)h(that)f(c)o(hanges)g FV(v)t F4(.)19
b(W)m(e)13 b(de\014ne)i(the)g(action)e F0(h)s FV(A)s
F0(i)1197 1745 y FJ(v)1233 1739 y F4(b)o(y)p .95 TeXcolorgray
.95 TeXcolorgray 1679 1793 307 88 v .95 TeXcolorgray
Black Black 410 w FZ(I)f(pronounce)c FW(h)s FY(A)s FW(i)1942
1743 y FE(v)1687 1778 y FZ(as)k FY(angle)h(A)f(sub)g(v)p
FZ(.)p Black .95 TeXcolorgray Black Black Black 436 1812
a F0(h)s FV(A)s F0(i)505 1818 y FJ(v)566 1788 y FI(\001)562
1812 y F4(=)34 b FV(A)10 b F0(^)e F4(\()p FV(v)744 1794
y FH(0)768 1812 y F0(6)p F4(=)k FV(v)t F4(\))311 1878
y(so)g FG(3)p F0(h)s FV(A)s F0(i)462 1884 y FJ(v)496
1878 y F4(asserts)h(that)f(ev)o(en)o(tually)f(an)h F0(h)s
FV(A)s F0(i)1037 1884 y FJ(v)1071 1878 y F4(step)g(o)q(ccurs.)19
b(W)m(e)11 b(think)h(of)f FG(3)p F0(h)s FV(A)s F0(i)1624
1884 y FJ(v)311 1928 y F4(as)19 b(the)g(form)o(ula)c(obtained)k(b)o(y)f
(applying)f(the)i(op)q(erator)f FG(3)h F4(to)f F0(h)s
FV(A)s F0(i)1434 1934 y FJ(v)1456 1928 y F4(,)h(although)311
1978 y(tec)o(hnically)14 b(it's)f(not)h(b)q(ecause)i
F0(h)s FV(A)s F0(i)885 1984 y FJ(v)921 1978 y F4(isn't)d(a)h(temp)q
(oral)e(form)o(ula.)p Black 208 2061 a FG(23)p FV(F)p
Black 26 w F4(asserts)i(that)f(at)f(all)g(times,)f FV(F)18
b F4(is)13 b(true)g(then)g(or)g(at)f(some)g(later)h(time.)j(F)m(or)c
(time)g(0,)311 2110 y(this)g(implies)e(that)i FV(F)18
b F4(is)12 b(true)g(at)g(some)f(time)g FV(n)1057 2116
y FS(0)1088 2110 y F0(\025)g F4(0.)17 b(F)m(or)12 b(time)f
FV(n)1373 2116 y FS(0)1397 2110 y F4(+)5 b(1,)12 b(it)g(implies)311
2160 y(that)i FV(F)20 b F4(is)14 b(true)h(at)f(some)f(time)f
FV(n)853 2166 y FS(1)884 2160 y F0(\025)g FV(n)954 2166
y FS(0)983 2160 y F4(+)d(1.)19 b(F)m(or)13 b(time)g FV(n)1271
2166 y FS(1)1299 2160 y F4(+)d(1,)j(it)h(implies)e(that)311
2210 y FV(F)21 b F4(is)14 b(true)i(at)e(some)g(time)g
FV(n)768 2216 y FS(2)800 2210 y F0(\025)f FV(n)871 2216
y FS(1)900 2210 y F4(+)d(1.)20 b(Con)o(tin)o(uing)13
b(the)j(pro)q(cess,)g(w)o(e)f(see)h(that)311 2260 y FV(F)k
F4(is)13 b(true)i(at)e(an)h(in\014nite)f(sequence)j(of)d(time)f(instan)
o(ts)i FV(n)1230 2266 y FS(0)1249 2260 y FQ(;)7 b FV(n)1294
2266 y FS(1)1313 2260 y FQ(;)g FV(n)1358 2266 y FS(2)1377
2260 y FQ(;)g(:)g(:)g(:)t F4(.)18 b(So,)13 b FG(23)p
FV(F)311 2310 y F4(implies)f(that)i FV(F)19 b F4(is)14
b(true)h(at)e(in\014nitely)h(man)o(y)d(instan)o(ts.)19
b(Con)o(v)o(ersely)m(,)13 b(if)g FV(F)19 b F4(is)14 b(true)311
2360 y(at)e(in\014nitely)f(man)o(y)g(instan)o(ts,)h(then,)g(at)g(ev)o
(ery)h(instan)o(t,)f FV(F)17 b F4(m)o(ust)11 b(b)q(e)i(true)g(at)f
(some)311 2409 y(later)i(instan)o(t,)f(so)h FG(23)p FV(F)19
b F4(is)14 b(true.)k(Therefore,)d FG(23)p FV(F)k F4(asserts)c(that)f
FV(F)19 b F4(is)14 b FV(in\014nitely)311 2459 y(often)j
F4(true.)h(In)13 b(particular,)g FG(23)p F0(h)s FV(A)s
F0(i)908 2465 y FJ(v)943 2459 y F4(asserts)i(that)e(in\014nitely)f(man)
o(y)f F0(h)s FV(A)s F0(i)1520 2465 y FJ(v)1556 2459 y
F4(steps)311 2509 y(o)q(ccur.)p Black Black eop
%%Page: 92 110
92 109 bop Black 208 275 a F4(92)908 b FR(CHAPTER)14
b(8.)31 b(LIVENESS)15 b(AND)f(F)-5 b(AIRNESS)p 208 282
1770 2 v Black Black 208 391 a FG(32)p FV(F)p Black 26
w F4(asserts)15 b(that)f(ev)o(en)o(tually)f(\(at)g(some)g(time\),)f
FV(F)19 b F4(b)q(ecomes)14 b(true)g(and)f(remains)g(true)311
441 y(thereafter.)20 b(In)13 b(other)i(w)o(ords,)e FG(32)p
FV(F)19 b F4(asserts)c(that)f FV(F)19 b F4(is)14 b FV(eventual)r(ly)h
(always)h F4(true.)311 491 y(In)e(particular,)f FG(32)p
F4([)p FV(N)7 b F4(])692 497 y FJ(v)726 491 y F4(asserts)15
b(that,)f(ev)o(en)o(tually)m(,)e(ev)o(ery)j(step)g(is)f(a)f([)p
FV(N)7 b F4(])1504 497 y FJ(v)1538 491 y F4(step.)208
569 y(The)18 b(op)q(erators)g FG(2)g F4(and)f FG(3)h
F4(ha)o(v)o(e)f(higher)h(precedence)j(\(bind)c(more)g(tigh)o(tly\))g
(than)g(the)208 619 y(Bo)q(olean)j(op)q(erators,)i(so)e
FG(3)p FV(F)15 b F0(_)9 b FG(2)p FV(G)24 b F4(means)19
b(\()p FG(3)p FV(F)6 b F4(\))j F0(_)g F4(\()p FG(2)p
FV(G)t F4(\).)37 b(The)21 b(op)q(erator)g FG(;)f F4(has)208
669 y(lo)o(w)o(er)13 b(precedence)k(than)d F0(^)f F4(and)h
F0(_)p F4(.)208 826 y FN(8.2)81 b(T)-7 b(emp)r(oral)28
b(T)-7 b(autologies)208 917 y F4(A)19 b(temp)q(oral)e(theorem)i(is)f(a)
h(temp)q(oral)e(form)o(ula)g(that)i(is)f(satis\014ed)i(b)o(y)f(all)e(b)
q(eha)o(viors.)208 967 y(In)e(other)g(w)o(ords,)g FV(F)21
b F4(is)14 b(a)h(theorem)g(i\013)f FQ(\033)h F0(j)-7
b F4(=)13 b FV(F)20 b F4(equals)15 b FP(tr)o(ue)h F4(for)e(all)g(b)q
(eha)o(viors)h FQ(\033)q F4(.)21 b(F)m(or)208 1017 y(example,)9
b(the)i FV(HourClo)n(ck)k F4(mo)q(dule)9 b(asserts)j(that)f
FV(HC)17 b F0(\))11 b FG(2)p FV(HCini)j F4(is)d(a)f(theorem,)h(where)
208 1066 y FV(HC)18 b F4(and)13 b FV(HCini)k F4(are)d(the)g(form)o
(ulas)d(de\014ned)j(in)f(the)h(mo)q(dule.)i(This)d(theorem)g(expresses)
208 1116 y(a)g(prop)q(ert)o(y)i(of)e(the)i(hour)f(clo)q(c)o(k.)270
1166 y(The)d(form)o(ula)d FG(2)p FV(HCini)15 b F0(\))c
FV(HCini)j F4(is)c(also)g(a)g(theorem.)16 b(Ho)o(w)o(ev)o(er,)11
b(it)f(tells)h(us)g(nothing)208 1216 y(ab)q(out)k(the)h(hour)f(clo)q(c)
o(k)g(b)q(ecause)i(it's)e(true)h(regardless)h(of)d(ho)o(w)h
FV(HCini)k F4(is)c(de\014ned.)23 b(F)m(or)208 1266 y(example,)12
b(substituting)i FV(x)k FQ(>)12 b F4(7)i(for)g FV(HCini)j
F4(yields)d(the)h(theorem)f FG(2)p F4(\()p FV(x)j FQ(>)12
b F4(7\))g F0(\))g F4(\()p FV(x)17 b FQ(>)12 b F4(7\).)208
1315 y(A)g(form)o(ula)d(lik)o(e)j FG(2)p FV(HCini)j F0(\))c
FV(HCini)16 b F4(that)c(is)g(true)h(when)f(an)o(y)g(form)o(ulas)e(are)j
(substituted)208 1365 y(for)g(its)h(iden)o(ti\014ers)g(is)g(called)f(a)
g FV(tautolo)n(gy)p F4(.)19 b(T)m(o)12 b(distinguish)i(them)e(from)g
(the)j(tautologies)208 1415 y(of)9 b(ordinary)h(logic,)g(tautologies)f
(con)o(taining)h(temp)q(oral)f(op)q(erators)i(are)g(sometimes)d(called)
208 1465 y FV(temp)n(or)n(al)17 b F4(tautologies.)270
1515 y(Let's)g(pro)o(v)o(e)f(that)g FG(2)p FV(HCini)k
F0(\))15 b FV(HCini)k F4(is)e(a)f(temp)q(oral)f(tautology)m(.)23
b(T)m(o)16 b(a)o(v)o(oid)f(con-)208 1564 y(fusing)g(the)h(arbitrary)g
(iden)o(ti\014er)g FV(HCini)j F4(in)c(this)h(tautology)e(with)i(the)g
(form)o(ula)d FV(HCini)208 1614 y F4(de\014ned)f(in)e(the)i
FV(HourClo)n(ck)j F4(mo)q(dule,)10 b(let's)h(replace)h(it)e(b)o(y)h
FV(F)6 b F4(,)11 b(so)g(the)h(tautology)e(b)q(ecomes)208
1664 y FG(2)p FV(F)17 b F0(\))11 b FV(F)6 b F4(.)16 b(There)c(are)f
(axioms)e(and)h(inference)i(rules)f(for)f(temp)q(oral)g(logic)f(from)g
(whic)o(h)i(w)o(e)208 1714 y(can)k(pro)o(v)o(e)h(an)o(y)f(temp)q(oral)g
(tautology)f(that,)i(lik)o(e)f FG(2)p FV(F)20 b F0(\))14
b FV(F)6 b F4(,)15 b(con)o(tains)h(no)f(quan)o(ti\014ers.)208
1764 y(Ho)o(w)o(ev)o(er,)f(it's)f(often)i(easier)g(and)f(more)f
(instructiv)o(e)i(to)f(pro)o(v)o(e)g(them)f(directly)i(from)d(the)208
1814 y(meanings)i(of)h(the)i(op)q(erators.)24 b(W)m(e)16
b(pro)o(v)o(e)g(that)f FG(2)p FV(F)21 b F0(\))14 b FV(F)21
b F4(is)16 b(a)g(tautology)e(b)o(y)i(pro)o(ving)208 1863
y(that)e FQ(\033)g F0(j)-7 b F4(=)12 b(\()p FG(2)p FV(F)18
b F0(\))12 b FV(F)6 b F4(\))14 b(equals)h FP(tr)o(ue)p
F4(,)f(for)g(an)o(y)g(b)q(eha)o(vior)g FQ(\033)i F4(and)e(an)o(y)g
(form)o(ula)e FV(F)6 b F4(.)19 b(The)208 1913 y(pro)q(of)13
b(is)h(simple:)p Black Black 332 1991 a FQ(\033)f F0(j)-7
b F4(=)11 b(\()p FG(2)p FV(F)18 b F0(\))11 b FV(F)6 b
F4(\))26 b F0(\021)e F4(\()p FQ(\033)13 b F0(j)-7 b F4(=)11
b FG(2)p FV(F)6 b F4(\))11 b F0(\))g F4(\()p FQ(\033)i
F0(j)-7 b F4(=)12 b FV(F)6 b F4(\))p .95 TeXcolorgray
.95 TeXcolorgray 1391 2011 360 57 v .95 TeXcolorgray
Black 310 w FZ(By)12 b(the)e(meaning)g(of)h FW(\))p FZ(.)p
.95 TeXcolorgray Black 637 2049 a F0(\021)24 b F4(\()p
F0(8)7 b FV(n)15 b F0(2)c FV(Nat)22 b F4(:)c FQ(\033)959
2033 y FS(+)p FJ(n)1020 2049 y F0(j)-7 b F4(=)12 b FV(F)6
b F4(\))11 b F0(\))g F4(\()p FQ(\033)i F0(j)-7 b F4(=)11
b FV(F)6 b F4(\))p .95 TeXcolorgray .95 TeXcolorgray
1391 2069 305 57 v .95 TeXcolorgray Black 67 w FZ(By)12
b(de\014nition)d(of)i Fs(2)p FZ(.)p .95 TeXcolorgray
Black 637 2106 a F0(\021)24 b F4(\()p F0(8)7 b FV(n)15
b F0(2)c FV(Nat)22 b F4(:)c FQ(\033)959 2091 y FS(+)p
FJ(n)1020 2106 y F0(j)-7 b F4(=)12 b FV(F)6 b F4(\))11
b F0(\))g F4(\()p FQ(\033)1223 2091 y FS(+0)1279 2106
y F0(j)-7 b F4(=)12 b FV(F)6 b F4(\))p .95 TeXcolorgray
.95 TeXcolorgray 1391 2126 341 57 v .95 TeXcolorgray
Black 22 w FZ(By)12 b(de\014nition)d(of)i Fw(\033)1673
2094 y FK(+0)1714 2106 y FZ(.)p .95 TeXcolorgray Black
637 2163 a F0(\021)24 b FP(tr)o(ue)p .95 TeXcolorgray
.95 TeXcolorgray 1391 2183 306 57 v .95 TeXcolorgray
Black 609 w FZ(By)12 b(predicate)d(logic.)p .95 TeXcolorgray
Black 208 2239 a F4(The)15 b(temp)q(oral)g(tautology)f
FG(2)p FV(F)19 b F0(\))14 b FV(F)21 b F4(asserts)c(the)f(ob)o(vious)f
(fact)g(that,)h(if)e FV(F)21 b F4(is)16 b(true)g(at)208
2289 y(all)e(times,)i(then)g(it's)g(true)h(at)f(time)f(0.)24
b(Suc)o(h)17 b(a)f(simple)e(tautology)h(should)h(b)q(e)h(ob)o(vious)208
2339 y(once)f(y)o(ou)f(b)q(ecome)g(accustomed)g(to)h(thinking)e(in)h
(terms)g(of)g(temp)q(oral)f(form)o(ulas.)21 b(Here)208
2389 y(are)14 b(three)h(more)e(simple)f(tautologies,)h(along)g(with)g
(their)h(English)g(translations.)p Black 270 2467 a F0(:)p
FG(2)p FV(F)j F0(\021)11 b FG(3)p F0(:)p FV(F)p Black
332 2517 a(F)20 b F4(is)13 b(not)h(alw)o(a)o(ys)f(true)i(i\013)e(it)h
(is)g(ev)o(en)o(tually)f(false.)p Black Black eop
%%Page: 93 111
93 110 bop Black 208 275 a FR(8.2.)30 b(TEMPORAL)15 b(T)m(A)o
(UTOLOGIES)1066 b F4(93)p 208 282 1770 2 v Black Black
270 391 a FG(2)p F4(\()p FV(F)15 b F0(^)9 b FV(G)t F4(\))i
F0(\021)h F4(\()p FG(2)p FV(F)6 b F4(\))j F0(^)g F4(\()p
FG(2)p FV(G)t F4(\))p Black 332 441 a FV(F)20 b F4(and)13
b FV(G)18 b F4(are)c(b)q(oth)g(alw)o(a)o(ys)f(true)i(i\013)f
FV(F)19 b F4(is)14 b(alw)o(a)o(ys)f(true)h(and)g FV(G)k
F4(is)c(alw)o(a)o(ys)e(true.)332 491 y(Another)j(w)o(a)o(y)e(of)g(sa)o
(ying)g(this)h(is)g(that)g FG(2)g F4(distributes)h(o)o(v)o(er)f
F0(^)p F4(.)p Black 270 574 a FG(3)p F4(\()p FV(F)h F0(_)9
b FV(G)t F4(\))i F0(\021)h F4(\()p FG(3)p FV(F)6 b F4(\))j
F0(_)g F4(\()p FG(3)p FV(G)t F4(\))p Black 332 624 a
FV(F)19 b F4(or)13 b FV(G)k F4(is)c(ev)o(en)o(tually)f(true)j(i\013)d
FV(F)19 b F4(is)13 b(ev)o(en)o(tually)g(true)h(or)f FV(G)k
F4(is)c(ev)o(en)o(tually)f(true.)332 674 y(Another)j(w)o(a)o(y)e(of)g
(sa)o(ying)g(this)h(is)g(that)g FG(3)g F4(distributes)g(o)o(v)o(er)g
F0(_)p F4(.)208 757 y(A)o(t)f(the)h(heart)g(of)e(the)i(pro)q(of)f(of)g
(eac)o(h)h(of)f(these)h(tautologies)f(is)g(a)g(tautology)f(of)h
(predicate)208 806 y(logic.)j(F)m(or)d(example,)e(the)j(pro)q(of)f
(that)g FG(2)g F4(distributes)h(o)o(v)o(er)f F0(^)g F4(relies)g(on)g
(the)h(fact)f(that)g F0(8)208 856 y F4(distributes)h(o)o(v)o(er)g
F0(^)p F4(:)p Black Black 332 939 a FQ(\033)f F0(j)-7
b F4(=)11 b(\()p FG(2)p F4(\()p FV(F)k F0(^)9 b FV(G)t
F4(\))j F0(\021)g F4(\()p FG(2)p FV(F)6 b F4(\))j F0(^)g
F4(\()p FG(2)p FV(G)t F4(\)\))394 1001 y F0(\021)32 b
F4(\()p FQ(\033)13 b F0(j)-7 b F4(=)11 b FG(2)p F4(\()p
FV(F)k F0(^)9 b FV(G)t F4(\)\))19 b F0(\021)f F4(\()p
FQ(\033)13 b F0(j)-7 b F4(=)12 b(\()p FG(2)p FV(F)6 b
F4(\))j F0(^)g F4(\()p FG(2)p FV(G)t F4(\)\))p .95 TeXcolorgray
.95 TeXcolorgray 1448 1021 352 57 v .95 TeXcolorgray
Black 275 w FZ(By)i(the)g(meaning)e(of)j FW(\021)p FZ(.)p
.95 TeXcolorgray Black 394 1062 a F0(\021)32 b F4(\()p
FQ(\033)13 b F0(j)-7 b F4(=)11 b FG(2)p F4(\()p FV(F)k
F0(^)9 b FV(G)t F4(\)\))19 b F0(\021)f F4(\()p FQ(\033)13
b F0(j)-7 b F4(=)12 b FG(2)p FV(F)6 b F4(\))j F0(^)g
F4(\()p FQ(\033)k F0(j)-7 b F4(=)11 b FG(2)p FV(G)t F4(\))p
.95 TeXcolorgray .95 TeXcolorgray 1448 1082 348 57 v
.95 TeXcolorgray Black 222 w FZ(By)g(the)g(meaning)e(of)j
FW(^)p FZ(.)p .95 TeXcolorgray Black 394 1124 a F0(\021)32
b F4(\()p F0(8)7 b FV(n)15 b F0(2)c FV(Nat)23 b F4(:)18
b FQ(\033)725 1109 y FS(+)p FJ(n)786 1124 y F0(j)-7 b
F4(=)11 b(\()p FV(F)k F0(^)9 b FV(G)t F4(\)\))23 b F0(\021)500
1173 y F4(\()p F0(8)7 b FV(n)15 b F0(2)c FV(Nat)22 b
F4(:)c FQ(\033)766 1158 y FS(+)p FJ(n)827 1173 y F0(j)-7
b F4(=)12 b FV(F)6 b F4(\))15 b F0(^)h F4(\()p F0(8)7
b FV(n)15 b F0(2)d FV(Nat)22 b F4(:)c FQ(\033)1251 1158
y FS(+)p FJ(n)1312 1173 y F0(j)-7 b F4(=)11 b FV(G)t
F4(\))p .95 TeXcolorgray .95 TeXcolorgray 1448 1144 305
57 v .95 TeXcolorgray Black 1456 1124 a FZ(By)g(de\014nition)e(of)i
Fs(2)p FZ(.)p .95 TeXcolorgray Black 394 1223 a F0(\021)32
b FP(tr)o(ue)p .95 TeXcolorgray .95 TeXcolorgray 588
1243 1281 57 v .95 TeXcolorgray Black 42 w FZ(By)11 b(the)g
(predicate-lo)o(gic)d(tautology)h(\()p FW(8)t FY(x)14
b FW(2)c FY(S)g FZ(:)d FY(P)k FW(^)d FY(Q)s FZ(\))16
b FW(\021)g FZ(\()p FW(8)t FY(x)e FW(2)c FY(S)g FZ(:)d
FY(P)s FZ(\))h FW(^)f FZ(\()p FW(8)e FY(x)14 b FW(2)9
b FY(S)i FZ(:)c FY(Q)s FZ(\).)p .95 TeXcolorgray Black
270 1304 a F4(The)13 b(op)q(erator)h FG(2)f F4(do)q(esn't)h(distribute)
g(o)o(v)o(er)f F0(_)p F4(,)g(nor)g(do)q(es)h FG(3)f F4(distribute)h(o)o
(v)o(er)f F0(^)p F4(.)k(F)m(or)208 1354 y(example,)f
FG(2)p F4(\(\()p FV(n)22 b F0(\025)d F4(0\))11 b F0(_)h
F4(\()p FV(n)21 b FQ(<)e F4(0\)\))e(is)h(not)g(equiv)n(alen)o(t)f(to)g
(\()p FG(2)p F4(\()p FV(n)22 b F0(\025)c F4(0\))12 b
F0(_)f FG(2)p F4(\()p FV(n)22 b FQ(<)c F4(0\)\);)208
1404 y(the)f(\014rst)h(form)o(ula)c(is)j(true)h(for)e(an)o(y)h(b)q(eha)
o(vior)f(in)h(whic)o(h)g FV(n)j F4(is)d(alw)o(a)o(ys)f(a)g(n)o(um)o(b)q
(er,)h(but)208 1454 y(the)c(second)g(is)g(false)f(for)g(a)g(b)q(eha)o
(vior)g(in)g(whic)o(h)h FV(n)j F4(assumes)c(b)q(oth)h(p)q(ositiv)o(e)f
(and)g(negativ)o(e)208 1504 y(v)n(alues.)17 b(Ho)o(w)o(ev)o(er,)d(the)h
(follo)o(wing)c(t)o(w)o(o)i(form)o(ulas)f(are)i(tautologies:)p
Black Black 332 1587 a(\()p FG(2)p FV(F)6 b F4(\))j F0(_)g
F4(\()p FG(2)p FV(G)t F4(\))j F0(\))f FG(2)p F4(\()p
FV(F)k F0(_)9 b FV(G)t F4(\))124 b FG(3)p F4(\()p FV(F)15
b F0(^)9 b FV(G)t F4(\))i F0(\))g F4(\()p FG(3)p FV(F)6
b F4(\))j F0(^)g F4(\()p FG(3)p FV(G)t F4(\))208 1670
y(Either)j(of)g(these)i(tautologies)d(can)i(b)q(e)f(deriv)o(ed)h(from)e
(the)h(other)h(b)o(y)f(substituting)h F0(:)p FV(F)k F4(for)208
1719 y FV(F)i F4(and)14 b F0(:)p FV(G)j F4(for)d FV(G)t
F4(.)j(Making)c(this)h(substitution)g(in)g(the)g(second)h(tautology)e
(yields)p Black Black 332 1802 a FP(tr)o(ue)31 b F0(\021)h
FG(3)p F4(\(\()p F0(:)p FV(F)6 b F4(\))j F0(^)g F4(\()p
F0(:)p FV(G)t F4(\)\))i F0(\))g F4(\()p FG(3)p F0(:)p
FV(F)6 b F4(\))j F0(^)g F4(\()p FG(3)p F0(:)p FV(G)t
F4(\))p .95 TeXcolorgray .95 TeXcolorgray 1203 1823 638
57 v .95 TeXcolorgray Black 22 w FZ(By)j(substitution)c(in)j(the)g
(second)f(tautology)m(.)p .95 TeXcolorgray Black 460
1864 a F0(\021)32 b FG(3)p F0(:)p F4(\()p FV(F)15 b F0(_)9
b FV(G)t F4(\))i F0(\))g F4(\()p FG(3)p F0(:)p FV(F)6
b F4(\))j F0(^)g F4(\()p FG(3)p F0(:)p FV(G)t F4(\))p
.95 TeXcolorgray .95 TeXcolorgray 1203 1884 529 57 v
.95 TeXcolorgray Black 114 w FZ(Because)h(\()p FW(:)p
FY(P)h FW(^)c(:)p FY(Q)s FZ(\))j FW(\021)g(:)p FZ(\()p
FY(P)h FW(_)c FY(Q)s FZ(\).)p .95 TeXcolorgray Black
460 1925 a F0(\021)32 b(:)p FG(2)p F4(\()p FV(F)15 b
F0(_)9 b FV(G)t F4(\))i F0(\))g F4(\()p F0(:)p FG(2)p
FV(F)6 b F4(\))j F0(^)g F4(\()p F0(:)p FG(2)p FV(G)t
F4(\))p .95 TeXcolorgray .95 TeXcolorgray 1203 1945 371
57 v .95 TeXcolorgray Black 120 w FZ(Because)h Fs(3)p
FW(:)p FY(H)15 b FW(\021)10 b(:)p Fs(2)p FY(H)5 b FZ(.)p
.95 TeXcolorgray Black 460 1987 a F0(\021)32 b(:)p FG(2)p
F4(\()p FV(F)15 b F0(_)9 b FV(G)t F4(\))i F0(\))g(:)p
F4(\(\()p FG(2)p FV(F)6 b F4(\))j F0(_)g F4(\()p FG(2)p
FV(G)t F4(\)\))p .95 TeXcolorgray .95 TeXcolorgray 1203
2007 529 57 v .95 TeXcolorgray Black 116 w FZ(Because)h(\()p
FW(:)p FY(P)h FW(^)c(:)p FY(Q)s FZ(\))j FW(\021)g(:)p
FZ(\()p FY(P)h FW(_)c FY(Q)s FZ(\).)p .95 TeXcolorgray
Black 460 2048 a F0(\021)32 b F4(\()p FG(2)p FV(F)6 b
F4(\))j F0(_)g F4(\()p FG(2)p FV(G)t F4(\))j F0(\))f
FG(2)p F4(\()p FV(F)k F0(_)9 b FV(G)t F4(\))p .95 TeXcolorgray
.95 TeXcolorgray 1203 2068 536 57 v .95 TeXcolorgray
Black 203 w FZ(Because)h(\()p FW(:)p FY(P)j FW(\))d(:)p
FY(Q)s FZ(\))f FW(\021)i FZ(\()p FY(Q)i FW(\))d FY(P)s
FZ(\).)p .95 TeXcolorgray Black 208 2129 a F4(This)k(pair)g(of)g
(tautologies)f(illustrates)i(a)f(general)h(la)o(w:)j(from)13
b(an)o(y)h(temp)q(oral)f(tautology)m(,)208 2179 y(w)o(e)h(obtain)f(a)g
FV(dual)19 b F4(tautology)12 b(b)o(y)i(making)e(the)i(replacemen)o(ts)p
Black Black 332 2262 a FG(2)e F0( )f FG(3)83 b(3)11 b
F0( )g FG(2)83 b F0(^)11 b( )g(_)83 b(_)11 b( )g(^)208
2345 y F4(and)j(rev)o(ersing)h(the)g(direction)f(of)g(all)f(implicatio)
o(ns.)k(\(An)o(y)d F0(\021)h F4(or)f F0(:)g F4(is)g(left)g(unc)o
(hanged.\))208 2395 y(As)f(in)f(the)i(example)d(ab)q(o)o(v)o(e,)h(the)i
(dual)e(tautology)f(can)i(b)q(e)h(pro)o(v)o(ed)f(from)e(the)i(original)
e(b)o(y)208 2445 y(replacing)16 b(eac)o(h)i(iden)o(ti\014er)f(with)f
(its)h(negation)g(and)f(applying)g(the)h(\(dual\))g(tautologies)208
2495 y FG(3)p F0(:)p FV(F)f F0(\021)c(:)p FG(2)p FV(F)19
b F4(and)14 b F0(:)p FG(3)p FV(F)j F0(\021)11 b FG(2)p
F0(:)p FV(F)20 b F4(along)12 b(with)i(prop)q(ositional-logic)d
(reasoning.)p Black Black eop
%%Page: 94 112
94 111 bop Black 208 275 a F4(94)908 b FR(CHAPTER)14
b(8.)31 b(LIVENESS)15 b(AND)f(F)-5 b(AIRNESS)p 208 282
1770 2 v Black 270 391 a F4(Another)16 b(imp)q(ortan)o(t)e(pair)h(of)g
(dual)f(tautologies)h(assert)i(that)e FG(23)g F4(distributes)i(o)o(v)o
(er)208 441 y F0(_)c F4(and)h FG(32)g F4(distributes)g(o)o(v)o(er)g
F0(^)p F4(:)p Black Black 332 522 a FG(23)p F4(\()p FV(F)h
F0(_)9 b FV(G)t F4(\))18 b F0(\021)h F4(\()p FG(23)p
FV(F)6 b F4(\))j F0(_)g F4(\()p FG(23)p FV(G)t F4(\))124
b FG(32)p F4(\()p FV(F)15 b F0(^)9 b FV(G)t F4(\))18
b F0(\021)h F4(\()p FG(32)p FV(F)6 b F4(\))j F0(^)g F4(\()p
FG(32)p FV(G)t F4(\))p Black -1422 w(\(8.1\))p Black
208 602 a(The)14 b(\014rst)g(asserts)i(that)d FV(F)19
b F4(or)14 b FV(G)j F4(is)d(true)h(in\014nitely)d(often)i(i\013)g
FV(F)19 b F4(is)13 b(true)i(in\014nitely)e(often)208
652 y(or)e FV(G)16 b F4(is)11 b(true)i(in\014nitely)e(often.)17
b(Its)c(truth)f(should)f(b)q(e)i(fairly)d(ob)o(vious,)h(but)h(let's)g
(pro)o(v)o(e)g(it.)208 702 y(T)m(o)i(reason)j(ab)q(out)e
FG(23)p F4(,)h(it)f(helps)h(to)f(in)o(tro)q(duce)i(the)f(sym)o(b)q(ol)e
F0(9)1245 708 y FH(1)1280 702 y F4(,)i(whic)o(h)g(means)e
FV(ther)n(e)208 752 y(exist)j(in\014nitely)h(many)p F4(.)27
b(In)17 b(particular,)g F0(9)907 758 y FH(1)942 752 y
FV(i)f F0(2)11 b FV(Nat)h F4(:)7 b FV(P)t F4(\()p FV(i)t
F4(\))18 b(means)e(that)h FV(P)t F4(\()p FV(i)t F4(\))g(is)g(true)208
801 y(for)11 b(in\014nitely)f(man)o(y)g(natural)h(n)o(um)o(b)q(ers)g
FV(i)t F4(.)17 b(On)11 b(page)h(91,)f(w)o(e)g(sho)o(w)o(ed)h(that)f
FG(23)p FV(F)17 b F4(asserts)208 851 y(that)c FV(F)20
b F4(is)14 b(true)g(in\014nitely)g(often.)k(Using)13
b F0(9)909 857 y FH(1)945 851 y F4(,)g(w)o(e)h(can)g(express)i(this)e
(as)p Black Black 332 932 a(\()p FQ(\033)f F0(j)-7 b
F4(=)11 b FG(23)p FV(F)6 b F4(\))35 b F0(\021)g F4(\()p
F0(9)688 938 y FH(1)723 932 y FV(i)16 b F0(2)11 b FV(Nat)22
b F4(:)c FQ(\033)934 915 y FS(+)p FJ(i)987 932 y F0(j)-7
b F4(=)11 b FV(F)6 b F4(\))p Black -876 w(\(8.2\))p Black
208 1012 a(The)17 b(same)g(reasoning)g(pro)o(v)o(es)h(the)g(follo)o
(wing)d(more)h(general)h(result,)i(where)f FV(P)k F4(is)17
b(an)o(y)208 1062 y(op)q(erator:)p Black Black 332 1142
a(\()p F0(8)7 b FV(n)15 b F0(2)c FV(Nat)23 b F4(:)18
b F0(9)7 b FV(m)14 b F0(2)e FV(Nat)22 b F4(:)c FV(P)t
F4(\()p FV(n)13 b F4(+)d FV(m)s F4(\)\))35 b F0(\021)f(9)1130
1148 y FH(1)1166 1142 y FV(i)15 b F0(2)d FV(Nat)22 b
F4(:)c FV(P)t F4(\()p FV(i)t F4(\))p Black -1225 w(\(8.3\))p
Black 208 1223 a(Here)h(is)f(another)g(useful)g(tautology)f(in)o(v)o
(olving)f F0(9)1031 1229 y FH(1)1066 1223 y F4(,)j(where)g
FV(P)j F4(and)c FV(Q)k F4(are)c(arbitrary)208 1273 y(op)q(erators)c
(and)g FV(S)19 b F4(is)14 b(an)g(arbitrary)f(set:)p Black
Black 332 1353 a(\()p F0(9)372 1359 y FH(1)408 1353 y
FV(i)i F0(2)c FV(S)24 b F4(:)18 b FV(P)t F4(\()p FV(i)t
F4(\))10 b F0(_)f FV(Q)t F4(\()p FV(i)t F4(\)\))23 b
F0(\021)g F4(\()p F0(9)899 1359 y FH(1)935 1353 y FV(i)16
b F0(2)11 b FV(S)24 b F4(:)18 b FV(P)t F4(\()p FV(i)t
F4(\)\))10 b F0(_)e F4(\()p F0(9)1263 1359 y FH(1)1299
1353 y FV(i)16 b F0(2)11 b FV(S)24 b F4(:)17 b FV(Q)t
F4(\()p FV(i)t F4(\)\))p Black -1336 w(\(8.4\))p Black
208 1434 a(Using)c(these)j(results,)e(it's)g(no)o(w)f(easy)h(to)g(pro)o
(v)o(e)g(that)g FG(23)g F4(distributes)h(o)o(v)o(er)e
F0(_)p F4(:)p Black Black 332 1514 a FQ(\033)g F0(j)-7
b F4(=)11 b FG(23)p F4(\()p FV(F)k F0(_)9 b FV(G)t F4(\))374
1576 y F0(\021)31 b(9)461 1582 y FH(1)497 1576 y FV(i)15
b F0(2)c FV(Nat)23 b F4(:)18 b FQ(\033)708 1561 y FS(+)p
FJ(i)760 1576 y F0(j)-7 b F4(=)12 b(\()p FV(F)j F0(_)9
b FV(G)t F4(\))p .95 TeXcolorgray .95 TeXcolorgray 1408
1596 155 57 v .95 TeXcolorgray Black 461 w FZ(By)i(\(8.2\).)p
.95 TeXcolorgray Black 374 1637 a F0(\021)31 b F4(\()p
F0(9)477 1643 y FH(1)513 1637 y FV(i)15 b F0(2)d FV(Nat)22
b F4(:)c FQ(\033)724 1622 y FS(+)p FJ(i)776 1637 y F0(j)-7
b F4(=)12 b FV(F)6 b F4(\))16 b F0(_)g F4(\()p F0(9)974
1643 y FH(1)1009 1637 y FV(i)g F0(2)11 b FV(Nat)22 b
F4(:)c FQ(\033)1220 1622 y FS(+)p FJ(i)1273 1637 y F0(j)-7
b F4(=)11 b FV(G)t F4(\))p .95 TeXcolorgray .95 TeXcolorgray
1408 1657 V .95 TeXcolorgray Black 44 w FZ(By)g(\(8.4\).)p
.95 TeXcolorgray Black 374 1699 a F0(\021)31 b F4(\()p
FQ(\033)13 b F0(j)-7 b F4(=)12 b FG(23)p FV(F)6 b F4(\))15
b F0(_)h F4(\()p FQ(\033)d F0(j)-7 b F4(=)11 b FG(23)p
FV(G)t F4(\))p .95 TeXcolorgray .95 TeXcolorgray 1408
1719 V .95 TeXcolorgray Black 489 w FZ(By)g(\(8.2\).)p
.95 TeXcolorgray Black 208 1777 a F4(F)m(rom)h(this,)h(w)o(e)h(deduce)i
(the)e(dual)f(tautology)m(,)f(that)i FG(32)g F4(distributes)h(o)o(v)o
(er)e F0(^)p F4(.)270 1827 y(In)j(an)o(y)g(TLA)h(tautology)m(,)e
(replacing)h(a)h(temp)q(oral)e(form)o(ula)f(b)o(y)i(an)h(action)f
(yields)g(a)208 1877 y(tautology|a)11 b(form)o(ula)g(that)j(is)f(true)h
(for)g(all)e(b)q(eha)o(viors|ev)o(en)i(if)e(that)i(form)o(ula)d(isn't)i
(a)208 1927 y(legal)h(TLA)h(form)o(ula.)20 b(\(Remem)o(b)q(er)14
b(that)h(w)o(e)h(ha)o(v)o(e)f(de\014ned)i(the)f(meaning)d(of)i(nonTLA)
208 1976 y(form)o(ulas)10 b(lik)o(e)i FG(2)p F4(\()p
FV(x)521 1961 y FH(0)545 1976 y F4(=)g FV(x)g F4(+)7
b(1\).\))18 b(W)m(e)13 b(can)g(apply)f(the)h(rules)h(of)e(logic)g(to)g
(transform)g(those)208 2026 y(nonTLA)h(tautologies)g(in)o(to)g(TLA)g
(tautologies.)k(Among)12 b(these)j(rules)f(are)g(the)g(follo)o(wing)208
2076 y(dual)f(equiv)n(alences,)h(whic)o(h)g(are)g(easy)g(to)g(c)o(hec)o
(k:)p Black Black 332 2156 a([)p FV(A)9 b F0(^)g FV(B)t
F4(])466 2162 y FJ(v)505 2156 y F0(\021)19 b F4([)p FV(A)p
F4(])611 2162 y FJ(v)640 2156 y F0(^)9 b F4([)p FV(B)t
F4(])734 2162 y FJ(v)861 2156 y F0(h)s FV(A)g F0(_)g
FV(B)f F0(i)1010 2162 y FJ(v)1050 2156 y F0(\021)18 b(h)s
FV(A)s F0(i)1169 2162 y FJ(v)1201 2156 y F0(_)9 b(h)s
FV(B)f F0(i)1310 2162 y FJ(v)208 2237 y F4(\(The)14 b(second)h(asserts)
h(that)e(an)g FV(A)9 b F0(_)g FV(B)18 b F4(step)d(that)f(c)o(hanges)h
FV(v)k F4(is)13 b(either)i(an)f FV(A)g F4(step)h(that)208
2287 y(c)o(hanges)f FV(v)19 b F4(or)13 b(a)h FV(B)k F4(step)d(that)f(c)
o(hanges)h FV(v)t F4(.\))270 2337 y(As)d(an)f(example)f(of)h
(substituting)h(actions)g(for)f(temp)q(oral)f(form)o(ulas)f(in)i(TLA)h
(tautolo-)208 2386 y(gies,)i(let's)g(substitute)h F0(h)s
FV(A)s F0(i)652 2392 y FJ(v)689 2386 y F4(and)f F0(h)s
FV(B)9 b F0(i)843 2392 y FJ(v)878 2386 y F4(for)14 b
FV(F)20 b F4(and)14 b FV(G)k F4(in)c(the)h(\014rst)g(tautology)e(of)h
(\(8.1\))208 2436 y(to)f(get)p Black Black 332 2517 a
FG(23)p F4(\()p F0(h)s FV(A)s F0(i)481 2523 y FJ(v)512
2517 y F0(_)c(h)s FV(B)g F0(i)622 2523 y FJ(v)643 2517
y F4(\))23 b F0(\021)h F4(\()p FG(23)p F0(h)s FV(A)s
F0(i)887 2523 y FJ(v)909 2517 y F4(\))9 b F0(_)g F4(\()p
FG(23)p F0(h)s FV(B)g F0(i)1124 2523 y FJ(v)1145 2517
y F4(\))p Black -953 w(\(8.5\))p Black Black Black eop
%%Page: 95 113
95 112 bop Black 208 275 a FR(8.3.)30 b(TEMPORAL)15 b(PR)o(OOF)f(R)o
(ULES)1072 b F4(95)p 208 282 1770 2 v Black 208 391 a(This)18
b(isn't)f(a)h(TLA)g(tautology)m(,)f(b)q(ecause)j FG(23)p
F4(\()p F0(h)s FV(A)s F0(i)1053 397 y FJ(v)1087 391 y
F0(_)12 b(h)s FV(B)d F0(i)1200 397 y FJ(v)1221 391 y
F4(\))18 b(isn't)g(a)g(TLA)g(form)o(ula.)208 441 y(Ho)o(w)o(ev)o(er,)12
b(a)f(general)h(rule)g(of)f(logic)g(tells)h(us)g(that)g(replacing)f(a)h
(subform)o(ula)d(b)o(y)j(an)f(equiv-)208 491 y(alen)o(t)i(one)i(yields)
f(an)f(equiv)n(alen)o(t)h(form)o(ula.)i(Substituting)e
F0(h)s FV(A)c F0(_)f FV(B)f F0(i)1316 497 y FJ(v)1351
491 y F4(for)14 b F0(h)s FV(A)s F0(i)1484 497 y FJ(v)1515
491 y F0(_)9 b(h)s FV(B)g F0(i)1625 497 y FJ(v)208 541
y F4(in)k(\(8.5\))g(giv)o(es)h(us)g(the)h(follo)o(wing)c(TLA)j
(tautology:)p Black Black 332 614 a FG(23)p F0(h)s FV(A)c
F0(_)f FV(B)e F0(i)545 620 y FJ(v)590 614 y F0(\021)23
b F4(\()p FG(23)p F0(h)s FV(A)s F0(i)794 620 y FJ(v)816
614 y F4(\))10 b F0(_)e F4(\()p FG(23)p F0(h)s FV(B)h
F0(i)1031 620 y FJ(v)1052 614 y F4(\))208 770 y FN(8.3)81
b(T)-7 b(emp)r(oral)28 b(Pro)r(of)f(Rules)208 861 y F4(A)14
b(pro)q(of)g(rule)h(is)f(a)g(rule)g(for)g(deducing)h(true)g(form)o
(ulas)d(from)h(other)i(true)g(form)o(ulas.)i(F)m(or)208
911 y(example,)g(the)h FV(Mo)n(dus)h(Ponens)k F4(Rule)17
b(of)g(prop)q(ositional)g(logic)f(tells)i(us)g(that,)h(for)e(an)o(y)208
961 y(form)o(ulas)g FV(F)26 b F4(and)20 b FV(G)t F4(,)h(if)e(w)o(e)h
(ha)o(v)o(e)g(pro)o(v)o(ed)g FV(F)26 b F4(and)20 b FV(F)27
b F0(\))21 b FV(G)t F4(,)g(then)g(w)o(e)f(can)g(deduce)208
1010 y FV(G)t F4(.)34 b(Since)20 b(the)g(la)o(ws)e(of)h(prop)q
(ositional)f(logic)h(hold)f(for)h(temp)q(oral)f(logic)h(as)g(w)o(ell,)h
(w)o(e)208 1060 y(can)e(apply)g(the)g FV(Mo)n(dus)i(Ponens)j
F4(Rule)18 b(when)g(reasoning)g(ab)q(out)h(temp)q(oral)e(form)o(ulas.)
208 1110 y(T)m(emp)q(oral)11 b(logic)i(also)h(has)g(some)f(pro)q(of)g
(rules)i(of)e(its)h(o)o(wn.)j(One)e(is)p Black Black
332 1183 a FU(Generalizatio)o(n)f(Rule)27 b F4(F)m(rom)13
b FV(F)20 b F4(w)o(e)15 b(can)g(infer)g FG(2)p FV(F)6
b F4(,)14 b(for)g(an)o(y)g(temp)q(oral)f(for-)332 1233
y(m)o(ula)f FV(F)6 b F4(.)208 1306 y(This)13 b(rule)h(asserts)i(that,)d
(if)g FV(F)19 b F4(is)14 b(true)h(for)e(all)g(b)q(eha)o(viors,)g(then)i
(so)f(is)f FG(2)p FV(F)6 b F4(.)18 b(T)m(o)13 b(pro)o(v)o(e)h(it,)208
1356 y(w)o(e)g(m)o(ust)f(sho)o(w)h(that,)g(if)g FQ(\033)f
F0(j)-7 b F4(=)12 b FV(F)20 b F4(is)14 b(true)h(for)f(ev)o(ery)h(b)q
(eha)o(vior)e FQ(\033)q F4(,)h(then)h FQ(\034)i F0(j)-7
b F4(=)12 b FG(2)p FV(F)20 b F4(is)14 b(true)208 1406
y(for)f(ev)o(ery)i(b)q(eha)o(vior)e FQ(\034)5 b F4(.)18
b(The)d(pro)q(of)e(is)h(easy:)p Black Black 332 1479
a FQ(\034)i F0(j)-7 b F4(=)12 b FG(2)p FV(F)37 b F0(\021)32
b(8)7 b FV(n)15 b F0(2)c FV(Nat)22 b F4(:)c FQ(\034)822
1464 y FS(+)p FJ(n)883 1479 y F0(j)-7 b F4(=)11 b FV(F)p
.95 TeXcolorgray .95 TeXcolorgray 999 1499 305 57 v .95
TeXcolorgray Black 50 w FZ(By)g(de\014nition)e(of)i Fs(2)p
FZ(.)p .95 TeXcolorgray Black 510 1540 a F0(\021)32 b(8)7
b FV(n)15 b F0(2)c FV(Nat)22 b F4(:)c FP(tr)o(ue)p .95
TeXcolorgray .95 TeXcolorgray 999 1560 848 57 v .95 TeXcolorgray
Black 112 w FZ(By)11 b(the)g(assumption)d(that)j Fw(\033)g
FW(j)-6 b FZ(=)10 b FY(F)16 b FZ(equals)10 b Fu(tr)o(ue)p
FZ(,)i(for)f(all)g Fw(\033)q FZ(.)p .95 TeXcolorgray
Black 510 1602 a F0(\021)32 b FP(tr)o(ue)p .95 TeXcolorgray
.95 TeXcolorgray 999 1622 306 57 v .95 TeXcolorgray Black
337 w FZ(By)11 b(predicate)e(logic.)p .95 TeXcolorgray
Black 208 1673 a F4(Another)14 b(temp)q(oral)f(pro)q(of)g(rule)h(is)p
Black Black 332 1746 a FU(Implies)g(Generalizatio)o(n)f(Rule)27
b F4(F)m(rom)13 b FV(F)k F0(\))12 b FV(G)18 b F4(w)o(e)c(can)h(infer)f
FG(2)p FV(F)k F0(\))12 b FG(2)p FV(G)t F4(,)332 1796
y(for)i(an)o(y)f(temp)q(oral)g(form)o(ulas)e FV(F)20
b F4(and)13 b FV(G)t F4(.)208 1869 y(The)j(Generalization)g(Rule)g(can)
h(b)q(e)g(deriv)o(ed)g(from)e(the)i(Implies)e(Generalization)g(Rule)208
1919 y(and)e(the)i(tautology)d FP(tr)o(ue)g F4(=)g FG(2)p
FP(tr)o(ue)i F4(b)o(y)g(substituting)g FP(tr)o(ue)g F4(for)f
FV(F)20 b F4(and)14 b FV(F)19 b F4(for)14 b FV(G)t F4(.)270
1969 y(The)c(di\013erence)h(b)q(et)o(w)o(een)g(a)e(temp)q(oral)f(pro)q
(of)h(rule)g(and)g(a)h(temp)q(oral)e(tautology)g(can)h(b)q(e)208
2019 y(confusing.)16 b(In)11 b(prop)q(ositional)e(logic,)h(ev)o(ery)i
(pro)q(of)e(rule)h(has)g(a)f(corresp)q(onding)i(tautology)m(.)208
2068 y(The)g FV(Mo)n(dus)i(Ponens)i F4(Rule,)c(whic)o(h)g(asserts)h
(that)f(w)o(e)g(can)h(deduce)g FV(G)j F4(b)o(y)11 b(pro)o(ving)g
FV(F)18 b F4(and)208 2118 y FV(F)f F0(\))11 b FV(G)t
F4(,)g(implies)e(the)i(tautology)f FV(F)f F0(^)s F4(\()p
FV(F)17 b F0(\))11 b FV(G)t F4(\))h F0(\))f FV(G)t F4(.)17
b(But)11 b(in)g(temp)q(oral)e(logic,)i(a)f(pro)q(of)208
2168 y(rule)j(need)h(not)f(imply)d(a)j(tautology)m(.)j(The)d
(Generalization)f(Rule,)h(whic)o(h)f(states)j(that)e(w)o(e)208
2218 y(can)g(deduce)h FG(2)p FV(F)k F4(b)o(y)13 b(pro)o(ving)f
FV(F)6 b F4(,)12 b(do)q(es)i(not)e(imply)f(that)i FV(F)k
F0(\))11 b FG(2)p FV(F)18 b F4(is)13 b(a)f(tautology)m(.)k(The)208
2268 y(rule)c(means)g(that,)g(if)f FQ(\033)i F0(j)-7
b F4(=)11 b FV(F)18 b F4(is)12 b(true)i(for)e(all)f FQ(\033)q
F4(,)h(then)h FQ(\033)g F0(j)-7 b F4(=)11 b FG(2)p FV(F)18
b F4(is)12 b(true)h(for)f(all)f FQ(\033)q F4(.)18 b(That's)208
2317 y(di\013eren)o(t)f(from)f(the)h(\(false\))g(assertion)h(that)f
FV(F)22 b F0(\))16 b FG(2)p FV(F)23 b F4(is)17 b(a)f(tautology)m(,)g
(whic)o(h)h(w)o(ould)208 2367 y(mean)11 b(that)i FQ(\033)f
F0(j)-7 b F4(=)12 b(\()p FV(F)17 b F0(\))11 b FG(2)p
FV(F)6 b F4(\))12 b(is)h(true)g(for)g(all)e FQ(\033)q
F4(.)18 b(F)m(or)12 b(example,)f FQ(\033)i F0(j)-7 b
F4(=)11 b(\()p FV(F)17 b F0(\))12 b FG(2)p FV(F)6 b F4(\))12
b(equals)208 2417 y FP(f)l(alse)18 b F4(if)e FV(F)23
b F4(is)17 b(a)g(state)h(predicate)g(that)g(is)f(true)h(in)e(the)i
(\014rst)g(state)g(of)f FQ(\033)h F4(and)f(is)g(false)208
2467 y(in)c(some)h(other)h(state)g(of)f FQ(\033)q F4(.)19
b(F)m(orgetting)14 b(the)h(distinction)f(b)q(et)o(w)o(een)h(a)f(pro)q
(of)g(rule)h(and)f(a)208 2517 y(tautology)e(is)i(a)g(common)d(source)k
(of)e(mistak)o(es)g(when)h(using)g(temp)q(oral)e(logic.)p
Black Black eop
%%Page: 96 114
96 113 bop Black 208 275 a F4(96)908 b FR(CHAPTER)14
b(8.)31 b(LIVENESS)15 b(AND)f(F)-5 b(AIRNESS)p 208 282
1770 2 v Black 208 400 a FN(8.4)81 b(W)-7 b(eak)28 b(F)-7
b(airness)208 491 y F4(It's)11 b(easy)g(to)g(sp)q(ecify)h(liv)o(eness)f
(prop)q(erties)i(with)d(the)i(temp)q(oral)e(op)q(erators)h
FG(2)h F4(and)e FG(3)p F4(.)17 b(F)m(or)208 540 y(example,)8
b(consider)j(the)f(hour-clo)q(c)o(k)g(sp)q(eci\014cation)g(of)f(mo)q
(dule)f FV(HourClo)n(ck)14 b F4(in)9 b(Figure)h(2.1)208
590 y(on)15 b(page)h(20.)22 b(W)m(e)15 b(can)h(require)h(that)e(the)i
(clo)q(c)o(k)e(nev)o(er)i(stops)f(b)o(y)g(asserting)g(that)g(there)208
640 y(m)o(ust)11 b(b)q(e)h(in\014nitely)g(man)o(y)e FV(HCnxt)16
b F4(steps.)j(The)12 b(ob)o(vious)f(w)o(a)o(y)h(to)g(write)g(this)g
(assertion)h(is)208 690 y FG(23)p FV(HCnxt)t F4(,)f(but)i(that's)f(not)
g(a)g(legal)f(TLA)i(form)o(ula)c(b)q(ecause)15 b FV(HCnxt)i
F4(is)c(an)g(action,)g(not)208 740 y(a)e(temp)q(oral)e(form)o(ula.)15
b(Ho)o(w)o(ev)o(er,)d(an)f FV(HCnxt)k F4(step)d(adv)n(ances)g(the)g(v)n
(alue)e FV(hr)16 b F4(of)10 b(the)i(clo)q(c)o(k,)208
789 y(so)i(it)g(c)o(hanges)g FV(hr)t F4(.)19 b(Therefore,)c(an)f
FV(HCnxt)k F4(step)d(is)f(also)g(an)g FV(HCnxt)k F4(step)d(that)f(c)o
(hanges)208 839 y FV(hr)t F4(|that)c(is,)g(it's)g(an)g
F0(h)s FV(HCnxt)e F0(i)709 845 y FJ(hr)756 839 y F4(step.)18
b(W)m(e)10 b(can)g(th)o(us)h(write)f(the)h(liv)o(eness)g(prop)q(ert)o
(y)g(that)208 889 y(the)17 b(clo)q(c)o(k)f(nev)o(er)i(stops)f(as)f
FG(23)p F0(h)s FV(HCnxt)8 b F0(i)889 895 y FJ(hr)927
889 y F4(.)25 b(So,)17 b(w)o(e)g(can)f(tak)o(e)h FV(HC)e
F0(^)9 b FG(23)p F0(h)s FV(HCnxt)e F0(i)1608 895 y FJ(hr)208
939 y F4(to)13 b(b)q(e)i(the)f(sp)q(eci\014cation)h(of)e(a)h(clo)q(c)o
(k)g(that)g(nev)o(er)g(stops.)270 989 y(Before)k(con)o(tin)o(uing,)f(I)
g(m)o(ust)g(mak)o(e)f(a)h(confession)g(and)h(then)g(lead)f(y)o(ou)g(on)
g(a)g(brief)208 1038 y(digression)d(ab)q(out)f(subscripts.)20
b(Let)15 b(me)e(\014rst)h(confess)h(that)f(the)h(argumen)o(t)e(I)h
(just)g(ga)o(v)o(e,)208 1088 y(that)c(w)o(e)h(can)f(write)h
FG(23)p F0(h)s FV(HCnxt)d F0(i)751 1094 y FJ(hr)799 1088
y F4(in)i(place)h(of)e FG(23)p FV(HCnxt)t F4(,)i(w)o(as)f(slopp)o(y)g
(\(a)g(p)q(olite)g(term)208 1138 y(for)16 b FV(wr)n(ong)t
F4(\).)28 b(Not)17 b(ev)o(ery)h FV(HCnxt)j F4(step)e(c)o(hanges)f
FV(hr)t F4(.)28 b(Consider)18 b(a)f(state)h(in)f(whic)o(h)g
FV(hr)208 1188 y F4(has)c(some)g(v)n(alue)g(that)h(is)g(not)f(a)h(n)o
(um)o(b)q(er|p)q(erhaps)g(a)f(v)n(alue)g F0(1)p F4(.)18
b(An)c FV(HCnxt)j F4(step)e(that)208 1238 y(starts)h(in)e(suc)o(h)i(a)f
(state)h(sets)g(the)g(new)f(v)n(alue)g(of)f FV(hr)19
b F4(to)c F0(1)10 b F4(+)g(1.)21 b(W)m(e)15 b(don't)f(kno)o(w)h(what)
208 1288 y F0(1)9 b F4(+)i(1)k(equals;)g(it)g(migh)o(t)e(or)i(migh)o(t)
f(not)h(equal)g F0(1)p F4(.)21 b(If)15 b(it)g(do)q(es,)h(then)g(the)g
FV(HCnxt)j F4(step)208 1337 y(lea)o(v)o(es)10 b FV(hr)15
b F4(unc)o(hanged,)c(so)f(it)g(is)h(not)f(an)g F0(h)s
FV(HCnxt)e F0(i)1000 1343 y FJ(hr)1048 1337 y F4(step.)18
b(F)m(ortunately)m(,)9 b(states)j(in)e(whic)o(h)208 1387
y(the)16 b(v)n(alue)g(of)g FV(hr)k F4(is)c(not)g(a)g(n)o(um)o(b)q(er)g
(are)g(irrelev)n(an)o(t.)25 b(Because)18 b(w)o(e)f(are)f(conjoining)f
(the)208 1437 y(liv)o(eness)f(condition)g(to)g(the)h(safet)o(y)g(sp)q
(eci\014cation)g FV(HC)6 b F4(,)13 b(w)o(e)i(care)g(only)f(ab)q(out)g
(b)q(eha)o(viors)208 1487 y(that)e(satisfy)g FV(HC)6
b F4(.)17 b(In)c(all)e(suc)o(h)i(b)q(eha)o(viors,)g FV(hr)j
F4(is)c(alw)o(a)o(ys)g(a)g(n)o(um)o(b)q(er,)g(and)g(ev)o(ery)h
FV(HCnxt)208 1537 y F4(step)h(is)g(an)g F0(h)s FV(HCnxt)8
b F0(i)555 1543 y FJ(hr)606 1537 y F4(step.)20 b(Therefore,)14
b FV(HC)h F0(^)9 b FG(23)p F0(h)s FV(HCnxt)f F0(i)1247
1543 y FJ(hr)1298 1537 y F4(is)14 b(equiv)n(alen)o(t)f(to)h(the)208
1586 y(nonTLA)f(form)o(ula)f FV(HC)i F0(^)9 b FG(23)p
FV(HCnxt)t F4(.)837 1571 y FS(3)270 1636 y F4(When)k(writing)e(liv)o
(eness)i(prop)q(erties,)h(the)f(syn)o(tax)g(of)f(TLA)g(often)h(forces)g
(us)g(to)g(write)208 1686 y F0(h)s FV(A)s F0(i)277 1692
y FJ(v)318 1686 y F4(instead)19 b(of)g FV(A)p F4(,)h(for)f(some)f
(action)h FV(A)p F4(.)34 b(As)20 b(in)f(the)h(case)g(of)f
FV(HCnxt)t F4(,)h(the)g(safet)o(y)208 1736 y(sp)q(eci\014cation)d
(usually)e(implies)f(that)j(an)o(y)f FV(A)g F4(step)h(c)o(hanges)g
(some)e(v)n(ariable.)25 b(T)m(o)15 b(a)o(v)o(oid)208
1786 y(ha)o(ving)c(to)h(think)g(ab)q(out)g(whic)o(h)g(v)n(ariables)g
FV(A)g F4(actually)f(c)o(hanges,)i(w)o(e)g(generally)f(tak)o(e)g(the)
208 1836 y(subscript)19 b FV(v)j F4(to)c(b)q(e)h(the)f(tuple)h(of)e
(all)g(v)n(ariables,)h(whic)o(h)f(is)h(c)o(hanged)h(i\013)e(an)o(y)h(v)
n(ariable)208 1885 y(c)o(hanges.)25 b(But)16 b(what)g(if)g
FV(A)g F4(do)q(es)g(allo)o(w)f(stuttering)i(steps?)26
b(It's)16 b(silly)f(to)h(assert)h(that)f(a)208 1935 y(stuttering)e
(step)h(ev)o(en)o(tually)f(o)q(ccurs,)h(since)f(suc)o(h)h(an)f
(assertion)g(is)g(not)g(in)o(v)n(arian)o(t)e(under)208
1985 y(stuttering.)20 b(So,)14 b(if)g FV(A)g F4(do)q(es)h(allo)o(w)e
(stuttering)i(steps,)h(w)o(e)f(w)o(an)o(t)f(to)g(require)h(not)g(that)f
(an)208 2035 y FV(A)i F4(step)h(ev)o(en)o(tually)f(o)q(ccurs,)i(but)f
(that)g(a)f(nonstuttering)h FV(A)f F4(step)i(o)q(ccurs|that)g(is,)e(an)
208 2085 y F0(h)s FV(A)s F0(i)277 2091 y FJ(v)314 2085
y F4(step,)g(where)h FV(v)j F4(is)15 b(the)h(tuple)g(of)f(all)f(the)i
(sp)q(eci\014cation's)g(v)n(ariables.)22 b(The)16 b(syn)o(tax)208
2134 y(of)d(TLA)h(forces)h(us)f(to)g(sa)o(y)f(what)h(w)o(e)g(should)g
(mean.)270 2184 y(When)g(discussing)h(form)o(ulas,)d(I)j(will)e
(usually)g(ignore)i(the)g(angle)f(brac)o(k)o(ets)h(and)g(sub-)208
2234 y(scripts.)j(F)m(or)12 b(example,)e(I)i(migh)o(t)e(describ)q(e)j
FG(23)p F0(h)s FV(HCnxt)8 b F0(i)1126 2240 y FJ(hr)1176
2234 y F4(as)k(the)g(assertion)h(that)f(there)208 2284
y(are)g(in\014nitely)g(man)o(y)e FV(HCnxt)16 b F4(steps,)e(rather)f
(than)f(in\014nitely)g(man)o(y)e F0(h)s FV(Hnxt)e F0(i)1439
2290 y FJ(hr)1477 2284 y F4(,)k(whic)o(h)g(is)208 2334
y(what)i(it)g(really)g(asserts.)21 b(This)15 b(\014nishes)g(the)g
(digression;)f(w)o(e)h(no)o(w)f(return)i(to)e(sp)q(ecifying)208
2383 y(liv)o(eness)g(conditions.)p Black 208 2410 576
2 v 254 2437 a FK(3)271 2449 y FZ(Ev)o(en)d(though)e
FY(HC)k FW(^)7 b Fs(23)p FY(HCnxt)15 b FZ(is)d(not)e(a)i(TLA)g(form)o
(ula,)e(its)h(meaning)e(has)i(b)q(een)f(de\014ned,)f(so)j(w)o(e)208
2488 y(can)e(determine)f(whether)h(it)i(is)f(equiv)n(alen)o(t)e(to)i(a)
g(TLA)i(form)o(ula.)p Black Black Black eop
%%Page: 97 115
97 114 bop Black 208 275 a FR(8.4.)30 b(WEAK)15 b(F)-5
b(AIRNESS)1279 b F4(97)p 208 282 1770 2 v Black 270 391
a(Let's)16 b(mo)q(dify)d(sp)q(eci\014cation)j FV(Sp)n(e)n(c)i
F4(of)d(mo)q(dule)f FV(Channel)20 b F4(\(Figure)15 b(3.2)g(on)g(page)g
(30\))208 441 y(to)d(require)i(that)e(ev)o(ery)i(v)n(alue)e(sen)o(t)i
(is)e(ev)o(en)o(tually)g(receiv)o(ed.)19 b(W)m(e)13 b(do)f(this)h(b)o
(y)f(conjoining)208 491 y(a)f(liv)o(eness)i(condition)e(to)h
FV(Sp)n(e)n(c)r F4(.)18 b(The)12 b(analog)f(of)g(the)h(liv)o(eness)h
(condition)e(for)h(the)g(clo)q(c)o(k)g(is)208 541 y FG(23)p
F0(h)s FV(R)n(cv)c F0(i)381 547 y FJ(chan)456 541 y F4(,)k(whic)o(h)h
(asserts)h(that)f(there)h(are)f(in\014nitely)f(man)o(y)f
FV(R)n(cv)17 b F4(steps.)i(Ho)o(w)o(ev)o(er,)208 591
y(only)d(a)h(v)n(alue)g(that)g(has)h(b)q(een)g(sen)o(t)g(can)g(b)q(e)g
(receiv)o(ed,)h(so)e(this)g(condition)g(w)o(ould)f(also)208
640 y(require)j(that)g(in\014nitely)f(man)o(y)f(v)n(alues)h(b)q(e)i
(sen)o(t|a)f(requiremen)o(t)f(w)o(e)h(don't)g(w)o(an)o(t)f(to)208
690 y(mak)o(e.)d(W)m(e)d(w)o(an)o(t)f(to)g(p)q(ermit)g(b)q(eha)o(viors)
h(in)f(whic)o(h)g(no)h(v)n(alue)f(is)g(ev)o(er)i(sen)o(t,)f(so)g(no)f
(v)n(alue)g(is)208 740 y(ev)o(er)i(receiv)o(ed.)19 b(W)m(e)12
b(require)h(only)f(that)g(an)o(y)g(v)n(alue)g(that)g(is)h(sen)o(t)g(is)
f(ev)o(en)o(tually)g(receiv)o(ed.)270 790 y(T)m(o)i(assure)j(that)e
(all)f(v)n(alues)g(that)i(should)f(b)q(e)g(receiv)o(ed)i(are)e(ev)o(en)
o(tually)g(receiv)o(ed,)h(it)208 840 y(su\016ces)e(to)f(require)h(only)
e(that)h(the)h(next)g(v)n(alue)e(to)h(b)q(e)h(receiv)o(ed)g(ev)o(en)o
(tually)f(is)g(receiv)o(ed.)208 889 y(\(When)h(that)g(v)n(alue)f(has)h
(b)q(een)h(receiv)o(ed,)g(the)f(one)g(after)g(it)g(b)q(ecomes)g(the)g
(next)h(v)n(alue)e(to)208 939 y(b)q(e)j(receiv)o(ed,)i(so)e(it)g(m)o
(ust)f(ev)o(en)o(tually)h(b)q(e)h(receiv)o(ed,)g(and)f(so)g(on.\))25
b(More)17 b(precisely)m(,)g(w)o(e)208 989 y(need)c(only)f(require)h(it)
f(alw)o(a)o(ys)g(to)g(b)q(e)h(the)g(case)g(that,)g(if)e(there)j(is)f(a)
f(v)n(alue)g(to)g(b)q(e)h(receiv)o(ed,)208 1039 y(then)19
b(the)h(next)f(v)n(alue)f(to)h(b)q(e)h(receiv)o(ed)g(ev)o(en)o(tually)f
(is)f(receiv)o(ed.)35 b(The)19 b(next)h(v)n(alue)e(is)208
1089 y(receiv)o(ed)d(b)o(y)e(a)h FV(R)n(cv)19 b F4(step,)14
b(so)g(the)h(requiremen)o(t)e(is)1024 1074 y FS(4)p Black
Black 332 1168 a FG(2)p F4(\(There)i(is)f(an)g(unreceiv)o(ed)h(v)n
(alue)23 b F0(\))f FG(3)p F0(h)s FV(R)n(cv)9 b F0(i)1128
1174 y FJ(chan)1203 1168 y F4(\))208 1248 y(There)j(is)f(an)f(unreceiv)
o(ed)j(v)n(alue)d(i\013)h(action)g FV(R)n(cv)k F4(is)c(enabled,)h
(meaning)d(that)i(it)g(is)g(p)q(ossible)208 1298 y(to)k(tak)o(e)h(a)f
FV(R)n(cv)21 b F4(step.)k(TLA)672 1283 y FS(+)708 1298
y F4(de\014nes)17 b FP(enabled)11 b FV(A)k F4(to)h(b)q(e)g(the)h
(predicate)g(that)e(is)h(true)208 1348 y(i\013)d(action)h
FV(A)f F4(is)h(enabled.)k(The)d(liv)o(eness)f(condition)f(can)h(then)h
(b)q(e)f(written)p Black Black 332 1427 a FG(2)p F4(\()p
FP(enabled)d F0(h)s FV(R)n(cv)e F0(i)667 1433 y FJ(chan)765
1427 y F0(\))22 b FG(3)p F0(h)s FV(R)n(cv)9 b F0(i)972
1433 y FJ(chan)1047 1427 y F4(\))p Black -855 w(\(8.6\))p
Black 208 1507 a(In)16 b(the)g FP(enabled)i F4(form)o(ula,)13
b(it)j(do)q(esn't)h(matter)e(if)g(w)o(e)i(write)f FV(R)n(cv)21
b F4(or)16 b F0(h)s FV(R)n(cv)9 b F0(i)1477 1513 y FJ(chan)1552
1507 y F4(.)24 b(W)m(e)208 1557 y(add)11 b(the)h(angle)f(brac)o(k)o
(ets)h(so)g(the)g(t)o(w)o(o)f(actions)g(app)q(earing)g(in)g(the)h(form)
o(ula)d(are)j(the)g(same.)270 1607 y(In)k(an)o(y)h(b)q(eha)o(vior)f
(satisfying)f(the)j(safet)o(y)e(sp)q(eci\014cation)i
FV(HC)6 b F4(,)16 b(it's)g(alw)o(a)o(ys)g(p)q(ossible)208
1656 y(to)k(tak)o(e)g(an)h FV(HCnxt)j F4(step)d(that)g(c)o(hanges)g
FV(hr)t F4(.)38 b(Action)21 b F0(h)s FV(HCnxt)8 b F0(i)1313
1662 y FJ(hr)1370 1656 y F4(is)21 b(therefore)h(al-)208
1706 y(w)o(a)o(ys)11 b(enabled,)h(so)f FP(enabled)g F0(h)s
FV(HCnxt)d F0(i)854 1712 y FJ(hr)903 1706 y F4(is)k(true)g(throughout)g
(suc)o(h)g(a)f(b)q(eha)o(vior.)17 b(Since)208 1756 y
FP(tr)o(ue)11 b F0(\))h FG(3)p F0(h)s FV(HCnxt)7 b F0(i)562
1762 y FJ(hr)614 1756 y F4(is)14 b(equiv)n(alen)o(t)f(to)h
FG(3)p F0(h)s FV(HCnxt)8 b F0(i)1097 1762 y FJ(hr)1134
1756 y F4(,)13 b(w)o(e)i(can)f(replace)h(the)f(liv)o(eness)208
1806 y(condition)f FG(23)p F0(h)s FV(HCnxt)8 b F0(i)614
1812 y FJ(hr)665 1806 y F4(for)13 b(the)i(hour)f(clo)q(c)o(k)g(with)p
Black Black 332 1886 a FG(2)p F4(\()p FP(enabled)d F0(h)s
FV(HCnxt)d F0(i)717 1892 y FJ(hr)766 1886 y F0(\))j FG(3)p
F0(h)s FV(HCnxt)d F0(i)1012 1892 y FJ(hr)1049 1886 y
F4(\))208 1965 y(This)13 b(suggests)i(the)g(follo)o(wing)c(general)j
(liv)o(eness)h(condition)e(for)g(an)h(action)g FV(A)p
F4(:)p Black Black 332 2045 a FG(2)p F4(\()p FP(enabled)d
F0(h)s FV(A)s F0(i)626 2051 y FJ(v)660 2045 y F0(\))g
FG(3)p F0(h)s FV(A)s F0(i)815 2051 y FJ(v)837 2045 y
F4(\))208 2125 y(This)19 b(condition)g(asserts)i(that,)g(if)d
FV(A)i F4(ev)o(er)g(b)q(ecomes)g(enabled,)h(then)f(an)f
FV(A)h F4(step)g(will)208 2174 y(ev)o(en)o(tually)12
b(o)q(ccur|ev)o(en)h(if)f FV(A)g F4(remains)g(enabled)h(for)f(only)g(a)
g(fraction)g(of)g(a)g(nanosecond)208 2224 y(and)18 b(is)g(nev)o(er)h
(again)f(enabled.)31 b(The)19 b(ob)o(vious)f(practical)g(di\016cult)o
(y)g(of)f(implemen)o(ting)208 2274 y(suc)o(h)c(a)g(condition)f
(suggests)j(that)e(it's)f(to)q(o)h(strong.)18 b(So,)12
b(w)o(e)i(replace)g(it)e(with)h(the)g(w)o(eak)o(er)208
2324 y(form)o(ula)e(WF)430 2330 y FJ(v)451 2324 y F4(\()p
FV(A)p F4(\),)i(de\014ned)i(to)f(equal)p Black Black
332 2403 a FG(2)p F4(\()p FG(2)p FP(enabled)d F0(h)s
FV(A)s F0(i)657 2409 y FJ(v)691 2403 y F0(\))g FG(3)p
F0(h)s FV(A)s F0(i)846 2409 y FJ(v)868 2403 y F4(\))p
Black -676 w(\(8.7\))p Black Black 208 2439 576 2 v 254
2466 a FK(4)271 2477 y Fs(2)p FZ(\()p FY(F)20 b FW(\))d
Fs(3)p FY(G)s FZ(\))d(equals)f FY(F)21 b Fs(;)16 b FY(G)s
FZ(,)f(so)g(w)o(e)h(could)d(write)i(this)g(form)o(ula)e(more)h
(compactly)e(with)j Fs(;)p FZ(.)208 2517 y(Ho)o(w)o(ev)o(er,)10
b(it's)h(more)g(con)o(v)o(enien)o(t)d(to)j(k)o(eep)g(it)g(in)g(the)g
(form)f Fs(2)p FZ(\()p FY(F)15 b FW(\))10 b Fs(3)p FY(G)s
FZ(\))p Black Black Black eop
%%Page: 98 116
98 115 bop Black 208 275 a F4(98)908 b FR(CHAPTER)14
b(8.)31 b(LIVENESS)15 b(AND)f(F)-5 b(AIRNESS)p 208 282
1770 2 v Black 208 391 a F4(This)9 b(form)o(ula)f(asserts)j(that,)f(if)
f FV(A)h F4(ev)o(er)h(b)q(ecomes)f(forev)o(er)g(enabled,)g(then)h(an)e
FV(A)h F4(step)h(m)o(ust)208 441 y(ev)o(en)o(tually)i(o)q(ccur.)19
b(WF)14 b(stands)g(for)g FV(W)8 b F4(eak)14 b FV(F)6
b F4(airness,)14 b(and)f(the)i(condition)e(WF)1520 447
y FJ(v)1541 441 y F4(\()p FV(A)p F4(\))h(is)208 491 y(called)i
FV(we)n(ak)h(fairness)g(on)j(A)p F4(.)26 b(W)m(e'll)15
b(so)q(on)i(see)g(that)g(our)g(liv)o(eness)g(conditions)f(for)g(the)208
541 y(clo)q(c)o(k)f(and)f(the)i(c)o(hannel)f(can)g(b)q(e)h(written)f
(as)g(WF)g(form)o(ulas.)k(But)d(\014rst,)f(let's)g(examine)208
591 y(\(8.7\))e(and)g(the)i(follo)o(wing)c(t)o(w)o(o)j(form)o(ulas,)d
(whic)o(h)j(turn)g(out)g(to)f(b)q(e)i(equiv)n(alen)o(t)e(to)h(it:)332
674 y FG(23)p F4(\()p F0(:)p FP(enabled)c F0(h)s FV(A)s
F0(i)686 680 y FJ(v)709 674 y F4(\))20 b F0(_)h FG(23)p
F0(h)s FV(A)s F0(i)927 680 y FJ(v)p Black 208 674 a F4(\(8.8\))p
Black 333 744 a FG(32)p F4(\()p FP(enabled)11 b F0(h)s
FV(A)s F0(i)660 750 y FJ(v)682 744 y F4(\))23 b F0(\))g
FG(23)p F0(h)s FV(A)s F0(i)919 750 y FJ(v)p Black 208
744 a F4(\(8.9\))p Black 208 827 a(These)15 b(three)g(form)o(ulas)d
(can)i(b)q(e)g(expressed)i(in)e(English)f(as)p Black
206 910 a(\(8.7\))p Black 19 w(It's)f(alw)o(a)o(ys)f(the)i(case)f
(that,)g(if)f FV(A)h F4(is)g(enabled)g(forev)o(er,)h(then)f(an)g
FV(A)g F4(step)g(ev)o(en)o(tually)311 960 y(o)q(ccurs.)p
Black 206 1043 a(\(8.8\))p Black 19 w FV(A)i F4(is)g(in\014nitely)f
(often)h(disabled,)f(or)h(in\014nitely)f(man)o(y)f FV(A)i
F4(steps)h(o)q(ccur.)p Black 206 1126 a(\(8.9\))p Black
19 w(If)f FV(A)g F4(is)f(ev)o(en)o(tually)h(enabled)g(forev)o(er,)g
(then)g(in\014nitely)f(man)o(y)f FV(A)i F4(steps)h(o)q(ccur.)208
1209 y(The)i(equiv)n(alence)g(of)f(these)i(three)g(form)o(ulas)d(isn't)
i(ob)o(vious.)26 b(T)m(rying)15 b(to)i(deduce)h(their)208
1258 y(equiv)n(alence)12 b(from)e(the)j(English)e(expressions)j(often)e
(leads)g(to)g(confusion.)17 b(The)12 b(b)q(est)i(w)o(a)o(y)208
1308 y(to)g(a)o(v)o(oid)e(confusion)i(is)g(to)g(use)h(mathematics.)h(W)
m(e)e(sho)o(w)g(that)g(the)h(three)h(form)o(ulas)11 b(are)208
1358 y(equiv)n(alen)o(t)f(b)o(y)g(pro)o(ving)g(that)h(\(8.7\))f(is)h
(equiv)n(alen)o(t)f(to)h(\(8.8\))f(and)h(that)g(\(8.8\))f(is)h(equiv)n
(alen)o(t)208 1408 y(to)i(\(8.9\).)k(Instead)d(of)f(pro)o(ving)g(that)g
(they)h(are)g(equiv)n(alen)o(t)f(for)g(an)g(individual)f(b)q(eha)o
(vior,)208 1458 y(w)o(e)e(can)g(use)h(tautologies)e(that)h(w)o(e'v)o(e)
h(already)e(seen)j(to)e(pro)o(v)o(e)g(their)g(equiv)n(alence)h
(directly)m(.)208 1508 y(Here's)16 b(a)f(pro)q(of)g(that)g(\(8.7\))f
(is)h(equiv)n(alen)o(t)g(to)g(\(8.8\).)21 b(Studying)14
b(it)h(will)f(help)h(y)o(ou)g(learn)208 1557 y(to)e(write)h(liv)o
(eness)h(conditions.)p Black Black 332 1640 a FG(2)p
F4(\()p FG(2)p FP(enabled)c F0(h)s FV(A)s F0(i)657 1646
y FJ(v)691 1640 y F0(\))g FG(3)p F0(h)s FV(A)s F0(i)846
1646 y FJ(v)868 1640 y F4(\))376 1698 y F0(\021)23 b
FG(2)p F4(\()p F0(:)p FG(2)p FP(enabled)11 b F0(h)s FV(A)s
F0(i)784 1704 y FJ(v)815 1698 y F0(_)e FG(3)p F0(h)s
FV(A)s F0(i)954 1704 y FJ(v)976 1698 y F4(\))p .95 TeXcolorgray
.95 TeXcolorgray 1040 1718 497 57 v .95 TeXcolorgray
Black 56 w FZ(Because)h(\()p FY(F)k FW(\))c FY(G)s FZ(\))f
FW(\021)h FZ(\()p FW(:)p FY(F)i FW(_)7 b FY(G)s FZ(\).)p
.95 TeXcolorgray Black 376 1755 a F0(\021)23 b FG(2)p
F4(\()p FG(3)p F0(:)p FP(enabled)11 b F0(h)s FV(A)s F0(i)786
1761 y FJ(v)817 1755 y F0(_)e FG(3)p F0(h)s FV(A)s F0(i)956
1761 y FJ(v)978 1755 y F4(\))p .95 TeXcolorgray .95 TeXcolorgray
1040 1775 363 57 v .95 TeXcolorgray Black 54 w FZ(Because)h
FW(:)p Fs(2)p FY(F)k FW(\021)c Fs(3)p FW(:)p FY(F)t FZ(.)p
.95 TeXcolorgray Black 376 1812 a F0(\021)23 b FG(23)p
F4(\()p F0(:)p FP(enabled)11 b F0(h)s FV(A)s F0(i)786
1818 y FJ(v)817 1812 y F0(_)e(h)s FV(A)s F0(i)923 1818
y FJ(v)945 1812 y F4(\))p .95 TeXcolorgray .95 TeXcolorgray
1040 1832 510 57 v .95 TeXcolorgray Black 87 w FZ(Because)h
Fs(3)p FY(F)i FW(_)7 b Fs(3)p FY(G)12 b FW(\021)e Fs(3)p
FZ(\()p FY(F)i FW(_)7 b FY(G)s FZ(\).)p .95 TeXcolorgray
Black 376 1870 a F0(\021)23 b FG(23)p F4(\()p F0(:)p
FP(enabled)11 b F0(h)s FV(A)s F0(i)786 1876 y FJ(v)808
1870 y F4(\))e F0(_)g FG(23)p F0(h)s FV(A)s F0(i)1003
1876 y FJ(v)p .95 TeXcolorgray .95 TeXcolorgray 1040
1890 586 57 v .95 TeXcolorgray Black 1048 1870 a FZ(Because)h
Fs(23)p FZ(\()p FY(F)i FW(_)7 b FY(G)s FZ(\))i FW(\021)h
Fs(23)p FY(F)i FW(_)c Fs(23)p FY(G)s FZ(.)p .95 TeXcolorgray
Black 208 1953 a F4(The)14 b(equiv)n(alence)g(of)f(\(8.8\))g(and)h
(\(8.9\))f(is)h(pro)o(v)o(ed)g(as)g(follo)o(ws:)p Black
Black 332 2036 a FG(23)p F4(\()p F0(:)p FP(enabled)c
F0(h)s FV(A)s F0(i)686 2042 y FJ(v)709 2036 y F4(\))f
F0(_)g FG(23)p F0(h)s FV(A)s F0(i)904 2042 y FJ(v)376
2093 y F0(\021)23 b(:)p FG(32)p F4(\()p FP(enabled)11
b F0(h)s FV(A)s F0(i)786 2099 y FJ(v)808 2093 y F4(\))e
F0(_)g FG(23)p F0(h)s FV(A)s F0(i)1003 2099 y FJ(v)p
.95 TeXcolorgray .95 TeXcolorgray 1040 2113 563 57 v
.95 TeXcolorgray Black 1048 2093 a FZ(Because)h Fs(23)p
FW(:)p FY(F)k FW(\021)c Fs(2)p FW(:)p Fs(2)p FY(F)k FW(\021)d(:)p
Fs(32)p FY(F)t FZ(.)p .95 TeXcolorgray Black 376 2151
a F0(\021)23 b FG(32)p F4(\()p FP(enabled)11 b F0(h)s
FV(A)s F0(i)758 2157 y FJ(v)780 2151 y F4(\))h F0(\))f
FG(23)p F0(h)s FV(A)s F0(i)994 2157 y FJ(v)p .95 TeXcolorgray
.95 TeXcolorgray 1040 2171 497 57 v .95 TeXcolorgray
Black 1048 2151 a FZ(Because)f(\()p FY(F)k FW(\))c FY(G)s
FZ(\))f FW(\021)h FZ(\()p FW(:)p FY(F)i FW(_)7 b FY(G)s
FZ(\).)p .95 TeXcolorgray Black 208 2232 a F4(W)m(e)16
b(no)o(w)h(sho)o(w)g(that)g(the)h(liv)o(eness)f(conditions)g(for)f(the)
i(hour)f(clo)q(c)o(k)g(and)g(the)h(c)o(hannel)208 2282
y(can)c(b)q(e)g(written)h(as)f(w)o(eak)f(fairness)i(conditions.)270
2331 y(First,)d(consider)h(the)f(hour)g(clo)q(c)o(k.)18
b(In)12 b(an)o(y)f(b)q(eha)o(vior)h(satisfying)f FV(HC)6
b F4(,)11 b(an)h F0(h)s FV(HCnxt)7 b F0(i)1608 2337 y
FJ(hr)208 2381 y F4(step)18 b(is)f(alw)o(a)o(ys)g(enabled,)h(so)g
FG(32)p F4(\()p FP(enabled)10 b F0(h)s FV(HCnxt)e F0(i)1121
2387 y FJ(hr)1159 2381 y F4(\))17 b(equals)h FP(tr)o(ue)p
F4(.)29 b(Therefore,)208 2431 y FV(HC)c F4(implies)17
b(that)i(WF)605 2437 y FJ(hr)642 2431 y F4(\()p FV(HCnxt)t
F4(\),)i(whic)o(h)e(equals)h(\(8.9\),)f(is)g(equiv)n(alen)o(t)g(to)g
(form)o(ula)208 2481 y FG(23)p F0(h)s FV(HCnxt)7 b F0(i)431
2487 y FJ(hr)469 2481 y F4(,)13 b(our)h(liv)o(eness)g(condition)g(for)f
(the)i(hour)f(clo)q(c)o(k.)p Black Black eop
%%Page: 99 117
99 116 bop Black 208 275 a FR(8.4.)30 b(WEAK)15 b(F)-5
b(AIRNESS)1279 b F4(99)p 208 282 1770 2 v Black 270 391
a(No)o(w,)14 b(consider)j(the)e(c)o(hannel.)22 b(I)15
b(claim)e(that)j(the)f(liv)o(eness)h(condition)e(\(8.6\))h(can)g(b)q(e)
208 441 y(replaced)e(b)o(y)g(WF)496 447 y FJ(chan)571
441 y F4(\()p FV(R)n(cv)t F4(\).)19 b(More)13 b(precisely)m(,)g
FV(Sp)n(e)n(c)i F4(implies)c(that)i(these)h(t)o(w)o(o)e(form)o(ulas)208
491 y(are)j(equiv)n(alen)o(t,)f(so)i(conjoining)d(either)j(of)f(them)f
(to)h FV(Sp)n(e)n(c)j F4(yields)d(equiv)n(alen)o(t)g(sp)q(eci\014ca-)
208 541 y(tions.)j(The)d(pro)q(of)f(rests)h(on)f(the)h(observ)n(ation)f
(that,)g(in)g(an)o(y)f(b)q(eha)o(vior)h(satisfying)g
FV(Sp)n(e)n(c)r F4(,)208 591 y(once)i FV(R)n(cv)k F4(b)q(ecomes)c
(enabled)g(\(b)q(ecause)h(a)e(v)n(alue)g(has)h(b)q(een)h(sen)o(t\),)f
(it)f(can)h(b)q(e)g(disabled)208 640 y(only)f(b)o(y)g(a)h
FV(R)n(cv)21 b F4(step)c(\(whic)o(h)f(receiv)o(es)h(the)g(v)n(alue\).)
23 b(In)16 b(other)h(w)o(ords,)f(it's)f(alw)o(a)o(ys)g(the)208
690 y(case)h(that)f(if)g FV(R)n(cv)20 b F4(is)15 b(enabled,)h(then)g
(it)f(is)g(enabled)h(forev)o(er)g(or)f(a)g FV(R)n(cv)20
b F4(step)c(ev)o(en)o(tually)208 740 y(o)q(ccurs.)j(Stated)14
b(formally)m(,)c(this)k(observ)n(ation)g(asserts)i(that)d
FV(Sp)n(e)n(c)k F4(implies)p Black Black 332 823 a FG(2)7
b F4(\()g FP(enabled)k F0(h)s FV(R)n(cv)e F0(i)681 829
y FJ(chan)779 823 y F0(\))22 b FG(2)p F4(\()p FP(enabled)11
b F0(h)s FV(R)n(cv)e F0(i)1178 829 y FJ(chan)1253 823
y F4(\))16 b F0(_)g FG(3)p F0(h)s FV(R)n(cv)9 b F0(i)1472
829 y FJ(chan)1553 823 y F4(\))p Black -1361 w(\(8.10\))p
Black 208 906 a(W)m(e)15 b(sho)o(w)h(that)g(w)o(e)h(can)f(tak)o(e)g(WF)
782 912 y FJ(chan)856 906 y F4(\()p FV(R)n(cv)t F4(\))i(as)e(our)g(liv)
o(eness)g(condition)g(b)o(y)g(sho)o(wing)208 956 y(that)d(\(8.10\))g
(implies)f(the)j(equiv)n(alence)f(of)f(\(8.6\))g(and)h(WF)1146
962 y FJ(chan)1221 956 y F4(\()p FV(R)n(cv)t F4(\).)270
1006 y(The)f(pro)q(of)f(is)g(b)o(y)h(purely)f(temp)q(oral)g(reasoning;)
g(w)o(e)h(need)g(no)g(other)g(facts)g(ab)q(out)f(the)208
1056 y(c)o(hannel)18 b(sp)q(eci\014cation.)32 b(Both)19
b(for)e(compactness)i(and)f(to)g(emphasize)g(the)h(generalit)o(y)208
1105 y(of)d(our)g(reasoning,)h(let's)g(replace)h FP(enabled)10
b F0(h)s FV(R)n(cv)f F0(i)1056 1111 y FJ(chan)1148 1105
y F4(b)o(y)16 b FV(E)22 b F4(and)17 b F0(h)s FV(R)n(cv)9
b F0(i)1452 1111 y FJ(chan)1543 1105 y F4(b)o(y)17 b
FV(A)p F4(.)208 1155 y(Using)c(v)o(ersion)h(\(8.7\))f(of)h(the)g
(de\014nition)g(of)f(WF,)g(w)o(e)h(m)o(ust)f(pro)o(v)o(e)p
Black Black 332 1238 a FG(2)p F4(\()p FV(E)k F0(\))11
b FG(2)p FV(E)j F0(_)9 b FG(3)p FV(A)p F4(\))35 b F0(\))f
F4(\()p FG(2)p F4(\()p FV(E)17 b F0(\))11 b FG(3)p FV(A)p
F4(\))23 b F0(\021)g FG(2)p F4(\()p FG(2)p FV(E)17 b
F0(\))11 b FG(3)p FV(A)p F4(\)\))p Black -1161 w(\(8.11\))p
Black 208 1321 a(So)16 b(far,)h(all)e(our)i(pro)q(ofs)g(ha)o(v)o(e)f(b)
q(een)i(b)o(y)f(calculation.)25 b(That)17 b(is,)f(w)o(e)h(ha)o(v)o(e)g
(pro)o(v)o(ed)g(that)208 1371 y(t)o(w)o(o)11 b(form)o(ulas)f(are)j
(equiv)n(alen)o(t,)e(or)i(that)f(a)g(form)o(ula)e(is)i(equiv)n(alen)o
(t)f(to)h FP(tr)o(ue)q F4(,)g(b)o(y)g(pro)o(ving)208
1421 y(a)19 b(c)o(hain)g(of)f(equiv)n(alences.)35 b(That's)20
b(a)f(go)q(o)q(d)g(w)o(a)o(y)f(to)h(pro)o(v)o(e)h(simple)e(things,)i
(but)f(it's)208 1471 y(usually)14 b(b)q(etter)j(to)d(tac)o(kle)i(a)e
(complicated)g(form)o(ula)f(lik)o(e)h(\(8.11\))g(b)o(y)h(splitting)f
(its)h(pro)q(of)208 1520 y(in)o(to)f(pieces.)25 b(W)m(e)15
b(ha)o(v)o(e)h(to)f(pro)o(v)o(e)h(that)g(one)f(form)o(ula)f(implies)f
(the)j(equiv)n(alence)g(of)f(t)o(w)o(o)208 1570 y(others.)28
b(The)18 b(equiv)n(alence)f(of)g(t)o(w)o(o)f(form)o(ulas)f(can)j(b)q(e)
g(pro)o(v)o(ed)f(b)o(y)g(sho)o(wing)f(that)h(eac)o(h)208
1620 y(implies)9 b(the)j(other.)18 b(More)12 b(generally)m(,)f(to)g
(pro)o(v)o(e)h(that)f FV(P)16 b F4(implies)10 b FV(Q)15
b F0(\021)d FV(R)r F4(,)f(w)o(e)h(pro)o(v)o(e)g(that)208
1670 y FV(P)h F0(^)8 b FV(Q)17 b F4(implies)12 b FV(R)j
F4(and)f(that)g FV(P)f F0(^)8 b FV(R)16 b F4(implies)11
b FV(Q)t F4(.)18 b(So,)13 b(w)o(e)h(pro)o(v)o(e)f(\(8.11\))g(b)o(y)g
(pro)o(ving)g(the)208 1720 y(t)o(w)o(o)g(form)o(ulas)p
Black Black 332 1803 a FG(2)p F4(\()p FV(E)k F0(\))11
b FG(2)p FV(E)j F0(_)9 b FG(3)p FV(A)p F4(\))16 b F0(^)g
FG(2)p F4(\()p FV(E)h F0(\))11 b FG(3)p FV(A)p F4(\))23
b F0(\))f FG(2)p F4(\()p FG(2)p FV(E)17 b F0(\))11 b
FG(3)p FV(A)p F4(\))p Black -1087 w(\(8.12\))p Black
Black Black 332 1877 a FG(2)p F4(\()p FV(E)17 b F0(\))11
b FG(2)p FV(E)j F0(_)9 b FG(3)p FV(A)p F4(\))16 b F0(^)g
FG(2)p F4(\()p FG(2)p FV(E)h F0(\))11 b FG(3)p FV(A)p
F4(\))23 b F0(\))f FG(2)p F4(\()p FV(E)17 b F0(\))11
b FG(3)p FV(A)p F4(\))p Black -1087 w(\(8.13\))p Black
208 1969 a(Both)17 b(\(8.12\))g(and)g(\(8.13\))f(ha)o(v)o(e)i(the)g
(form)d FG(2)p FV(F)i F0(^)12 b FG(2)p FV(G)21 b F0(\))c
FG(2)p FV(H)7 b F4(.)28 b(W)m(e)17 b(\014rst)h(sho)o(w)f(that,)208
2019 y(for)g(an)o(y)h(form)o(ulas)e FV(F)6 b F4(,)18
b FV(G)t F4(,)g(and)g FV(H)7 b F4(,)18 b(w)o(e)g(can)g(deduce)i
FG(2)p FV(F)e F0(^)11 b FG(2)p FV(G)22 b F0(\))c FG(2)p
FV(H)25 b F4(b)o(y)18 b(pro)o(ving)208 2068 y FV(F)12
b F0(^)7 b FV(G)14 b F0(\))d FV(H)c F4(.)17 b(W)m(e)c(do)f(this)g(b)o
(y)h(assuming)e FV(F)h F0(^)7 b FV(G)14 b F0(\))d FV(H)20
b F4(and)12 b(pro)o(ving)g FG(2)p FV(F)g F0(^)7 b FG(2)p
FV(G)14 b F0(\))d FG(2)p FV(H)208 2118 y F4(as)j(follo)o(ws:)p
Black 208 2186 a(1.)p Black 20 w FG(2)p F4(\()p FV(F)h
F0(^)9 b FV(G)t F4(\))i F0(\))g FG(2)p FV(H)p Black Black
261 2244 a FP(Pr)o(oof)p F4(:)i(By)g(the)g(assumption)f
FV(F)g F0(^)7 b FV(G)15 b F0(\))c FV(H)20 b F4(and)13
b(the)g(Implies)e(Generalization)h(Rule)261 2294 y(\(page)i(95\),)f
(substituting)h FV(F)h F0(^)8 b FV(G)18 b F4(for)c FV(F)19
b F4(and)14 b FV(H)20 b F4(for)14 b FV(G)j F4(in)d(the)g(rule.)p
Black 208 2352 a(2.)p Black 20 w FG(2)p FV(F)g F0(^)9
b FG(2)p FV(G)16 b F0(\))11 b FG(2)p FV(H)p Black Black
261 2410 a FP(Pr)o(oof)p F4(:)j(By)g(step)h(1)e(and)h(the)h(tautology)d
FG(2)p F4(\()p FV(F)j F0(^)9 b FV(G)t F4(\))j F0(\021)f
FG(2)p FV(F)k F0(^)9 b FG(2)p FV(G)t F4(.)p Black Black
eop
%%Page: 100 118
100 117 bop Black 208 275 a F4(100)887 b FR(CHAPTER)14
b(8.)31 b(LIVENESS)15 b(AND)f(F)-5 b(AIRNESS)p 208 282
1770 2 v Black 270 391 a F4(This)16 b(sho)o(ws)g(that)g(w)o(e)g(can)g
(deduce)h FG(2)p FV(F)g F0(^)10 b FG(2)p FV(G)19 b F0(\))14
b FG(2)p FV(H)23 b F4(b)o(y)15 b(pro)o(ving)g FV(F)h
F0(^)11 b FV(G)18 b F0(\))d FV(H)7 b F4(,)208 441 y(for)13
b(an)o(y)g FV(F)6 b F4(,)13 b FV(G)t F4(,)h(and)f FV(H)7
b F4(.)18 b(W)m(e)13 b(can)i(therefore)g(pro)o(v)o(e)f(\(8.12\))f(and)g
(\(8.13\))g(b)o(y)h(pro)o(ving)p Black Black 332 524
a(\()p FV(E)j F0(\))11 b FG(2)p FV(E)j F0(_)9 b FG(3)p
FV(A)p F4(\))16 b F0(^)g F4(\()p FV(E)h F0(\))11 b FG(3)p
FV(A)p F4(\))23 b F0(\))f F4(\()p FG(2)p FV(E)17 b F0(\))11
b FG(3)p FV(A)p F4(\))p Black -994 w(\(8.14\))p Black
Black Black 332 597 a(\()p FV(E)17 b F0(\))11 b FG(2)p
FV(E)j F0(_)9 b FG(3)p FV(A)p F4(\))16 b F0(^)g F4(\()p
FG(2)p FV(E)h F0(\))11 b FG(3)p FV(A)p F4(\))23 b F0(\))f
F4(\()p FV(E)17 b F0(\))11 b FG(3)p FV(A)p F4(\))p Black
-994 w(\(8.15\))p Black 208 687 a(The)16 b(pro)q(of)g(of)f(\(8.14\))h
(is)g(easy)m(.)24 b(In)16 b(fact,)h(w)o(e)f(don't)g(ev)o(en)g(need)i
(the)e(\014rst)h(conjunct;)h(w)o(e)208 737 y(can)c(pro)o(v)o(e)g(\()p
FV(E)i F0(\))11 b FG(3)p FV(A)p F4(\))h F0(\))f F4(\()p
FG(2)p FV(E)17 b F0(\))11 b FG(3)p FV(A)p F4(\))j(as)f(follo)o(ws:)p
Black Black 332 820 a(\()p FV(E)k F0(\))11 b FG(3)p FV(A)p
F4(\))374 881 y F0(\021)40 b F4(\()p FG(2)p FV(E)17 b
F0(\))11 b FV(E)5 b F4(\))10 b F0(^)f F4(\()p FV(E)17
b F0(\))11 b FG(3)p FV(A)p F4(\))p .95 TeXcolorgray .95
TeXcolorgray 895 901 668 57 v .95 TeXcolorgray Black
23 w FZ(Because)f Fs(2)p FY(E)k FW(\))c FY(E)15 b FZ(is)d(a)f(temp)q
(oral)e(tautology)m(.)p .95 TeXcolorgray Black 374 942
a F0(\))30 b F4(\()p FG(2)p FV(E)17 b F0(\))11 b FG(3)p
FV(A)p F4(\))p .95 TeXcolorgray .95 TeXcolorgray 895
963 812 57 v .95 TeXcolorgray Black 233 w FZ(By)g(the)g(tautology)d(\()
p FY(P)14 b FW(\))c FY(Q)s FZ(\))e FW(^)f FZ(\()p FY(Q)13
b FW(\))d FY(R)q FZ(\))f FW(\))i FZ(\()p FY(P)i FW(\))d
FY(R)q FZ(\).)p .95 TeXcolorgray Black 208 1025 a F4(The)16
b(pro)q(of)f(of)g(\(8.15\))g(uses)i(only)e(prop)q(ositional)g(logic.)22
b(W)m(e)16 b(deduce)h(\(8.15\))e(b)o(y)h(substi-)208
1075 y(tuting)g FV(E)22 b F4(for)17 b FV(P)t F4(,)h FG(2)p
FV(E)k F4(for)17 b FV(Q)t F4(,)g(and)g FG(3)p FV(A)g
F4(for)g FV(R)h F4(in)f(the)h(follo)o(wing)c(prop)q(ositional-logic)208
1125 y(tautology:)p Black Black 332 1207 a(\()p FV(P)i
F0(\))11 b FV(Q)i F0(_)c FV(R)r F4(\))16 b F0(^)g F4(\()p
FV(Q)f F0(\))d FV(R)r F4(\))23 b F0(\))f F4(\()p FV(P)16
b F0(\))11 b FV(R)r F4(\))208 1290 y(A)h(little)g(though)o(t)g(should)h
(mak)o(e)e(the)i(v)n(alidit)o(y)d(of)i(this)h(tautology)e(seem)h(ob)o
(vious.)17 b(If)12 b(not,)208 1339 y(y)o(ou)h(can)h(c)o(hec)o(k)h(it)e
(b)o(y)h(constructing)h(a)f(truth)g(table.)270 1389 y(These)24
b(pro)q(ofs)e(of)g(\(8.14\))g(and)g(\(8.15\))g(complete)g(the)h(pro)q
(of)f(that)h(w)o(e)g(can)g(tak)o(e)208 1439 y(WF)277
1445 y FJ(chan)352 1439 y F4(\()p FV(R)n(cv)t F4(\))15
b(instead)f(of)f(\(8.7\))h(as)g(our)f(liv)o(eness)i(condition)e(for)h
(the)g(c)o(hannel.)208 1597 y FN(8.5)81 b(The)27 b(Memory)f(Sp)r
(eci\014cation)208 1713 y F3(8.5.1)65 b(The)22 b(Liv)n(eness)h
(Requiremen)n(t)208 1804 y F4(Let's)13 b(no)o(w)g(strengthen)i(the)e
(sp)q(eci\014cation)h(of)f(the)h(linearizable)e(memory)f(of)h(Section)i
(5.3)208 1854 y(with)g(the)i(liv)o(eness)g(requiremen)o(t)f(that)g(ev)o
(ery)h(request)g(m)o(ust)e(receiv)o(e)j(a)e(resp)q(onse.)23
b(\(W)m(e)208 1904 y(don't)16 b(require)h(that)g(a)f(request)i(ev)o(er)
g(b)q(e)f(issued.\))27 b(The)17 b(liv)o(eness)g(requiremen)o(t)f(is)h
(con-)208 1953 y(joined)8 b(to)h(the)h(in)o(ternal)f(memory)e(sp)q
(eci\014cation,)j(form)o(ula)d FV(ISp)n(e)n(c)12 b F4(of)d(the)h
FV(InternalMemory)208 2003 y F4(mo)q(dule)i(\(Figure)i(5.2)f(on)h
(pages)g(52{53\).)270 2053 y(W)m(e)h(w)o(an)o(t)h(to)f(express)j(the)e
(liv)o(eness)h(requiremen)o(t)e(in)h(terms)f(of)h(w)o(eak)f(fairness.)
25 b(T)m(o)208 2103 y(do)16 b(this,)h(w)o(e)g(m)o(ust)f(understand)i
(when)f(actions)g(are)g(enabled.)27 b(The)18 b(action)e
FV(Rsp)s F4(\()p FV(p)s F4(\))h(is)208 2153 y(enabled)d(only)f(if)g
(the)h(action)p Black Black 332 2235 a FV(R)n(eply)t
F4(\()p FV(p)s FQ(;)f FV(buf)c F4([)p FV(p)s F4(])p FQ(;)k
FV(memInt)t FQ(;)g FV(memInt)949 2218 y FH(0)961 2235
y F4(\))p Black -769 w(\(8.16\))p Black 208 2317 a(is)h(enabled.)19
b(Recall)14 b(that)g(the)h(op)q(erator)g FV(R)n(eply)j
F4(is)c(a)g(constan)o(t)h(parameter,)e(declared)i(in)208
2367 y(the)g FV(MemoryInterfac)n(e)k F4(mo)q(dule)14
b(\(Figure)h(5.1)g(on)g(page)g(48\).)22 b(Without)15
b(kno)o(wing)f(more)208 2417 y(ab)q(out)f(this)h(op)q(erator,)g(w)o(e)g
(can't)g(sa)o(y)g(when)g(action)g(\(8.16\))f(is)g(enabled.)270
2467 y(Let's)k(assume)f(that)h FV(R)n(eply)j F4(actions)d(are)g(alw)o
(a)o(ys)f(enabled.)26 b(That)17 b(is,)g(for)f(an)o(y)g(pro-)208
2517 y(cessor)f FV(p)i F4(and)d(reply)h FV(r)t F4(,)e(and)h(an)o(y)g
(old)g(v)n(alue)f FV(miOld)18 b F4(of)c FV(memInt)t F4(,)f(there)j(is)e
(a)g(new)h(v)n(alue)p Black Black eop
%%Page: 101 119
101 118 bop Black 208 275 a FR(8.5.)30 b(THE)15 b(MEMOR)m(Y)e
(SPECIFICA)m(TION)967 b F4(101)p 208 282 1770 2 v Black
208 391 a FV(miNew)18 b F4(of)c FV(memInt)19 b F4(suc)o(h)c(that)g
FV(R)n(eply)t F4(\()p FV(p)s FQ(;)7 b FV(r)t FQ(;)g FV(miOld)t
FQ(;)g FV(miNew)t F4(\))13 b(is)h(true.)22 b(F)m(or)14
b(simplicit)o(y)m(,)208 441 y(w)o(e)d(just)g(assume)f(that)h(this)f(is)
h(true)h(for)e(all)g FV(p)j F4(and)e FV(r)t F4(,)g(and)f(add)h(the)g
(follo)o(wing)d(assumption)208 491 y(to)13 b(the)i FV(MemoryInterfac)n
(e)i F4(mo)q(dule:)p Black Black 332 574 a FP(assume)g
F0(8)7 b FV(p)s FQ(;)13 b FV(r)t FQ(;)g FV(miOld)22 b
F4(:)c F0(9)7 b FV(miNew)23 b F4(:)17 b FV(R)n(eply)t
F4(\()p FV(p)s FQ(;)d FV(r)t FQ(;)f FV(miOld)t FQ(;)g
FV(miNew)t F4(\))208 657 y(W)m(e)g(should)h(also)f(mak)o(e)f(a)i
(similar)d(assumption)i(for)g FV(Send)t F4(,)i(but)f(w)o(e)g(don't)g
(need)h(it)e(here.)270 707 y(W)m(e)h(will)f(subscript)i(our)g(w)o(eak)f
(fairness)h(form)o(ulas)d(with)i(the)h(tuple)f(of)g(all)f(v)n
(ariables,)208 757 y(so)h(let's)f(giv)o(e)h(that)g(tuple)g(a)f(name:)p
Black Black 332 844 a FV(vars)450 820 y FI(\001)445 844
y F4(=)35 b F0(h)s FV(memInt)t FQ(;)14 b FV(mem)s FQ(;)f
FV(ctl)t FQ(;)g FV(buf)g F0(i)270 927 y F4(When)d(pro)q(cessor)h
FV(p)h F4(issues)f(a)e(request,)j(it)d(enables)h(the)g
FV(Do)s F4(\()p FV(p)s F4(\))g(action,)f(whic)o(h)h(remains)208
977 y(enabled)j(un)o(til)g(a)g FV(Do)s F4(\()p FV(p)s
F4(\))h(step)g(o)q(ccurs.)19 b(The)14 b(w)o(eak)g(fairness)f(condition)
g(WF)1436 983 y FJ(vars)1502 977 y F4(\()p FV(Do)s F4(\()p
FV(p)s F4(\)\))208 1026 y(implies)g(that)j(this)f FV(Do)s
F4(\()p FV(p)s F4(\))h(step)h(m)o(ust)d(ev)o(en)o(tually)h(o)q(ccur.)24
b(A)16 b FV(Do)s F4(\()p FV(p)s F4(\))g(step)g(enables)g(the)208
1076 y FV(Rsp)s F4(\()p FV(p)s F4(\))i(action,)g(whic)o(h)g(remains)f
(enabled)h(un)o(til)f(a)h FV(Rsp)s F4(\()p FV(p)s F4(\))g(step)h(o)q
(ccurs.)32 b(The)18 b(w)o(eak)208 1126 y(fairness)10
b(condition)f(WF)601 1132 y FJ(vars)667 1126 y F4(\()p
FV(Rsp)s F4(\()p FV(p)s F4(\)\))i(implies)d(that)i(this)g
FV(Rsp)s F4(\()p FV(p)s F4(\))g(step,)h(whic)o(h)f(pro)q(duces)208
1176 y(the)k(desired)h(resp)q(onse,)g(m)o(ust)e(ev)o(en)o(tually)h(o)q
(ccur.)19 b(Hence,)c(the)f(requiremen)o(t)p Black Black
332 1259 a(WF)402 1265 y FJ(vars)468 1259 y F4(\()p FV(Do)s
F4(\()p FV(p)s F4(\)\))22 b F0(^)e F4(WF)751 1265 y FJ(vars)817
1259 y F4(\()p FV(Rsp)s F4(\()p FV(p)s F4(\)\))p Black
-768 w(\(8.17\))p Black 208 1342 a(assures)14 b(that)e(ev)o(ery)h
(request)h(issued)f(b)o(y)f(pro)q(cessor)j FV(p)g F4(m)o(ust)c(ev)o(en)
o(tually)h(receiv)o(e)i(a)e(reply)m(.)208 1392 y(W)m(e)17
b(w)o(an)o(t)g(this)g(condition)g(to)h(hold)f(for)g(ev)o(ery)h(pro)q
(cessor)i FV(p)s F4(,)d(so)h(w)o(e)g(can)g(tak)o(e,)g(as)f(the)208
1442 y(liv)o(eness)d(condition)f(for)h(the)g(memory)e(sp)q
(eci\014cation,)i(the)g(form)o(ula)p Black Black 332
1529 a FV(Liveness)528 1505 y FI(\001)523 1529 y F4(=)35
b F0(8)7 b FV(p)15 b F0(2)c FV(Pr)n(o)n(c)20 b F4(:)e(WF)897
1535 y FJ(vars)963 1529 y F4(\()p FV(Do)s F4(\()p FV(p)s
F4(\)\))f F0(^)f F4(WF)1237 1535 y FJ(vars)1303 1529
y F4(\()p FV(Rsp)s F4(\()p FV(p)s F4(\)\))p Black -1254
w(\(8.18\))p Black 208 1612 a(The)e(in)o(ternal)f(memory)f(sp)q
(eci\014cation)i(is)g(then)h FV(ISp)n(e)n(c)d F0(^)d
FV(Liveness)s F4(.)208 1749 y F3(8.5.2)65 b(Another)23
b(W)-6 b(a)n(y)23 b(to)g(W)-6 b(rite)24 b(It)208 1840
y F4(I)13 b(\014nd)h(a)g(single)f(fairness)h(condition)f(simpler)g
(than)h(the)g(conjunction)g(of)f(fairness)h(condi-)208
1890 y(tions.)j(Seeing)c(the)g(conjunction)g(of)f(the)h(t)o(w)o(o)f(w)o
(eak)g(fairness)h(form)o(ulas)e(in)h(the)h(de\014nition)208
1940 y(of)h FV(Liveness)k F4(leads)d(me)f(to)g(ask)h(if)f(it)g(can)h(b)
q(e)g(replaced)h(b)o(y)e(a)h(single)f(w)o(eak)h(fairness)g(con-)208
1989 y(dition)d(on)i FV(Do)s F4(\()p FV(p)s F4(\))9 b
F0(_)f FV(Rsp)s F4(\()p FV(p)s F4(\).)18 b(Suc)o(h)c(a)g(replacemen)o
(t)g(isn't)f(alw)o(a)o(ys)f(p)q(ossible;)i(in)f(general,)208
2039 y(the)g(form)o(ulas)d(WF)515 2045 y FJ(v)536 2039
y F4(\()p FV(A)p F4(\))c F0(^)g F4(WF)709 2045 y FJ(v)730
2039 y F4(\()p FV(B)t F4(\))13 b(and)g(WF)957 2045 y
FJ(v)978 2039 y F4(\()p FV(A)6 b F0(_)g FV(B)t F4(\))14
b(are)f(not)f(equiv)n(alen)o(t.)17 b(Ho)o(w)o(ev)o(er,)208
2089 y(in)c(this)h(case,)g(w)o(e)g(can)h(replace)f(the)h(t)o(w)o(o)e
(fairness)i(conditions)e(with)h(one.)k(If)13 b(w)o(e)i(de\014ne)p
Black Black 332 2176 a FV(Liveness2)546 2153 y FI(\001)541
2176 y F4(=)35 b F0(8)7 b FV(p)14 b F0(2)e FV(Pr)n(o)n(c)20
b F4(:)e(WF)915 2182 y FJ(vars)981 2176 y F4(\()p FV(Do)s
F4(\()p FV(p)s F4(\))10 b F0(_)f FV(Rsp)s F4(\()p FV(p)s
F4(\)\))p Black -1090 w(\(8.19\))p Black 208 2259 a(then)17
b FV(ISp)n(e)n(c)d F0(^)d FV(Liveness2)18 b F4(is)f(equiv)n(alen)o(t)f
(to)h FV(ISp)n(e)n(c)d F0(^)d FV(Liveness)s F4(.)28 b(As)18
b(w)o(e)f(will)e(see,)k(this)208 2309 y(equiv)n(alence)e(holds)f(b)q
(ecause)j(an)o(y)e(b)q(eha)o(vior)f(satisfying)g FV(ISp)n(e)n(c)k
F4(satis\014es)e(the)f(follo)o(wing)208 2359 y(t)o(w)o(o)c(prop)q
(erties:)p Black 270 2442 a(DR1.)p Black 19 w(Whenev)o(er)i
FV(Do)s F4(\()p FV(p)s F4(\))f(is)f(enabled,)h FV(Rsp)s
F4(\()p FV(p)s F4(\))f(can)h(nev)o(er)h(b)q(ecome)e(enabled)h(unless)
385 2492 y(a)g FV(Do)s F4(\()p FV(p)s F4(\))g(step)h(ev)o(en)o(tually)e
(o)q(ccurs.)p Black Black eop
%%Page: 102 120
102 119 bop Black 208 275 a F4(102)887 b FR(CHAPTER)14
b(8.)31 b(LIVENESS)15 b(AND)f(F)-5 b(AIRNESS)p 208 282
1770 2 v Black Black 270 391 a F4(DR2.)p Black 19 w(Whenev)o(er)15
b FV(Rsp)s F4(\()p FV(p)s F4(\))f(is)f(enabled,)h FV(Do)s
F4(\()p FV(p)s F4(\))f(can)h(nev)o(er)h(b)q(ecome)e(enabled)h(unless)
385 441 y(a)g FV(Rsp)s F4(\()p FV(p)s F4(\))g(step)h(ev)o(en)o(tually)e
(o)q(ccurs.)208 516 y(These)h(prop)q(erties)h(are)f(satis\014ed)g(b)q
(ecause)h(a)e(request)i(to)e FV(p)j F4(is)e(issued)g(b)o(y)f(a)g
FV(R)n(e)n(q)t F4(\()p FV(p)s F4(\))g(step,)208 565 y(executed)18
b(b)o(y)f(a)f FV(Do)s F4(\()p FV(p)s F4(\))h(step,)h(and)f(resp)q
(onded)h(to)f(b)o(y)g(a)f FV(Rsp)s F4(\()p FV(p)s F4(\))h(step;)i(and)e
(then,)g(the)208 615 y(next)e(request)h(to)e FV(p)j F4(can)e(b)q(e)g
(issued)g(b)o(y)g(a)f FV(R)n(e)n(q)t F4(\()p FV(p)s F4(\))g(step.)21
b(Eac)o(h)15 b(of)f(these)i(steps)g(b)q(ecomes)208 665
y(p)q(ossible)e(\(the)g(action)g(enabled\))g(only)f(after)h(the)h
(preceding)g(one)f(o)q(ccurs.)270 715 y(Let's)21 b(no)o(w)f(sho)o(w)g
(that)h(DR1)f(and)g(DR2)g(imply)e(that)i(the)h(conjunction)g(of)f(w)o
(eak)208 765 y(fairness)11 b(of)g FV(Do)s F4(\()p FV(p)s
F4(\))h(and)f(of)g FV(Rsp)s F4(\()p FV(p)s F4(\))h(is)f(equiv)n(alen)o
(t)g(to)g(w)o(eak)h(fairness)g(of)e FV(Do)s F4(\()p FV(p)s
F4(\))t F0(_)t FV(Rsp)s F4(\()p FV(p)s F4(\).)208 814
y(F)m(or)18 b(compactness,)j(and)e(to)g(emphasize)g(the)h(generalit)o
(y)f(of)g(what)g(w)o(e're)h(doing,)f(let's)208 864 y(replace)14
b FV(Do)s F4(\()p FV(p)s F4(\),)g FV(Rsp)s F4(\()p FV(p)s
F4(\),)g(and)f FV(vars)k F4(b)o(y)d FV(A)p F4(,)f FV(B)t
F4(,)h(and)g FV(v)t F4(,)g(resp)q(ectiv)o(ely)m(.)270
914 y(First,)g(w)o(e)g(m)o(ust)f(restate)j(DR1)d(and)h(DR2)f(as)h(temp)
q(oral)f(form)o(ulas.)j(The)e(basic)h(form)208 964 y(of)e(DR1)g(and)g
(DR2)g(is)p Black Black 332 1038 a(Whenev)o(er)i FV(F)20
b F4(is)13 b(true,)i FV(G)i F4(can)d(nev)o(er)h(b)q(e)g(true)f(unless)h
FV(H)20 b F4(is)14 b(ev)o(en)o(tually)g(true.)208 1113
y(This)g(is)h(expressed)i(in)d(temp)q(oral)f(logic)h(as)h
FG(2)p F4(\()p FV(F)j F0(\))13 b FG(2)p F0(:)p FV(G)g
F0(_)c FG(3)p FV(H)e F4(\).)20 b(\(The)15 b(assertion)h(\\)p
FV(P)208 1163 y F4(unless)c FV(Q)t F4(")f(just)g(means)g
FV(P)d F0(_)t FV(Q)t F4(.\))17 b(Adding)11 b(suitable)g(subscripts,)i
(w)o(e)f(can)g(therefore)h(write)208 1212 y(DR1)f(and)i(DR2)f(in)g
(temp)q(oral)g(logic)g(as)p Black Black 332 1291 a FV(DR1)454
1268 y FI(\001)450 1291 y F4(=)34 b FG(2)7 b F4(\()g
FP(enabled)k F0(h)s FV(A)s F0(i)824 1297 y FJ(v)869 1291
y F0(\))23 b FG(2)7 b F0(:)g FP(enabled)j F0(h)s FV(B)f
F0(i)1257 1297 y FJ(v)1294 1291 y F0(_)16 b FG(3)p F0(h)s
FV(A)s F0(i)1440 1297 y FJ(v)1469 1291 y F4(\))332 1359
y FV(DR2)454 1336 y FI(\001)450 1359 y F4(=)34 b FG(2)7
b F4(\()g FP(enabled)k F0(h)s FV(B)e F0(i)828 1365 y
FJ(v)867 1359 y F0(\))18 b FG(2)7 b F0(:)g FP(enabled)j
F0(h)s FV(A)s F0(i)1246 1365 y FJ(v)1285 1359 y F0(_)16
b FG(3)p F0(h)s FV(B)8 b F0(i)1434 1365 y FJ(v)1462 1359
y F4(\))208 1432 y(Our)14 b(goal)f(is)g(to)h(pro)o(v)o(e)p
Black Black 332 1506 a FV(DR1)j F0(^)f FV(DR2)24 b F0(\))e
F4(\()7 b(WF)738 1512 y FJ(v)759 1506 y F4(\()p FV(A)p
F4(\))j F0(^)e F4(WF)938 1512 y FJ(v)959 1506 y F4(\()p
FV(B)t F4(\))19 b F0(\021)g F4(WF)1164 1512 y FJ(v)1185
1506 y F4(\()p FV(A)9 b F0(_)g FV(B)t F4(\))e(\))p Black
-1142 w(\(8.20\))p Black 208 1581 a(This)14 b(is)g(complicated,)f(so)i
(w)o(e)g(split)f(the)h(pro)q(of)f(in)o(to)g(pieces.)21
b(As)15 b(in)g(the)g(pro)q(of)f(of)g(\(8.11\))208 1631
y(in)g(Section)i(8.4)e(ab)q(o)o(v)o(e,)g(w)o(e)h(pro)o(v)o(e)g(an)g
(equiv)n(alence)g(b)o(y)g(pro)o(ving)f(t)o(w)o(o)h(implications.)k(T)m
(o)208 1680 y(pro)o(v)o(e)14 b(\(8.20\),)e(w)o(e)i(pro)o(v)o(e)g(the)h
(t)o(w)o(o)e(theorems)p Black Black 332 1755 a FV(DR1)k
F0(^)f FV(DR2)h F0(^)f F4(WF)687 1761 y FJ(v)708 1755
y F4(\()p FV(A)p F4(\))h F0(^)f F4(WF)901 1761 y FJ(v)922
1755 y F4(\()p FV(B)t F4(\))24 b F0(\))f F4(WF)1146 1761
y FJ(v)1167 1755 y F4(\()p FV(A)9 b F0(_)g FV(B)t F4(\))332
1816 y FV(DR1)17 b F0(^)f FV(DR2)h F0(^)f F4(WF)687 1822
y FJ(v)708 1816 y F4(\()p FV(A)10 b F0(_)f FV(B)t F4(\))23
b F0(\))g F4(WF)1009 1822 y FJ(v)1030 1816 y F4(\()p
FV(A)p F4(\))9 b F0(^)g F4(WF)1209 1822 y FJ(v)1230 1816
y F4(\()p FV(B)t F4(\))208 1889 y(W)m(e)15 b(pro)o(v)o(e)h(them)f(b)o
(y)h(sho)o(wing)f(that)h(they)g(are)g(true)h(for)f(an)f(arbitrary)h(b)q
(eha)o(vior)g FQ(\033)q F4(.)24 b(In)208 1939 y(other)14
b(w)o(ords,)g(w)o(e)g(pro)o(v)o(e)p Black Black 332 2013
a(\()p FQ(\033)f F0(j)-7 b F4(=)11 b FV(DR1)17 b F0(^)f
FV(DR2)h F0(^)f F4(WF)789 2019 y FJ(v)810 2013 y F4(\()p
FV(A)p F4(\))g F0(^)g F4(WF)1003 2019 y FJ(v)1024 2013
y F4(\()p FV(B)t F4(\)\))24 b F0(\))e F4(\()p FQ(\033)13
b F0(j)-7 b F4(=)12 b(WF)1364 2019 y FJ(v)1385 2013 y
F4(\()p FV(A)e F0(_)e FV(B)t F4(\)\))p Black -1335 w(\(8.21\))p
Black Black Black 332 2069 a(\()p FQ(\033)13 b F0(j)-7
b F4(=)11 b FV(DR1)17 b F0(^)f FV(DR2)h F0(^)f F4(WF)789
2075 y FJ(v)810 2069 y F4(\()p FV(A)9 b F0(_)g FV(B)t
F4(\)\))24 b F0(\))e F4(\()p FQ(\033)13 b F0(j)-7 b F4(=)12
b(WF)1227 2075 y FJ(v)1248 2069 y F4(\()p FV(A)p F4(\))e
F0(^)f F4(WF)1427 2075 y FJ(v)1448 2069 y F4(\()p FV(B)t
F4(\)\))p Black -1321 w(\(8.22\))p Black 208 2149 a(These)15
b(form)o(ulas)c(seem)j(daun)o(ting.)j(Whenev)o(er)e(y)o(ou)e(ha)o(v)o
(e)h(trouble)g(pro)o(ving)f(something,)208 2199 y(try)h(a)g(pro)q(of)g
(b)o(y)g(con)o(tradiction;)g(it)g(giv)o(es)g(y)o(ou)g(an)g(extra)g(h)o
(yp)q(othesis)h(for)f(free|namely)m(,)208 2249 y(the)h(negation)g(of)g
(what)g(y)o(ou're)g(trying)g(to)g(pro)o(v)o(e.)22 b(Pro)q(ofs)16
b(b)o(y)f(con)o(tradiction)g(are)h(esp)q(e-)208 2299
y(cially)d(useful)h(in)g(temp)q(oral)g(logic.)19 b(T)m(o)13
b(pro)o(v)o(e)i(\(8.21\))e(and)i(\(8.22\))e(b)o(y)i(con)o(tradiction,)f
(w)o(e)208 2348 y(need)g(to)f(compute)g F0(:)p F4(\()p
FQ(\033)g F0(j)-7 b F4(=)11 b(WF)721 2354 y FJ(v)742
2348 y F4(\()p FV(C)6 b F4(\)\))14 b(for)f(an)g(action)g
FV(C)6 b F4(.)18 b(F)m(rom)12 b(the)i(de\014nition)f(\(8.7\))f(of)208
2398 y(WF)o(,)i(w)o(e)g(easily)f(get)p Black Black 332
2473 a(\()p FQ(\033)g F0(j)-7 b F4(=)11 b(WF)503 2479
y FJ(v)524 2473 y F4(\()p FV(C)6 b F4(\)\))23 b F0(\021)415
2522 y(8)7 b FV(n)15 b F0(2)c FV(Nat)23 b F4(:)18 b(\()p
FQ(\033)682 2507 y FS(+)p FJ(n)743 2522 y F0(j)-7 b F4(=)11
b FG(2)c FP(enabled)k F0(h)s FV(C)f F0(i)1082 2528 y
FJ(v)1103 2522 y F4(\))18 b F0(\))g F4(\()p FQ(\033)1238
2507 y FS(+)p FJ(n)1300 2522 y F0(j)-7 b F4(=)11 b FG(3)p
F0(h)s FV(C)f F0(i)1456 2528 y FJ(v)1477 2522 y F4(\))p
Black 208 2473 a(\(8.23\))p Black Black Black eop
%%Page: 103 121
103 120 bop Black 208 275 a FR(8.5.)30 b(THE)15 b(MEMOR)m(Y)e
(SPECIFICA)m(TION)967 b F4(103)p 208 282 1770 2 v Black
208 391 a(This)13 b(and)h(the)h(tautology)p Black Black
332 474 a F0(:)p F4(\()p F0(8)7 b FV(x)17 b F0(2)11 b
FV(S)24 b F4(:)18 b FV(P)e F0(\))11 b FV(Q)t F4(\))23
b F0(\021)g F4(\()p F0(9)7 b FV(x)17 b F0(2)11 b FV(S)24
b F4(:)18 b FV(P)13 b F0(^)c(:)p FV(Q)t F4(\))208 557
y(of)k(predicate)i(logic)e(yields)p Black Black 332 640
a F0(:)p F4(\()p FQ(\033)g F0(j)-7 b F4(=)11 b(WF)531
646 y FJ(v)552 640 y F4(\()p FV(C)6 b F4(\)\))35 b F0(\021)415
698 y(9)7 b FV(n)15 b F0(2)c FV(Nat)23 b F4(:)18 b(\()p
FQ(\033)682 683 y FS(+)p FJ(n)743 698 y F0(j)-7 b F4(=)11
b FG(2)c FP(enabled)k F0(h)s FV(C)f F0(i)1082 704 y FJ(v)1103
698 y F4(\))16 b F0(^)g(:)p F4(\()p FQ(\033)1248 683
y FS(+)p FJ(n)1309 698 y F0(j)-7 b F4(=)11 b FG(3)p F0(h)s
FV(C)f F0(i)1465 704 y FJ(v)1486 698 y F4(\))p Black
208 640 a(\(8.24\))p Black 208 779 a(W)m(e)j(also)h(need)h(t)o(w)o(o)f
(further)h(results,)g(b)q(oth)g(of)e(whic)o(h)h(are)h(deriv)o(ed)g
(from)d(the)j(tautology)208 829 y F0(h)s FV(A)t F0(_)t
FV(B)7 b F0(i)346 835 y FJ(v)378 829 y F0(\021)12 b(h)s
FV(A)s F0(i)491 835 y FJ(v)517 829 y F0(_)t(h)s FV(B)c
F0(i)621 835 y FJ(v)642 829 y F4(.)17 b(Com)o(bining)8
b(this)j(tautology)f(with)h(the)g(temp)q(oral)f(tautology)208
878 y FG(3)p F4(\()p FV(F)k F0(_)9 b FV(G)t F4(\))j F0(\021)g
FG(3)p FV(F)i F0(_)9 b FG(3)p FV(G)18 b F4(yields)p Black
Black 332 961 a FG(3)p F0(h)s FV(A)10 b F0(_)f FV(B)e
F0(i)514 967 y FJ(v)559 961 y F0(\021)23 b FG(3)p F0(h)s
FV(A)s F0(i)716 967 y FJ(v)747 961 y F0(_)9 b FG(3)p
F0(h)s FV(B)g F0(i)890 967 y FJ(v)p Black 208 961 a F4(\(8.25\))p
Black 208 1044 a(Com)o(bining)i(the)j(tautology)f(with)g(the)i(observ)n
(ation)f(that)g(an)f(action)h FV(C)h F0(_)9 b FV(D)18
b F4(is)c(enabled)208 1094 y(i\013)f(action)h FV(C)19
b F4(or)14 b(action)g FV(D)k F4(is)13 b(enabled)i(yields)p
Black Black 332 1177 a FP(enabled)c F0(h)s FV(A)e F0(_)g
FV(B)f F0(i)659 1183 y FJ(v)704 1177 y F0(\021)23 b FP(enabled)11
b F0(h)s FV(A)s F0(i)1006 1183 y FJ(v)1037 1177 y F0(_)e
FP(enabled)i F0(h)s FV(B)d F0(i)1324 1183 y FJ(v)p Black
208 1177 a F4(\(8.26\))p Black 208 1260 a(W)m(e)j(can)i(no)o(w)f(pro)o
(v)o(e)g(\(8.21\))f(and)h(\(8.22\).)17 b(T)m(o)11 b(pro)o(v)o(e)i
(\(8.21\),)e(w)o(e)h(assume)g(that)g FQ(\033)i F4(satis\014es)208
1310 y FV(DR1)p F4(,)j FV(DR2)q F4(,)g(WF)501 1316 y
FJ(v)522 1310 y F4(\()p FV(A)p F4(\),)g(and)g(WF)768
1316 y FJ(v)789 1310 y F4(\()p FV(B)t F4(\),)g(but)g(it)g(do)q(es)g
(not)g(satisfy)g(WF)1382 1316 y FJ(v)1403 1310 y F4(\()p
FV(A)12 b F0(_)e FV(B)t F4(\),)18 b(and)208 1360 y(w)o(e)f(obtain)f(a)h
(con)o(tradiction.)27 b(By)17 b(\(8.24\),)g(the)g(assumption)f(that)h
FQ(\033)h F4(do)q(es)g(not)f(satisfy)208 1410 y(WF)277
1416 y FJ(v)298 1410 y F4(\()p FV(A)10 b F0(_)e FV(B)t
F4(\))15 b(means)e(that)h(there)h(exists)g(some)e(n)o(um)o(b)q(er)g
FV(n)k F4(suc)o(h)e(that)p Black Black 332 1493 a FQ(\033)357
1476 y FS(+)p FJ(n)418 1493 y F0(j)-7 b F4(=)12 b FG(2)7
b FP(enabled)j F0(h)s FV(A)g F0(_)f FV(B)f F0(i)832 1499
y FJ(v)p Black 208 1493 a F4(\(8.27\))p Black Black Black
332 1568 a F0(:)p F4(\()p FQ(\033)401 1550 y FS(+)p FJ(n)462
1568 y F0(j)-7 b F4(=)11 b FG(3)p F0(h)s FV(A)f F0(_)f
FV(B)f F0(i)693 1574 y FJ(v)714 1568 y F4(\))p Black
-522 w(\(8.28\))p Black 208 1659 a(W)m(e)13 b(obtain)g(a)h(con)o
(tradiction)f(from)g(\(8.27\))f(and)i(\(8.28\))f(as)h(follo)o(ws:)p
Black 208 1727 a(1.)p Black 20 w F0(:)p F4(\()p FQ(\033)330
1711 y FS(+)p FJ(n)390 1727 y F0(j)-7 b F4(=)12 b FG(3)p
F0(h)s FV(A)s F0(i)541 1733 y FJ(v)563 1727 y F4(\))21
b F0(^)f(:)p F4(\()p FQ(\033)717 1711 y FS(+)p FJ(n)778
1727 y F0(j)-7 b F4(=)11 b FG(3)p F0(h)s FV(B)e F0(i)932
1733 y FJ(v)953 1727 y F4(\))p Black Black 261 1785 a
FP(Pr)o(oof)p F4(:)14 b(By)g(\(8.28\))f(and)h(\(8.25\),)e(using)i(the)g
(tautology)f F0(:)p F4(\()p FV(P)g F0(_)c FV(Q)t F4(\))j
F0(\021)f F4(\()p F0(:)p FV(P)j F0(^)9 b(:)p FV(Q)t F4(\).)p
Black 208 1855 a(2.)p Black 20 w(\(a\))16 b(\()p FQ(\033)371
1840 y FS(+)p FJ(n)432 1855 y F0(j)-7 b F4(=)12 b FP(enabled)e
F0(h)s FV(A)s F0(i)727 1861 y FJ(v)749 1855 y F4(\))26
b F0(\))d F4(\()p FQ(\033)897 1840 y FS(+)p FJ(n)958
1855 y F0(j)-7 b F4(=)11 b FG(2)c F0(:)p FP(enabled)k
F0(h)s FV(B)d F0(i)1322 1861 y FJ(v)1343 1855 y F4(\))261
1905 y(\(b\))14 b(\()p FQ(\033)371 1890 y FS(+)p FJ(n)432
1905 y F0(j)-7 b F4(=)11 b FP(enabled)g F0(h)s FV(B)e
F0(i)731 1911 y FJ(v)752 1905 y F4(\))23 b F0(\))g F4(\()p
FQ(\033)897 1890 y FS(+)p FJ(n)958 1905 y F0(j)-7 b F4(=)11
b FG(2)c F0(:)g FP(enabled)j F0(h)s FV(A)s F0(i)1325
1911 y FJ(v)1348 1905 y F4(\))p Black Black 261 1963
a FP(Pr)o(oof)p F4(:)k(By)g(de\014nition)f(of)h FV(DR1)q
F4(,)f(the)h(assumption)f FQ(\033)g F0(j)-7 b F4(=)11
b FV(DR1)k F4(implies)344 2025 y(\()p FQ(\033)385 2010
y FS(+)p FJ(n)446 2025 y F0(j)-7 b F4(=)11 b FP(enabled)g
F0(h)s FV(A)s F0(i)741 2031 y FJ(v)763 2025 y F4(\))23
b F0(\))427 2083 y F4(\()p FQ(\033)468 2068 y FS(+)p
FJ(n)529 2083 y F0(j)-7 b F4(=)11 b FG(2)c F0(:)g FP(enabled)j
F0(h)s FV(B)f F0(i)900 2089 y FJ(v)921 2083 y F4(\))16
b F0(_)g F4(\()p FQ(\033)1038 2068 y FS(+)p FJ(n)1099
2083 y F0(j)-7 b F4(=)12 b FG(3)p F0(h)s FV(A)s F0(i)1250
2089 y FJ(v)1272 2083 y F4(\))261 2157 y(and)h(part)h(\(a\))g(then)h
(follo)o(ws)d(from)g(1.)18 b(The)c(pro)q(of)g(of)f(\(b\))h(is)g
(similar.)p Black 208 2228 a(3.)p Black 20 w(\(a)r(\))g(\()p
FQ(\033)371 2212 y FS(+)p FJ(n)432 2228 y F0(j)-7 b F4(=)12
b FP(enabled)e F0(h)s FV(A)s F0(i)727 2234 y FJ(v)749
2228 y F4(\))26 b F0(\))d F4(\()p FQ(\033)897 2212 y
FS(+)p FJ(n)958 2228 y F0(j)-7 b F4(=)11 b FG(2)c FP(enabled)k
F0(h)s FV(A)s F0(i)1291 2234 y FJ(v)1313 2228 y F4(\))261
2277 y(\(b\))j(\()p FQ(\033)371 2262 y FS(+)p FJ(n)432
2277 y F0(j)-7 b F4(=)11 b FP(enabled)g F0(h)s FV(B)e
F0(i)731 2283 y FJ(v)752 2277 y F4(\))23 b F0(\))g F4(\()p
FQ(\033)897 2262 y FS(+)p FJ(n)958 2277 y F0(j)-7 b F4(=)11
b FG(2)c FP(enabled)k F0(h)s FV(B)d F0(i)1294 2283 y
FJ(v)1316 2277 y F4(\))p Black Black 261 2335 a FP(Pr)o(oof)p
F4(:)j(P)o(art)h(\(a\))f(follo)o(ws)e(from)h(2\(a\),)h(\(8.27\),)f
(\(8.26\),)g(and)h(the)h(temp)q(oral)e(tautology)344
2398 y FG(2)p F4(\()p FV(F)15 b F0(_)9 b FV(G)t F4(\))16
b F0(^)f FG(2)p F0(:)p FV(G)27 b F0(\))22 b FG(2)p FV(F)261
2460 y F4(The)14 b(pro)q(of)f(of)h(part)g(\(b\))g(is)g(similar.)p
Black Black eop
%%Page: 104 122
104 121 bop Black 208 275 a F4(104)887 b FR(CHAPTER)14
b(8.)31 b(LIVENESS)15 b(AND)f(F)-5 b(AIRNESS)p 208 282
1770 2 v Black Black 208 391 a F4(4.)p Black 20 w(\(a)r(\))14
b(\()p FQ(\033)371 376 y FS(+)p FJ(n)432 391 y F0(j)-7
b F4(=)12 b FP(enabled)e F0(h)s FV(A)s F0(i)727 397 y
FJ(v)749 391 y F4(\))26 b F0(\))d F4(\()p FQ(\033)897
376 y FS(+)p FJ(n)958 391 y F0(j)-7 b F4(=)11 b FG(3)p
F0(h)s FV(A)s F0(i)1108 397 y FJ(v)1130 391 y F4(\))261
441 y(\(b\))j(\()p FQ(\033)371 426 y FS(+)p FJ(n)432
441 y F0(j)-7 b F4(=)11 b FP(enabled)g F0(h)s FV(B)e
F0(i)731 447 y FJ(v)752 441 y F4(\))23 b F0(\))g F4(\()p
FQ(\033)897 426 y FS(+)p FJ(n)958 441 y F0(j)-7 b F4(=)11
b FG(3)p F0(h)s FV(B)e F0(i)1112 447 y FJ(v)1133 441
y F4(\))p Black Black 261 512 a FP(Pr)o(oof)p F4(:)14
b(The)g(assumption)f FQ(\033)f F0(j)-7 b F4(=)12 b(WF)876
518 y FJ(v)897 512 y F4(\()p FV(A)p F4(\))i(and)f(\(8.23\))g(imply)344
574 y(\()p FQ(\033)385 559 y FS(+)p FJ(n)446 574 y F0(j)-7
b F4(=)11 b FG(2)p FP(enabled)g F0(h)s FV(A)s F0(i)772
580 y FJ(v)794 574 y F4(\))23 b F0(\))g F4(\()p FQ(\033)939
559 y FS(+)p FJ(n)1000 574 y F0(j)-7 b F4(=)11 b FG(3)p
F0(h)s FV(A)s F0(i)1150 580 y FJ(v)1172 574 y F4(\))261
636 y(P)o(art)j(\(a\))g(follo)o(ws)e(from)g(this)i(and)g(3\(a\).)j(The)
e(pro)q(of)e(of)h(part)g(\(b\))g(is)g(similar.)p Black
208 707 a(5.)p Black 20 w(\()p FQ(\033)302 692 y FS(+)p
FJ(n)363 707 y F0(j)-7 b F4(=)11 b FG(3)p F0(h)s FV(A)s
F0(i)513 713 y FJ(v)535 707 y F4(\))21 b F0(_)f F4(\()p
FQ(\033)661 692 y FS(+)p FJ(n)723 707 y F0(j)-7 b F4(=)11
b FG(3)p F0(h)s FV(B)d F0(i)876 713 y FJ(v)898 707 y
F4(\))p Black Black 261 765 a FP(Pr)o(oof)p F4(:)14 b(Since)g
FG(2)p FV(F)20 b F4(implies)12 b FV(F)6 b F4(,)13 b(for)g(an)o(y)h
FV(F)6 b F4(,)13 b(\(8.27\))f(and)i(\(8.26\))f(imply)344
827 y(\()p FQ(\033)385 812 y FS(+)p FJ(n)446 827 y F0(j)-7
b F4(=)11 b FP(enabled)g F0(h)s FV(A)s F0(i)741 833 y
FJ(v)763 827 y F4(\))16 b F0(_)g F4(\()p FQ(\033)880
812 y FS(+)p FJ(n)941 827 y F0(j)-7 b F4(=)12 b FP(enabled)e
F0(h)s FV(B)f F0(i)1240 833 y FJ(v)1261 827 y F4(\))261
889 y(Step)14 b(5)g(then)g(follo)o(ws)f(b)o(y)g(prop)q(ositional)g
(logic)g(from)f(step)j(4.)208 957 y(Steps)f(1)g(and)g(5)f(pro)o(vide)h
(the)h(required)f(con)o(tradiction.)270 1007 y(W)m(e)9
b(can)h(pro)o(v)o(e)g(\(8.22\))f(b)o(y)g(assuming)f(that)i
FQ(\033)h F4(satis\014es)f FV(DR1)q F4(,)g FV(DR2)q F4(,)g(and)g(WF)
1487 1013 y FJ(v)1508 1007 y F4(\()p FV(A)q F0(_)q FV(B)t
F4(\),)208 1057 y(and)j(then)i(pro)o(ving)e(that)h(it)g(satis\014es)h
(WF)888 1063 y FJ(v)909 1057 y F4(\()p FV(A)p F4(\))f(and)f(WF)1136
1063 y FJ(v)1157 1057 y F4(\()p FV(B)t F4(\).)19 b(W)m(e)14
b(pro)o(v)o(e)g(only)f(that)h(it)208 1107 y(satis\014es)c(WF)426
1113 y FJ(v)447 1107 y F4(\()p FV(A)p F4(\);)h(the)f(pro)q(of)g(for)f
(WF)834 1113 y FJ(v)855 1107 y F4(\()p FV(B)t F4(\))h(is)g(similar.)k
(The)c(pro)q(of)f(is)h(b)o(y)g(con)o(tradiction;)208
1156 y(w)o(e)f(assume)g(that)g FQ(\033)i F4(do)q(es)f(not)f(satisfy)g
(WF)876 1162 y FJ(v)897 1156 y F4(\()p FV(A)p F4(\))h(and)f(obtain)f(a)
h(con)o(tradiction.)17 b(By)9 b(\(8.24\),)208 1206 y(the)16
b(assumption)f(that)h FQ(\033)h F4(do)q(es)g(not)f(satisfy)g(WF)1009
1212 y FJ(v)1030 1206 y F4(\()p FV(A)p F4(\))g(means)g(that)g(there)h
(exists)g(some)208 1256 y(n)o(um)o(b)q(er)c FV(n)k F4(suc)o(h)e(that)p
Black Black 332 1339 a FQ(\033)357 1322 y FS(+)p FJ(n)418
1339 y F0(j)-7 b F4(=)12 b FG(2)7 b FP(enabled)j F0(h)s
FV(A)s F0(i)751 1345 y FJ(v)p Black 208 1339 a F4(\(8.29\))p
Black Black Black 332 1414 a F0(:)d F4(\()p FQ(\033)408
1397 y FS(+)p FJ(n)469 1414 y F0(j)-7 b F4(=)11 b FG(3)p
F0(h)s FV(A)s F0(i)619 1420 y FJ(v)641 1414 y F4(\))p
Black -449 w(\(8.30\))p Black 208 1505 a(W)m(e)i(obtain)g(the)i(con)o
(tradiction)e(as)h(follo)o(ws:)p Black 208 1573 a(1.)p
Black 20 w FQ(\033)286 1558 y FS(+)p FJ(n)347 1573 y
F0(j)-7 b F4(=)11 b FG(3)p F0(h)s FV(A)f F0(_)f FV(B)e
F0(i)577 1579 y FJ(v)p Black Black 261 1631 a FP(Pr)o(oof)p
F4(:)14 b(F)m(rom)e(\(8.29\))h(and)g(\(8.26\))g(w)o(e)h(deduce)h
FQ(\033)1069 1616 y FS(+)p FJ(n)1130 1631 y F0(j)-7 b
F4(=)12 b FG(2)7 b FP(enabled)j F0(h)s FV(A)g F0(_)f
FV(B)e F0(i)1543 1637 y FJ(v)1565 1631 y F4(.)18 b(By)261
1681 y(the)13 b(assumption)e FQ(\033)h F0(j)-7 b F4(=)12
b(WF)704 1687 y FJ(v)725 1681 y F4(\()p FV(A)6 b F0(_)g
FV(B)t F4(\))13 b(and)f(\(8.23\),)f(this)i(implies)d
FQ(\033)1327 1666 y FS(+)p FJ(n)1388 1681 y F0(j)-7 b
F4(=)12 b FG(3)p F0(h)s FV(A)6 b F0(_)g FV(B)i F0(i)1613
1687 y FJ(v)1634 1681 y F4(.)p Black 208 1751 a(2.)p
Black 20 w FQ(\033)286 1736 y FS(+)p FJ(n)347 1751 y
F0(j)-7 b F4(=)11 b FG(2)c F0(:)g FP(enabled)j F0(h)s
FV(B)f F0(i)718 1757 y FJ(v)p Black Black 261 1809 a
FP(Pr)o(oof)p F4(:)i(F)m(rom)f(\(8.29\))g(w)o(e)h(deduce)i
FQ(\033)856 1794 y FS(+)p FJ(n)917 1809 y F0(j)-7 b F4(=)12
b FP(enabled)e F0(h)s FV(A)s F0(i)1212 1815 y FJ(v)1235
1809 y F4(,)h(whic)o(h)g(b)o(y)g(the)h(assump-)261 1859
y(tion)h FQ(\033)g F0(j)-7 b F4(=)11 b FV(DR1)k F4(and)e(the)i
(de\014nition)e(of)h FV(DR1)g F4(implies)357 1921 y(\()p
FQ(\033)398 1906 y FS(+)p FJ(n)460 1921 y F0(j)-7 b F4(=)11
b FG(2)c F0(:)g FP(enabled)j F0(h)s FV(B)f F0(i)831 1927
y FJ(v)852 1921 y F4(\))16 b F0(_)g F4(\()p FQ(\033)969
1906 y FS(+)p FJ(n)1030 1921 y F0(j)-7 b F4(=)12 b FG(3)p
F0(h)s FV(A)s F0(i)1181 1927 y FJ(v)1203 1921 y F4(\))261
1984 y(The)i(assumption)e(\(8.30\))h(then)i(implies)d
FQ(\033)946 1969 y FS(+)p FJ(n)1007 1984 y F0(j)-7 b
F4(=)11 b FG(2)c F0(:)g FP(enabled)k F0(h)s FV(B)d F0(i)1378
1990 y FJ(v)1399 1984 y F4(.)p Black 208 2054 a(3.)p
Black 20 w F0(:)f F4(\()p FQ(\033)337 2039 y FS(+)p FJ(n)397
2054 y F0(j)-7 b F4(=)12 b FG(3)p F0(h)s FV(B)c F0(i)551
2060 y FJ(v)572 2054 y F4(\))p Black Black 261 2112 a
FP(Pr)o(oof)p F4(:)14 b(The)h(de\014nition)f(of)f FP(enabled)25
b F4(implies)13 b F0(:)7 b FP(enabled)j F0(h)s FV(B)e
F0(i)1352 2118 y FJ(v)1386 2112 y F0(\))j(:)c(h)s FV(B)h
F0(i)1546 2118 y FJ(v)1568 2112 y F4(.)19 b(\(A)261 2162
y F0(h)s FV(B)8 b F0(i)333 2168 y FJ(v)371 2162 y F4(step)18
b(can)f(o)q(ccur)h(only)e(when)h(it)f(is)h(enabled.\))27
b(F)m(rom)15 b(this,)i(simple)e(temp)q(oral)261 2212
y(reasoning)e(implies)344 2274 y(\()p FQ(\033)385 2259
y FS(+)p FJ(n)446 2274 y F0(j)-7 b F4(=)11 b FG(2)c F0(:)g
FP(enabled)j F0(h)s FV(B)f F0(i)817 2280 y FJ(v)838 2274
y F4(\))19 b F0(\))f(:)7 b F4(\()p FQ(\033)1009 2259
y FS(+)p FJ(n)1069 2274 y F0(j)-7 b F4(=)12 b FG(3)p
F0(h)s FV(B)c F0(i)1223 2280 y FJ(v)1244 2274 y F4(\))261
2337 y(\(A)22 b(formal)e(pro)q(of)h(uses)j(the)f(Implies)d
(Generalization)i(Rule)f(and)h(the)h(tautology)261 2386
y FG(2)p F0(:)p FV(F)16 b F0(\021)c(:)p FG(3)p FV(F)6
b F4(.\))18 b(W)m(e)13 b(then)i(deduce)g F0(:)7 b F4(\()p
FQ(\033)927 2371 y FS(+)p FJ(n)988 2386 y F0(j)-7 b F4(=)11
b FG(3)p F0(h)s FV(B)e F0(i)1142 2392 y FJ(v)1163 2386
y F4(\))14 b(from)e(2.)p Black 208 2445 a(4.)p Black
20 w F0(:)7 b F4(\()p FQ(\033)337 2429 y FS(+)p FJ(n)397
2445 y F0(j)-7 b F4(=)12 b FG(3)p F0(h)s FV(A)d F0(_)g
FV(B)f F0(i)628 2451 y FJ(v)649 2445 y F4(\))p Black
Black 261 2503 a FP(Pr)o(oof)p F4(:)14 b(By)g(\(8.30\),)e(3,)h(and)h
(\(8.25\),)e(using)i(the)g(tautology)f F0(:)p FV(P)g
F0(^)c(:)p FV(Q)15 b F0(\021)c(:)p F4(\()p FV(P)j F0(_)9
b FV(Q)t F4(\).)p Black Black eop
%%Page: 105 123
105 122 bop Black 208 275 a FR(8.5.)30 b(THE)15 b(MEMOR)m(Y)e
(SPECIFICA)m(TION)967 b F4(105)p 208 282 1770 2 v Black
208 391 a(Steps)15 b(1)f(and)g(4)f(pro)o(vide)h(the)h(necessary)h(con)o
(tradiction.)j(This)14 b(completes)g(our)g(pro)q(of)f(of)208
441 y(\(8.22\),)f(whic)o(h)i(completes)f(our)h(pro)q(of)g(of)f
(\(8.20\).)208 576 y F3(8.5.3)65 b(A)22 b(Generalization)208
667 y F4(F)m(orm)o(ula)15 b(\(8.20\))j(pro)o(vides)g(a)g(rule)h(for)f
(replacing)g(the)h(conjunction)f(of)g(w)o(eak)g(fairness)208
717 y(requiremen)o(ts)f(on)h(t)o(w)o(o)e(actions)i(with)f(w)o(eak)g
(fairness)h(of)f(their)h(disjunction.)28 b(W)m(e)17 b(no)o(w)208
766 y(generalize)e(it)f(from)f(t)o(w)o(o)h(actions)h
FV(A)g F4(and)f FV(B)19 b F4(to)c FV(n)j F4(actions)d
FV(A)1203 772 y FS(1)1221 766 y F4(,)g(.)6 b(.)h(.)f(,)15
b FV(A)1361 772 y FJ(n)1384 766 y F4(.)21 b(The)15 b(general-)208
816 y(ization)e(of)g FV(DR1)i F4(and)e FV(DR2)i F4(is)p
Black Black 332 887 a FV(DR)r F4(\()p FV(i)t FQ(;)7 b
FV(j)f F4(\))521 863 y FI(\001)516 887 y F4(=)35 b FG(2)7
b F4(\()g FP(enabled)k F0(h)s FV(A)872 893 y FJ(i)891
887 y F0(i)907 893 y FJ(v)951 887 y F0(\))23 b FG(2)7
b F0(:)g FP(enabled)j F0(h)s FV(A)1316 893 y FJ(j)1337
887 y F0(i)1353 893 y FJ(v)1390 887 y F0(_)16 b FG(3)p
F0(h)s FV(A)1517 893 y FJ(i)1536 887 y F0(i)1552 893
y FJ(v)1580 887 y F4(\))208 958 y(If)e(w)o(e)h(substitute)h
FV(A)538 964 y FS(1)571 958 y F4(for)f FV(A)g F4(and)f
FV(A)794 964 y FS(2)827 958 y F4(for)h FV(B)t F4(,)g(then)g
FV(DR1)h F4(b)q(ecomes)f FV(DR)r F4(\(1)p FQ(;)7 b F4(2\))14
b(and)h FV(DR2)208 1007 y F4(b)q(ecomes)f FV(DR)r F4(\(2)p
FQ(;)7 b F4(1\).)17 b(The)d(generalization)g(of)f(\(8.20\))g(is)p
Black Black 332 1078 a(\()p F0(8)7 b FV(i)t FQ(;)g FV(j)17
b F0(2)11 b F4(1)j FQ(:)7 b(:)12 b FV(n)22 b F4(:)c(\()p
FV(i)e F0(6)p F4(=)c FV(j)6 b F4(\))11 b F0(\))g FV(DR)r
F4(\()p FV(i)t FQ(;)c FV(j)f F4(\)\))35 b F0(\))415 1140
y F4(\(WF)501 1146 y FJ(v)522 1140 y F4(\()p FV(A)569
1146 y FS(1)588 1140 y F4(\))9 b F0(^)g FQ(:)e(:)g(:)h
F0(^)g F4(WF)814 1146 y FJ(v)835 1140 y F4(\()p FV(A)882
1146 y FJ(n)906 1140 y F4(\))23 b F0(\021)h F4(WF)1070
1146 y FJ(v)1091 1140 y F4(\()p FV(A)1138 1146 y FS(1)1166
1140 y F0(_)9 b FQ(:)e(:)g(:)h F0(_)h FV(A)1329 1146
y FJ(n)1352 1140 y F4(\)\))p Black 208 1078 a(\(8.31\))p
Black 208 1208 a(T)m(o)16 b(decide)i(if)f(y)o(ou)f(can)i(replace)g(the)
g(conjunction)f(of)f(w)o(eak)i(fairness)f(conditions)g(b)o(y)g(a)208
1258 y(single)12 b(one)i(in)e(a)h(sp)q(eci\014cation,)h(y)o(ou)e(will)g
(probably)g(\014nd)h(it)g(easier)h(to)f(use)h(the)f(follo)o(wing)208
1308 y(informal)e(statemen)o(t)i(of)h(\(8.31\):)p Black
Black 332 1379 a FU(WF)k(Conjunction)d(Rule)29 b F4(If)15
b FV(A)905 1385 y FS(1)924 1379 y F4(,)g(.)7 b(.)f(.)h(,)15
b FV(A)1065 1385 y FJ(n)1104 1379 y F4(are)h(actions)f(suc)o(h)i(that,)
e(for)g(an)o(y)332 1429 y(distinct)j FV(i)j F4(and)c
FV(j)6 b F4(,)17 b(whenev)o(er)i F0(h)s FV(A)888 1435
y FJ(i)907 1429 y F0(i)923 1435 y FJ(v)961 1429 y F4(is)e(enabled,)h
F0(h)s FV(A)1224 1435 y FJ(j)1245 1429 y F0(i)1261 1435
y FJ(v)1299 1429 y F4(cannot)g(b)q(ecome)f(en-)332 1478
y(abled)j(unless)g(an)f F0(h)s FV(A)690 1484 y FJ(i)710
1478 y F0(i)726 1484 y FJ(v)766 1478 y F4(step)i(o)q(ccurs,)h(then)e
(WF)1177 1484 y FJ(v)1198 1478 y F4(\()p FV(A)1245 1484
y FS(1)1264 1478 y F4(\))9 b F0(^)g FQ(:)e(:)g(:)h F0(^)h
F4(WF)1490 1484 y FJ(v)1511 1478 y F4(\()p FV(A)1558
1484 y FJ(n)1582 1478 y F4(\))20 b(is)332 1528 y(equiv)n(alen)o(t)13
b(to)h(WF)650 1534 y FJ(v)671 1528 y F4(\()p FV(A)718
1534 y FS(1)746 1528 y F0(_)9 b FQ(:)e(:)g(:)g F0(_)i
FV(A)908 1534 y FJ(n)932 1528 y F4(\).)208 1599 y(P)o(erhaps)14
b(the)h(b)q(est)g(w)o(a)o(y)e(to)h(think)f(of)h(this)g(rule)g(is)f(as)h
(an)g(assertion)h(ab)q(out)e(an)h(arbitrary)208 1649
y(individual)h(b)q(eha)o(vior)j FQ(\033)q F4(.)29 b(Its)18
b(h)o(yp)q(othesis)h(is)e(then)i(that)e FQ(\033)i F0(j)-7
b F4(=)18 b FV(DR)r F4(\()p FV(i)t FQ(;)7 b FV(j)f F4(\))17
b(holds)h(for)f(all)208 1699 y(distinct)d FV(i)j F4(and)d
FV(j)6 b F4(;)13 b(its)h(conclusion)g(is)p Black Black
332 1769 a FQ(\033)f F0(j)-7 b F4(=)11 b(\(WF)503 1775
y FJ(v)524 1769 y F4(\()p FV(A)571 1775 y FS(1)590 1769
y F4(\))e F0(^)g FQ(:)e(:)g(:)h F0(^)h F4(WF)816 1775
y FJ(v)837 1769 y F4(\()p FV(A)884 1775 y FJ(n)908 1769
y F4(\))23 b F0(\021)h F4(WF)1073 1775 y FJ(v)1094 1769
y F4(\()p FV(A)1141 1775 y FS(1)1168 1769 y F0(_)9 b
FQ(:)e(:)g(:)h F0(_)h FV(A)1331 1775 y FJ(n)1355 1769
y F4(\)\))208 1840 y(T)m(o)g(replace)i(WF)472 1846 y
FJ(v)493 1840 y F4(\()p FV(A)540 1846 y FS(1)559 1840
y F4(\))e F0(^)g FQ(:)e(:)g(:)h F0(^)h F4(WF)785 1846
y FJ(v)806 1840 y F4(\()p FV(A)853 1846 y FJ(n)877 1840
y F4(\))i(b)o(y)f(WF)1027 1846 y FJ(v)1048 1840 y F4(\()p
FV(A)1095 1846 y FS(1)1123 1840 y F0(_)f FQ(:)e(:)g(:)h
F0(_)h FV(A)1286 1846 y FJ(n)1309 1840 y F4(\))i(in)f(a)g(sp)q
(eci\014cation,)208 1890 y(y)o(ou)g(ha)o(v)o(e)g(to)g(c)o(hec)o(k)i
(that)f(an)o(y)f(b)q(eha)o(vior)g(satisfying)f(the)j(safet)o(y)e(part)h
(of)f(the)h(sp)q(eci\014cation)208 1940 y(also)i(satis\014es)i
FV(DR)r F4(\()p FV(i)t FQ(;)7 b FV(j)f F4(\),)13 b(for)g(all)g
(distinct)h FV(i)k F4(and)c FV(j)6 b F4(.)270 1990 y(Conjunction)13
b(and)h(disjunction)f(are)i(sp)q(ecial)f(cases)h(of)e(quan)o
(ti\014cation:)p Black Black 332 2060 a FV(F)365 2066
y FS(1)393 2060 y F0(_)8 b FQ(:)f(:)g(:)h F0(_)h FV(F)557
2066 y FJ(n)603 2060 y F0(\021)24 b(9)7 b FV(i)15 b F0(2)d
F4(1)h FQ(:)7 b(:)13 b FV(n)22 b F4(:)c FV(F)943 2066
y FJ(i)332 2118 y FV(F)365 2124 y FS(1)393 2118 y F0(^)8
b FQ(:)f(:)g(:)h F0(^)h FV(F)557 2124 y FJ(n)603 2118
y F0(\021)24 b(8)7 b FV(i)15 b F0(2)d F4(1)h FQ(:)7 b(:)13
b FV(n)22 b F4(:)c FV(F)943 2124 y FJ(i)208 2186 y F4(W)m(e)10
b(can)g(therefore)j(easily)d(restate)i(the)f(WF)f(Conjunction)g(Rule)g
(as)h(a)f(condition)g(on)g(when)208 2236 y F0(8)d FV(i)15
b F0(2)c FV(S)j F4(:)7 b(WF)431 2242 y FJ(v)452 2236
y F4(\()p FV(A)499 2242 y FJ(i)514 2236 y F4(\))15 b(and)f(WF)696
2242 y FJ(v)717 2236 y F4(\()p F0(9)7 b FV(i)16 b F0(2)11
b FV(S)i F4(:)8 b FV(A)918 2242 y FJ(i)933 2236 y F4(\))15
b(are)f(equiv)n(alen)o(t,)g(for)g(a)g(\014nite)h(set)g
FV(S)5 b F4(.)20 b(The)208 2286 y(resulting)14 b(rule)g(is)f(actually)g
(v)n(alid)g(for)g(an)o(y)h(set)g FV(S)5 b F4(:)p Black
Black 332 2357 a FU(WF)20 b(Quan)o(ti\014er)15 b(Rule)32
b F4(If,)17 b(for)f(all)g FV(i)k F0(2)c FV(S)5 b F4(,)17
b(the)g FV(A)1214 2363 y FJ(i)1246 2357 y F4(are)g(actions)g(suc)o(h)g
(that,)332 2407 y(for)e(an)o(y)h(distinct)f FV(i)20 b
F4(and)15 b FV(j)22 b F4(in)15 b FV(S)5 b F4(,)16 b(whenev)o(er)h
F0(h)s FV(A)1119 2413 y FJ(i)1138 2407 y F0(i)1154 2413
y FJ(v)1191 2407 y F4(is)e(enabled,)h F0(h)s FV(A)1450
2413 y FJ(j)1471 2407 y F0(i)1487 2413 y FJ(v)1524 2407
y F4(cannot)332 2456 y(b)q(ecome)h(enabled)g(unless)g(an)f
F0(h)s FV(A)874 2462 y FJ(i)894 2456 y F0(i)910 2462
y FJ(v)947 2456 y F4(step)i(o)q(ccurs,)g(then)g F0(8)7
b FV(i)15 b F0(2)c FV(S)j F4(:)7 b(WF)1502 2462 y FJ(v)1523
2456 y F4(\()p FV(A)1570 2462 y FJ(i)1585 2456 y F4(\))17
b(is)332 2506 y(equiv)n(alen)o(t)c(to)h(WF)650 2512 y
FJ(v)671 2506 y F4(\()p F0(9)7 b FV(i)15 b F0(2)d FV(S)h
F4(:)8 b FV(A)872 2512 y FJ(i)887 2506 y F4(\).)p Black
Black eop
%%Page: 106 124
106 123 bop Black 208 275 a F4(106)887 b FR(CHAPTER)14
b(8.)31 b(LIVENESS)15 b(AND)f(F)-5 b(AIRNESS)p 208 282
1770 2 v Black 208 400 a FN(8.6)81 b(Strong)28 b(F)-7
b(airness)208 491 y F4(W)m(e)13 b(de\014ne)h(SF)448 497
y FJ(v)469 491 y F4(\()p FV(A)p F4(\),)f FV(str)n(ong)h(fairness)j
F4(of)c(action)g FV(A)p F4(,)f(to)i(b)q(e)g(either)g(of)f(the)h(follo)o
(wing)c(t)o(w)o(o)208 540 y(equiv)n(alen)o(t)j(form)o(ulas:)332
613 y FG(32)p F4(\()p F0(:)7 b FP(enabled)j F0(h)s FV(A)s
F0(i)693 619 y FJ(v)716 613 y F4(\))16 b F0(_)g FG(23)p
F0(h)s FV(A)s F0(i)925 619 y FJ(v)p Black 208 613 a F4(\(8.32\))p
Black 335 683 a FG(23)p FP(enabled)10 b F0(h)s FV(A)s
F0(i)645 689 y FJ(v)686 683 y F0(\))18 b FG(23)p F0(h)s
FV(A)s F0(i)879 689 y FJ(v)p Black 208 683 a F4(\(8.33\))p
Black 208 756 a(In)o(tuitiv)o(ely)m(,)11 b(these)16 b(t)o(w)o(o)d(form)
o(ulas)f(assert)332 828 y FV(A)i F4(is)g(ev)o(en)o(tually)f(disabled)h
(forev)o(er,)f(or)h(in\014nitely)f(man)o(y)f FV(A)i F4(steps)h(o)q
(ccur.)p Black -1315 w(\(8.32\))p Black 334 898 a(If)e
FV(A)h F4(is)g(in\014nitely)f(often)h(enabled,)g(then)g(in\014nitely)f
(man)o(y)f FV(A)i F4(steps)h(o)q(ccur.)p Black -1336
w(\(8.33\))p Black 208 971 a(The)c(pro)q(of)f(that)h(\(8.32\))e(and)i
(\(8.33\))f(are)h(equiv)n(alen)o(t)f(is)g(similar)f(to)h(the)h(pro)q
(of)g(on)f(page)21 b(98)208 1021 y(that)13 b(the)i(t)o(w)o(o)e(form)o
(ulations)f(\(8)p FQ(:)p F4(8\))h(and)g(\(8)p FQ(:)p
F4(9\))h(of)f(WF)1084 1027 y FJ(v)1105 1021 y F4(\()p
FV(A)p F4(\))h(are)g(equiv)n(alen)o(t.)270 1070 y(De\014nition)g
(\(8.32\))h(of)f(SF)684 1076 y FJ(v)705 1070 y F4(\()p
FV(A)p F4(\))i(is)f(obtained)g(from)e(de\014nition)i(\(8.8\))f(of)h(WF)
1503 1076 y FJ(v)1524 1070 y F4(\()p FV(A)p F4(\))g(b)o(y)208
1120 y(replacing)d FG(23)p F4(\()p F0(:)7 b FP(enabled)j
F0(h)s FV(A)s F0(i)745 1126 y FJ(v)767 1120 y F4(\))j(with)g
FG(32)p F4(\()p F0(:)7 b FP(enabled)j F0(h)s FV(A)s F0(i)1251
1126 y FJ(v)1273 1120 y F4(\).)18 b(Since)13 b FG(32)p
FV(F)18 b F4(\(ev)o(en-)208 1170 y(tually)f(alw)o(a)o(ys)g
FV(F)6 b F4(\))18 b(is)h(stronger)g(than)f(\(implies\))f
FG(23)p FV(F)24 b F4(\(in\014nitely)18 b(often)g FV(F)6
b F4(\))18 b(for)g(an)o(y)208 1220 y(form)o(ula)11 b
FV(F)6 b F4(,)13 b(strong)h(fairness)g(is)g(stronger)h(than)f(w)o(eak)f
(fairness.)19 b(W)m(e)13 b(can)h(express)i(w)o(eak)208
1270 y(and)d(strong)h(fairness)h(as)f(follo)o(ws:)p Black
270 1342 a F0(\017)p Black 20 w F4(W)m(eak)i(fairness)i(of)e
FV(A)g F4(asserts)j(that)e(an)f FV(A)h F4(step)h(m)o(ust)d(ev)o(en)o
(tually)i(o)q(ccur)g(if)f FV(A)h F4(is)311 1392 y FV(c)n(ontinuously)i
F4(enabled.)p Black 270 1470 a F0(\017)p Black 20 w F4(Strong)d
(fairness)g(of)e FV(A)h F4(asserts)j(that)d(an)g FV(A)g
F4(step)i(m)o(ust)d(ev)o(en)o(tually)h(o)q(ccur)h(if)f
FV(A)g F4(is)311 1520 y FV(c)n(ontinual)r(ly)32 b F4(enabled.)208
1592 y FV(Continuously)19 b F4(means)14 b(without)h(in)o(terruption.)22
b FV(Continual)r(ly)d F4(means)14 b(rep)q(eatedly)m(,)i(p)q(os-)208
1642 y(sibly)d(with)g(in)o(terruptions.)270 1692 y(Strong)i(fairness)g
(need)h(not)f(b)q(e)h(strictly)f(stronger)h(than)f(w)o(eak)g(fairness.)
22 b(W)m(eak)14 b(and)208 1741 y(strong)d(fairness)g(of)f(an)g(action)h
FV(A)f F4(are)i(equiv)n(alen)o(t)e(i\013)g FV(A)h F4(in\014nitely)f
(often)g(disabled)h(implies)208 1791 y(that)f(either)h
FV(A)g F4(ev)o(en)o(tually)f(b)q(ecomes)h(forev)o(er)g(disabled,)f(or)h
(else)g(in\014nitely)f(man)o(y)e FV(A)j F4(steps)208
1841 y(o)q(ccur.)19 b(This)13 b(is)h(expressed)i(formally)11
b(b)o(y)j(the)g(tautology)p Black Black 332 1914 a(\(WF)418
1920 y FJ(v)439 1914 y F4(\()p FV(A)p F4(\))19 b F0(\021)f
F4(SF)622 1920 y FJ(v)643 1914 y F4(\()p FV(A)p F4(\)\))34
b F0(\021)415 1975 y F4(\()7 b FG(23)p F4(\()p F0(:)g
FP(enabled)k F0(h)s FV(A)s F0(i)800 1981 y FJ(v)822 1975
y F4(\))18 b F0(\))g FG(32)p F4(\()p F0(:)7 b FP(enabled)j
F0(h)s FV(A)s F0(i)1277 1981 y FJ(v)1300 1975 y F4(\))16
b F0(_)g FG(23)p F0(h)s FV(A)s F0(i)1509 1981 y FJ(v)1538
1975 y F4(\))208 2046 y(In)d(the)g(c)o(hannel)h(example,)d(w)o(eak)i
(and)g(strong)g(fairness)h(of)e FV(R)n(cv)18 b F4(are)c(equiv)n(alen)o
(t)e(b)q(ecause)208 2095 y FV(Sp)n(e)n(c)i F4(implies)c(that,)h(once)i
(enabled,)f FV(R)n(cv)k F4(can)c(b)q(e)g(disabled)g(only)e(b)o(y)i(a)f
FV(R)n(cv)17 b F4(step.)h(Hence,)208 2145 y(if)h FV(R)n(cv)24
b F4(is)c(disabled)f(in\014nitely)g(often,)i(then)g(it)e(either)i(ev)o
(en)o(tually)e(remains)g(disabled)208 2195 y(forev)o(er,)14
b(or)f(else)i(it)f(is)f(disabled)h(in\014nitely)f(often)h(b)o(y)g
FV(R)n(cv)k F4(steps.)270 2245 y(The)g(analogs)e(of)g(the)i(WF)f
(Conjunction)g(and)g(WF)g(Quan)o(ti\014er)h(Rules)f(\(page)h(105\))208
2295 y(hold)13 b(for)g(strong)i(fairness|for)e(example:)p
Black Black 332 2367 a FU(SF)19 b(Conjunction)e(Rule)32
b F4(If)17 b FV(A)891 2373 y FS(1)910 2367 y F4(,)g(.)6
b(.)h(.)f(,)18 b FV(A)1055 2373 y FJ(n)1096 2367 y F4(are)f(actions)g
(suc)o(h)h(that,)g(for)e(an)o(y)332 2417 y(distinct)j
FV(i)j F4(and)c FV(j)6 b F4(,)19 b(whenev)o(er)h(action)e
FV(A)1004 2423 y FJ(i)1038 2417 y F4(is)g(enabled,)i(action)e
FV(A)1414 2423 y FJ(j)1449 2417 y F4(cannot)g(b)q(e-)332
2467 y(come)e(enabled)h(un)o(til)e(an)h FV(A)787 2473
y FJ(i)819 2467 y F4(step)i(o)q(ccurs,)g(then)f(SF)1200
2473 y FJ(v)1221 2467 y F4(\()p FV(A)1268 2473 y FS(1)1287
2467 y F4(\))9 b F0(^)g FQ(:)e(:)g(:)h F0(^)g F4(SF)1494
2473 y FJ(v)1515 2467 y F4(\()p FV(A)1562 2473 y FJ(n)1585
2467 y F4(\))17 b(is)332 2517 y(equiv)n(alen)o(t)c(to)h(SF)630
2523 y FJ(v)651 2517 y F4(\()p FV(A)698 2523 y FS(1)726
2517 y F0(_)9 b FQ(:)e(:)g(:)h F0(_)g FV(A)888 2523 y
FJ(n)912 2517 y F4(\).)p Black Black eop
%%Page: 107 125
107 124 bop Black 208 275 a FR(8.7.)30 b(THE)15 b(WRITE-THR)o(OUGH)d
(CA)o(CHE)967 b F4(107)p 208 282 1770 2 v Black 270 391
a(Strong)12 b(fairness)h(can)f(b)q(e)h(more)e(di\016cult)g(to)h
(implemen)o(t)e(than)i(w)o(eak)g(fairness,)g(and)g(it)208
441 y(is)i(a)h(less)h(common)c(requiremen)o(t.)21 b(A)15
b(strong)h(fairness)f(condition)f(should)h(b)q(e)h(used)g(in)e(a)208
491 y(sp)q(eci\014cation)f(only)f(if)g(it)h(is)g(needed.)19
b(When)13 b(strong)g(and)g(w)o(eak)f(fairness)i(are)f(equiv)n(alen)o
(t,)208 541 y(the)h(fairness)g(prop)q(ert)o(y)h(should)f(b)q(e)g
(written)h(as)f(w)o(eak)f(fairness.)270 591 y(Liv)o(eness)18
b(prop)q(erties)g(can)g(b)q(e)g(subtle.)28 b(Expressing)18
b(them)e(with)h FV(ad)h(ho)n(c)i F4(temp)q(oral)208 640
y(form)o(ulas)11 b(can)j(lead)g(to)f(errors.)20 b(W)m(e)13
b(will)f(sp)q(ecify)j(liv)o(eness)f(as)g(the)g(conjunction)g(of)f(w)o
(eak)208 690 y(and/or)18 b(strong)h(fairness)h(prop)q(erties)g(whenev)o
(er)g(p)q(ossible|and)f(it)f(almost)f(alw)o(a)o(ys)h(is)208
740 y(p)q(ossible.)f(Ha)o(ving)10 b(a)g(uniform)f(w)o(a)o(y)h(of)h
(expressing)h(liv)o(eness)f(mak)o(es)f(sp)q(eci\014cations)i(easier)208
790 y(to)k(understand.)29 b(Section)18 b(8.9.2)d(b)q(elo)o(w)i
(discusses)i(an)e(ev)o(en)g(more)f(comp)q(elling)f(reason)208
840 y(for)e(using)h(fairness)g(to)g(sp)q(ecify)g(liv)o(eness.)208
998 y FN(8.7)81 b(The)27 b(W)-7 b(rite-Through)27 b(Cac)n(he)208
1089 y F4(Let's)18 b(no)o(w)g(add)g(liv)o(eness)g(to)g(the)h
(write-through)g(cac)o(he,)g(sp)q(eci\014ed)h(in)e(Figure)g(5.5)f(on)
208 1139 y(pages)f(57{59.)23 b(W)m(e)16 b(w)o(an)o(t)f(our)i(sp)q
(eci\014cation)f(to)g(guaran)o(tee)h(that)f(ev)o(ery)h(request)g(ev)o
(en-)208 1189 y(tually)c(receiv)o(es)i(a)f(resp)q(onse,)i(without)e
(requiring)g(that)g(an)o(y)g(requests)i(are)e(issued.)20
b(This)208 1238 y(requires)g(fairness)g(on)g(all)e(the)i(actions)g
(that)g(mak)o(e)e(up)i(the)g(next-state)h(action)e FV(Next)208
1288 y F4(except)c(for)e(the)i(follo)o(wing:)p Black
270 1371 a F0(\017)p Black 20 w F4(A)f FV(R)n(e)n(q)t
F4(\()p FV(p)s F4(\))g(action,)f(whic)o(h)h(issues)h(a)f(request.)p
Black 270 1454 a F0(\017)p Black 20 w F4(An)g FV(Evict)t
F4(\()p FV(p)s FQ(;)7 b FV(a)s F4(\))14 b(action,)f(whic)o(h)h(evicts)h
(an)e(address)i(from)d(the)j(cac)o(he.)p Black 270 1537
a F0(\017)p Black 20 w F4(A)g FV(MemQWr)j F4(action,)c(if)f
FV(memQ)18 b F4(con)o(tains)c(only)f(write)i(requests)h(and)e(is)g(not)
g(full)311 1587 y(\(has)d(few)o(er)g(than)f FV(QL)n(en)k
F4(elemen)o(ts\).)j(Since)11 b(a)f(resp)q(onse)i(to)e(a)g(write)h
(request)h(can)e(b)q(e)311 1637 y(issued)h(b)q(efore)g(the)g(v)n(alue)f
(is)g(written)h(to)f(memory)m(,)d(failing)h(to)i(execute)i(a)e
FV(MemQWr)311 1687 y F4(action)15 b(can)h(prev)o(en)o(t)g(a)f(resp)q
(onse)i(only)d(if)h(it)g(prev)o(en)o(ts)h(the)g(dequeuing)g(of)e(a)h
(read)311 1736 y(op)q(eration)h(in)f FV(memQ)k F4(or)d(the)g(enqueuing)
g(of)f(an)h(op)q(eration)f(\(b)q(ecause)j FV(memQ)h F4(is)311
1786 y(full\).)208 1869 y(F)m(or)c(simplicit)o(y)m(,)d(let's)k(require)
g(fairness)h(for)e(the)h FV(MemQWr)k F4(action)15 b(to)q(o;)h(w)o(e'll)
f(w)o(eak)o(en)208 1919 y(this)f(requiremen)o(t)g(later.)19
b(Our)14 b(liv)o(eness)h(condition)f(then)g(has)h(to)f(assert)h
(fairness)g(of)e(the)208 1969 y(actions)p Black Black
332 2052 a FV(MemQWr)46 b(MemQR)n(d)g(Rsp)s F4(\()p FV(p)s
F4(\))c FV(R)n(dMiss)s F4(\()p FV(p)s F4(\))g FV(DoR)n(d)t
F4(\()p FV(p)s F4(\))h FV(DoWr)t F4(\()p FV(p)s F4(\))208
2135 y(for)12 b(all)f FV(p)16 b F4(in)c FV(Pr)n(o)n(c)r
F4(.)18 b(W)m(e)12 b(no)o(w)h(m)o(ust)e(decide)j(whether)g(to)f(assert)
h(w)o(eak)f(or)f(strong)h(fairness)208 2185 y(for)j(these)i(actions.)27
b(W)m(eak)16 b(and)g(strong)i(fairness)f(are)g(equiv)n(alen)o(t)f(for)g
(an)h(action)f(that,)208 2235 y(once)h(enabled,)h(remains)e(enabled)i
(un)o(til)e(it)h(is)g(executed.)30 b(This)17 b(is)g(the)h(case)g(for)f
(all)e(of)208 2284 y(these)g(actions)f(except)h FV(DoR)n(d)t
F4(\()p FV(p)s F4(\),)g FV(R)n(dMiss)s F4(\()p FV(p)s
F4(\),)f(and)g FV(DoWr)t F4(\()p FV(p)s F4(\).)270 2334
y(The)k FV(DoR)n(d)t F4(\()p FV(p)s F4(\))i(action)e(can)g(b)q(e)h
(disabled)f(b)o(y)g(an)f FV(Evict)22 b F4(step)d(that)g(evicts)g(the)f
(re-)208 2384 y(quested)13 b(data)f(from)f(the)i(cac)o(he.)19
b(In)12 b(this)h(case,)g(fairness)g(of)f(other)h(actions)f(should)g
(imply)208 2434 y(that)18 b(the)g(data)g(will)e(ev)o(en)o(tually)i(b)q
(e)h(returned)g(to)f(the)h(cac)o(he,)g(re-enabling)f
FV(DoR)n(d)t F4(\()p FV(p)s F4(\).)p Black Black eop
%%Page: 108 126
108 125 bop Black 208 275 a F4(108)887 b FR(CHAPTER)14
b(8.)31 b(LIVENESS)15 b(AND)f(F)-5 b(AIRNESS)p 208 282
1770 2 v Black 208 391 a F4(The)18 b(data)g(cannot)g(b)q(e)h(evicted)g
(again)e(un)o(til)g(the)h FV(DoR)n(d)t F4(\()p FV(p)s
F4(\))i(action)e(is)f(executed,)k(and)208 441 y(w)o(eak)11
b(fairness)h(then)h(su\016ces)f(to)g(ensure)h(that)f(the)g(necessary)i
FV(DoR)n(d)t F4(\()p FV(p)s F4(\))f(step)f(ev)o(en)o(tually)208
491 y(o)q(ccurs.)270 541 y(The)g FV(R)n(dMiss)s F4(\()p
FV(p)s F4(\))g(and)g FV(DoWr)t F4(\()p FV(p)s F4(\))h(actions)e(app)q
(end)i(a)e(request)i(to)f(the)g FV(memQ)j F4(queue.)208
591 y(They)k(are)h(disabled)f(if)f(that)i(queue)g(is)f(full.)33
b(A)19 b FV(R)n(dMiss)s F4(\()p FV(p)s F4(\))i(or)e FV(DoWr)t
F4(\()p FV(p)s F4(\))h(could)f(b)q(e)208 640 y(enabled)h(and)h(then)g
(b)q(ecome)g(disabled)f(b)q(ecause)i(a)e FV(R)n(dMiss)s
F4(\()p FV(q)t F4(\))i(or)e FV(DoWr)t F4(\()p FV(q)t
F4(\),)j(for)d(a)208 690 y(di\013eren)o(t)e(pro)q(cessor)h
FV(q)t F4(,)e(app)q(ends)h(a)f(request)i(to)e FV(memQ)t
F4(.)27 b(W)m(e)17 b(therefore)h(need)h(strong)208 740
y(fairness)13 b(for)f(the)h FV(R)n(dMiss)s F4(\()p FV(p)s
F4(\))h(and)e FV(DoWr)t F4(\()p FV(p)s F4(\))i(actions.)k(So,)12
b(the)h(fairness)g(conditions)g(w)o(e)208 790 y(need)h(are)p
Black 270 873 a(W)m(eak)f(F)m(airness)p Black 52 w(for)h
FV(Rsp)s F4(\()p FV(p)s F4(\),)g FV(DoR)n(d)t F4(\()p
FV(p)s F4(\),)g FV(MemQWr)t F4(,)g(and)g FV(MemQR)n(d)p
Black 270 956 a F4(Strong)g(F)m(airness)p Black 32 w(for)g
FV(R)n(dMiss)s F4(\()p FV(p)s F4(\))h(and)e FV(DoWr)t
F4(\()p FV(p)s F4(\).)208 1039 y(As)h(b)q(efore,)g(let's)g(de\014ne)h
FV(vars)i F4(to)d(b)q(e)g(the)h(tuple)f(of)f(all)g(v)n(ariables.)p
Black Black 332 1126 a FV(vars)450 1103 y FI(\001)445
1126 y F4(=)35 b F0(h)s FV(memInt)t FQ(;)14 b FV(wmem)s
FQ(;)f FV(buf)c FQ(;)k FV(ctl)t FQ(;)g FV(c)n(ache)s
FQ(;)h FV(memQ)8 b F0(i)208 1209 y F4(W)m(e)13 b(could)h(just)g(write)g
(the)h(liv)o(eness)f(condition)f(as)p Black Black 332
1292 a F0(^)h(8)7 b FV(p)14 b F0(2)d FV(Pr)n(o)n(c)21
b F4(:)d F0(^)13 b F4(WF)722 1298 y FJ(vars)788 1292
y F4(\()p FV(Rsp)s F4(\()p FV(p)s F4(\)\))k F0(^)f F4(WF)1078
1298 y FJ(vars)1144 1292 y F4(\()p FV(DoR)n(d)t F4(\()p
FV(p)s F4(\)\))611 1349 y F0(^)d F4(SF)702 1355 y FJ(vars)769
1349 y F4(\()p FV(R)n(dMiss)s F4(\()p FV(p)s F4(\)\))k
F0(^)f F4(SF)1104 1355 y FJ(vars)1170 1349 y F4(\()p
FV(DoWr)t F4(\()p FV(p)s F4(\)\))332 1407 y F0(^)e F4(WF)443
1413 y FJ(vars)510 1407 y F4(\()p FV(MemQWr)t F4(\))j
F0(^)e F4(WF)857 1413 y FJ(vars)924 1407 y F4(\()p FV(MemQR)n(d)t
F4(\))p Black 208 1292 a(\(8.34\))p Black 208 1488 a(Ho)o(w)o(ev)o(er,)
k(I)f(prefer)h(replacing)f(the)h(conjunction)f(of)g(fairness)g
(conditions)g(b)o(y)g(a)g(single)208 1538 y(fairness)h(condition)f(on)g
(a)h(disjunction,)g(as)f(w)o(e)h(did)g(in)f(Section)h(8.5)f(for)g(the)h
(memory)208 1587 y(sp)q(eci\014cation.)28 b(The)17 b(WF)g(and)g(SF)g
(Conjunction)f(Rules)h(\(pages)h(105)e(and)h(106\))f(imply)208
1637 y(that)d(the)i(liv)o(eness)f(condition)g(\(8.34\))e(can)j(b)q(e)f
(rewritten)h(as)p Black Black 332 1720 a F0(^)f(8)7 b
FV(p)14 b F0(2)d FV(Pr)n(o)n(c)21 b F4(:)d F0(^)13 b
F4(WF)722 1726 y FJ(vars)788 1720 y F4(\()p FV(Rsp)s
F4(\()p FV(p)s F4(\))d F0(_)f FV(DoR)n(d)t F4(\()p FV(p)s
F4(\)\))611 1778 y F0(^)k F4(SF)702 1784 y FJ(vars)769
1778 y F4(\()p FV(R)n(dMiss)s F4(\()p FV(p)s F4(\))d
F0(_)f FV(DoWr)t F4(\()p FV(p)s F4(\)\))332 1835 y F0(^)14
b F4(WF)443 1841 y FJ(vars)510 1835 y F4(\()p FV(MemQWr)g
F0(_)9 b FV(MemQR)n(d)t F4(\))p Black 208 1720 a(\(8.35\))p
Black 208 1918 a(W)m(e)g(can)i(no)o(w)e(try)i(to)f(simplify)d(\(8.35\))
i(b)o(y)h(mo)o(ving)d(the)k(quan)o(ti\014er)f(inside)g(the)h(WF)f(and)g
(SF)208 1968 y(form)o(ulas.)16 b(First,)f(b)q(ecause)g
F0(8)22 b F4(distributes)15 b(o)o(v)o(er)f F0(^)p F4(,)f(w)o(e)i(can)f
(rewrite)h(the)g(\014rst)g(conjunct)208 2018 y(of)e(\(8.35\))g(as)p
Black Black 332 2101 a F0(^)h(8)7 b FV(p)14 b F0(2)d
FV(Pr)n(o)n(c)21 b F4(:)d(WF)680 2107 y FJ(vars)747 2101
y F4(\()p FV(Rsp)s F4(\()p FV(p)s F4(\))9 b F0(_)g FV(DoR)n(d)t
F4(\()p FV(p)s F4(\)\))332 2162 y F0(^)14 b(8)7 b FV(p)14
b F0(2)d FV(Pr)n(o)n(c)21 b F4(:)d(SF)661 2168 y FJ(vars)727
2162 y F4(\()p FV(R)n(dMiss)s F4(\()p FV(p)s F4(\))10
b F0(_)f FV(DoWr)t F4(\()p FV(p)s F4(\)\))p Black 208
2101 a(\(8.36\))p Black 208 2246 a(W)m(e)15 b(can)h(no)o(w)g(try)g(to)g
(apply)g(the)g(WF)g(Quan)o(ti\014er)g(Rule)g(\(page)g(105\))f(to)h(the)
h(\014rst)g(con-)208 2296 y(junct)12 b(of)f(\(8.36\))g(and)h(the)g
(corresp)q(onding)h(SF)f(Quan)o(ti\014er)h(Rule)e(to)h(its)g(second)h
(conjunct.)208 2345 y(Ho)o(w)o(ev)o(er,)e(the)h(WF)e(quan)o(ti\014er)h
(rule)g(do)q(esn't)h(apply)e(to)h(the)g(\014rst)h(conjunct.)18
b(It's)11 b(p)q(ossible)208 2395 y(for)16 b(b)q(oth)h
FV(Rsp)s F4(\()p FV(p)s F4(\))9 b F0(_)g FV(DoR)n(d)t
F4(\()p FV(p)s F4(\))18 b(and)e FV(Rsp)s F4(\()p FV(q)t
F4(\))10 b F0(_)f FV(DoR)n(d)t F4(\()p FV(q)t F4(\))17
b(to)g(b)q(e)g(enabled)g(at)g(the)g(same)208 2445 y(time,)12
b(for)h(t)o(w)o(o)h(di\013eren)o(t)g(pro)q(cessors)j
FV(p)f F4(and)e FV(q)t F4(.)k(The)c(form)o(ula)p Black
Black eop
%%Page: 109 127
109 126 bop Black 208 275 a FR(8.8.)30 b(QUANTIFICA)m(TION)1233
b F4(109)p 208 290 1770 2 v Black Black Black 332 391
a(WF)402 397 y FJ(vars)468 391 y F4(\()p F0(9)7 b FV(p)15
b F0(2)c FV(Pr)n(o)n(c)20 b F4(:)e FV(Rsp)s F4(\()p FV(p)s
F4(\))10 b F0(_)f FV(DoR)n(d)t F4(\()p FV(p)s F4(\)\))p
Black -864 w(\(8.37\))p Black 208 474 a(is)15 b(satis\014ed)i(b)o(y)f
(an)o(y)g(b)q(eha)o(vior)f(in)h(whic)o(h)g(in\014nitely)f(man)o(y)f
FV(Rsp)s F4(\()p FV(p)s F4(\))j(and)f FV(DoR)n(d)t F4(\()p
FV(p)s F4(\))h(ac-)208 524 y(tions)j(o)q(ccur)h(for)f(some)f(pro)q
(cessor)k FV(p)s F4(.)37 b(In)20 b(suc)o(h)h(a)f(b)q(eha)o(vior,)h
FV(Rsp)s F4(\()p FV(q)t F4(\))g(could)f(b)q(e)h(en-)208
574 y(abled)11 b(for)h(some)f(other)i(pro)q(cessor)h
FV(q)h F4(without)d(an)g FV(Rsp)s F4(\()p FV(q)t F4(\))g(step)h(ev)o
(er)g(o)q(ccurring,)f(making)208 624 y(WF)277 630 y FJ(vars)344
624 y F4(\()p FV(Rsp)s F4(\()p FV(q)t F4(\))d F0(_)g
FV(DoR)n(d)t F4(\()p FV(q)t F4(\)\))14 b(false,)e(whic)o(h)g(implies)f
(that)h(the)i(\014rst)f(conjunct)g(of)f(\(8.36\))208
674 y(is)g(false.)18 b(Hence,)c(\(8.37\))e(is)g(not)h(equiv)n(alen)o(t)
f(to)h(the)g(\014rst)h(conjunct)f(of)f(\(8.36\).)17 b(Similarly)l(,)208
723 y(the)d(analogous)f(rule)h(for)g(strong)h(fairness)f(cannot)g(b)q
(e)h(applied)e(to)h(the)h(second)g(conjunct)208 773 y(of)e(\(8.36\).)k
(F)m(orm)o(ula)11 b(\(8.35\))i(is)h(as)g(simple)e(as)i(w)o(e)g(can)g
(mak)o(e)f(it.)270 823 y(Let's)j(return)h(to)f(the)h(observ)n(ation)f
(that)g(w)o(e)g(don't)g(ha)o(v)o(e)f(to)h(execute)i FV(MemQWr)j
F4(if)208 873 y(the)16 b FV(memQ)j F4(queue)e(con)o(tains)f(only)f
(write)h(requests)i(and)d(is)h(not)f(full.)23 b(In)16
b(other)g(w)o(ords,)208 923 y(w)o(e)f(ha)o(v)o(e)g(to)g(execute)j
FV(MemQWr)h F4(only)c(if)f FV(memQ)19 b F4(is)c(full)f(or)i(con)o
(tains)f(a)g(read)h(request.)208 972 y(Let's)e(de\014ne)p
Black Black 332 1056 a FV(QCond)503 1032 y FI(\001)498
1056 y F4(=)35 b F0(_)14 b FV(L)n(en)s F4(\()p FV(memQ)t
F4(\))e(=)g FV(QL)n(en)565 1113 y F0(_)i(9)7 b FV(i)15
b F0(2)c F4(1)j FQ(:)7 b(:)13 b FV(L)n(en)s F4(\()p FV(memQ)t
F4(\))19 b(:)f FV(memQ)t F4([)p FV(i)t F4(][2])p FQ(:)p
FV(op)11 b F4(=)h(\\)p FD(Rd)p F4(")208 1194 y(so)17
b(w)o(e)g(need)g(ev)o(en)o(tually)g(execute)i(a)d FV(MemQWr)21
b F4(action)c(only)f(when)h(it's)g(enabled)g(and)208
1244 y FV(QCond)i F4(is)c(true,)h(whic)o(h)f(is)g(the)h(case)g(i\013)f
(the)h(action)f FV(QCond)g F0(^)9 b FV(MemQWr)20 b F4(is)15
b(enabled.)208 1294 y(In)g(this)g(case,)i(a)e FV(MemQWr)k
F4(step)e(is)e(a)g FV(QCond)g F0(^)10 b FV(MemQWr)19
b F4(step.)24 b(Hence,)17 b(it)e(su\016ces)208 1343 y(to)i(require)i(w)
o(eak)e(fairness)h(of)f(the)h(action)g FV(QCond)e F0(^)11
b FV(MemQWr)t F4(.)30 b(W)m(e)18 b(can)f(therefore)208
1393 y(replace)d(the)h(second)g(conjunct)f(of)g(\(8.35\))f(with)p
Black Black 332 1476 a(WF)402 1482 y FJ(vars)468 1476
y F4(\(\()p FV(QCond)h F0(^)9 b FV(MemQWr)t F4(\))17
b F0(_)f FV(MemQR)n(d)t F4(\))208 1559 y(W)m(e)c(w)o(ould)g(do)g(this)h
(if)f(w)o(e)g(w)o(an)o(ted)h(the)g(sp)q(eci\014cation)h(to)e(describ)q
(e)j(the)e(w)o(eak)o(est)g(liv)o(eness)208 1609 y(condition)g(that)i
(implemen)o(ts)d(the)j(memory)d(sp)q(eci\014cation's)j(liv)o(eness)g
(condition.)k(Ho)o(w-)208 1659 y(ev)o(er,)13 b(if)f(the)h(sp)q
(eci\014cation)h(w)o(ere)g(a)e(description)i(of)e(an)h(actual)f
(device,)i(then)f(that)g(device)208 1709 y(w)o(ould)g(probably)g
(implemen)o(t)e(w)o(eak)j(fairness)g(on)f(all)g FV(MemQWr)18
b F4(actions,)c(so)g(w)o(e)g(w)o(ould)208 1758 y(tak)o(e)f(\(8.35\))g
(as)h(the)h(liv)o(eness)f(condition.)208 1917 y FN(8.8)81
b(Quan)n(ti\014cation)208 2008 y F4(Section)13 b(8.1)f(describ)q(es)j
(the)e(meaning)e(of)i(ordinary)f(quan)o(ti\014cation)g(of)g(temp)q
(oral)g(form)o(u-)208 2058 y(las.)19 b(F)m(or)14 b(example,)f(the)i
(meaning)d(of)i(the)h(form)o(ula)d F0(8)7 b FV(r)12 b
F4(:)c FV(F)d F4(,)14 b(for)g(an)o(y)g(temp)q(oral)f(form)o(ula)208
2107 y FV(F)6 b F4(,)13 b(is)g(de\014ned)i(b)o(y)p Black
Black 332 2195 a FQ(\033)e F0(j)-7 b F4(=)11 b(\()p F0(8)c
FV(r)23 b F4(:)18 b FV(F)6 b F4(\))622 2171 y FI(\001)617
2195 y F4(=)35 b F0(8)7 b FV(r)22 b F4(:)c(\()p FQ(\033)13
b F0(j)-7 b F4(=)12 b FV(F)6 b F4(\))208 2278 y(where)15
b FQ(\033)g F4(is)e(an)o(y)h(b)q(eha)o(vior.)270 2327
y(The)i(sym)o(b)q(ol)d FV(r)20 b F4(in)15 b F0(9)7 b
FV(r)12 b F4(:)7 b FV(F)22 b F4(is)15 b(usually)g(called)g(a)g(b)q
(ound)h(v)n(ariable.)21 b(But)16 b(w)o(e'v)o(e)g(b)q(een)208
2377 y(using)11 b(the)h(term)g FV(variable)i F4(to)e(mean)e(something)g
(else|something)h(that's)h(declared)h(b)o(y)e(a)208 2427
y FP(v)l(ariable)i F4(statemen)o(t)e(in)g(a)g(mo)q(dule.)16
b(The)c(b)q(ound)g(\\v)n(ariable")e FV(r)15 b F4(is)d(actually)e(a)h
(constan)o(t)p Black Black eop
%%Page: 110 128
110 127 bop Black 208 275 a F4(110)887 b FR(CHAPTER)14
b(8.)31 b(LIVENESS)15 b(AND)f(F)-5 b(AIRNESS)p 208 282
1770 2 v Black 208 391 a F4(in)13 b(these)h(form)o(ulas|a)d(v)n(alue)i
(that)g(is)h(the)g(same)e(in)h(ev)o(ery)i(state)f(of)f(the)h(b)q(eha)o
(vior.)1549 376 y FS(5)1585 391 y F4(F)m(or)208 441 y(example,)g(the)i
(form)o(ula)c F0(9)7 b FV(r)12 b F4(:)c FG(2)p F4(\()p
FV(x)17 b F4(=)12 b FV(r)t F4(\))j(asserts)i(that)f FV(x)k
F4(has)c(the)g(same)e(v)n(alue)h(in)g(ev)o(ery)208 491
y(state)f(of)g(a)f(b)q(eha)o(vior.)270 541 y(Bounded)i(quan)o
(ti\014cation)d(o)o(v)o(er)i(a)g(constan)o(t)g(set)h
FV(S)k F4(is)14 b(de\014ned)h(b)o(y)p Black Black 332
645 a FQ(\033)e F0(j)-7 b F4(=)11 b(\()p F0(8)c FV(r)16
b F0(2)11 b FV(S)24 b F4(:)18 b FV(F)6 b F4(\))689 622
y FI(\001)685 645 y F4(=)23 b(\()p F0(8)7 b FV(r)16 b
F0(2)11 b FV(S)24 b F4(:)18 b FQ(\033)12 b F0(j)-7 b
F4(=)12 b FV(F)6 b F4(\))332 718 y FQ(\033)13 b F0(j)-7
b F4(=)11 b(\()p F0(9)c FV(r)16 b F0(2)11 b FV(S)24 b
F4(:)18 b FV(F)6 b F4(\))689 694 y FI(\001)685 718 y
F4(=)23 b(\()p F0(9)7 b FV(r)16 b F0(2)11 b FV(S)24 b
F4(:)18 b FQ(\033)12 b F0(j)-7 b F4(=)12 b FV(F)6 b F4(\))208
816 y(The)15 b(sym)o(b)q(ol)d FV(r)19 b F4(is)14 b(declared)i(to)e(b)q
(e)h(a)g(constan)o(t)g(in)f(form)o(ula)e FV(F)6 b F4(.)19
b(The)c(expression)h FV(S)k F4(lies)208 866 y(outside)12
b(the)g(scop)q(e)h(of)f(the)g(declaration)g(of)f FV(r)t
F4(,)h(so)g(the)g(sym)o(b)q(ol)e FV(r)16 b F4(cannot)c(o)q(ccur)h(in)e
FV(S)5 b F4(.)18 b(It's)208 916 y(easy)e(to)g(de\014ne)h(the)g
(meanings)d(of)i(these)h(form)o(ulas)d(ev)o(en)j(if)e
FV(S)21 b F4(is)16 b(not)g(a)g(constan)o(t|for)208 966
y(example,)9 b(b)o(y)h(letting)g F0(9)d FV(r)16 b F0(2)11
b FV(S)i F4(:)8 b FV(F)16 b F4(equal)10 b F0(9)d FV(r)12
b F4(:)7 b(\()p FV(r)16 b F0(2)11 b FV(S)5 b F4(\))10
b F0(^)f FV(F)c F4(.)17 b(Ho)o(w)o(ev)o(er,)11 b(for)f(nonconstan)o(t)
208 1016 y FV(S)5 b F4(,)13 b(it's)h(b)q(etter)h(to)f(write)g
F0(9)7 b FV(r)12 b F4(:)c(\()p FV(r)15 b F0(2)d FV(S)5
b F4(\))k F0(^)g FV(F)20 b F4(explicitly)m(.)270 1066
y(It's)14 b(also)g(easy)h(to)g(de\014ne)h(the)f(meaning)e(of)h
FP(choose)h F4(as)g(a)f(temp)q(oral)f(op)q(erator.)21
b(W)m(e)208 1115 y(can)f(just)h(let)g FQ(\033)13 b F0(j)-7
b F4(=)11 b(\()p FP(choose)17 b FV(r)12 b F4(:)c FV(F)e
F4(\))20 b(b)q(e)h(an)g(arbitrary)f(constan)o(t)i(v)n(alue)e
FV(r)k F4(suc)o(h)e(that)208 1165 y FQ(\033)12 b F0(j)-7
b F4(=)12 b FV(F)19 b F4(equals)14 b FP(tr)o(ue)p F4(,)g(if)f(suc)o(h)h
(an)g FV(r)k F4(exists.)h(Ho)o(w)o(ev)o(er,)13 b(a)h(temp)q(oral)f
FP(choose)h F4(op)q(erator)208 1215 y(is)j(not)h(needed)i(for)e
(writing)f(sp)q(eci\014cations,)j(so)e FP(choose)e FV(r)c
F4(:)c FV(F)24 b F4(is)17 b(not)h(a)g(legal)f(TLA)1625
1200 y FS(+)208 1265 y F4(form)o(ula)11 b(if)i FV(F)19
b F4(is)14 b(a)g(temp)q(oral)e(form)o(ula.)270 1315 y(W)m(e)e(no)o(w)g
(come)f(to)h(the)h(temp)q(oral)e(existen)o(tial)h(quan)o(ti\014er)1190
1313 y F0(9)-21 b(9)g(9)1190 1315 y(9)g(9)g(9)6 b F4(.)17
b(In)10 b(the)h(form)o(ula)1517 1313 y F0(9)-21 b(9)g(9)1517
1315 y(9)g(9)g(9)6 b FV(x)13 b F4(:)8 b FV(F)d F4(,)208
1364 y(the)14 b(sym)o(b)q(ol)d FV(x)19 b F4(is)13 b(declared)i(to)e(b)q
(e)h(a)f(v)n(ariable)f(in)h FV(F)6 b F4(.)18 b(Unlik)o(e)13
b F0(9)7 b FV(r)12 b F4(:)7 b FV(F)f F4(,)13 b(whic)o(h)g(asserts)i
(the)208 1414 y(existence)g(of)e(a)g(single)h(v)n(alue)f
FV(r)t F4(,)g(the)h(form)o(ula)958 1412 y F0(9)-21 b(9)g(9)958
1414 y(9)g(9)g(9)6 b FV(x)13 b F4(:)8 b FV(F)19 b F4(asserts)d(the)e
(existence)h(of)e(a)h(v)n(alue)208 1464 y(for)19 b FV(x)25
b F4(in)19 b(eac)o(h)h(state)g(of)f(a)g(b)q(eha)o(vior.)35
b(F)m(or)19 b(example,)h(if)e FV(y)24 b F4(is)19 b(a)h(v)n(ariable,)f
(then)h(the)208 1514 y(form)o(ula)360 1512 y F0(9)-21
b(9)g(9)360 1514 y(9)g(9)g(9)6 b FV(x)13 b F4(:)8 b FG(2)p
F4(\()p FV(x)17 b F0(2)11 b FV(y)t F4(\))j(asserts)h(that)f
FV(y)k F4(alw)o(a)o(ys)13 b(has)h(some)f(elemen)o(t)g
FV(x)5 b F4(,)14 b(so)g FV(y)j F4(is)d(alw)o(a)o(ys)208
1564 y(a)h(nonempt)o(y)g(set.)25 b(Ho)o(w)o(ev)o(er,)16
b(the)g(elemen)o(t)g FV(x)21 b F4(could)16 b(b)q(e)g(di\013eren)o(t)h
(in)e(di\013eren)o(t)i(states,)208 1614 y(so)d(the)g(v)n(alues)g(of)f
FV(y)18 b F4(in)13 b(di\013eren)o(t)i(states)g(could)f(b)q(e)g(disjoin)
o(t.)270 1663 y(W)m(e)i(ha)o(v)o(e)h(b)q(een)h(using)655
1661 y F0(9)-21 b(9)g(9)655 1663 y(9)g(9)g(9)23 b F4(as)17
b(a)g(hiding)f(op)q(erator,)h(thinking)f(of)1327 1661
y F0(9)-21 b(9)g(9)1327 1663 y(9)g(9)g(9)7 b FV(x)13
b F4(:)7 b FV(F)23 b F4(as)17 b FV(F)22 b F4(with)208
1713 y(v)n(ariable)15 b FV(x)23 b F4(hidden.)k(The)18
b(precise)g(de\014nition)f(of)1035 1711 y F0(9)-21 b(9)g(9)1035
1713 y(9)g(9)g(9)24 b F4(is)16 b(a)h(bit)g(tric)o(ky)g(b)q(ecause,)i
(as)e(dis-)208 1763 y(cussed)f(in)f(Section)g(8.1,)f(the)h(form)o(ula)
840 1761 y F0(9)-21 b(9)g(9)840 1763 y(9)g(9)g(9)6 b
FV(x)13 b F4(:)8 b FV(F)20 b F4(should)15 b(b)q(e)g(in)o(v)n(arian)o(t)
f(under)h(stuttering.)208 1813 y(In)o(tuitiv)o(ely)m(,)418
1811 y F0(9)-21 b(9)g(9)418 1813 y(9)g(9)g(9)7 b FV(x)13
b F4(:)8 b FV(F)20 b F4(is)14 b(satis\014ed)i(b)o(y)e(a)h(b)q(eha)o
(vior)f FQ(\033)i F4(i\013)e FV(F)21 b F4(is)14 b(satis\014ed)i(b)o(y)e
(a)h(b)q(eha)o(vior)f FQ(\034)208 1863 y F4(that)h(is)g(obtained)f
(from)g FQ(\033)i F4(b)o(y)f(adding)f(and/or)h(deleting)g(stuttering)h
(steps)g(and)f(c)o(hang-)208 1912 y(ing)h(the)i(v)n(alue)f(of)g
FV(x)5 b F4(.)29 b(A)17 b(precise)i(de\014nition)e(app)q(ears)h(in)f
(Section)h(16.2.4)d(\(page)j(314\).)208 1962 y(Ho)o(w)o(ev)o(er,)13
b(for)g(writing)g(sp)q(eci\014cations,)i(y)o(ou)e(can)g(simply)f(think)
h(of)1299 1960 y F0(9)-21 b(9)g(9)1299 1962 y(9)g(9)g(9)6
b FV(x)14 b F4(:)7 b FV(F)20 b F4(as)13 b FV(F)19 b F4(with)14
b FV(x)208 2012 y F4(hidden.)270 2062 y(TLA)g(also)f(has)h(a)g(temp)q
(oral)e(univ)o(ersal)i(quan)o(ti\014er)1102 2060 y F0(8)-21
b(8)g(8)1102 2062 y(8)g(8)g(8)6 b F4(,)13 b(de\014ned)i(b)o(y)p
Black Black 332 2162 a F0(8)-21 b(8)g(8)332 2164 y(8)g(8)g(8)6
b FV(x)24 b F4(:)18 b FV(F)510 2140 y FI(\001)505 2164
y F4(=)35 b F0(:)607 2162 y(9)-21 b(9)g(9)607 2164 y(9)g(9)g(9)6
b FV(x)24 b F4(:)18 b F0(:)p FV(F)208 2262 y F4(This)11
b(op)q(erator)i(is)f(hardly)g(ev)o(er)g(used.)19 b(TLA)918
2247 y FS(+)950 2262 y F4(do)q(es)13 b(not)f(allo)o(w)f(b)q(ounded)h(v)
o(ersions)h(of)e(the)208 2312 y(op)q(erators)391 2310
y F0(9)-21 b(9)g(9)391 2312 y(9)g(9)g(9)20 b F4(and)519
2310 y F0(8)-21 b(8)g(8)519 2312 y(8)g(8)g(8)6 b F4(.)p
Black 208 2346 576 2 v 254 2373 a FK(5)271 2385 y FZ(Logicians)12
b(use)h(the)g(term)f FY(\015exible)k(variable)i FZ(for)13
b(a)h(TLA)g(v)n(ariable,)e(and)h(the)g(term)f FY(rigid)j(variable)208
2424 y FZ(for)10 b(a)i(sym)o(b)q(ol)e(lik)o(e)g FY(r)16
b FZ(that)10 b(represen)o(ts)f(a)j(constan)o(t.)p Black
Black Black eop
%%Page: 111 129
111 128 bop Black 208 275 a FR(8.9.)30 b(TEMPORAL)15
b(LOGIC)e(EXAMINED)969 b F4(111)p 208 282 1770 2 v Black
208 400 a FN(8.9)81 b(T)-7 b(emp)r(oral)28 b(Logic)f(Examined)208
515 y F3(8.9.1)65 b(A)22 b(Review)208 606 y F4(Let's)d(lo)q(ok)g(at)g
(the)h(shap)q(es)h(of)e(the)h(sp)q(eci\014cations)g(that)g(w)o(e'v)o(e)
f(written)h(so)g(far.)34 b(W)m(e)208 656 y(started)15
b(with)e(the)i(simple)d(form)p Black Black 332 739 a
FV(Init)20 b F0(^)c FG(2)p F4([)p FV(Next)t F4(])604
745 y FJ(vars)p Black 208 739 a F4(\(8.38\))p Black 208
822 a(where)c FV(Init)j F4(is)d(the)g(initial)e(predicate,)i
FV(Next)k F4(the)c(next-state)g(action,)g(and)f FV(vars)k
F4(the)d(tuple)208 872 y(of)g(all)g(v)n(ariables.)17
b(This)d(kind)e(of)h(sp)q(eci\014cation)h(is,)f(in)g(principle,)g
(quite)g(straigh)o(tforw)o(ard.)208 922 y(W)m(e)f(then)h(in)o(tro)q
(duced)h(hiding,)d(using)823 920 y F0(9)-21 b(9)g(9)823
922 y(9)g(9)g(9)19 b F4(to)12 b(bind)h(v)n(ariables)f(that)h(should)f
(not)h(app)q(ear)g(in)208 972 y(the)d(sp)q(eci\014cation.)17
b(Those)11 b(b)q(ound)f(v)n(ariables,)f(also)g(called)h
FV(hidden)k F4(or)9 b FV(internal)14 b F4(v)n(ariables,)208
1021 y(serv)o(e)e(only)e(to)h(help)g(describ)q(e)h(ho)o(w)f(the)g(v)n
(alues)g(of)f(the)i(free)f(v)n(ariables)f(\(also)h(called)g(visible)208
1071 y(v)n(ariables\))i(c)o(hange.)270 1121 y(Hiding)f(v)n(ariables)h
(is)h(easy)g(enough,)f(and)h(it)f(is)g(mathematically)d(elegan)o(t)k
(and)f(philo-)208 1171 y(sophically)h(satisfying.)22
b(Ho)o(w)o(ev)o(er,)16 b(in)f(practice,)i(it)e(do)q(esn't)h(mak)o(e)e
(m)o(uc)o(h)h(di\013erence)i(to)208 1221 y(a)d(sp)q(eci\014cation.)22
b(A)15 b(commen)o(t)e(can)i(also)g(tell)f(a)h(reader)h(that)f(a)g(v)n
(ariable)f(should)h(b)q(e)g(re-)208 1271 y(garded)f(as)g(in)o(ternal.)
19 b(Explicit)13 b(hiding)g(allo)o(ws)g(implemen)o(tatio)o(n)f(to)i
(mean)e(implication.)208 1320 y(A)h(lo)o(w)o(er-lev)o(el)f(sp)q
(eci\014cation)h(that)g(describ)q(es)i(an)e(implemen)o(tatio)o(n)d(can)
j(b)q(e)h(exp)q(ected)h(to)208 1370 y(imply)c(a)j(higher-lev)o(el)g(sp)
q(eci\014cation)h(only)e(if)h(the)h(higher-lev)o(el)e(sp)q
(eci\014cation's)i(in)o(ternal)208 1420 y(v)n(ariables,)i(whose)h(v)n
(alues)f(don't)h(really)e(matter,)i(are)g(explicitly)e(hidden.)30
b(Otherwise,)208 1470 y(implem)o(en)o(tation)12 b(means)i(implemen)o
(tation)e(under)k(a)e(re\014nemen)o(t)i(mapping.)j(\(See)d(Sec-)208
1520 y(tion)g(5.8.\))27 b(Ho)o(w)o(ev)o(er,)18 b(as)f(explained)g(in)g
(Section)g(10.8)f(b)q(elo)o(w,)h(implemen)o(tation)d(often)208
1569 y(in)o(v)o(olv)o(es)e(a)i(re\014nemen)o(t)g(of)g(the)g(visible)f
(v)n(ariables)g(as)h(w)o(ell.)270 1619 y(T)m(o)f(express)j(liv)o
(eness,)e(the)g(sp)q(eci\014cation)h(\(8.38\))e(is)g(strengthened)j(to)
e(the)h(form)p Black Black 332 1702 a FV(Init)20 b F0(^)c
FG(2)p F4([)p FV(Next)t F4(])604 1708 y FJ(vars)685 1702
y F0(^)g FV(Liveness)p Black -674 w F4(\(8.39\))p Black
208 1785 a(where)i FV(Liveness)j F4(is)d(the)g(conjunction)f(of)g(form)
o(ulas)e(of)i(the)h(form)e(WF)1374 1791 y FJ(vars)1441
1785 y F4(\()p FV(A)p F4(\))h(and/or)208 1835 y(SF)258
1841 y FJ(vars)324 1835 y F4(\()p FV(A)p F4(\),)c(for)g(actions)h
FV(A)p F4(.)j(\(I'm)12 b(considering)i(univ)o(ersal)f(quan)o
(ti\014cation)f(to)h(b)q(e)i(a)e(form)208 1885 y(of)g(conjunction.\))
208 2022 y F3(8.9.2)65 b(Mac)n(hine)23 b(Closure)208
2113 y F4(In)12 b(the)g(sp)q(eci\014cations)i(of)d(the)i(form)d
(\(8.39\))i(w)o(e'v)o(e)g(written)g(so)h(far,)e(the)i(actions)f
FV(A)g F4(whose)208 2163 y(fairness)h(prop)q(erties)i(app)q(ear)f(in)f
(form)o(ula)e FV(Liveness)17 b F4(ha)o(v)o(e)c(one)h(thing)e(in)h
(common:)i(they)208 2213 y(are)g(all)f FV(sub)n(actions)19
b F4(of)c(the)g(next-state)i(action)e FV(Next)t F4(.)21
b(An)16 b(action)e FV(A)h F4(is)g(a)g(subaction)g(of)208
2263 y FV(Next)h F4(i\013)c(ev)o(ery)i FV(A)e F4(step)i(is)e(a)h
FV(Next)j F4(step.)j(Equiv)n(alen)o(tly)m(,)10 b FV(A)j
F4(is)f(a)g(subaction)h(of)f FV(Next)17 b F4(i\013)12
b FV(A)208 2312 y F4(implies)g FV(Next)t F4(.)448 2297
y FS(6)486 2312 y F4(In)j(almost)d(all)i(sp)q(eci\014cations)h(of)f
(the)h(form)e(\(8.39\),)g(form)o(ula)f FV(Liveness)p
Black 208 2349 576 2 v 254 2376 a FK(6)271 2388 y FZ(W)m(e)k(can)f
(also)g(use)g(the)f(follo)o(wing)g(w)o(eak)o(er)h(de\014nition)e(of)i
(subaction:)21 b FY(A)c FZ(is)e(a)h(subaction)d(of)i(for-)208
2427 y(m)o(ula)10 b(\(8.38\))h(i\013,)g(for)g(ev)o(ery)g(state)g
FY(s)j FZ(of)e(ev)o(ery)f(b)q(eha)o(vior)e(satisfying)h(\(8.38\),)g(if)
i FY(A)g FZ(is)g(enabled)e(in)i(state)f FY(s)208 2467
y FZ(then)f FY(Next)i FW(^)7 b FY(A)13 b FZ(is)e(also)g(enabled)e(in)i
FY(s)s FZ(.)p Black Black Black eop
%%Page: 112 130
112 129 bop Black 208 275 a F4(112)887 b FR(CHAPTER)14
b(8.)31 b(LIVENESS)15 b(AND)f(F)-5 b(AIRNESS)p 208 282
1770 2 v Black 208 391 a F4(should)10 b(b)q(e)i(the)f(conjunction)g(of)
f(w)o(eak)h(and/or)f(strong)h(fairness)g(form)o(ulas)e(for)h
(subactions)208 441 y(of)j FV(Next)t F4(.)18 b(I'll)12
b(no)o(w)i(explain)f(wh)o(y)m(.)270 491 y(When)18 b(w)o(e)g(lo)q(ok)f
(at)h(the)g(sp)q(eci\014cation)h(\(8.39\),)e(w)o(e)h(exp)q(ect)i
FV(Init)h F4(to)d(constrain)g(the)208 541 y(initial)12
b(state,)i FV(Next)k F4(to)c(constrain)h(what)f(steps)h(ma)o(y)e(o)q
(ccur,)h(and)g FV(Liveness)k F4(to)c(describ)q(e)208
591 y(only)f(what)g(m)o(ust)g(ev)o(en)o(tually)h(happ)q(en.)k(Ho)o(w)o
(ev)o(er,)c(consider)h(the)f(follo)o(wing)e(form)o(ula:)p
Black Black 332 674 a(\()p FV(x)17 b F4(=)12 b(0\))k
F0(^)g FG(2)p F4([)p FV(x)592 656 y FH(0)615 674 y F4(=)11
b FV(x)k F4(+)9 b(1])766 680 y FJ(x)803 674 y F0(^)16
b F4(WF)917 680 y FJ(x)938 674 y F4(\(\()p FV(x)h FQ(>)12
b F4(99\))d F0(^)g F4(\()p FV(x)1194 656 y FH(0)1218
674 y F4(=)i FV(x)k F0(\000)9 b F4(1\)\))p Black -1181
w(\(8.40\))p Black 208 757 a(The)16 b(\014rst)h(t)o(w)o(o)f(conjuncts)i
(of)d(\(8.40\))h(assert)h(that)g FV(x)k F4(is)c(initially)c(0)j(and)h
(that)f(an)o(y)g(step)208 806 y(either)h(incremen)o(ts)h
FV(x)k F4(b)o(y)16 b(1)h(or)g(lea)o(v)o(es)g(it)g(unc)o(hanged.)28
b(Hence,)18 b(they)g(imply)c(that)k(if)e FV(x)208 856
y F4(ev)o(er)j(exceeds)i(99,)f(then)f(it)g(forev)o(er)g(remains)f
(greater)i(than)f(99.)33 b(The)20 b(w)o(eak)e(fairness)208
906 y(prop)q(ert)o(y)e(asserts)i(that,)d(if)g(this)h(happ)q(ens,)h
(then)f FV(x)21 b F4(m)o(ust)15 b(ev)o(en)o(tually)g(b)q(e)i(decremen)o
(ted)208 956 y(b)o(y)11 b(1|con)o(tradicting)g(the)h(second)h
(conjunct.)18 b(Hence,)13 b(\(8.40\))e(implies)e(that)j
FV(x)17 b F4(can)12 b(nev)o(er)208 1006 y(exceed)j(99,)e(so)h(it)g(is)f
(equiv)n(alen)o(t)g(to)p Black Black 332 1089 a(\()p
FV(x)k F4(=)12 b(0\))k F0(^)g FG(2)p F4([\()p FV(x)g
FQ(<)c F4(99\))d F0(^)g F4(\()p FV(x)807 1072 y FH(0)830
1089 y F4(=)j FV(x)j F4(+)9 b(1\)])998 1095 y FJ(x)208
1172 y F4(Conjoining)g(the)j(w)o(eak)f(fairness)h(prop)q(ert)o(y)g(to)g
(the)g(\014rst)g(t)o(w)o(o)f(conjuncts)h(of)f(\(8.40\))f(forbids)208
1222 y(an)j FV(x)289 1206 y FH(0)313 1222 y F4(=)e FV(x)k
F4(+)9 b(1)14 b(step)h(when)f FV(x)j F4(=)12 b(99.)270
1271 y(A)k(sp)q(eci\014cation)i(of)e(the)h(form)e(\(8.39\))g(is)i
(called)f FV(machine)i(close)n(d)j F4(i\013)16 b(the)h(conjunct)208
1321 y FV(Liveness)g F4(constrains)e(neither)g(the)g(initial)d(state)j
(nor)f(what)g(steps)h(ma)o(y)d(o)q(ccur.)20 b(A)14 b(more)208
1371 y(general)c(w)o(a)o(y)g(to)g(express)i(this)f(is)f(as)g(follo)o
(ws.)16 b(Let)10 b(a)g(\014nite)h(b)q(eha)o(vior)f(b)q(e)h(a)f
(\014nite)h(sequence)208 1421 y(of)k(states.)372 1406
y FS(7)415 1421 y F4(W)m(e)g(sa)o(y)h(that)f(a)h(\014nite)f(b)q(eha)o
(vior)h FQ(\033)h F4(satis\014es)f(a)g(safet)o(y)f(prop)q(ert)o(y)i
FV(S)k F4(i\013)15 b(the)208 1471 y(b)q(eha)o(vior)i(obtained)h(b)o(y)g
(adding)f(in\014nitely)g(man)o(y)f(stuttering)i(steps)i(to)d(the)i(end)
f(of)g FQ(\033)208 1520 y F4(satis\014es)f FV(S)5 b F4(.)25
b(If)16 b FV(S)21 b F4(is)16 b(a)g(safet)o(y)g(prop)q(ert)o(y)m(,)h
(then)g(w)o(e)f(de\014ne)h(the)g(pair)f(of)f(form)o(ulas)f
FV(S)5 b F4(,)17 b FV(L)208 1570 y F4(to)f(b)q(e)h(mac)o(hine)e(closed)
h(i\013)g(ev)o(ery)h(\014nite)g(b)q(eha)o(vior)f(that)g(satis\014es)h
FV(S)22 b F4(can)16 b(b)q(e)h(extended)208 1620 y(to)c(an)h(in\014nite)
f(b)q(eha)o(vior)h(that)g(satis\014es)g FV(S)h F0(^)8
b FV(L)p F4(.)18 b(W)m(e)c(call)f(\(8.39\))g(mac)o(hine)f(closed)i(if)f
(the)208 1670 y(pair)g(of)g(form)o(ulas)f FV(Init)h F0(^)c
FG(2)p F4([)p FV(Next)t F4(])767 1676 y FJ(vars)832 1670
y F4(,)14 b FV(Liveness)j F4(is)d(mac)o(hine)f(closed.)270
1720 y(W)m(e)18 b(seldom)f(w)o(an)o(t)h(to)g(write)h(a)f(sp)q
(eci\014cation)i(that)e(isn't)g(mac)o(hine)f(closed.)33
b(If)18 b(w)o(e)208 1769 y(do)e(write)h(one,)g(it's)f(usually)f(b)o(y)i
(mistak)o(e.)24 b(Sp)q(eci\014cation)17 b(\(8.39\))e(is)i(guaran)o
(teed)g(to)f(b)q(e)208 1819 y(mac)o(hine)h(closed)i(if)f
FV(Liveness)23 b F4(is)c(the)g(conjunction)g(of)f(w)o(eak)h(and/or)f
(strong)h(fairness)208 1869 y(prop)q(erties)14 b(for)f(subactions)h(of)
e FV(Next)t F4(.)813 1854 y FS(8)850 1869 y F4(This)h(condition)f(do)q
(esn't)i(hold)e(for)h(sp)q(eci\014cation)208 1919 y(\(8.40\),)18
b(whic)o(h)h(is)g(not)g(mac)o(hine)f(closed,)i(b)q(ecause)h(\()p
FV(x)c FQ(>)11 b F4(99\))e F0(^)g F4(\()p FV(x)1301 1904
y FH(0)1325 1919 y F4(=)j FV(x)i F0(\000)c F4(1\))18
b(is)h(not)g(a)208 1969 y(subaction)14 b(of)f FV(x)466
1954 y FH(0)489 1969 y F4(=)f FV(x)j F4(+)9 b(1.)270
2019 y(Liv)o(eness)17 b(requiremen)o(ts)g(are)f(philosophically)f
(satisfying.)24 b(A)16 b(sp)q(eci\014cation)i(of)d(the)208
2068 y(form)g(\(8.38\),)j(whic)o(h)f(sp)q(eci\014es)j(only)d(a)g(safet)
o(y)h(prop)q(ert)o(y)m(,)h(allo)o(ws)d(b)q(eha)o(viors)i(in)f(whic)o(h)
208 2118 y(the)g(system)g(do)q(es)h(nothing.)27 b(Therefore,)18
b(the)g(sp)q(eci\014cation)g(is)f(satis\014ed)g(b)o(y)g(a)g(system)208
2168 y(that)e(do)q(es)g(nothing.)21 b(Expressing)16 b(liv)o(eness)f
(requiremen)o(ts)h(with)e(fairness)i(prop)q(erties)g(is)208
2218 y(less)j(satisfying.)30 b(These)20 b(prop)q(erties)g(are)f(subtle)
g(and)f(it's)g(easy)h(to)f(get)h(them)f(wrong.)p Black
208 2252 576 2 v 254 2279 a FK(7)271 2291 y FZ(A)12 b(\014nite)d(b)q
(eha)o(vior)g(therefore)f(isn't)i(a)h(b)q(eha)o(vior,)d(whic)o(h)j(is)f
(an)h(in\014nite)e(sequence)f(of)j(states.)j(Math-)208
2330 y(ematicians)8 b(often)i(abuse)h(language)e(in)i(this)g(w)o(a)o(y)
m(.)254 2358 y FK(8)271 2370 y FZ(More)h(precisely)m(,)e(this)h(is)h
(the)g(case)f(for)g(a)h(\014nite)f(or)h(coun)o(tably)d(in\014nite)h
(conjunction)f(of)j(prop)q(erties)208 2409 y(of)e(the)g(form)g(WF)449
2413 y FE(v)467 2409 y FZ(\()p FY(A)p FZ(\))h(and/or)e(SF)692
2413 y FE(v)710 2409 y FZ(\()p FY(A)p FZ(\),)i(where)g(eac)o(h)e
FW(h)p FY(A)p FW(i)1019 2413 y FE(v)1049 2409 y FZ(is)h(a)h(subaction)d
(of)j FY(Next)s FZ(.)16 b(This)11 b(result)f(also)208
2449 y(holds)g(for)h(the)g(w)o(eak)o(er)f(de\014nition)f(of)i
(subaction)e(in)i(the)g(fo)q(otnote)e(on)i(the)g(preceding)e(page.)p
Black Black Black eop
%%Page: 113 131
113 130 bop Black 208 275 a FR(8.9.)30 b(TEMPORAL)15
b(LOGIC)e(EXAMINED)969 b F4(113)p 208 282 1770 2 v Black
208 391 a(It)13 b(requires)i(some)e(though)o(t)h(to)f(determine)h(that)
g(the)g(liv)o(eness)g(condition)f(for)g(the)i(write-)208
441 y(through)9 b(cac)o(he,)i(form)o(ula)c(\(8.35\))i(on)g(page)h(108,)
f(do)q(es)i(imply)c(that)j(ev)o(ery)g(request)h(receiv)o(es)208
491 y(a)i(reply)m(.)270 541 y(It's)f(tempting)f(to)h(express)i(liv)o
(eness)e(prop)q(erties)i(more)d(directly)m(,)h(without)g(using)g(fair-)
208 591 y(ness)h(prop)q(erties.)19 b(F)m(or)13 b(example,)e(it's)h
(easy)h(to)f(write)h(a)g(temp)q(oral)e(form)o(ula)f(asserting)j(for)208
640 y(the)g(write-through)g(cac)o(he)g(that)g(ev)o(ery)g(request)h
(receiv)o(es)g(a)f(resp)q(onse.)19 b(When)13 b(pro)q(cessor)208
690 y FV(p)k F4(issues)e(a)f(request,)h(it)f(sets)i FV(ctl)t
F4([)p FV(p)s F4(])d(to)h(\\)p FD(rdy)p F4(".)19 b(W)m(e)14
b(just)h(ha)o(v)o(e)f(to)g(assert)h(that,)f(for)g(ev)o(ery)208
740 y(pro)q(cessor)j FV(p)s F4(,)e(whenev)o(er)h(a)f(state)h(in)f(whic)
o(h)g FV(ctl)t F4([)p FV(p)s F4(])e(=)h(\\)p FD(rdy)p
F4(")h(is)g(true)h(o)q(ccurs,)h(there)f(will)208 790
y(ev)o(en)o(tually)d(b)q(e)h(a)g FV(Rsp)s F4(\()p FV(p)s
F4(\))g(step:)p Black Black 332 873 a F0(8)7 b FV(p)14
b F0(2)e FV(Pr)n(o)n(c)20 b F4(:)e FG(2)p F4(\(\()p FV(ctl)t
F4([)p FV(p)s F4(])11 b(=)g(\\)p FD(rdy)p F4(")q(\))g
F0(\))g FG(3)p F0(h)s FV(Rsp)s F4(\()p FV(p)s F4(\))s
F0(i)1157 879 y FJ(vars)1225 873 y F4(\))p Black -1033
w(\(8.41\))p Black 208 956 a(While)i(suc)o(h)j(form)o(ulas)c(are)j(app)
q(ealing,)f(they)h(are)g(dangerous.)20 b(It's)15 b(v)o(ery)g(easy)g(to)
f(mak)o(e)208 1006 y(a)f(mistak)o(e)g(and)g(write)i(a)e(sp)q
(eci\014cation)i(that)f(isn't)f(mac)o(hine)g(closed.)270
1056 y(Except)k(in)f(un)o(usual)g(circumstances,)h(y)o(ou)f(should)g
(express)i(liv)o(eness)f(with)e(fairness)208 1105 y(prop)q(erties)g
(for)f(subactions)h(of)f(the)h(next-state)g(action.)k(These)d(are)e
(the)h(most)e(straigh)o(t-)208 1155 y(forw)o(ard)h(sp)q
(eci\014cations,)h(and)f(hence)i(the)g(easiest)f(to)g(write)f(and)h(to)
f(understand.)22 b(Most)208 1205 y(system)15 b(sp)q(eci\014cations,)i
(ev)o(en)f(if)f(v)o(ery)h(detailed)f(and)h(complicated,)e(can)i(b)q(e)g
(written)g(in)208 1255 y(this)d(straigh)o(tforw)o(ard)g(manner.)k(The)d
(exceptions)h(are)f(usually)f(in)g(the)i(realm)d(of)h(subtle,)208
1305 y(high-lev)o(el)f(sp)q(eci\014cations)j(that)f(attempt)f(to)h(b)q
(e)g(v)o(ery)h(general.)j(An)c(example)e(of)i(suc)o(h)g(a)208
1354 y(sp)q(eci\014cation)g(app)q(ears)h(in)e(Section)i(11.2.)208
1492 y F3(8.9.3)65 b(Mac)n(hine)23 b(Closure)f(and)h(P)n(ossibilit)n(y)
208 1583 y F4(Mac)o(hine)d(closure)h(can)f(b)q(e)h(though)o(t)f(of)g
(as)g(a)g(p)q(ossibilit)o(y)f(condition.)36 b(F)m(or)20
b(example,)208 1632 y(mac)o(hine)13 b(closure)j(of)e(the)h(pair)g
FV(S)5 b F4(,)14 b FG(23)p F0(h)s FV(A)s F0(i)905 1638
y FJ(v)942 1632 y F4(asserts)i(that)f(for)g(ev)o(ery)g(\014nite)g(b)q
(eha)o(vior)g FQ(\033)208 1682 y F4(satisfying)8 b FV(S)d
F4(,)10 b(it)g(is)f(p)q(ossible)h(to)f(extend)i FQ(\033)g
F4(to)e(an)h(in\014nite)f(b)q(eha)o(vior)g(satisfying)g
FV(S)15 b F4(in)9 b(whic)o(h)208 1732 y(in\014nitely)j(man)o(y)g
F0(h)s FV(A)s F0(i)563 1738 y FJ(v)598 1732 y F4(actions)i(o)q(ccur.)19
b(If)13 b(w)o(e)g(regard)h FV(S)19 b F4(as)14 b(a)f(system)g(sp)q
(eci\014cation,)h(so)208 1782 y(a)d(b)q(eha)o(vior)g(that)g
(satis\014es)h FV(S)17 b F4(represen)o(ts)d(a)d(p)q(ossible)h
(execution)g(of)f(the)g(system,)h(then)g(w)o(e)208 1832
y(can)i(restate)i(mac)o(hine)c(closure)j(of)f FV(S)5
b F4(,)14 b FG(23)p F0(h)s FV(A)s F0(i)957 1838 y FJ(v)993
1832 y F4(as)g(follo)o(ws:)j(in)d(an)o(y)g(system)g(execution,)208
1881 y(it)f(is)h(alw)o(a)o(ys)f(p)q(ossible)h(for)f(in\014nitely)g(man)
o(y)f F0(h)s FV(A)s F0(i)999 1887 y FJ(v)1035 1881 y
F4(actions)i(to)g(o)q(ccur.)270 1931 y(TLA)21 b(sp)q(eci\014cations)i
(express)g(safet)o(y)f(and)f(liv)o(eness)h(prop)q(erties,)j(not)c(p)q
(ossibilit)o(y)208 1981 y(prop)q(erties.)26 b(A)16 b(safet)o(y)h(prop)q
(ert)o(y)g(asserts)g(that)g(something)e(is)h(imp)q(ossible|for)d(exam-)
208 2031 y(ple,)g(the)h(system)g(cannot)g(tak)o(e)g(a)g(step)h(that)f
(do)q(esn't)g(satisfy)g(the)g(next-state)h(action.)j(A)208
2081 y(liv)o(eness)f(prop)q(ert)o(y)i(asserts)g(that)e(something)f(m)o
(ust)h(ev)o(en)o(tually)f(happ)q(en.)29 b(System)17 b(re-)208
2131 y(quiremen)o(ts)d(are)h(sometimes)e(stated)j(informally)11
b(in)k(terms)f(of)g(what)h(is)g(p)q(ossible.)21 b(Most)208
2180 y(of)10 b(the)h(time,)e(when)i(examined)f(rigorously)m(,)f(these)j
(requiremen)o(ts)f(can)g(b)q(e)g(expressed)i(with)208
2230 y(liv)o(eness)j(and/or)f(safet)o(y)h(prop)q(erties.)25
b(\(The)17 b(most)d(notable)i(exceptions)h(are)f(statistical)208
2280 y(prop)q(erties,)i(suc)o(h)g(as)f(assertions)h(ab)q(out)f(the)h
(probabilit)o(y)d(that)j(something)d(happ)q(ens.\))208
2330 y(W)m(e)f(are)i(nev)o(er)g(in)o(terested)h(in)d(sp)q(ecifying)h
(that)g(something)f FV(might)19 b F4(happ)q(en.)j(It's)15
b(nev)o(er)208 2380 y(useful)e(to)g(kno)o(w)g(that)h(the)g(system)f
FV(might)k F4(pro)q(duce)e(the)f(righ)o(t)f(answ)o(er.)19
b(W)m(e)13 b(nev)o(er)h(ha)o(v)o(e)208 2429 y(to)f(sp)q(ecify)h(that)g
(the)g(user)h FV(might)i F4(t)o(yp)q(e)e(an)e(\\)p FD(a)p
F4(")o(;)h(w)o(e)g(m)o(ust)e(sp)q(ecify)i(what)g(happ)q(ens)h(if)d(he)
208 2479 y(do)q(es.)p Black Black eop
%%Page: 114 132
114 131 bop Black 208 275 a F4(114)887 b FR(CHAPTER)14
b(8.)31 b(LIVENESS)15 b(AND)f(F)-5 b(AIRNESS)p 208 282
1770 2 v Black 270 391 a F4(Mac)o(hine)10 b(closure)h(is)f(a)g(prop)q
(ert)o(y)h(of)f(a)g(pair)f(of)h(form)o(ulas,)e(not)i(of)g(a)g(system.)
16 b(Although)208 441 y(a)9 b(p)q(ossibilit)o(y)g(prop)q(ert)o(y)h(is)g
(nev)o(er)h(a)e(useful)h(assertion)h(ab)q(out)f(a)f(system,)h(it)g(can)
g(b)q(e)g(a)g(useful)208 491 y(assertion)18 b(ab)q(out)g(a)g(sp)q
(eci\014cation.)31 b(A)19 b(sp)q(eci\014cation)f FV(S)24
b F4(of)17 b(a)h(system)g(with)g(k)o(eyb)q(oard)208 541
y(input)f(should)h(alw)o(a)o(ys)f(allo)o(w)f(the)j(user)g(to)f(t)o(yp)q
(e)g(an)g(\\)p FD(a)p F4(".)30 b(So,)18 b(ev)o(ery)h(\014nite)f(b)q
(eha)o(vior)208 591 y(satisfying)c FV(S)20 b F4(should)15
b(b)q(e)h(extendable)g(to)f(an)g(in\014nite)g(b)q(eha)o(vior)g
(satisfying)f FV(S)20 b F4(in)15 b(whic)o(h)208 640 y(in\014nitely)g
(man)o(y)e(\\)p FD(a)p F4("s)j(are)g(t)o(yp)q(ed.)24
b(If)16 b(the)g(action)f F0(h)s FV(A)s F0(i)1113 646
y FJ(v)1151 640 y F4(represen)o(ts)k(the)d(t)o(yping)f(of)g(an)208
690 y(\\)p FD(a)p F4(")o(,)c(then)h(sa)o(ying)e(that)i(the)f(user)i
(should)e(alw)o(a)o(ys)f(b)q(e)i(able)f(to)g(t)o(yp)q(e)g(in\014nitely)
g(man)o(y)e(\\)p FD(a)p F4("s)208 740 y(is)j(equiv)n(alen)o(t)g(to)g
(sa)o(ying)g(that)g(the)h(pair)f FV(S)5 b F4(,)13 b FG(23)p
F0(h)s FV(A)s F0(i)1047 746 y FJ(v)1081 740 y F4(should)g(b)q(e)g(mac)o
(hine)e(closed.)18 b(If)12 b FV(S)5 b F4(,)208 790 y
FG(23)p F0(h)s FV(A)s F0(i)341 796 y FJ(v)375 790 y F4(isn't)12
b(mac)o(hine)g(closed,)h(then)g(it)g(could)f(b)q(ecome)h(imp)q(ossible)
e(for)h(the)h(user)h(ev)o(er)208 840 y(to)h(t)o(yp)q(e)h(an)f(\\)p
FD(a)p F4(".)23 b(Unless)16 b(the)h(system)e(is)g(allo)o(w)o(ed)g(to)g
(lo)q(c)o(k)g(the)h(k)o(eyb)q(oard,)g(this)g(w)o(ould)208
889 y(mean)c(that)i(there)h(w)o(as)f(something)f(wrong)g(with)h(the)g
(sp)q(eci\014cation.)270 939 y(This)g(kind)f(of)h(p)q(ossibilit)o(y)f
(prop)q(ert)o(y)h(can)h(b)q(e)f(pro)o(v)o(ed.)19 b(F)m(or)14
b(example,)e(to)i(pro)o(v)o(e)g(that)208 989 y(it's)19
b(alw)o(a)o(ys)g(p)q(ossible)i(for)e(the)i(user)g(to)f(t)o(yp)q(e)h
(in\014nitely)e(man)o(y)f(\\)p FD(a)p F4("s,)j(w)o(e)g(sho)o(w)f(that)
208 1039 y(conjoining)f(suitable)h(fairness)h(conditions)f(on)h(the)g
(input)f(actions)h(implies)e(that)h(the)208 1089 y(user)f
FV(must)k F4(t)o(yp)q(e)c(in\014nitely)f(man)o(y)f(\\)p
FD(a)p F4("s.)32 b(Ho)o(w)o(ev)o(er,)20 b(pro)q(ofs)f(of)f(this)h(kind)
f(of)g(simple)208 1139 y(prop)q(ert)o(y)e(don't)f(seem)g(to)h(b)q(e)g
(w)o(orth)f(the)i(e\013ort.)23 b(When)16 b(writing)f(a)g(sp)q
(eci\014cation,)h(y)o(ou)208 1188 y(should)11 b(mak)o(e)f(sure)j(that)e
(p)q(ossibilities)g(allo)o(w)o(ed)f(b)o(y)i(the)g(real)f(system)h(are)g
(allo)o(w)o(ed)e(b)o(y)h(the)208 1238 y(sp)q(eci\014cation.)23
b(Once)17 b(y)o(ou)e(are)g(a)o(w)o(are)h(of)f(what)g(should)g(b)q(e)h
(p)q(ossible,)g(y)o(ou)f(will)f(usually)208 1288 y(ha)o(v)o(e)f(little)
f(trouble)i(ensuring)g(that)f(the)h(sp)q(eci\014cation)g(mak)o(es)e(it)
h(p)q(ossible.)18 b(Y)m(ou)13 b(should)208 1338 y(also)i(mak)o(e)f
(sure)j(that)f(what)f(the)i(system)e FV(must)20 b F4(do)15
b(is)h(implied)d(b)o(y)j(the)g(sp)q(eci\014cation's)208
1388 y(fairness)e(conditions.)k(This)13 b(can)h(b)q(e)h(more)e
(di\016cult.)208 1525 y F3(8.9.4)65 b(Re\014nemen)n(t)23
b(Mappings)g(and)g(F)-6 b(airness)208 1616 y F4(Section)18
b(5.8)f(\(page)h(62\))f(describ)q(es)j(ho)o(w)e(to)g(pro)o(v)o(e)g
(that)g(the)g(write-through)g(memory)208 1666 y(implem)o(en)o(ts)c(the)
j(memory)c(sp)q(eci\014cation.)25 b(W)m(e)15 b(ha)o(v)o(e)h(to)g(pro)o
(v)o(e)g FV(Sp)n(e)n(c)i F0(\))p 1415 1632 97 2 v 14
w FV(ISp)n(e)n(c)s F4(,)e(where)208 1715 y FV(Sp)n(e)n(c)e
F4(is)e(the)g(sp)q(eci\014cation)h(of)e(the)h(write-through)g(memory)m
(,)d FV(ISp)n(e)n(c)14 b F4(is)e(the)g(in)o(ternal)g(sp)q(ec-)208
1765 y(i\014cation)h(of)h(the)h(memory)d(\(with)i(the)h(in)o(ternal)e
(v)n(ariables)h(made)f(visible\),)h(and,)f(for)h(an)o(y)208
1815 y(form)o(ula)9 b FV(F)d F4(,)12 b(w)o(e)h(let)p
533 1782 33 2 v 12 w FV(F)18 b F4(mean)11 b FV(F)18 b
F4(with)12 b(expressions)i FV(omem)s F4(,)f FV(o)n(ctl)t
F4(,)f(and)g FV(obuf)22 b F4(substituted)208 1865 y(for)14
b(the)h(v)n(ariables)f FV(mem)s F4(,)h FV(ctl)t F4(,)f(and)g
FV(buf)9 b F4(.)20 b(W)m(e)14 b(could)h(rewrite)h(this)e(implication)e
(as)j(\(5.3\))208 1915 y(b)q(ecause)j(substitution)f(\(o)o(v)o
(erbarring\))g(distributes)h(o)o(v)o(er)f(op)q(erators)g(lik)o(e)g
F0(^)f F4(and)h FG(2)p F4(,)g(so)208 1964 y(w)o(e)d(had)p
Black Black 332 2008 667 2 v 332 2047 a FV(IInit)20 b
F0(^)c FG(2)p F4([)p FV(INext)t F4(])636 2054 y FH(h)s
FJ(memInt)s Fy(;)t FJ(mem)s Fy(;)t FJ(ctl)s Fy(;)5 b
FJ(buf)k FH(i)374 2119 y F0(\021)p 429 2080 86 2 v 23
w FV(IInit)20 b F0(^)p 575 2080 521 2 v 16 w FG(2)p F4([)p
FV(INext)t F4(])733 2126 y FH(h)s FJ(memInt)s Fy(;)t
FJ(mem)s Fy(;)t FJ(ctl)s Fy(;)5 b FJ(buf)k FH(i)p .95
TeXcolorgray .95 TeXcolorgray 1157 2140 465 57 v .95
TeXcolorgray Black 1165 2119 a FZ(Because)p 1300 2097
18 2 v 40 w(distributes)g(o)o(v)o(er)h FW(^)p FZ(.)p
.95 TeXcolorgray Black 374 2191 a F0(\021)p 429 2151
86 2 v 23 w FV(IInit)20 b F0(^)c FG(2)p F4([)p 618 2151
103 2 v FV(INext)s F4(])p 738 2180 362 2 v 738 2207 a
FH(h)s FJ(memInt)s Fy(;)t FJ(mem)s Fy(;)5 b FJ(ctl)s
Fy(;)t FJ(buf)k FH(i)p .95 TeXcolorgray .95 TeXcolorgray
1157 2211 558 57 v .95 TeXcolorgray Black 1165 2191 a
FZ(Because)p 1300 2169 18 2 v 40 w(distributes)g(o)o(v)o(er)h
Fs(2)p FZ([)p FW(\001)c(\001)g(\001)o FZ(])1666 2195
y Fr(:::)1697 2191 y FZ(.)p .95 TeXcolorgray Black 374
2265 a F0(\021)p 429 2232 86 2 v 23 w FV(IInit)20 b F0(^)c
FG(2)p F4([)p 618 2232 103 2 v FV(INext)s F4(])732 2282
y FH(h)p 748 2254 119 2 v 3 w FJ(memInt)r Fy(;)p 882
2254 74 2 v 6 w FJ(mem)q Fy(;)p 971 2254 40 2 v 6 w FJ(ctl)r
Fy(;)p 1026 2254 52 2 v 6 w FJ(buf)9 b FH(i)p .95 TeXcolorgray
.95 TeXcolorgray 1157 2285 516 57 v .95 TeXcolorgray
Black 1165 2265 a FZ(Because)p 1300 2243 18 2 v 40 w(distributes)g(o)o
(v)o(er)h FW(h)s Fw(:)5 b(:)h(:)s FW(i)p FZ(.)p .95 TeXcolorgray
Black 374 2340 a F0(\021)p 429 2307 86 2 v 23 w FV(IInit)20
b F0(^)c FG(2)p F4([)p 618 2307 103 2 v FV(INext)s F4(])732
2357 y FH(h)s FJ(memInt)s Fy(;)p 882 2329 74 2 v 5 w
FJ(mem)q Fy(;)p 971 2329 40 2 v 6 w FJ(ctl)r Fy(;)p 1026
2329 52 2 v 6 w FJ(buf)9 b FH(i)p .95 TeXcolorgray .95
TeXcolorgray 1157 2360 456 60 v .95 TeXcolorgray Black
1165 2340 a FZ(Because)p 1300 2312 124 2 v 10 w FY(memInt)14
b FZ(=)c FY(memInt)s FZ(.)p .95 TeXcolorgray Black 208
2433 a F4(Adding)16 b(liv)o(eness)h(to)g(the)g(sp)q(eci\014cations)h
(adds)f(conjuncts)g(to)g(the)g(form)o(ulas)e FV(Sp)n(e)n(c)k
F4(and)208 2483 y FV(ISp)n(e)n(c)r F4(.)29 b(Supp)q(ose)19
b(w)o(e)e(tak)o(e)h(form)o(ula)d FV(Liveness)s F4(2,)j(de\014ned)h(in)e
(\(8.19\))f(on)h(page)h(101,)f(as)p Black Black eop
%%Page: 115 133
115 132 bop Black 208 275 a FR(8.9.)30 b(TEMPORAL)15
b(LOGIC)e(EXAMINED)969 b F4(115)p 208 282 1770 2 v Black
208 391 a(the)16 b(liv)o(eness)g(prop)q(ert)o(y)h(of)e
FV(ISp)n(e)n(c)r F4(.)24 b(Then)p 896 358 97 2 v 16 w
FV(ISp)n(e)n(c)19 b F4(has)d(the)g(additional)e(term)p
1457 358 178 2 v 15 w FV(Liveness)s F4(2,)208 441 y(whic)o(h)f(can)h(b)
q(e)h(simpli\014ed)d(as)i(follo)o(ws:)p Black Black 332
490 V 332 530 a FV(Liveness)s F4(2)374 594 y F0(\021)p
429 554 691 2 v 23 w(8)7 b FV(p)14 b F0(2)d FV(Pr)n(o)n(c)21
b F4(:)d(WF)736 600 y FJ(vars)802 594 y F4(\()p FV(Do)s
F4(\()p FV(p)s F4(\))10 b F0(_)f FV(Rsp)s F4(\()p FV(p)s
F4(\)\))p .95 TeXcolorgray .95 TeXcolorgray 1175 614
431 57 v .95 TeXcolorgray Black 65 w FZ(By)i(de\014nition)e(of)i
FY(Liveness)s FZ(2.)p .95 TeXcolorgray Black 374 665
a F0(\021)23 b(8)7 b FV(p)14 b F0(2)d FV(Pr)n(o)n(c)21
b F4(:)p 666 625 454 2 v 18 w(WF)736 671 y FJ(vars)802
665 y F4(\()p FV(Do)s F4(\()p FV(p)s F4(\))10 b F0(_)f
FV(Rsp)s F4(\()p FV(p)s F4(\)\))p .95 TeXcolorgray .95
TeXcolorgray 1175 685 467 57 v .95 TeXcolorgray Black
65 w FZ(Because)p 1319 643 18 2 v 39 w(distributes)g(o)o(v)o(er)h
FW(8)5 b FZ(.)p .95 TeXcolorgray Black 208 759 a F4(But)18
b(w)o(e)f(cannot)h(automatically)c(mo)o(v)o(e)i(the)p
949 733 21 2 v 57 w(inside)h(the)h(WF)f(b)q(ecause)j(substitution)208
809 y(do)q(es)14 b(not,)g(in)g(general,)g(distribute)h(o)o(v)o(er)f
FP(enabled)p F4(,)h(and)f(hence)i(it)d(do)q(es)i(not)f(distribute)208
859 y(o)o(v)o(er)h(WF)h(or)g(SF.)24 b(F)m(or)15 b(the)i(sp)q
(eci\014cations)g(and)e(re\014nemen)o(t)i(mappings)c(that)j(o)q(ccur)h
(in)208 909 y(practice,)k(including)d(this)i(one,)g(simply)d(replacing)
j(eac)o(h)p 1169 873 154 2 v 19 w(WF)1239 915 y FJ(v)1260
909 y F4(\()p FV(A)p F4(\))g(b)o(y)f(WF)p 1476 898 22
2 v 6 x FJ(v)1497 909 y F4(\()p 1513 875 31 2 v FV(A)p
F4(\))g(and)208 959 y(eac)o(h)p 302 922 135 2 v 15 w(SF)352
965 y FJ(v)373 959 y F4(\()p FV(A)p F4(\))14 b(b)o(y)h(SF)p
559 948 22 2 v 6 x FJ(v)580 959 y F4(\()p 596 925 31
2 v FV(A)p F4(\))g(do)q(es)g(giv)o(e)f(the)h(righ)o(t)f(result.)21
b(Ho)o(w)o(ev)o(er,)15 b(y)o(ou)f(don't)g(ha)o(v)o(e)g(to)208
1008 y(dep)q(end)i(on)f(this.)23 b(Y)m(ou)15 b(can)h(instead)g(expand)f
(the)h(de\014nitions)g(of)f(WF)g(and)g(SF)h(to)f(get,)208
1058 y(for)e(example:)p Black Black 332 1111 154 2 v
332 1147 a(WF)402 1153 y FJ(v)423 1147 y F4(\()p FV(A)p
F4(\))42 b F0(\021)p 583 1107 576 2 v 23 w FG(23)p F0(:)p
FP(enabled)10 b F0(h)s FV(A)s F0(i)921 1153 y FJ(v)959
1147 y F0(_)16 b FG(23)p F0(h)s FV(A)s F0(i)1136 1153
y FJ(v)p .95 TeXcolorgray .95 TeXcolorgray 1214 1167
339 57 v .95 TeXcolorgray Black 1223 1147 a FZ(By)11
b(de\014nition)e(of)i(WF.)p .95 TeXcolorgray Black 528
1217 a F0(\021)23 b FG(23)p F0(:)p 675 1181 269 2 v FP(enabled)10
b F0(h)s FV(A)s F0(i)921 1223 y FJ(v)959 1217 y F0(_)16
b FG(23)p F0(h)p 1086 1178 31 2 v 3 w FV(A)t F0(i)p 1137
1206 22 2 v 7 x FJ(v)p .95 TeXcolorgray .95 TeXcolorgray
1214 1238 355 57 v .95 TeXcolorgray Black 1223 1217 a
FZ(By)11 b(distributivit)o(y)d(of)p 1533 1195 18 2 v
29 w(.)p .95 TeXcolorgray Black 208 1299 a F4(Y)m(ou)19
b(can)h(compute)f(the)i FP(enabled)g F4(predicates)g(\\b)o(y)f(hand")f
(and)h(then)g(p)q(erform)f(the)208 1348 y(substitution.)f(When)c
(computing)f FP(enabled)j F4(predicates,)f(it)f(su\016ces)h(to)f
(consider)h(only)208 1398 y(states)i(satisfying)e(the)h(safet)o(y)h
(part)f(of)f(the)i(sp)q(eci\014cation,)g(whic)o(h)e(usually)h(means)f
(that)208 1448 y FP(enabled)10 b F0(h)s FV(A)s F0(i)454
1454 y FJ(v)490 1448 y F4(equals)15 b FP(enabled)10 b
FV(A)p F4(.)19 b(Y)m(ou)13 b(can)h(then)h(compute)f FP(enabled)h
F4(predicates)208 1498 y(using)e(the)i(follo)o(wing)c(rules:)p
Black 258 1581 a(1.)p Black 20 w FP(enabled)g F4(\()p
FV(A)j F0(_)g FV(B)t F4(\))24 b F0(\021)g F4(\()p FP(enabled)11
b FV(A)p F4(\))21 b F0(_)g F4(\()p FP(enabled)11 b FV(B)t
F4(\),)23 b(for)e(an)o(y)g(actions)g FV(A)311 1631 y
F4(and)14 b FV(B)t F4(.)p Black 258 1714 a(2.)p Black
20 w FP(enabled)d F4(\()p FV(P)18 b F0(^)13 b FV(A)p
F4(\))22 b F0(\021)h FV(P)18 b F0(^)13 b F4(\()p FP(enabled)e
FV(A)p F4(\),)21 b(for)f(an)o(y)g(state)h(predicate)g
FV(P)k F4(and)311 1763 y(action)14 b FV(A)p F4(.)p Black
258 1846 a(3.)p Black 20 w FP(enabled)d F4(\()p FV(A)c
F0(^)g FV(B)t F4(\))k F0(\021)h F4(\()p FP(enabled)f
FV(A)p F4(\))i F0(^)g F4(\()p FP(enabled)e FV(B)t F4(\),)i(if)f
FV(A)g F4(and)h FV(B)k F4(are)c(actions)311 1896 y(suc)o(h)i(that)f
(the)g(same)f(v)n(ariable)g(do)q(es)i(not)f(app)q(ear)g(primed)f(in)g
(b)q(oth)h FV(A)g F4(and)g FV(B)t F4(.)p Black 258 1979
a(4.)p Black 20 w FP(enabled)d F4(\()p FV(x)529 1964
y FH(0)556 1979 y F4(=)16 b FV(exp)s F4(\))f F0(\021)h
FP(tr)o(ue)g F4(and)g FP(enabled)11 b F4(\()p FV(x)1159
1964 y FH(0)1186 1979 y F0(2)k FV(exp)s F4(\))g F0(\021)h
F4(\()p FV(exp)i F0(6)p F4(=)d F0(fg)p F4(\),)h(for)311
2029 y(an)o(y)e(v)n(ariable)f FV(x)19 b F4(and)13 b(state)i(function)27
b FV(exp)s F4(.)208 2112 y(F)m(or)13 b(example:)p Black
Black 332 2161 495 2 v 332 2201 a FP(enabled)e F4(\()p
FV(Do)s F4(\()p FV(p)s F4(\))e F0(_)g FV(Rsp)s F4(\()p
FV(p)s F4(\)\))374 2270 y F0(\021)p 429 2231 645 2 v
23 w F4(\()p FV(ctl)t F4([)p FV(p)s F4(])h(=)i(\\)p FD(rdy)p
F4("\))17 b F0(_)f F4(\()p FV(ctl)t F4([)p FV(p)s F4(])10
b(=)i(\\)p FD(done)p F4("\))p .95 TeXcolorgray .95 TeXcolorgray
1168 2291 220 57 v .95 TeXcolorgray Black 103 w FZ(By)g(rules)e(1{4.)p
.95 TeXcolorgray Black 374 2338 a F0(\021)23 b F4(\()p
FV(o)n(ctl)t F4([)p FV(p)s F4(])10 b(=)i(\\)p FD(rdy)p
F4("\))17 b F0(_)f F4(\()p FV(o)n(ctl)t F4([)p FV(p)s
F4(])10 b(=)i(\\)p FD(done)p F4("\))p .95 TeXcolorgray
.95 TeXcolorgray 1168 2358 342 57 v .95 TeXcolorgray
Black 65 w FZ(By)g(the)e(meaning)f(of)p 1474 2316 18
2 v 29 w(.)p .95 TeXcolorgray Black Black Black eop
%%Page: 116 134
116 133 bop Black 208 275 a F4(116)887 b FR(CHAPTER)14
b(8.)31 b(LIVENESS)15 b(AND)f(F)-5 b(AIRNESS)p 208 282
1770 2 v Black 208 391 a F3(8.9.5)65 b(The)22 b(Unimp)r(ortance)i(of)d
(Liv)n(eness)208 482 y F4(While)16 b(philosophically)f(imp)q(ortan)o
(t,)h(in)h(practice)h(the)g(liv)o(eness)g(prop)q(ert)o(y)g(of)f
(\(8.39\))f(is)208 532 y(not)g(as)g(imp)q(ortan)o(t)e(as)i(the)h(safet)
o(y)f(part,)h FV(Init)c F0(^)c FG(2)p F4([)p FV(Next)t
F4(])1146 538 y FJ(vars)1211 532 y F4(.)25 b(The)16 b(ultimate)f(purp)q
(ose)208 582 y(of)f(writing)f(a)i(sp)q(eci\014cation)g(is)g(to)f(a)o(v)
o(oid)g(errors.)21 b(Exp)q(erience)c(sho)o(ws)e(that)g(most)e(of)h(the)
208 632 y(b)q(ene\014t)j(from)d(writing)h(and)g(using)h(a)f(sp)q
(eci\014cation)i(comes)e(from)f(the)j(safet)o(y)f(part.)24
b(On)208 681 y(the)11 b(other)g(hand,)g(the)g(liv)o(eness)g(prop)q(ert)
o(y)g(is)g(usually)e(easy)i(enough)g(to)f(write.)18 b(It)10
b(t)o(ypically)208 731 y(constitutes)15 b(less)g(than)f(\014v)o(e)g(p)q
(ercen)o(t)i(of)d(a)h(sp)q(eci\014cation.)19 b(So,)14
b(y)o(ou)f(migh)o(t)f(as)i(w)o(ell)g(write)208 781 y(the)h(liv)o(eness)
g(part.)21 b(Ho)o(w)o(ev)o(er,)15 b(when)h(lo)q(oking)d(for)h(errors,)i
(most)e(of)g(y)o(our)g(e\013ort)i(should)208 831 y(b)q(e)e(dev)o(oted)h
(to)e(examining)f(the)i(safet)o(y)g(part.)208 968 y F3(8.9.6)65
b(T)-6 b(emp)r(oral)23 b(Logic)g(Considered)f(Confusing)208
1059 y F4(The)14 b(most)f(general)h(t)o(yp)q(e)g(of)f(sp)q
(eci\014cation)i(I'v)o(e)f(discussed)h(so)f(far)g(has)g(the)g(form)p
Black Black 332 1140 a F0(9)-21 b(9)g(9)332 1142 y(9)g(9)g(9)6
b FV(v)388 1148 y FS(1)407 1142 y FQ(;)h(:)g(:)g(:)e(;)i
FV(v)523 1148 y FJ(n)566 1142 y F4(:)18 b FV(Init)13
b F0(^)8 b FG(2)p F4([)p FV(Next)t F4(])853 1148 y FJ(vars)928
1142 y F0(^)h FV(Liveness)p Black -910 w F4(\(8.42\))p
Black 208 1225 a(where)17 b FV(Liveness)i F4(is)d(the)g(conjunction)g
(of)f(fairness)h(prop)q(erties)i(of)d(subactions)h(of)f
FV(Next)t F4(.)208 1275 y(This)c(is)g(a)g(v)o(ery)h(restricted)h(class)
f(of)f(temp)q(oral-logic)e(form)o(ulas.)15 b(T)m(emp)q(oral)9
b(logic)i(is)g(quite)208 1325 y(expressiv)o(e,)17 b(and)e(one)h(can)g
(com)o(bine)e(its)i(op)q(erators)g(in)f(all)g(sorts)h(of)f(w)o(a)o(ys)g
(to)h(express)h(a)208 1375 y(wide)g(v)n(ariet)o(y)g(of)g(prop)q
(erties.)31 b(This)17 b(suggests)i(the)f(follo)o(wing)d(approac)o(h)j
(to)f(writing)g(a)208 1424 y(sp)q(eci\014cation:)f(express)11
b(eac)o(h)g(prop)q(ert)o(y)f(that)g(the)g(system)f(m)o(ust)g(satisfy)g
(with)g(a)g(temp)q(oral)208 1474 y(form)o(ula,)g(and)j(then)h(conjoin)e
(all)g(these)i(form)o(ulas.)i(F)m(or)d(example,)f(form)o(ula)e
(\(8.41\))i(ab)q(o)o(v)o(e)208 1524 y(expresses)16 b(the)e(prop)q(ert)o
(y)g(of)f(the)h(write-through)f(cac)o(he)i(that)e(ev)o(ery)h(request)h
(ev)o(en)o(tually)208 1574 y(receiv)o(es)g(a)f(resp)q(onse.)270
1624 y(This)k(approac)o(h)h(is)g(philosophically)d(app)q(ealing.)32
b(It)19 b(has)g(just)g(one)g(problem:)26 b(it's)208 1673
y(practical)14 b(for)f(only)h(the)g(v)o(ery)h(simplest)e(of)g(sp)q
(eci\014cations|and)i(ev)o(en)f(for)g(them,)f(it)h(sel-)208
1723 y(dom)c(w)o(orks)h(w)o(ell.)17 b(The)12 b(un)o(bridled)g(use)g(of)
g(temp)q(oral)e(logic)h(pro)q(duces)i(form)o(ulas)d(that)h(are)208
1773 y(hard)k(to)g(understand.)22 b(Conjoining)13 b(sev)o(eral)j(of)e
(these)j(form)o(ulas)12 b(pro)q(duces)17 b(a)e(sp)q(eci\014ca-)208
1823 y(tion)e(that)h(is)g(imp)q(ossible)e(to)i(understand.)270
1873 y(The)h(basic)h(form)d(of)h(a)h(TLA)g(sp)q(eci\014cation)h(is)f
(\(8.42\).)21 b(Most)15 b(sp)q(eci\014cations)h(should)208
1923 y(ha)o(v)o(e)f(this)h(form.)23 b(W)m(e)15 b(can)h(also)g(use)g
(this)g(kind)g(of)f(sp)q(eci\014cation)i(as)f(a)f(building)g(blo)q(c)o
(k.)208 1972 y(Chapters)k(9)g(and)f(10)g(describ)q(e)j(situations)d(in)
g(whic)o(h)h(w)o(e)g(write)g(a)f(sp)q(eci\014cation)h(as)g(a)208
2022 y(conjunction)e(of)f(suc)o(h)j(form)o(ulas.)26 b(Section)17
b(10.7)f(in)o(tro)q(duces)j(an)e(additional)e(temp)q(oral)208
2072 y(op)q(erator)382 2052 y FI(+)376 2072 y F0(\000)-7
b FQ(.)16 b F4(and)f(explains)g(wh)o(y)h(w)o(e)f(migh)o(t)e(w)o(an)o(t)
i(to)h(write)f(a)g(sp)q(eci\014cation)i FV(F)1544 2052
y FI(+)1538 2072 y F0(\000)-7 b FQ(.)15 b FV(G)t F4(,)208
2122 y(where)k FV(F)24 b F4(and)18 b FV(G)k F4(ha)o(v)o(e)d(the)g(form)
d(\(8.42\).)31 b(But)19 b(suc)o(h)g(sp)q(eci\014cations)g(are)g(of)f
(limited)208 2172 y(practical)13 b(use.)19 b(Most)14
b(engineers)h(need)f(only)f(kno)o(w)g(ho)o(w)g(to)h(write)g(sp)q
(eci\014cations)g(of)f(the)208 2221 y(form)c(\(8.42\).)16
b(Indeed,)d(they)e(can)h(get)g(along)e(quite)h(w)o(ell)g(with)g(sp)q
(eci\014cations)h(of)f(the)h(form)208 2271 y(\(8.38\))g(that)i(express)
i(only)d(safet)o(y)h(prop)q(erties)i(and)d(don't)h(hide)g(an)o(y)f(v)n
(ariables.)p Black Black eop
%%Page: 117 135
117 134 bop Black Black 208 703 a FL(Chapter)31 b(9)208
910 y F5(Real)39 b(Time)208 1126 y F4(With)12 b(a)g(liv)o(eness)i(prop)
q(ert)o(y)m(,)f(w)o(e)g(can)g(sp)q(ecify)g(that)g(a)g(system)g(m)o(ust)
e(ev)o(en)o(tually)i(resp)q(ond)208 1176 y(to)f(a)g(request.)20
b(W)m(e)12 b(cannot)g(sp)q(ecify)i(that)e(it)h(m)o(ust)e(resp)q(ond)j
(within)e(the)h(next)g(100)f(y)o(ears.)208 1226 y(T)m(o)h(sp)q(ecify)h
(timely)e(resp)q(onse,)j(w)o(e)g(m)o(ust)d(use)j(a)f(real-time)e(prop)q
(ert)o(y)m(.)270 1276 y(A)20 b(system)g(that)g(do)q(es)h(not)f(resp)q
(ond)i(within)d(our)h(lifetime)e(isn't)i(v)o(ery)g(useful,)i(so)208
1325 y(w)o(e)16 b(migh)o(t)f(exp)q(ect)j(real-time)d(sp)q
(eci\014cations)j(to)e(b)q(e)i(common.)23 b(They)17 b(aren't.)26
b(F)m(ormal)208 1375 y(sp)q(eci\014cations)17 b(are)f(most)f(often)h
(used)h(to)f(describ)q(e)i(what)e(a)f(system)h(do)q(es)h(rather)g(than)
208 1425 y(ho)o(w)12 b(long)f(it)h(tak)o(es)h(to)f(do)h(it.)k(Ho)o(w)o
(ev)o(er,)12 b(y)o(ou)g(ma)o(y)f(someda)o(y)g(w)o(an)o(t)h(to)g(sp)q
(ecify)h(real-time)208 1475 y(prop)q(erties)i(of)e(a)h(system.)k(This)
13 b(c)o(hapter)i(tells)f(y)o(ou)f(ho)o(w.)208 1633 y
FN(9.1)81 b(The)27 b(Hour)g(Clo)r(c)n(k)g(Revisited)208
1724 y F4(Let's)17 b(return)g(to)g(our)g(sp)q(eci\014cation)g(of)f(the)
h(simple)e(hour)i(clo)q(c)o(k)g(in)f(Chapter)h(2,)g(whic)o(h)208
1774 y(asserts)c(that)f(the)g(v)n(ariable)f FV(hr)k F4(cycles)e
(through)f(the)g(v)n(alues)g(1)f(through)h(12.)k(W)m(e)c(no)o(w)f(add)
208 1824 y(the)k(requiremen)o(t)f(that)g(the)h(clo)q(c)o(k)g(k)o(eep)g
(correct)h(time.)i(F)m(or)c(cen)o(turies,)h(scien)o(tists)h(ha)o(v)o(e)
208 1873 y(represen)o(ted)g(the)f(real-time)d(b)q(eha)o(vior)h(of)h(a)f
(system)h(b)o(y)f(in)o(tro)q(ducing)h(a)f(v)n(ariable,)f(tradi-)208
1923 y(tionally)g FV(t)t F4(,)i(whose)h(v)n(alue)f(is)g(a)h(real)f(n)o
(um)o(b)q(er)g(that)g(represen)o(ts)k(time.)g(A)d(state)g(in)f(whic)o
(h)p .95 TeXcolorgray .95 TeXcolorgray 1679 2050 307
158 v .95 TeXcolorgray Black Black 41 w FZ(Remem)o(b)q(er)9
b(that)i(a)1687 1963 y(state)g(is)g(an)g(assign-)1687
2002 y(men)o(t)g(of)g(v)n(alues)f(to)1687 2042 y(all)h(v)n(ariables.)p
Black .95 TeXcolorgray Black 208 1973 a FV(t)16 b F4(=)d
F0(\000)p F4(17)p FQ(:)p F4(51)h(represen)o(ts)j(a)e(state)g(of)f(the)h
(system)g(at)g(time)e F0(\000)p F4(17)p FQ(:)p F4(51,)g(p)q(erhaps)j
(measured)208 2023 y(in)c(seconds)j(elapsed)f(since)g(00:00)d(UT)i(on)g
(1)g(Jan)o(uary)g(2000.)k(In)c(TLA)1333 2008 y FS(+)1367
2023 y F4(sp)q(eci\014cations,)h(I)208 2073 y(prefer)i(to)g(use)g(the)g
(v)n(ariable)f FV(now)20 b F4(rather)c(than)g FV(t)t
F4(.)22 b(F)m(or)16 b(linguistic)e(con)o(v)o(enience,)j(I)e(will)208
2123 y(usually)d(assume)g(that)h(the)h(unit)f(of)f(time)g(is)h(the)g
(second,)h(though)f(w)o(e)g(could)g(just)g(as)h(w)o(ell)208
2172 y(c)o(ho)q(ose)g(an)o(y)g(other)g(unit.)270 2222
y(Unlik)o(e)f(sciences)i(suc)o(h)f(as)f(ph)o(ysics)h(and)f(c)o
(hemistry)m(,)f(computer)h(science)i(studies)f(sys-)208
2272 y(tems)h(whose)i(b)q(eha)o(vior)e(can)i(b)q(e)f(describ)q(ed)i(b)o
(y)e(a)g(sequence)i(of)d(discrete)j(states,)f(rather)208
2322 y(than)e(b)o(y)f(states)j(that)e(v)n(ary)f(con)o(tin)o(uously)h
(with)f(time.)21 b(W)m(e)14 b(consider)i(the)g(hour)f(clo)q(c)o(k's)208
2372 y(displa)o(y)i(to)h(c)o(hange)h(directly)g(from)d(reading)i(12)g
(to)g(reading)h(1,)f(and)h(ignore)f(the)h(con-)208 2421
y(tin)o(uum)c(of)i(in)o(termediate)f(states)j(that)e(o)q(ccur)i(in)e
(the)h(ph)o(ysical)e(displa)o(y)m(.)27 b(This)18 b(means)208
2471 y(that)13 b(w)o(e)h(pretend)h(that)f(the)g(c)o(hange)g(is)g
(instan)o(taneous)g(\(happ)q(ens)h(in)e(0)h(seconds\).)19
b(So,)13 b(a)p Black 1915 2622 a(117)p Black eop
%%Page: 118 136
118 135 bop Black 208 275 a F4(118)1178 b FR(CHAPTER)14
b(9.)31 b(REAL)14 b(TIME)p 208 282 1770 2 v Black 208
391 a F4(real-time)e(sp)q(eci\014cation)j(of)e(the)h(clo)q(c)o(k)g
(migh)o(t)e(allo)o(w)g(the)j(step)p Black Black 332 434
a FF(\024)p Black 33 x FV(hr)61 b F4(=)23 b(12)354 519
y FV(now)28 b F4(=)509 485 y F0(p)p 544 485 74 2 v 34
x F4(2)p FQ(:)p F4(47)p Black 617 434 a FF(\025)665 493
y F0(!)732 434 y FF(\024)p Black 753 467 a FV(hr)61 b
F4(=)23 b(1)753 519 y FV(now)28 b F4(=)908 485 y F0(p)p
943 485 V 34 x F4(2)p FQ(:)p F4(47)p Black 1017 434 a
FF(\025)208 596 y F4(The)13 b(v)n(alue)g(of)f FV(now)18
b F4(adv)n(ances)13 b(b)q(et)o(w)o(een)i(c)o(hanges)f(to)f
FV(hr)t F4(.)k(If)c(w)o(e)g(w)o(an)o(ted)h(to)f(sp)q(ecify)g(ho)o(w)208
645 y(long)j(it)h(tak)o(es)g(the)h(displa)o(y)e(to)h(c)o(hange)h(from)d
(12)i(to)g(1,)g(w)o(e)h(w)o(ould)e(ha)o(v)o(e)h(to)g(in)o(tro)q(duce)
208 695 y(an)12 b(in)o(termediate)g(state)h(that)g(represen)o(ts)i(a)d
(c)o(hanging)g(displa)o(y|p)q(erhaps)g(b)o(y)h(letting)f
FV(hr)208 745 y F4(assume)17 b(some)g(in)o(termediate)g(v)n(alue)g(suc)
o(h)h(as)g(12)p FQ(:)p F4(5,)f(or)h(b)o(y)f(adding)g(a)h(Bo)q(olean-v)n
(alued)208 795 y(v)n(ariable)c FV(chg)20 b F4(whose)d(v)n(alue)e
(indicates)i(whether)g(the)g(displa)o(y)e(is)g(c)o(hanging.)24
b(W)m(e)16 b(w)o(on't)208 845 y(do)f(this,)i(but)f(will)f(b)q(e)h(con)o
(ten)o(t)h(to)f(sp)q(ecify)h(an)f(hour)g(clo)q(c)o(k)g(in)g(whic)o(h)g
(w)o(e)g(consider)h(the)208 894 y(displa)o(y)12 b(to)i(c)o(hange)g
(instan)o(taneously)m(.)270 944 y(The)k(v)n(alue)e(of)h
FV(now)22 b F4(c)o(hanges)c(b)q(et)o(w)o(een)h(c)o(hanges)f(to)f
FV(hr)t F4(.)28 b(Just)19 b(as)e(w)o(e)h(represen)o(t)h(a)208
994 y(con)o(tin)o(uously)11 b(v)n(arying)h(clo)q(c)o(k)g(displa)o(y)g
(b)o(y)g(a)g(v)n(ariable)g(whose)h(v)n(alue)f(c)o(hanges)h(in)f
(discrete)208 1044 y(steps,)h(w)o(e)e(let)h(the)g(v)n(alue)f(of)g
FV(now)16 b F4(c)o(hange)c(in)g(discrete)h(steps.)19
b(A)11 b(b)q(eha)o(vior)h(in)f(whic)o(h)g FV(now)208
1094 y F4(increases)i(in)f(fem)o(tosecond)f(incremen)o(ts)i(w)o(ould)e
(b)q(e)i(an)e(accurate)j(enough)e(description)g(of)208
1143 y(con)o(tin)o(uously)c(c)o(hanging)h(time)g(for)g(our)g(sp)q
(eci\014cation)i(of)e(the)h(hour)f(clo)q(c)o(k.)17 b(In)10
b(fact,)g(there's)208 1193 y(no)16 b(need)h(to)f(c)o(ho)q(ose)h(an)o(y)
f(particular)g(gran)o(ularit)o(y)f(of)h(time;)f(w)o(e)i(can)g(let)f
FV(now)21 b F4(adv)n(ance)208 1243 y(b)o(y)14 b(arbitrary)h(amoun)o(ts)
f(b)q(et)o(w)o(een)i(clo)q(c)o(k)f(tic)o(ks.)22 b(\(Since)16
b(the)f(v)n(alue)g(of)f FV(hr)19 b F4(is)c(unc)o(hanged)208
1293 y(b)o(y)d(steps)i(that)f(c)o(hange)g FV(now)t F4(,)g(the)h
(requiremen)o(t)f(that)g(the)g(clo)q(c)o(k)g(k)o(eep)g(correct)i(time)c
(will)208 1343 y(rule)j(out)f(b)q(eha)o(viors)h(in)g(whic)o(h)g
FV(now)k F4(c)o(hanges)d(b)o(y)e(to)q(o)h(m)o(uc)o(h)f(in)g(a)h(single)
f(step.\))270 1393 y(What)i(real-time)g(condition)g(should)h(our)g
(hour)g(clo)q(c)o(k)g(satisfy?)24 b(W)m(e)15 b(migh)o(t)f(require)208
1442 y(that)20 b(it)g(alw)o(a)o(ys)f(displa)o(y)g(the)i(time)e
(correctly)i(to)f(within)f FQ(\032)i F4(seconds,)i(for)d(some)f(real)
208 1492 y(n)o(um)o(b)q(er)13 b FQ(\032)p F4(.)21 b(Ho)o(w)o(ev)o(er,)
15 b(this)f(is)h(not)f(t)o(ypical)g(of)g(the)h(real-time)e(requiremen)o
(ts)i(that)g(arise)208 1542 y(in)h(actual)g(systems.)26
b(Instead,)17 b(w)o(e)g(require)h(that)e(the)h(clo)q(c)o(k)g(tic)o(k)f
(appro)o(ximately)e(once)208 1592 y(p)q(er)f(hour.)k(More)c(precisely)m
(,)g(w)o(e)g(require)g(that)f(the)h(in)o(terv)n(al)f(b)q(et)o(w)o(een)i
(tic)o(ks)e(b)q(e)h(one)g(hour)208 1642 y(plus)d(or)h(min)o(us)e
FQ(\032)i F4(seconds,)h(for)f(some)f(p)q(ositiv)o(e)g(n)o(um)o(b)q(er)g
FQ(\032)p F4(.)17 b(Of)11 b(course,)h(this)f(requiremen)o(t)208
1691 y(allo)o(ws)i(the)i(time)e(displa)o(y)o(ed)h(b)o(y)g(the)h(clo)q
(c)o(k)f(ev)o(en)o(tually)g(to)g(drift)g(a)o(w)o(a)o(y)g(from)e(the)j
(actual)208 1741 y(time.)h(But)f(that's)f(what)f(real)h(clo)q(c)o(ks)g
(do)g(if)f(they)i(are)f(not)g(reset.)270 1791 y(W)m(e)i(could)g(start)h
(our)g(sp)q(eci\014cation)g(of)f(the)h(real-time)e(clo)q(c)o(k)i(from)d
(scratc)o(h.)27 b(Ho)o(w-)208 1841 y(ev)o(er,)21 b(w)o(e)e(still)g(w)o
(an)o(t)g(the)h(hour)f(clo)q(c)o(k)h(to)f(satisfy)g(the)h(sp)q
(eci\014cation)h FV(HC)j F4(of)19 b(mo)q(dule)208 1891
y FV(HourClo)n(ck)c F4(\(Figure)d(2.1)f(on)g(page)h(20\).)17
b(W)m(e)11 b(just)h(w)o(an)o(t)f(to)h(add)f(an)h(additional)d
(real-time)208 1940 y(requiremen)o(t.)17 b(So,)c(w)o(e)g(will)f(write)i
(the)g(sp)q(eci\014cation)f(as)h(the)g(conjunction)f(of)f
FV(HC)19 b F4(and)13 b(a)208 1990 y(form)o(ula)e(requiring)j(that)g
(the)g(clo)q(c)o(k)g(tic)o(k)g(ev)o(ery)h(hour,)f(plus)f(or)h(min)o(us)
f FQ(\032)h F4(seconds.)20 b(This)208 2040 y(requiremen)o(t)12
b(is)g(the)h(conjunction)f(of)f(t)o(w)o(o)h(separate)i(conditions:)j
(that)12 b(the)h(clo)q(c)o(k)f(tic)o(k)g(at)208 2090
y(most)g(once)j(ev)o(ery)f(3600)9 b F0(\000)g FQ(\032)15
b F4(seconds,)f(and)g(at)g(least)g(once)h(ev)o(ery)f(3600)8
b(+)i FQ(\032)k F4(seconds.)270 2140 y(T)m(o)9 b(sp)q(ecify)i(these)g
(requiremen)o(ts,)g(w)o(e)g(in)o(tro)q(duce)f(a)g(v)n(ariable)f(that)i
(records)g(ho)o(w)f(m)o(uc)o(h)208 2190 y(time)i(has)i(elapsed)g(since)
h(the)f(last)g(clo)q(c)o(k)g(tic)o(k.)j(Let's)d(call)f(it)h
FV(t)j F4(for)d FV(timer)t F4(.)j(The)d(v)n(alue)f(of)208
2239 y FV(t)18 b F4(is)d(set)g(to)g(0)f(b)o(y)h(a)f(step)i(that)f
(represen)o(ts)i(a)d(clo)q(c)o(k)h(tic)o(k|namely)m(,)d(b)o(y)i(an)h
FV(HCnxt)j F4(step.)208 2289 y(An)o(y)12 b(step)h(that)g(represen)o(ts)
i(the)e(passing)f(of)g FV(s)k F4(seconds)e(should)e(adv)n(ance)g
FV(t)k F4(b)o(y)d FV(s)s F4(.)k(A)c(step)208 2339 y(represen)o(ts)i
(the)f(passing)f(of)f(time)f(i\013)i(it)g(c)o(hanges)g
FV(now)t F4(,)h(and)e(suc)o(h)i(a)f(step)h(represen)o(ts)h(the)208
2389 y(passage)h(of)f FV(now)485 2374 y FH(0)508 2389
y F0(\000)c FV(now)20 b F4(seconds.)26 b(So,)15 b(the)i(c)o(hange)f(to)
g(the)g(timer)f FV(t)20 b F4(is)15 b(describ)q(ed)j(b)o(y)208
2439 y(the)c(action)p Black Black 332 2517 a FV(TNext)488
2493 y FI(\001)483 2517 y F4(=)35 b FV(t)568 2500 y FH(0)591
2517 y F4(=)12 b FP(if)23 b FV(HCnxt)i FP(then)f F4(0)f
FP(else)h FV(t)13 b F4(+)d(\()p FV(now)1272 2502 y FH(0)1293
2517 y F0(\000)g FV(now)t F4(\))p Black Black eop
%%Page: 119 137
119 136 bop Black 208 275 a FR(9.1.)30 b(THE)15 b(HOUR)f(CLOCK)g
(REVISITED)971 b F4(119)p 208 282 1770 2 v Black 208
391 a(W)m(e)17 b(let)h FV(t)j F4(initially)15 b(equal)j(0,)g(so)g(w)o
(e)f(consider)i(the)f(initial)e(state)j(to)e(b)q(e)i(one)f(in)f(whic)o
(h)208 441 y(the)e(clo)q(c)o(k)g(has)g(just)h(tic)o(k)o(ed.)21
b(The)16 b(sp)q(eci\014cation)g(of)e(ho)o(w)h FV(t)j
F4(c)o(hanges)e(is)f(then)h(a)e(form)o(ula)208 491 y(asserting)j(that)f
FV(t)k F4(initially)14 b(equals)j(0,)f(and)g(that)h(ev)o(ery)g(step)h
(is)e(a)g FV(TNext)k F4(step)e(or)e(else)208 541 y(lea)o(v)o(es)f(unc)o
(hanged)g(all)f(relev)n(an)o(t)h(v)n(ariables|namely)m(,)c
FV(t)t F4(,)k FV(hr)t F4(,)g(and)g FV(now)t F4(.)22 b(This)14
b(form)o(ula)208 591 y(is)p Black Black 332 674 a FV(Timer)489
650 y FI(\001)484 674 y F4(=)35 b(\()p FV(t)15 b F4(=)d(0\))k
F0(^)g FG(2)p F4([)p FV(TNext)t F4(])909 681 y FH(h)s
FJ(t)s Fy(;)t FJ(hr)s Fy(;)5 b FJ(now)g FH(i)208 757
y F4(The)13 b(requiremen)o(t)h(that)f(the)h(clo)q(c)o(k)f(tic)o(k)g(at)
g(least)h(once)g(ev)o(ery)g(3600)7 b(+)h FQ(\032)14 b
F4(seconds)h(means)208 806 y(that)g(it's)g(alw)o(a)o(ys)g(the)h(case)h
(that)e(at)h(most)e(3600)9 b(+)i FQ(\032)16 b F4(seconds)h(ha)o(v)o(e)f
(elapsed)g(since)g(the)208 856 y(last)g FV(HCnxt)k F4(step.)27
b(Since)17 b FV(t)j F4(alw)o(a)o(ys)15 b(equals)h(the)h(elapsed)h(time)
d(since)i(the)g(last)f FV(HCnxt)208 906 y F4(step,)e(this)g(requiremen)
o(t)g(is)f(expressed)k(b)o(y)c(the)i(form)o(ula)p Black
Black 332 993 a FV(MaxTime)548 970 y FI(\001)543 993
y F4(=)35 b FG(2)p F4(\()p FV(t)15 b F0(\024)d F4(3600)c(+)i
FQ(\032)p F4(\))208 1076 y(\(Since)15 b(w)o(e)g(can't)g(measure)g(time)
f(with)g(p)q(erfect)j(accuracy)m(,)e(it)g(do)q(esn't)g(matter)g
(whether)208 1126 y(w)o(e)h(use)g FQ(<)g F4(or)g F0(\024)g
F4(in)f(this)h(form)o(ula.)21 b(When)16 b(w)o(e)g(generalize)g(from)e
(this)i(example,)e(it)i(is)f(a)208 1176 y(bit)e(more)g(con)o(v)o(enien)
o(t)h(to)g(use)h F0(\024)p F4(.\))270 1226 y(The)j(requiremen)o(t)g
(that)g(the)h(clo)q(c)o(k)f(tic)o(k)g(at)g(most)e(once)j(ev)o(ery)g
(3600)11 b F0(\000)h FQ(\032)18 b F4(seconds)208 1276
y(means)f(that,)i(whenev)o(er)h(an)e FV(HCnxt)23 b F4(step)c(o)q
(ccurs,)i(at)d(least)g(3600)12 b F0(\000)g FQ(\032)19
b F4(seconds)h(ha)o(v)o(e)208 1325 y(elapsed)14 b(since)h(the)f
(previous)h FV(HCnxt)i F4(step.)i(This)14 b(suggests)h(the)g(condition)
p .95 TeXcolorgray .95 TeXcolorgray 1679 1454 307 161
v .95 TeXcolorgray Black Black 259 w FZ(In)c(the)g(general-)1687
1365 y(ization,)f FW(\025)i FZ(will)g(b)q(e)1687 1404
y(more)f(con)o(v)o(enien)o(t)1687 1444 y(than)g Fw(>)p
FZ(.)p Black .95 TeXcolorgray Black Black Black 332 1408
a FG(2)p F4(\()p FV(HCnxt)16 b F0(\))11 b F4(\()p FV(t)k
F0(\025)d F4(3600)c F0(\000)i FQ(\032)p F4(\)\))p Black
-633 w(\(9.1\))p Black 208 1491 a(Ho)o(w)o(ev)o(er,)20
b(\(9.1\))e(isn't)g(a)h(legal)e(TLA)i(form)o(ula)d(b)q(ecause)21
b FV(HCnxt)j F0(\))19 b FQ(:)7 b(:)g(:)17 b F4(is)i(an)f(action)208
1541 y(\(a)e(form)o(ula)d(con)o(taining)j(primes\),)f(and)i(a)f(TLA)g
(form)o(ula)e(asserting)j(that)f(an)g(action)g(is)208
1591 y(alw)o(a)o(ys)11 b(true)j(m)o(ust)e(ha)o(v)o(e)h(the)g(form)f
FG(2)p F4([)p FV(A)p F4(])877 1597 y FJ(v)897 1591 y
F4(.)17 b(W)m(e)c(don't)f(care)i(ab)q(out)f(steps)h(that)f(lea)o(v)o(e)
g FV(hr)208 1641 y F4(unc)o(hanged,)g(so)h(w)o(e)h(can)f(replace)g
(\(9.1\))g(b)o(y)f(the)i(TLA)f(form)o(ula)p Black Black
332 1730 a FV(MinTime)543 1707 y FI(\001)539 1730 y F4(=)34
b FG(2)p F4([)p FV(HCnxt)15 b F0(\))c F4(\()p FV(t)16
b F0(\025)c F4(3600)c F0(\000)h FQ(\032)p F4(\)])1105
1736 y FJ(hr)208 1813 y F4(The)k(desired)i(real-time)c(constrain)o(t)j
(on)f(the)h(clo)q(c)o(k)f(is)g(expressed)i(b)o(y)e(the)h(conjunction)f
(of)208 1863 y(these)i(three)g(form)o(ulas:)p Black Black
332 1946 a FV(HCTime)531 1923 y FI(\001)526 1946 y F4(=)35
b FV(Timer)19 b F0(^)d FV(MaxTime)k F0(^)15 b FV(MinTime)208
2029 y F4(F)m(orm)o(ula)c FV(HCTime)16 b F4(con)o(tains)e(the)g(v)n
(ariable)f FV(t)t F4(,)g(and)h(the)g(sp)q(eci\014cation)h(of)e(the)h
(real-time)208 2079 y(clo)q(c)o(k)h(should)h(describ)q(e)h(only)e(the)h
(c)o(hanges)g(to)g FV(hr)k F4(\(the)c(clo)q(c)o(k)g(displa)o(y\))e(and)
i FV(now)k F4(\(the)208 2129 y(time\).)c(So,)c(w)o(e)g(ha)o(v)o(e)g(to)
g(hide)g FV(t)t F4(.)17 b(Hiding)11 b(is)h(expressed)j(in)d(TLA)1231
2114 y FS(+)1263 2129 y F4(b)o(y)g(the)h(temp)q(oral)e(exis-)208
2179 y(ten)o(tial)h(quan)o(ti\014er)523 2177 y F0(9)-21
b(9)g(9)523 2179 y(9)g(9)g(9)6 b F4(,)13 b(in)o(tro)q(duced)h(in)f
(Section)g(4.3)f(\(page)h(41\).)18 b(Ho)o(w)o(ev)o(er,)13
b(as)g(explained)208 2229 y(in)i(that)h(section,)g(w)o(e)g(can't)g
(simply)d(write)914 2227 y F0(9)-21 b(9)g(9)914 2229
y(9)g(9)g(9)6 b FV(t)12 b F4(:)7 b FV(HCTime)r F4(.)24
b(W)m(e)15 b(m)o(ust)g(de\014ne)i FV(HCTime)208 2278
y F4(in)d(a)h(mo)q(dule)f(that)i(declares)g FV(t)t F4(,)f(and)g(then)h
(use)g(a)f(parametrized)g(instan)o(tiation)f(of)h(that)208
2328 y(mo)q(dule.)23 b(This)16 b(is)g(done)g(in)g(Figure)g(9.1)f(on)h
(page)g(121.)23 b(Instead)17 b(of)f(de\014ning)g FV(HCTime)208
2378 y F4(in)c(a)g(completely)g(separate)i(mo)q(dule,)d(I)i(ha)o(v)o(e)
f(de\014ned)i(it)f(in)f(a)h(submo)q(dule)e(named)h FV(Inner)208
2428 y F4(of)h(the)i(mo)q(dule)e FV(R)n(e)n(alTimeHourClo)n(ck)k
F4(con)o(taining)c(the)i(sp)q(eci\014cation)g(of)f(the)g(real-time)208
2478 y(hour)f(clo)q(c)o(k.)18 b(Note)d(that)e(all)g(the)h(sym)o(b)q
(ols)f(declared)h(and)g(de\014ned)h(in)e(the)i(main)c(mo)q(dule)p
Black Black eop
%%Page: 120 138
120 137 bop Black 208 275 a F4(120)1178 b FR(CHAPTER)14
b(9.)31 b(REAL)14 b(TIME)p 208 282 1770 2 v Black 208
391 a F4(up)d(to)g(that)g(p)q(oin)o(t)g(can)g(b)q(e)h(used)g(in)e(the)i
(submo)q(dule.)k(Submo)q(dule)10 b FV(Inner)16 b F4(is)11
b(instan)o(tiated)208 441 y(in)i(the)h(main)e(mo)q(dule)h(with)g(the)i
(statemen)o(t)p Black Black 332 524 a FV(I)7 b F4(\()p
FV(t)t F4(\))444 501 y FI(\001)439 524 y F4(=)35 b FP(inst)m(ance)16
b FV(Inner)208 607 y F4(The)e FV(t)j F4(in)d FV(HCTime)i
F4(can)e(then)h(b)q(e)f(hidden)g(b)o(y)g(writing)1110
605 y F0(9)-21 b(9)g(9)1110 607 y(9)g(9)g(9)6 b FV(t)12
b F4(:)7 b FV(I)g F4(\()p FV(t)t F4(\))s(!)s FV(HCTime)s
F4(.)270 657 y(The)j(form)o(ula)e FV(HC)22 b F0(^)16
b F4(\()643 655 y F0(9)-21 b(9)g(9)643 657 y(9)g(9)g(9)6
b FV(t)12 b F4(:)7 b FV(I)g F4(\()p FV(t)t F4(\))s(!)s
FV(HCTime)s F4(\))j(describ)q(es)i(the)f(p)q(ossible)f(c)o(hanges)h(to)
f(the)208 707 y(v)n(alue)h(of)g FV(hr)t F4(,)h(and)f(relates)i(those)g
(c)o(hanges)f(to)g(the)g(v)n(alue)g(of)f FV(now)t F4(.)18
b(But)12 b(it)f(sa)o(ys)h(v)o(ery)h(little)208 757 y(ab)q(out)j(ho)o(w)
g(the)h(v)n(alue)f(of)g FV(now)21 b F4(can)c(c)o(hange.)26
b(F)m(or)16 b(example,)g(it)g(allo)o(ws)f(the)i(follo)o(wing)208
806 y(b)q(eha)o(vior:)p Black Black 332 845 a FF(\024)p
Black 34 x FV(hr)61 b F4(=)23 b(11)354 929 y FV(now)28
b F4(=)23 b(23)p FQ(:)p F4(5)p Black 583 845 a FF(\025)630
904 y F0(!)697 845 y FF(\024)p Black 34 x FV(hr)61 b
F4(=)23 b(11)719 929 y FV(now)28 b F4(=)23 b(23)p FQ(:)p
F4(4)p Black 948 845 a FF(\025)995 904 y F0(!)1062 845
y FF(\024)p Black 34 x FV(hr)60 b F4(=)24 b(11)1084 929
y FV(now)j F4(=)d(23)p FQ(:)p F4(5)p Black 1313 845 a
FF(\025)1360 904 y F0(!)1427 845 y FF(\024)p Black 34
x FV(hr)60 b F4(=)24 b(11)1449 929 y FV(now)j F4(=)d(23)p
FQ(:)p F4(4)p Black 1677 845 a FF(\025)1725 904 y F0(!)h(\001)7
b(\001)g(\001)208 1010 y F4(Because)16 b(time)e(can't)h(go)f(bac)o(kw)o
(ards,)h(suc)o(h)g(a)g(b)q(eha)o(vior)f(do)q(esn't)i(represen)o(t)h(a)d
(ph)o(ysical)208 1060 y(p)q(ossibilit)o(y)m(.)h(Ev)o(ery)o(one)c(kno)o
(ws)g(that)f(time)g(only)g(increases,)i(so)f(there's)h(no)e(need)i(to)f
(forbid)208 1110 y(this)f(b)q(eha)o(vior)g(if)f(the)i(only)f(purp)q
(ose)h(of)f(our)g(sp)q(eci\014cation)h(is)f(to)g(describ)q(e)i(the)f
(hour)f(clo)q(c)o(k.)208 1160 y(Ho)o(w)o(ev)o(er,)16
b(a)f(sp)q(eci\014cation)h(should)g(also)f(allo)o(w)f(us)i(to)f(reason)
h(ab)q(out)g(a)f(system.)23 b(If)15 b(the)208 1209 y(clo)q(c)o(k)i(tic)
o(ks)h(appro)o(ximately)d(once)j(p)q(er)h(hour,)f(then)g(it)f(can't)h
(stop.)29 b(Ho)o(w)o(ev)o(er,)19 b(as)e(the)208 1259
y(b)q(eha)o(vior)f(ab)q(o)o(v)o(e)h(sho)o(ws,)h(the)g(form)o(ula)d
FV(HC)21 b F0(^)16 b F4(\()1009 1257 y F0(9)-21 b(9)g(9)1009
1259 y(9)g(9)g(9)7 b FV(t)k F4(:)d FV(I)f F4(\()p FV(t)t
F4(\))s(!)s FV(HCTime)s F4(\))16 b(b)o(y)h(itself)g(allo)o(ws)208
1309 y(the)c(clo)q(c)o(k)f(to)h(stop.)k(T)m(o)12 b(infer)h(that)f(it)g
(can't,)h(w)o(e)f(also)g(need)i(to)e(state)h(ho)o(w)g
FV(now)k F4(c)o(hanges.)270 1359 y(W)m(e)12 b(de\014ne)h(a)f(form)o
(ula)d FV(R)m(Tnow)17 b F4(that)12 b(sp)q(eci\014es)i(the)f(p)q
(ossible)f(c)o(hanges)h(to)f FV(now)t F4(.)18 b(This)208
1409 y(form)o(ula)7 b(do)q(es)k(not)f(sp)q(ecify)h(the)g(gran)o(ularit)
o(y)e(of)h(the)g(c)o(hanges)h(to)f FV(now)t F4(;)i(it)e(allo)o(ws)f(a)h
(step)h(to)208 1458 y(adv)n(ance)i FV(now)18 b F4(b)o(y)13
b(a)g(microsecond)h(or)f(b)o(y)g(a)g(cen)o(tury)m(.)19
b(Ho)o(w)o(ev)o(er,)13 b(w)o(e)h(ha)o(v)o(e)f(decided)i(that)208
1508 y(a)f(step)i(that)f(c)o(hanges)h FV(hr)j F4(should)c(lea)o(v)o(e)f
FV(now)20 b F4(unc)o(hanged,)15 b(whic)o(h)g(implies)e(that)i(a)g(step)
208 1558 y(that)d(c)o(hanges)h FV(now)j F4(should)c(lea)o(v)o(e)g
FV(hr)17 b F4(unc)o(hanged.)h(Therefore,)13 b(steps)h(that)e(c)o(hange)
g FV(now)208 1608 y F4(are)i(describ)q(ed)i(b)o(y)d(the)i(follo)o(wing)
c(action,)i(where)i FV(R)n(e)n(al)j F4(is)c(the)g(set)h(of)e(all)g
(real)h(n)o(um)o(b)q(ers:)p Black Black 332 1695 a FV(NowNext)538
1672 y FI(\001)533 1695 y F4(=)35 b F0(^)14 b FV(now)718
1680 y FH(0)741 1695 y F0(2)e(f)p FV(r)j F0(2)c FV(R)n(e)n(al)23
b F4(:)18 b FV(r)d FQ(>)d FV(now)t F0(g)p .95 TeXcolorgray
.95 TeXcolorgray 1212 1715 642 57 v .95 TeXcolorgray
Black 42 w FY(now)1286 1683 y FX(0)1308 1695 y FZ(can)f(equal)f(an)o(y)
h(real)g(n)o(um)o(b)q(er)e Fw(>)j FY(now)t FZ(.)p .95
TeXcolorgray Black 600 1745 a F0(^)i FP(unchanged)j FV(hr)208
1826 y F4(F)m(orm)o(ula)11 b FV(R)m(Tnow)19 b F4(should)14
b(also)f(allo)o(w)g(steps)j(that)e(lea)o(v)o(e)g FV(now)19
b F4(unc)o(hanged.)g(The)c(initial)208 1876 y(v)n(alue)d(of)g
FV(now)18 b F4(is)12 b(an)h(arbitrary)g(real)g(n)o(um)o(b)q(er)f(\(w)o
(e)h(can)g(start)h(the)g(system)e(at)h(an)o(y)g(time\),)208
1926 y(so)h(the)g(safet)o(y)g(part)g(of)f FV(R)m(Tnow)19
b F4(is)p Black Black 332 2009 a(\()p FV(now)d F0(2)c
FV(R)n(e)n(al)t F4(\))k F0(^)g FG(2)p F4([)p FV(NowNext)t
F4(])855 2015 y FJ(now)208 2092 y F4(The)k(liv)o(eness)g(condition)g(w)
o(e)g(w)o(an)o(t)f(is)h(that)g FV(now)25 b F4(should)19
b(increase)j(without)d(b)q(ound.)208 2142 y(Simple)9
b(w)o(eak)j(fairness)g(of)f(the)h FV(NowNext)j F4(action)c(isn't)g(go)q
(o)q(d)g(enough,)h(b)q(ecause)h(it)e(allo)o(ws)p .95
TeXcolorgray .95 TeXcolorgray 1679 2229 307 119 v .95
TeXcolorgray Black Black 40 w FZ(W)m(eak)g(fairness)f(is)1687
2181 y(discussed)g(in)h(Chap-)1687 2220 y(ter)g(8.)p
Black .95 TeXcolorgray Black 208 2191 a F4(\\Zeno")j(b)q(eha)o(viors)g
(suc)o(h)g(as)p Black Black 332 2274 a([)p FV(now)i F4(=)c
FQ(:)p F4(9])24 b F0(!)h F4([)p FV(now)15 b F4(=)d FQ(:)p
F4(99])24 b F0(!)h F4([)p FV(now)16 b F4(=)11 b FQ(:)p
F4(999])24 b F0(!)h F4([)p FV(now)16 b F4(=)11 b FQ(:)p
F4(9999])24 b F0(!)h(\001)7 b(\001)g(\001)208 2357 y
F4(in)22 b(whic)o(h)g(the)h(v)n(alue)f(of)g FV(now)27
b F4(remains)22 b(b)q(ounded.)44 b(W)m(eak)22 b(fairness)h(of)f(the)h
(action)208 2407 y FV(NowNext)15 b F0(^)d F4(\()p FV(now)518
2392 y FH(0)549 2407 y FQ(>)18 b FV(r)t F4(\))h(implies)d(that)i(ev)o
(en)o(tually)f(a)h FV(NowNext)k F4(step)d(will)d(o)q(ccur)j(in)208
2457 y(whic)o(h)12 b(the)g(new)h(v)n(alue)e(of)h FV(now)17
b F4(is)12 b(greater)h(than)f FV(r)t F4(.)17 b(\(This)c(action)e(is)h
(alw)o(a)o(ys)f(enabled,)i(so)208 2507 y(w)o(eak)i(fairness)g(implies)e
(that)j(in\014nitely)e(man)o(y)f(suc)o(h)j(actions)g(m)o(ust)e(o)q
(ccur.\))23 b(Asserting)p Black Black eop
%%Page: 121 139
121 138 bop Black 208 275 a FR(9.1.)30 b(THE)15 b(HOUR)f(CLOCK)g
(REVISITED)971 b F4(121)p 208 282 1770 2 v Black Black
Black Black 188 395 2 25 v 190 372 623 2 v 826 379 a
FP(module)15 b FV(R)n(e)n(alTimeHourClo)n(ck)p 1373 372
V 1996 395 2 25 v 208 437 a FP(extends)h FV(R)n(e)n(als,)22
b(HourClo)n(ck)208 499 y FP(v)l(ariable)17 b FV(now)p
.95 TeXcolorgray .95 TeXcolorgray 523 519 626 57 v .95
TeXcolorgray Black 57 w FZ(The)12 b(curren)o(t)e(time,)g(measured)f(in)
i(seconds.)p .95 TeXcolorgray Black 208 562 a FP(const)m(ant)16
b FV(R)o(ho)p .95 TeXcolorgray .95 TeXcolorgray 536 582
381 57 v .95 TeXcolorgray Black 58 w FZ(A)c(p)q(ositiv)o(e)e(real)g(n)o
(um)o(b)q(er.)p .95 TeXcolorgray Black 208 624 a FP(assume)16
b F4(\()p FV(R)o(ho)f F0(2)c FV(R)n(e)n(al)t F4(\))17
b F0(^)f F4(\()p FV(R)o(ho)f FQ(>)d F4(0\))p 188 678
2 25 v 190 667 1806 2 v 1996 678 2 25 v Black Black 230
731 V 232 709 731 2 v 978 716 a FP(module)k FV(Inner)p
1264 709 V 1995 731 2 25 v 250 774 a FP(v)l(ariable)h
FV(t)250 836 y(TNext)406 813 y FI(\001)401 836 y F4(=)35
b FV(t)486 821 y FH(0)509 836 y F4(=)12 b FP(if)23 b
FV(HCnxt)j FP(then)e F4(0)f FP(else)h FV(t)13 b F4(+)d(\()p
FV(now)1191 821 y FH(0)1212 836 y F0(\000)g FV(now)t
F4(\))250 905 y FV(Timer)454 882 y FI(\001)449 905 y
F4(=)24 b(\()p FV(t)15 b F4(=)d(0\))k F0(^)g FG(2)p F4([)p
FV(TNext)t F4(])863 912 y FH(h)s FJ(t)s Fy(;)t FJ(hr)s
Fy(;)t FJ(now)6 b FH(i)250 974 y FV(MaxTime)454 951 y
FI(\001)449 974 y F4(=)24 b FG(2)p F4(\()p FV(t)15 b
F0(\024)d F4(3600)c(+)i FV(R)o(ho)s F4(\))250 1043 y
FV(MinTime)454 1020 y FI(\001)449 1043 y F4(=)24 b FG(2)p
F4([)p FV(HCnxt)15 b F0(\))c FV(t)k F0(\025)d F4(3600)c
F0(\000)i FV(R)o(ho)s F4(])1026 1049 y FJ(hr)250 1112
y FV(HCTime)454 1089 y FI(\001)449 1112 y F4(=)24 b FV(Timer)19
b F0(^)d FV(MaxTime)k F0(^)15 b FV(MinTime)p .95 TeXcolorgray
.95 TeXcolorgray 1103 925 746 57 v .95 TeXcolorgray Black
1111 905 a FY(t)g FZ(is)d(the)e(elapsed)g(time)g(since)h(the)g(last)g
FY(HCnxt)k FZ(step.)p .95 TeXcolorgray Black .95 TeXcolorgray
.95 TeXcolorgray 1103 992 509 57 v .95 TeXcolorgray Black
1111 971 a FY(t)g FZ(is)d(alw)o(a)o(ys)f(at)g(most)f(3600)d(+)h
FY(R)o(ho)r FZ(.)p .95 TeXcolorgray Black .95 TeXcolorgray
.95 TeXcolorgray 1103 1062 783 57 v .95 TeXcolorgray
Black 1111 1042 a(An)k FY(HCnxt)j FZ(step)c(can)g(o)q(ccur)f(only)g(if)
i FY(t)g FW(\025)f FZ(3600)6 b FW(\000)i FY(R)o(ho)r
FZ(.)p .95 TeXcolorgray Black 230 1141 2 25 v 232 1141
1764 2 v 1996 1141 2 25 v 208 1206 a FV(I)f F4(\()p FV(t)t
F4(\))319 1183 y FI(\001)315 1206 y F4(=)35 b FP(inst)m(ance)16
b FV(Inner)208 1288 y(NowNext)413 1264 y FI(\001)409
1288 y F4(=)35 b F0(^)14 b FV(now)594 1273 y FH(0)618
1288 y F0(2)d(f)p FV(r)k F0(2)d FV(R)n(e)n(al)22 b F4(:)c
FV(r)e FQ(>)c FV(now)t F0(g)476 1338 y(^)i FP(unchanged)j
FV(hr)p .95 TeXcolorgray .95 TeXcolorgray 1089 1348 793
96 v .95 TeXcolorgray Black 1097 1288 a FZ(A)c FY(NowNext)j
FZ(step)11 b(can)f(adv)n(ance)g FY(now)15 b FZ(b)o(y)c(an)o(y)g(amoun)o
(t)1097 1327 y(while)h(lea)o(ving)d FY(hr)16 b FZ(unc)o(hanged)o(.)p
.95 TeXcolorgray Black 208 1402 a FV(R)m(Tnow)380 1379
y FI(\001)376 1402 y F4(=)34 b F0(^)15 b FV(now)h F0(2)11
b FV(R)n(e)n(al)442 1460 y F0(^)k FG(2)p F4([)p FV(NowNext)t
F4(])707 1466 y FJ(now)442 1520 y F0(^)g(8)7 b FV(r)15
b F0(2)d FV(R)n(e)n(al)22 b F4(:)c(WF)787 1526 y FJ(now)852
1520 y F4(\()p FV(NowNext)13 b F0(^)c F4(\()p FV(now)1173
1505 y FH(0)1196 1520 y FQ(>)j FV(r)t F4(\)\))p .95 TeXcolorgray
.95 TeXcolorgray 1307 1423 625 57 v .95 TeXcolorgray
Black 1316 1402 a FY(R)m(Tnow)j FZ(sp)q(eci\014es)9 b(ho)o(w)j(time)e
(ma)o(y)h(c)o(hange.)p .95 TeXcolorgray Black 208 1599
a FV(R)m(THC)370 1576 y FI(\001)366 1599 y F4(=)34 b
FV(HC)22 b F0(^)16 b FV(R)m(Tnow)21 b F0(^)15 b F4(\()768
1597 y F0(9)-22 b(9)g(9)768 1599 y(9)g(9)g(9)8 b FV(t)k
F4(:)7 b FV(I)g F4(\()p FV(t)t F4(\))s(!)s FV(HCTime)s
F4(\))p .95 TeXcolorgray .95 TeXcolorgray 1147 1619 438
57 v .95 TeXcolorgray Black 42 w FZ(The)k(complete)e(sp)q
(eci\014cation.)p .95 TeXcolorgray Black 188 1642 2 25
v 190 1642 1806 2 v 1996 1642 2 25 v 208 1732 a FU(Figure)k(9.1:)18
b F4(The)13 b(real-time)f(sp)q(eci\014cation)h(of)f(an)h(hour)g(clo)q
(c)o(k)g(that)g(tic)o(ks)g(ev)o(ery)h(hour,)f(plus)g(or)f(min)o(us)g
FV(R)o(ho)208 1782 y F4(seconds.)p Black 208 1890 a(this)g(for)g(all)g
(real)g(n)o(um)o(b)q(ers)h FV(r)j F4(implies)11 b(that)h
FV(now)17 b F4(gro)o(ws)c(without)f(b)q(ound,)h(so)f(w)o(e)h(tak)o(e)g
(as)208 1940 y(the)h(fairness)g(condition)597 1925 y
FS(1)p Black Black 332 2031 a F0(8)7 b FV(r)16 b F0(2)11
b FV(R)n(e)n(al)22 b F4(:)c(WF)634 2037 y FJ(now)699
2031 y F4(\()p FV(NowNext)13 b F0(^)c F4(\()p FV(now)1020
2014 y FH(0)1044 2031 y FQ(>)i FV(r)t F4(\)\))208 2122
y(The)f(complete)g(sp)q(eci\014cation)h FV(R)m(THC)k
F4(of)10 b(the)g(real-time)f(hour)h(clo)q(c)o(k,)h(with)f(the)g
(de\014nition)208 2172 y(of)15 b(form)o(ula)e FV(R)m(Tnow)t
F4(,)j(is)f(in)g(the)i FV(R)n(e)n(alTimeHourClo)n(ck)i
F4(mo)q(dule)14 b(of)h(Figure)h(9.1)e(on)i(this)208 2222
y(page.)25 b(That)16 b(mo)q(dule)f(extends)j(the)f(standard)f
FV(R)n(e)n(als)k F4(mo)q(dule,)15 b(whic)o(h)h(de\014nes)i(the)f(set)
208 2272 y FV(R)n(e)n(al)h F4(of)13 b(real)h(n)o(um)o(b)q(ers.)p
Black 208 2298 576 2 v 254 2325 a FK(1)271 2337 y FZ(An)g(equiv)n(alen)
o(t)d(condition)h(is)h FW(8)5 b FY(r)17 b FW(2)d FY(R)n(e)n(al)k
FZ(:)13 b Fs(3)p FZ(\()p FY(now)k Fw(>)d FY(r)t FZ(\),)g(but)f(I)h(lik)
o(e)f(to)h(express)e(fairness)g(with)208 2376 y(WF)g(and)e(SF)i(form)o
(ulas.)p Black Black Black eop
%%Page: 122 140
122 139 bop Black 208 275 a F4(122)1178 b FR(CHAPTER)14
b(9.)31 b(REAL)14 b(TIME)p 208 282 1770 2 v Black 208
400 a FN(9.2)65 b(Real-Time)26 b(Sp)r(eci\014cations)g(in)g(General)208
491 y F4(In)13 b(Section)g(8.4)g(\(page)g(96\),)g(w)o(e)g(sa)o(w)g
(that)g(the)h(appropriate)g(generalization)e(of)h(the)h(liv)o(e-)208
540 y(ness)g(requiremen)o(t)g(that)g(the)g(hour)g(clo)q(c)o(k)f(tic)o
(k)h(in\014nitely)f(often)g(is)h(w)o(eak)f(fairness)h(of)f(the)208
590 y(clo)q(c)o(k-tic)o(k)i(action.)25 b(There)17 b(is)f(a)g(similar)d
(generalization)j(for)g(real-time)e(sp)q(eci\014cations.)208
640 y(W)m(eak)f(fairness)i(of)f(an)g(action)g FV(A)h
F4(asserts)h(that)e(if)g FV(A)g F4(is)h(con)o(tin)o(uously)e(enabled,)i
(then)g(an)208 690 y FV(A)e F4(step)i(m)o(ust)e(ev)o(en)o(tually)h(o)q
(ccur.)19 b(The)14 b(real-time)f(analog)f(is)i(that)g(if)f
FV(A)h F4(is)g(con)o(tin)o(uously)208 740 y(enabled)k(for)f
FQ(\017)g F4(seconds,)j(then)e(an)g FV(A)f F4(step)i(m)o(ust)d(o)q
(ccur.)31 b(Since)18 b(an)f FV(HCnxt)22 b F4(action)17
b(is)208 789 y(alw)o(a)o(ys)11 b(enabled,)i(the)h(requiremen)o(t)f
(that)g(the)g(clo)q(c)o(k)g(tic)o(k)g(at)g(least)g(once)h(ev)o(ery)f
(3600)7 b(+)g FQ(\032)208 839 y F4(seconds)15 b(can)f(b)q(e)g
(expressed)i(in)d(this)h(w)o(a)o(y)f(b)o(y)g(letting)g
FV(A)h F4(b)q(e)g FV(HCnxt)k F4(and)13 b FQ(\017)h F4(b)q(e)g(3600)8
b(+)h FQ(\032)p F4(.)270 889 y(The)17 b(requiremen)o(t)f(that)g(an)g
FV(HCnxt)k F4(action)c(o)q(ccur)h(at)g(most)e(once)i(ev)o(ery)g(3600)9
b F0(\000)i FQ(\032)208 939 y F4(seconds)k(can)g(b)q(e)f(similarly)e
(generalized)j(to)f(the)g(condition)g(that)g(an)g(action)g
FV(A)g F4(m)o(ust)f(b)q(e)208 989 y(con)o(tin)o(uously)g(enabled)h(for)
g(at)f(least)h FQ(\016)i F4(seconds)g(b)q(efore)e(an)g
FV(A)g F4(step)g(can)h(o)q(ccur.)270 1038 y(The)c(\014rst)h(condition,)
e(the)h(upp)q(er)h(b)q(ound)f FQ(\017)g F4(on)g(ho)o(w)f(long)g
FV(A)h F4(can)g(b)q(e)g(enabled)g(without)208 1088 y(an)k
FV(A)g F4(step)h(o)q(ccurring,)g(is)g(v)n(acuously)f(satis\014ed)h(if)e
FQ(\017)i F4(equals)f FV(In\014nity)t F4(|a)g(v)n(alue)g(de\014ned)208
1138 y(in)d(the)i FV(R)n(e)n(als)i F4(mo)q(dule)c(to)h(b)q(e)g(greater)
i(than)e(an)o(y)f(real)h(n)o(um)o(b)q(er.)k(The)d(second)g(condition,)
208 1188 y(the)e(lo)o(w)o(er)f(b)q(ound)h FQ(\016)i F4(on)d(ho)o(w)h
(long)e FV(A)i F4(m)o(ust)f(b)q(e)h(enabled)g(b)q(efore)h(an)e
FV(A)h F4(step)g(can)g(o)q(ccur,)h(is)208 1238 y(v)n(acuously)g
(satis\014ed)i(if)e FQ(\016)j F4(equals)f(0.)j(So,)c(nothing)f(is)h
(lost)g(b)o(y)g(com)o(bining)e(b)q(oth)i(of)f(these)208
1288 y(conditions)g(in)o(to)h(a)f(single)h(form)o(ula)e(con)o(taining)h
FQ(\016)j F4(and)e FQ(\017)f F4(as)i(parameters.)j(I)c(no)o(w)g
(de\014ne)208 1337 y(suc)o(h)g(a)g(form)o(ula,)d(whic)o(h)i(I)h(call)f
(a)h FV(r)n(e)n(al-time)f(b)n(ound)j(c)n(ondition)p F4(.)270
1387 y(The)e(w)o(eak)g(fairness)g(form)o(ula)e(WF)830
1393 y FJ(v)851 1387 y F4(\()p FV(A)p F4(\))i(actually)f(asserts)j(w)o
(eak)e(fairness)g(of)f(the)i(ac-)208 1437 y(tion)10 b
F0(h)s FV(A)s F0(i)359 1443 y FJ(v)381 1437 y F4(,)h(whic)o(h)g(equals)
g FV(A)e F0(^)g F4(\()p FV(v)759 1422 y FH(0)783 1437
y F0(6)p F4(=)j FV(v)t F4(\).)17 b(The)12 b(subscript)g
FV(v)j F4(is)c(needed)i(to)d(rule)h(out)g(stut-)208 1487
y(tering)f(steps.)19 b(Since)11 b(the)g(truth)g(of)f(a)h(meaningful)d
(form)o(ula)g(can't)j(dep)q(end)g(on)g(whether)h(or)208
1537 y(not)f(there)j(are)e(stuttering)h(steps,)g(it)f(mak)o(es)f(no)h
(sense)h(to)f(sa)o(y)g(that)g(an)g FV(A)g F4(step)h(did)e(or)h(did)208
1586 y(not)e(o)q(ccur)i(if)e(that)h(step)h(could)e(b)q(e)i(a)e
(stuttering)i(step.)18 b(F)m(or)11 b(this)f(reason,)i(the)f(corresp)q
(ond-)208 1636 y(ing)j(real-time)g(condition)h(m)o(ust)f(also)h(b)q(e)h
(a)f(condition)f(on)h(an)g(action)g F0(h)s FV(A)s F0(i)1418
1642 y FJ(v)1441 1636 y F4(,)g(not)g(on)g(an)208 1686
y(arbitrary)e(action)h FV(A)p F4(.)k(In)c(most)f(cases)i(of)e(in)o
(terest,)i FV(v)j F4(is)c(the)h(tuple)f(of)f(all)g(v)n(ariables)g(that)
208 1736 y(o)q(ccur)h(in)e FV(A)p F4(.)18 b(I)12 b(therefore)j
(de\014ne)f(the)f(real-time)f(b)q(ound)h(form)o(ula)d
FV(R)m(TBound)t F4(\()p FV(A)p FQ(;)15 b FV(v)t FQ(;)f(\016)o(;)g(\017)
p F4(\))208 1786 y(to)f(assert)i(that)p Black 270 1869
a F0(\017)p Black 20 w F4(An)g F0(h)s FV(A)s F0(i)449
1875 y FJ(v)486 1869 y F4(step)g(cannot)g(o)q(ccur)h(un)o(til)d
F0(h)s FV(A)s F0(i)991 1875 y FJ(v)1028 1869 y F4(has)i(b)q(een)g(con)o
(tin)o(uously)f(enabled)h(for)311 1919 y(at)i(least)f
FQ(\016)j F4(time)c(units)i(since)g(the)g(last)g F0(h)s
FV(A)s F0(i)1034 1925 y FJ(v)1072 1919 y F4(step|or)g(since)g(the)h(b)q
(eginning)d(of)311 1968 y(the)g(b)q(eha)o(vior.)p Black
270 2051 a F0(\017)p Black 20 w(h)s FV(A)s F0(i)380 2057
y FJ(v)415 2051 y F4(can)e(b)q(e)g(con)o(tin)o(uously)f(enabled)i(for)e
(at)g(most)g FQ(\017)h F4(time)e(units)i(b)q(efore)g(an)g
F0(h)s FV(A)s F0(i)1624 2057 y FJ(v)311 2101 y F4(step)i(o)q(ccurs.)208
2184 y FV(R)m(TBound)t F4(\()p FV(A)p FQ(;)f FV(v)t FQ(;)g(\016)o(;)g
(\017)p F4(\))f(generalizes)h(the)g(form)o(ula)1025 2182
y F0(9)-21 b(9)g(9)1025 2184 y(9)g(9)g(9)7 b FV(t)k F4(:)d
FV(I)f F4(\()p FV(t)t F4(\))s(!)s FV(HCTime)15 b F4(of)e(the)g
(real-time)208 2234 y(hour-clo)q(c)o(k)e(sp)q(eci\014cation,)i(and)f
(it)f(can)h(b)q(e)h(de\014ned)g(in)e(the)i(same)e(w)o(a)o(y)m(,)g
(using)g(a)h(submo)q(d-)208 2284 y(ule.)18 b(Ho)o(w)o(ev)o(er,)13
b(the)i(de\014nition)e(can)i(b)q(e)f(structured)i(a)e(little)f(more)g
(compactly)f(as)p .95 TeXcolorgray .95 TeXcolorgray 1679
2450 307 202 v .95 TeXcolorgray Black Black 154 w FZ(F)m(or)g(the)e
(TLA)1884 2272 y FK(+)1687 2323 y FZ(sp)q(eci\014cation,)e(I)1687
2363 y(ha)o(v)o(e)j(replaced)1687 2402 y Fw(\016)i FZ(and)e
Fw(\017)h FZ(b)o(y)f FY(D)1687 2442 y FZ(and)g FY(E)t
FZ(.)p Black .95 TeXcolorgray Black Black Black 332 2371
a FV(R)m(TBound)t F4(\()p FV(A)p FQ(;)k FV(v)t FQ(;)f
FV(D)t FQ(;)f FV(E)5 b F4(\))781 2348 y FI(\001)776 2371
y F4(=)35 b FP(let)23 b FV(Timer)t F4(\()p FV(t)t F4(\))1142
2348 y FI(\001)1137 2371 y F4(=)35 b FQ(:)7 b(:)g(:)935
2408 y(:)g(:)g(:)843 2466 y FP(in)935 2464 y F0(9)-21
b(9)g(9)935 2466 y(9)g(9)g(9)6 b FV(t)23 b F4(:)18 b
FV(Timer)t F4(\()p FV(t)t F4(\))d F0(^)h FQ(:)7 b(:)g(:)p
Black Black eop
%%Page: 123 141
123 140 bop Black 208 275 a FR(9.2.)30 b(REAL-TIME)14
b(SPECIFICA)m(TIONS)h(IN)f(GENERAL)718 b F4(123)p 208
282 1770 2 v Black 208 391 a(W)m(e)11 b(\014rst)h(de\014ne)h
FV(Timer)t F4(\()p FV(t)t F4(\))e(to)g(b)q(e)h(a)f(temp)q(oral)f(form)o
(ula)f(asserting)k(that)e FV(t)k F4(alw)o(a)o(ys)c(equals)208
441 y(the)j(length)f(of)g(time)f(that)i F0(h)s FV(A)s
F0(i)705 447 y FJ(v)740 441 y F4(has)g(b)q(een)h(con)o(tin)o(uously)d
(enabled)i(since)g(the)h(last)e F0(h)s FV(A)s F0(i)1624
447 y FJ(v)208 491 y F4(step.)20 b(The)15 b(v)n(alue)f(of)g
FV(t)k F4(should)d(b)q(e)g(set)g(to)f(0)h(b)o(y)f(an)g
F0(h)s FV(A)s F0(i)1114 497 y FJ(v)1151 491 y F4(step)h(or)g(a)f(step)h
(that)g(disables)208 541 y F0(h)s FV(A)s F0(i)277 547
y FJ(v)299 541 y F4(.)j(A)d(step)g(that)f(adv)n(ances)h
FV(now)j F4(should)c(incremen)o(t)g FV(t)k F4(b)o(y)c
FV(now)1309 526 y FH(0)1331 541 y F0(\000)9 b FV(now)19
b F4(i\013)14 b F0(h)s FV(A)s F0(i)1582 547 y FJ(v)1618
541 y F4(is)208 591 y(enabled.)k(Changes)c(to)g FV(t)j
F4(are)e(therefore)g(describ)q(ed)h(b)o(y)d(the)i(action)p
Black Black 332 677 a FV(TNext)t F4(\()p FV(t)t F4(\))538
654 y FI(\001)533 677 y F4(=)35 b FV(t)618 660 y FH(0)648
677 y F4(=)19 b FP(if)k F0(h)s FV(A)s F0(i)826 683 y
FJ(v)857 677 y F0(_)9 b(:)p F4(\()p FP(enabled)i F0(h)s
FV(A)s F0(i)1185 683 y FJ(v)1207 677 y F4(\))1223 662
y FH(0)731 727 y FP(then)24 b F4(0)731 777 y FP(else)36
b FV(t)13 b F4(+)d(\()p FV(now)1014 762 y FH(0)1035 777
y F0(\000)g FV(now)t F4(\))208 860 y(W)m(e)18 b(are)h(in)o(terested)h
(in)e(the)h(meaning)e(of)g FV(Timer)t F4(\()p FV(t)t
F4(\))h(only)g(when)h FV(v)k F4(is)18 b(a)h(tuple)f(whose)208
910 y(comp)q(onen)o(ts)h(include)g(all)g(the)h(v)n(ariables)f(that)g
(ma)o(y)f(app)q(ear)i(in)f FV(A)p F4(.)35 b(In)19 b(this)h(case,)h(a)
208 960 y(step)c(that)g(lea)o(v)o(es)g FV(v)22 b F4(unc)o(hanged)17
b(cannot)g(enable)g(or)g(disable)g F0(h)s FV(A)s F0(i)1299
966 y FJ(v)1321 960 y F4(.)27 b(So,)17 b(the)g(form)o(ula)208
1009 y FV(Timer)t F4(\()p FV(t)t F4(\))e(should)h(allo)o(w)e(steps)k
(that)e(lea)o(v)o(e)g FV(t)t F4(,)g FV(v)t F4(,)g(and)g
FV(now)21 b F4(unc)o(hanged.)k(Letting)16 b(the)208 1059
y(initial)11 b(v)n(alue)j(of)f FV(t)18 b F4(b)q(e)c(0,)f(w)o(e)h
(de\014ne)p Black Black 332 1146 a FV(Timer)t F4(\()p
FV(t)t F4(\))539 1122 y FI(\001)534 1146 y F4(=)35 b(\()p
FV(t)15 b F4(=)d(0\))k F0(^)g FG(2)p F4([)p FV(TNext)t
F4(\()p FV(t)t F4(\)])1009 1153 y FH(h)s FJ(t)s Fy(;)t
FJ(v)s Fy(;)5 b FJ(now)h FH(i)208 1229 y F4(F)m(orm)o(ulas)h
FV(MaxTime)13 b F4(and)d FV(MinTime)j F4(of)c(the)h(real-time)f(hour)h
(clo)q(c)o(k's)f(sp)q(eci\014cation)i(ha)o(v)o(e)208
1278 y(the)j(ob)o(vious)f(generalizations:)p Black 270
1361 a F0(\017)p Black 20 w FV(MaxTime)s F4(\()p FV(t)t
F4(\))h(asserts)i(that)e FV(t)k F4(is)13 b(alw)o(a)o(ys)g(less)i(than)f
(or)f(equal)h(to)g FV(E)5 b F4(:)p Black Black 436 1434
a FV(MaxTime)s F4(\()p FV(t)t F4(\))702 1410 y FI(\001)697
1434 y F4(=)35 b FG(2)p F4(\()p FV(t)15 b F0(\024)d FV(E)5
b F4(\))p Black 270 1516 a F0(\017)p Black 20 w FV(MinTime)s
F4(\()p FV(t)t F4(\))14 b(asserts)i(that)e(an)f F0(h)s
FV(A)s F0(i)898 1522 y FJ(v)934 1516 y F4(step)i(can)f(o)q(ccur)h(only)
e(if)g FV(t)i F0(\025)d FV(D)t F4(:)p Black Black 436
1589 a FV(MinTime)s F4(\()p FV(t)t F4(\))697 1566 y FI(\001)692
1589 y F4(=)35 b FG(2)p F4([)p FV(A)11 b F0(\))g F4(\()p
FV(t)16 b F0(\025)11 b FV(D)t F4(\)])1049 1595 y FJ(v)311
1656 y F4(\(An)18 b(equally)e(plausible)g(de\014nition)g(of)h
FV(MinTime)s F4(\()p FV(t)t F4(\))g(is)f FG(2)p F4([)p
F0(h)s FV(A)s F0(i)1354 1662 y FJ(v)1393 1656 y F0(\))g
F4(\()p FV(t)k F0(\025)d FV(D)t F4(\)])1613 1662 y FJ(v)1634
1656 y F4(,)311 1705 y(but)d(the)h(t)o(w)o(o)e(are,)h(in)g(fact,)f
(equiv)n(alen)o(t.\))208 1788 y(W)m(e)g(then)i(de\014ne)g
FV(R)m(TBound)t F4(\()p FV(A)p FQ(;)f FV(v)t FQ(;)g FV(D)t
FQ(;)g FV(E)5 b F4(\))14 b(to)g(equal)p Black Black 332
1869 a F0(9)-21 b(9)g(9)332 1871 y(9)g(9)g(9)6 b FV(t)22
b F4(:)c FV(Timer)t F4(\()p FV(t)t F4(\))e F0(^)g FV(MaxTime)s
F4(\()p FV(t)t F4(\))g F0(^)g FV(MinTime)s F4(\()p FV(t)t
F4(\))208 1953 y(W)m(e)d(m)o(ust)g(also)g(generalize)i(form)o(ula)c
FV(R)m(Tnow)19 b F4(of)13 b(the)h(real-time)f(hour)h(clo)q(c)o(k's)g
(sp)q(eci\014ca-)208 2003 y(tion.)21 b(That)15 b(form)o(ula)d(describ)q
(es)17 b(ho)o(w)e FV(now)20 b F4(c)o(hanges,)15 b(and)g(it)g(asserts)i
(that)e FV(hr)k F4(remains)208 2053 y(unc)o(hanged)f(when)h
FV(now)j F4(c)o(hanges.)32 b(The)18 b(generalization)g(is)g(the)h(form)
o(ula)c FV(R)m(Tnow)t F4(\()p FV(v)t F4(\),)208 2103
y(whic)o(h)d(replaces)i FV(hr)j F4(with)12 b(an)h(arbitrary)f(state)i
(function)e FV(v)17 b F4(that)c(will)e(usually)h(b)q(e)i(the)f(tu-)208
2152 y(ple)h(of)f(all)g(v)n(ariables,)f(other)j(than)f
FV(now)t F4(,)g(app)q(earing)g(in)f(the)i(sp)q(eci\014cation.)k(Using)
13 b(these)208 2202 y(de\014nitions,)g(the)h(sp)q(eci\014cation)h
FV(R)m(THC)k F4(of)14 b(the)g(real-time)e(hour)i(clo)q(c)o(k)g(can)g(b)
q(e)h(written)p Black Black 332 2285 a FV(HC)22 b F0(^)16
b FV(R)m(Tnow)t F4(\()p FV(hr)t F4(\))h F0(^)e FV(R)m(TBound)t
F4(\()p FV(HCnxt)t FQ(;)g FV(hr)t FQ(;)f F4(3600)8 b
F0(\000)i FV(R)o(ho)s FQ(;)j F4(3600)8 b(+)i FV(R)o(ho)s
F4(\))208 2367 y(The)i FV(R)n(e)n(alTime)j F4(mo)q(dule,)c(with)h(its)h
(de\014nitions)f(of)g FV(R)m(TBound)18 b F4(and)12 b
FV(R)m(Tnow)t F4(,)h(app)q(ears)g(in)208 2417 y(Figure)h(9.2)e(on)i
(page)g(125.)270 2467 y(Strong)d(fairness)h(strengthens)i(w)o(eak)d
(fairness)h(b)o(y)f(requiring)g(an)g FV(A)h F4(step)g(to)f(o)q(ccur)i
(not)208 2517 y(just)j(if)f(action)g FV(A)h F4(is)g(con)o(tin)o(uously)
f(enabled,)h(but)g(if)f(it)h(is)f(rep)q(eatedly)i(enabled.)25
b(Being)p Black Black eop
%%Page: 124 142
124 141 bop Black 208 275 a F4(124)1178 b FR(CHAPTER)14
b(9.)31 b(REAL)14 b(TIME)p 208 282 1770 2 v Black 208
391 a F4(rep)q(eatedly)d(enabled)f(includes)g(the)h(p)q(ossibilit)o(y)e
(that)h(it)f(is)h(also)g(rep)q(eatedly)h(disabled.)16
b(W)m(e)208 441 y(can)f(similarly)d(strengthen)17 b(our)f(real-time)d
(b)q(ound)j(conditions)f(b)o(y)g(de\014ning)g(a)g(stronger)208
491 y(form)o(ula)c FV(SR)m(TBound)t F4(\()p FV(A)p FQ(;)k
FV(v)t FQ(;)f(\016)o(;)g(\017)p F4(\))g(to)g(assert)h(that)p
Black 270 574 a F0(\017)p Black 20 w F4(An)h F0(h)s FV(A)s
F0(i)450 580 y FJ(v)487 574 y F4(step)g(cannot)f(o)q(ccur)h(un)o(til)f
F0(h)s FV(A)s F0(i)995 580 y FJ(v)1032 574 y F4(has)g(b)q(een)h
(enabled)g(for)e(a)h(total)g(of)f(at)311 624 y(least)h
FQ(\016)i F4(time)d(units)h(since)h(the)f(last)g F0(h)s
FV(A)s F0(i)969 630 y FJ(v)1006 624 y F4(step|or)g(since)h(the)g(b)q
(eginning)e(of)g(the)311 674 y(b)q(eha)o(vior.)p Black
270 757 a F0(\017)p Black 20 w(h)s FV(A)s F0(i)380 763
y FJ(v)419 757 y F4(can)j(b)q(e)h(enabled)f(for)g(a)f(total)g(of)h(at)f
(most)g FQ(\017)h F4(time)e(units)i(b)q(efore)h(an)f
F0(h)s FV(A)s F0(i)1624 763 y FJ(v)311 806 y F4(step)e(o)q(ccurs.)208
889 y(If)e FQ(\017)e(<)h FV(In\014nity)t F4(,)h(then)i
FV(R)m(TBound)t F4(\()p FV(A)p FQ(;)f FV(v)t FQ(;)g(\016)o(;)g(\017)p
F4(\))g(implies)d(that)j(an)f F0(h)s FV(A)s F0(i)1322
895 y FJ(v)1358 889 y F4(step)h(m)o(ust)f(o)q(ccur)208
939 y(if)j F0(h)s FV(A)s F0(i)318 945 y FJ(v)358 939
y F4(is)h(con)o(tin)o(uously)g(enabled)g(for)g FQ(\017)h
F4(seconds.)30 b(Hence,)19 b(if)e F0(h)s FV(A)s F0(i)1332
945 y FJ(v)1371 939 y F4(is)g(ev)o(er)i(enabled)208 989
y(forev)o(er,)j(in\014nitely)e(man)o(y)e F0(h)s FV(A)s
F0(i)734 995 y FJ(v)777 989 y F4(steps)k(m)o(ust)d(o)q(ccur.)39
b(Th)o(us,)22 b FV(R)m(TBound)t F4(\()p FV(A)p FQ(;)15
b FV(v)t FQ(;)f(\016)o(;)g(\017)p F4(\))208 1039 y(implies)c(w)o(eak)j
(fairness)g(of)g FV(A)p F4(.)k(More)c(precisely)m(,)g
FV(R)m(TBound)t F4(\()p FV(A)p FQ(;)i FV(v)t FQ(;)f(\016)o(;)g(\017)p
F4(\))f(and)g FV(R)m(Tnow)t F4(\()p FV(v)t F4(\))208
1089 y(together)21 b(imply)d(WF)570 1095 y FJ(v)591 1089
y F4(\()p FV(A)p F4(\).)38 b(Ho)o(w)o(ev)o(er,)21 b FV(SR)m(TBound)t
F4(\()p FV(A)p FQ(;)16 b FV(v)t FQ(;)d(\016)o(;)i(\017)p
F4(\))20 b(do)q(es)h(not)f(similarly)208 1139 y(imply)7
b(strong)k(fairness)g(of)f FV(A)p F4(.)16 b(It)11 b(allo)o(ws)e(b)q
(eha)o(viors)h(in)g(whic)o(h)g F0(h)s FV(A)s F0(i)1266
1145 y FJ(v)1299 1139 y F4(is)g(enabled)h(in\014nitely)208
1188 y(often)j(but)g(nev)o(er)h(executed|for)g(example,)d
FV(A)i F4(can)g(b)q(e)h(enabled)f(for)g FQ(\017=)p F4(2)f(seconds,)i
(then)208 1238 y(for)h FQ(\017=)p F4(4)g(seconds,)i(then)g(for)e
FQ(\017=)p F4(8)g(seconds,)j(and)d(so)h(on.)26 b(F)m(or)17
b(this)g(reason,)g FV(SR)m(TBound)208 1288 y F4(do)q(es)12
b(not)g(seem)f(to)g(b)q(e)i(of)e(m)o(uc)o(h)f(practical)i(use,)g(so)g
(I)g(w)o(on't)e(b)q(other)j(de\014ning)f(it)f(formally)l(.)208
1446 y FN(9.3)81 b(A)27 b(Real-Time)f(Cac)n(hing)h(Memory)208
1537 y F4(Let's)12 b(no)o(w)h(use)g(the)g FV(R)n(e)n(alTime)i
F4(mo)q(dule)c(to)h(write)h(a)f(real-time)f(v)o(ersions)i(of)f(the)i
(lineariz-)208 1587 y(able)f(memory)e(sp)q(eci\014cation)j(of)f
(Section)h(5.3)f(\(page)g(51\))h(and)f(the)h(write-through)g(cac)o(he)
208 1637 y(sp)q(eci\014cation)j(of)g(Section)h(5.6)e(\(page)h(54\).)27
b(W)m(e)17 b(obtain)g(the)g(real-time)f(memory)f(sp)q(ec-)208
1687 y(i\014cation)h(b)o(y)h(strengthening)h(the)g(sp)q(eci\014cation)g
(in)f(mo)q(dule)e FV(Memory)21 b F4(\(Figure)d(5.3)e(on)208
1736 y(page)f(53\))f(to)h(require)h(that)f(the)h(memory)c(resp)q(onds)
17 b(to)e(a)g(pro)q(cessor's)i(requests)g(within)208
1786 y FV(R)o(ho)g F4(seconds.)k(The)15 b(complete)e(memory)f(sp)q
(eci\014cation)j FV(Sp)n(e)n(c)i F4(of)d(mo)q(dule)f
FV(Memory)18 b F4(w)o(as)208 1836 y(obtained)g(b)o(y)g(hiding)f(the)i
(v)n(ariables)e FV(mem)s F4(,)i FV(ctl)t F4(,)g(and)f
FV(buf)27 b F4(in)18 b(the)h(in)o(ternal)f(sp)q(eci\014ca-)208
1886 y(tion)d FV(ISp)n(e)n(c)k F4(of)c(mo)q(dule)g FV(InternalMemory)t
F4(.)24 b(It's)16 b(generally)g(easier)h(to)f(add)g(a)f(real-time)208
1936 y(constrain)o(t)i(to)h(an)f(in)o(ternal)g(sp)q(eci\014cation,)h
(where)h(the)f(constrain)o(ts)g(can)f(men)o(tion)f(the)208
1986 y(in)o(ternal)d(\(hidden\))i(v)n(ariables.)j(So,)c(w)o(e)h
(\014rst)g(add)f(the)h(timing)c(constrain)o(t)k(to)f
FV(ISp)n(e)n(c)j F4(and)208 2035 y(then)d(hide)g(the)h(in)o(ternal)e(v)
n(ariables.)270 2085 y(T)m(o)g(sp)q(ecify)i(that)f(the)h(system)f(m)o
(ust)g(resp)q(ond)h(to)f(a)g(pro)q(cessor)i(request)g(within)e
FV(R)o(ho)208 2135 y F4(seconds,)i(w)o(e)g(add)f(an)g(upp)q(er-b)q
(ound)i(timing)12 b(constrain)o(t)k(for)f(an)g(action)g(that)h(b)q
(ecomes)208 2185 y(enabled)h(when)g(a)f(request)j(is)d(issued,)i(and)f
(that)g(b)q(ecomes)g(disabled)f(\(p)q(ossibly)h(b)o(y)f(b)q(e-)208
2235 y(ing)d(executed\))i(only)e(when)i(the)f(pro)q(cessor)i(resp)q
(onds)f(to)e(the)i(request.)k(In)14 b(sp)q(eci\014cation)208
2284 y FV(ISp)n(e)n(c)r F4(,)h(resp)q(onding)g(to)g(a)f(request)j
(requires)f(t)o(w)o(o)e(actions|)p FV(Do)s F4(\()p FV(p)s
F4(\))g(to)h(p)q(erform)f(the)h(op-)208 2334 y(eration)f(in)o(ternally)
m(,)e(and)i FV(Rsp)s F4(\()p FV(p)s F4(\))g(to)g(issue)h(the)g(resp)q
(onse.)21 b(Neither)15 b(of)e(these)j(actions)e(is)208
2384 y(the)j(one)g(w)o(e)g(w)o(an)o(t;)h(w)o(e)f(ha)o(v)o(e)f(to)h
(de\014ne)h(a)f(new)g(action)f(for)h(the)g(purp)q(ose.)28
b(There)18 b(is)f(a)208 2434 y(p)q(ending)g(request)h(for)f(pro)q
(cessor)h FV(p)i F4(i\013)d FV(ctl)t F4([)p FV(p)s F4(])e(equals)i(\\)p
FD(rdy)p F4(")q(.)27 b(So,)17 b(w)o(e)g(assert)h(that)f(the)p
Black Black eop
%%Page: 125 143
125 142 bop Black 208 275 a FR(9.3.)30 b(A)14 b(REAL-TIME)g(CA)o(CHING)
g(MEMOR)m(Y)902 b F4(125)p 208 282 1770 2 v Black Black
Black Black 188 395 2 25 v 190 372 718 2 v 921 379 a
FP(module)15 b FV(R)n(e)n(alTime)p 1278 372 V 1996 395
2 25 v .95 TeXcolorgray .95 TeXcolorgray 200 570 1787
169 v .95 TeXcolorgray Black 208 437 a FZ(This)c(mo)q(dule)f(declares)f
(the)i(v)n(ariable)e FY(now)t FZ(,)i(whic)o(h)g(represen)o(ts)e(real)i
(time,)f(and)h(de\014nes)f(op)q(erators)f(for)i(writing)f(real-time)208
476 y(sp)q(eci\014catio)o(ns.)k(Real-time)9 b(constrain)o(ts)g(are)i
(added)f(to)h(a)h(sp)q(eci\014catio)o(n)d(b)o(y)i(conjoining)d(it)k
(with)f FY(R)m(Tnow)t FZ(\()p FY(v)t FZ(\))f(and)h(for-)208
516 y(m)o(ulas)f(of)h(the)g(form)f FY(R)m(TBound)s FZ(\()p
FY(A)p Fw(;)i FY(v)t Fw(;)g(\016)o(;)f(\017)p FZ(\))h(for)f(actions)f
FY(A)p FZ(,)i(where)f FY(v)16 b FZ(is)11 b(the)g(tuple)f(of)h(all)g(sp)
q(eci\014cation)d(v)n(ariables)i(and)208 555 y(0)f FW(\024)h
Fw(\016)h FW(\024)f Fw(\017)g FW(\024)g FY(In\014nity)s
FZ(.)p .95 TeXcolorgray Black 208 613 a FP(extends)16
b FV(R)n(e)n(als)208 684 y FP(v)l(ariable)h FV(now)p
.95 TeXcolorgray .95 TeXcolorgray 513 704 1385 57 v .95
TeXcolorgray Black 47 w FZ(The)12 b(v)n(alue)e(of)h FY(now)k
FZ(is)d(a)f(real)g(n)o(um)o(b)q(er)e(that)i(represen)o(ts)e(the)h
(curren)o(t)g(time,)g(in)h(unsp)q(eci\014ed)e(units.)p
.95 TeXcolorgray Black 188 728 2 25 v 190 717 1806 2
v 1996 728 2 25 v .95 TeXcolorgray .95 TeXcolorgray 200
869 1787 132 v .95 TeXcolorgray Black 208 774 a FY(R)m(TBound)s
FZ(\()p FY(A)p Fw(;)j FY(v)t Fw(;)g(\016)o(;)f(\017)p
FZ(\))h(asserts)e(that)g(an)i FW(h)s FY(A)s FW(i)840
778 y FE(v)869 774 y FZ(step)f(can)g(o)q(ccur)f(only)g(after)h
FW(h)s FY(A)s FW(i)1325 778 y FE(v)1354 774 y FZ(has)g(b)q(een)g(con)o
(tin)o(uousl)o(y)e(enabled)g(for)i Fw(\016)208 813 y
FZ(time)f(units)g(since)h(the)g(last)f FW(h)s FY(A)s
FW(i)650 817 y FE(v)680 813 y FZ(step)h(\(or)g(the)g(b)q(eginning)d(of)
j(the)g(b)q(eha)o(vior\),)e(and)h(it)i(m)o(ust)e(o)q(ccur)g(b)q(efore)g
FW(h)s FY(A)s FW(i)1755 817 y FE(v)1785 813 y FZ(has)h(b)q(een)208
853 y(con)o(tin)o(uou)o(sly)e(enabled)g(for)i(more)f(than)g
Fw(\017)j FZ(time)d(units)g(since)h(the)f(last)h FW(h)s
FY(A)s FW(i)1235 857 y FE(v)1265 853 y FZ(step)g(\(or)g(the)g(b)q
(eginning)d(of)j(the)g(b)q(eha)o(vior\).)p .95 TeXcolorgray
Black 208 917 a FV(R)m(TBound)t F4(\()p FV(A)p FQ(;)j
FV(v)t FQ(;)g FV(D)t FQ(;)g FV(E)5 b F4(\))656 894 y
FI(\001)652 917 y F4(=)292 974 y FP(let)23 b FV(TNext)t
F4(\()p FV(t)t F4(\))580 950 y FI(\001)575 974 y F4(=)g
FV(t)648 959 y FH(0)678 974 y F4(=)c FP(if)k F0(h)s FV(A)s
F0(i)856 980 y FJ(v)887 974 y F0(_)9 b(:)p F4(\()p FP(enabled)i
F0(h)s FV(A)s F0(i)1215 980 y FJ(v)1237 974 y F4(\))1253
959 y FH(0)762 1024 y FP(then)24 b F4(0)762 1073 y FP(else)36
b FV(t)13 b F4(+)c(\()p FV(now)1044 1058 y FH(0)1066
1073 y F0(\000)h FV(now)t F4(\))p .95 TeXcolorgray .95
TeXcolorgray 1341 1107 592 169 v .95 TeXcolorgray Black
1349 974 a FY(Timer)t FZ(\()p FY(t)s FZ(\))h(asserts)f(that)h
FY(t)j FZ(is)e(the)f(length)1349 1013 y(of)g(time)g FW(h)s
FY(A)s FW(i)1530 1017 y FE(v)1559 1013 y FZ(has)g(b)q(een)g(con)o(tin)o
(uousl)o(y)1349 1053 y(enabled)e(without)i(an)g FW(h)s
FY(A)s FW(i)1719 1057 y FE(v)1749 1053 y FZ(step)f(o)q(ccur-)1349
1092 y(ring.)p .95 TeXcolorgray Black 384 1130 a FV(Timer)t
F4(\()p FV(t)t F4(\))580 1107 y FI(\001)575 1130 y F4(=)23
b(\()p FV(t)16 b F4(=)c(0\))k F0(^)f FG(2)p F4([)p FV(TNext)t
F4(\()p FV(t)t F4(\)])1038 1137 y FH(h)s FJ(t)s Fy(;)t
FJ(v)s Fy(;)6 b FJ(now)f FH(i)384 1216 y FV(MaxTime)s
F4(\()p FV(t)t F4(\))639 1193 y FI(\001)634 1216 y F4(=)23
b FG(2)p F4(\()p FV(t)16 b F0(\024)11 b FV(E)5 b F4(\))p
.95 TeXcolorgray .95 TeXcolorgray 893 1236 467 57 v .95
TeXcolorgray Black 43 w FZ(Asserts)11 b(that)g FY(t)j
FZ(is)e(alw)o(a)o(ys)f FW(\024)f FY(E)t FZ(.)p .95 TeXcolorgray
Black 384 1302 a FV(MinTime)s F4(\()p FV(t)t F4(\))639
1278 y FI(\001)634 1302 y F4(=)23 b FG(2)p F4([)p FV(A)11
b F0(\))g F4(\()p FV(t)16 b F0(\025)11 b FV(D)t F4(\)])979
1308 y FJ(v)p .95 TeXcolorgray .95 TeXcolorgray 1034
1322 802 57 v .95 TeXcolorgray Black 1043 1302 a FZ(Asserts)g(that)f
(an)h FW(h)s FY(A)s FW(i)1351 1306 y FE(v)1381 1302 y
FZ(step)g(can)g(o)q(ccur)f(only)g(if)h FY(t)i FW(\025)d
FY(D)s FZ(.)p .95 TeXcolorgray Black 292 1381 a FP(in)384
1379 y F0(9)-22 b(9)g(9)384 1381 y(9)g(9)g(9)8 b FV(t)22
b F4(:)c FV(Timer)t F4(\()p FV(t)t F4(\))d F0(^)h FV(MaxTime)s
F4(\()p FV(t)t F4(\))h F0(^)f FV(MinTime)s F4(\()p FV(t)t
F4(\))p 188 1442 2 25 v 190 1431 1806 2 v 1996 1442 2
25 v .95 TeXcolorgray .95 TeXcolorgray 200 1542 1787
91 v .95 TeXcolorgray Black 208 1488 a FY(R)m(Tnow)t
FZ(\()p FY(v)t FZ(\))10 b(asserts)g(that)h FY(now)k FZ(is)d(a)f(real)g
(n)o(um)o(b)q(er)e(that)h(is)i(increased)d(without)h(b)q(ound,)g(in)h
(arbitrary)e(incremen)o(ts,)g(b)o(y)i(steps)208 1527
y(that)f(lea)o(v)o(e)g FY(v)16 b FZ(unc)o(hanged.)p .95
TeXcolorgray Black 208 1597 a FV(R)m(Tnow)t F4(\()p FV(v)t
F4(\))436 1574 y FI(\001)431 1597 y F4(=)35 b FP(let)23
b FV(NowNext)796 1574 y FI(\001)792 1597 y F4(=)34 b
F0(^)15 b FV(now)977 1582 y FH(0)1001 1597 y F0(2)c(f)p
FV(r)k F0(2)c FV(R)n(e)n(al)23 b F4(:)18 b FV(r)e FQ(>)11
b FV(now)t F0(g)858 1647 y(^)k FP(unchanged)i FV(v)498
1705 y FP(in)54 b F0(^)15 b FV(now)h F0(2)11 b FV(R)n(e)n(al)590
1763 y F0(^)k FG(2)p F4([)p FV(NowNext)t F4(])855 1769
y FJ(now)590 1822 y F0(^)g(8)7 b FV(r)15 b F0(2)d FV(R)n(e)n(al)22
b F4(:)c(WF)935 1828 y FJ(now)1000 1822 y F4(\()p FV(NowNext)13
b F0(^)8 b F4(\()p FV(now)1320 1807 y FH(0)1344 1822
y FQ(>)k FV(r)t F4(\)\))p 188 1862 2 25 v 190 1862 1806
2 v 1996 1862 2 25 v Black 444 1952 a FU(Figure)i(9.2:)k
F4(The)d FV(R)n(e)n(alTime)h F4(mo)q(dule)d(for)g(writing)g(real-time)g
(sp)q(eci\014cations.)p Black Black 208 2063 a(follo)o(wing)h(action)j
(cannot)h(b)q(e)g(enabled)g(for)f(more)f(than)h FV(R)o(ho)k
F4(seconds)e(without)e(b)q(eing)208 2112 y(executed:)p
Black Black 332 2190 a FV(R)n(esp)n(ond)t F4(\()p FV(p)s
F4(\))581 2166 y FI(\001)576 2190 y F4(=)35 b(\()p FV(ctl)t
F4([)p FV(p)s F4(])10 b F0(6)p F4(=)i(\\)p FD(rdy)p F4(")q(\))d
F0(^)g F4(\()p FV(ctl)1032 2173 y FH(0)1043 2190 y F4([)p
FV(p)s F4(])i(=)h(\\)p FD(rdy)p F4("\))208 2268 y(The)20
b(complete)f(sp)q(eci\014cation)h(is)f(form)o(ula)e FV(R)m(TSp)n(e)n(c)
22 b F4(of)d(mo)q(dule)f FV(R)m(TMemory)24 b F4(in)19
b(Fig-)208 2317 y(ure)f(9.3)f(on)h(the)g(next)h(page.)30
b(T)m(o)17 b(p)q(ermit)g(v)n(ariables)h FV(mem)s F4(,)g
FV(ctl)t F4(,)g(and)g FV(buf)27 b F4(to)18 b(b)q(e)g(hid-)208
2367 y(den,)d(the)g FV(R)m(TMemory)j F4(mo)q(dule)c(con)o(tains)g(a)h
(submo)q(dule)f FV(Inner)19 b F4(that)c(extends)h(mo)q(dule)208
2417 y FV(InternalMemory)t F4(.)270 2467 y(Ha)o(ving)j(added)h(a)g
(real-time)e(constrain)o(t)i(to)g(the)h(sp)q(eci\014cation)g(of)e(a)h
(linearizable)208 2517 y(memory)m(,)12 b(let's)j(strengthen)i(the)f(sp)
q(eci\014cation)g(of)e(the)i(write-through)f(cac)o(he)i(so)e(it)g(sat-)
p Black Black eop
%%Page: 126 144
126 143 bop Black 208 275 a F4(126)1178 b FR(CHAPTER)14
b(9.)31 b(REAL)14 b(TIME)p 208 282 1770 2 v Black Black
Black Black 188 394 2 25 v 190 371 701 2 v 904 378 a
FP(module)h FV(R)m(TMemory)p 1295 371 V 1996 394 2 25
v .95 TeXcolorgray .95 TeXcolorgray 200 490 1787 91 v
.95 TeXcolorgray Black 208 436 a FZ(A)d(sp)q(eci\014cation)c(that)i
(strengthens)f(the)i(linearizabl)o(e)e(memory)g(sp)q(eci\014cation)f
(of)k(Section)d(5.3)i(b)o(y)g(requiring)e(that)h(a)i(resp)q(onse)208
476 y(b)q(e)f(sen)o(t)f(to)h(ev)o(ery)g(pro)q(cessor)e(request)h
(within)g FY(R)o(ho)15 b FZ(seconds.)p .95 TeXcolorgray
Black 208 546 a FP(extends)h FV(MemoryInterfac)n(e)s
FQ(;)21 b FV(R)n(e)n(alTime)208 612 y FP(const)m(ant)16
b FV(R)o(ho)208 679 y FP(assume)g F4(\()p FV(R)o(ho)f
F0(2)c FV(R)n(e)n(al)t F4(\))f F0(^)f F4(\()p FV(R)o(ho)15
b FQ(>)d F4(0\))p Black Black 230 741 2 25 v 232 718
731 2 v 978 725 a FP(module)k FV(Inner)p 1264 718 V 1995
741 2 25 v .95 TeXcolorgray .95 TeXcolorgray 242 803
1743 57 v .95 TeXcolorgray Black 250 783 a FZ(W)m(e)c(in)o(tro)q(duce)d
(a)i(submo)q(dule)e(so)i(w)o(e)h(can)f(hide)f(the)h(v)n(ariables)e
FY(mem)s FZ(,)j FY(ctl)s FZ(,)g(and)f FY(buf)c FZ(.)p
.95 TeXcolorgray Black 250 854 a FP(extends)16 b FV(InternalMemory)250
925 y(R)n(esp)n(ond)t F4(\()p FV(p)s F4(\))499 901 y
FI(\001)494 925 y F4(=)335 975 y(\()p FV(ctl)t F4([)p
FV(p)s F4(])10 b F0(6)p F4(=)i(\\)p FD(rdy)p F4("\))e
F0(^)f F4(\()p FV(ctl)724 960 y FH(0)735 975 y F4([)p
FV(p)s F4(])i(=)g(\\)p FD(rdy)p F4(")q(\))p .95 TeXcolorgray
.95 TeXcolorgray 984 981 991 92 v .95 TeXcolorgray Black
992 925 a FY(R)n(esp)n(ond)s FZ(\()p FY(p)r FZ(\))i(is)e(enabled)f
(when)h(a)g(request)f(is)i(receiv)o(ed)d(from)h FY(p)r
FZ(;)i(it)f(is)992 964 y(disabled)f(when)h(a)g FY(R)n(esp)n(ond)s
FZ(\()p FY(p)r FZ(\))i(step)e(issues)f(the)h(resp)q(onse.)p
.95 TeXcolorgray Black 250 1052 a FV(R)m(TISp)n(e)n(c)443
1029 y FI(\001)438 1052 y F4(=)35 b F0(^)15 b FV(ISp)n(e)n(c)505
1102 y F0(^)g(8)7 b FV(p)14 b F0(2)d FV(Pr)n(o)n(c)21
b F4(:)d FV(R)m(TBound)t F4(\()p FV(R)n(esp)n(ond)t F4(\()p
FV(p)s F4(\))p FQ(;)e FV(ctl)t FQ(;)d F4(0)p FQ(;)g FV(R)o(ho)s
F4(\))505 1152 y F0(^)i FV(R)m(Tnow)t F4(\()p F0(h)s
FV(memInt)t FQ(;)f FV(mem)s FQ(;)g FV(ctl)t FQ(;)f FV(buf)f
F0(i)p F4(\))p .95 TeXcolorgray .95 TeXcolorgray 1458
1146 522 130 v .95 TeXcolorgray Black 1466 1052 a FZ(W)m(e)g(assert)e
(an)h(upp)q(er-b)q(ound)d(dela)o(y)1466 1092 y(of)j FY(R)o(ho)k
FZ(on)c FY(R)n(esp)n(ond)s FZ(\()p FY(p)r FZ(\),)h(for)f(all)1466
1131 y(pro)q(cessors)e FY(p)r FZ(.)p .95 TeXcolorgray
Black 230 1186 2 25 v 232 1186 1764 2 v 1996 1186 2 25
v 208 1251 a FV(Inner)t F4(\()p FV(mem)s FQ(;)14 b FV(ctl)t
FQ(;)f FV(buf)c F4(\))635 1227 y FI(\001)630 1251 y F4(=)35
b FP(inst)m(ance)16 b FV(Inner)208 1324 y(R)m(TSp)n(e)n(c)385
1301 y FI(\001)380 1324 y F4(=)447 1322 y F0(9)-22 b(9)g(9)447
1324 y(9)g(9)g(9)7 b FV(mem)s FQ(;)13 b FV(ctl)t FQ(;)h
FV(buf)27 b F4(:)18 b FV(Inner)t F4(\()p FV(mem)s FQ(;)c
FV(ctl)t FQ(;)g FV(buf)8 b F4(\))s(!)s FV(R)m(TISp)n(e)n(c)p
188 1371 V 190 1371 1806 2 v 1996 1371 2 25 v Black 424
1461 a FU(Figure)14 b(9.3:)k F4(A)c(real-time)f(v)o(ersion)h(of)f(the)i
(linearizable)e(memory)e(sp)q(eci\014cation.)p Black
Black 208 1577 a(is\014es)19 b(that)f(constrain)o(t.)32
b(The)18 b(ob)r(ject)i(is)e(not)g(just)h(to)f(add)g(an)o(y)g(real-time)
f(constrain)o(t)208 1627 y(that)11 b(do)q(es)i(the)f(job|that's)f(easy)
i(to)e(do)h(b)o(y)f(using)h(the)g(same)f(constrain)o(t)i(that)e(w)o(e)i
(added)208 1677 y(to)k(the)i(memory)d(sp)q(eci\014cation.)31
b(W)m(e)18 b(w)o(an)o(t)f(to)h(write)h(a)e(sp)q(eci\014cation)i(of)f(a)
f(real-time)208 1727 y(algorithm|)o(a)11 b(sp)q(eci\014cation)16
b(that)e(tells)g(an)g(implemen)o(ter)e(ho)o(w)i(to)h(meet)e(the)i
(real-time)208 1776 y(constrain)o(ts.)21 b(This)15 b(is)g(generally)f
(done)h(b)o(y)g(placing)f(real-time)f(b)q(ounds)j(on)e(the)i(original)
208 1826 y(actions)g(of)f(the)i(un)o(timed)e(sp)q(eci\014cation,)i(not)
f(b)o(y)g(adding)g(time)f(b)q(ounds)h(on)g(a)g(new)h(ac-)208
1876 y(tion,)11 b(as)i(w)o(e)g(did)f(for)g(the)h(memory)d(sp)q
(eci\014cation.)18 b(An)13 b(upp)q(er-b)q(ound)g(constrain)o(t)g(on)f
(the)208 1926 y(resp)q(onse)k(time)e(should)h(b)q(e)g(ac)o(hiev)o(ed)g
(b)o(y)g(enforcing)g(upp)q(er-b)q(ound)h(constrain)o(ts)g(on)e(the)208
1976 y(system's)f(actions.)270 2026 y(If)f(w)o(e)g(try)h(to)f(ac)o
(hiev)o(e)g(a)g(b)q(ound)h(on)f(resp)q(onse)i(time)d(b)o(y)h(adding)f
(real-time)g(b)q(ounds)i(to)208 2075 y(the)f(write-through)g(cac)o(he)g
(sp)q(eci\014cation's)g(actions,)g(w)o(e)g(encoun)o(ter)h(the)f(follo)o
(wing)d(prob-)208 2125 y(lem.)16 b(Op)q(erations)c(b)o(y)g(di\013eren)o
(t)i(pro)q(cessors)g(\\comp)q(ete")e(with)f(one)i(another)f(to)g
(enqueue)208 2175 y(op)q(erations)i(on)h(the)g(\014nite)g(queue)h
FV(memQ)t F4(.)k(F)m(or)14 b(example,)f(when)i(servicing)g(a)f(write)h
(re-)208 2225 y(quest)c(for)g(pro)q(cessor)h FV(p)s F4(,)f(the)g
(system)g(m)o(ust)e(execute)k(a)d FV(DoWr)t F4(\()p FV(p)s
F4(\))i(action)f(to)f(enqueue)i(the)208 2275 y(op)q(eration)g(to)h(the)
g(tail)f(of)g FV(memQ)t F4(.)17 b(That)c(action)f(is)h(not)f(enabled)h
(if)f FV(memQ)k F4(is)d(full.)j(The)208 2324 y FV(DoWr)t
F4(\()p FV(p)s F4(\))h(action)f(can)h(b)q(e)g(con)o(tin)o(ually)e
(disabled)h(b)o(y)g(the)h(system)f(p)q(erforming)f FV(DoWr)208
2374 y F4(or)d FV(R)n(dMiss)k F4(actions)d(for)f(other)h(pro)q
(cessors.)20 b(That's)12 b(wh)o(y)m(,)f(to)i(guaran)o(tee)g(liv)o
(eness|that)208 2424 y(eac)o(h)j(request)i(ev)o(en)o(tually)e(receiv)o
(es)i(a)e(resp)q(onse|in)h(Section)f(8.7)g(\(page)g(107\))g(w)o(e)g
(had)208 2474 y(to)d(assert)j(strong)e(fairness)g(of)f
FV(DoWr)19 b F4(and)14 b FV(R)n(dMiss)k F4(actions.)g(The)c(only)f(w)o
(a)o(y)g(to)h(ensure)p Black Black eop
%%Page: 127 145
127 144 bop Black 208 275 a FR(9.3.)30 b(A)14 b(REAL-TIME)g(CA)o(CHING)
g(MEMOR)m(Y)902 b F4(127)p 208 282 1770 2 v Black 208
391 a(that)15 b(a)f FV(DoWr)t F4(\()p FV(p)s F4(\))i(action)f(is)g
(executed)i(within)d(some)g(length)h(of)f(time)g(is)h(to)g(use)g(lo)o
(w)o(er-)208 441 y(b)q(ound)e(constrain)o(ts)g(on)g(the)h(actions)f(of)
f(other)i(pro)q(cessors)h(to)e(ensure)h(that)f(they)h(cannot)208
491 y(p)q(erform)e FV(DoWr)18 b F4(or)13 b FV(R)n(dMiss)k
F4(actions)c(to)q(o)g(frequen)o(tly)m(.)18 b(Although)12
b(suc)o(h)i(a)f(sp)q(eci\014cation)208 541 y(is)g(p)q(ossible,)h(it)f
(is)h(not)g(the)g(kind)g(of)f(approac)o(h)h(an)o(y)o(one)g(is)f(lik)o
(ely)g(to)h(tak)o(e)g(in)f(practice.)270 591 y(The)20
b(usual)g(metho)q(d)f(of)g(enforcing)h(real-time)f(b)q(ounds)h(on)g
(accesses)i(to)e(a)g(shared)208 640 y(resource)c(is)f(to)g(sc)o(hedule)
h(the)g(use)g(of)e(the)h(resource)i(b)o(y)e(di\013eren)o(t)h(pro)q
(cessors.)23 b(So,)15 b(let's)208 690 y(mo)q(dify)f(the)k
(write-through)f(cac)o(he)h(to)f(add)g(a)f(sc)o(heduling)h(discipline)g
(to)g(actions)g(that)208 740 y(enqueue)10 b(op)q(erations)g(on)f
FV(memQ)t F4(.)16 b(W)m(e)10 b(use)g(round-robin)f(sc)o(heduling,)h
(whic)o(h)f(is)h(probably)208 790 y(the)j(easiest)h(one)f(to)g(implem)o
(en)o(t.)i(Supp)q(ose)f(pro)q(cessors)h(are)f(n)o(um)o(b)q(ered)e(from)
f(0)i(through)208 840 y FV(N)j F0(\000)10 b F4(1.)20
b(Round-robin)14 b(sc)o(heduling)h(means)f(that)g(an)h(op)q(eration)f
(for)h(pro)q(cessor)h FV(p)i F4(is)c(the)208 889 y(next)j(one)f(to)h(b)
q(e)g(enqueued)h(after)f(an)f(op)q(eration)g(for)h(pro)q(cessor)h
FV(q)i F4(i\013)c(there)i(is)f(not)f(an)208 939 y(op)q(eration)d(for)g
(an)o(y)g(of)f(the)i(pro)q(cessors)i(\()p FV(q)c F4(+)c(1\))k
FD(\045)f FV(N)c F4(,)12 b(\()p FV(q)g F4(+)d(2\))i FD(\045)g
FV(N)c F4(,)13 b(.)6 b(.)h(.)13 b(,)g(\()p FV(p)e F0(\000)e
F4(1\))i FD(\045)g FV(N)208 989 y F4(w)o(aiting)h(to)i(b)q(e)g(put)g
(on)g FV(memQ)t F4(.)270 1039 y(T)m(o)k(express)i(this)f(formally)m(,)d
(w)o(e)j(\014rst)g(let)g(the)h(set)f FV(Pr)n(o)n(c)i
F4(of)d(pro)q(cessors)j(equal)d(the)208 1089 y(set)i(0)13
b FQ(:)7 b(:)13 b F4(\()p FV(N)19 b F0(\000)13 b F4(1\))19
b(of)g(in)o(tegers.)34 b(W)m(e)19 b(normally)d(do)j(this)g(b)o(y)g
(de\014ning)g FV(Pr)n(o)n(c)i F4(to)e(equal)208 1139
y(0)13 b FQ(:)7 b(:)13 b F4(\()p FV(N)e F0(\000)t F4(1\).)18
b(Ho)o(w)o(ev)o(er,)12 b(w)o(e)g(w)o(an)o(t)f(to)g(reuse)i(the)f
(parameters)g(and)f(de\014nitions)h(from)d(the)208 1188
y(write-through)k(cac)o(he)i(sp)q(eci\014cation,)e(and)h(that's)f
(easiest)i(to)e(do)g(b)o(y)g(extending)h(mo)q(dule)208
1238 y FV(WriteThr)n(oughCache)s F4(.)j(Since)d FV(Pr)n(o)n(c)h
F4(is)e(a)g(parameter)g(of)g(that)g(mo)q(dule,)e(w)o(e)j(can't)f
(de\014ne)208 1288 y(it.)k(W)m(e)12 b(therefore)i(let)f
FV(N)19 b F4(b)q(e)13 b(a)g(new)g(constan)o(t)g(parameter)f(and)h(let)g
FV(Pr)n(o)n(c)g F4(=)f(0)i FQ(:)7 b(:)12 b F4(\()p FV(N)i
F0(\000)7 b F4(1\))208 1338 y(b)q(e)14 b(an)g(assumption.)541
1323 y FS(2)270 1388 y F4(T)m(o)c(implem)o(en)o(t)e(round-robin)i(sc)o
(heduling,)h(w)o(e)g(use)g(a)f(v)n(ariable)g FV(lastP)k
F4(that)d(equals)f(the)208 1437 y(last)i(pro)q(cessor)i(whose)g(op)q
(eration)e(w)o(as)h(enqueued)h(to)e FV(memQ)t F4(.)17
b(W)m(e)12 b(de\014ne)i(the)f(op)q(erator)208 1487 y
FV(p)n(osition)18 b F4(so)e(that)f FV(p)j F4(is)d(the)h
FV(p)n(osition)s F4(\()p FV(p)s F4(\))866 1472 y FS(th)915
1487 y F4(pro)q(cessor)h(after)f FV(lastP)j F4(in)c(the)h(round-robin)
208 1537 y(order:)p Black Black 332 1617 a FV(p)n(osition)s
F4(\()p FV(p)s F4(\))572 1593 y FI(\001)567 1617 y F4(=)35
b FP(choose)17 b FV(i)e F0(2)c F4(1)j FQ(:)7 b(:)13 b
FV(N)25 b F4(:)18 b FV(p)c F4(=)e(\()p FV(lastP)h F4(+)d
FV(i)t F4(\))h FD(\045)h FV(N)208 1696 y F4(\(Th)o(us,)h
FV(p)n(osition)s F4(\()p FV(lastP)t F4(\))g(equals)g
FV(N)7 b F4(.\))18 b(An)13 b(op)q(eration)g(for)f(pro)q(cessor)j
FV(p)h F4(can)d(b)q(e)h(the)f(next)208 1746 y(to)j(access)i
FV(memQ)h F4(i\013)d(there)i(is)e(no)g(op)q(eration)g(for)f(a)h(pro)q
(cessor)i FV(q)i F4(with)c FV(p)n(osition)s F4(\()p FV(q)t
F4(\))g FQ(<)208 1796 y FV(p)n(osition)s F4(\()p FV(p)s
F4(\))e(ready)g(to)g(access)h(it|that)f(is,)f(i\013)g
FV(c)n(anGoNext)t F4(\()p FV(p)s F4(\))i(is)f(true,)g(where)p
Black Black 332 1882 a FV(c)n(anGoNext)t F4(\()p FV(p)s
F4(\))629 1859 y FI(\001)625 1882 y F4(=)34 b F0(8)7
b FV(q)16 b F0(2)11 b FV(Pr)n(o)n(c)20 b F4(:)e(\()p
FV(p)n(osition)s F4(\()p FV(q)t F4(\))12 b FQ(<)g FV(p)n(osition)s
F4(\()p FV(p)s F4(\)\))24 b F0(\))969 1935 y(:)7 b FP(enabled)j
F4(\()p FV(R)n(dMiss)s F4(\()p FV(q)t F4(\))g F0(_)f
FV(DoWr)t F4(\()p FV(q)t F4(\)\))208 2015 y(W)m(e)h(then)h(de\014ne)g
FV(R)m(TR)n(dMiss)s F4(\()p FV(p)s F4(\))g(and)f FV(R)m(TDoWr)t
F4(\()p FV(p)s F4(\))i(to)e(b)q(e)h(the)g(same)e(as)i
FV(R)n(dMiss)s F4(\()p FV(p)s F4(\))g(and)208 2065 y
FV(DoWr)t F4(\()p FV(p)s F4(\),)j(resp)q(ectiv)o(ely)m(,)g(except)g
(that)g(they)g(ha)o(v)o(e)f(the)h(additional)d(enabling)i(condition)208
2115 y FV(c)n(anGoNext)t F4(\()p FV(p)s F4(\),)h(and)g(they)h(set)g
FV(lastP)k F4(to)14 b FV(p)s F4(.)19 b(The)14 b(other)h(subactions)g
(of)f(the)h(next-state)208 2165 y(action)10 b(are)i(the)g(same)e(as)i
(b)q(efore,)g(except)h(that)e(they)h(m)o(ust)e(also)h(lea)o(v)o(e)g
FV(lastP)k F4(unc)o(hanged.)270 2215 y(F)m(or)j(simplicit)o(y)m(,)f(w)o
(e)i(assume)g(a)f(single)h(upp)q(er)h(b)q(ound)f(of)f
FV(Epsilon)23 b F4(on)18 b(the)i(length)208 2264 y(of)e(time)h(an)o(y)g
(of)f(the)i(actions)g(of)f(pro)q(cessor)i FV(p)h F4(can)e(remain)e
(enabled)i(without)f(b)q(eing)208 2314 y(executed|except)e(for)c(the)i
FV(Evict)t F4(\()p FV(p)s FQ(;)7 b FV(a)s F4(\))14 b(action,)f(whic)o
(h)h(w)o(e)h(nev)o(er)g(require)g(to)f(happ)q(en.)208
2364 y(In)j(general,)h(supp)q(ose)h FV(A)613 2370 y FS(1)632
2364 y F4(,)f(.)6 b(.)h(.)f(,)18 b FV(A)778 2370 y FJ(k)816
2364 y F4(are)g(actions)g(suc)o(h)g(that)g(\(i\))f(no)h(t)o(w)o(o)f(of)
g(them)f(are)p Black 208 2399 576 2 v 254 2426 a FK(2)271
2438 y FZ(W)m(e)d(could)f(also)g(instan)o(tiate)f(mo)q(dule)g
FY(WriteThr)n(oughCache)17 b FZ(with)c(0)e Fw(:)6 b(:)11
b FZ(\()p FY(N)k FW(\000)9 b FZ(1\))k(substituted)d(for)208
2477 y FY(Pr)n(o)n(c)r FZ(;)h(but)d(that)g(w)o(ould)h(require)e
(declaring)g(the)i(other)f(parameters)e(of)j FY(WriteThr)n(oughCache)r
FZ(,)j(including)208 2517 y(the)e(ones)h(from)f(the)h
FY(MemoryInterfac)n(e)16 b FZ(mo)q(dule.)p Black Black
Black eop
%%Page: 128 146
128 145 bop Black 208 275 a F4(128)1178 b FR(CHAPTER)14
b(9.)31 b(REAL)14 b(TIME)p 208 282 1770 2 v Black 208
391 a F4(ev)o(er)h(sim)o(ultaneously)d(enabled,)i(and)h(\(ii\))e(once)i
(an)o(y)f FV(A)1098 397 y FJ(i)1128 391 y F4(b)q(ecomes)h(enabled,)f
(it)g(m)o(ust)f(b)q(e)208 441 y(executed)20 b(b)q(efore)f(another)g
FV(A)701 447 y FJ(j)737 441 y F4(can)f(b)q(e)h(enabled.)33
b(In)18 b(this)h(case,)h(a)e(single)h FV(R)m(TBound)208
491 y F4(constrain)o(t)c(on)g FV(A)494 497 y FS(1)523
491 y F0(_)10 b FQ(:)d(:)g(:)h F0(_)i FV(A)688 497 y
FJ(k)724 491 y F4(is)16 b(equiv)n(alen)o(t)e(to)h(separate)i(constrain)
o(ts)f(on)f(all)f(the)i FV(A)1619 497 y FJ(i)1634 491
y F4(.)208 541 y(W)m(e)11 b(can)h(therefore)h(place)f(a)g(single)g
(constrain)o(t)g(on)f(the)i(disjunction)e(of)h(all)e(the)j(actions)e
(of)208 591 y(pro)q(cessor)i FV(p)s F4(,)f(except)h(that)f(w)o(e)h
(can't)e(use)i(the)g(same)e(constrain)o(t)h(for)g(b)q(oth)g
FV(DoR)n(d)t F4(\()p FV(p)s F4(\))h(and)208 640 y FV(R)m(TR)n(dMiss)s
F4(\()p FV(p)s F4(\))19 b(b)q(ecause)i(an)d FV(Evict)t
F4(\()p FV(p)s FQ(;)7 b FV(a)s F4(\))19 b(step)h(could)e(disable)h
FV(DoR)n(d)t F4(\()p FV(p)s F4(\))h(and)f(enable)208
690 y FV(R)m(TR)n(dMiss)s F4(\()p FV(p)s F4(\).)f(W)m(e)c(therefore)h
(use)g(a)e(separate)i(constrain)o(t)g(for)e FV(R)m(TR)n(dMiss)s
F4(\()p FV(p)s F4(\).)270 740 y(W)m(e)e(assume)g(an)h(upp)q(er)g(b)q
(ound)g(of)f FV(Delta)k F4(on)c(the)h(time)f FV(MemQWr)16
b F4(or)11 b FV(MemQR)n(d)17 b F4(can)208 790 y(b)q(e)f(enabled)g
(without)f(dequeuing)h(an)f(op)q(eration)g(from)f FV(memQ)t
F4(.)23 b(The)16 b(v)n(ariable)e FV(memQ)208 840 y F4(represen)o(ts)k
(a)d(ph)o(ysical)f(queue)j(b)q(et)o(w)o(een)f(the)g(bus)g(and)f(the)h
(main)d(memory)m(,)g(and)i FV(Delta)208 889 y F4(m)o(ust)f(b)q(e)i
(large)f(enough)h(so)g(an)f(op)q(eration)g(inserted)i(in)o(to)e(an)g
(empt)o(y)g(queue)h(will)e(reac)o(h)208 939 y(the)g(memory)d(and)j(b)q
(e)h(dequeued)g(within)e FV(Delta)k F4(seconds.)270 989
y(W)m(e)11 b(w)o(an)o(t)g(the)i(real-time)d(write-through)i(cac)o(he)g
(to)g(implemen)o(t)d(the)j(real-time)e(mem-)208 1039
y(ory)i(sp)q(eci\014cation.)19 b(This)12 b(requires)i(an)f(assumption)e
(relating)h FV(Delta)s F4(,)h FV(Epsilon)s F4(,)g(and)g
FV(R)o(ho)208 1089 y F4(to)e(assure)i(that)f(the)h(memory)c(sp)q
(eci\014cation's)k(timing)c(constrain)o(t)k(is)e(satis\014ed|namely)m
(,)208 1139 y(that)16 b(the)h(dela)o(y)g(b)q(et)o(w)o(een)h(when)f(the)
g(memory)d(receiv)o(es)k(a)f(request)h(from)d(pro)q(cessor)j
FV(p)208 1188 y F4(and)f(when)i(it)f(resp)q(onds)h(is)f(at)g(most)f
FV(R)o(ho)s F4(.)31 b(Determining)17 b(this)h(assumption)f(requires)208
1238 y(computing)12 b(an)h(upp)q(er)i(b)q(ound)f(on)g(that)g(dela)o(y)m
(.)j(Finding)c(the)i(smallest)d(upp)q(er)j(b)q(ound)f(is)208
1288 y(hard;)f(it's)g(easier)i(to)f(sho)o(w)g(that)p
Black Black 332 1364 a(2)9 b F0(\003)g F4(\()p FV(N)16
b F4(+)10 b(1\))f F0(\003)g FV(Epsilon)j F4(+)e(\()p
FV(N)16 b F4(+)9 b FV(QL)n(en)s F4(\))h F0(\003)f FV(Delta)208
1441 y F4(is)k(an)h(upp)q(er)h(b)q(ound.)j(So)c(w)o(e)g(assume)f(that)h
(this)g(v)n(alue)f(is)h(less)h(than)e(or)h(equal)g(to)g
FV(R)o(ho)s F4(.)270 1491 y(The)f(complete)f(sp)q(eci\014cation)h(app)q
(ears)g(in)f(Figure)h(9.4)f(on)g(the)h(follo)o(wing)d(t)o(w)o(o)i
(pages.)208 1541 y(The)h(mo)q(dule)f(also)h(asserts)i(as)e(a)g(theorem)
g(that)h(the)g(sp)q(eci\014cation)g FV(R)m(TSp)n(e)n(c)h
F4(of)e(the)h(real-)208 1590 y(time)e(write-through)j(cac)o(he)g
(implemen)o(ts)d(\(implies\))g(the)j(real-time)e(memory)f(sp)q
(eci\014ca-)208 1640 y(tion,)g(form)o(ula)g FV(R)m(TSp)n(e)n(c)k
F4(of)d(mo)q(dule)g FV(R)m(TMemory)t F4(.)208 1797 y
FN(9.4)81 b(Zeno)28 b(Sp)r(eci\014cations)208 1888 y
F4(I)19 b(ha)o(v)o(e)g(describ)q(ed)i(the)f(form)o(ula)d
FV(R)m(TBound)t F4(\()p FV(HCnxt)t FQ(;)d FV(hr)t FQ(;)g(\016)o(;)g
(\017)p F4(\))19 b(as)h(asserting)g(that)f(an)208 1938
y FV(HCnxt)e F4(step)f(m)o(ust)d(o)q(ccur)i(within)e
FQ(\017)h F4(seconds)i(of)d(the)i(previous)f FV(HCnxt)k
F4(step.)i(Ho)o(w)o(ev)o(er,)208 1988 y(implicit)15 b(in)j(this)g
(description)h(is)g(a)f(notion)f(of)h(causalit)o(y)g(that)g(is)g(not)g
(presen)o(t)i(in)e(the)208 2038 y(form)o(ula.)f(It)e(w)o(ould)f(b)q(e)i
(just)e(as)h(accurate)h(to)f(describ)q(e)h(the)g(form)o(ula)c(as)i
(asserting)i(that)208 2087 y FV(now)g F4(cannot)c(adv)n(ance)h(b)o(y)e
(more)g(than)h FQ(\017)g F4(seconds)i(b)q(efore)f(the)f(next)h
FV(HCnxt)j F4(step)d(o)q(ccurs.)208 2137 y(The)i(form)o(ula)e(do)q
(esn't)i(tell)g(us)h(whether)g(this)f(condition)g(is)g(met)f(b)o(y)h
(causing)g(the)h(clo)q(c)o(k)208 2187 y(to)g(tic)o(k)g(or)g(b)o(y)g
(prev)o(en)o(ting)g(time)f(from)f(adv)n(ancing.)24 b(Indeed,)18
b(the)f(form)o(ula)c(is)j(satis\014ed)208 2237 y(b)o(y)d(a)h(\\Zeno")g
(b)q(eha)o(vior:)611 2222 y FS(3)p Black Black 332 2277
a FF(\024)p Black 34 x FV(hr)61 b F4(=)23 b(11)354 2361
y FV(now)28 b F4(=)23 b(0)p Black 551 2277 a FF(\025)598
2336 y F0(!)665 2277 y FF(\024)p Black 34 x FV(hr)60
b F4(=)24 b(11)687 2361 y FV(now)j F4(=)d FQ(\017=)p
F4(2)p Black 900 2277 a FF(\025)947 2336 y F0(!)1014
2277 y FF(\024)p Black 34 x FV(hr)61 b F4(=)23 b(11)1036
2361 y FV(now)28 b F4(=)23 b(3)p FQ(\017=)p F4(4)p Black
1270 2277 a FF(\025)1317 2336 y F0(!)1384 2277 y FF(\024)p
Black 34 x FV(hr)61 b F4(=)23 b(11)1406 2361 y FV(now)28
b F4(=)23 b(7)p FQ(\017=)p F4(8)p Black 1640 2277 a FF(\025)1688
2336 y F0(!)h(\001)7 b(\001)g(\001)p Black 208 2399 576
2 v 254 2426 a FK(3)271 2438 y FZ(The)12 b(Greek)e(philosopher)f(Zeno)h
(p)q(osed)g(the)h(parado)o(x)f(that)h(an)g(arro)o(w)g(\014rst)g(had)g
(to)g(tra)o(v)o(el)f(half)h(the)208 2477 y(distance)e(to)j(its)f
(target,)f(then)h(the)g(next)g(quarter)f(of)h(the)g(distance,)f(then)h
(the)g(next)f(eigh)o(th,)g(and)h(so)h(on;)208 2517 y(th)o(us)e(it)h
(should)f(not)h(b)q(e)g(able)g(to)g(land)f(within)h(a)g(\014nite)g
(length)e(of)j(time.)p Black Black Black eop
%%Page: 129 147
129 146 bop Black 208 275 a FR(9.4.)30 b(ZENO)15 b(SPECIFICA)m(TIONS)
1125 b F4(129)p 208 282 1770 2 v Black Black Black Black
188 525 2 25 v 190 502 592 2 v 796 509 a FP(module)16
b FV(R)m(TWriteThr)n(oughCache)p 1404 502 V 1996 525
2 25 v 208 567 a FP(extends)g FV(WriteThr)n(oughCache)s
FQ(;)21 b FV(R)n(e)n(alTime)208 630 y FP(const)m(ant)16
b FV(N)208 692 y FP(assume)g F4(\()p FV(N)j F0(2)11 b
FV(Nat)t F4(\))16 b F0(^)g F4(\()p FV(Pr)n(o)n(c)e F4(=)d(0)j
FQ(:)7 b(:)13 b FV(N)j F0(\000)9 b F4(1\))p .95 TeXcolorgray
.95 TeXcolorgray 1010 689 672 96 v .95 TeXcolorgray Black
1018 630 a FZ(W)m(e)j(assume)e(that)h(the)f(set)h FY(Pr)n(o)n(c)k
FZ(of)c(pro)q(cessors)1018 669 y(equals)f(0)i Fw(:)6
b(:)11 b FY(N)j FW(\000)8 b FZ(1.)p .95 TeXcolorgray
Black 208 752 a FP(const)m(ants)16 b FV(Delta)s FQ(;)21
b FV(Epsilon)s FQ(;)h FV(R)o(ho)p .95 TeXcolorgray .95
TeXcolorgray 847 772 550 57 v .95 TeXcolorgray Black
46 w FZ(Some)10 b(real-time)f(b)q(ounds)h(on)h(actions.)p
.95 TeXcolorgray Black 208 814 a FP(assume)16 b F0(^)f
F4(\()p FV(Delta)g F0(2)c FV(R)n(e)n(al)t F4(\))16 b
F0(^)g F4(\()p FV(Delta)f FQ(>)d F4(0\))366 864 y F0(^)j
F4(\()p FV(Epsilon)g F0(2)c FV(R)n(e)n(al)t F4(\))17
b F0(^)e F4(\()p FV(Epsilon)h FQ(>)11 b F4(0\))366 914
y F0(^)k F4(\()p FV(R)o(ho)g F0(2)c FV(R)n(e)n(al)t F4(\))f
F0(^)e F4(\()p FV(R)o(ho)15 b FQ(>)d F4(0\))366 964 y
F0(^)j F4(2)9 b F0(\003)g F4(\()p FV(N)16 b F4(+)9 b(1\))g
F0(\003)g FV(Epsilon)20 b F4(+)c(\()p FV(N)g F4(+)10
b FV(QL)n(en)s F4(\))g F0(\003)f FV(Delta)26 b F0(\024)d
FV(R)o(ho)p 188 1009 2 25 v 190 998 1806 2 v 1996 1008
2 25 v .95 TeXcolorgray .95 TeXcolorgray 200 1113 1787
91 v .95 TeXcolorgray Black 208 1059 a FZ(W)m(e)11 b(mo)q(dify)f(the)h
(write-through)d(cac)o(he)i(sp)q(eci\014cation)e(to)j(require)f(that)h
(op)q(erations)d(for)j(di\013eren)o(t)e(pro)q(cessors)h(are)h(enqueued)
208 1098 y(on)g FY(memQ)k FZ(in)d(round-robi)o(n)d(order.)p
.95 TeXcolorgray Black 208 1168 a FP(v)l(ariable)17 b
FV(lastP)p .95 TeXcolorgray .95 TeXcolorgray 531 1188
861 57 v .95 TeXcolorgray Black 46 w FZ(The)12 b(last)f(pro)q(cessor)e
(to)i(enqueue)f(an)h(op)q(eration)d(on)j FY(memQ)s FZ(.)p
.95 TeXcolorgray Black 208 1230 a FV(R)m(TInit)374 1207
y FI(\001)369 1230 y F4(=)35 b FV(Init)13 b F0(^)c F4(\()p
FV(lastP)15 b F0(2)c FV(Pr)n(o)n(c)r F4(\))p .95 TeXcolorgray
.95 TeXcolorgray 848 1251 627 57 v .95 TeXcolorgray Black
43 w FZ(Initially)m(,)e FY(lastP)15 b FZ(can)c(equal)f(an)o(y)h(pro)q
(cessor.)p .95 TeXcolorgray Black 208 1321 a FV(p)n(osition)s
F4(\()p FV(p)s F4(\))447 1297 y FI(\001)443 1321 y F4(=)p
.95 TeXcolorgray .95 TeXcolorgray 522 1341 1077 58 v
.95 TeXcolorgray Black 56 w FY(p)j FZ(is)d(the)g FY(p)n(osition)s
FZ(\()p FY(p)r FZ(\))831 1309 y FK(th)873 1321 y FZ(pro)q(cessor)e
(after)i FY(lastP)k FZ(in)c(the)g(round-robin)d(order.)p
.95 TeXcolorgray Black 250 1387 a FP(choose)17 b FV(i)e
F0(2)c F4(1)j FQ(:)7 b(:)13 b FV(N)25 b F4(:)18 b FV(p)c
F4(=)e(\()p FV(lastP)h F4(+)d FV(i)t F4(\))h Fq(\045)h
FV(N)208 1460 y(c)n(anGoNext)t F4(\()p FV(p)s F4(\))505
1437 y FI(\001)500 1460 y F4(=)p .95 TeXcolorgray .95
TeXcolorgray 580 1480 1122 57 v .95 TeXcolorgray Black
56 w FZ(T)m(rue)f(if)h(pro)q(cessor)d FY(p)14 b FZ(can)d(b)q(e)g(the)g
(next)f(to)h(enqueue)e(an)i(op)q(eration)e(on)i FY(memQ)s
FZ(.)p .95 TeXcolorgray Black 250 1522 a F0(8)c FV(q)15
b F0(2)c FV(Pr)n(o)n(c)21 b F4(:)d(\()p FV(p)n(osition)s
F4(\()p FV(q)t F4(\))12 b FQ(<)g FV(p)n(osition)s F4(\()p
FV(p)s F4(\)\))g F0(\))f(:)c FP(enabled)j F4(\()p FV(R)n(dMiss)s
F4(\()p FV(q)t F4(\))g F0(_)f FV(DoWr)t F4(\()p FV(q)t
F4(\)\))208 1616 y FV(R)m(TR)n(dMiss)s F4(\()p FV(p)s
F4(\))497 1593 y FI(\001)492 1616 y F4(=)35 b F0(^)14
b FV(c)n(anGoNext)t F4(\()p FV(p)s F4(\))559 1666 y F0(^)g
FV(R)n(dMiss)s F4(\()p FV(p)s F4(\))559 1716 y F0(^)g
FV(lastP)696 1701 y FH(0)719 1716 y F4(=)e FV(p)p .95
TeXcolorgray .95 TeXcolorgray 893 1750 1079 169 v .95
TeXcolorgray Black 902 1616 a FZ(Actions)e FY(R)m(TR)n(dMiss)s
FZ(\()p FY(p)r FZ(\))g(and)h FY(R)m(TDoWr)t FZ(\()p FY(p)r
FZ(\))f(are)h(the)g(same)f(as)i FY(R)n(dMiss)s FZ(\()p
FY(p)r FZ(\))902 1656 y(and)e FY(DoWr)t FZ(\()p FY(p)r
FZ(\))h(except)f(that)g(they)g(are)h(not)g(enabled)e(unless)i
FY(p)j FZ(is)d(the)g(next)902 1695 y(pro)q(cessor)e(in)i(the)g
(round-robin)d(order)i(ready)g(to)h(enqueue)f(an)h(op)q(eration)902
1735 y(on)g FY(memQ)s FZ(,)h(and)f(they)f(set)h FY(lastP)k
FZ(to)c FY(p)r FZ(.)p .95 TeXcolorgray Black 208 1789
a FV(R)m(TDoWr)t F4(\()p FV(p)s F4(\))476 1766 y FI(\001)471
1789 y F4(=)35 b F0(^)14 b FV(c)n(anGoNext)t F4(\()p
FV(p)s F4(\))538 1839 y F0(^)g FV(DoWr)t F4(\()p FV(p)s
F4(\))538 1889 y F0(^)g FV(lastP)675 1874 y FH(0)699
1889 y F4(=)d FV(p)208 1950 y(R)m(TNext)391 1926 y FI(\001)386
1950 y F4(=)35 b F0(_)14 b(9)7 b FV(p)15 b F0(2)c FV(Pr)n(o)n(c)20
b F4(:)e FV(R)m(TR)n(dMiss)s F4(\()p FV(p)s F4(\))10
b F0(_)f FV(R)m(TDoWr)t F4(\()p FV(p)s F4(\))453 2000
y F0(_)14 b(^)h(_)f(9)7 b FV(p)15 b F0(2)c FV(Pr)n(o)n(c)20
b F4(:)e F0(_)d FV(R)n(e)n(q)t F4(\()p FV(p)s F4(\))h
F0(_)g FV(Rsp)s F4(\()p FV(p)s F4(\))g F0(_)g FV(DoR)n(d)t
F4(\()p FV(p)s F4(\))817 2049 y F0(_)f(9)7 b FV(a)15
b F0(2)c FV(A)n(dr)22 b F4(:)c FV(Evict)t F4(\()p FV(p)s
FQ(;)c FV(a)s F4(\))538 2099 y F0(_)g FV(MemQWr)g F0(_)9
b FV(MemQR)n(d)495 2149 y F0(^)15 b FP(unchanged)i FV(lastP)p
.95 TeXcolorgray .95 TeXcolorgray 1428 2201 548 288 v
.95 TeXcolorgray Black 1436 1950 a FZ(The)11 b(next-state)e(action)h
FY(R)m(TNext)1436 1989 y FZ(is)h(the)g(same)g(as)g FY(Next)16
b FZ(except)10 b(with)1436 2029 y FY(R)m(TR)n(dMiss)s
FZ(\()p FY(p)r FZ(\))g(and)h FY(R)m(TDoWr)t FZ(\()p FY(p)r
FZ(\))1436 2068 y(replaced)e(b)o(y)i FY(R)n(dMiss)s FZ(\()p
FY(p)r FZ(\))g(and)1436 2107 y FY(DoWr)t FZ(\()p FY(p)r
FZ(\),)f(and)h(with)g(other)1436 2147 y(actions)f(mo)q(di\014ed)f(to)i
(lea)o(v)o(e)f FY(lastP)1436 2186 y FZ(unc)o(hanged.)p
.95 TeXcolorgray Black 208 2243 a FV(vars)325 2220 y
FI(\001)320 2243 y F4(=)35 b F0(h)s FV(memInt)t FQ(;)14
b FV(wmem)s FQ(;)f FV(buf)c FQ(;)14 b FV(ctl)t FQ(;)f
FV(c)n(ache)s FQ(;)h FV(memQ)t FQ(;)f FV(lastP)7 b F0(i)p
Black 421 2376 a FU(Figure)14 b(9.4a:)19 b F4(A)14 b(real-time)f(v)o
(ersion)h(of)f(the)h(write-through)h(cac)o(he)f(\(b)q(eginning\).)p
Black Black Black Black eop
%%Page: 130 148
130 147 bop Black 208 275 a F4(130)1178 b FR(CHAPTER)14
b(9.)31 b(REAL)14 b(TIME)p 208 282 1770 2 v Black Black
Black Black 208 392 a FV(R)m(TSp)n(e)n(c)385 368 y FI(\001)380
392 y F4(=)250 449 y F0(^)h FV(R)m(TInit)d F0(^)d FG(2)p
F4([)p FV(R)m(TNext)t F4(])664 455 y FJ(vars)250 503
y F0(^)15 b FV(R)m(TBound)t F4(\()p FV(MemQWr)g F0(_)9
b FV(MemQR)n(d)t FQ(;)14 b FV(vars)s FQ(;)f F4(0)p FQ(;)g
FV(Delta)s F4(\))250 556 y F0(^)i(8)7 b FV(p)14 b F0(2)d
FV(Pr)n(o)n(c)21 b F4(:)d F0(^)c FV(R)m(TBound)t F4(\()p
FV(R)m(TDoWr)t F4(\()p FV(p)s F4(\))e F0(_)d FV(DoR)n(d)t
F4(\()p FV(p)s F4(\))h F0(_)f FV(Rsp)s F4(\()p FV(p)s
F4(\))p FQ(;)809 606 y FV(vars)s FQ(;)14 b F4(0)p FQ(;)f
FV(Epsilon)s F4(\))530 656 y F0(^)h FV(R)m(TBound)t F4(\()p
FV(R)m(TR)n(dMiss)s F4(\()p FV(p)s F4(\))p FQ(;)i FV(vars)s
FQ(;)d F4(0)p FQ(;)g FV(Epsilon)s F4(\))250 706 y F0(^)i
FV(R)m(Tnow)t F4(\()p FV(vars)s F4(\))p .95 TeXcolorgray
.95 TeXcolorgray 1426 597 548 242 v .95 TeXcolorgray
Black 1435 392 a FZ(W)m(e)c(put)g(an)g(upp)q(er-b)q(oun)o(d)e(de-)1435
431 y(la)o(y)h(of)i FY(Delta)i FZ(on)e FY(MemQWr)j FZ(and)1435
470 y FY(MemQR)n(d)h FZ(actions)9 b(\(whic)o(h)i(dequeue)1435
510 y(op)q(erations)d(from)j FY(memQ)s FZ(\),)h(and)f(an)1435
549 y(upp)q(er-b)q(ou)o(nd)d(dela)o(y)i(of)i FY(Epsilon)i
FZ(on)1435 589 y(other)c(actions.)p .95 TeXcolorgray
Black 188 750 2 25 v 190 739 1806 2 v 1996 750 2 25 v
208 800 a FV(R)m(TM)348 777 y FI(\001)343 800 y F4(=)35
b FP(inst)m(ance)16 b FV(R)m(TMemory)208 863 y FP(theorem)g
FV(R)m(TSp)n(e)n(c)e F0(\))d FV(R)m(TM)f F4(!)s FV(R)m(TSp)n(e)n(c)p
188 906 V 190 906 1806 2 v 1996 906 2 25 v Black 476
996 a FU(Figure)k(9.4b:)k F4(A)c(real-time)e(v)o(ersion)i(of)g(the)g
(write-through)g(cac)o(he)h(\(end\).)p Black Black 208
1105 a(in)f(whic)o(h)h FQ(\017)g F4(seconds)i(nev)o(er)f(pass.)23
b(W)m(e)15 b(rule)g(out)g(suc)o(h)h(Zeno)g(b)q(eha)o(viors)f(b)o(y)g
(conjoining)208 1155 y(to)h(our)h(sp)q(eci\014cation)h(the)g(form)o
(ula)c FV(R)m(Tnow)t F4(\()p FV(hr)t F4(\)|more)j(precisely)h(b)o(y)e
(conjoining)g(its)208 1205 y(liv)o(eness)e(conjunct)p
Black Black 332 1280 a F0(8)7 b FV(r)16 b F0(2)11 b FV(R)n(e)n(al)22
b F4(:)c(WF)634 1286 y FJ(now)699 1280 y F4(\()p FV(Next)13
b F0(^)c F4(\()p FV(now)940 1263 y FH(0)964 1280 y FQ(>)j
FV(r)t F4(\)\))208 1370 y(whic)o(h)17 b(implies)e(that)j(time)e(adv)n
(ances)i(without)f(b)q(ound.)29 b(Let's)18 b(call)f(this)h(form)o(ula)d
FV(NZ)208 1420 y F4(\(for)e(Non-Zeno\).)270 1470 y(Zeno)j(b)q(eha)o
(viors)f(p)q(ose)h(no)f(problem;)g(they)h(are)f(trivially)f(forbidden)h
(b)o(y)g(conjoining)208 1520 y FV(NZ)6 b F4(.)29 b(A)17
b(problem)f(do)q(es)j(exist)f(if)e(a)h(sp)q(eci\014cation)i(allo)o(ws)d
FV(only)21 b F4(Zeno)d(b)q(eha)o(viors.)29 b(F)m(or)208
1570 y(example,)19 b(supp)q(ose)i(w)o(e)e(conjoined)h(to)f(the)h(un)o
(timed)e(hour-clo)q(c)o(k's)i(sp)q(eci\014cation)g(the)208
1619 y(condition)14 b FV(R)m(TBound)t F4(\()p FV(HCnxt)t
FQ(;)h FV(hr)t FQ(;)f(\016)o(;)g(\017)p F4(\))h(for)g(some)g
FQ(\016)j F4(and)d FQ(\017)g F4(with)h FQ(\016)g(>)e(\017)p
F4(.)23 b(This)16 b(w)o(ould)208 1669 y(assert)f(that)g(the)g(clo)q(c)o
(k)g(m)o(ust)e(w)o(ait)h(at)h(least)f FQ(\016)j F4(seconds)f(b)q(efore)
f(tic)o(king,)f(but)g(m)o(ust)g(tic)o(k)208 1719 y(within)d(a)g
(shorter)i(length)f(of)f(time.)16 b(In)c(other)g(w)o(ords,)g(the)h(clo)
q(c)o(k)f(could)f(nev)o(er)i(tic)o(k.)k(Only)208 1769
y(a)12 b(Zeno)h(b)q(eha)o(vior,)f(in)g(whic)o(h)g FQ(\017)h
F4(seconds)h(nev)o(er)f(elapsed,)g(can)g(satisfy)f(this)h(sp)q
(eci\014cation.)208 1819 y(Conjoining)e FV(NZ)20 b F4(to)13
b(this)g(sp)q(eci\014cation)h(yields)g(a)f(form)o(ula)e(that)i(allo)o
(ws)f(no)h(b)q(eha)o(viors|)208 1868 y(that)g(is,)h(a)f(form)o(ula)f
(equiv)n(alen)o(t)h(to)h FP(f)l(alse)q F4(.)270 1918
y(This)j(example)e(is)i(an)g(extreme)g(case)h(of)e(what)h(is)g(called)g
(a)f FV(Zeno)j(sp)n(e)n(ci\014c)n(ation)p F4(.)28 b(A)208
1968 y(Zeno)14 b(sp)q(eci\014cation)h(is)f(one)g(for)f(whic)o(h)h
(there)i(exists)e(a)g(\014nite)g(b)q(eha)o(vior)g FQ(\033)h
F4(that)f(satis\014es)208 2018 y(the)e(safet)o(y)f(part)g(but)h(cannot)
g(b)q(e)g(extended)g(to)g(an)f(in\014nite)g(b)q(eha)o(vior)g(that)g
(satis\014es)i(b)q(oth)208 2068 y(the)f(safet)o(y)g(part)h(and)f
FV(NZ)6 b F4(.)636 2053 y FS(4)672 2068 y F4(In)12 b(other)h(w)o(ords,)
f(the)h(only)e(complete)h(b)q(eha)o(viors)g(satisfying)208
2117 y(the)17 b(safet)o(y)g(part)h(that)f(extend)h FQ(\033)g
F4(are)g(Zeno)f(b)q(eha)o(viors.)28 b(A)17 b(sp)q(eci\014cation)h(that)
f(is)g(not)208 2167 y(Zeno)g(is,)f(naturally)g(enough,)h(said)f(to)g(b)
q(e)h FV(non-Zeno)p F4(.)28 b(By)17 b(the)g(de\014nition)f(of)g(mac)o
(hine)208 2217 y(closure)11 b(\(in)f(Section)h(8.9.2)e(on)i(page)g
(111\),)f(a)g(sp)q(eci\014cation)h(is)g(non-Zeno)g(i\013)f(it)h(is)f
(mac)o(hine)208 2267 y(closed.)19 b(More)14 b(precisely)m(,)g(it)g(is)g
(non-Zeno)h(i\013)e(the)i(pair)f(of)f(prop)q(erties)j(consisting)e(of)f
(the)208 2317 y(safet)o(y)e(part)h(of)f(the)h(sp)q(eci\014cation)g
(\(the)g(conjunction)g(of)f(the)h(un)o(timed)e(sp)q(eci\014cation,)i
(the)208 2367 y(real-time)f(b)q(ound)i(conditions,)f(and)g(the)i(safet)
o(y)e(part)h(of)f(the)i FV(R)m(Tnow)j F4(form)o(ula\))10
b(and)j FV(NZ)208 2416 y F4(is)g(mac)o(hine)g(closed.)p
Black 208 2439 576 2 v 254 2466 a FK(4)271 2477 y FZ(Recall)d(that,)g
(on)g(page)g(112,)g(a)h(\014nite)f(b)q(eha)o(vior)f Fw(\033)j
FZ(w)o(as)g(de\014ned)d(to)i(satisfy)e(a)i(safet)o(y)f(prop)q(ert)o(y)f
FY(P)15 b FZ(i\013)208 2517 y(adding)9 b(in\014nitely)g(man)o(y)h
(stuttering)f(steps)i(to)g(the)g(end)f(of)i Fw(\033)h
FZ(pro)q(duces)c(a)i(b)q(eha)o(vior)e(that)i(satis\014es)f
FY(P)s FZ(.)p Black Black Black eop
%%Page: 131 149
131 148 bop Black 208 275 a FR(9.4.)30 b(ZENO)15 b(SPECIFICA)m(TIONS)
1125 b F4(131)p 208 282 1770 2 v Black 270 391 a(A)19
b(Zeno)h(sp)q(eci\014cation)h(is)e(one)h(in)f(whic)o(h)g(the)h
(requiremen)o(t)g(that)f(time)f(increases)208 441 y(without)12
b(b)q(ound)h(rules)h(out)e(some)g(\014nite)h(b)q(eha)o(viors)g(that)g
(w)o(ould)f(otherwise)i(b)q(e)g(allo)o(w)o(ed.)208 491
y(Suc)o(h)g(a)f(sp)q(eci\014cation)h(is)f(lik)o(ely)g(to)g(b)q(e)h
(incorrect)h(b)q(ecause)g(the)g(real-time)d(b)q(ound)h(condi-)208
541 y(tions)g(are)h(probably)e(constraining)h(the)h(system)g(in)f(unin)
o(tended)h(w)o(a)o(ys.)j(In)d(this)f(resp)q(ect,)208
591 y(Zeno)h(sp)q(eci\014cations)h(are)f(m)o(uc)o(h)f(lik)o(e)g(other)i
(non-mac)o(hine-closed)d(sp)q(eci\014cations.)270 640
y(Section)i(8.9.2)e(men)o(tions)h(that)h(the)h(conjunction)e(of)h
(fairness)g(conditions)g(on)f(subac-)208 690 y(tions)i(of)f(the)i
(next-state)h(relation)e(pro)q(duces)i(a)e(mac)o(hine)f(closed)i(sp)q
(eci\014cation.)23 b(There)208 740 y(is)14 b(an)h(analogous)f(result)i
(for)f FV(R)m(TBound)20 b F4(conditions)15 b(and)g(non-Zeno)g(sp)q
(eci\014cations.)23 b(A)208 790 y(sp)q(eci\014cation)c(is)f(non-Zeno)h
(if)f(it)g(is)g(the)i(conjunction)e(of)g(\(i\))g(a)h(form)o(ula)d(of)h
(the)j(form)208 840 y FV(Init)13 b F0(^)8 b FG(2)p F4([)p
FV(Next)t F4(])465 846 y FJ(vars)531 840 y F4(,)18 b(\(ii\))f(the)h
(form)o(ula)e FV(R)m(Tnow)t F4(\()p FV(vars)s F4(\),)j(and)e(\(iii\))g
(a)g(\014nite)h(n)o(um)o(b)q(er)f(of)208 889 y(form)o(ulas)11
b(of)j(the)g(form)e FV(R)m(TBound)t F4(\()p FV(A)817
895 y FJ(i)834 889 y FQ(;)h FV(vars)s FQ(;)h(\016)983
895 y FJ(i)998 889 y FQ(;)g(\017)1041 895 y FJ(i)1056
889 y F4(\),)f(where)i(for)f(eac)o(h)g FV(i)p Black 270
969 a F0(\017)p Black 20 w F4(0)e F0(\024)f FQ(\016)407
975 y FJ(i)434 969 y F0(\024)h FQ(\017)495 975 y FJ(i)522
969 y F0(\024)g FV(In\014nity)p Black 270 1051 a F0(\017)p
Black 20 w FV(A)342 1057 y FJ(i)371 1051 y F4(is)i(a)g(subaction)g(of)f
(the)i(next-state)g(action)e FV(Next)t F4(.)p .95 TeXcolorgray
.95 TeXcolorgray 1679 1144 307 125 v .95 TeXcolorgray
Black Black 515 w FZ(The)f(de\014nition)d(of)i(a)1687
1090 y(subaction)e(app)q(ears)1687 1129 y(on)i(page)g(111.)p
Black .95 TeXcolorgray Black Black 270 1132 a F0(\017)p
Black 20 w F4(No)j(step)h(is)f(b)q(oth)g(an)f FV(A)693
1138 y FJ(i)722 1132 y F4(and)h(an)g FV(A)892 1138 y
FJ(j)922 1132 y F4(step,)h(for)e(an)o(y)h FV(A)1195 1138
y FJ(j)1225 1132 y F4(with)g FV(j)j F0(6)p F4(=)12 b
FV(i)t F4(.)208 1212 y(In)i(particular,)h(this)g(implies)e(that)i(the)g
(sp)q(eci\014cation)h FV(R)m(TSp)n(e)n(c)h F4(of)e(the)g(real-time)f
(write-)208 1261 y(through)f(cac)o(he)i(in)f(mo)q(dule)e
FV(R)m(TWriteThr)n(oughCache)17 b F4(is)d(non-Zeno.)270
1311 y(This)j(result)g(do)q(es)h(not)f(apply)f(to)h(the)g(sp)q
(eci\014cation)h(of)e(the)i(real-time)d(memory)f(in)208
1361 y(mo)q(dule)f FV(R)m(TMemory)18 b F4(\(Figure)c(9.3)g(on)g(page)h
(126\))f(b)q(ecause)i(the)f(action)f FV(R)n(esp)n(ond)t
F4(\()p FV(p)s F4(\))i(is)208 1411 y(not)h(a)g(subaction)h(of)f(the)h
(next-state)g(action)f FV(INext)22 b F4(of)17 b(form)o(ula)e
FV(ISp)n(e)n(c)r F4(.)29 b(The)18 b(sp)q(eci\014-)p .95
TeXcolorgray .95 TeXcolorgray 1679 1465 307 86 v .95
TeXcolorgray Black Black 42 w FY(INext)e FZ(is)c(de\014ned)1687
1450 y(on)f(page)g(53)p Black .95 TeXcolorgray Black
208 1461 a F4(cation)j(is)h(nonetheless)h(non-Zeno,)f(b)q(ecause)i(an)o
(y)e(\014nite)g(b)q(eha)o(vior)f FQ(\033)i F4(that)f(satis\014es)h(the)
208 1510 y(sp)q(eci\014cation)c(can)f(b)q(e)h(extended)h(to)e(one)g(in)
g(whic)o(h)g(time)f(adv)n(ances)i(without)f(b)q(ound.)17
b(F)m(or)208 1560 y(example,)c(w)o(e)i(can)g(\014rst)g(extend)h
FQ(\033)g F4(to)f(resp)q(ond)h(to)e(all)g(p)q(ending)h(requests)h
(immediately)208 1610 y(\(in)c(0)h(time\),)f(and)h(then)h(extend)g(it)f
(to)g(an)g(in\014nite)g(b)q(eha)o(vior)g(b)o(y)g(adding)g(steps)h(that)
g(just)208 1660 y(increase)h FV(now)t F4(.)270 1710 y(It's)f(easy)h(to)
f(construct)i(an)d(example)g(in)h(whic)o(h)g(conjoining)f(an)h
FV(R)m(TBound)19 b F4(form)o(ula)208 1760 y(for)c(an)h(action)g(that)g
(is)g(not)g(a)g(subaction)g(of)f(the)i(next-state)g(action)f(pro)q
(duces)i(a)d(Zeno)208 1809 y(sp)q(eci\014cation.)j(F)m(or)c(example,)e
(consider)j(the)f(form)o(ula)p Black Black 332 1889 a
FV(HC)26 b F0(^)21 b FV(R)m(TBound)t F4(\()p FV(hr)704
1872 y FH(0)729 1889 y F4(=)12 b FV(hr)h F0(\000)c F4(1)p
FQ(;)14 b FV(hr)t FQ(;)f F4(0)p FQ(;)g F4(3600\))20 b
F0(^)h FV(R)m(Tnow)t F4(\()p FV(hr)t F4(\))p Black -1196
w(\(9.2\))p Black 208 1969 a(where)16 b FV(HC)22 b F4(is)15
b(the)i(sp)q(eci\014cation)f(of)f(the)h(hour)g(clo)q(c)o(k.)24
b(The)16 b(next-state)h(action)e FV(HCnxt)208 2019 y
F4(of)f FV(HC)20 b F4(asserts)c(that)f FV(hr)j F4(is)d(either)g
(incremen)o(ted)g(b)o(y)f(1)h(or)f(c)o(hanges)h(from)e(12)h(to)h(1.)k
(The)208 2068 y FV(R)m(TBound)j F4(form)o(ula)14 b(asserts)19
b(that)e FV(now)k F4(cannot)c(adv)n(ance)g(for)g(3600)f(or)g(more)g
(seconds)208 2118 y(without)j(an)h FV(hr)475 2103 y FH(0)509
2118 y F4(=)i FV(hr)17 b F0(\000)d F4(1)20 b(step)h(o)q(ccurring.)37
b(Since)21 b FV(HC)k F4(asserts)d(that)e(ev)o(ery)h(step)208
2168 y(that)16 b(c)o(hanges)h FV(hr)k F4(is)c(an)f FV(HCnxt)k
F4(step,)e(the)f(safet)o(y)g(part)g(of)f(\(9.2\))g(is)g(satis\014ed)h
(only)f(b)o(y)208 2218 y(b)q(eha)o(viors)c(in)g(whic)o(h)h
FV(now)k F4(increases)d(b)o(y)f(less)g(than)g(3600)e(seconds.)19
b(Since)13 b(the)g(complete)208 2268 y(sp)q(eci\014cation)j(\(9.2\))f
(con)o(tains)g(the)i(conjunct)f FV(NZ)6 b F4(,)16 b(whic)o(h)f(asserts)
i(that)f FV(now)k F4(increases)208 2317 y(without)13
b(b)q(ound,)h(it)f(is)h(equiv)n(alen)o(t)f(to)h FP(f)l(alse)q
F4(,)g(and)f(is)h(th)o(us)g(a)g(Zeno)g(sp)q(eci\014cation.)270
2367 y(When)h(a)h(sp)q(eci\014cation)g(describ)q(es)h(ho)o(w)e(a)h
(system)f(is)g(implemen)o(ted,)e(the)j(real-time)208
2417 y(constrain)o(ts)i(are)g(lik)o(ely)f(to)g(b)q(e)h(expressed)i(as)e
FV(R)m(TBound)23 b F4(form)o(ulas)16 b(for)h(subactions)h(of)208
2467 y(the)g(next-state)h(action.)28 b(These)19 b(are)f(the)g(kinds)g
(of)f(form)o(ulas)e(that)j(corresp)q(ond)h(fairly)208
2517 y(directly)g(to)f(an)h(implemen)o(tation.)30 b(F)m(or)18
b(example,)h(mo)q(dule)e FV(R)m(TWriteThr)n(oughCache)p
Black Black eop
%%Page: 132 150
132 149 bop Black 208 275 a F4(132)1178 b FR(CHAPTER)14
b(9.)31 b(REAL)14 b(TIME)p 208 282 1770 2 v Black 208
391 a F4(describ)q(es)g(an)f(algorithm)d(for)i(implemen)o(ting)d(a)j
(memory)m(,)e(and)i(it)h(has)f(real-time)f(b)q(ounds)208
441 y(on)e(subactions)h(of)f(the)i(next-state)f(action.)17
b(On)10 b(the)g(other)g(hand,)g(more)f(abstract,)i(higher-)208
491 y(lev)o(el)f(sp)q(eci\014cations|ones)h(describing)g(what)f(a)g
(system)g(is)h(supp)q(osed)g(to)g(do)f(rather)h(than)208
541 y(ho)o(w)h(to)h(do)g(it|are)g(less)h(lik)o(ely)e(to)h(ha)o(v)o(e)g
(real-time)f(constrain)o(ts)i(expressed)h(in)e(this)h(w)o(a)o(y)m(.)208
591 y(Th)o(us,)d(the)g(high-lev)o(el)e(sp)q(eci\014cation)j(of)e(the)h
(real-time)e(memory)f(in)i(mo)q(dule)f FV(R)m(TMemory)208
640 y F4(con)o(tains)k(an)f FV(R)m(TBound)19 b F4(form)o(ula)10
b(for)j(an)g(action)f(that)i(is)e(not)h(a)g(subaction)g(of)g(the)h
(next-)208 690 y(state)g(action.)208 849 y FN(9.5)81
b(Hybrid)26 b(System)h(Sp)r(eci\014cations)208 939 y
F4(A)14 b(system)g(describ)q(ed)i(b)o(y)e(a)g(TLA)755
924 y FS(+)789 939 y F4(sp)q(eci\014cation)h(is)f(a)g(ph)o(ysical)g(en)
o(tit)o(y)m(.)k(The)d(sp)q(eci\014ca-)208 989 y(tion's)c(v)n(ariables)g
(represen)o(t)j(some)d(part)h(of)f(the)i(ph)o(ysical)e(state|the)i
(displa)o(y)e(of)g(a)g(clo)q(c)o(k,)208 1039 y(or)h(the)g(distribution)
g(of)f(c)o(harge)i(in)e(a)h(piece)h(of)e(silicon)g(that)i(implem)o(en)o
(ts)d(a)i(memory)d(cell.)208 1089 y(In)i(a)g(real-time)f(sp)q
(eci\014cation,)i(the)g(v)n(ariable)e FV(now)16 b F4(is)c(di\013eren)o
(t)g(from)e(the)i(others)g(b)q(ecause)208 1139 y(w)o(e)k(are)i(not)e
(abstracting)h(a)o(w)o(a)o(y)f(the)h(con)o(tin)o(uous)g(nature)g(of)f
(time.)25 b(The)17 b(sp)q(eci\014cation)208 1189 y(allo)o(ws)e
FV(now)22 b F4(to)17 b(assume)g(an)o(y)g(of)f(a)h(con)o(tin)o(uum)f(of)
g(v)n(alues.)28 b(The)17 b(discrete)i(states)f(in)f(a)208
1238 y(b)q(eha)o(vior)g(mean)g(that)i(w)o(e)f(are)h(observing)f(the)h
(state)g(of)e(the)i(system,)g(and)f(hence)h(the)208 1288
y(v)n(alue)13 b(of)g FV(now)t F4(,)h(at)g(a)f(sequence)j(of)e(discrete)
h(instan)o(ts.)270 1338 y(There)h(ma)o(y)d(b)q(e)j(ph)o(ysical)e(quan)o
(tities)h(other)g(than)g(time)f(whose)h(con)o(tin)o(uous)g(nature)208
1388 y(w)o(e)j(w)o(an)o(t)f(to)h(represen)o(t)i(in)d(a)g(sp)q
(eci\014cation.)31 b(F)m(or)17 b(an)h(air)f(tra\016c)h(con)o(trol)g
(system,)g(w)o(e)208 1438 y(migh)o(t)9 b(w)o(an)o(t)i(to)g(represen)o
(t)i(the)f(p)q(ositions)f(and)g(v)o(elo)q(cities)h(of)e(the)i
(aircraft.)17 b(F)m(or)11 b(a)g(system)208 1487 y(con)o(trolling)d(a)i
(n)o(uclear)g(reactor,)h(w)o(e)g(migh)o(t)c(w)o(an)o(t)j(to)g(represen)
o(t)i(the)e(ph)o(ysical)g(parameters)208 1537 y(of)15
b(the)i(reactor)g(itself.)24 b(A)16 b(sp)q(eci\014cation)h(that)f
(represen)o(ts)j(suc)o(h)e(con)o(tin)o(uously)e(v)n(arying)208
1587 y(quan)o(tities)e(is)h(called)g(a)f FV(hybrid)i(system)g(sp)n(e)n
(ci\014c)n(ation)p F4(.)270 1637 y(As)c(an)f(example,)g(consider)i(a)e
(system)h(that,)g(among)d(other)j(things,)g(con)o(trols)g(a)g(switc)o
(h)208 1687 y(that)g(in\015uences)h(the)g(one-dimensional)d(motion)g
(of)i(some)f(ob)r(ject.)18 b(Supp)q(ose)12 b(the)g(ob)r(ject's)208
1736 y(p)q(osition)i FV(p)j F4(ob)q(eys)e(one)g(of)f(the)h(follo)o
(wing)d(la)o(ws,)i(dep)q(ending)h(on)g(whether)h(the)f(switc)o(h)g(is)
208 1786 y(o\013)e(or)h(on:)p Black Black 332 1869 a
FV(d)357 1854 y FS(2)376 1869 y FV(p)s FQ(=)p FV(dt)460
1854 y FS(2)495 1869 y F4(+)i FV(c)c F0(\003)d FV(dp)s
FQ(=)p FV(dt)19 b F4(+)e FV(f)8 b F4([)p FV(t)t F4(])18
b(=)g(0)332 1931 y FV(d)357 1916 y FS(2)376 1931 y FV(p)s
FQ(=)p FV(dt)460 1916 y FS(2)495 1931 y F4(+)e FV(c)c
F0(\003)d FV(dp)s FQ(=)p FV(dt)19 b F4(+)e FV(f)8 b F4([)p
FV(t)t F4(])15 b(+)i FV(k)d F0(\003)9 b FV(p)21 b F4(=)e(0)p
Black 208 1869 a(\(9.3\))p Black 208 2012 a(where)g FV(c)j
F4(and)c FV(k)23 b F4(are)d(constan)o(ts,)g FV(f)27 b
F4(is)19 b(some)f(function,)h(and)g FV(t)j F4(represen)o(ts)f(time.)32
b(A)o(t)208 2062 y(an)o(y)20 b(instan)o(t,)i(the)f(future)g(p)q
(osition)f(of)g(the)i(ob)r(ject)f(is)g(determined)f(b)o(y)h(the)g(ob)r
(ject's)208 2112 y(curren)o(t)d(p)q(osition)f(and)h(v)o(elo)q(cit)o(y)m
(.)27 b(So,)18 b(the)g(state)g(of)f(the)h(ob)r(ject)h(is)e(describ)q
(ed)i(b)o(y)e(t)o(w)o(o)208 2161 y(v)n(ariables|namely)l(,)10
b(its)j(p)q(osition)g FV(p)i F4(and)e(its)h(v)o(elo)q(cit)o(y)e
FV(w)t F4(.)18 b(These)c(v)n(ariables)f(are)g(related)208
2211 y(b)o(y)g FV(w)j F4(=)c FV(dp)s FQ(=)p FV(dt)t F4(.)270
2261 y(W)m(e)i(describ)q(e)h(this)g(system)f(with)g(a)f(TLA)938
2246 y FS(+)973 2261 y F4(sp)q(eci\014cation)i(in)f(whic)o(h)g(the)h(v)
n(ariables)e FV(p)208 2311 y F4(and)i FV(w)k F4(are)c(c)o(hanged)h
(only)e(b)o(y)h(steps)i(that)e(c)o(hange)g FV(now)t F4(|that)h(is,)f
(steps)h(represen)o(ting)208 2361 y(the)11 b(passage)h(of)f(time.)16
b(W)m(e)11 b(sp)q(ecify)g(the)h(c)o(hanges)g(to)f(the)h(discrete)h
(system)e(state)h(and)f(an)o(y)208 2410 y(real-time)i(constrain)o(ts)i
(as)f(b)q(efore.)21 b(Ho)o(w)o(ev)o(er,)15 b(w)o(e)g(replace)g
FV(R)m(Tnow)t F4(\()p FV(v)t F4(\))h(with)e(a)g(form)o(ula)208
2460 y(ha)o(ving)k(the)j(follo)o(wing)c(next-state)k(action,)f(where)h
FV(Inte)n(gr)n(ate)h F4(and)e FV(D)k F4(are)c(explained)p
Black Black eop
%%Page: 133 151
133 150 bop Black 208 275 a FR(9.5.)30 b(HYBRID)14 b(SYSTEM)h
(SPECIFICA)m(TIONS)885 b F4(133)p 208 282 1770 2 v Black
208 391 a(b)q(elo)o(w,)13 b(and)g FV(v)19 b F4(is)14
b(the)g(tuple)g(of)f(all)g(discrete)j(v)n(ariables:)p
Black Black 332 463 a F0(^)e FV(now)450 447 y FH(0)473
463 y F0(2)e(f)p FV(r)j F0(2)c FV(R)n(e)n(al)23 b F4(:)18
b FV(r)d FQ(>)d FV(now)t F0(g)332 520 y(^)i(h)s FV(p)417
505 y FH(0)429 520 y FQ(;)7 b FV(w)480 505 y FH(0)494
520 y F0(i)19 b F4(=)g FV(Inte)n(gr)n(ate)s F4(\()p FV(D)t
FQ(;)7 b FV(now)t FQ(;)g FV(now)983 505 y FH(0)995 520
y FQ(;)g F0(h)s FV(p)s FQ(;)g FV(w)f F0(i)p F4(\))332
577 y F0(^)14 b FP(unchanged)j FV(v)p .95 TeXcolorgray
.95 TeXcolorgray 674 597 729 57 v .95 TeXcolorgray Black
46 w FZ(The)11 b(discrete)f(v)n(ariables)f(c)o(hange)h(instan)o(taneou)
o(sly)l(.)p .95 TeXcolorgray Black 208 649 a F4(The)16
b(second)h(conjunct)g(asserts)g(that)g FV(p)856 634 y
FH(0)883 649 y F4(and)f FV(w)998 634 y FH(0)1025 649
y F4(equal)g(the)h(expressions)g(obtained)f(b)o(y)208
699 y(solving)c(the)i(appropriate)f(di\013eren)o(tial)g(equation)g(for)
g(the)g(ob)r(ject's)h(p)q(osition)f(and)g(v)o(elo)q(c-)208
748 y(it)o(y)k(at)g(time)g FV(now)503 733 y FH(0)515
748 y F4(,)h(assuming)e(that)i(their)g(v)n(alues)g(at)g(time)e
FV(now)22 b F4(are)d FV(p)h F4(and)e FV(w)t F4(.)29 b(The)208
798 y(di\013eren)o(tial)14 b(equation)h(is)g(sp)q(eci\014ed)h(b)o(y)f
FV(D)t F4(,)g(while)f FV(Inte)n(gr)n(ate)k F4(is)d(a)g(general)g(op)q
(erator)g(for)208 848 y(solving)d(\(in)o(tegrating\))i(an)f(arbitrary)h
(di\013eren)o(tial)g(equation.)270 898 y(T)m(o)d(sp)q(ecify)i(the)g
(di\013eren)o(tial)f(equation)g(satis\014ed)h(b)o(y)f(the)h(ob)r(ject,)
g(let's)f(supp)q(ose)i(that)208 948 y FV(switchOn)19
b F4(is)d(a)g(Bo)q(olean-v)n(alued)g(state)i(v)n(ariable)d(that)i
(describ)q(es)h(the)f(p)q(osition)f(of)g(the)208 998
y(switc)o(h.)i(W)m(e)13 b(can)i(then)f(rewrite)h(the)f(pair)g(of)f
(equations)h(\(9.3\))f(as)p Black Black 332 1069 a FV(d)357
1052 y FS(2)376 1069 y FV(p)s FQ(=)p FV(dt)460 1052 y
FS(2)495 1069 y F4(+)j FV(c)c F0(\003)d FV(dp)s FQ(=)p
FV(dt)19 b F4(+)e FV(f)8 b F4([)p FV(t)t F4(])15 b(+)i(\()p
FP(if)23 b FV(switchOn)h FP(then)g FV(k)14 b F0(\003)9
b FV(p)26 b FP(else)e F4(0\))18 b(=)h(0)208 1140 y(W)m(e)13
b(then)i(de\014ne)g(the)f(function)g FV(D)k F4(so)c(this)g(equation)f
(can)h(b)q(e)h(written)f(as)p Black Black 332 1211 a
FV(D)t F4([)p FV(t)t FQ(;)f FV(p)s FQ(;)g FV(dp)s FQ(=)p
FV(dt)t FQ(;)g FV(d)626 1194 y FS(2)645 1211 y FV(p)s
FQ(=)p FV(dt)729 1194 y FS(2)748 1211 y F4(])18 b(=)g(0)208
1282 y(Using)13 b(the)g(TLA)481 1267 y FS(+)515 1282
y F4(notation)g(for)g(de\014ning)g(functions)g(of)g(m)o(ultiple)e
(argumen)o(ts,)h(whic)o(h)h(is)208 1332 y(explained)g(in)h(Section)g
(16.1.7)e(on)h(page)h(301,)f(the)h(de\014nition)g(is)p
Black Black 332 1408 a FV(D)t F4([)p FV(t)t FQ(;)f FV(p)s
F4(0)p FQ(;)g FV(p)s F4(1)p FQ(;)g FV(p)s F4(2)e F0(2)g
FV(R)n(e)n(al)t F4(])789 1384 y FI(\001)785 1408 y F4(=)415
1465 y FV(p)s F4(2)16 b(+)g FV(c)c F0(\003)d FV(p)s F4(1)16
b(+)g FV(f)9 b F4([)p FV(t)t F4(])15 b(+)h(\()p FP(if)g
FV(switchOn)i FP(then)24 b FV(k)13 b F0(\003)c FV(p)s
F4(0)23 b FP(else)h F4(0\))208 1534 y(W)m(e)15 b(obtain)g(the)i
(desired)g(sp)q(eci\014cation)f(if)f(the)i(op)q(erator)f
FV(Inte)n(gr)n(ate)j F4(is)d(de\014ned)h(so)f(that)208
1584 y FV(Inte)n(gr)n(ate)s F4(\()p FV(D)t FQ(;)d FV(t)464
1590 y FS(0)482 1584 y FQ(;)h FV(t)526 1590 y FS(1)544
1584 y FQ(;)g F0(h)s FV(x)613 1590 y FS(0)632 1584 y
FQ(;)7 b(:)g(:)g(:)e(;)i FV(x)749 1590 y FJ(n)s FH(\000)p
FS(1)818 1584 y F0(i)p F4(\))14 b(is)g(the)h(v)n(alue)e(at)h(time)e
FV(t)1248 1590 y FS(1)1280 1584 y F4(of)i(the)g FV(n)s
F4(-tuple)p Black Black 332 1655 a F0(h)s FV(x)5 b FQ(;)14
b FV(dx)5 b FQ(=)p FV(dt)t FQ(;)14 b(:)7 b(:)g(:)e(;)14
b FV(d)638 1638 y FJ(n)s FH(\000)p FS(1)704 1655 y FQ(=)p
FV(dt)764 1638 y FJ(n)s FH(\000)p FS(1)834 1655 y F0(i)208
1727 y F4(where)h FV(x)k F4(is)13 b(a)h(solution)f(to)h(the)g
(di\013eren)o(tial)g(equation)p Black Black 332 1798
a FV(D)t F4([)p FV(t)t FQ(;)f FV(x)5 b FQ(;)14 b FV(dx)5
b FQ(=)p FV(dt)t FQ(;)13 b(:)7 b(:)g(:)e(;)14 b FV(d)708
1781 y FJ(n)732 1798 y FV(x)5 b FQ(=)p FV(ct)814 1781
y FJ(n)838 1798 y F4(])11 b(=)h(0)208 1869 y(whose)g(0)349
1854 y FS(th)395 1869 y F4(through)g(\()p FV(n)d F0(\000)d
F4(1\))673 1854 y FS(st)713 1869 y F4(deriv)n(ativ)o(es)12
b(at)g(time)f FV(t)1078 1875 y FS(0)1109 1869 y F4(are)h
FV(x)1200 1875 y FS(0)1219 1869 y F4(,)g(.)7 b(.)f(.)13
b(,)f FV(x)1353 1875 y FJ(n)s FH(\000)p FS(1)1420 1869
y F4(.)17 b(The)c(de\014ni-)208 1919 y(tion)h(of)g FV(Inte)n(gr)n(ate)k
F4(app)q(ears)e(in)e(the)i FV(Di\013er)n(entialEquations)j
F4(mo)q(dule)13 b(of)h(Section)i(11.1.3)208 1969 y(\(page)e(174\).)270
2019 y(In)i(general,)h(a)f(h)o(ybrid-system)g(sp)q(eci\014cation)h(is)f
(similar)e(to)i(a)g(real-time)f(sp)q(eci\014ca-)208 2068
y(tion,)h(except)h(that)g(the)g(form)o(ula)c FV(R)m(Tnow)t
F4(\()p FV(v)t F4(\))18 b(is)e(replaced)i(b)o(y)e(one)g(that)h(describ)
q(es)h(the)208 2118 y(c)o(hanges)g(to)f(all)f(v)n(ariables)h(that)g
(represen)o(t)j(con)o(tin)o(uously)c(c)o(hanging)h(ph)o(ysical)g(quan)o
(ti-)208 2168 y(ties.)27 b(The)17 b FV(Inte)n(gr)n(ate)i
F4(op)q(erator)f(will)d(allo)o(w)g(y)o(ou)h(to)h(sp)q(ecify)g(those)h
(c)o(hanges)f(for)g(man)o(y)208 2218 y(h)o(ybrid)g(systems.)31
b(Some)17 b(systems)i(will)d(require)j(di\013eren)o(t)g(op)q(erators.)
32 b(F)m(or)18 b(example,)208 2268 y(describing)e(the)g(ev)o(olution)f
(of)g(some)g(ph)o(ysical)g(quan)o(tities)h(migh)o(t)d(require)k(an)e
(op)q(erator)208 2317 y(for)c(describing)i(the)g(solution)e(to)h(a)f
(partial)h(di\013eren)o(tial)f(equation.)17 b(Ho)o(w)o(ev)o(er,)c(if)e
(y)o(ou)h(can)208 2367 y(describ)q(e)j(the)g(ev)o(olution)e
(mathematical)o(ly)l(,)e(then)j(it)g(can)g(b)q(e)g(sp)q(eci\014ed)i(in)
d(TLA)1493 2352 y FS(+)1514 2367 y F4(.)270 2417 y(Hybrid)h(system)h
(sp)q(eci\014cations)h(still)d(seem)i(to)g(b)q(e)g(of)f(only)g
(academic)g(in)o(terest,)h(so)g(I)208 2467 y(w)o(on't)d(sa)o(y)g(an)o
(y)g(more)g(ab)q(out)h(them.)j(If)d(y)o(ou)f(do)g(ha)o(v)o(e)h(o)q
(ccasion)g(to)f(write)h(one,)g(this)g(brief)208 2517
y(discussion)h(should)g(indicate)f(ho)o(w)h(y)o(ou)f(can)h(do)g(it.)p
Black Black eop
%%Page: 134 152
134 151 bop Black 208 275 a F4(134)1178 b FR(CHAPTER)14
b(9.)31 b(REAL)14 b(TIME)p 208 282 1770 2 v Black 208
400 a FN(9.6)81 b(Remarks)27 b(on)g(Real)g(Time)208 491
y F4(Real-time)10 b(constrain)o(ts)j(are)h(used)f(most)f(often)h(to)f
(place)h(an)f(upp)q(er)i(b)q(ound)f(on)f(ho)o(w)h(long)208
540 y(it)e(can)i(tak)o(e)f(the)h(system)f(to)g(do)g(something.)k(In)d
(this)f(capacit)o(y)m(,)f(they)i(can)g(b)q(e)f(considered)208
590 y(a)17 b(strong)h(form)e(of)i(liv)o(eness,)h(sp)q(ecifying)e(not)h
(just)g(that)g(something)f(m)o(ust)f(ev)o(en)o(tually)208
640 y(happ)q(en,)i(but)f(when)h(it)f(m)o(ust)f(happ)q(en.)29
b(In)18 b(v)o(ery)f(simple)f(sp)q(eci\014cations,)j(suc)o(h)f(as)f(the)
208 690 y(hour)h(clo)q(c)o(k)g(and)h(the)g(write-through)f(cac)o(he,)i
(real-time)d(constrain)o(ts)i(usually)f(replace)208 740
y(liv)o(eness)f(conditions.)26 b(More)17 b(complicated)f(sp)q
(eci\014cations)i(can)e(assert)j(b)q(oth)d(real-time)208
789 y(constrain)o(ts)e(and)g(liv)o(eness)g(prop)q(erties.)270
839 y(The)h(real-time)e(sp)q(eci\014cations)j(I)e(ha)o(v)o(e)h(seen)h
(ha)o(v)o(e)e(not)h(required)g(v)o(ery)g(complicated)208
889 y(timing)f(constrain)o(ts.)27 b(They)17 b(ha)o(v)o(e)g(b)q(een)h
(sp)q(eci\014cations)g(either)f(of)g(fairly)e(simple)g(algo-)208
939 y(rithms)c(in)h(whic)o(h)g(timing)e(constrain)o(ts)j(are)g(crucial)
f(to)g(correctness,)k(or)c(of)g(more)f(compli-)208 989
y(cated)g(systems)f(in)g(whic)o(h)g(real)g(time)f(app)q(ears)i(only)e
(through)i(the)f(use)i(of)d(simple)g(timeouts)208 1038
y(to)15 b(ensure)h(liv)o(eness.)22 b(I)15 b(susp)q(ect)j(that)d(p)q
(eople)g(don't)g(build)f(systems)h(with)g(complicated)208
1088 y(real-time)d(constrain)o(ts)j(b)q(ecause)g(it's)f(to)q(o)f(hard)h
(to)g(get)g(them)f(righ)o(t.)270 1138 y(I'v)o(e)k(describ)q(ed)i(ho)o
(w)d(to)h(write)h(a)e(real-time)g(sp)q(eci\014cation)i(b)o(y)f
(conjoining)f FV(R)m(Tnow)208 1188 y F4(and)i FV(R)m(TBound)24
b F4(form)o(ulas)17 b(to)h(an)h(un)o(timed)e(sp)q(eci\014cation.)34
b(One)19 b(can)g(pro)o(v)o(e)g(that)g(all)208 1238 y(real-time)c(sp)q
(eci\014cations)k(can)e(b)q(e)h(written)g(in)f(this)g(form.)27
b(In)17 b(fact,)g(it)g(su\016ces)i(to)e(use)208 1288
y FV(R)m(TBound)j F4(form)o(ulas)14 b(only)g(for)h(subactions)h(of)f
(the)h(next-state)h(action.)22 b(Ho)o(w)o(ev)o(er,)16
b(this)208 1337 y(result)i(is)f(of)f(theoretical)i(in)o(terest)g(only)f
(b)q(ecause)i(the)f(resulting)f(sp)q(eci\014cation)h(can)f(b)q(e)208
1387 y(incredibly)c(complicated.)k(The)d(op)q(erators)g
FV(R)m(Tnow)k F4(and)c FV(R)m(TBound)19 b F4(solv)o(e)13
b(all)g(the)h(real-)208 1437 y(time)e(sp)q(eci\014cation)j(problems)e
(that)h(I)g(ha)o(v)o(e)g(encoun)o(tered;)i(but)e(I)g(ha)o(v)o(en't)g
(encoun)o(tered)208 1487 y(enough)j(to)f(sa)o(y)h(with)g(con\014dence)h
(that)f(they're)h(all)e(y)o(ou)g(will)g(ev)o(er)i(need.)28
b(Still,)16 b(I)h(am)208 1537 y(quite)f(con\014den)o(t)h(that,)g
(whatev)o(er)g(real-time)e(prop)q(erties)j(y)o(ou)d(ha)o(v)o(e)i(to)f
(sp)q(ecify)m(,)g(it)g(will)208 1586 y(not)d(b)q(e)i(hard)f(to)g
(express)h(them)e(in)h(TLA)872 1571 y FS(+)892 1586 y
F4(.)p Black Black eop
%%Page: 135 153
135 152 bop Black Black 208 703 a FL(Chapter)31 b(10)208
910 y F5(Comp)s(osing)37 b(Sp)s(eci\014cations)208 1126
y F4(Systems)10 b(are)h(usually)e(describ)q(ed)k(in)d(terms)g(of)g
(their)h(comp)q(onen)o(ts.)16 b(In)11 b(the)g(sp)q(eci\014cations)208
1176 y(w)o(e'v)o(e)f(written)h(so)g(far,)f(the)i(comp)q(onen)o(ts)e(ha)
o(v)o(e)g(b)q(een)i(represen)o(ted)i(as)c(separate)i(disjuncts)208
1226 y(of)i(the)h(next-state)g(action.)20 b(F)m(or)14
b(example,)f(the)i(FIF)o(O)g(system)g(pictured)g(on)f(page)h(35)f(is)
208 1276 y(sp)q(eci\014ed)e(in)e(mo)q(dule)f FV(InnerFIF)o(O)15
b F4(on)10 b(page)h(38)f(b)o(y)g(represen)o(ting)i(the)f(three)h(comp)q
(onen)o(ts)208 1325 y(with)h(the)i(follo)o(wing)c(disjuncts)j(of)g(the)
g(next-state)h(action:)p Black 270 1408 a(Sender:)p Black
40 w F0(9)7 b FV(msg)16 b F0(2)11 b FV(Message)22 b F4(:)c
FV(SSend)t F4(\()p FV(msg)t F4(\))p Black 270 1491 a(Bu\013er:)p
Black 51 w FV(BufR)n(cv)d F0(_)9 b FV(BufSend)p Black
270 1574 a F4(Receiv)o(er:)p Black 21 w FV(RR)n(cv)208
1657 y F4(In)i(this)h(c)o(hapter,)h(w)o(e)e(learn)h(ho)o(w)f(to)h(sp)q
(ecify)g(the)g(comp)q(onen)o(ts)g(separately)g(and)f(comp)q(ose)208
1707 y(their)20 b(sp)q(eci\014cations)h(to)f(form)e(a)i(single)g
(system)g(sp)q(eci\014cation.)37 b(Most)21 b(of)e(the)i(time,)208
1757 y(there's)16 b(no)e(p)q(oin)o(t)h(doing)e(this.)21
b(The)16 b(t)o(w)o(o)e(w)o(a)o(ys)h(of)f(writing)g(the)h(sp)q
(eci\014cation)h(di\013er)f(b)o(y)208 1807 y(only)d(a)h(few)g(lines|a)g
(trivial)e(di\013erence)k(in)e(a)g(sp)q(eci\014cation)h(of)f(h)o
(undreds)h(or)f(thousands)208 1857 y(of)j(lines.)26 b(Still,)16
b(y)o(ou)g(ma)o(y)f(encoun)o(ter)j(a)e(situation)g(in)g(whic)o(h)h
(it's)f(b)q(etter)i(to)f(sp)q(ecify)g(a)208 1906 y(system)c(as)h(a)g
(comp)q(osition.)270 1956 y(First,)e(w)o(e)f(m)o(ust)g(understand)h
(what)g(it)f(means)f(to)h(comp)q(ose)g(sp)q(eci\014cations.)19
b(W)m(e)11 b(usu-)208 2006 y(ally)f(sa)o(y)h(that)g(a)g(TLA)g(form)o
(ula)e(sp)q(eci\014es)k(the)f(correct)h(b)q(eha)o(vior)e(of)g(a)g
(system.)17 b(Ho)o(w)o(ev)o(er,)208 2056 y(as)d(explained)h(in)f
(Section)h(2.3)f(\(page)h(18\),)f(a)g(b)q(eha)o(vior)h(actually)f
(represen)o(ts)j(a)e(p)q(ossible)208 2106 y(history)j(of)h(the)g(en)o
(tire)h(univ)o(erse,)g(not)f(just)g(of)g(the)g(system.)33
b(So,)20 b(it)e(w)o(ould)g(b)q(e)i(more)208 2156 y(accurate)f(to)f(sa)o
(y)f(that)h(a)g(TLA)g(form)o(ula)d(sp)q(eci\014es)20
b(a)d(univ)o(erse)i(in)f(whic)o(h)g(the)g(system)208
2205 y(b)q(eha)o(v)o(es)e(correctly)m(.)23 b(Building)14
b(a)h(system)g(that)h(implem)o(en)o(ts)e(a)h(sp)q(eci\014cation)h
FV(F)21 b F4(means)208 2255 y(constructing)15 b(the)g(univ)o(erse)h(so)
e(it)h(satis\014es)g FV(F)6 b F4(.)20 b(\(F)m(ortunately)m(,)14
b(correctness)j(of)d(the)h(sys-)208 2305 y(tem)e(dep)q(ends)i(on)f(the)
g(b)q(eha)o(vior)g(of)f(only)g(a)h(tin)o(y)f(part)h(of)f(the)h(univ)o
(erse,)h(and)e(that's)h(the)208 2355 y(only)h(part)h(w)o(e)h(m)o(ust)e
(build.\))24 b(Comp)q(osing)14 b(t)o(w)o(o)i(systems)g(whose)h(sp)q
(eci\014cations)g(are)f FV(F)208 2405 y F4(and)i FV(G)k
F4(means)17 b(making)f(the)j(univ)o(erse)g(satisfy)f(b)q(oth)h
FV(F)24 b F4(and)18 b FV(G)t F4(,)g(whic)o(h)h(is)f(the)h(same)208
2454 y(as)d(making)e(it)i(satisfy)g FV(F)g F0(^)11 b
FV(G)t F4(.)25 b(Th)o(us,)17 b(the)g(sp)q(eci\014cation)g(of)e(the)i
(comp)q(osition)e(of)g(t)o(w)o(o)208 2504 y(systems)f(is)f(the)i
(conjunction)f(of)f(their)h(sp)q(eci\014cations.)p Black
1915 2622 a(135)p Black eop
%%Page: 136 154
136 153 bop Black 208 275 a F4(136)766 b FR(CHAPTER)14
b(10.)31 b(COMPOSING)15 b(SPECIFICA)m(TIONS)p 208 282
1770 2 v Black 270 391 a F4(W)m(riting)10 b(a)h(sp)q(eci\014cation)h
(as)g(the)g(comp)q(osition)e(of)h(its)g(comp)q(onen)o(ts)h(therefore)h
(means)208 441 y(writing)e(the)i(sp)q(eci\014cation)g(as)f(a)g
(conjunction,)h(eac)o(h)f(conjunct)h(of)f(whic)o(h)g(can)h(b)q(e)g
(view)o(ed)208 491 y(as)h(the)i(sp)q(eci\014cation)f(of)f(a)h(comp)q
(onen)o(t.)20 b(While)13 b(the)j(basic)f(idea)f(is)h(simple,)e(the)i
(details)208 541 y(are)f(not)g(alw)o(a)o(ys)f(ob)o(vious.)18
b(T)m(o)c(simplify)d(the)k(exp)q(osition,)e(I)h(b)q(egin)g(b)o(y)g
(considering)h(only)208 591 y(safet)o(y)j(prop)q(erties,)i(ignoring)d
(liv)o(eness)i(and)f(largely)f(ignoring)g(hiding.)30
b(Liv)o(eness)19 b(and)208 640 y(hiding)12 b(are)j(discussed)g(in)f
(Section)g(10.6.)208 799 y FN(10.1)82 b(Comp)r(osing)27
b(Tw)n(o)h(Sp)r(eci\014cations)208 890 y F4(Let's)16
b(return)g(once)h(again)d(to)i(the)g(simple)e(hour)i(clo)q(c)o(k,)g
(with)f(no)h(liv)o(eness)g(or)f(real-time)208 939 y(requiremen)o(t.)h
(In)10 b(Chapter)h(2,)f(w)o(e)h(sp)q(eci\014ed)g(suc)o(h)g(a)f(clo)q(c)
o(k)g(whose)h(displa)o(y)e(is)h(represen)o(ted)208 989
y(b)o(y)j(the)i(v)n(ariable)d FV(hr)t F4(.)19 b(W)m(e)13
b(can)h(write)g(that)g(sp)q(eci\014cation)h(as)p Black
Black 332 1072 a(\()p FV(hr)h F0(2)11 b F4(1)j FQ(:)7
b(:)13 b F4(12\))i F0(^)h FG(2)p F4([)p FV(HCN)7 b F4(\()p
FV(hr)t F4(\)])867 1078 y FJ(hr)208 1155 y F4(where)15
b FV(HCN)20 b F4(is)13 b(de\014ned)i(b)o(y)p Black Black
332 1243 a FV(HCN)7 b F4(\()p FV(h)s F4(\))526 1219 y
FI(\001)522 1243 y F4(=)34 b FV(h)612 1225 y FH(0)643
1243 y F4(=)19 b(\()p FV(h)c FD(\045)c F4(12\))e(+)g(1)208
1326 y(No)o(w)j(let's)g(write)h(a)f(sp)q(eci\014cation)h
FV(TwoClo)n(cks)i F4(of)d(a)g(system)g(comp)q(osed)g(of)g(t)o(w)o(o)g
(separate)208 1375 y(hour)h(clo)q(c)o(ks,)h(whose)h(displa)o(ys)e(are)h
(represen)o(ted)j(b)o(y)c(the)i(v)n(ariables)e FV(x)19
b F4(and)13 b FV(y)t F4(.)18 b(\(The)c(t)o(w)o(o)208
1425 y(clo)q(c)o(ks)d(are)g(not)f(sync)o(hronized)i(and)f(are)g
(completely)f(indep)q(enden)o(t)i(of)e(one)h(another.\))17
b(W)m(e)208 1475 y(can)d(just)g(de\014ne)h FV(TwoClo)n(cks)h
F4(to)e(b)q(e)g(the)h(conjunction)f(of)f(the)h(t)o(w)o(o)g(clo)q(c)o(k)
g(sp)q(eci\014cations)p Black Black 332 1562 a FV(TwoClo)n(cks)568
1539 y FI(\001)563 1562 y F4(=)35 b F0(^)14 b F4(\()p
FV(x)i F0(2)c F4(1)h FQ(:)7 b(:)13 b F4(12\))j F0(^)g
FG(2)p F4([)p FV(HCN)7 b F4(\()p FV(x)e F4(\)])1169 1568
y FJ(x)630 1620 y F0(^)14 b F4(\()p FV(y)h F0(2)c F4(1)j
FQ(:)7 b(:)13 b F4(12\))i F0(^)h FG(2)p F4([)p FV(HCN)7
b F4(\()p FV(y)t F4(\)])1168 1626 y FJ(y)208 1701 y F4(The)k(follo)o
(wing)d(calculation)h(sho)o(ws)i(ho)o(w)f(w)o(e)h(can)g(rewrite)h
FV(TwoClo)n(cks)h F4(in)d(the)h(usual)g(form)208 1750
y(as)j(a)f(\\monolithic")e(sp)q(eci\014cation)j(with)g(a)g(single)f
(next-state)i(action:)1339 1735 y FS(1)p Black Black
332 1842 a FV(TwoClo)n(cks)385 1892 y F0(\021)23 b(^)14
b F4(\()p FV(x)j F0(2)11 b F4(1)j FQ(:)7 b(:)13 b F4(12\))i
F0(^)h F4(\()p FV(y)g F0(2)11 b F4(1)i FQ(:)7 b(:)13
b F4(12\))440 1949 y F0(^)h FG(2)p F4([)p FV(HCN)7 b
F4(\()p FV(x)e F4(\)])692 1955 y FJ(x)728 1949 y F0(^)16
b FG(2)p F4([)p FV(HCN)7 b F4(\()p FV(y)t F4(\)])982
1955 y FJ(y)385 2025 y F0(\021)23 b(^)14 b F4(\()p FV(x)j
F0(2)11 b F4(1)j FQ(:)7 b(:)13 b F4(12\))i F0(^)h F4(\()p
FV(y)g F0(2)11 b F4(1)i FQ(:)7 b(:)13 b F4(12\))440 2082
y F0(^)h FG(2)7 b F4(\()g([)p FV(HCN)g F4(\()p FV(x)e
F4(\)])722 2088 y FJ(x)758 2082 y F0(^)16 b F4([)p FV(HCN)7
b F4(\()p FV(y)t F4(\)])981 2088 y FJ(y)1008 2082 y F4(\))p
.95 TeXcolorgray .95 TeXcolorgray 1077 2045 637 57 v
.95 TeXcolorgray Black 1085 2025 a FZ(Because)j Fs(2)p
FZ(\()p FY(F)i FW(^)c FY(G)s FZ(\))g FW(\021)j FZ(\()p
Fs(2)p FY(F)t FZ(\))d FW(^)f FZ(\()p Fs(2)p FY(G)s FZ(\).)p
.95 TeXcolorgray Black 385 2158 a F0(\021)23 b(^)14 b
F4(\()p FV(x)j F0(2)11 b F4(1)j FQ(:)7 b(:)13 b F4(12\))i
F0(^)h F4(\()p FV(y)g F0(2)11 b F4(1)i FQ(:)7 b(:)13
b F4(12\))440 2215 y F0(^)h FG(2)7 b F4(\()g F0(^)13
b FV(HCN)7 b F4(\()p FV(x)e F4(\))16 b F0(_)g FV(x)823
2200 y FH(0)847 2215 y F4(=)11 b FV(x)543 2265 y F0(^)i
FV(HCN)7 b F4(\()p FV(y)t F4(\))16 b F0(_)g FV(y)823
2250 y FH(0)846 2265 y F4(=)c FV(y)j F4(\))p .95 TeXcolorgray
.95 TeXcolorgray 1077 2178 V .95 TeXcolorgray Black 1085
2158 a FZ(By)c(de\014nition)e(of)i([)p Fw(:)6 b(:)f(:)p
FZ(])1398 2162 y FE(x)1428 2158 y FZ(and)11 b([)p Fw(:)6
b(:)f(:)p FZ(])1558 2162 y FE(y)1576 2158 y FZ(.)p .95
TeXcolorgray Black Black 208 2327 576 2 v 254 2353 a
FK(1)271 2365 y FZ(This)10 b(calculation)e(is)i(informal)e(b)q(ecause)g
(it)i(con)o(tains)e(form)o(ulas)h(that)g(are)g(not)h(legal)f
(TLA|namely)m(,)208 2405 y(ones)g(of)g(the)h(form)e Fs(2)p
FY(A)k FZ(where)d FY(A)i FZ(is)f(an)f(action)g(that)g(do)q(esn't)f(ha)o
(v)o(e)h(the)g(syn)o(tactic)f(form)g([)p FY(B)s FZ(])1462
2409 y FE(v)1481 2405 y FZ(.)15 b(Ho)o(w)o(ev)o(er,)208
2444 y(it)c(can)g(b)q(e)g(done)f(rigorously)m(.)p Black
Black Black eop
%%Page: 137 155
137 154 bop Black 208 275 a FR(10.1.)30 b(COMPOSING)15
b(TW)o(O)e(SPECIFICA)m(TIONS)841 b F4(137)p 208 282 1770
2 v Black 385 391 a F0(\021)23 b(^)14 b F4(\()p FV(x)j
F0(2)11 b F4(1)j FQ(:)7 b(:)13 b F4(12\))i F0(^)h F4(\()p
FV(y)g F0(2)11 b F4(1)i FQ(:)7 b(:)13 b F4(12\))440 449
y F0(^)h FG(2)7 b F4(\()g F0(_)13 b FV(HCN)7 b F4(\()p
FV(x)e F4(\))k F0(^)g FV(HCN)e F4(\()p FV(y)t F4(\))543
498 y F0(_)13 b FV(HCN)7 b F4(\()p FV(x)e F4(\))k F0(^)g
F4(\()p FV(y)825 483 y FH(0)849 498 y F4(=)i FV(y)t F4(\))543
548 y F0(_)i FV(HCN)7 b F4(\()p FV(y)t F4(\))i F0(^)g
F4(\()p FV(x)825 533 y FH(0)849 548 y F4(=)i FV(x)5 b
F4(\))543 598 y F0(_)13 b F4(\()p FV(x)624 583 y FH(0)648
598 y F4(=)f FV(x)5 b F4(\))10 b F0(^)e F4(\()p FV(y)818
583 y FH(0)842 598 y F4(=)j FV(y)t F4(\))h(\))p .95 TeXcolorgray
.95 TeXcolorgray 1077 562 637 207 v .95 TeXcolorgray
Black 1085 391 a FZ(Because:)1203 401 y FF(0)1203 476
y(@)p Black -53 x FW(^)f(_)g FY(A)1335 428 y FK(1)1274
463 y FW(_)g FY(A)1335 468 y FK(2)1239 502 y FW(^)g(_)g
FY(B)1337 507 y FK(1)1274 541 y FW(_)g FY(B)1337 546
y FK(2)p Black 1355 401 a FF(1)1355 476 y(A)1411 483
y FW(\021)1458 401 y FF(0)1458 476 y(@)p Black -53 x
FW(_)h FY(A)1556 428 y FK(1)1581 423 y FW(^)c FY(B)1641
428 y FK(1)1494 463 y FW(_)k FY(A)1556 468 y FK(1)1581
463 y FW(^)c FY(B)1641 468 y FK(2)1494 502 y FW(_)k FY(A)1556
507 y FK(2)1581 502 y FW(^)c FY(B)1641 507 y FK(1)1494
541 y FW(_)k FY(A)1556 546 y FK(2)1581 541 y FW(^)c FY(B)1641
546 y FK(2)p Black 1658 401 a FF(1)1658 476 y(A)p .95
TeXcolorgray Black 385 718 a F0(\021)23 b(^)14 b F4(\()p
FV(x)j F0(2)11 b F4(1)j FQ(:)7 b(:)13 b F4(12\))i F0(^)h
F4(\()p FV(y)g F0(2)11 b F4(1)i FQ(:)7 b(:)13 b F4(12\))440
775 y F0(^)h FG(2)7 b F4([)g F0(_)13 b FV(HCN)7 b F4(\()p
FV(x)e F4(\))k F0(^)g FV(HCN)e F4(\()p FV(y)t F4(\))539
825 y F0(_)13 b FV(HCN)7 b F4(\()p FV(x)e F4(\))k F0(^)g
F4(\()p FV(y)821 810 y FH(0)844 825 y F4(=)j FV(y)t F4(\))539
875 y F0(_)h FV(HCN)7 b F4(\()p FV(y)t F4(\))h F0(^)h
F4(\()p FV(x)820 859 y FH(0)844 875 y F4(=)j FV(x)5 b
F4(\))12 b(])952 882 y FH(h)s FJ(x)t Fy(;)t FJ(y)5 b
FH(i)p .95 TeXcolorgray .95 TeXcolorgray 1077 739 637
58 v .95 TeXcolorgray Black 1085 718 a FZ(By)11 b(de\014nition)e(of)i
([)p Fw(:)6 b(:)f(:)p FZ(])1398 725 y FX(h)s FE(x)s Fr(;)g
FE(y)g FX(i)1479 718 y FZ(.)p .95 TeXcolorgray Black
208 994 a F4(Th)o(us,)20 b FV(TwoClo)n(cks)h F4(is)e(equiv)n(alen)o(t)f
(to)h FV(Init)e F0(^)12 b FG(2)p F4([)p FV(TCNxt)t F4(])1157
1001 y FH(h)s FJ(x)t Fy(;)s FJ(y)5 b FH(i)1263 994 y
F4(where)20 b(the)g(next-state)208 1043 y(action)13 b
FV(TCNxt)k F4(is)p Black Black 332 1127 a FV(TCnxt)491
1103 y FI(\001)486 1127 y F4(=)35 b F0(_)14 b FV(HCN)7
b F4(\()p FV(x)e F4(\))k F0(^)g FV(HCN)e F4(\()p FV(y)t
F4(\))553 1176 y F0(_)14 b FV(HCN)7 b F4(\()p FV(x)e
F4(\))k F0(^)g F4(\()p FV(y)836 1161 y FH(0)859 1176
y F4(=)j FV(y)t F4(\))553 1226 y F0(_)i FV(HCN)7 b F4(\()p
FV(y)t F4(\))h F0(^)h F4(\()p FV(x)835 1211 y FH(0)859
1226 y F4(=)j FV(x)5 b F4(\))208 1307 y(This)11 b(next-state)h(action)f
(di\013ers)g(from)f(the)h(ones)h(w)o(e)f(are)h(used)g(to)f(writing)f(b)
q(ecause)j(of)d(the)208 1357 y(disjunct)k FV(HCN)7 b
F4(\()p FV(x)e F4(\))k F0(^)g FV(HCN)e F4(\()p FV(y)t
F4(\),)13 b(whic)o(h)h(represen)o(ts)j(the)e(sim)o(ultaneous)d(adv)n
(ance)j(of)e(the)208 1407 y(t)o(w)o(o)g(displa)o(ys.)18
b(In)d(the)f(sp)q(eci\014cations)i(w)o(e)e(ha)o(v)o(e)g(written)h(so)f
(far,)f(di\013eren)o(t)i(comp)q(onen)o(ts)208 1457 y(nev)o(er)f(act)h
(sim)o(ultaneously)m(.)270 1507 y(Up)i(un)o(til)e(no)o(w,)i(w)o(e)g(ha)
o(v)o(e)f(b)q(een)i(writing)e(what)h(are)g(called)f FV(interle)n(aving)
k F4(sp)q(eci\014ca-)208 1556 y(tions.)d(In)c(an)g(in)o(terlea)o(ving)g
(sp)q(eci\014cation,)g(eac)o(h)h(step)g(represen)o(ts)i(an)d(op)q
(eration)g(of)g(only)208 1606 y(one)h(comp)q(onen)o(t.)j(F)m(or)d
(example,)e(in)i(our)g(FIF)o(O)g(sp)q(eci\014cation,)g(a)g
(\(nonstuttering\))h(step)208 1656 y(represen)o(ts)d(an)e(action)g(of)f
(either)i(the)g(sender,)h(the)e(bu\013er,)i(or)e(the)g(receiv)o(er.)18
b(F)m(or)10 b(w)o(an)o(t)g(of)f(a)208 1706 y(b)q(etter)k(term,)e(w)o(e)
h(describ)q(e)i(as)d FV(noninterle)n(aving)16 b F4(a)c(sp)q
(eci\014cation)g(that,)g(lik)o(e)f FV(TwoClo)n(cks)s
F4(,)208 1756 y(do)q(es)j(p)q(ermit)f(sim)o(ultaneous)g(actions)g(b)o
(y)h(t)o(w)o(o)g(comp)q(onen)o(ts.)270 1805 y(Supp)q(ose)h(w)o(e)f(w)o
(an)o(t)g(to)g(write)h(an)f(in)o(terlea)o(ving)f(sp)q(eci\014cation)i
(of)f(the)h(t)o(w)o(o-clo)q(c)o(k)e(sys-)208 1855 y(tem)g(as)i(the)g
(conjunction)g(of)f(t)o(w)o(o)g(comp)q(onen)o(t)g(sp)q(eci\014cations.)
21 b(One)15 b(w)o(a)o(y)f(is)h(to)f(replace)208 1905
y(the)g(next-state)h(actions)f FV(HCN)7 b F4(\()p FV(x)e
F4(\))13 b(and)h FV(HCN)7 b F4(\()p FV(y)t F4(\))13 b(of)g(the)h(t)o(w)
o(o)g(comp)q(onen)o(ts)f(b)o(y)h(t)o(w)o(o)f(ac-)208
1955 y(tions)h FV(HCNx)19 b F4(and)c FV(HCNy)i F4(so)e(that,)f(when)h
(w)o(e)g(p)q(erform)f(the)h(analogous)e(calculation)h(to)208
2005 y(the)g(one)g(ab)q(o)o(v)o(e,)f(w)o(e)h(get)p Black
Black 332 2077 a FF(\022)p Black 30 x F0(^)f F4(\()p
FV(x)k F0(2)11 b F4(1)j FQ(:)7 b(:)13 b F4(12\))i F0(^)h
FG(2)p F4([)p FV(HCNx)5 b F4(])862 2113 y FJ(x)363 2164
y F0(^)13 b F4(\()p FV(y)j F0(2)11 b F4(1)i FQ(:)7 b(:)13
b F4(12\))j F0(^)g FG(2)p F4([)p FV(HCNy)t F4(])862 2170
y FJ(y)p Black 883 2077 a FF(\023)948 2135 y F0(\021)1015
2052 y FF(0)1015 2126 y(@)p Black -41 x F0(^)d F4(\()p
FV(x)k F0(2)12 b F4(1)h FQ(:)7 b(:)13 b F4(12\))j F0(^)g
F4(\()p FV(y)f F0(2)c F4(1)j FQ(:)7 b(:)13 b F4(12\))1051
2135 y F0(^)g FG(2)7 b F4([)g F0(_)13 b FV(HCNx)h F0(^)9
b F4(\()p FV(y)1392 2120 y FH(0)1415 2135 y F4(=)j FV(y)t
F4(\))1149 2185 y F0(_)h FV(HCNy)g F0(^)c F4(\()p FV(x)1392
2170 y FH(0)1415 2185 y F4(=)j FV(x)5 b F4(\))12 b(])1523
2192 y FH(h)s FJ(x)t Fy(;)5 b FJ(y)g FH(i)p Black 1611
2052 a FF(1)1611 2126 y(A)208 2266 y F4(F)m(rom)13 b(the)k(calculation)
d(ab)q(o)o(v)o(e,)h(w)o(e)h(see)h(that)f(this)f(equiv)n(alence)h(holds)
g(if)e(the)i(follo)o(wing)208 2316 y(three)k(conditions)e(are)h
(satis\014ed:)29 b(\(i\))18 b FV(HCNx)24 b F4(implies)17
b FV(HCN)7 b F4(\()p FV(x)e F4(\),)19 b(\(ii\))f FV(HCNy)k
F4(implies)208 2366 y FV(HCN)7 b F4(\()p FV(y)t F4(\),)16
b(and)h(\(iii\))f FV(HCNx)h F0(^)11 b FV(HCNy)20 b F4(implies)15
b FV(x)1026 2351 y FH(0)1055 2366 y F4(=)j FV(x)k F4(or)17
b FV(y)1224 2351 y FH(0)1253 2366 y F4(=)g FV(y)t F4(.)28
b(\(Condition)16 b(\(iii\))208 2416 y(implies)10 b(that)i(the)g
(disjunct)g FV(HCNx)e F0(^)5 b FV(HCNy)16 b F4(of)11
b(the)i(next-state)g(action)e(is)h(subsumed)g(b)o(y)208
2465 y(one)h(of)g(the)g(disjuncts)h FV(HCNx)f F0(^)7
b F4(\()p FV(y)773 2450 y FH(0)796 2465 y F4(=)12 b FV(y)t
F4(\))h(and)g FV(HCNy)e F0(^)d F4(\()p FV(x)1172 2450
y FH(0)1195 2465 y F4(=)k FV(x)5 b F4(\).\))19 b(The)13
b(common)e(w)o(a)o(y)p Black Black eop
%%Page: 138 156
138 155 bop Black 208 275 a F4(138)766 b FR(CHAPTER)14
b(10.)31 b(COMPOSING)15 b(SPECIFICA)m(TIONS)p 208 282
1770 2 v Black 208 391 a F4(of)e(satisfying)h(these)i(conditions)e(is)g
(to)h(let)f(the)h(next-state)h(action)e(of)g(eac)o(h)h(clo)q(c)o(k)g
(assert)208 441 y(that)e(the)i(other)f(clo)q(c)o(k's)g(displa)o(y)f(is)
h(unc)o(hanged.)19 b(W)m(e)13 b(do)h(this)g(b)o(y)f(de\014ning)p
Black Black 332 528 a FV(HCNx)487 505 y FI(\001)482 528
y F4(=)35 b FV(HCN)7 b F4(\()p FV(x)e F4(\))k F0(^)g
F4(\()p FV(y)790 511 y FH(0)813 528 y F4(=)j FV(y)t F4(\))125
b FV(HCNy)1176 505 y FI(\001)1171 528 y F4(=)35 b FV(HCN)7
b F4(\()p FV(y)t F4(\))i F0(^)g F4(\()p FV(x)1479 511
y FH(0)1502 528 y F4(=)j FV(x)5 b F4(\))270 611 y(Another)17
b(w)o(a)o(y)f(to)g(write)h(an)f(in)o(terlea)o(ving)f(sp)q
(eci\014cation)j(is)e(simply)e(to)i(disallo)o(w)f(si-)208
661 y(m)o(ultaneous)h(c)o(hanges)i(to)f(b)q(oth)h(clo)q(c)o(k)f(displa)
o(ys.)29 b(W)m(e)17 b(can)h(do)f(this)g(b)o(y)h(taking)e(as)i(our)208
711 y(sp)q(eci\014cation)c(the)h(form)o(ula)p Black Black
332 794 a FV(TwoClo)n(cks)k F0(^)d FG(2)p F4([\()p FV(x)672
777 y FH(0)695 794 y F4(=)11 b FV(x)5 b F4(\))10 b F0(_)f
F4(\()p FV(y)865 777 y FH(0)888 794 y F4(=)j FV(y)t F4(\)])984
801 y FH(h)s FJ(x)t Fy(;)5 b FJ(y)g FH(i)208 877 y F4(The)10
b(second)h(conjunct)f(asserts)h(that)f(an)o(y)f(step)i(m)o(ust)e(lea)o
(v)o(e)g FV(x)15 b F4(or)10 b FV(y)j F4(\(or)d(b)q(oth\))g(unc)o
(hanged.)270 927 y(Ev)o(erything)j(w)o(e)g(ha)o(v)o(e)g(done)g(for)f
(the)i(t)o(w)o(o-clo)q(c)o(k)e(system)h(generalizes)h(to)f(an)o(y)f
(system)208 977 y(comprising)g(t)o(w)o(o)h(comp)q(onen)o(ts.)18
b(The)c(same)f(calculation)g(as)h(ab)q(o)o(v)o(e)g(sho)o(ws)g(that)g
(if)p Black Black 332 1060 a(\()p FQ(v)368 1066 y FS(1)387
1043 y FH(0)410 1060 y F4(=)e FQ(v)474 1066 y FS(1)493
1060 y F4(\))k F0(^)g F4(\()p FQ(v)605 1066 y FS(2)624
1043 y FH(0)647 1060 y F4(=)c FQ(v)711 1066 y FS(2)729
1060 y F4(\))24 b F0(\021)f F4(\()p FV(v)863 1043 y FH(0)887
1060 y F4(=)12 b FV(v)t F4(\))p .95 TeXcolorgray .95
TeXcolorgray 1004 1080 873 57 v .95 TeXcolorgray Black
42 w FZ(This)f(asserts)g(that)f FY(v)16 b FZ(is)11 b(unc)o(hanged)e
(i\013)i(b)q(oth)f FY(v)1667 1065 y FK(1)1697 1060 y
FZ(and)g FY(v)1781 1065 y FK(2)1811 1060 y FZ(are.)p
.95 TeXcolorgray Black 208 1143 a F4(then)p Black Black
332 1232 a FF(\022)p Black 33 x F0(^)j FQ(I)422 1271
y FS(1)457 1265 y F0(^)j FG(2)p F4([)p FQ(N)577 1271
y FS(1)596 1265 y F4(])608 1271 y Fy(v)625 1275 y FI(1)363
1315 y F0(^)d FQ(I)422 1321 y FS(2)457 1315 y F0(^)j
FG(2)p F4([)p FQ(N)577 1321 y FS(2)596 1315 y F4(])608
1321 y Fy(v)625 1325 y FI(2)p Black 642 1232 a FF(\023)696
1290 y F0(\021)751 1182 y FF(0)751 1255 y(B)751 1280
y(B)751 1306 y(@)p Black -91 x F0(^)e FQ(I)847 1221 y
FS(1)882 1215 y F0(^)i FQ(I)944 1221 y FS(2)787 1265
y F0(^)e FG(2)7 b F4([)g F0(_)13 b FQ(N)960 1271 y FS(1)988
1265 y F0(^)c FQ(N)1058 1271 y FS(2)885 1315 y F0(_)14
b FQ(N)960 1321 y FS(1)988 1315 y F0(^)9 b F4(\()p FQ(v)1061
1321 y FS(2)1080 1300 y FH(0)1103 1315 y F4(=)j FQ(v)1167
1321 y FS(2)1185 1315 y F4(\))886 1365 y F0(_)h FQ(N)960
1371 y FS(2)988 1365 y F0(^)c F4(\()p FQ(v)1061 1371
y FS(1)1080 1350 y FH(0)1103 1365 y F4(=)j FQ(v)1167
1371 y FS(1)1185 1365 y F4(\))7 b(])1220 1371 y FJ(v)p
Black 1241 1182 a FF(1)1241 1255 y(C)1241 1280 y(C)1241
1306 y(A)p Black 208 1290 a F4(\(10.1\))p Black 208 1446
a(for)j(an)o(y)g(state)i(predicates)g FQ(I)653 1452 y
FS(1)683 1446 y F4(and)f FQ(I)779 1452 y FS(2)808 1446
y F4(and)g(an)o(y)g(actions)f FQ(N)1132 1452 y FS(1)1162
1446 y F4(and)h FQ(N)1273 1452 y FS(2)1292 1446 y F4(.)17
b(The)11 b(left-hand)f(side)208 1496 y(of)k(this)i(equiv)n(alence)g
(represen)o(ts)i(the)e(comp)q(osition)e(of)h(t)o(w)o(o)g(comp)q(onen)o
(t)g(sp)q(eci\014cations)208 1546 y(if)i FQ(v)270 1552
y Fy(k)308 1546 y F4(is)g(a)h(tuple)g(con)o(taining)f(the)h(v)n
(ariables)f(that)h(describ)q(e)i(the)e FV(k)1316 1531
y FS(th)1368 1546 y F4(comp)q(onen)o(t,)f(for)208 1595
y FV(k)f F4(=)11 b(1)p FQ(;)c F4(2,)13 b(and)h FV(v)k
F4(is)c(the)g(tuple)g(of)g(all)e(the)j(v)n(ariables.)270
1645 y(The)j(equiv)n(alen)o(t)f(form)o(ulas)e(in)j(\(10.1\))e(represen)
o(t)k(an)e(in)o(terlea)o(ving)e(sp)q(eci\014cation)j(if)208
1695 y(the)13 b(\014rst)h(disjunct)f(in)f(the)i(next-state)g(action)e
(of)h(the)g(righ)o(t-hand)f(side)i(is)e(redundan)o(t,)i(so)208
1745 y(it)d(can)g(b)q(e)h(remo)o(v)o(ed.)17 b(This)11
b(is)g(the)h(case)h(if)d FQ(N)909 1751 y FS(1)933 1745
y F0(^)t FQ(N)998 1751 y FS(2)1028 1745 y F4(implies)f(that)j
FQ(v)1274 1751 y FS(1)1304 1745 y F4(or)f FQ(v)1372 1751
y FS(2)1403 1745 y F4(is)g(unc)o(hanged.)208 1795 y(The)h(usual)g(w)o
(a)o(y)f(to)h(ensure)h(that)f(this)g(condition)g(is)f(satis\014ed)i(is)
f(b)o(y)g(de\014ning)g(eac)o(h)g FQ(N)1576 1801 y Fy(k)1609
1795 y F4(so)208 1845 y(it)i(implies)g(that)h(the)h(other)g(comp)q
(onen)o(t's)e(tuple)i(is)f(left)g(unc)o(hanged.)22 b(Another)16
b(w)o(a)o(y)f(to)208 1894 y(obtain)f(an)h(in)o(terlea)o(ving)f(sp)q
(eci\014cation)i(is)e(b)o(y)h(conjoining)f(the)h(form)o(ula)e
FG(2)p F4([\()p FQ(v)1468 1900 y FS(1)1486 1879 y FH(0)1510
1894 y F4(=)e FQ(v)1573 1900 y FS(1)1592 1894 y F4(\))f
F0(_)208 1944 y F4(\()p FQ(v)244 1950 y FS(2)262 1929
y FH(0)286 1944 y F4(=)h FQ(v)349 1950 y FS(2)368 1944
y F4(\)])396 1950 y FJ(v)417 1944 y F4(.)208 2103 y FN(10.2)82
b(Comp)r(osing)27 b(Man)n(y)f(Sp)r(eci\014cations)208
2193 y F4(W)m(e)15 b(can)h(generalize)h(\(10.1\))e(to)h(the)g(comp)q
(osition)e(of)i(an)o(y)f(set)i FV(C)22 b F4(of)15 b(comp)q(onen)o(ts.)
24 b(Be-)208 2243 y(cause)c(univ)o(ersal)f(quan)o(ti\014cation)g
(generalizes)h(conjunction,)h(the)f(follo)o(wing)d(rule)j(is)f(a)208
2293 y(generalization)13 b(of)g(\(10.1\):)p Black Black
332 2376 a FU(Comp)q(osition)g(Rule)26 b F4(F)m(or)14
b(an)o(y)f(set)i FV(C)6 b F4(,)13 b(if)p Black Black
457 2476 a(\()p F0(8)7 b FV(k)16 b F0(2)11 b FV(C)24
b F4(:)18 b FQ(v)681 2482 y Fy(k)702 2459 y FH(0)725
2476 y F4(=)12 b FQ(v)789 2482 y Fy(k)809 2476 y F4(\))23
b F0(\021)h F4(\()p FV(v)943 2459 y FH(0)967 2476 y F4(=)12
b FV(v)t F4(\))p .95 TeXcolorgray .95 TeXcolorgray 1083
2496 788 57 v .95 TeXcolorgray Black 42 w FZ(This)f(asserts)g(that)f
FY(v)16 b FZ(is)11 b(unc)o(hanged)e(i\013)i(all)g(the)g
Fw(v)1775 2482 y Fr(k)1806 2476 y FZ(are.)p .95 TeXcolorgray
Black Black Black eop
%%Page: 139 157
139 156 bop Black 208 275 a FR(10.2.)30 b(COMPOSING)15
b(MANY)f(SPECIFICA)m(TIONS)813 b F4(139)p 208 282 1770
2 v Black 332 391 a(then)p Black Black 457 489 a(\()p
F0(8)7 b FV(k)16 b F0(2)11 b FV(C)24 b F4(:)18 b FQ(I)679
495 y Fy(k)716 489 y F0(^)e FG(2)p F4([)p FQ(N)836 495
y Fy(k)856 489 y F4(])868 495 y Fy(v)885 499 y Fp(k)905
489 y F4(\))34 b F0(\021)540 561 y(^)13 b(8)7 b FV(k)16
b F0(2)11 b FV(C)25 b F4(:)18 b FQ(I)788 567 y Fy(k)540
643 y F0(^)581 649 y Fo(2)640 585 y FF(\024)p Black 34
x F0(_)13 b(9)7 b FV(k)16 b F0(2)11 b FV(C)25 b F4(:)18
b FQ(N)925 625 y Fy(k)966 619 y F0(^)i F4(\()p F0(8)7
b FV(i)16 b F0(2)11 b FV(C)i F0(n)7 b(f)p FV(k)t F0(g)18
b F4(:)g FQ(v)1332 625 y Fy(i)1346 604 y FH(0)1369 619
y F4(=)12 b FQ(v)1433 625 y Fy(i)1447 619 y F4(\))662
668 y F0(_)h(9)7 b FV(i)t FQ(;)g FV(j)17 b F0(2)11 b
FV(C)24 b F4(:)18 b(\()p FV(i)e F0(6)p F4(=)c FV(j)6
b F4(\))16 b F0(^)f FQ(N)1138 674 y Fy(i)1169 668 y F0(^)h
FQ(N)1246 674 y Fy(j)1280 668 y F0(^)f FQ(F)1356 674
y Fy(ij)p Black 1463 585 a FF(\025)1484 693 y FQ(v)332
774 y F4(for)f(some)f(actions)h FQ(F)668 780 y Fy(ij)696
774 y F4(.)208 856 y(The)i(second)h(disjunct)f(of)f(the)i(next-state)g
(action)e(is)h(redundan)o(t,)g(and)g(w)o(e)g(ha)o(v)o(e)g(an)f(in-)208
905 y(terlea)o(ving)h(sp)q(eci\014cation,)h(if)f(eac)o(h)h
FQ(N)823 911 y Fy(i)853 905 y F4(implies)e(that)h FQ(v)1109
911 y Fy(j)1143 905 y F4(is)g(unc)o(hanged,)i(for)e(all)f
FV(j)21 b F0(6)p F4(=)16 b FV(i)t F4(.)208 955 y(Ho)o(w)o(ev)o(er,)g
(for)f(this)h(to)f(hold,)g FQ(N)728 961 y Fy(i)758 955
y F4(m)o(ust)g(men)o(tion)f FQ(v)1045 961 y Fy(j)1078
955 y F4(for)i(comp)q(onen)o(ts)f FV(j)21 b F4(other)c(than)e
FV(i)t F4(.)208 1005 y(Y)m(ou)i(migh)o(t)f(ob)r(ject)i(to)g(this)g
(approac)o(h|either)g(on)g(philosophical)e(grounds,)j(b)q(ecause)208
1055 y(y)o(ou)11 b(feel)i(that)f(the)h(sp)q(eci\014cation)g(of)f(one)g
(comp)q(onen)o(t)g(should)g(not)g(men)o(tion)f(the)h(state)h(of)208
1105 y(another)f(comp)q(onen)o(t,)g(or)g(b)q(ecause)i(men)o(tioning)c
(other)j(comp)q(onen)o(t's)f(v)n(ariables)f(compli-)208
1154 y(cates)i(the)g(comp)q(onen)o(t's)f(sp)q(eci\014cation.)18
b(An)12 b(alternativ)o(e)g(approac)o(h)h(is)f(simply)e(to)j(assert)208
1204 y(in)o(terlea)o(ving.)18 b(Y)m(ou)c(can)h(do)f(this)g(b)o(y)g
(conjoining)f(the)i(follo)o(wing)d(form)o(ula,)f(whic)o(h)k(states)208
1254 y(that)e(no)h(step)h(c)o(hanges)g(b)q(oth)f FQ(v)715
1260 y Fy(i)742 1254 y F4(and)g FQ(v)843 1260 y Fy(j)861
1254 y F4(,)f(for)h(an)o(y)f FV(i)18 b F4(and)c FV(j)19
b F4(with)14 b FV(i)h F0(6)p F4(=)d FV(j)6 b F4(:)p Black
Black 332 1336 a FG(2)h F4([)g F0(9)g FV(k)16 b F0(2)11
b FV(C)24 b F4(:)18 b F0(8)7 b FV(i)15 b F0(2)d FV(C)g
F0(n)7 b(f)p FV(k)t F0(g)18 b F4(:)g FQ(v)878 1342 y
Fy(i)892 1318 y FH(0)916 1336 y F4(=)11 b FQ(v)979 1342
y Fy(i)1000 1336 y F4(])1012 1342 y FJ(v)208 1417 y F4(This)i(conjunct)
i(can)f(b)q(e)g(view)o(ed)g(as)g(a)f(global)g(condition,)f(not)i(attac)
o(hed)g(to)g(an)o(y)f(comp)q(o-)208 1467 y(nen)o(t's)h(sp)q
(eci\014cation.)270 1517 y(F)m(or)d(the)i(left-hand)e(side)h(of)f(the)i
(conclusion)f(of)f(the)h(Comp)q(osition)e(Rule)h(to)h(represen)o(t)208
1566 y(the)k(comp)q(osition)d(of)i(separate)i(comp)q(onen)o(ts,)e(the)i
FQ(v)1065 1572 y Fy(k)1101 1566 y F4(need)f(not)g(b)q(e)g(comp)q(osed)f
(of)g(sep-)208 1616 y(arate)g(v)n(ariables.)20 b(They)15
b(could)g(con)o(tain)f(di\013eren)o(t)i(\\parts")f(of)g(the)g(same)f(v)
n(ariable)g(that)208 1666 y(describ)q(e)j(di\013eren)o(t)f(comp)q(onen)
o(ts.)23 b(F)m(or)15 b(example,)f(our)h(system)g(migh)o(t)f(consist)i
(of)f(a)g(set)208 1716 y FV(Clo)n(ck)20 b F4(of)c(separate,)i(indep)q
(enden)o(t)g(clo)q(c)o(ks,)f(where)h(clo)q(c)o(k)f FV(k)t
F4('s)g(displa)o(y)e(is)i(describ)q(ed)h(b)o(y)208 1766
y(the)13 b(v)n(alue)e(of)h FV(hr)t F4([)p FV(k)t F4(].)18
b(Then)13 b FQ(v)676 1772 y Fy(k)709 1766 y F4(w)o(ould)e(equal)i
FV(hr)t F4([)p FV(k)t F4(].)k(It's)12 b(easy)h(to)g(sp)q(ecify)g(suc)o
(h)g(an)f(arra)o(y)208 1816 y(of)h(clo)q(c)o(ks)h(as)f(a)h(comp)q
(osition.)i(Using)d(the)i(de\014nition)e(of)g FV(HCN)20
b F4(on)13 b(page)h(136)f(ab)q(o)o(v)o(e,)g(w)o(e)208
1865 y(can)h(write)g(the)g(sp)q(eci\014cation)h(as)p
Black Black 332 1951 a FV(Clo)n(ckA)o(rr)n(ay)577 1927
y FI(\001)572 1951 y F4(=)35 b F0(8)7 b FV(k)16 b F0(2)11
b FV(Clo)n(ck)23 b F4(:)18 b(\()p FV(hr)t F4([)p FV(k)t
F4(])11 b F0(2)g F4(1)j FQ(:)7 b(:)13 b F4(12\))j F0(^)f
FG(2)p F4([)p FV(HCN)7 b F4(\()p FV(hr)t F4([)p FV(k)t
F4(]\)])1522 1958 y FJ(hr)s FS([)p FJ(k)s FS(])p Black
208 1951 a F4(\(10.2\))p Black 208 2033 a(This)20 b(is)g(a)f(nonin)o
(terlea)o(ving)g(sp)q(eci\014cation,)j(since)f(it)f(allo)o(ws)f(sim)o
(ultaneous)g(steps)i(b)o(y)208 2082 y(di\013eren)o(t)14
b(clo)q(c)o(ks.)270 2132 y(Supp)q(ose)j(w)o(e)f(w)o(an)o(ted)g(to)g
(use)g(the)h(Comp)q(osition)d(Rule)h(to)h(express)i FV(Clo)n(ckA)o(rr)n
(ay)g F4(as)208 2182 y(a)c(monolithic)e(sp)q(eci\014cation.)22
b(What)15 b(w)o(ould)f(w)o(e)h(substitute)h(for)e FV(v)t
F4(?)22 b(Our)15 b(\014rst)h(though)o(t)208 2232 y(is)g(to)h
(substitute)i FV(hr)i F4(for)c FV(v)t F4(.)28 b(Ho)o(w)o(ev)o(er,)17
b(the)h(h)o(yp)q(othesis)g(of)e(the)i(rule)f(requires)h(that)f
FV(v)208 2282 y F4(m)o(ust)d(b)q(e)h(left)g(unc)o(hanged)h(i\013)f
FV(hr)t F4([)p FV(k)t F4(])g(is)g(left)g(unc)o(hanged,)g(for)g(all)f
FV(k)k F0(2)13 b FV(Clo)n(ck)t F4(.)22 b(Ho)o(w)o(ev)o(er,)208
2331 y(as)c(explained)g(in)g(Section)g(6.5)f(on)h(page)h(72,)f(sp)q
(ecifying)g(the)h(v)n(alues)f(of)g FV(hr)t F4([)p FV(k)t
F4(])1505 2316 y FH(0)1534 2331 y F4(for)g(all)208 2381
y FV(k)g F0(2)c FV(Clo)n(ck)20 b F4(do)q(es)c(not)g(sp)q(ecify)g(the)g
(v)n(alue)f(of)g FV(hr)t F4(.)23 b(It)16 b(do)q(esn't)g(ev)o(en)g
(imply)d(that)j FV(hr)k F4(is)15 b(a)208 2431 y(function.)i(W)m(e)d(m)o
(ust)f(substitute)i(for)e FV(v)19 b F4(the)14 b(function)g
FV(hrfcn)j F4(de\014ned)e(b)o(y)p Black Black 332 2517
a FV(hrfcn)469 2493 y FI(\001)464 2517 y F4(=)35 b([)p
FV(k)15 b F0(2)c FV(Clo)n(ck)16 b F0(7!)11 b FV(hr)t
F4([)p FV(k)t F4(]])p Black -677 w(\(10.3\))p Black Black
Black eop
%%Page: 140 158
140 157 bop Black 208 275 a F4(140)766 b FR(CHAPTER)14
b(10.)31 b(COMPOSING)15 b(SPECIFICA)m(TIONS)p 208 282
1770 2 v Black 208 391 a F4(The)h(function)f FV(hrfcn)k
F4(equals)d FV(hr)j F4(i\013)d FV(hr)k F4(is)15 b(a)h(function)f(with)h
(domain)d FV(Clo)n(ck)t F4(.)23 b(F)m(orm)o(ula)208 441
y FV(Clo)n(ckA)o(rr)n(ay)14 b F4(do)q(es)f(not)g(imply)c(that)k
FV(hr)j F4(is)d(alw)o(a)o(ys)e(a)h(function.)17 b(It)12
b(sp)q(eci\014es)j(the)e(p)q(ossible)208 491 y(v)n(alues)c(of)h
FV(hr)t F4([)p FV(k)t F4(],)g(for)f(all)g FV(k)16 b F0(2)11
b FV(Clo)n(ck)t F4(,)f(but)h(it)e(do)q(esn't)i(sp)q(ecify)f(the)h(v)n
(alue)e(of)g FV(hr)t F4(.)17 b(Ev)o(en)11 b(if)e(w)o(e)208
541 y(c)o(hanged)j(the)g(initial)d(condition)i(to)h(imply)d(that)i
FV(hr)16 b F4(is)11 b(initially)e(a)j(function)f(with)g(domain)208
591 y FV(Clo)n(ck)t F4(,)16 b(form)o(ula)d FV(Clo)n(ckA)o(rr)n(ay)19
b F4(w)o(ould)c(not)h(imply)e(that)i FV(hr)21 b F4(is)16
b(alw)o(a)o(ys)f(a)h(function.)24 b(F)m(or)208 640 y(example,)10
b(it)i(w)o(ould)g(still)f(allo)o(w)g(\\stuttering")h(steps)i(that)e
(lea)o(v)o(e)g(eac)o(h)h FV(hr)t F4([)p FV(k)t F4(])f(unc)o(hanged,)208
690 y(but)i(c)o(hange)g FV(hr)k F4(in)13 b(unkno)o(wn)h(w)o(a)o(ys.)270
740 y(W)m(e)c(migh)o(t)e(prefer)j(to)f(write)g(a)g(sp)q(eci\014cation)h
(in)e(whic)o(h)h FV(hr)15 b F4(is)10 b(a)g(function)f(with)h(domain)208
790 y FV(Clo)n(ck)t F4(.)35 b(One)21 b(w)o(a)o(y)e(of)g(doing)g(this)g
(is)h(to)g(conjoin)f(to)g(the)i(sp)q(eci\014cation)f(the)g(form)o(ula)
208 840 y FG(2)p FV(IsFcnOn)s F4(\()p FV(hr)t FQ(;)14
b FV(Clo)n(ck)t F4(\),)d(where)h FV(IsFcnOn)s F4(\()p
FV(hr)t FQ(;)j FV(Clo)n(ck)t F4(\))c(asserts)i(that)e
FV(hr)k F4(is)10 b(an)h(arbitrary)208 889 y(function)i(with)h(domain)d
FV(Clo)n(ck)t F4(.)18 b(The)d(op)q(erator)f FV(IsFcnOn)k
F4(is)c(de\014ned)h(b)o(y)p Black Black 332 965 a FV(IsFcnOn)s
F4(\()p FV(f)10 b FQ(;)j FV(S)5 b F4(\))640 942 y FI(\001)635
965 y F4(=)35 b FV(f)20 b F4(=)12 b([)p FV(x)k F0(2)11
b FV(S)17 b F0(7!)11 b FV(f)e F4([)p FV(x)c F4(]])208
1037 y(W)m(e)17 b(can)i(view)f(the)h(form)o(ula)c FG(2)p
FV(IsFcnOn)s F4(\()p FV(hr)t FQ(;)g FV(Clo)n(ck)t F4(\))j(as)g(a)g
(global)f(constrain)o(t)h(on)g FV(hr)t F4(,)208 1087
y(while)13 b(the)h(v)n(alue)e(of)h FV(hr)t F4([)p FV(k)t
F4(])h(for)f(eac)o(h)h(comp)q(onen)o(t)e FV(k)18 b F4(is)c(describ)q
(ed)h(b)o(y)e(that)h(comp)q(onen)o(t's)208 1137 y(sp)q(eci\014cation.)
270 1186 y(No)o(w,)g(supp)q(ose)j(w)o(e)e(w)o(an)o(t)g(to)f(write)i(an)
f(in)o(terlea)o(ving)f(sp)q(eci\014cation)i(of)e(the)i(arra)o(y)e(of)
208 1236 y(clo)q(c)o(ks)h(as)h(the)g(comp)q(osition)d(of)i(sp)q
(eci\014cations)h(of)f(the)h(individual)d(clo)q(c)o(ks.)23
b(In)15 b(general,)208 1286 y(the)f(conjunction)g(in)g(the)h(Comp)q
(osition)d(Rule)h(is)h(an)g(in)o(terlea)o(ving)f(sp)q(eci\014cation)i
(if)e(eac)o(h)208 1336 y FQ(N)241 1342 y Fy(k)273 1336
y F4(implies)d(that)j FQ(v)521 1342 y Fy(i)546 1336 y
F4(is)f(unc)o(hanged,)h(for)f(all)e FV(i)16 b F0(6)p
F4(=)c FV(k)t F4(.)18 b(So,)11 b(w)o(e)i(w)o(an)o(t)e(the)i(next-state)
g(action)208 1386 y FQ(N)241 1392 y Fy(k)277 1386 y F4(of)i(clo)q(c)o
(k)h FV(k)k F4(to)c(imply)d(that)j FV(hr)t F4([)p FV(i)t
F4(])f(is)g(unc)o(hanged)h(for)g(ev)o(ery)g(clo)q(c)o(k)g
FV(i)k F4(other)c(than)g FV(k)t F4(.)208 1436 y(The)e(most)f(ob)o
(vious)g(w)o(a)o(y)g(to)h(do)f(this)h(is)g(to)g(de\014ne)h
FQ(N)1064 1442 y Fy(k)1098 1436 y F4(to)f(equal)p Black
Black 332 1507 a F0(^)g FV(hr)417 1492 y FH(0)428 1507
y F4([)p FV(k)t F4(])e(=)f(\()p FV(hr)t F4([)p FV(k)t
F4(])h FD(\045)f F4(12\))e(+)g(1)332 1565 y F0(^)14 b(8)7
b FV(i)15 b F0(2)c FV(Clo)n(ck)g F0(n)c(f)p FV(k)t F0(g)18
b F4(:)g FV(hr)764 1549 y FH(0)776 1565 y F4([)p FV(i)t
F4(])11 b(=)h FV(hr)t F4([)p FV(i)t F4(])208 1634 y(W)m(e)g(can)i
(express)h(this)e(form)o(ula)e(more)h(compactly)g(using)h(the)g
FP(ex)o(cept)h F4(construct.)19 b(This)p .95 TeXcolorgray
.95 TeXcolorgray 1679 1767 307 165 v .95 TeXcolorgray
Black Black 41 w FZ(The)12 b Fu(ex)o(cept)e FZ(con-)1687
1674 y(struct)h(is)g(explained)1687 1713 y(in)h(Section)d(5.2)i(on)1687
1753 y(page)g(48.)p Black .95 TeXcolorgray Black 208
1684 a F4(construct)i(applies)f(only)g(to)g(functions,)g(so)g(w)o(e)g
(m)o(ust)f(c)o(ho)q(ose)i(whether)h(or)e(not)g(to)g(require)208
1734 y FV(hr)18 b F4(to)13 b(b)q(e)i(a)e(function.)18
b(If)c FV(hr)k F4(is)13 b(a)h(function,)f(then)i(w)o(e)f(can)g(let)g
FQ(N)1259 1740 y Fy(k)1293 1734 y F4(equal)p Black Black
332 1806 a FV(hr)375 1789 y FH(0)398 1806 y F4(=)e([)p
FV(hr)20 b FP(ex)o(cept)f F4(!)s([)p FV(k)t F4(])11 b(=)h(\()p
FV(hr)t F4([)p FV(k)t F4(])f FD(\045)g F4(12\))e(+)h(1])p
Black -889 w(\(10.4\))p Black 208 1877 a(As)15 b(noted)g(ab)q(o)o(v)o
(e,)f(w)o(e)h(can)g(ensure)i(that)e FV(hr)j F4(is)d(a)g(function)f(b)o
(y)h(conjoining)e(the)i(form)o(ula)208 1927 y FG(2)p
FV(IsFcnOn)s F4(\()p FV(hr)t FQ(;)f FV(Clo)n(ck)t F4(\))j(to)g(the)g
(sp)q(eci\014cation.)28 b(Another)18 b(w)o(a)o(y)e(is)h(to)g(de\014ne)h
(the)f(state)208 1977 y(function)c FV(hrfcn)k F4(b)o(y)d(\(10.3\))f(on)
g(the)i(preceding)g(page)f(and)f(let)h FV(N)7 b F4(\()p
FV(k)t F4(\))15 b(equal)p Black Black 332 2049 a FV(hrfcn)429
2032 y FH(0)452 2049 y F4(=)d([)p FV(hrfcn)18 b FP(ex)o(cept)i
F4(!)s([)p FV(k)t F4(])11 b(=)h(\()p FV(hr)t F4([)p FV(k)t
F4(])f FD(\045)g F4(12\))e(+)h(1])208 2120 y(A)15 b(sp)q(eci\014cation)
i(is)e(just)h(a)g(mathematical)c(form)o(ula;)i(as)h(w)o(e'v)o(e)h(seen)
h(b)q(efore,)f(there)h(are)208 2170 y(often)i(man)o(y)f(equiv)n(alen)o
(t)i(w)o(a)o(ys)f(of)g(writing)g(a)h(form)o(ula.)33 b(Whic)o(h)20
b(one)g(y)o(ou)f(c)o(ho)q(ose)i(is)208 2220 y(usually)13
b(a)g(matter)g(of)h(taste.)208 2376 y FN(10.3)82 b(The)26
b(FIF)n(O)208 2467 y F4(Let's)16 b(no)o(w)g(sp)q(ecify)g(the)h(FIF)o
(O,)f(describ)q(ed)i(in)e(Chapter)g(4,)g(as)g(the)h(comp)q(osition)d
(of)i(its)208 2517 y(three)e(comp)q(onen)o(ts|the)e(Sender,)i(the)g
(Bu\013er,)g(and)f(the)g(Receiv)o(er.)19 b(W)m(e)12 b(start)i(with)e
(the)p Black Black eop
%%Page: 141 159
141 158 bop Black 208 275 a FR(10.3.)30 b(THE)14 b(FIF)o(O)1387
b F4(141)p 208 282 1770 2 v Black 208 391 a(in)o(ternal)15
b(sp)q(eci\014cation,)h(in)f(whic)o(h)g(the)h(v)n(ariable)f
FV(q)k F4(o)q(ccurs|that)e(is,)e FV(q)k F4(is)d(not)f(hidden.)208
441 y(First,)d(w)o(e)g(decide)h(what)g(part)f(of)f(the)i(state)g
(describ)q(es)i(eac)o(h)d(comp)q(onen)o(t.)17 b(The)c(v)n(ariables)208
491 y FV(in)20 b F4(and)d FV(out)k F4(are)d(c)o(hannels.)28
b(Recall)16 b(that)i(the)f FV(Channel)22 b F4(mo)q(dule)16
b(\(page)h(30\))g(sp)q(eci\014es)208 541 y(a)f(c)o(hannel)g
FV(chan)21 b F4(to)16 b(b)q(e)h(a)f(record)i(with)e FV(val)t
F4(,)g FV(r)n(dy)t F4(,)g(and)g FV(ack)22 b F4(comp)q(onen)o(ts.)j(The)
17 b FV(Send)208 591 y F4(action,)j(whic)o(h)g(sends)h(a)f(v)n(alue,)g
(mo)q(di\014es)f(the)h FV(val)k F4(and)c FV(r)n(dy)j
F4(comp)q(onen)o(ts;)g(the)d FV(R)n(cv)208 640 y F4(action,)10
b(whic)o(h)h(receiv)o(es)h(a)f(v)n(alue,)f(mo)q(di\014es)g(the)i
FV(ack)j F4(comp)q(onen)o(t.)h(So,)11 b(the)h(comp)q(onen)o(ts')208
690 y(states)j(are)f(describ)q(ed)i(b)o(y)d(the)i(follo)o(wing)c(state)
k(functions:)p Black 270 773 a(Sender:)p Black 40 w F0(h)s
FV(in)s FQ(:)p FV(val)t FQ(;)f FV(in)s FQ(:)p FV(r)n(dy)7
b F0(i)p Black 270 856 a F4(Bu\013er:)p Black 51 w F0(h)s
FV(in)s FQ(:)p FV(ack)t FQ(;)15 b FV(q)t FQ(;)e FV(out)t
FQ(:)p FV(val)t FQ(;)h FV(out)t FQ(:)p FV(r)n(dy)6 b
F0(i)p Black 270 939 a F4(Receiv)o(er:)p Black 21 w FV(out)t
FQ(:)p FV(ack)208 1022 y F4(Unfortunately)m(,)17 b(w)o(e)h(can't)g
(reuse)h(the)g(de\014nitions)e(from)f(the)j FV(InnerFIF)o(O)j
F4(mo)q(dule)16 b(on)208 1072 y(page)g(38)g(for)h(the)g(follo)o(wing)d
(reason.)27 b(The)18 b(v)n(ariable)d FV(q)t F4(,)i(whic)o(h)f(is)h
(hidden)g(in)f(the)i(\014nal)208 1122 y(sp)q(eci\014cation,)j(is)f
(part)g(of)f(the)i(Bu\013er)g(comp)q(onen)o(t's)e(in)o(ternal)h(state.)
37 b(Therefore,)22 b(it)208 1172 y(should)17 b(not)g(app)q(ear)h(in)f
(the)i(sp)q(eci\014cations)f(of)f(the)h(Sender)h(or)f(Receiv)o(er)g
(comp)q(onen)o(t.)208 1222 y(The)10 b(Sender)h(and)e(Receiv)o(er)h
(actions)g(de\014ned)h(in)e(the)h FV(InnerFIF)o(O)k F4(mo)q(dule)8
b(all)h(men)o(tion)f FV(q)t F4(,)208 1271 y(so)j(w)o(e)h(can't)f(use)i
(them.)j(W)m(e)11 b(therefore)i(w)o(on't)e(b)q(other)i(reusing)f(that)f
(mo)q(dule.)16 b(Ho)o(w)o(ev)o(er,)208 1321 y(instead)g(of)f(starting)g
(completely)g(from)f(scratc)o(h,)j(w)o(e)f(can)g(mak)o(e)e(use)j(of)e
(the)h FV(Send)21 b F4(and)208 1371 y FV(R)n(cv)d F4(actions)13
b(from)f(the)i FV(Channel)k F4(mo)q(dule)12 b(on)h(page)h(30)f(to)g
(describ)q(e)i(the)f(c)o(hanges)g(to)g FV(in)208 1421
y F4(and)f FV(out)t F4(.)270 1471 y(Let's)20 b(write)g(a)f(nonin)o
(terlea)o(ving)f(sp)q(eci\014cation.)36 b(The)20 b(next-state)h
(actions)e(of)g(the)208 1520 y(comp)q(onen)o(ts)d(are)h(then)g(the)h
(same)e(as)g(the)i(corresp)q(onding)f(disjuncts)h(of)e(the)h
FV(Next)k F4(ac-)208 1570 y(tion)16 b(in)g(mo)q(dule)g
FV(InnerFIF)o(O)t F4(,)h(except)i(that)e(they)g(do)g(not)g(men)o(tion)e
(the)i(parts)h(of)e(the)208 1620 y(states)d(b)q(elonging)e(to)h(the)h
(other)f(comp)q(onen)o(ts.)17 b(These)d(con)o(tain)d
FV(Send)18 b F4(and)11 b FV(R)n(cv)17 b F4(actions,)208
1670 y(instan)o(tiated)g(from)f(the)j FV(Channel)k F4(mo)q(dule,)17
b(whic)o(h)g(use)i(the)g FP(ex)o(cept)f F4(construct.)31
b(As)208 1720 y(noted)12 b(ab)q(o)o(v)o(e,)f(w)o(e)h(can)g(apply)g
FP(ex)o(cept)g F4(only)f(to)h(functions|and)f(to)g(records,)j(whic)o(h)
d(are)p .95 TeXcolorgray .95 TeXcolorgray 1679 1846 307
158 v .95 TeXcolorgray Black Black 42 w FZ(Section)f(5.2)h(on)1687
1759 y(page)g(48)g(explains)1687 1799 y(wh)o(y)h(records)e(are)1687
1838 y(functions.)p Black .95 TeXcolorgray Black 208
1769 a F4(functions.)18 b(W)m(e)13 b(therefore)i(add)f(to)g(our)g(sp)q
(eci\014cation)g(the)h(conjunct)p Black Black 332 1853
a FG(2)p F4(\()p FV(IsChannel)t F4(\()p FV(in)s F4(\))j
F0(^)e FV(IsChannel)t F4(\()p FV(out)t F4(\)\))208 1936
y(where)23 b FV(IsChannel)t F4(\()p FV(c)r F4(\))g(asserts)g(that)f
FV(c)j F4(is)c(a)h(c)o(hannel|that)f(is)h(a)g(record)h(with)e
FV(val)t F4(,)208 1985 y FV(ack)t F4(,)g(and)f FV(r)n(dy)k
F4(\014elds.)36 b(Since)21 b(a)f(record)h(with)f FV(val)t
F4(,)h FV(ack)t F4(,)h(and)d FV(r)n(dy)24 b F4(\014elds)c(is)g(a)g
(func-)208 2035 y(tion)11 b(whose)h(domain)e(is)h F0(f)p
F4(\\)p FD(val)p F4(")p FQ(;)i F4(\\)p FD(ack)p F4(")p
FQ(;)h F4(\\)p FD(rdy)p F4(")p F0(g)p F4(,)d(w)o(e)h(can)g(de\014ne)h
FV(IsChannel)t F4(\()p FV(c)r F4(\))h(to)d(equal)208
2085 y FV(IsFcnOn)s F4(\()p FV(c)r FQ(;)j F0(f)p F4(\\)p
FD(val)p F4(")p FQ(;)f F4(\\)p FD(ack)p F4(")p FQ(;)h
F4(\\)p FD(rdy)p F4(")p F0(g)p F4(\).)20 b(Ho)o(w)o(ev)o(er,)15
b(it's)f(just)h(as)f(easy)h(to)g(de\014ne)g(form)o(ula)208
2135 y FV(IsChannel)t F4(\()p FV(c)r F4(\))g(directly)f(b)o(y)p
Black Black 332 2224 a FV(IsChannel)t F4(\()p FV(c)r
F4(\))611 2201 y FI(\001)606 2224 y F4(=)35 b FV(c)14
b F4(=)e([)p FV(ack)k F0(7!)11 b FV(c)r FQ(:)p FV(ack)t
FQ(;)j FV(val)i F0(7!)11 b FV(c)r FQ(:)p FV(val)t FQ(;)i
FV(r)n(dy)i F0(7!)c FV(c)r FQ(:)p FV(r)n(dy)t F4(])270
2307 y(In)e(writing)g(this)h(sp)q(eci\014cation,)h(w)o(e)f(face)g(the)g
(same)f(problem)f(as)i(in)f(our)h(original)e(FIF)o(O)208
2357 y(sp)q(eci\014cation)14 b(of)g(in)o(tro)q(ducing)f(the)i(v)n
(ariable)e FV(q)18 b F4(and)c(then)g(hiding)f(it.)19
b(In)14 b(Chapter)g(4,)g(w)o(e)208 2407 y(solv)o(ed)i(this)g(problem)f
(b)o(y)h(in)o(tro)q(ducing)g FV(q)k F4(in)c(a)g(separate)i
FV(InnerFIF)o(O)i F4(mo)q(dule,)15 b(whic)o(h)208 2457
y(is)k(instan)o(tiated)g(b)o(y)g(the)h FV(FIF)o(O)k F4(mo)q(dule)18
b(that)h(de\014nes)i(the)f(\014nal)f(sp)q(eci\014cation.)35
b(W)m(e)208 2507 y(do)14 b(essen)o(tially)h(the)h(same)e(thing)h(here,)
h(except)g(that)g(w)o(e)f(in)o(tro)q(duce)h FV(q)i F4(in)d(a)g(submo)q
(dule)p Black Black eop
%%Page: 142 160
142 159 bop Black 208 275 a F4(142)766 b FR(CHAPTER)14
b(10.)31 b(COMPOSING)15 b(SPECIFICA)m(TIONS)p 208 282
1770 2 v Black 208 391 a F4(instead)10 b(of)g(in)f(a)h(completely)f
(separate)j(mo)q(dule.)j(All)9 b(the)i(sym)o(b)q(ols)e(declared)i(and)f
(de\014ned)208 441 y(at)g(the)h(p)q(oin)o(t)f(where)i(the)f(submo)q
(dule)f(app)q(ears)h(can)g(b)q(e)g(used)g(within)f(it.)17
b(The)11 b(submo)q(dule)208 491 y(itself)16 b(can)h(b)q(e)g(instan)o
(tiated)g(in)f(the)i(con)o(taining)d(mo)q(dule)h(an)o(ywhere)h(after)g
(it)g(app)q(ears.)208 541 y(\(Submo)q(dules)11 b(are)h(used)g(in)g(the)
g FV(R)n(e)n(alTimeHourClo)n(ck)j F4(and)c FV(R)m(TMemory)16
b F4(sp)q(eci\014cations)208 591 y(on)d(pages)h(121)g(and)f(126)g(of)h
(Chapter)g(9.\))270 640 y(There)19 b(is)f(one)g(small)d(problem)i(to)h
(b)q(e)g(solv)o(ed)g(b)q(efore)h(w)o(e)f(can)g(write)g(a)g(comp)q
(osite)208 690 y(sp)q(eci\014cation)c(of)f(the)i(FIF)o(O|ho)o(w)e(to)h
(sp)q(ecify)g(the)h(initial)d(predicates.)19 b(It)14
b(mak)o(es)f(sense)208 740 y(for)i(the)h(initial)e(predicate)j(of)e
(eac)o(h)h(comp)q(onen)o(t's)f(sp)q(eci\014cation)i(to)e(sp)q(ecify)h
(the)h(initial)208 790 y(v)n(alues)11 b(of)g(its)g(part)h(of)f(the)h
(state.)18 b(Ho)o(w)o(ev)o(er)12 b(the)g(initial)e(condition)h
(includes)h(the)g(require-)208 840 y(men)o(ts)i FV(in)s
FQ(:)p FV(ack)19 b F4(=)14 b FV(in)s FQ(:)p FV(r)n(dy)k
F4(and)d FV(out)t FQ(:)p FV(ack)k F4(=)14 b FV(out)t
FQ(:)p FV(r)n(dy)t F4(,)g(eac)o(h)i(of)f(whic)o(h)g(relates)h(the)g
(initial)208 889 y(states)h(of)e(t)o(w)o(o)h(di\013eren)o(t)h(comp)q
(onen)o(ts.)25 b(\(These)17 b(requiremen)o(ts)g(are)g(stated)g(in)e(mo)
q(dule)208 939 y FV(InnerFIF)o(O)h F4(b)o(y)c(the)g(conjuncts)i
FV(InChan)7 b F4(!)s FV(Init)16 b F4(and)c FV(OutChan)7
b F4(!)s FV(Init)16 b F4(of)11 b(the)i(initial)d(pred-)208
989 y(icate)16 b FV(Init)t F4(.\))26 b(There)17 b(are)g(three)h(w)o(a)o
(ys)e(of)g(expressing)h(a)f(requiremen)o(t)h(that)f(relates)h(the)208
1039 y(initial)11 b(states)16 b(of)d(m)o(ultiple)e(comp)q(onen)o(ts:)p
Black 270 1122 a F0(\017)p Black 20 w F4(Assert)19 b(it)d(in)g(the)h
(initial)e(conditions)h(of)g(all)f(the)i(comp)q(onen)o(ts.)26
b(Although)16 b(sym-)311 1172 y(metric,)d(this)h(seems)g(needlessly)h
(redundan)o(t.)p Black 270 1255 a F0(\017)p Black 20
w F4(Arbitrarily)h(assign)g(the)h(requiremen)o(t)f(to)g(one)g(of)g(the)
h(comp)q(onen)o(ts.)24 b(This)16 b(in)o(tu-)311 1305
y(itiv)o(ely)11 b(suggests)j(that)e(w)o(e)g(are)h(assigning)e(to)h
(that)g(comp)q(onen)o(t)g(the)g(resp)q(onsibilit)o(y)311
1354 y(of)i(ensuring)g(that)g(the)g(requiremen)o(t)g(is)g(met.)p
Black 270 1437 a F0(\017)p Black 20 w F4(Assert)d(the)g(requiremen)o(t)
e(as)h(a)f(conjunct)h(separate)h(from)c(either)k(of)d(the)j(comp)q
(onen)o(t)311 1487 y(sp)q(eci\014cations.)34 b(This)19
b(in)o(tuitiv)o(ely)f(suggests)i(that)f(it)f(is)h(an)f(assumption)g(ab)
q(out)311 1537 y(ho)o(w)13 b(the)g(comp)q(onen)o(ts)g(are)g(put)g
(together,)h(rather)g(than)e(a)h(requiremen)o(t)g(of)f(either)311
1587 y(comp)q(onen)o(t.)208 1670 y(When)f(w)o(e)h(write)g(an)f(op)q
(en-system)h(sp)q(eci\014cation,)g(as)g(describ)q(ed)h(in)e(Section)h
(10.7)f(b)q(elo)o(w,)208 1720 y(the)16 b(in)o(tuitiv)o(e)g(suggestions)
g(of)g(the)h(last)f(t)o(w)o(o)f(approac)o(hes)i(can)g(b)q(e)g(turned)g
(in)o(to)e(formal)208 1769 y(requiremen)o(ts.)j(I'v)o(e)13
b(tak)o(en)h(the)h(last)f(approac)o(h)f(and)h(added)p
Black Black 332 1853 a(\()p FV(in)s FQ(:)p FV(ack)i F4(=)c
FV(in)s FQ(:)p FV(r)n(dy)t F4(\))d F0(^)g F4(\()p FV(out)t
FQ(:)p FV(ack)16 b F4(=)c FV(out)t FQ(:)p FV(r)n(dy)t
F4(\))208 1936 y(as)e(a)f(separate)j(condition.)k(The)10
b(complete)g(sp)q(eci\014cation)g(is)g(in)g(mo)q(dule)e
FV(Comp)n(ositeFIF)o(O)208 1985 y F4(of)h(Figure)h(10.1)f(on)h(the)h
(next)f(page.)17 b(F)m(orm)o(ula)8 b FV(Sp)n(e)n(c)13
b F4(of)c(this)h(mo)q(dule)f(is)h(a)g(nonin)o(terlea)o(ving)208
2035 y(sp)q(eci\014cation;)15 b(for)g(example,)f(it)g(allo)o(ws)g(a)h
(single)f(step)i(that)f(is)g(b)q(oth)g(an)g FV(InChan)7
b F4(!)s FV(Send)208 2085 y F4(step)12 b(\(the)g(sender)h(sends)g(a)e
(v)n(alue\))g(and)g(an)g FV(OutChan)c F4(!)s FV(R)n(cv)16
b F4(step)d(\(the)f(receiv)o(er)h(ac)o(kno)o(wl-)208
2135 y(edges)h(a)g(v)n(alue\).)j(Hence,)e(it)f(is)g(not)f(equiv)n(alen)
o(t)g(to)h(the)h(in)o(terlea)o(ving)d(sp)q(eci\014cation)j
FV(Sp)n(e)n(c)208 2185 y F4(of)e(the)h FV(FIF)o(O)k F4(mo)q(dule)12
b(on)i(page)g(41,)f(whic)o(h)h(do)q(es)g(not)g(allo)o(w)e(suc)o(h)j(a)f
(step.)208 2343 y FN(10.4)82 b(Comp)r(osition)27 b(with)g(Shared)f
(State)208 2434 y F4(Th)o(us)15 b(far,)h(w)o(e)g(ha)o(v)o(e)f(b)q(een)i
(considering)f FV(disjoint-state)f(c)n(omp)n(ositions)s
F4(|ones)i(in)e(whic)o(h)208 2484 y(the)k(comp)q(onen)o(ts)f(are)h
(represen)o(ted)i(b)o(y)d(disjoin)o(t)g(parts)h(of)f(the)h(state,)h
(and)e(a)g(comp)q(o-)p Black Black eop
%%Page: 143 161
143 160 bop Black 208 275 a FR(10.4.)30 b(COMPOSITION)15
b(WITH)f(SHARED)g(ST)m(A)m(TE)810 b F4(143)p 208 282
1770 2 v Black Black Black Black 188 455 2 25 v 190 432
660 2 v 863 439 a FP(module)15 b FV(Comp)n(ositeFIF)o(O)p
1336 432 V 1996 455 2 25 v 208 497 a FP(extends)h FV(Natur)n(als,)e(Se)
n(quenc)n(es)208 556 y FP(const)m(ant)i FV(Message)208
614 y FP(v)l(ariables)h FV(in,)22 b(out)p 188 668 V 190
657 1806 2 v 1996 667 2 25 v 208 714 a(InChan)409 690
y FI(\001)404 714 y F4(=)30 b FP(inst)m(ance)16 b FV(Channel)21
b FP(with)15 b FV(Data)g F0( )c FV(Message)s FQ(;)j FV(chan)i
F0( )11 b FV(in)208 778 y(OutChan)409 755 y FI(\001)404
778 y F4(=)30 b FP(inst)m(ance)16 b FV(Channel)21 b FP(with)15
b FV(Data)g F0( )c FV(Message)s FQ(;)j FV(chan)i F0( )11
b FV(out)p 188 818 V 190 807 1806 2 v 1996 818 2 25 v
208 864 a(SenderInit)440 841 y FI(\001)436 864 y F4(=)34
b(\()p FV(in)s FQ(:)p FV(r)n(dy)15 b F0(2)d(f)p F4(0)p
FQ(;)g F4(1)p F0(g)p F4(\))k F0(^)g F4(\()p FV(in)s FQ(:)p
FV(val)g F0(2)11 b FV(Message)s F4(\))208 929 y FV(Sender)375
905 y FI(\001)370 929 y F4(=)35 b FV(SenderInit)21 b
F0(^)15 b FG(2)7 b F4([)g F0(9)g FV(msg)15 b F0(2)c FV(Message)22
b F4(:)c FV(InChan)7 b F4(!)s FV(Send)t F4(\()p FV(msg)t
F4(\))i(])1475 936 y FH(h)s FJ(in)s Fy(:)p FJ(val)s Fy(;)t
FJ(in)s Fy(:)p FJ(r)n(dy)s FH(i)p .95 TeXcolorgray .95
TeXcolorgray 1738 931 243 103 v .95 TeXcolorgray Black
1753 864 a FZ(The)j(Sender's)1753 911 y(sp)q(eci\014cation.)p
.95 TeXcolorgray Black 188 972 2 25 v 190 961 1806 2
v 1996 972 2 25 v Black Black 230 1025 V 232 1002 697
2 v 943 1009 a FP(module)17 b FV(InnerBuf)p 1299 1002
V 1996 1025 2 25 v 250 1068 a FP(v)l(ariable)g FV(q)250
1132 y(Bu\013erInit)473 1109 y FI(\001)468 1132 y F4(=)35
b F0(^)14 b FV(in)s FQ(:)p FV(ack)j F0(2)11 b(f)p F4(0)p
FQ(;)i F4(1)p F0(g)535 1182 y(^)h FV(q)i F4(=)11 b F0(h)c(i)535
1232 y(^)14 b F4(\()p FV(out)t FQ(:)p FV(r)n(dy)h F0(2)c(f)p
F4(0)p FQ(;)i F4(1)p F0(g)p F4(\))j F0(^)g F4(\()p FV(out)t
FQ(:)p FV(val)g F0(2)11 b FV(Message)s F4(\))p .95 TeXcolorgray
.95 TeXcolorgray 1417 1256 385 225 v .95 TeXcolorgray
Black 1443 1107 a FZ(The)h(Bu\013er's)e(in)o(ternal)1443
1154 y(sp)q(eci\014cation)o(,)f(with)i FY(q)1443 1200
y FZ(visible.)p .95 TeXcolorgray Black 250 1314 a FV(BufR)n(cv)440
1290 y FI(\001)435 1314 y F4(=)31 b F0(^)14 b FV(InChan)7
b F4(!)s FV(R)n(cv)498 1363 y F0(^)14 b FV(q)563 1348
y FH(0)586 1363 y F4(=)e FV(App)n(end)t F4(\()p FV(q)t
FQ(;)i FV(in)s FQ(:)p FV(val)t F4(\))498 1413 y F0(^)g
FP(unchanged)j F0(h)s FV(out)t FQ(:)p FV(val)t FQ(;)d
FV(out)t FQ(:)p FV(r)n(dy)7 b F0(i)250 1482 y FV(BufSend)440
1459 y FI(\001)435 1482 y F4(=)31 b F0(^)14 b FV(q)i
F0(6)p F4(=)11 b F0(h)c(i)498 1532 y(^)14 b FV(OutChan)7
b F4(!)s FV(Send)t F4(\()p FV(He)n(ad)t F4(\()p FV(q)t
F4(\)\))498 1582 y F0(^)14 b FV(q)563 1567 y FH(0)586
1582 y F4(=)e FV(T)m(ail)t F4(\()p FV(q)t F4(\))498 1632
y F0(^)i FP(unchanged)j FV(in)s FQ(:)p FV(ack)250 1705
y(InnerBu\013er)502 1681 y FI(\001)497 1705 y F4(=)31
b FV(Bu\013erInit)20 b F0(^)c FG(2)p F4([)p FV(BufR)n(cv)e
F0(_)9 b FV(BufSend)t F4(])1193 1712 y FH(h)s FJ(in)s
Fy(:)p FJ(ack)s Fy(;)c FJ(q)r Fy(;)h FJ(out)s Fy(:)p
FJ(val)s Fy(;)s FJ(out)s Fy(:)p FJ(r)n(dy)t FH(i)p 230
1747 2 25 v 232 1747 1764 2 v 1996 1747 2 25 v 208 1813
a FV(Buf)j F4(\()p FV(q)t F4(\))370 1789 y FI(\001)366
1813 y F4(=)30 b FP(inst)m(ance)16 b FV(InnerBuf)208
1882 y(Bu\013er)370 1858 y FI(\001)366 1882 y F4(=)428
1880 y F0(9)-22 b(9)g(9)428 1882 y(9)g(9)g(9)7 b FV(q)22
b F4(:)c FV(Buf)9 b F4(\()p FV(q)t F4(\))s(!)s FV(InnerBu\013er)p
.95 TeXcolorgray .95 TeXcolorgray 972 1880 563 103 v
.95 TeXcolorgray Black 989 1813 a FZ(The)i(Bu\013er's)f(external)g(sp)q
(eci\014catio)o(n)989 1859 y(with)h FY(q)k FZ(hidden.)p
.95 TeXcolorgray Black 188 1914 2 25 v 190 1903 1806
2 v 1996 1913 2 25 v 208 1960 a FV(R)n(e)n(c)n(eiverInit)466
1936 y FI(\001)462 1960 y F4(=)34 b FV(out)t FQ(:)p FV(ack)17
b F0(2)11 b(f)p F4(0)p FQ(;)i F4(1)p F0(g)208 2024 y
FV(R)n(e)n(c)n(eiver)401 2001 y FI(\001)396 2024 y F4(=)35
b FV(R)n(e)n(c)n(eiverInit)20 b F0(^)15 b FG(2)p F4([)p
FV(OutChan)7 b F4(!)s FV(R)n(cv)t F4(])1052 2030 y FJ(out)s
Fy(:)p FJ(ack)p .95 TeXcolorgray .95 TeXcolorgray 1222
2026 273 103 v .95 TeXcolorgray Black 1239 1960 a FZ(The)12
b(Receiv)o(er's)1239 2006 y(sp)q(eci\014cation.)p .95
TeXcolorgray Black 188 2056 2 25 v 190 2045 1806 2 v
1996 2056 2 25 v 208 2102 a FV(IsChannel)t F4(\()p FV(c)r
F4(\))486 2079 y FI(\001)482 2102 y F4(=)35 b FV(c)14
b F4(=)d([)p FV(ack)16 b F0(7!)11 b FV(c)r FQ(:)p FV(ack)t
FQ(;)k FV(val)g F0(7!)c FV(c)r FQ(:)p FV(val)t FQ(;)j
FV(r)n(dy)h F0(7!)c FV(c)r FQ(:)p FV(r)n(dy)t F4(])208
2180 y FV(Sp)n(e)n(c)328 2156 y FI(\001)323 2180 y F4(=)35
b F0(^)14 b FG(2)p F4(\()p FV(IsChannel)t F4(\()p FV(in)s
F4(\))k F0(^)e FV(IsChannel)t F4(\()p FV(out)t F4(\)\))390
2242 y F0(^)e F4(\()p FV(in)s FQ(:)p FV(ack)j F4(=)12
b FV(in)s FQ(:)p FV(r)n(dy)t F4(\))j F0(^)h F4(\()p FV(out)t
FQ(:)p FV(ack)g F4(=)c FV(out)t FQ(:)p FV(r)n(dy)t F4(\))390
2304 y F0(^)i FV(Sender)22 b F0(^)15 b FV(Bu\013er)22
b F0(^)15 b FV(R)n(e)n(c)n(eiver)p .95 TeXcolorgray .95
TeXcolorgray 1197 2200 725 57 v .95 TeXcolorgray Black
1206 2180 a FZ(Asserts)c(that)f FY(in)15 b FZ(and)10
b FY(out)15 b FZ(are)c(alw)o(a)o(ys)g(records.)p .95
TeXcolorgray Black .95 TeXcolorgray .95 TeXcolorgray
1197 2262 V .95 TeXcolorgray Black 1206 2242 a(Relates)f(di\013eren)o
(t)f(comp)q(onen)o(ts')f(initial)i(states.)p .95 TeXcolorgray
Black .95 TeXcolorgray .95 TeXcolorgray 1197 2324 V .95
TeXcolorgray Black 1206 2304 a(Conjoins)g(the)h(three)f(sp)q
(eci\014cation)o(s.)p .95 TeXcolorgray Black 188 2333
2 25 v 190 2333 1806 2 v 1996 2333 2 25 v Black 459 2448
a FU(Figure)k(10.1:)19 b F4(A)14 b(nonin)o(terlea)o(ving)f(comp)q
(osite)g(sp)q(eci\014cation)h(of)g(the)g(FIF)o(O.)p Black
Black Black Black eop
%%Page: 144 162
144 161 bop Black 208 275 a F4(144)766 b FR(CHAPTER)14
b(10.)31 b(COMPOSING)15 b(SPECIFICA)m(TIONS)p 208 282
1770 2 v Black 208 391 a F4(nen)o(t's)d(next-state)h(action)f(describ)q
(es)i(c)o(hanges)f(only)e(to)h(its)g(part)h(of)e(the)i(state.)1467
376 y FS(2)1504 391 y F4(W)m(e)e(no)o(w)208 441 y(consider)j(the)h
(case)g(when)f(this)g(ma)o(y)e(not)i(b)q(e)g(p)q(ossible.)208
578 y F3(10.4.1)65 b(Explicit)25 b(State)e(Changes)208
669 y F4(W)m(e)13 b(\014rst)h(examine)f(the)h(situation)f(in)h(whic)o
(h)f(some)g(part)h(of)f(the)h(state)h(cannot)f(b)q(e)g(parti-)208
719 y(tioned)f(among)f(the)j(di\013eren)o(t)f(comp)q(onen)o(ts,)g(but)g
(the)g(state)h(c)o(hange)f(that)g(eac)o(h)g(comp)q(o-)208
768 y(nen)o(t)f(p)q(erforms)f(is)h(completely)e(describ)q(ed)k(b)o(y)d
(the)i(sp)q(eci\014cation.)k(As)13 b(an)g(example,)e(let's)208
818 y(again)i(consider)j(a)e(Sender)i(and)f(a)f(Receiv)o(er)i(that)f
(comm)o(unicate)d(with)j(a)f(FIF)o(O)h(bu\013er.)208
868 y(In)c(the)i(system)e(w)o(e)h(studied)g(in)g(Chapter)g(4,)f
(sending)h(or)g(receiving)g(a)g(v)n(alue)f(required)h(t)o(w)o(o)208
918 y(steps.)18 b(F)m(or)10 b(example,)g(the)i(Sender)g(executes)h(a)e
FV(Send)16 b F4(step)c(to)f(send)h(a)e(v)n(alue,)h(and)f(it)h(m)o(ust)
208 968 y(then)j(w)o(ait)f(un)o(til)g(the)h(bu\013er)h(executes)h(a)d
FV(R)n(cv)19 b F4(step)14 b(b)q(efore)h(it)e(can)h(send)h(another)f(v)n
(alue.)208 1018 y(W)m(e)g(simplify)e(the)j(system)f(b)o(y)g(replacing)h
(the)g(Bu\013er)h(comp)q(onen)o(t)e(with)g(a)h(v)n(ariable)e
FV(buf)208 1067 y F4(whose)k(v)n(alue)e(is)i(the)g(sequence)h(of)e(v)n
(alues)g(sen)o(t)i(b)o(y)e(the)h(Sender)h(but)e(not)h(y)o(et)g(receiv)o
(ed)208 1117 y(b)o(y)12 b(the)h(Receiv)o(er.)19 b(This)12
b(replaces)i(the)f(three-comp)q(onen)o(t)g(system)g(pictured)g(on)g
(page)f(35)208 1167 y(with)h(this)h(t)o(w)o(o-comp)q(onen)o(t)f(one:)p
Black Black 329 1236 194 4 v 329 1535 4 299 v 369 1399
a FC(Sender)p 519 1535 V 329 1538 194 4 v 702 1236 V
702 1535 4 299 v 247 w(Receiv)o(er)p 892 1535 V 702 1538
194 4 v 583 1367 a FB(buf)p 519 1387 187 4 v 664 1385
a FA(-)208 1616 y F4(The)d(Sender)i(sends)g(a)e(v)n(alue)g(b)o(y)g(app)
q(ending)h(it)f(to)g(the)h(end)g(of)f FV(buf)f F4(;)i(the)g(Receiv)o
(er)g(receiv)o(es)208 1666 y(a)i(v)n(alue)g(b)o(y)h(remo)o(ving)e(it)i
(from)e(the)i(head)g(of)g FV(buf)9 b F4(.)270 1716 y(In)19
b(general,)h(the)f(Sender)i(p)q(erforms)d(some)g(computation)g(to)g
(pro)q(duce)j(the)e(v)n(alues)208 1765 y(that)f(it)f(sends,)j(and)e
(the)h(Receiv)o(er)g(do)q(es)f(some)g(computation)e(on)i(the)g(v)n
(alues)g(that)g(it)208 1815 y(receiv)o(es.)25 b(The)16
b(system)g(state)g(consists)h(of)e FV(buf)25 b F4(and)15
b(t)o(w)o(o)h(tuples)g FV(s)j F4(and)d FV(r)j F4(of)d(v)n(ariables)208
1865 y(that)e(describ)q(e)h(the)g(Sender)g(and)f(Receiv)o(er)h(states.)
k(In)14 b(a)g(monolithic)d(sp)q(eci\014cation,)j(the)208
1915 y(system's)h(next-state)i(action)e(is)h(a)f(disjunction)g
FV(Sndr)h F0(_)10 b FV(R)n(cvr)t F4(,)16 b(where)h FV(Sndr)j
F4(and)c FV(R)n(cvr)208 1965 y F4(describ)q(e)d(steps)h(tak)o(en)e(b)o
(y)f(the)i(Sender)g(and)f(Receiv)o(er,)h(resp)q(ectiv)o(ely)m(.)18
b(These)13 b(actions)f(are)208 2014 y(de\014ned)j(b)o(y)p
Black Black 332 2099 a FV(Sndr)461 2076 y FI(\001)457
2099 y F4(=)415 2149 y F0(_)f(^)f FV(buf)561 2134 y FH(0)584
2149 y F4(=)f FV(App)n(end)t F4(\()p FV(buf)e FQ(;)k(:)7
b(:)g(:)n F4(\))457 2199 y F0(^)13 b FV(SComm)457 2249
y F0(^)g FP(unchanged)k FV(r)415 2299 y F0(_)d(^)f FV(SCompute)457
2348 y F0(^)g FP(unchanged)k F0(h)s FV(buf)10 b FQ(;)d
FV(r)g F0(i)1061 2099 y FV(R)n(cvr)1188 2076 y FI(\001)1184
2099 y F4(=)1144 2149 y F0(_)13 b(^)h FV(buf)20 b F0(6)p
F4(=)12 b F0(h)7 b(i)1185 2199 y(^)14 b FV(buf)1290 2184
y FH(0)1313 2199 y F4(=)e FV(T)m(ail)t F4(\()p FV(buf)c
F4(\))1185 2249 y F0(^)14 b FV(R)o(Comm)1185 2299 y F0(^)g
FP(unchanged)j FV(s)1144 2348 y F0(_)c(^)h FV(R)o(Compute)1185
2398 y F0(^)g FP(unchanged)j F0(h)s FV(buf)9 b FQ(;)e
FV(s)g F0(i)p Black 208 2439 576 2 v 254 2466 a FK(2)271
2477 y FZ(In)15 b(an)f(in)o(terlea)o(ving)e(comp)q(osition)o(,)i(a)g
(comp)q(onen)o(t)e(sp)q(eci\014cation)g(ma)o(y)i(assert)g(that)g(the)g
(state)g(of)208 2517 y(other)c(comp)q(onen)o(t)o(s)f(is)i
FY(not)k FZ(c)o(hanged.)p Black Black Black eop
%%Page: 145 163
145 162 bop Black 208 275 a FR(10.4.)30 b(COMPOSITION)15
b(WITH)f(SHARED)g(ST)m(A)m(TE)810 b F4(145)p 208 282
1770 2 v Black 208 391 a(for)14 b(some)f(actions)i FV(SComm)s
F4(,)f FV(SCompute)s F4(,)h FV(R)o(Comm)s F4(,)g(and)f
FV(R)o(Compute)s F4(.)20 b(F)m(or)14 b(simplicit)o(y)m(,)208
441 y(w)o(e)h(assume)g(that)h(neither)g FV(Sndr)k F4(nor)15
b FV(R)n(cvr)20 b F4(allo)o(ws)14 b(stuttering)i(actions,)g(so)f
FV(SCompute)208 491 y F4(c)o(hanges)20 b FV(s)i F4(and)d
FV(R)o(Compute)k F4(c)o(hanges)d FV(r)t F4(.)34 b(W)m(e)19
b(no)o(w)g(write)h(the)g(sp)q(eci\014cation)g(as)f(the)208
541 y(comp)q(osition)12 b(of)h(separate)i(sp)q(eci\014cations)g(of)e
(the)i(Sender)g(and)f(Receiv)o(er.)270 591 y(Splitting)i(the)i(initial)
d(predicate)j(is)f(straigh)o(tforw)o(ard.)27 b(The)18
b(initial)d(conditions)i(on)208 640 y FV(s)i F4(b)q(elong)e(to)f(the)h
(Sender's)h(initial)d(predicate;)j(those)f(on)g FV(r)j
F4(b)q(elong)d(to)f(the)h(Receiv)o(er's)208 690 y(initial)c(predicate;)
j(and)f(the)h(initial)d(condition)i FV(buf)23 b F4(=)14
b F0(h)7 b(i)15 b F4(can)h(b)q(e)f(assigned)h(arbitrarily)208
740 y(to)d(either)i(of)e(them.)270 790 y(No)o(w)19 b(let's)h(consider)h
(the)g(next-state)g(actions)f FV(NS)25 b F4(and)19 b
FV(NR)j F4(of)d(the)i(Sender)g(and)208 840 y(Receiv)o(er)14
b(comp)q(onen)o(ts.)k(The)c(tric)o(k)g(is)g(to)g(de\014ne)h(them)e(b)o
(y)p Black Black 332 920 a FV(NS)431 896 y FI(\001)426
920 y F4(=)35 b FV(Sndr)21 b F0(_)16 b F4(\()p FQ(\033)10
b F0(^)f F4(\()p FV(s)766 902 y FH(0)790 920 y F4(=)j
FV(s)s F4(\)\))125 b FV(NR)1113 896 y FI(\001)1108 920
y F4(=)35 b FV(R)n(cvr)20 b F0(_)c F4(\()p FQ(\032)10
b F0(^)f F4(\()p FV(r)1445 902 y FH(0)1468 920 y F4(=)j
FV(r)t F4(\)\))208 995 y(where)20 b FQ(\033)h F4(and)f
FQ(\032)g F4(are)g(actions)g(con)o(taining)e(only)h(the)i(v)n(ariable)d
FV(buf)9 b F4(.)36 b(Think)19 b(of)g FQ(\033)i F4(as)208
1045 y(describing)14 b(p)q(ossible)h(c)o(hanges)g(to)g
FV(buf)23 b F4(that)14 b(are)h(not)g(caused)g(b)o(y)f(the)h(Sender,)h
(and)e FQ(\032)h F4(as)208 1095 y(describing)h(p)q(ossible)f(c)o
(hanges)i(to)e FV(buf)24 b F4(that)16 b(are)g(not)f(caused)i(b)o(y)e
(the)h(Receiv)o(er.)24 b(Th)o(us,)208 1145 y FV(NS)19
b F4(p)q(ermits)14 b(an)o(y)g(step)i(that)e(is)h(either)g(a)f
FV(Sndr)20 b F4(step)15 b(or)g(one)f(that)h(lea)o(v)o(es)f
FV(s)k F4(unc)o(hanged)208 1195 y(and)13 b(is)h(a)g(c)o(hange)g(to)g
FV(buf)22 b F4(that)14 b(can't)g(b)q(e)h(\\blamed")c(on)j(the)g
(Sender.)270 1244 y(Supp)q(ose)h FQ(\033)g F4(and)e FQ(\032)i
F4(satisfy)e(the)i(follo)o(wing)c(three)k(conditions:)p
Black 270 1320 a F0(\017)p Black 20 w(8)7 b FV(d)23 b
F4(:)18 b(\()p FV(buf)494 1305 y FH(0)517 1320 y F4(=)12
b FV(App)n(end)t F4(\()p FV(buf)e FQ(;)d FV(d)t F4(\)\))12
b F0(\))f FQ(\032)311 1370 y F4(A)j(step)h(that)f(app)q(ends)h(a)f(v)n
(alue)f(to)g FV(buf)23 b F4(is)14 b(not)g(caused)h(b)o(y)e(the)i
(Receiv)o(er.)p Black 270 1450 a F0(\017)p Black 20 w
F4(\()p FV(buf)21 b F0(6)p F4(=)12 b F0(h)7 b(i)p F4(\))i
F0(^)g F4(\()p FV(buf)626 1434 y FH(0)649 1450 y F4(=)j
FV(T)m(ail)t F4(\()p FV(buf)d F4(\)\))i F0(\))g FQ(\033)311
1499 y F4(A)18 b(step)g(that)g(remo)o(v)o(es)f(a)g(v)n(alue)g(from)f
(the)i(head)f(of)g FV(buf)27 b F4(is)17 b(not)g(caused)i(b)o(y)e(the)
311 1549 y(Sender.)p Black 270 1629 a F0(\017)p Black
20 w F4(\()p FQ(\033)11 b F0(^)e FQ(\032)p F4(\))j F0(\))f
F4(\()p FV(buf)580 1613 y FH(0)603 1629 y F4(=)h FV(buf)d
F4(\))311 1678 y(A)i(step)h(that)e(is)h(caused)h(b)o(y)e(neither)i(the)
f(Sender)h(nor)f(the)g(Receiv)o(er)h(cannot)f(c)o(hange)311
1728 y FV(buf)e F4(.)208 1804 y(Using)k(ob)o(vious)g(relations)h(suc)o
(h)h(as)774 1789 y FS(3)p Black Black 332 1880 a F4(\()p
FV(buf)411 1863 y FH(0)434 1880 y F4(=)d FV(buf)d F4(\))16
b F0(^)g F4(\()p FV(buf)21 b F0(6)p F4(=)12 b F0(h)7
b(i)p F4(\))16 b F0(^)g F4(\()p FV(buf)946 1863 y FH(0)969
1880 y F4(=)c FV(T)m(ail)t F4(\()p FV(buf)c F4(\)\))35
b F0(\021)g FP(f)l(alse)208 1956 y F4(a)13 b(computation)f(lik)o(e)h
(the)i(one)f(b)o(y)g(whic)o(h)f(w)o(e)i(deriv)o(ed)f(\(10.1\))f(sho)o
(ws)p Black Black 332 2031 a FG(2)p F4([)p FV(NS)5 b
F4(])446 2038 y FH(h)s FJ(buf)h Fy(;)f FJ(s)h FH(i)579
2031 y F0(^)16 b FG(2)p F4([)p FV(NR)r F4(])741 2038
y FH(h)s FJ(buf)5 b Fy(;)h FJ(r)f FH(i)893 2031 y F0(\021)35
b FG(2)p F4([)p FV(Sndr)14 b F0(_)9 b FV(R)n(cvr)t F4(])1239
2038 y FH(h)s FJ(buf)d Fy(;)g FJ(s)r Fy(;)g FJ(r)f FH(i)208
2107 y F4(Th)o(us,)20 b FV(NS)25 b F4(and)19 b FV(NR)j
F4(are)e(suitable)f(next-state)i(actions)e(for)h(the)g(comp)q(onen)o
(ts,)g(if)f(w)o(e)208 2157 y(c)o(ho)q(ose)h FQ(\033)g
F4(and)g FQ(\032)g F4(to)f(satisfy)g(the)h(three)h(conditions)e(ab)q(o)
o(v)o(e.)34 b(There)21 b(is)e(considerable)208 2207 y(freedom)13
b(in)g(that)i(c)o(hoice.)k(The)14 b(strongest)h(p)q(ossible)g(c)o
(hoices)g(of)e FQ(\033)i F4(and)f FQ(\032)h F4(are)f(ones)h(that)208
2257 y(describ)q(e)g(exactly)f(the)h(c)o(hanges)f(p)q(ermitted)g(b)o(y)
g(the)g(other)h(comp)q(onen)o(t:)p Black Black 332 2337
a FQ(\033)397 2313 y FI(\001)392 2337 y F4(=)35 b(\()p
FV(buf)20 b F0(6)p F4(=)12 b F0(h)7 b(i)p F4(\))17 b
F0(^)e F4(\()p FV(buf)788 2322 y FH(0)811 2337 y F4(=)d
FV(T)m(ail)t F4(\()p FV(buf)c F4(\)\))332 2401 y FQ(\032)397
2377 y FI(\001)392 2401 y F4(=)35 b F0(9)7 b FV(d)23
b F4(:)18 b FV(buf)626 2386 y FH(0)649 2401 y F4(=)12
b FV(App)n(end)t F4(\()p FV(buf)e FQ(;)j FV(d)t F4(\))p
Black 208 2439 576 2 v 254 2466 a FK(3)271 2477 y FZ(These)e(relations)
f(are)h(true)f(only)h(if)g FY(buf)20 b FZ(is)11 b(a)h(sequence.)h(A)f
(rigorous)e(calculation)e(requires)i(the)h(use)208 2517
y(of)g(an)g(in)o(v)n(arian)o(t)e(to)i(assert)f(that)h
FY(buf)19 b FZ(actually)9 b(is)j(a)f(sequence.)p Black
Black Black eop
%%Page: 146 164
146 163 bop Black 208 275 a F4(146)766 b FR(CHAPTER)14
b(10.)31 b(COMPOSING)15 b(SPECIFICA)m(TIONS)p 208 282
1770 2 v Black 208 391 a F4(W)m(e)f(can)i(w)o(eak)o(en)f(these)i
(de\014nitions)e(an)o(y)f(w)o(a)o(y)h(w)o(e)g(w)o(an)o(t,)g(so)g(long)f
(as)i(w)o(e)f(main)o(tain)d(the)208 441 y(condition)g(that)i
FQ(\033)c F0(^)e FQ(\032)14 b F4(implies)e(that)i FV(buf)22
b F4(is)14 b(unc)o(hanged.)k(F)m(or)13 b(example,)f(w)o(e)i(can)g
(de\014ne)208 491 y FQ(\033)h F4(as)f(ab)q(o)o(v)o(e)f(and)h(let)g
FQ(\032)g F4(equal)g F0(:)p FQ(\033)q F4(.)k(The)c(c)o(hoice)g(is)g(a)g
(matter)f(of)g(taste.)270 541 y(I'v)o(e)f(b)q(een)h(describing)g(an)f
(in)o(terlea)o(ving)g(sp)q(eci\014cation)h(of)e(the)i(Sender/Receiv)o
(er)h(sys-)208 591 y(tem.)23 b(No)o(w)16 b(let's)g(consider)h(a)f
(nonin)o(terlea)o(ving)f(sp)q(eci\014cation|one)i(that)f(allo)o(ws)f
(steps)208 640 y(in)f(whic)o(h)h(b)q(oth)g(the)h(Sender)g(and)f(the)h
(Receiv)o(er)g(are)f(computing.)20 b(In)15 b(other)h(w)o(ords,)f(w)o(e)
208 690 y(w)o(an)o(t)e(the)h(sp)q(eci\014cation)g(to)g(allo)o(w)e
FV(SCompute)g F0(^)c FV(R)o(Compute)18 b F4(steps)c(that)g(lea)o(v)o(e)
f FV(buf)23 b F4(un-)208 740 y(c)o(hanged.)j(Let)17 b
FV(SSndr)22 b F4(b)q(e)17 b(the)h(action)e(that)g(is)h(the)g(same)f(as)
h FV(Sndr)k F4(except)d(it)e(do)q(esn't)208 790 y(men)o(tion)c
FV(r)t F4(,)h(and)h(let)g FV(RR)n(cvr)k F4(b)q(e)d(de\014ned)g
(analogously)m(.)h(W)m(e)d(then)i(ha)o(v)o(e)p Black
Black 332 867 a FV(Sndr)28 b F0(\021)23 b FV(SSndr)15
b F0(^)9 b F4(\()p FV(r)698 849 y FH(0)721 867 y F4(=)j
FV(r)t F4(\))124 b FV(R)n(cvr)28 b F0(\021)23 b FV(RR)n(cvr)14
b F0(^)9 b F4(\()p FV(s)1295 849 y FH(0)1319 867 y F4(=)i
FV(s)s F4(\))208 943 y(A)j(monolithi)o(c)e(nonin)o(terlea)o(ving)h(sp)q
(eci\014cation)h(has)g(the)h(next-state)g(action)p Black
Black 332 1020 a FV(Sndr)26 b F0(_)20 b FV(R)n(cvr)25
b F0(_)c F4(\()p FV(SSndr)14 b F0(^)9 b FV(RR)n(cvr)14
b F0(^)9 b F4(\()p FV(buf)1068 1003 y FH(0)1091 1020
y F4(=)j FV(buf)d F4(\)\))208 1097 y(It)15 b(is)g(the)h(conjunction)g
(of)f(comp)q(onen)o(t)f(sp)q(eci\014cations)j(ha)o(ving)d(the)i
(next-state)h(actions)208 1147 y FV(NS)i F4(and)13 b
FV(NR)j F4(de\014ned)f(b)o(y)p Black Black 332 1228 a
FV(NS)431 1204 y FI(\001)426 1228 y F4(=)35 b FV(SSndr)21
b F0(_)16 b F4(\()p FQ(\033)10 b F0(^)f F4(\()p FV(s)789
1211 y FH(0)813 1228 y F4(=)j FV(s)s F4(\)\))125 b FV(NR)1136
1204 y FI(\001)1131 1228 y F4(=)35 b FV(RR)n(cvr)21 b
F0(_)16 b F4(\()p FQ(\032)10 b F0(^)f F4(\()p FV(r)1499
1211 y FH(0)1522 1228 y F4(=)j FV(r)t F4(\)\))208 1304
y(where)j FQ(\033)g F4(and)e FQ(\032)i F4(are)f(as)g(ab)q(o)o(v)o(e.)
270 1354 y(This)k(t)o(w)o(o-pro)q(cess)i(situation)d(generalizes)j(to)e
(the)h(comp)q(osition)d(of)i(an)o(y)g(set)h FV(C)24 b
F4(of)208 1404 y(comp)q(onen)o(ts)c(that)g(share)i(a)e(v)n(ariable)f
(or)i(tuple)f(of)g(v)n(ariables)g FV(w)t F4(.)38 b(The)21
b(in)o(terlea)o(ving)208 1454 y(case)d(generalizes)h(to)e(the)h(follo)o
(wing)d(rule,)k(in)e(whic)o(h)g FQ(N)1126 1460 y Fy(k)1165
1454 y F4(is)g(the)h(next-state)h(action)e(of)208 1504
y(comp)q(onen)o(t)f FV(k)t F4(,)i(the)g(action)e FQ(\026)703
1510 y Fy(k)741 1504 y F4(describ)q(es)j(all)d(c)o(hanges)i(to)f
FV(w)k F4(that)c(are)g(attributed)h(to)208 1553 y(some)11
b(comp)q(onen)o(t)h(other)h(than)g FV(k)t F4(,)g(the)g(tuple)g
FQ(v)967 1559 y Fy(k)1000 1553 y F4(describ)q(es)i(the)e(priv)n(ate)g
(state)g(of)f FV(k)t F4(,)h(and)208 1603 y FV(v)18 b
F4(is)c(the)g(tuple)g(formed)f(b)o(y)h(all)e(the)j FQ(v)811
1609 y Fy(k)831 1603 y F4(:)p Black Black 332 1680 a
FU(Shared-State)e(Comp)q(osition)g(Rule)26 b F4(The)14
b(four)g(conditions)p Black 391 1760 a(1.)p Black 20
w(\()p F0(8)7 b FV(k)16 b F0(2)c FV(C)24 b F4(:)18 b
FQ(v)669 1766 y Fy(k)689 1745 y FH(0)712 1760 y F4(=)12
b FQ(v)776 1766 y Fy(k)797 1760 y F4(\))23 b F0(\021)g
F4(\()p FV(v)930 1745 y FH(0)954 1760 y F4(=)12 b FV(v)t
F4(\))p .95 TeXcolorgray .95 TeXcolorgray 436 1838 1229
57 v .95 TeXcolorgray Black 444 1818 a FY(v)k FZ(is)11
b(unc)o(hanged)e(i\013)i(the)g(priv)n(ate)e(state)i Fw(v)1012
1824 y Fr(k)1043 1818 y FZ(of)g(ev)o(ery)f(comp)q(onen)o(t)e(is)k(unc)o
(hanged.)p .95 TeXcolorgray Black Black 391 1894 a F4(2.)p
Black 20 w F0(8)7 b FV(i)t FQ(;)g FV(k)16 b F0(2)11 b
FV(C)24 b F4(:)18 b FQ(N)701 1900 y Fy(k)731 1894 y F0(^)9
b F4(\()p FV(i)16 b F0(6)p F4(=)11 b FV(k)t F4(\))i F0(\))e
F4(\()p FQ(v)997 1900 y Fy(i)1011 1879 y FH(0)1034 1894
y F4(=)h FQ(v)1098 1900 y Fy(i)1112 1894 y F4(\))p .95
TeXcolorgray .95 TeXcolorgray 436 2006 1229 91 v .95
TeXcolorgray Black 444 1952 a FZ(The)g(next-state)d(action)g(of)j(an)o
(y)e(comp)q(onen)o(t)f FY(k)15 b FZ(lea)o(v)o(es)10 b(the)h(priv)n(ate)
f(state)g Fw(v)1491 1957 y Fr(i)1516 1952 y FZ(of)i(all)444
1991 y(other)e(comp)q(onen)o(ts)f FY(i)14 b FZ(unc)o(hanged.)p
.95 TeXcolorgray Black Black 391 2059 a F4(3.)p Black
20 w F0(8)7 b FV(i)t FQ(;)g FV(k)16 b F0(2)11 b FV(C)24
b F4(:)18 b FQ(N)701 2065 y Fy(k)731 2059 y F0(^)9 b
F4(\()p FV(w)816 2044 y FH(0)839 2059 y F0(6)p F4(=)j
FV(w)t F4(\))e F0(^)e F4(\()p FV(i)16 b F0(6)p F4(=)c
FV(k)t F4(\))g F0(\))f FQ(\026)1195 2065 y Fy(i)p .95
TeXcolorgray .95 TeXcolorgray 436 2165 1229 84 v .95
TeXcolorgray Black 444 2117 a FZ(A)h(step)f(of)g(an)o(y)g(comp)q(onen)o
(t)d FY(k)16 b FZ(that)10 b(c)o(hanges)g FY(w)15 b FZ(is)c(a)h
Fw(\026)1208 2122 y Fr(i)1233 2117 y FZ(step,)f(for)f(an)o(y)h(other)f
(comp)q(o-)444 2156 y(nen)o(t)h FY(i)s FZ(.)p .95 TeXcolorgray
Black Black 391 2224 a F4(4.)p Black 20 w(\()p F0(8)c
FV(k)16 b F0(2)c FV(C)24 b F4(:)18 b FQ(\026)674 2230
y Fy(k)694 2224 y F4(\))h F0(\021)g F4(\()p FV(w)828
2209 y FH(0)851 2224 y F4(=)12 b FV(w)t F4(\))p .95 TeXcolorgray
.95 TeXcolorgray 436 2302 1229 57 v .95 TeXcolorgray
Black 444 2282 a FZ(A)g(step)f(is)h(caused)d(b)o(y)i(no)g(comp)q(onen)o
(t)e(i\013)i(it)g(do)q(es)g(not)g(c)o(hange)e FY(w)t
FZ(.)p .95 TeXcolorgray Black 332 2362 a F4(imply)p Black
Black 457 2429 a(\()p F0(8)e FV(k)16 b F0(2)11 b FV(C)24
b F4(:)18 b FQ(I)679 2435 y Fy(k)716 2429 y F0(^)e FG(2)p
F4([)p FQ(N)836 2435 y Fy(k)865 2429 y F0(_)9 b F4(\()p
FQ(\026)943 2435 y FJ(k)974 2429 y F0(^)g F4(\()p FQ(v)1047
2435 y Fy(k)1067 2414 y FH(0)1090 2429 y F4(=)j FQ(v)1154
2435 y Fy(k)1175 2429 y F4(\)\)])1219 2436 y FH(h)s FJ(w)s
Fy(;)5 b(v)1293 2440 y Fp(k)1314 2436 y FH(i)1329 2429
y F4(\))604 2502 y F0(\021)24 b F4(\()p F0(8)7 b FV(k)16
b F0(2)11 b FV(C)24 b F4(:)18 b FQ(I)882 2508 y Fy(k)903
2502 y F4(\))e F0(^)g FG(2)7 b F4([)p F0(9)g FV(k)15
b F0(2)d FV(C)24 b F4(:)18 b FQ(N)1250 2508 y Fy(k)1271
2502 y F4(])1283 2509 y FH(h)s FJ(w)s Fy(;)5 b FJ(v)g
FH(i)p Black Black eop
%%Page: 147 165
147 164 bop Black 208 275 a FR(10.4.)30 b(COMPOSITION)15
b(WITH)f(SHARED)g(ST)m(A)m(TE)810 b F4(147)p 208 282
1770 2 v Black 208 391 a(Assumption)11 b(2)h(asserts)i(that)e(w)o(e)h
(ha)o(v)o(e)f(an)g(in)o(terlea)o(ving)f(sp)q(eci\014cation.)18
b(If)12 b(w)o(e)g(drop)h(that)208 441 y(assumption,)j(then)i(the)f
(righ)o(t-hand)g(side)g(of)g(the)h(conclusion)f(ma)o(y)e(not)i(b)q(e)h
(a)f(sensible)208 491 y(sp)q(eci\014cation,)g(since)g(a)f(disjunct)g
FQ(N)793 497 y Fy(k)830 491 y F4(ma)o(y)f(allo)o(w)f(steps)k(in)e(whic)
o(h)g(a)g(v)n(ariable)f(of)h(some)208 541 y(other)c(comp)q(onen)o(t)g
(assumes)g(arbitrary)g(v)n(alues.)18 b(Ho)o(w)o(ev)o(er,)12
b(if)g(eac)o(h)g FQ(N)1336 547 y Fy(k)1369 541 y F4(correctly)i(deter-)
208 591 y(mines)e(the)i(new)g(v)n(alues)g(of)f(comp)q(onen)o(t)f
FV(k)t F4('s)i(priv)n(ate)g(state)g FQ(v)1189 597 y Fy(k)1210
591 y F4(,)f(then)h(the)g(left-hand)f(side)208 640 y(will)i(b)q(e)j(a)e
(reasonable)i(sp)q(eci\014cation,)g(though)e(p)q(ossibly)h(a)g(nonin)o
(terlea)o(ving)f(one)h(\(and)208 690 y(not)c(necessarily)i(equiv)n
(alen)o(t)f(to)f(the)i(righ)o(t-hand)e(side\).)208 827
y F3(10.4.2)65 b(Comp)r(osition)22 b(with)h(Join)n(t)g(Actions)208
918 y F4(Consider)18 b(the)h(linearizable)f(memory)e(of)i(Chapter)h(5.)
31 b(As)19 b(sho)o(wn)f(in)g(the)h(picture)g(on)208 968
y(page)d(45,)f(it)h(is)g(a)g(system)g(consisting)g(of)g(a)g(collection)
g(of)f(pro)q(cessors,)k(a)d(memory)m(,)d(and)208 1018
y(an)i(in)o(terface)h(represen)o(ted)i(b)o(y)d(the)h(v)n(ariable)e
FV(memInt)t F4(.)22 b(W)m(e)15 b(no)o(w)g(tak)o(e)g(it)g(to)h(b)q(e)f
(a)h(t)o(w)o(o-)208 1068 y(comp)q(onen)o(t)11 b(system,)i(where)g(the)g
(set)h(of)e(pro)q(cessors)i(forms)e(one)g(comp)q(onen)o(t,)g(called)g
(the)208 1118 y FV(envir)n(onment)p F4(,)i(and)g(the)h(memory)d(is)i
(the)h(other)g(comp)q(onen)o(t.)k(Let's)c(neglect)g(hiding)e(for)208
1167 y(no)o(w)h(and)i(consider)g(only)e(the)i(in)o(ternal)f(sp)q
(eci\014cation,)h(with)f(all)f(v)n(ariables)h(visible.)21
b(W)m(e)208 1217 y(w)o(an)o(t)13 b(to)h(write)g(the)g(sp)q
(eci\014cation)h(in)e(the)i(form)p Black Black 332 1300
a(\()p FV(IE)22 b F0(^)15 b FG(2)p F4([)p FV(NE)5 b F4(])576
1306 y FJ(vE)620 1300 y F4(\))21 b F0(^)f F4(\()p FV(IM)j
F0(^)16 b FG(2)p F4([)p FV(NM)7 b F4(])971 1306 y FJ(vM)1023
1300 y F4(\))p Black -831 w(\(10.5\))p Black 208 1383
a(where)18 b FV(E)k F4(refers)c(to)f(the)h(en)o(vironmen)o(t)d(comp)q
(onen)o(t)i(\(the)g(pro)q(cessors\))j(and)c FV(M)24 b
F4(to)17 b(the)208 1433 y(memory)c(comp)q(onen)o(t.)22
b(The)16 b(tuple)f FV(vE)21 b F4(of)15 b(v)n(ariables)g(includes)h
FV(memInt)j F4(and)d(the)g(v)n(ari-)208 1483 y(ables)h(of)g(the)i(en)o
(vironmen)o(t)d(comp)q(onen)o(t;)i(the)h(tuple)e FV(vM)25
b F4(includes)18 b FV(memInt)k F4(and)17 b(the)208 1533
y(v)n(ariables)g(of)h(the)i(memory)c(comp)q(onen)o(t.)31
b(W)m(e)18 b(m)o(ust)g(c)o(ho)q(ose)h(the)h(form)o(ulas)c
FV(IE)5 b F4(,)19 b FV(NE)5 b F4(,)208 1583 y(etc.)15
b(so)g(that)g(\(10.5\),)e(with)i(in)o(ternal)f(v)n(ariables)h(hidden,)f
(is)h(equiv)n(alen)o(t)f(to)h(the)g(memory)208 1632 y(sp)q
(eci\014cation)f FV(Sp)n(e)n(c)j F4(of)c(mo)q(dule)g
FV(Memory)k F4(on)d(page)g(53.)270 1682 y(In)i(the)g(memory)e(sp)q
(eci\014cation,)j(comm)o(unicati)o(on)c(b)q(et)o(w)o(een)18
b(the)e(en)o(vironmen)o(t)f(and)208 1732 y(the)f(memory)d(is)j(describ)
q(ed)i(b)o(y)e(an)f(action)h(of)f(the)h(form)p Black
Black 332 1815 a FV(Send)t F4(\()p FV(p)s FQ(;)h FV(d)t
FQ(;)f FV(memInt)t FQ(;)f FV(memInt)853 1798 y FH(0)865
1815 y F4(\))41 b(or)h FV(R)n(eply)t F4(\()p FV(p)s FQ(;)13
b FV(d)t FQ(;)h FV(memInt)t FQ(;)f FV(memInt)1533 1798
y FH(0)1545 1815 y F4(\))208 1898 y(where)d FV(Send)k
F4(and)c FV(R)n(eply)j F4(are)c(unsp)q(eci\014ed)i(op)q(erators)g
(declared)f(in)f(the)g FV(MemoryInterfac)n(e)208 1948
y F4(mo)q(dule)18 b(\(page)h(48\).)35 b(The)20 b(sp)q(eci\014cation)g
(sa)o(ys)g(nothing)f(ab)q(out)g(the)h(actual)g(v)n(alue)e(of)208
1998 y FV(memInt)t F4(.)g(So,)13 b(not)g(only)g(do)g(w)o(e)h(not)g(kno)
o(w)f(ho)o(w)g(to)h(split)f FV(memInt)18 b F4(in)o(to)12
b(t)o(w)o(o)i(parts)g(that)208 2047 y(are)i(eac)o(h)h(c)o(hanged)f(b)o
(y)g(only)g(one)g(of)g(the)g(comp)q(onen)o(ts,)g(w)o(e)h(don't)e(ev)o
(en)i(kno)o(w)f(exactly)208 2097 y(ho)o(w)d FV(memInt)18
b F4(c)o(hanges.)270 2147 y(The)f(tric)o(k)h(to)f(writing)f(the)i(sp)q
(eci\014cation)g(as)f(a)g(comp)q(osition)e(is)i(to)g(put)h(the)g
FV(Send)208 2197 y F4(and)d FV(R)n(eply)k F4(actions)c(in)g(the)g
(next-state)i(actions)e(of)g(b)q(oth)g(comp)q(onen)o(ts.)22
b(W)m(e)15 b(represen)o(t)208 2247 y(the)j(sending)g(of)g(a)f(v)n(alue)
h(o)o(v)o(er)f FV(memInt)22 b F4(as)c(a)g FV(joint)g(action)k
F4(p)q(erformed)17 b(b)o(y)h(b)q(oth)g(the)208 2297 y(memory)11
b(and)j(the)g(en)o(vironmen)o(t.)j(The)d(next-state)i(actions)d(ha)o(v)
o(e)h(the)h(follo)o(wing)c(form:)p Black Black 332 2384
a FV(NM)435 2360 y FI(\001)430 2384 y F4(=)23 b F0(9)7
b FV(p)15 b F0(2)c FV(Pr)n(o)n(c)20 b F4(:)e FV(MR)n(qst)t
F4(\()p FV(p)s F4(\))f F0(_)f FV(MRsp)s F4(\()p FV(p)s
F4(\))g F0(_)g FV(MInternal)t F4(\()p FV(p)s F4(\))332
2452 y FV(NE)435 2429 y FI(\001)430 2452 y F4(=)23 b
F0(9)7 b FV(p)15 b F0(2)c FV(Pr)n(o)n(c)20 b F4(:)e FV(ER)n(qst)t
F4(\()p FV(p)s F4(\))f F0(_)f FV(ERsp)s F4(\()p FV(p)s
F4(\))p Black Black eop
%%Page: 148 166
148 165 bop Black 208 275 a F4(148)766 b FR(CHAPTER)14
b(10.)31 b(COMPOSING)15 b(SPECIFICA)m(TIONS)p 208 282
1770 2 v Black 208 391 a F4(where)c(an)e FV(MR)n(qst)t
F4(\()p FV(p)s F4(\))q F0(^)q FV(ER)n(qst)t F4(\()p FV(p)s
F4(\))j(step)f(represen)o(ts)h(the)f(sending)f(of)f(a)h(request)i(b)o
(y)e(pro)q(ces-)208 441 y(sor)f FV(p)k F4(\(part)d(of)f(the)h(en)o
(vironmen)o(t\))e(to)i(the)g(memory)m(,)d(an)i FV(MRsp)s
F4(\()p FV(p)s F4(\))q F0(^)q FV(ERsp)s F4(\()p FV(p)s
F4(\))g(step)i(repre-)208 491 y(sen)o(ts)i(the)f(sending)h(of)e(a)h
(reply)g(b)o(y)g(the)h(memory)c(to)j(pro)q(cessor)i FV(p)s
F4(,)e(and)g(an)f FV(MInternal)t F4(\()p FV(p)s F4(\))208
541 y(step)18 b(is)f(an)g(in)o(ternal)g(step)h(of)f(the)h(memory)d
(comp)q(onen)o(t)i(that)g(p)q(erforms)g(the)h(request.)208
591 y(\(There)d(are)f(no)g(in)o(ternal)f(steps)i(of)f(the)g(en)o
(vironmen)o(t.\))270 640 y(The)19 b(sending)h(of)e(a)h(reply)h(is)f
(con)o(trolled)g(b)o(y)g(the)g(memory)m(,)f(whic)o(h)h(c)o(ho)q(oses)h
(what)208 690 y(v)n(alue)12 b(is)h(sen)o(t)i(and)e(when)h(it)f(is)g
(sen)o(t.)19 b(The)13 b(enabling)g(condition)f(and)i(the)g(v)n(alue)e
(sen)o(t)i(are)208 740 y(therefore)j(sp)q(eci\014ed)g(b)o(y)f(the)g
FV(MRsp)s F4(\()p FV(p)s F4(\))h(action.)23 b(Let's)16
b(tak)o(e)g(the)h(in)o(ternal)e(v)n(ariables)g(of)208
790 y(the)i(memory)c(comp)q(onen)o(t)j(to)g(b)q(e)h(the)g(same)f(v)n
(ariables)f FV(mem)s F4(,)i FV(ctl)t F4(,)f(and)h FV(buf)25
b F4(as)16 b(in)g(the)208 840 y(in)o(ternal)g(monolithic)d(memory)h(sp)
q(eci\014cation)j(of)f(mo)q(dule)f FV(InternalMemory)20
b F4(on)d(pages)208 889 y(52)c(and)h(53.)j(W)m(e)d(can)g(then)h(let)f
FV(MRsp)s F4(\()p FV(p)s F4(\))g(b)q(e)h(the)f(same)f(as)h(the)h
(action)f FV(Rsp)s F4(\()p FV(p)s F4(\))g(de\014ned)208
939 y(in)h(that)i(mo)q(dule.)23 b(The)17 b FV(ERsp)s
F4(\()p FV(p)s F4(\))g(action)e(should)h(alw)o(a)o(ys)g(b)q(e)g
(enabled,)h(and)f(it)g(should)208 989 y(allo)o(w)11 b(an)o(y)h(legal)g
(resp)q(onse)i(to)f(b)q(e)g(sen)o(t.)19 b(A)12 b(legal)g(resp)q(onse)j
(is)d(an)h(elemen)o(t)f(of)g FV(V)m(al)17 b F4(or)12
b(the)208 1039 y(sp)q(ecial)i(v)n(alue)f FV(NoV)m(al)t
F4(,)g(so)h(w)o(e)g(can)g(de\014ne)h FV(ERsp)s F4(\()p
FV(p)s F4(\))f(to)g(equal)1215 1024 y FS(4)p Black Black
332 1122 a F0(^)g(9)7 b FV(rsp)13 b F0(2)f FV(V)m(al)h
F0([)c(f)p FV(NoV)m(al)t F0(g)17 b F4(:)h FV(R)n(eply)t
F4(\()p FV(p)s FQ(;)c FV(rsp)s FQ(;)e FV(memInt)t FQ(;)i
FV(memInt)1394 1107 y FH(0)1405 1122 y F4(\))332 1172
y F0(^)g FQ(:)7 b(:)g(:)208 1253 y F4(where)12 b(the)h(\\)p
FQ(:)7 b(:)g(:)n F4(")12 b(describ)q(es)h(the)g(new)f(v)n(alues)g(of)f
(the)h(en)o(vironmen)o(t's)f(in)o(ternal)g(v)n(ariables.)270
1303 y(The)18 b(sending)h(of)e(a)h(request)i(is)e(con)o(trolled)g(b)o
(y)f(the)i(en)o(vironmen)o(t,)f(whic)o(h)g(c)o(ho)q(oses)208
1352 y(what)f(v)n(alue)f(is)h(sen)o(t)h(and)g(when)f(it)g(is)g(sen)o
(t.)29 b(Hence,)19 b(the)f(enabling)f(condition)f(should)208
1402 y(b)q(e)e(part)h(of)f(the)g FV(ER)n(qst)t F4(\()p
FV(p)s F4(\))h(action.)k(In)14 b(the)h(monolithic)c(sp)q(eci\014cation)
k(of)f(the)h FV(Internal)t F4(-)208 1452 y FV(Memory)21
b F4(mo)q(dule,)16 b(that)i(enabling)f(condition)g(w)o(as)g
FV(ctl)t F4([)p FV(p)s F4(])g(=)h(\\)p FD(rdy)p F4(".)29
b(Ho)o(w)o(ev)o(er,)18 b(if)f FV(ctl)208 1502 y F4(is)f(an)g(in)o
(ternal)g(v)n(ariable)f(of)g(the)i(memory)m(,)d(it)i(can't)g(also)g
(app)q(ear)g(in)g(the)h(en)o(vironmen)o(t)208 1552 y(sp)q
(eci\014cation.)29 b(W)m(e)18 b(therefore)h(ha)o(v)o(e)e(to)g(add)h(a)f
(new)h(v)n(ariable)e(whose)j(v)n(alue)e(indicates)208
1602 y(whether)k(a)f(pro)q(cessor)i(is)e(allo)o(w)o(ed)e(to)i(send)h(a)
f(new)h(request.)38 b(Let's)20 b(use)h(a)f(Bo)q(olean)208
1651 y(v)n(ariable)13 b FV(r)n(dy)t F4(,)h(where)i FV(r)n(dy)t
F4([)p FV(p)s F4(])d(is)h(true)i(i\013)e(pro)q(cessor)i
FV(p)i F4(can)d(send)g(a)g(request.)21 b(The)16 b(v)n(alue)208
1701 y(of)i FV(r)n(dy)t F4([)p FV(p)s F4(])f(is)i(set)h(false)f(when)g
FV(p)j F4(sends)e(a)f(request)i(and)d(is)h(set)h(true)g(again)e(when)h
(the)208 1751 y(corresp)q(onding)h(resp)q(onse)h(to)e
FV(p)j F4(is)d(sen)o(t.)35 b(W)m(e)18 b(can)i(therefore)h(de\014ne)f
FV(ER)n(qst)t F4(\()p FV(p)s F4(\),)g(and)208 1801 y(complete)13
b(the)h(de\014nition)g(of)f FV(ERsp)s F4(\()p FV(p)s
F4(\),)h(as)g(follo)o(ws:)p Black Black 332 1890 a FV(ER)n(qst)t
F4(\()p FV(p)s F4(\))526 1867 y FI(\001)521 1890 y F4(=)24
b F0(^)13 b FV(r)n(dy)t F4([)p FV(p)s F4(])577 1943 y
F0(^)g(9)7 b FV(r)n(e)n(q)15 b F0(2)c FV(MR)n(e)n(q)23
b F4(:)18 b FV(Send)t F4(\()p FV(p)s FQ(;)c FV(r)n(e)n(q)t
FQ(;)f FV(memInt)t FQ(;)g FV(memInt)1458 1928 y FH(0)1470
1943 y F4(\))577 1997 y F0(^)g FV(r)n(dy)679 1982 y FH(0)702
1997 y F4(=)f([)p FV(r)n(dy)18 b FP(ex)o(cept)i F4(!)s([)p
FV(p)s F4(])10 b(=)i FP(f)l(alse)q F4(])332 2073 y FV(ERsp)s
F4(\()p FV(p)s F4(\))526 2050 y FI(\001)521 2073 y F4(=)24
b F0(^)13 b(9)7 b FV(rsp)14 b F0(2)d FV(V)m(al)i F0([)c(f)p
FV(NoV)m(al)t F0(g)18 b F4(:)681 2123 y FV(R)n(eply)t
F4(\()p FV(p)s FQ(;)13 b FV(rsp)s FQ(;)f FV(memInt)t
FQ(;)i FV(memInt)1246 2108 y FH(0)1258 2123 y F4(\))577
2176 y F0(^)f FV(r)n(dy)679 2161 y FH(0)702 2176 y F4(=)f([)p
FV(r)n(dy)18 b FP(ex)o(cept)i F4(!)s([)p FV(p)s F4(])10
b(=)i FP(tr)o(ue)p F4(])208 2260 y(The)f(memory's)e FV(MR)n(qst)t
F4(\()p FV(p)s F4(\))j(action)f(is)g(the)h(same)e(as)i(the)g
FV(R)n(e)n(q)t F4(\()p FV(p)s F4(\))f(action)g(of)g(the)h
FV(Internal)t F4(-)208 2309 y FV(Memory)17 b F4(mo)q(dule,)12
b(except)j(without)f(the)g(enabling)g(condition)f FV(ctl)t
F4([)p FV(p)s F4(])d(=)i(\\)p FD(rdy)p F4(".)p Black
208 2346 576 2 v 254 2373 a FK(4)271 2385 y FZ(The)g(b)q(ound)f(on)g
(the)h FW(9)17 b FZ(isn't)12 b(necessary)m(.)j(W)m(e)d(can)f(let)h(the)
f(pro)q(cessor)f(accept)h(an)o(y)g(v)n(alue,)g(not)g(just)208
2424 y(a)f(legal)g(one,)g(b)o(y)h(taking)e FW(9)c FY(rsp)12
b FZ(:)e FY(R)n(eply)s FZ(\()p FY(p)r Fw(;)i FY(rsp)r
Fw(;)g FY(memInt)s Fw(;)g FY(memInt)1137 2413 y FX(0)1148
2424 y FZ(\))f(as)g(the)f(\014rst)g(conjunct.)j(Ho)o(w)o(ev)o(er,)208
2464 y(it's)e(generally)e(b)q(etter)g(to)j(use)f(b)q(ounded)e(quan)o
(ti\014ers)f(when)j(p)q(ossible.)p Black Black Black
eop
%%Page: 149 167
149 166 bop Black 208 275 a FR(10.4.)30 b(COMPOSITION)15
b(WITH)f(SHARED)g(ST)m(A)m(TE)810 b F4(149)p 208 282
1770 2 v Black 270 391 a(Finally)m(,)10 b(the)j(memory's)c(in)o(ternal)
j(action)g FV(MInternal)t F4(\()p FV(p)s F4(\))g(is)g(the)h(same)f(as)g
(the)h FV(Do)s F4(\()p FV(p)s F4(\))208 441 y(action)g(of)g(the)i
FV(InternalMemory)i F4(mo)q(dule.)270 491 y(The)10 b(rest)g(of)f(the)h
(sp)q(eci\014cation)g(is)f(easy)m(.)16 b(The)10 b(tuples)g
FV(vE)k F4(and)9 b FV(vM)17 b F4(are)9 b F0(h)s FV(memInt)t
FQ(;)14 b FV(r)n(dy)7 b F0(i)208 541 y F4(and)17 b F0(h)s
FV(memInt)t FQ(;)d FV(mem)s FQ(;)f FV(ctl)t FQ(;)g FV(buf)g
F0(i)p F4(,)k(resp)q(ectiv)o(ely)m(.)29 b(De\014ning)17
b(the)h(initial)d(predicates)k FV(IE)208 591 y F4(and)e
FV(IM)24 b F4(is)17 b(straigh)o(tforw)o(ard,)g(except)h(for)f(the)h
(decision)g(of)e(where)j(to)e(put)g(the)h(initial)208
640 y(condition)d FV(memInt)20 b F0(2)15 b FV(InitMemInt)t
F4(.)26 b(W)m(e)16 b(can)g(put)h(it)f(in)g(either)h FV(IE)k
F4(or)c FV(IM)7 b F4(,)16 b(in)g(b)q(oth,)208 690 y(or)j(else)g(in)g(a)
g(separate)h(conjunct)g(that)f(b)q(elongs)g(to)g(neither)h(comp)q(onen)
o(t's)e(sp)q(eci\014ca-)208 740 y(tion.)i(Let's)c(put)f(it)f(in)h
FV(IM)7 b F4(,)14 b(whic)o(h)h(then)h(equals)f(the)g(initial)e
(predicate)j FV(IInit)j F4(from)13 b(the)208 790 y FV(InternalMemory)g
F4(mo)q(dule.)j(The)11 b(\014nal)e(en)o(vironmen)o(t)g(sp)q
(eci\014cation)i(is)f(obtained)g(b)o(y)g(hid-)208 840
y(ing)15 b FV(r)n(dy)20 b F4(in)c(its)h(in)o(ternal)f(sp)q
(eci\014cation;)i(the)f(\014nal)f(memory)e(comp)q(onen)o(t)i(sp)q
(eci\014cation)208 889 y(is)e(obtained)g(b)o(y)h(hiding)e
FV(mem)s F4(,)h FV(ctl)t F4(,)g(and)h FV(buf)23 b F4(in)14
b(its)h(in)o(ternal)f(sp)q(eci\014cation.)20 b(The)15
b(com-)208 939 y(plete)e(sp)q(eci\014cation)g(app)q(ears)h(in)e(Figure)
h(10.2)e(on)i(the)g(next)g(page.)18 b(I)12 b(ha)o(v)o(e)h(not)g(b)q
(othered)208 989 y(to)j(de\014ne)i FV(IM)7 b F4(,)18
b FV(MRsp)s F4(\()p FV(p)s F4(\),)g(or)f FV(MInternal)t
F4(\()p FV(p)s F4(\),)g(since)h(they)g(equal)e FV(IInit)t
F4(,)i FV(Rsp)s F4(\()p FV(p)s F4(\),)f(and)208 1039
y FV(Do)s F4(\()p FV(p)s F4(\))d(from)e(the)i FV(InternalMemory)k
F4(mo)q(dule,)12 b(resp)q(ectiv)o(ely)m(.)270 1089 y(What)j(w)o(e'v)o
(e)g(just)h(done)f(for)g(the)h(en)o(vironmen)o(t-mem)o(ory)d(system)i
(generalizes)h(nat-)208 1139 y(urally)c(to)i(join)o(t-action)e(sp)q
(eci\014cations)i(of)f(an)o(y)g(t)o(w)o(o-comp)q(onen)o(t)g(system)g
(in)g(whic)o(h)h(part)208 1188 y(of)h(the)i(state)h(cannot)e(b)q(e)h
(considered)h(to)e(b)q(elong)g(to)h(either)g(comp)q(onen)o(t.)25
b(It)16 b(also)g(gen-)208 1238 y(eralizes)f(to)f(systems)h(in)f(whic)o
(h)g(an)o(y)g(n)o(um)o(b)q(er)g(of)g(comp)q(onen)o(ts)g(share)h(some)f
(part)g(of)g(the)208 1288 y(state.)24 b(F)m(or)15 b(example,)f(supp)q
(ose)j(w)o(e)f(w)o(an)o(t)f(to)h(write)g(a)f(comp)q(osite)g(sp)q
(eci\014cation)h(of)f(the)208 1338 y(linearizable)h(memory)e(system)i
(in)h(whic)o(h)f(eac)o(h)i(pro)q(cessor)g(is)f(a)f(separate)i(comp)q
(onen)o(t.)208 1388 y(The)d(sp)q(eci\014cation)g(of)f(the)h(memory)d
(comp)q(onen)o(t)i(w)o(ould)f(b)q(e)i(the)h(same)d(as)i(b)q(efore.)20
b(The)208 1437 y(next-state)15 b(action)e(of)g(pro)q(cessor)j
FV(p)h F4(w)o(ould)c(no)o(w)g(b)q(e)p Black Black 332
1520 a FV(ER)n(qst)t F4(\()p FV(p)s F4(\))j F0(_)g FV(ERsp)s
F4(\()p FV(p)s F4(\))h F0(_)f FV(OtherPr)n(o)n(c)r F4(\()p
FV(p)s F4(\))208 1603 y(where)e FV(ER)n(qst)t F4(\()p
FV(p)s F4(\))g(and)f FV(ERsp)s F4(\()p FV(p)s F4(\))g(are)h(the)g(same)
f(as)g(ab)q(o)o(v)o(e,)g(and)g(an)g FV(OtherPr)n(o)n(c)r
F4(\()p FV(p)s F4(\))g(step)208 1653 y(represen)o(ts)19
b(the)e(sending)f(of)g(a)g(request)i(b)o(y)m(,)e(or)g(a)g(resp)q(onse)i
(to,)f(some)e(pro)q(cessor)j(other)208 1703 y(than)c
FV(p)s F4(.)k(Action)c FV(OtherPr)n(o)n(c)r F4(\()p FV(p)s
F4(\))g(represen)o(ts)i FV(p)s F4('s)e(participation)f(in)h(the)g(join)
o(t)f(action)h(b)o(y)208 1753 y(whic)o(h)k(another)g(pro)q(cessor)i
FV(q)i F4(comm)o(unicates)17 b(with)h(the)g(memory)e(comp)q(onen)o(t.)
31 b(It)18 b(is)208 1803 y(de\014ned)d(to)e(equal)p Black
Black 332 1886 a F0(9)7 b FV(q)15 b F0(2)d FV(Pr)n(o)n(c)d
F0(n)e(f)p FV(p)s F0(g)17 b F4(:)h F0(_)c(9)7 b FV(r)n(e)n(q)14
b F0(2)d FV(MR)n(e)n(q)23 b F4(:)18 b FV(Send)t F4(\()p
FV(q)t FQ(;)c FV(r)n(e)n(q)t FQ(;)f FV(memInt)t FQ(;)g
FV(memInt)1548 1871 y FH(0)1560 1886 y F4(\))668 1943
y F0(_)h(9)7 b FV(rsp)13 b F0(2)f FV(V)m(al)h F0([)8
b(f)p FV(NoV)m(al)t F0(g)18 b F4(:)772 1993 y FV(R)n(eply)t
F4(\()p FV(q)t FQ(;)13 b FV(rsp)s FQ(;)g FV(memInt)t
FQ(;)g FV(memInt)1336 1978 y FH(0)1348 1993 y F4(\))208
2074 y(This)18 b(example)f(is)h(rather)i(silly)d(b)q(ecause)j(eac)o(h)f
(pro)q(cessor)h(m)o(ust)e(participate)g(in)g(com-)208
2124 y(m)o(unication)12 b(actions)j(that)g(concern)h(only)e(other)i
(comp)q(onen)o(ts.)k(It)15 b(w)o(ould)f(b)q(e)i(b)q(etter)g(to)208
2174 y(c)o(hange)i(the)g(in)o(terface)g(to)g(mak)o(e)e
FV(memInt)22 b F4(an)17 b(arra)o(y)m(,)h(with)f(comm)o(unication)d(b)q
(et)o(w)o(een)208 2223 y(pro)q(cessor)h FV(p)i F4(and)d(the)g(memory)e
(represen)o(ted)17 b(b)o(y)c(a)h(c)o(hange)g(to)g FV(memInt)t
F4([)p FV(p)s F4(].)j(A)d(sensible)208 2273 y(example)f(w)o(ould)h
(require)i(that)f(a)g(join)o(t)f(action)h(represen)o(t)i(a)e(true)h(in)
o(teraction)e(b)q(et)o(w)o(een)208 2323 y(all)f(the)i(comp)q(onen)o
(ts|for)f(example,)f(a)h(barrier)i(sync)o(hronization)e(op)q(eration)h
(in)f(whic)o(h)208 2373 y(the)d(comp)q(onen)o(ts)g(w)o(ait)f(un)o(til)g
(they)h(are)g(all)f(ready)h(and)g(then)g(p)q(erform)f(a)h(sync)o
(hronization)208 2423 y(step)j(together.)p Black Black
eop
%%Page: 150 168
150 167 bop Black 208 275 a F4(150)766 b FR(CHAPTER)14
b(10.)31 b(COMPOSING)15 b(SPECIFICA)m(TIONS)p 208 282
1770 2 v Black Black Black Black 188 394 2 25 v 190 371
458 2 v 661 378 a FP(module)g FV(JointA)n(ctionMemory)p
1206 371 V 1664 394 2 25 v 208 436 a FP(extends)h FV(MemoryInterfac)n
(e)p Black Black 230 502 V 232 479 347 2 v 593 486 a
FP(module)g FV(InnerEnvir)n(onmentComp)n(onent)p 1318
479 V 1665 502 2 25 v 250 544 a FP(v)l(ariable)h FV(r)n(dy)250
613 y(IE)338 590 y FI(\001)334 613 y F4(=)35 b FV(r)n(dy)15
b F4(=)c([)p FV(p)j F0(2)d FV(Pr)n(o)n(c)j F0(7!)d FP(tr)o(ue)p
F4(])250 682 y FV(ER)n(qst)t F4(\()p FV(p)s F4(\))444
659 y FI(\001)439 682 y F4(=)24 b F0(^)14 b FV(r)n(dy)t
F4([)p FV(p)s F4(])495 732 y F0(^)g(9)7 b FV(r)n(e)n(q)15
b F0(2)c FV(MR)n(e)n(q)23 b F4(:)18 b FV(Send)t F4(\()p
FV(p)s FQ(;)c FV(r)n(e)n(q)t FQ(;)f FV(memInt)t FQ(;)g
FV(memInt)1377 717 y FH(0)1389 732 y F4(\))495 782 y
F0(^)h FV(r)n(dy)598 767 y FH(0)621 782 y F4(=)e([)p
FV(r)n(dy)18 b FP(ex)o(cept)h F4(!)s([)p FV(p)s F4(])11
b(=)h FP(f)l(alse)q F4(])250 851 y FV(ERsp)s F4(\()p
FV(p)s F4(\))444 827 y FI(\001)439 851 y F4(=)24 b F0(^)14
b(9)7 b FV(rsp)14 b F0(2)d FV(V)m(al)i F0([)c(f)p FV(NoV)m(al)t
F0(g)18 b F4(:)g FV(R)n(eply)t F4(\()p FV(p)s FQ(;)13
b FV(rsp)s FQ(;)g FV(memInt)t FQ(;)g FV(memInt)1557 836
y FH(0)1569 851 y F4(\))495 901 y F0(^)h FV(r)n(dy)598
886 y FH(0)621 901 y F4(=)e([)p FV(r)n(dy)18 b FP(ex)o(cept)h
F4(!)s([)p FV(p)s F4(])11 b(=)h FP(tr)o(ue)p F4(])250
970 y FV(NE)353 946 y FI(\001)349 970 y F4(=)34 b F0(9)7
b FV(p)15 b F0(2)c FV(Pr)n(o)n(c)21 b F4(:)d FV(ER)n(qst)t
F4(\()p FV(p)s F4(\))9 b F0(_)g FV(ERsp)s F4(\()p FV(p)s
F4(\))250 1039 y FV(IESp)n(e)n(c)414 1015 y FI(\001)410
1039 y F4(=)34 b FV(IE)15 b F0(^)9 b FG(2)p F4([)p FV(NE)c
F4(])691 1046 y FH(h)s FJ(memInt)s Fy(;)t FJ(r)n(dy)t
FH(i)p 230 1060 V 232 1060 1432 2 v 1664 1060 2 25 v
Black Black 230 1154 V 232 1131 389 2 v 635 1138 a FP(module)16
b FV(InnerMemoryComp)n(onent)p 1275 1131 V 1664 1154
2 25 v 250 1196 a FP(extends)g FV(InternalMemory)250
1265 y(MR)n(qst)t F4(\()p FV(p)s F4(\))453 1241 y FI(\001)448
1265 y F4(=)24 b F0(^)14 b(9)7 b FV(r)n(e)n(q)15 b F0(2)c
FV(MR)n(e)n(q)23 b F4(:)18 b F0(^)c FV(Send)t F4(\()p
FV(p)s FQ(;)h FV(r)n(e)n(q)t FQ(;)d FV(memInt)t FQ(;)i
FV(memInt)1429 1250 y FH(0)1440 1265 y F4(\))836 1315
y F0(^)g FV(buf)941 1300 y FH(0)964 1315 y F4(=)e([)p
FV(buf)24 b FP(ex)o(cept)19 b F4(!)s([)p FV(p)s F4(])11
b(=)h FV(r)n(e)n(q)t F4(])836 1365 y F0(^)i FV(ctl)926
1349 y FH(0)949 1365 y F4(=)e([)p FV(ctl)19 b FP(ex)o(cept)g
F4(!)s([)p FV(p)s F4(])11 b(=)g(\\)p FD(busy)p F4(")q(])504
1414 y F0(^)j FP(unchanged)j FV(mem)250 1483 y(NM)364
1460 y FI(\001)359 1483 y F4(=)35 b F0(9)7 b FV(p)15
b F0(2)c FV(Pr)n(o)n(c)20 b F4(:)e FV(MR)n(qst)t F4(\()p
FV(p)s F4(\))10 b F0(_)f FV(Do)s F4(\()p FV(p)s F4(\))g
F0(_)g FV(Rsp)s F4(\()p FV(p)s F4(\))250 1552 y FV(IMSp)n(e)n(c)423
1529 y FI(\001)419 1552 y F4(=)35 b FV(IInit)13 b F0(^)8
b FG(2)p F4([)p FV(NM)f F4(])747 1559 y FH(h)s FJ(memInt)s
Fy(;)t FJ(mem)s Fy(;)e FJ(ctl)s Fy(;)t FJ(buf)k FH(i)p
230 1573 V 232 1573 1432 2 v 1664 1573 2 25 v 208 1643
a FV(IEnv)t F4(\()p FV(r)n(dy)t F4(\))431 1619 y FI(\001)426
1643 y F4(=)35 b FP(inst)m(ance)16 b FV(InnerEnvir)n(onmentComp)n
(onent)208 1712 y(IMem)s F4(\()p FV(mem)s FQ(;)e FV(ctl)t
FQ(;)f FV(buf)c F4(\))640 1688 y FI(\001)635 1712 y F4(=)35
b FP(inst)m(ance)16 b FV(InnerMemoryComp)n(onent)208
1781 y(Sp)n(e)n(c)328 1757 y FI(\001)323 1781 y F4(=)35
b F0(^)432 1779 y(9)-22 b(9)g(9)432 1781 y(9)g(9)g(9)8
b FV(r)n(dy)22 b F4(:)17 b FV(IEnv)t F4(\()p FV(r)n(dy)t
F4(\))s(!)s FV(IESp)n(e)n(c)390 1831 y F0(^)432 1829
y(9)-22 b(9)g(9)432 1831 y(9)g(9)g(9)8 b FV(mem)s FQ(;)13
b FV(ctl)t FQ(;)g FV(buf)28 b F4(:)18 b FV(IMem)s F4(\()p
FV(mem)s FQ(;)c FV(ctl)t FQ(;)f FV(buf)c F4(\))s(!)s
FV(IMSp)n(e)n(c)p 188 1852 V 190 1852 1475 2 v 1665 1852
2 25 v Black 314 1942 a FU(Figure)14 b(10.2:)k F4(A)c(join)o(t-action)f
(sp)q(eci\014cation)h(of)g(a)f(linearizable)g(memory)m(.)p
Black Black 208 2208 a FN(10.5)82 b(A)27 b(Brief)f(Review)208
2299 y F4(The)15 b(basic)h(idea)f(of)g(comp)q(osing)f(sp)q
(eci\014cations)i(is)g(simple:)j(a)c(comp)q(osite)g(sp)q(eci\014cation)
208 2349 y(is)e(the)h(conjunction)g(of)f(form)o(ulas,)e(eac)o(h)j(of)f
(whic)o(h)g(can)h(b)q(e)g(considered)h(to)f(b)q(e)g(the)g(sp)q(eci-)208
2399 y(\014cation)e(of)g(a)g(separate)i(comp)q(onen)o(t.)i(This)d(c)o
(hapter)g(has)g(presen)o(ted)i(sev)o(eral)e(tec)o(hniques)208
2449 y(for)e(writing)g(a)h(sp)q(eci\014cation)h(as)f(a)f(comp)q
(osition.)16 b(Before)d(going)e(further,)h(let's)g(put)g(these)208
2499 y(tec)o(hniques)j(in)e(p)q(ersp)q(ectiv)o(e.)p Black
Black eop
%%Page: 151 169
151 168 bop Black 208 275 a FR(10.5.)30 b(A)14 b(BRIEF)g(REVIEW)1225
b F4(151)p 208 282 1770 2 v Black 208 391 a F3(10.5.1)65
b(A)22 b(T)-6 b(axonom)n(y)23 b(of)e(Comp)r(osition)208
482 y F4(W)m(e)13 b(ha)o(v)o(e)h(seen)h(three)g(di\013eren)o(t)g(w)o(a)
o(ys)f(of)f(categorizing)h(comp)q(osite)f(sp)q(eci\014cations:)p
.95 TeXcolorgray .95 TeXcolorgray 1679 694 307 244 v
.95 TeXcolorgray Black Black 128 w FZ(The)f(w)o(ord)f
FY(inter-)1687 522 y(le)n(aving)17 b FZ(is)11 b(stan-)1687
561 y(dard;)g(there)f(is)h(no)1687 601 y(common)f(terminol-)1687
640 y(ogy)h(for)g(the)g(other)1687 679 y(concepts.)p
Black .95 TeXcolorgray Black Black 208 565 a FU(In)o(terlea)o(vi)o(ng)i
(v)o(ersus)h(nonin)o(terl)o(ea)o(vi)o(ng.)p Black 18
w F4(An)e(in)o(terlea)o(ving)f(sp)q(eci\014cation)h(is)g(one)g(in)311
615 y(whic)o(h)j(eac)o(h)h(\(nonstuttering\))f(step)h(can)f(b)q(e)h
(attributed)f(to)g(exactly)g(one)g(comp)q(o-)311 665
y(nen)o(t.)21 b(A)15 b(nonin)o(terlea)o(ving)f(sp)q(eci\014cation)h
(allo)o(ws)e(steps)k(that)d(represen)o(t)j(sim)o(ulta-)311
715 y(neous)e(op)q(erations)f(of)f(t)o(w)o(o)h(or)g(more)e(di\013eren)o
(t)j(comp)q(onen)o(ts.)p Black 208 798 a FU(Disjoin)n(t-s)o(tate)e(v)o
(ersus)h(shared-state.)p Black 19 w F4(A)19 b(disjoin)o(t-state)f(sp)q
(eci\014cation)i(is)e(one)h(in)311 848 y(whic)o(h)13
b(the)g(state)g(can)f(b)q(e)h(partitioned,)f(with)g(eac)o(h)h(part)g(b)
q(elonging)e(to)i(a)f(separate)311 897 y(comp)q(onen)o(t.)22
b(A)15 b(part)h(of)f(the)g(state)i(can)e(b)q(e)h(a)f(v)n(ariable)f
FV(v)t F4(,)i(or)f(a)g(\\piece")h(of)f(that)311 947 y(v)n(ariable)c
(suc)o(h)i(as)f FV(v)t FQ(:)p FV(c)i F4(or)e FV(v)t F4([)p
FV(c)r F4(])g(for)g(some)f(\014xed)h FV(c)r F4(.)18 b(An)o(y)12
b(c)o(hange)g(to)g(a)g(comp)q(onen)o(t's)311 997 y(part)i(of)e(the)i
(state)g(is)f(attributed)h(to)f(that)g(comp)q(onen)o(t.)k(In)c(a)g
(shared-state)i(sp)q(eci-)311 1047 y(\014cation,)c(some)g(part)g(of)g
(the)h(state)g(can)g(b)q(e)f(c)o(hanged)h(b)o(y)f(steps)i(attributed)f
(to)f(more)311 1097 y(than)j(one)g(comp)q(onen)o(t.)p
Black 208 1180 a FU(Join)o(t-acti)o(on)f(v)o(ersus)h(separate-action.)p
Black 18 w F4(A)d(join)o(t-action)e(sp)q(eci\014cation)j(is)e(a)h
(nonin-)311 1229 y(terlea)o(ving)g(one)g(in)g(whic)o(h)g(some)f(step)i
(attributed)g(to)f(one)g(comp)q(onen)o(t)g(m)o(ust)f(o)q(ccur)311
1279 y(sim)o(ultaneously)i(with)h(a)g(step)i(attributed)f(to)f(another)
h(comp)q(onen)o(t.)j(A)d(separate-)311 1329 y(action)g(sp)q
(eci\014cation)g(is)g(simply)e(one)i(that)g(is)g(not)g(a)f(join)o
(t-action)g(sp)q(eci\014cation.)208 1412 y(These)20 b(are)f(indep)q
(enden)o(t)h(w)o(a)o(ys)f(of)f(classifying)g(sp)q(eci\014cations,)i
(except)h(that)d(a)h(join)o(t-)208 1462 y(action)13 b(sp)q
(eci\014cation)i(m)o(ust)e(b)q(e)h(nonin)o(terlea)o(ving.)208
1599 y F3(10.5.2)65 b(In)n(terlea)n(ving)24 b(Reconsidered)208
1690 y F4(Should)12 b(w)o(e)h(write)h(in)o(terlea)o(ving)e(or)h(nonin)o
(terlea)o(ving)f(sp)q(eci\014cations?)19 b(W)m(e)13 b(migh)o(t)e(try)i
(to)208 1740 y(answ)o(er)k(this)g(question)g(b)o(y)g(asking:)23
b(can)18 b(di\013eren)o(t)f(comp)q(onen)o(ts)g(really)f(tak)o(e)h(sim)o
(ulta-)208 1790 y(neous)e(steps?)21 b(Ho)o(w)o(ev)o(er,)14
b(this)h(question)f(mak)o(es)f(no)i(sense.)21 b(A)14
b(step)i(is)e(a)g(mathematical)208 1840 y(abstraction;)k(real)g(comp)q
(onen)o(ts)f(p)q(erform)f(op)q(erations)i(that)f(tak)o(e)g(a)g
(\014nite)h(amoun)o(t)d(of)208 1889 y(time.)h(Op)q(erations)e(p)q
(erformed)e(b)o(y)h(t)o(w)o(o)g(di\013eren)o(t)g(comp)q(onen)o(ts)g
(could)g(o)o(v)o(erlap)f(in)h(time.)208 1939 y(W)m(e)e(are)i(free)f(to)
g(represen)o(t)j(this)d(ph)o(ysical)f(situation)g(either)i(with)f(a)g
(single)f(sim)o(ultaneous)208 1989 y(step)k(of)f(the)h(t)o(w)o(o)f
(comp)q(onen)o(ts,)g(or)h(with)f(t)o(w)o(o)g(separate)i(steps.)21
b(In)15 b(the)g(latter)g(case,)g(the)208 2039 y(sp)q(eci\014cation)h
(usually)g(allo)o(ws)f(the)i(t)o(w)o(o)e(steps)j(to)e(o)q(ccur)h(in)f
(either)h(order.)26 b(\(If)16 b(the)g(t)o(w)o(o)208 2089
y(op)q(erations)c(m)o(ust)g(o)q(ccur)i(sim)o(ultaneously)m(,)c(then)j
(w)o(e)g(ha)o(v)o(e)f(written)h(a)f(join)o(t-action)g(sp)q(ec-)208
2138 y(i\014cation.\))22 b(It's)15 b(up)h(to)f(y)o(ou)g(whether)i(to)f
(write)f(an)h(in)o(terlea)o(ving)e(or)i(a)f(nonin)o(terlea)o(ving)208
2188 y(sp)q(eci\014cation.)j(Y)m(ou)c(should)f(c)o(ho)q(ose)i(whic)o
(hev)o(er)g(is)e(more)g(con)o(v)o(enien)o(t.)270 2238
y(The)f(c)o(hoice)g(is)f(not)h(completely)e(arbitrary)i(if)e(y)o(ou)h
(w)o(an)o(t)g(one)h(sp)q(eci\014cation)h(to)e(imple-)208
2288 y(men)o(t)f(another.)17 b(A)12 b(nonin)o(terlea)o(ving)e(sp)q
(eci\014cation)i(will)e(not,)h(in)g(general,)h(implem)o(en)o(t)d(an)208
2338 y(in)o(terlea)o(ving)14 b(one)h(b)q(ecause)i(the)f(nonin)o(terlea)
o(ving)e(sp)q(eci\014cation)i(will)d(allo)o(w)h(sim)o(ultane-)208
2387 y(ous)e(actions)g(that)g(the)g(in)o(terlea)o(ving)f(sp)q
(eci\014cation)i(prohibits.)k(So,)12 b(if)f(y)o(ou)g(w)o(an)o(t)h(to)g
(write)208 2437 y(a)i(lo)o(w)o(er-lev)o(el)g(sp)q(eci\014cation)i(that)
f(implem)o(en)o(ts)e(a)h(higher-lev)o(el)h(in)o(terlea)o(ving)f(sp)q
(eci\014ca-)208 2487 y(tion,)c(then)h(y)o(ou'll)d(ha)o(v)o(e)i(to)h
(use)g(an)f(in)o(terlea)o(ving)g(sp)q(eci\014cation.)17
b(As)11 b(w)o(e'v)o(e)g(seen,)g(it's)f(easy)p Black Black
eop
%%Page: 152 170
152 169 bop Black 208 275 a F4(152)766 b FR(CHAPTER)14
b(10.)31 b(COMPOSING)15 b(SPECIFICA)m(TIONS)p 208 282
1770 2 v Black 208 391 a F4(to)d(turn)i(a)e(nonin)o(terlea)o(ving)g(sp)
q(eci\014cation)h(in)o(to)g(an)f(in)o(terlea)o(ving)g(one)h(b)o(y)g
(conjoining)e(an)208 441 y(in)o(terlea)o(ving)i(assumption.)208
578 y F3(10.5.3)65 b(Join)n(t)23 b(Actions)f(Reconsidered)208
669 y F4(The)12 b(reason)h(for)f(writing)g(a)g(comp)q(osite)g(sp)q
(eci\014cation)h(is)f(to)g(separate)i(the)f(sp)q(eci\014cations)208
719 y(of)i(the)h(di\013eren)o(t)h(comp)q(onen)o(ts.)24
b(The)16 b(mixing)d(of)i(actions)h(from)e(di\013eren)o(t)j(comp)q(onen)
o(ts)208 769 y(in)c(a)g(join)o(t-action)f(sp)q(eci\014cation)i(destro)o
(ys)g(this)g(separation.)k(So,)13 b(wh)o(y)g(should)g(w)o(e)h(write)208
819 y(suc)o(h)g(a)g(sp)q(eci\014cation?)270 869 y(Join)o(t-action)e(sp)
q(eci\014cations)i(arise)f(most)f(often)h(in)f(highly)g(abstract)i
(descriptions)f(of)208 918 y(in)o(ter-comp)q(onen)o(t)e(comm)o
(unicatio)o(n.)k(In)c(writing)g(a)h(comp)q(osite)f(sp)q(eci\014cation)h
(of)g(the)g(lin-)208 968 y(earizable)f(memory)m(,)d(w)o(e)j(w)o(ere)g
(led)g(to)g(use)h(join)o(t)d(actions)i(b)q(ecause)i(of)d(the)h
(abstract)h(nature)208 1018 y(of)k(the)h(in)o(terface.)28
b(In)16 b(real)h(systems,)h(comm)o(uni)o(cation)c(o)q(ccurs)k(when)g
(one)f(comp)q(onen)o(t)208 1068 y(c)o(hanges)12 b(the)g(state)h(and)f
(another)g(comp)q(onen)o(t)f(later)h(observ)o(es)h(that)f(c)o(hange.)18
b(The)12 b(in)o(ter-)208 1118 y(face)i(describ)q(ed)h(b)o(y)f(the)g
FV(MemoryInterfac)n(e)i F4(mo)q(dule)d(abstracts)i(a)o(w)o(a)o(y)d
(those)j(t)o(w)o(o)e(steps,)208 1167 y(replacing)d(them)f(with)i(a)f
(single)g(one)g(that)h(represen)o(ts)i(instan)o(taneous)e(comm)o
(unicatio)o(n|)208 1217 y(a)k(\014ction)g(that)h(do)q(es)g(not)f(exist)
h(in)f(the)h(real)f(w)o(orld.)22 b(Since)16 b(eac)o(h)g(comp)q(onen)o
(t)f(m)o(ust)f(re-)208 1267 y(mem)o(b)q(er)g(that)j(the)g(comm)o(uni)o
(cation)c(has)k(o)q(ccurred,)h(the)f(single)f(comm)o(unication)d(step)
208 1317 y(has)k(to)g(c)o(hange)g(the)h(priv)n(ate)f(state)h(of)e(b)q
(oth)i(comp)q(onen)o(ts.)27 b(That's)17 b(wh)o(y)g(w)o(e)g(couldn't)208
1367 y(use)f(the)g(approac)o(h)g(of)f(Section)h(10.4.1)d(\(page)j
(144\),)f(whic)o(h)g(requires)i(that)e(an)o(y)h(c)o(hange)208
1417 y(to)d(the)i(shared)g(in)o(terface)f(c)o(hange)g(the)h(nonshared)f
(state)h(of)e(just)i(one)f(comp)q(onen)o(t.)270 1466
y(The)f(abstract)h(memory)d(in)o(terface)i(simpli\014es)f(the)i(sp)q
(eci\014cation,)f(allo)o(wing)e(comm)o(u-)208 1516 y(nication)16
b(to)h(b)q(e)h(represen)o(ted)i(as)d(one)g(step)h(instead)g(of)e(t)o(w)
o(o.)28 b(But)17 b(this)h(simpli\014cation)208 1566 y(comes)11
b(at)i(the)g(cost)g(of)e(blurring)h(the)h(distinction)f(b)q(et)o(w)o
(een)i(the)f(t)o(w)o(o)f(comp)q(onen)o(ts.)17 b(If)12
b(w)o(e)208 1616 y(blur)f(this)h(distinction,)f(it)g(ma)o(y)f(not)h
(mak)o(e)g(sense)i(to)e(write)h(the)h(sp)q(eci\014cation)f(as)g(the)g
(con-)208 1666 y(junction)h(of)h(separate)h(comp)q(onen)o(t)f(sp)q
(eci\014cations.)20 b(As)15 b(the)f(memory)e(system)i(example)208
1715 y(illustrates,)k(decomp)q(osing)e(the)j(system)e(in)o(to)g
(separate)i(comp)q(onen)o(ts)e(comm)o(unicating)208 1765
y(with)e(join)o(t)g(actions)h(ma)o(y)e(require)j(the)g(in)o(tro)q
(duction)f(of)f(extra)i(v)n(ariables.)24 b(There)17 b(ma)o(y)208
1815 y(o)q(ccasionally)c(b)q(e)h(a)g(go)q(o)q(d)g(reason)h(for)e
(adding)h(this)g(kind)f(of)h(complexit)o(y)e(to)i(a)g(sp)q(eci\014ca-)
208 1865 y(tion,)e(but)j(it)e(should)h(not)g(b)q(e)g(done)g(as)g(a)g
(matter)f(of)g(course.)208 2023 y FN(10.6)82 b(Liv)n(eness)25
b(and)i(Hiding)208 2139 y F3(10.6.1)65 b(Liv)n(eness)23
b(and)f(Mac)n(hine)h(Closure)208 2230 y F4(Th)o(us)18
b(far,)h(the)g(discussion)g(of)f(comp)q(osition)f(has)i(neglected)h
(liv)o(eness.)32 b(In)19 b(comp)q(osite)208 2280 y(sp)q
(eci\014cations,)f(it)f(is)g(usually)f(easy)i(to)f(sp)q(ecifying)g(liv)
o(eness)h(b)o(y)f(placing)f(fairness)i(con-)208 2330
y(ditions)g(on)g(the)i(actions)e(of)h(individual)d(comp)q(onen)o(ts.)33
b(F)m(or)18 b(example,)g(to)h(sp)q(ecify)g(an)208 2379
y(arra)o(y)c(of)f(clo)q(c)o(ks)i(that)g(all)e(k)o(eep)i(tic)o(king)e
(forev)o(er,)i(w)o(e)g(w)o(ould)e(mo)q(dify)f(the)j(sp)q(eci\014cation)
p Black Black eop
%%Page: 153 171
153 170 bop Black 208 275 a FR(10.6.)30 b(LIVENESS)15
b(AND)f(HIDING)1105 b F4(153)p 208 282 1770 2 v Black
208 391 a FV(Clo)n(ckA)o(rr)n(ay)16 b F4(of)d(\(10.2\))g(on)h(page)f
(139)h(to)f(equal)p Black Black 332 468 a F0(8)7 b FV(k)16
b F0(2)11 b FV(Clo)n(ck)23 b F4(:)415 521 y(\()p FV(hr)t
F4([)p FV(k)t F4(])12 b F0(2)f F4(1)i FQ(:)7 b(:)13 b
F4(12\))j F0(^)g FG(2)p F4([)p FV(HCN)7 b F4(\()p FV(hr)t
F4([)p FV(k)t F4(]\)])1044 528 y FJ(hr)s FS([)p FJ(k)s
FS(])1133 521 y F0(^)16 b F4(WF)1247 528 y FJ(hr)s FS([)p
FJ(k)s FS(])1322 521 y F4(\()p FV(HCN)7 b F4(\()p FV(hr)t
F4([)p FV(k)t F4(]\)\))270 595 y(When)13 b(writing)f(a)h(w)o(eak)g(or)g
(strong)h(fairness)f(form)o(ula)e(for)h(an)h(action)g
FV(A)g F4(of)g(a)f(comp)q(o-)208 645 y(nen)o(t)j FV(c)r
F4(,)g(there)h(arises)g(the)f(question)g(of)g(what)f(the)i(subscript)g
(should)f(b)q(e.)21 b(The)16 b(ob)o(vious)208 695 y(c)o(hoices)f(are)h
(\(i\))f(the)g(tuple)g FV(v)20 b F4(describing)15 b(the)h(en)o(tire)g
(sp)q(eci\014cation)f(state,)h(and)f(\(ii\))f(the)208
745 y(tuple)h FV(v)338 751 y FJ(c)374 745 y F4(describing)h(that)f
(comp)q(onen)o(t's)g(state.)24 b(The)16 b(c)o(hoice)g(can)g(matter)f
(only)g(if)f(the)208 795 y(safet)o(y)d(part)g(of)g(the)h(sp)q
(eci\014cation)g(allo)o(ws)e(the)i(system)f(to)g(reac)o(h)h(some)f
(state)h(in)f(whic)o(h)g(an)208 845 y FV(A)f F4(step)i(could)f(lea)o(v)
o(e)g FV(v)565 851 y FJ(c)596 845 y F4(unc)o(hanged)h(while)e(c)o
(hanging)g FV(v)t F4(.)18 b(Although)10 b(unlik)o(ely)m(,)g(this)h
(could)208 894 y(conceiv)n(ably)g(b)q(e)i(the)f(case)h(in)f(a)g(join)o
(t-action)e(sp)q(eci\014cation.)19 b(If)11 b(it)h(is,)g(w)o(e)g
(probably)f(don't)208 944 y(w)o(an)o(t)h(the)g(fairness)h(condition)f
(to)g(b)q(e)h(satis\014ed)g(b)o(y)f(a)g(step)i(that)e(lea)o(v)o(es)h
(the)g(comp)q(onen)o(t's)208 994 y(state)h(unc)o(hanged,)g(so)g(w)o(e)g
(w)o(ould)f(use)i(the)g(subscript)g FV(v)1105 1000 y
FJ(c)1125 994 y F4(.)270 1044 y(F)m(airness)d(conditions)g(for)g(comp)q
(osite)g(sp)q(eci\014cations)h(do)f(raise)g(one)h(imp)q(ortan)o(t)d
(ques-)208 1094 y(tion:)20 b(if)15 b(eac)o(h)h(comp)q(onen)o(t)e(sp)q
(eci\014cation)i(is)g(mac)o(hine)e(closed,)i(is)f(the)h(comp)q(osite)f
(sp)q(ec-)p .95 TeXcolorgray .95 TeXcolorgray 1679 1227
307 165 v .95 TeXcolorgray Black Black 42 w FZ(Mac)o(hine)c(clo-)1687
1133 y(sure)g(is)h(de\014ned)1687 1172 y(in)g(Section)d(8.9.2)1687
1212 y(on)i(page)g(111.)p Black .95 TeXcolorgray Black
208 1143 a F4(i\014cation)21 b(necessarily)i(mac)o(hine)d(closed?)43
b(Supp)q(ose)22 b(w)o(e)h(write)f(the)g(sp)q(eci\014cation)h(as)208
1193 y F0(8)7 b FV(k)16 b F0(2)11 b FV(C)j F4(:)7 b FV(S)403
1199 y FJ(k)434 1193 y F0(^)i FV(L)497 1199 y FJ(k)518
1193 y F4(,)14 b(where)h(eac)o(h)g(pair)e FV(S)871 1199
y FJ(k)893 1193 y FQ(;)g FV(L)944 1199 y FJ(k)979 1193
y F4(is)h(mac)o(hine)f(closed.)20 b(Let)15 b FV(S)k F4(b)q(e)c(the)g
(con-)208 1243 y(junction)f(of)g(the)i FV(S)520 1249
y FJ(k)556 1243 y F4(and)f FV(L)g F4(the)g(conjunction)g(of)f(the)i
FV(L)1124 1249 y FJ(k)1145 1243 y F4(,)f(so)g(the)g(sp)q(eci\014cation)
h(equals)208 1293 y FV(S)11 b F0(^)6 b FV(L)p F4(.)16
b(The)d(conjunction)f(of)g(safet)o(y)g(prop)q(erties)h(is)f(a)g(safet)o
(y)g(prop)q(ert)o(y)m(,)1347 1278 y FS(5)1378 1293 y
F4(so)h FV(S)k F4(is)12 b(a)g(safet)o(y)208 1343 y(prop)q(ert)o(y)m(.)
18 b(Hence,)d(w)o(e)f(can)g(ask)g(if)f(the)i(pair)e FV(S)5
b FQ(;)14 b FV(L)g F4(is)f(mac)o(hine)g(closed.)270 1392
y(In)e(general,)h FV(S)5 b FQ(;)14 b FV(L)d F4(need)i(not)f(b)q(e)g
(mac)o(hine)e(closed.)18 b(But,)12 b(for)f(an)h(in)o(terlea)o(ving)e
(comp)q(o-)208 1442 y(sition,)h(it)g(usually)h(is.)17
b(Liv)o(eness)c(prop)q(erties)g(are)g(usually)e(expressed)j(as)e(the)h
(conjunction)208 1492 y(of)e(w)o(eak)h(and)g(strong)g(fairness)h(prop)q
(erties)g(of)f(actions.)17 b(As)c(stated)g(on)f(page)g(112,)f(a)h(sp)q
(ec-)208 1542 y(i\014cation)i(is)h(mac)o(hine)f(closed)i(if)e(its)h
(liv)o(eness)h(prop)q(ert)o(y)g(is)f(the)h(conjunction)f(of)f(fairness)
208 1592 y(prop)q(erties)19 b(for)f(subactions)h(of)f(the)h(next-state)
h(action.)31 b(In)19 b(an)f(in)o(terlea)o(ving)f(comp)q(o-)208
1642 y(sition,)j(eac)o(h)h FV(S)468 1648 y FJ(k)509 1642
y F4(usually)f(has)g(the)h(form)e FV(I)944 1648 y FJ(k)978
1642 y F0(^)13 b FG(2)p F4([)p FQ(N)1095 1648 y Fy(k)1115
1642 y F4(])1127 1648 y FJ(v)1146 1652 y Ft(k)1183 1642
y F4(where)22 b(the)f FV(v)1411 1648 y FJ(k)1452 1642
y F4(satisfy)f(the)208 1691 y(h)o(yp)q(othesis)c(of)f(the)i(Comp)q
(osition)c(Rule)j(\(page)f(138\),)h(and)f(eac)o(h)i FQ(N)1314
1697 y Fy(k)1350 1691 y F4(implies)d FQ(v)1513 1697 y
Fy(i)1527 1676 y FH(0)1553 1691 y F4(=)h FQ(v)1620 1697
y Fy(i)1634 1691 y F4(,)208 1741 y(for)d(all)g FV(i)17
b F4(in)c FV(C)f F0(n)7 b(f)p FV(k)t F0(g)p F4(.)18 b(In)13
b(this)g(case,)h(the)f(Comp)q(osition)e(Rule)i(implies)e(that)i(a)g
(subaction)208 1791 y(of)j FQ(N)291 1797 y Fy(k)328 1791
y F4(is)g(also)g(a)g(subaction)h(of)f(the)h(next-state)h(action)e(of)g
FV(S)5 b F4(.)26 b(Hence,)19 b(if)c(w)o(e)i(write)g(an)208
1841 y(in)o(terlea)o(ving)12 b(comp)q(osition)f(in)i(the)h(usual)f(w)o
(a)o(y)m(,)f(and)i(w)o(e)f(write)h(mac)o(hine-closed)e(comp)q(o-)208
1891 y(nen)o(t)g(sp)q(eci\014cations)i(in)e(the)h(usual)f(w)o(a)o(y)m
(,)f(then)i(the)f(comp)q(osite)g(sp)q(eci\014cation)h(is)f(mac)o(hine)
208 1940 y(closed.)270 1990 y(It)k(is)g(not)g(so)g(easy)h(to)f(obtain)f
(a)h(mac)o(hine-closed)f(nonin)o(terlea)o(ving)g(comp)q(osition|)208
2040 y(esp)q(ecially)h(with)g(a)g(join)o(t-action)f(comp)q(osition.)24
b(W)m(e)16 b(ha)o(v)o(e)h(actually)e(seen)j(an)e(example)208
2090 y(of)g(a)h(join)o(t-action)f(sp)q(eci\014cation)i(in)f(whic)o(h)g
(eac)o(h)g(comp)q(onen)o(t)g(is)g(mac)o(hine)f(closed)i(but)208
2140 y(the)h(comp)q(osition)f(is)h(not.)34 b(In)19 b(Chapter)h(9,)g(w)o
(e)g(wrote)f(a)g(real-time)f(sp)q(eci\014cation)i(b)o(y)208
2190 y(conjoining)8 b(one)i(or)g(more)f FV(R)m(TBound)15
b F4(form)o(ulas)8 b(and)i(an)f FV(R)m(Tnow)14 b F4(form)o(ula)8
b(to)i(an)f(un)o(timed)208 2239 y(sp)q(eci\014cation.)20
b(A)15 b(pathological)e(example)g(w)o(as)i(the)g(follo)o(wing,)d(whic)o
(h)i(is)h(form)o(ula)d(\(9.2\))208 2289 y(on)h(page)h(131:)p
.95 TeXcolorgray .95 TeXcolorgray 1679 2383 307 125 v
.95 TeXcolorgray Black Black 1250 w FY(HC)j FZ(is)11
b(the)g(hour-)1687 2329 y(clo)q(c)o(k)g(sp)q(eci\014catio)o(n)1687
2368 y(from)g(Chapter)f(2.)p Black .95 TeXcolorgray Black
Black Black 332 2366 a FV(HC)26 b F0(^)21 b FV(R)m(TBound)t
F4(\()p FV(hr)704 2348 y FH(0)729 2366 y F4(=)12 b FV(hr)h
F0(\000)c F4(1)p FQ(;)14 b FV(hr)t FQ(;)f F4(0)p FQ(;)g
F4(3600\))20 b F0(^)h FV(R)m(Tnow)t F4(\()p FV(hr)t F4(\))p
Black 208 2399 576 2 v 254 2426 a FK(5)271 2438 y FZ(Recall)9
b(that)h(a)g(safet)o(y)f(prop)q(ert)o(y)f(is)j(one)f(that)f(is)h
(violated)f(b)o(y)h(a)g(b)q(eha)o(vior)e(i\013)i(it)g(is)h(violated)d
(at)i(some)208 2477 y(particular)f(p)q(oin)o(t)h(in)h(the)h(b)q(eha)o
(vior.)h(A)g(b)q(eha)o(vior)c(violates)h(a)i(conjunctio)o(n)d(of)j
(safet)o(y)e(prop)q(erties)f FY(S)1585 2483 y FE(k)1616
2477 y FZ(i\013)208 2517 y(it)i(violates)e(some)i(particular)e
FY(S)643 2523 y FE(k)661 2517 y FZ(,)j(and)e(that)h FY(S)848
2523 y FE(k)878 2517 y FZ(is)g(violated)e(at)j(some)e(sp)q(eci\014c)g
(p)q(oin)o(t.)p Black Black Black eop
%%Page: 154 172
154 171 bop Black 208 275 a F4(154)766 b FR(CHAPTER)14
b(10.)31 b(COMPOSING)15 b(SPECIFICA)m(TIONS)p 208 282
1770 2 v Black 208 391 a F4(W)m(e)e(can)h(view)f(this)h(form)o(ula)d
(as)j(the)g(conjunction)g(of)f(three)i(comp)q(onen)o(t)e(sp)q
(eci\014cations:)p Black 258 474 a(1.)p Black 20 w FV(HC)20
b F4(sp)q(eci\014es)15 b(a)f(clo)q(c)o(k,)g(represen)o(ted)i(b)o(y)e
(the)g(v)n(ariable)f FV(hr)t F4(.)p Black 258 557 a(2.)p
Black 20 w FV(R)m(TBound)t F4(\()p FV(hr)547 542 y FH(0)573
557 y F4(=)h FV(hr)g F0(\000)c F4(1)p FQ(;)j FV(hr)t
FQ(;)g F4(0)p FQ(;)g F4(3600\))h(sp)q(eci\014es)j(a)d(timer,)f
(represen)o(ted)18 b(b)o(y)c(the)311 607 y(hidden)g(\(existen)o(tially)
g(quan)o(ti\014ed\))f(timer)g(v)n(ariable.)p Black 258
690 a(3.)p Black 20 w FV(R)m(Tnow)t F4(\()p FV(hr)t F4(\))i(sp)q
(eci\014es)h(real)e(time,)e(represen)o(ted)k(b)o(y)e(the)h(v)n(ariable)
d FV(now)t F4(.)208 773 y(The)i(form)o(ula)d(is)j(a)g(join)o(t-action)e
(comp)q(osition,)f(with)j(t)o(w)o(o)f(kinds)h(of)f(join)o(t)g(actions:)
p Black 270 856 a F0(\017)p Black 20 w F4(Join)o(t)g(actions)g(of)g
(the)h(\014rst)g(and)f(second)h(comp)q(onen)o(ts)f(that)g(c)o(hange)g
(b)q(oth)h FV(hr)j F4(and)311 906 y(the)e(timer.)p Black
270 989 a F0(\017)p Black 20 w F4(Join)o(t)i(actions)h(of)f(the)h
(second)g(and)g(third)f(comp)q(onen)o(ts)g(that)h(c)o(hange)g(b)q(oth)f
(the)311 1039 y(timer)c(and)h FV(now)t F4(.)208 1122
y(The)h(\014rst)h(t)o(w)o(o)f(sp)q(eci\014cations)i(are)e(trivially)f
(mac)o(hine)g(closed)i(b)q(ecause)h(they)e(assert)i(no)208
1172 y(liv)o(eness)e(condition,)f(so)i(their)f(liv)o(eness)h(prop)q
(ert)o(y)g(is)f FP(tr)o(ue)p F4(.)22 b(The)15 b(third)g(sp)q
(eci\014cation's)208 1222 y(safet)o(y)e(prop)q(ert)o(y)i(asserts)g
(that)e FV(now)19 b F4(is)13 b(a)g(real)h(n)o(um)o(b)q(er)f(that)g(is)h
(c)o(hanged)f(only)g(b)o(y)h(steps)208 1271 y(that)f(incremen)o(t)g(it)
f(and)h(lea)o(v)o(e)g FV(hr)k F4(unc)o(hanged;)d(its)f(liv)o(eness)h
(prop)q(ert)o(y)g FV(NZ)19 b F4(asserts)c(that)208 1321
y FV(now)h F4(increases)d(without)f(b)q(ound.)17 b(An)o(y)12
b(\014nite)g(b)q(eha)o(vior)f(satisfying)g(the)h(safet)o(y)g(prop)q
(ert)o(y)208 1371 y(can)h(easily)f(b)q(e)i(extended)g(to)f(an)f
(in\014nite)h(b)q(eha)o(vior)g(satisfying)f(the)h(en)o(tire)h(sp)q
(eci\014cation,)208 1421 y(so)j(the)h(third)g(sp)q(eci\014cation)g(is)g
(also)f(mac)o(hine)f(closed.)30 b(Ho)o(w)o(ev)o(er,)18
b(as)g(w)o(e)g(observ)o(ed)g(in)208 1471 y(Section)d(9.4,)e(the)i(comp)
q(osite)f(sp)q(eci\014cation)h(is)g(Zeno,)g(meaning)e(that)h(it's)h
(not)f(mac)o(hine)208 1520 y(closed.)208 1658 y F3(10.6.2)65
b(Hiding)208 1749 y F4(Supp)q(ose)18 b(w)o(e)f(can)h(write)f(a)g(sp)q
(eci\014cation)h FV(S)23 b F4(as)17 b(the)h(comp)q(osition)d(of)i(t)o
(w)o(o)g(comp)q(onen)o(t)208 1798 y(sp)q(eci\014cations)10
b FV(S)484 1804 y FS(1)513 1798 y F4(and)f FV(S)617 1804
y FS(2)636 1798 y F4(.)17 b(Can)9 b(w)o(e)h(write)907
1796 y F0(9)-21 b(9)g(9)907 1798 y(9)g(9)g(9)6 b FV(h)11
b F4(:)d FV(S)d F4(,)10 b(the)h(sp)q(eci\014cation)f
FV(S)15 b F4(with)9 b(v)n(ariable)g FV(h)208 1848 y F4(hidden,)i(as)f
(a)h(comp)q(osition|that)d(is,)j(as)g(the)g(conjunction)g(of)f(t)o(w)o
(o)h(separate)h(comp)q(onen)o(t)208 1898 y(sp)q(eci\014cations?)21
b(If)15 b FV(h)j F4(represen)o(ts)f(state)f(that)f(is)f(accessed)k(b)o
(y)c(b)q(oth)h(comp)q(onen)o(ts,)f(then)208 1948 y(the)k(answ)o(er)h
(is)f(no.)30 b(If)17 b(the)i(t)o(w)o(o)e(comp)q(onen)o(ts)h(comm)o
(unicate)d(through)j(some)f(part)h(of)208 1998 y(the)e(state,)h(then)g
(that)f(part)g(of)f(the)i(state)f(cannot)g(b)q(e)h(made)e(in)o(ternal)g
(to)h(the)h(separate)208 2047 y(comp)q(onen)o(ts.)270
2097 y(The)e(simplest)g(situation)f(in)h(whic)o(h)g FV(h)j
F4(do)q(esn't)e(represen)o(t)h(shared)g(state)f(is)f(when)g(it)208
2147 y(o)q(ccurs)g(in)f(only)f(one)i(of)e(the)i(comp)q(onen)o(t)e(sp)q
(eci\014cations|sa)o(y)m(,)h FV(S)1273 2153 y FS(2)1292
2147 y F4(.)19 b(If)14 b FV(h)j F4(do)q(esn't)e(o)q(ccur)208
2197 y(in)e FV(S)284 2203 y FS(1)303 2197 y F4(,)g(then)i(the)f(equiv)n
(alence)p Black Black 332 2280 a(\()348 2278 y F0(9)-21
b(9)g(9)348 2280 y(9)g(9)g(9)6 b FV(h)22 b F4(:)c FV(S)482
2286 y FS(1)510 2280 y F0(^)9 b FV(S)575 2286 y FS(2)594
2280 y F4(\))35 b F0(\021)g FV(S)740 2286 y FS(1)768
2280 y F0(^)9 b F4(\()821 2278 y F0(9)-21 b(9)g(9)821
2280 y(9)g(9)g(9)6 b FV(h)22 b F4(:)c FV(S)955 2286 y
FS(2)974 2280 y F4(\))208 2363 y(pro)o(vides)c(the)g(desired)h(decomp)q
(osition.)270 2413 y(No)o(w)g(supp)q(ose)h(that)g FV(h)i
F4(o)q(ccurs)f(in)e(b)q(oth)g(comp)q(onen)o(t)g(sp)q(eci\014cations,)h
(but)g(do)q(es)g(not)208 2463 y(represen)o(t)22 b(state)f(accessed)i(b)
o(y)d(b)q(oth)h(comp)q(onen)o(ts.)37 b(This)20 b(can)h(b)q(e)g(the)g
(case)g(only)f(if)208 2512 y(di\013eren)o(t)c(\\parts")f(of)f
FV(h)k F4(o)q(ccur)e(in)f(the)h(t)o(w)o(o)e(comp)q(onen)o(t)g(sp)q
(eci\014cations.)23 b(F)m(or)15 b(example,)p Black Black
eop
%%Page: 155 173
155 172 bop Black 208 275 a FR(10.6.)30 b(LIVENESS)15
b(AND)f(HIDING)1105 b F4(155)p 208 282 1770 2 v Black
208 391 a FV(h)19 b F4(migh)o(t)14 b(b)q(e)j(a)e(record)j(with)e(comp)q
(onen)o(ts)f FV(h)s FQ(:)p FV(c)r F4(1)h(and)g FV(h)s
FQ(:)p FV(c)r F4(2,)h(where)g FV(S)1355 397 y FS(1)1390
391 y F4(men)o(tions)e(only)208 441 y FV(h)s FQ(:)p FV(c)r
F4(1)f(and)f FV(S)408 447 y FS(2)441 441 y F4(men)o(tions)g(only)g
FV(h)s FQ(:)p FV(c)r F4(2.)18 b(In)c(this)g(case,)g(w)o(e)g(ha)o(v)o(e)
p Black Black 332 510 a(\()348 508 y F0(9)-21 b(9)g(9)348
510 y(9)g(9)g(9)6 b FV(h)22 b F4(:)c FV(S)482 516 y FS(1)510
510 y F0(^)9 b FV(S)575 516 y FS(2)594 510 y F4(\))35
b F0(\021)g F4(\()728 508 y F0(9)-21 b(9)g(9)728 510
y(9)g(9)g(9)6 b FV(h)s F4(1)19 b(:)f FV(T)891 516 y FS(1)909
510 y F4(\))e F0(^)g F4(\()1001 508 y F0(9)-21 b(9)g(9)1001
510 y(9)g(9)g(9)6 b FV(h)s F4(2)19 b(:)f FV(T)1164 516
y FS(2)1181 510 y F4(\))208 578 y(where)13 b FV(T)362
584 y FS(1)393 578 y F4(is)f(obtained)g(from)f FV(S)727
584 y FS(1)759 578 y F4(b)o(y)h(substituting)h(the)g(v)n(ariable)f
FV(h)s F4(1)g(for)g(the)i(expression)208 628 y FV(h)s
FQ(:)p FV(c)r F4(1,)e(and)h FV(T)426 634 y FS(2)457 628
y F4(is)f(de\014ned)i(similarly)m(.)h(Of)d(course)j(w)o(e)e(can)g(use)g
(an)o(y)g(v)n(ariables)f(in)g(place)h(of)208 678 y FV(h)s
F4(1)h(and)f FV(h)s F4(2;)h(in)f(particular,)g(w)o(e)i(can)f(replace)g
(them)f(b)q(oth)h(b)o(y)g(the)h(same)e(v)n(ariable.)270
728 y(W)m(e)20 b(can)h(generalize)g(this)g(result)g(as)g(follo)o(ws)e
(to)i(the)g(comp)q(osition)d(of)j(an)o(y)f(\014nite)208
778 y(n)o(um)o(b)q(er)346 763 y FS(6)377 778 y F4(of)14
b(comp)q(onen)o(ts:)p Black Black 332 846 a FU(Comp)q(ositional)i
(Hiding)i(Rule)d F4(If)i(the)h(v)n(ariable)e FV(h)k F4(do)q(es)e(not)f
(o)q(ccur)i(in)d(the)332 896 y(form)o(ula)11 b FV(T)520
902 y FJ(i)535 896 y F4(,)i(and)h FV(S)669 902 y FJ(i)699
896 y F4(is)f(obtained)h(from)e FV(T)1045 902 y FJ(i)1073
896 y F4(b)o(y)i(substituting)g FV(h)s F4([)p FV(i)t
F4(])f(for)h FV(q)t F4(,)f(then)p Black Black 457 978
a(\()473 976 y F0(9)-21 b(9)g(9)473 978 y(9)g(9)g(9)6
b FV(h)22 b F4(:)c F0(8)7 b FV(i)15 b F0(2)c FV(C)25
b F4(:)18 b FV(S)789 984 y FJ(i)804 978 y F4(\))35 b
F0(\021)g F4(\()p F0(8)7 b FV(i)15 b F0(2)d FV(C)24 b
F4(:)1120 976 y F0(9)-21 b(9)g(9)1120 978 y(9)g(9)g(9)6
b FV(q)22 b F4(:)c FV(T)1260 984 y FJ(i)1275 978 y F4(\))332
1059 y(for)c(an)o(y)f(\014nite)h(set)h FV(C)6 b F4(.)208
1128 y(The)12 b(assumption)e(that)i FV(h)j F4(do)q(es)d(not)g(o)q(ccur)
h(in)e FV(T)987 1134 y FJ(i)1013 1128 y F4(means)g(that)h(the)g(v)n
(ariable)f FV(h)k F4(o)q(ccurs)e(in)208 1178 y(form)o(ula)8
b FV(S)385 1184 y FJ(i)412 1178 y F4(only)i(in)h(the)h(expression)g
FV(h)s F4([)p FV(i)t F4(].)17 b(This)11 b(in)g(turn)g(implies)f(that)h
(the)h(comp)q(osition)208 1227 y F0(8)7 b FV(i)15 b F0(2)c
FV(C)j F4(:)8 b FV(S)397 1233 y FJ(i)429 1227 y F4(do)q(es)18
b(not)e(determine)h(the)h(v)n(alue)e(of)g FV(h)s F4(,)h(just)g(of)g
(its)g(comp)q(onen)o(ts)f FV(h)s F4([)p FV(i)t F4(])g(for)208
1277 y FV(i)f F0(2)c FV(C)6 b F4(.)18 b(As)13 b(noted)h(in)e(Section)i
(10.2)e(on)h(page)g(138,)f(w)o(e)h(can)g(mak)o(e)f(the)i(comp)q(osite)e
(sp)q(eci-)208 1327 y(\014cation)h(determine)h(the)g(v)n(alue)f(of)g
FV(h)k F4(b)o(y)d(conjoining)e(the)i(form)o(ula)e FG(2)p
FV(IsFcnOn)s F4(\()p FV(h)s FQ(;)7 b FV(C)f F4(\))14
b(to)208 1377 y(it,)d(where)j FV(IsFcnOn)i F4(is)c(de\014ned)h(on)f
(page)g(140.)17 b(The)c(h)o(yp)q(otheses)g(of)f(the)h(Comp)q(ositional)
208 1427 y(Hiding)f(Rule)i(imply)p Black Black 332 1495
a(\()348 1493 y F0(9)-21 b(9)g(9)348 1495 y(9)g(9)g(9)6
b FV(h)22 b F4(:)c FG(2)p FV(IsFcnOn)s F4(\()p FV(h)s
FQ(;)7 b FV(C)f F4(\))17 b F0(^)f(8)7 b FV(i)15 b F0(2)d
FV(C)24 b F4(:)18 b FV(S)1027 1501 y FJ(i)1042 1495 y
F4(\))35 b F0(\021)g F4(\()p F0(8)7 b FV(i)16 b F0(2)11
b FV(C)24 b F4(:)1358 1493 y F0(9)-21 b(9)g(9)1358 1495
y(9)g(9)g(9)6 b FV(q)22 b F4(:)c FV(T)1498 1501 y FJ(i)1513
1495 y F4(\))270 1564 y(No)o(w)13 b(consider)i(the)f(common)c(case)15
b(in)e(whic)o(h)h F0(8)7 b FV(i)15 b F0(2)c FV(C)j F4(:)8
b FV(S)1206 1570 y FJ(i)1235 1564 y F4(is)13 b(an)h(in)o(terlea)o(ving)
e(com-)208 1614 y(p)q(osition,)h(where)j(eac)o(h)g(sp)q(eci\014cation)f
FV(S)859 1620 y FJ(i)890 1614 y F4(describ)q(es)h(c)o(hanges)g(to)f
FV(h)s F4([)p FV(i)t F4(])f(and)g(asserts)j(that)208
1664 y(steps)c(of)e(comp)q(onen)o(t)h FV(i)k F4(lea)o(v)o(e)c
FV(h)s F4([)p FV(j)6 b F4(])11 b(unc)o(hanged)i(for)e
FV(j)18 b F0(6)p F4(=)11 b FV(i)t F4(.)18 b(W)m(e)11
b(cannot)i(apply)e(the)i(Com-)208 1713 y(p)q(ositional)e(Hiding)h(Rule)
h(b)q(ecause)h FV(S)808 1719 y FJ(i)837 1713 y F4(m)o(ust)e(men)o(tion)
f(other)j(comp)q(onen)o(ts)f(of)f FV(h)k F4(b)q(esides)208
1763 y FV(h)s F4([)p FV(i)t F4(].)h(F)m(or)c(example,)g(it)g(probably)g
(con)o(tains)h(an)g(expression)h(of)e(the)i(form)p Black
Black 332 1832 a FV(h)356 1815 y FH(0)380 1832 y F4(=)c([)p
FV(h)19 b FP(ex)o(cept)g F4(!)s([)p FV(i)t F4(])11 b(=)h
FV(exp)s F4(])p Black -614 w(\(10.6\))p Black 208 1907
a(whic)o(h)j(men)o(tions)f(all)g(of)g FV(h)s F4(.)23
b(Ho)o(w)o(ev)o(er,)15 b(w)o(e)h(can)f(transform)f FV(S)1212
1913 y FJ(i)1243 1907 y F4(in)o(to)g(a)h(sp)q(eci\014cation)1603
1896 y FF(c)1602 1907 y FV(S)1630 1913 y FJ(i)208 1957
y F4(that)j(describ)q(es)j(only)e(the)g(c)o(hanges)h(to)e
FV(h)s F4([)p FV(i)t F4(])h(and)f(mak)o(es)g(no)h(assertions)g(ab)q
(out)g(other)208 2006 y(comp)q(onen)o(ts.)j(F)m(or)16
b(example,)e(w)o(e)i(can)g(replace)g(\(10.6\))f(with)g
FV(h)1235 1991 y FH(0)1247 2006 y F4([)p FV(i)t F4(])f(=)h
FV(exp)s F4(,)g(and)h(w)o(e)g(can)208 2056 y(replace)c(an)g(assertion)g
(that)g FV(h)j F4(is)d(unc)o(hanged)g(b)o(y)g(the)h(assertion)f(that)g
FV(h)s F4([)p FV(i)t F4(])f(is)h(unc)o(hanged.)208 2112
y(The)18 b(comp)q(osition)f F0(8)7 b FV(i)15 b F0(2)c
FV(C)j F4(:)696 2102 y FF(c)695 2112 y FV(S)723 2118
y FJ(i)757 2112 y F4(ma)o(y)i(allo)o(w)h(steps)i(that)g(c)o(hange)f(t)o
(w)o(o)g(di\013eren)o(t)h(com-)208 2162 y(p)q(onen)o(ts)g
FV(h)s F4([)p FV(i)t F4(])f(and)g FV(h)s F4([)p FV(j)6
b F4(],)19 b(while)f(lea)o(ving)f(all)g(other)j(v)n(ariables)d(unc)o
(hanged,)j(making)c(it)208 2212 y(a)h(nonin)o(terlea)o(ving)g(sp)q
(eci\014cation.)30 b(It)18 b(will)e(then)j(not)f(b)q(e)g(equiv)n(alen)o
(t)f(to)h F0(8)7 b FV(i)15 b F0(2)c FV(C)j F4(:)8 b FV(S)1619
2218 y FJ(i)1634 2212 y F4(,)208 2262 y(whic)o(h)k(requires)h(that)g
(the)g(c)o(hanges)g(to)f FV(h)s F4([)p FV(i)t F4(])g(and)g
FV(h)s F4([)p FV(j)6 b F4(])12 b(b)q(e)g(p)q(erformed)h(b)o(y)f
(di\013eren)o(t)h(steps.)208 2312 y(Ho)o(w)o(ev)o(er,)k(it)f(can)h(b)q
(e)g(sho)o(wn)g(that)g(hiding)e FV(h)20 b F4(hides)d(this)g
(di\013erence,)i(making)14 b(the)j(t)o(w)o(o)208 2361
y(sp)q(eci\014cations)i(equiv)n(alen)o(t.)31 b(W)m(e)18
b(can)h(then)g(apply)e(the)j(Comp)q(ositional)15 b(Hiding)i(Rule)208
2411 y(with)c FV(S)330 2417 y FJ(i)360 2411 y F4(replaced)h(b)o(y)582
2401 y FF(c)581 2411 y FV(S)609 2417 y FJ(i)625 2411
y F4(.)p Black 208 2439 576 2 v 254 2466 a FK(6)271 2477
y FZ(The)i(Comp)q(ositional)d(Hiding)j(Rule)f(is)i(not)e(true)g(in)h
(general)e(if)j FY(C)j FZ(is)c(an)g(in\014nite)f(set;)i(but)f(the)208
2517 y(examples)9 b(in)i(whic)o(h)g(it)g(do)q(esn't)f(hold)g(are)h
(pathologica)o(l)e(and)i(don't)f(arise)g(in)h(practice.)p
Black Black Black eop
%%Page: 156 174
156 173 bop Black 208 275 a F4(156)766 b FR(CHAPTER)14
b(10.)31 b(COMPOSING)15 b(SPECIFICA)m(TIONS)p 208 282
1770 2 v Black 208 400 a FN(10.7)82 b(Op)r(en-System)26
b(Sp)r(eci\014cations)208 491 y F4(A)13 b(sp)q(eci\014cation)g(describ)
q(es)j(the)d(in)o(teraction)g(b)q(et)o(w)o(een)i(a)e(system)f(and)h
(its)g(en)o(vironmen)o(t.)208 540 y(F)m(or)e(example,)f(the)j(FIF)o(O)f
(bu\013er)h(sp)q(eci\014cation)f(of)g(Chapter)g(4)g(sp)q(eci\014es)h
(the)g(in)o(teraction)208 590 y(b)q(et)o(w)o(een)f(the)f(bu\013er)h
(\(the)f(system\))g(and)f(an)h(en)o(vironmen)o(t)f(consisting)g(of)g
(the)i(sender)g(and)208 640 y(receiv)o(er.)18 b(So)10
b(far,)f(all)g(the)i(sp)q(eci\014cations)g(w)o(e)f(ha)o(v)o(e)g
(written)g(ha)o(v)o(e)g(b)q(een)h(complete-system)208
690 y(sp)q(eci\014cations,)i(meaning)f(that)h(they)g(are)h(satis\014ed)
f(b)o(y)g(a)g(b)q(eha)o(vior)g(that)g(represen)o(ts)i(the)208
740 y(correct)d(op)q(eration)f(of)f(b)q(oth)h(the)h(system)e(and)h(its)
g(en)o(vironmen)o(t.)16 b(When)11 b(w)o(e)g(write)h(suc)o(h)f(a)208
789 y(sp)q(eci\014cation)h(as)h(the)f(comp)q(osition)f(of)g(an)h(en)o
(vironmen)o(t)f(sp)q(eci\014cation)i FV(E)k F4(and)12
b(a)g(system)208 839 y(sp)q(eci\014cation)i FV(M)7 b
F4(,)14 b(it)f(has)h(the)h(form)d FV(E)i F0(^)9 b FV(M)e
F4(.)270 889 y(An)15 b(op)q(en-system)h(sp)q(eci\014cation)f(is)h(one)f
(that)g(can)h(serv)o(e)g(as)g(a)e(con)o(tract)j(b)q(et)o(w)o(een)f(a)p
.95 TeXcolorgray .95 TeXcolorgray 1679 1101 307 243 v
.95 TeXcolorgray Black Black 41 w FZ(Op)q(en-system)1687
928 y(sp)q(eci\014cations)8 b(are)1687 968 y(sometimes)h(called)1687
1007 y FY(r)n(ely-guar)n(ante)n(e)17 b FZ(or)1687 1047
y FY(assume-guar)n(ante)n(e)1687 1086 y FZ(sp)q(eci\014cations.)p
Black .95 TeXcolorgray Black 208 939 a F4(user)11 b(of)f(the)i(system)e
(and)h(its)f(implemen)o(ter.)15 b(An)c(ob)o(vious)f(c)o(hoice)h(of)f
(suc)o(h)i(a)e(sp)q(eci\014cation)208 989 y(is)k(the)i(form)o(ula)c
FV(M)22 b F4(that)16 b(describ)q(es)h(the)e(correct)i(b)q(eha)o(vior)e
(of)f(the)i(system)f(comp)q(onen)o(t)208 1038 y(b)o(y)f(itself.)20
b(Ho)o(w)o(ev)o(er,)15 b(suc)o(h)g(a)f(sp)q(eci\014cation)i(is)e
(unimplemen)o(table.)k(It)c(asserts)j(that)d(the)208
1088 y(system)h(acts)h(correctly)h(no)e(matter)g(what)g(the)h(en)o
(vironmen)o(t)e(do)q(es.)24 b(A)15 b(system)h(cannot)208
1138 y(b)q(eha)o(v)o(e)11 b(as)g(exp)q(ected)j(in)c(the)i(face)f(of)g
(arbitrary)g(b)q(eha)o(vior)g(of)f(its)h(en)o(vironmen)o(t.)16
b(It)c(w)o(ould)208 1188 y(b)q(e)g(imp)q(ossible)d(to)j(build)e(a)i
(bu\013er)g(that)g(satis\014es)g(the)g(bu\013er)g(comp)q(onen)o(t's)f
(sp)q(eci\014cation)208 1238 y(regardless)j(of)e(what)h(the)g(sender)i
(and)e(receiv)o(er)h(did.)k(F)m(or)12 b(example,)f(if)i(the)g(sender)i
(sends)208 1288 y(a)e(v)n(alue)h(b)q(efore)g(the)h(previous)f(v)n(alue)
f(has)h(b)q(een)i(ac)o(kno)o(wledged,)d(then)i(the)f(bu\013er)h(could)
208 1337 y(read)f(the)g(v)n(alue)g(while)f(it)h(is)f(c)o(hanging,)g
(causing)h(unpredictable)g(results.)270 1387 y(A)f(con)o(tract)h(b)q
(et)o(w)o(een)g(a)f(user)i(and)e(an)f(implemen)o(ter)f(should)i
(require)h(the)g(system)f(to)208 1437 y(act)d(correctly)i(only)e(if)f
(the)j(en)o(vironmen)o(t)d(do)q(es.)18 b(If)10 b FV(M)17
b F4(describ)q(es)c(correct)f(b)q(eha)o(vior)e(of)g(the)208
1487 y(system)g(and)h FV(E)16 b F4(describ)q(es)d(correct)g(b)q(eha)o
(vior)d(of)g(the)i(en)o(vironmen)o(t,)e(suc)o(h)i(a)e(sp)q
(eci\014cation)208 1537 y(should)k(require)h(that)f FV(M)22
b F4(b)q(e)15 b(true)g(if)f FV(E)19 b F4(is.)g(This)c(suggests)g(that)g
(w)o(e)f(tak)o(e)h(as)f(our)h(op)q(en-)208 1586 y(system)h(sp)q
(eci\014cation)h(the)g(form)o(ula)d FV(E)21 b F0(\))15
b FV(M)7 b F4(,)16 b(whic)o(h)h(is)f(true)h(if)f(the)h(system)f(b)q
(eha)o(v)o(es)208 1636 y(correctly)e(or)f(the)g(en)o(vironmen)o(t)f(b)q
(eha)o(v)o(es)i(incorrectly)m(.)k(Ho)o(w)o(ev)o(er,)c
FV(E)i F0(\))11 b FV(M)20 b F4(is)13 b(to)q(o)g(w)o(eak)208
1686 y(a)h(sp)q(eci\014cation)h(for)g(the)g(follo)o(wing)d(reason.)21
b(Consider)15 b(again)f(the)h(example)e(of)h(a)h(FIF)o(O)208
1736 y(bu\013er,)i(where)h FV(M)23 b F4(describ)q(es)c(the)e(bu\013er)g
(and)f FV(E)22 b F4(the)17 b(sender)h(and)e(receiv)o(er.)27
b(Supp)q(ose)208 1786 y(no)o(w)12 b(that)i(the)f(bu\013er)i(sends)f(a)f
(new)h(v)n(alue)e(b)q(efore)i(the)g(receiv)o(er)h(has)e(ac)o(kno)o
(wledged)g(the)208 1836 y(previous)d(one.)17 b(This)11
b(could)f(cause)i(the)f(receiv)o(er)h(to)e(act)h(incorrectly)m(,)g(p)q
(ossibly)f(mo)q(difying)208 1885 y(the)i(output)g(c)o(hannel)g(in)g
(some)f(w)o(a)o(y)g(not)h(allo)o(w)o(ed)f(b)o(y)h(the)g(receiv)o(er's)i
(sp)q(eci\014cation.)k(This)208 1935 y(situation)9 b(is)h(describ)q(ed)
i(b)o(y)d(a)h(b)q(eha)o(vior)g(in)g(whic)o(h)f(b)q(oth)i
FV(E)k F4(and)10 b FV(M)17 b F4(are)10 b(false|a)f(b)q(eha)o(vior)208
1985 y(that)20 b(satis\014es)h(the)g(sp)q(eci\014cation)g
FV(E)27 b F0(\))21 b FV(M)7 b F4(.)37 b(Ho)o(w)o(ev)o(er,)22
b(the)f(bu\013er)g(should)f(not)g(b)q(e)208 2035 y(considered)12
b(to)f(act)g(correctly)i(in)d(this)h(case,)h(since)g(it)f(w)o(as)g(the)
h(bu\013er's)g(error)g(that)f(caused)208 2085 y(the)f(receiv)o(er)h(to)
e(act)h(incorrectly)m(.)16 b(Hence,)c(this)d(b)q(eha)o(vior)g(should)g
(not)h(satisfy)f(the)h(bu\013er's)208 2134 y(sp)q(eci\014cation.)270
2184 y(An)h(op)q(en-system)g(sp)q(eci\014cation)g(should)f(assert)j
(that)d(the)i(system)e(b)q(eha)o(v)o(es)i(correctly)208
2234 y(at)j(least)h(as)g(long)e(as)i(the)g(en)o(vironmen)o(t)f(do)q
(es.)24 b(T)m(o)15 b(express)i(this,)f(w)o(e)g(in)o(tro)q(duce)g(a)f
(new)208 2284 y(temp)q(oral)e(op)q(erator)558 2264 y
FI(+)552 2284 y F0(\000)-7 b FQ(.)q F4(,)14 b(where)h
FV(E)796 2264 y FI(+)791 2284 y F0(\000)-7 b FQ(.)12
b FV(M)22 b F4(asserts)16 b(that)e FV(M)21 b F4(remains)14
b(true)h(at)f(least)h(one)208 2334 y(step)k(longer)g(than)g
FV(E)24 b F4(do)q(es,)d(remaining)c(true)i(forev)o(er)h(if)e
FV(E)24 b F4(do)q(es.)34 b(Somewhat)18 b(more)208 2383
y(precisely)m(,)13 b FV(E)436 2363 y FI(+)430 2383 y
F0(\000)-7 b FQ(.)12 b FV(M)21 b F4(asserts)16 b(that)p
Black 270 2466 a F0(\017)p Black 20 w FV(E)j F4(implies)12
b FV(M)7 b F4(.)p Black Black eop
%%Page: 157 175
157 174 bop Black 208 275 a FR(10.7.)30 b(OPEN-SYSTEM)15
b(SPECIFICA)m(TIONS)914 b F4(157)p 208 282 1770 2 v Black
Black 270 391 a F0(\017)p Black 20 w F4(If)10 b(the)h(safet)o(y)g(prop)
q(ert)o(y)g(of)e FV(E)16 b F4(is)10 b(not)g(violated)g(b)o(y)g(the)h
(\014rst)g FV(n)i F4(states)f(of)e(a)g(b)q(eha)o(vior,)311
441 y(then)g(the)h(safet)o(y)e(prop)q(ert)o(y)h(of)f
FV(M)17 b F4(is)9 b(not)g(violated)g(b)o(y)g(the)h(\014rst)g
FV(n)t F4(+1)g(states,)h(for)e(an)o(y)311 491 y(natural)15
b(n)o(um)o(b)q(er)f FV(n)s F4(.)21 b(\(Recall)15 b(that)f(a)h(safet)o
(y)g(prop)q(ert)o(y)h(is)e(one)i(that,)e(if)g(violated,)311
541 y(is)g(violated)f(at)h(some)f(de\014nite)h(p)q(oin)o(t)g(in)f(the)i
(b)q(eha)o(vior.\))208 622 y(A)20 b(more)f(precise)j(de\014nition)e(of)
763 602 y FI(+)757 622 y F0(\000)-7 b FQ(.)21 b F4(app)q(ears)g(in)f
(Section)h(16.2.4)d(\(page)j(314\).)37 b(If)20 b FV(E)208
672 y F4(describ)q(es)c(the)f(desired)h(b)q(eha)o(vior)e(of)g(the)h(en)
o(vironmen)o(t)f(and)g FV(M)22 b F4(describ)q(es)17 b(the)e(desired)208
721 y(b)q(eha)o(vior)9 b(of)f(the)i(system,)g(then)g(w)o(e)f(tak)o(e)g
(as)h(our)f(op)q(en-system)h(sp)q(eci\014cation)g(the)f(form)o(ula)208
771 y FV(E)258 751 y FI(+)252 771 y F0(\000)-7 b FQ(.)12
b FV(M)7 b F4(.)270 821 y(Once)21 b(w)o(e)f(write)g(separate)h(sp)q
(eci\014cations)g(of)e(the)i(comp)q(onen)o(ts,)g(w)o(e)f(can)g(usually)
208 871 y(transform)c(a)h(complete-system)f(sp)q(eci\014cation)i(in)o
(to)f(an)g(op)q(en-system)g(one)h(b)o(y)f(simply)208
921 y(replacing)f(conjunction)h(with)719 901 y FI(+)714
921 y F0(\000)-7 b FQ(.)p F4(.)27 b(This)17 b(requires)h(\014rst)f
(deciding)g(whether)h(eac)o(h)g(con-)208 971 y(junct)h(of)f(the)i
(complete-system)e(sp)q(eci\014cation)h(b)q(elongs)g(to)g(the)g(sp)q
(eci\014cation)h(of)e(the)208 1020 y(en)o(vironmen)o(t,)e(of)h(the)h
(system,)f(or)h(of)e(neither.)30 b(As)18 b(an)f(example,)f(consider)i
(the)g(com-)208 1070 y(p)q(osite)c(sp)q(eci\014cation)g(of)f(the)i(FIF)
o(O)f(bu\013er)h(in)e(mo)q(dule)f FV(Comp)n(ositeFIF)o(O)18
b F4(on)13 b(page)h(143.)208 1120 y(W)m(e)h(tak)o(e)i(the)g(system)f
(to)g(consist)h(of)f(just)g(the)h(bu\013er,)g(with)f(the)h(sender)h
(and)e(receiv)o(er)208 1170 y(forming)c(the)k(en)o(vironmen)o(t.)k(The)
15 b(closed-system)g(sp)q(eci\014cation)h FV(Sp)n(e)n(c)i
F4(has)d(three)h(main)208 1220 y(conjuncts:)p Black 208
1301 a FV(Sender)e F0(^)9 b FV(Bu\013er)14 b F0(^)9 b
FV(R)n(e)n(c)n(eiver)p Black 311 1351 a F4(The)18 b(conjuncts)h
FV(Sender)k F4(and)17 b FV(R)n(e)n(c)n(eiver)22 b F4(are)c(clearly)f
(part)h(of)f(the)h(en)o(vironmen)o(t)311 1400 y(sp)q(eci\014cation,)c
(and)g FV(Bu\013er)19 b F4(is)14 b(part)g(of)f(the)i(system)e(sp)q
(eci\014cation.)p Black 208 1482 a(\()p FV(in)s FQ(:)p
FV(ack)j F4(=)c FV(in)s FQ(:)p FV(r)n(dy)t F4(\))c F0(^)h
F4(\()p FV(out)t FQ(:)p FV(ack)16 b F4(=)c FV(out)t FQ(:)p
FV(r)n(dy)t F4(\))p Black 311 1532 a(These)j(t)o(w)o(o)d(initial)f
(conjuncts)j(can)g(b)q(e)f(assigned)h(to)f(either,)g(dep)q(ending)h(on)
f(whic)o(h)311 1582 y(comp)q(onen)o(t)19 b(w)o(e)h(w)o(an)o(t)f(to)g
(blame)f(if)h(they)h(are)g(violated.)34 b(Let's)20 b(assign)f(to)g(the)
311 1632 y(comp)q(onen)o(t)14 b(sending)g(on)f(a)h(c)o(hannel)g
FV(c)j F4(the)d(resp)q(onsibilit)o(y)g(for)f(establishing)h(that)311
1682 y FV(c)r FQ(:)p FV(ack)28 b F4(=)22 b FV(c)r FQ(:)p
FV(r)n(dy)i F4(holds)c(initially)m(.)35 b(W)m(e)20 b(then)h(assign)f
FV(in)s FQ(:)p FV(ack)27 b F4(=)22 b FV(in)s FQ(:)p FV(r)n(dy)i
F4(to)c(the)311 1731 y(en)o(vironmen)o(t)13 b(and)h FV(out)t
FQ(:)p FV(ack)i F4(=)c FV(out)t FQ(:)p FV(r)n(dy)17 b
F4(to)d(the)g(system.)p Black 208 1814 a FG(2)p F4(\()p
FV(IsChannel)t F4(\()p FV(in)s F4(\))c F0(^)f FV(IsChannel)t
F4(\()p FV(out)t F4(\)\))p Black 311 1863 a(This)17 b(form)o(ula)e(is)i
(not)g(naturally)f(attributed)i(to)f(either)h(the)g(system)f(or)g(the)h
(en-)311 1913 y(vironmen)o(t.)26 b(W)m(e)16 b(regard)h(it)g(as)g(a)f
(prop)q(ert)o(y)i(inheren)o(t)g(in)e(our)h(w)o(a)o(y)f(of)g(mo)q
(deling)311 1963 y(the)e(system,)f(whic)o(h)g(assumes)g(that)h
FV(in)i F4(and)d FV(out)18 b F4(are)13 b(records)i(with)e
FV(ack)t F4(,)h FV(val)t F4(,)f(and)311 2013 y FV(r)n(dy)k
F4(comp)q(onen)o(ts.)h(W)m(e)13 b(therefore)h(tak)o(e)g(the)g(form)o
(ula)c(to)k(b)q(e)g(a)f(separate)h(conjunct)311 2063
y(of)k(the)g(complete)f(sp)q(eci\014cation,)i(not)f(b)q(elonging)f(to)h
(either)g(the)h(system)e(or)h(the)311 2112 y(en)o(vironmen)o(t.)208
2194 y(W)m(e)13 b(then)i(ha)o(v)o(e)e(the)i(follo)o(wing)c(op)q
(en-system)j(sp)q(eci\014cation)h(for)e(the)i(FIF)o(O)f(bu\013er:)p
Black Black 332 2275 a F0(^)g FG(2)p F4(\()p FV(IsChannel)t
F4(\()p FV(in)s F4(\))j F0(^)f FV(IsChannel)t F4(\()p
FV(out)t F4(\)\))332 2338 y F0(^)e F4(\()p FV(in)s FQ(:)p
FV(ack)i F4(=)c FV(in)s FQ(:)p FV(r)n(dy)t F4(\))20 b
F0(^)g FV(Sender)26 b F0(^)21 b FV(R)n(e)n(c)n(eiver)1143
2318 y FI(+)1138 2338 y F0(\000)-7 b FQ(.)457 2388 y
F4(\()p FV(out)t FQ(:)p FV(ack)16 b F4(=)c FV(out)t FQ(:)p
FV(r)n(dy)t F4(\))20 b F0(^)g FV(Bu\013er)208 2467 y
F4(As)15 b(this)f(example)f(suggests,)j(there)g(is)e(little)g
(di\013erence)j(b)q(et)o(w)o(een)f(writing)d(a)i(comp)q(osite)208
2517 y(complete-system)i(sp)q(eci\014cation)j(and)f(an)f(op)q
(en-system)h(sp)q(eci\014cation.)34 b(Most)19 b(of)f(the)p
Black Black eop
%%Page: 158 176
158 175 bop Black 208 275 a F4(158)766 b FR(CHAPTER)14
b(10.)31 b(COMPOSING)15 b(SPECIFICA)m(TIONS)p 208 282
1770 2 v Black 208 391 a F4(sp)q(eci\014cation)j(do)q(esn't)h(dep)q
(end)g(on)f(whic)o(h)g(w)o(e)g(c)o(ho)q(ose.)31 b(The)18
b(t)o(w)o(o)g(di\013er)g(only)f(at)h(the)208 441 y(v)o(ery)c(end,)g
(when)g(w)o(e)g(put)g(the)h(pieces)g(together.)208 599
y FN(10.8)82 b(In)n(terface)26 b(Re\014nemen)n(t)208
690 y F4(An)15 b FV(interfac)n(e)g(r)n(e\014nement)20
b F4(is)15 b(a)g(metho)q(d)f(of)g(obtaining)g(a)h(lo)o(w)o(er-lev)o(el)
f(sp)q(eci\014cation)i(b)o(y)208 740 y(re\014ning)e(the)h(v)n(ariables)
e(of)h(a)g(higher-lev)o(el)g(sp)q(eci\014cation.)19 b(Let's)c(start)g
(with)f(t)o(w)o(o)f(exam-)208 789 y(ples)h(and)g(then)g(discuss)h(in)o
(terface)g(re\014nemen)o(t)f(in)f(general.)208 926 y
F3(10.8.1)65 b(A)22 b(Binary)i(Hour)e(Clo)r(c)n(k)208
1017 y F4(In)16 b(sp)q(ecifying)g(an)f(hour)h(clo)q(c)o(k,)h(w)o(e)f
(describ)q(ed)i(its)e(displa)o(y)f(with)g(a)h(v)n(ariable)f
FV(hr)20 b F4(whose)208 1067 y(v)n(alue)f(\(in)h(a)f(b)q(eha)o(vior)h
(satisfying)f(the)i(sp)q(eci\014cation\))g(is)f(an)f(in)o(teger)i(from)
d(1)i(to)g(12.)208 1116 y(Supp)q(ose)c(w)o(e)g(w)o(an)o(t)f(to)h(sp)q
(ecify)g(a)f FV(binary)i(hour)g(clo)n(ck)p F4(.)23 b(This)15
b(is)h(an)f(hour)h(clo)q(c)o(k)g(for)f(use)208 1166 y(in)d(a)h
(computer,)f(where)i(the)g(displa)o(y)e(consists)i(of)e(a)h(four-bit)f
(register)i(that)f(displa)o(ys)f(the)208 1216 y(hour)k(as)h(one)g(of)g
(the)g(t)o(w)o(elv)o(e)g(v)n(alues)f(0001,)g(0010,)g(.)7
b(.)f(.)h(,)17 b(1100.)26 b(W)m(e)16 b(can)h(easily)f(sp)q(ecify)208
1266 y(suc)o(h)i(a)g(clo)q(c)o(k)g(from)e(scratc)o(h.)31
b(But)18 b(supp)q(ose)h(w)o(e)f(w)o(an)o(t)g(to)g(describ)q(e)h(it)f
(informall)o(y)d(to)208 1316 y(someone)d(who)g(already)g(kno)o(ws)h
(what)g(an)f(hour)h(clo)q(c)o(k)g(is.)k(W)m(e)12 b(w)o(ould)g(simply)f
(sa)o(y)h(that)h(a)208 1366 y(binary)h(hour)h(clo)q(c)o(k)g(is)g(the)g
(same)f(as)h(an)g(ordinary)f(hour)h(clo)q(c)o(k,)g(except)h(that)f(the)
h(v)n(alue)208 1415 y(of)d(the)h(displa)o(y)f(is)h(represen)o(ted)j(in)
c(binary)m(.)k(W)m(e)d(no)o(w)f(formalize)f(that)i(description.)270
1465 y(W)m(e)k(b)q(egin)g(b)o(y)g(describing)h(what)g(it)f(means)f(for)
h(a)h(four-bit)e(v)n(alue)h(to)g(represen)o(t)j(a)208
1515 y(n)o(um)o(b)q(er.)e(There)d(are)f(sev)o(eral)g(reasonable)g(w)o
(a)o(ys)g(to)f(represen)o(t)j(a)e(four-bit)f(v)n(alue)g(math-)208
1565 y(ematically)m(.)h(W)m(e)e(could)h(use)h(a)e(four-elemen)o(t)g
(sequence,)j(whic)o(h)e(in)f(TLA)1386 1550 y FS(+)1421
1565 y F4(is)h(a)f(function)208 1615 y(whose)e(domain)e(is)i(1)i
FQ(:)7 b(:)13 b F4(4.)k(Ho)o(w)o(ev)o(er,)12 b(a)e(mathematician)e(w)o
(ould)i(\014nd)i(it)e(more)g(natural)h(to)208 1664 y(represen)o(t)j(an)
f(\()p FV(n)d F4(+)d(1\)-bit)12 b(n)o(um)o(b)q(er)g(as)g(a)g(function)h
(from)d(0)k FQ(:)7 b(:)13 b FV(n)j F4(to)c F0(f)p F4(0)p
FQ(;)7 b F4(1)p F0(g)p F4(,)k(the)i(function)p .95 TeXcolorgray
.95 TeXcolorgray 1679 1720 307 88 v .95 TeXcolorgray
Black Black 41 w FZ(W)m(e)f(can)f(also)g(write)1687 1704
y FW(f)p FZ(0)p Fw(;)5 b FZ(1)p FW(g)11 b FZ(as)h(0)f
Fw(:)6 b(:)11 b FZ(1.)p Black .95 TeXcolorgray Black
208 1714 a FV(b)k F4(represen)o(ting)f(the)g(n)o(um)o(b)q(er)e
FV(b)s F4([0])7 b F0(\003)g F4(2)819 1699 y FS(0)842
1714 y F4(+)g FV(b)s F4([1])g F0(\003)g F4(2)1004 1699
y FS(1)1027 1714 y F4(+)g FQ(:)g(:)g(:)f F4(+)h FV(b)s
F4([)p FV(n)s F4(])g F0(\003)g F4(2)1289 1699 y FJ(n)1311
1714 y F4(.)18 b(In)13 b(TLA)1479 1699 y FS(+)1499 1714
y F4(,)g(w)o(e)g(can)208 1764 y(de\014ne)h FV(BitA)o(rr)n(ayV)m(al)t
F4(\()p FV(b)s F4(\))f(to)h(b)q(e)g(the)h(n)o(umerical)d(v)n(alue)h(of)
h(suc)o(h)g(a)g(function)f FV(b)k F4(b)o(y)p Black Black
332 1850 a FV(BitA)o(rr)n(ayV)m(al)t F4(\()p FV(b)s F4(\))649
1827 y FI(\001)644 1850 y F4(=)374 1919 y FP(let)23 b
FV(n)532 1895 y FI(\001)527 1919 y F4(=)35 b FP(choose)16
b FV(i)g F0(2)11 b FV(Nat)22 b F4(:)c FP(domain)10 b
FV(b)21 b F4(=)e(0)14 b FQ(:)7 b(:)12 b FV(i)466 1987
y(val)t F4([)p FV(i)j F0(2)c F4(0)j FQ(:)7 b(:)13 b FV(n)s
F4(])756 1963 y FI(\001)751 1987 y F4(=)p .95 TeXcolorgray
.95 TeXcolorgray 830 2007 747 57 v .95 TeXcolorgray Black
56 w FZ(De\014nes)d FY(val)s FZ([)p FY(i)s FZ(])i(to)g(equal)e
FY(b)r FZ([0])d FW(\003)h FZ(2)1298 1975 y FK(0)1322
1987 y FZ(+)h Fw(:)c(:)h(:)i FZ(+)g FY(b)r FZ([)p FY(i)s
FZ(])g FW(\003)g FZ(2)1546 1975 y FE(i)1559 1987 y FZ(.)p
.95 TeXcolorgray Black 507 2044 a FP(if)23 b FV(i)16
b F4(=)c(0)21 b FP(then)j FV(b)s F4([0])8 b F0(\003)h
F4(2)928 2029 y FS(0)969 2044 y FP(else)24 b FV(b)s F4([)p
FV(i)t F4(])8 b F0(\003)h F4(2)1201 2029 y FJ(i)1225
2044 y F4(+)h FV(val)t F4([)p FV(i)j F0(\000)c F4(1])374
2106 y FP(in)54 b FV(val)t F4([)p FV(n)s F4(])208 2184
y(T)m(o)14 b(sp)q(ecify)i(a)g(binary)f(hour)g(clo)q(c)o(k)h(whose)g
(displa)o(y)f(is)g(describ)q(ed)i(b)o(y)f(the)g(v)n(ariable)e
FV(bits)s F4(,)208 2233 y(w)o(e)20 b(w)o(ould)f(simply)e(sa)o(y)j(that)
g FV(BitA)o(rr)n(ayV)m(al)t F4(\()p FV(bits)s F4(\))e(c)o(hanges)j(the)
f(same)f(w)o(a)o(y)g(that)h(the)208 2283 y(sp)q(eci\014cation)d
FV(HC)23 b F4(of)17 b(the)g(hour)h(clo)q(c)o(k)f(allo)o(ws)f
FV(hr)21 b F4(to)c(c)o(hange.)28 b(Mathematically)m(,)15
b(this)208 2333 y(means)d(that)i(w)o(e)g(obtain)f(the)h(sp)q
(eci\014cation)g(of)f(the)i(binary)e(hour)h(clo)q(c)o(k)f(b)o(y)h
(substituting)208 2383 y FV(BitA)o(rr)n(ayV)m(al)t F4(\()p
FV(bits)s F4(\))c(for)i(the)g(v)n(ariable)f FV(hr)16
b F4(in)11 b FV(HC)6 b F4(.)17 b(In)12 b(TLA)1160 2368
y FS(+)1181 2383 y F4(,)g(substitution)g(is)g(expressed)208
2433 y(with)h(the)i FP(inst)m(ance)f F4(statemen)o(t.)k(W)m(riting)p
Black Black 332 2517 a FV(B)405 2493 y FI(\001)400 2517
y F4(=)35 b FP(inst)m(ance)16 b FV(HourClo)n(ck)k FP(with)15
b FV(hr)g F0( )c FV(BitA)o(rr)n(ayV)m(al)t F4(\()p FV(bits)s
F4(\))p Black Black eop
%%Page: 159 177
159 176 bop Black 208 275 a FR(10.8.)30 b(INTERF)-5 b(A)o(CE)15
b(REFINEMENT)1043 b F4(159)p 208 282 1770 2 v Black 208
391 a(de\014nes)19 b(\(among)c(other)k(things\))f FV(B)8
b F4(!)s FV(HC)23 b F4(to)17 b(b)q(e)i(the)f(form)o(ula)d(obtained)j
(from)e FV(HC)23 b F4(b)o(y)208 441 y(substituting)14
b FV(BitA)o(rr)n(ayV)m(al)t F4(\()p FV(bits)s F4(\))e(for)i
FV(hr)t F4(.)270 491 y(Unfortunately)m(,)j(this)h(sp)q(eci\014cation)g
(is)f(wrong.)29 b(The)17 b(v)n(alue)g(of)g FV(BitA)o(rr)n(ayV)m(al)t
F4(\()p FV(b)s F4(\))f(is)208 541 y(sp)q(eci\014ed)f(only)f(if)f
FV(b)k F4(is)d(a)g(function)g(with)g(domain)d(0)j FQ(:)7
b(:)13 b FV(n)18 b F4(for)13 b(some)h(natural)f(n)o(um)o(b)q(er)h
FV(n)s F4(.)208 591 y(W)m(e)g(don't)g(kno)o(w)h(what)f
FV(BitA)o(rr)n(ayV)m(al)t F4(\()p F0(f)p F4(\\)p FD(ab)q(c)p
F4(")o F0(g)p F4(\))h(equals.)21 b(It)14 b(migh)o(t)f(equal)i(7.)20
b(If)14 b(it)h(did,)208 640 y(then)e FV(B)8 b F4(!)s
FV(HC)19 b F4(w)o(ould)12 b(allo)o(w)g(a)g(b)q(eha)o(vior)h(in)g(whic)o
(h)g(the)g(initial)f(v)n(alue)g(of)g FV(bits)k F4(is)d
F0(f)p F4(\\)p FD(ab)q(c)p F4(")q F0(g)p F4(.)208 690
y(W)m(e)h(m)o(ust)g(rule)h(out)g(this)g(p)q(ossibilit)o(y)f(b)o(y)h
(substituting)g(for)g FV(hr)k F4(not)c FV(BitA)o(rr)n(ayV)m(al)t
F4(\()p FV(bits)s F4(\),)208 740 y(but)g(some)f(expression)i
FV(HourV)m(al)t F4(\()p FV(bits)s F4(\))e(whose)i(v)n(alue)e(is)h(an)f
(elemen)o(t)h(of)f(1)f FQ(:)7 b(:)13 b F4(12)i(only)f(if)208
790 y FV(b)i F4(is)e(a)f(function)h(in)f([\(0)h FQ(:)7
b(:)13 b F4(3\))e F0(!)g(f)p F4(0)p FQ(;)c F4(1)p F0(g)p
F4(].)16 b(F)m(or)d(example,)g(w)o(e)h(can)g(write)p
Black Black 332 879 a FV(HourV)m(al)t F4(\()p FV(b)s
F4(\))581 855 y FI(\001)576 879 y F4(=)35 b FP(if)23
b FV(b)15 b F0(2)c F4([\(0)i FQ(:)7 b(:)13 b F4(3\))e
F0(!)g(f)p F4(0)p FQ(;)c F4(1)p F0(g)p F4(])20 b FP(then)k
FV(BitA)o(rr)n(ayV)m(al)t F4(\()p FV(b)s F4(\))1116 929
y FP(else)36 b F4(99)332 997 y FV(B)405 973 y FI(\001)400
997 y F4(=)f FP(inst)m(ance)16 b FV(HourClo)n(ck)k FP(with)15
b FV(hr)g F0( )c FV(HourV)m(al)t F4(\()p FV(bits)s F4(\))208
1078 y(This)19 b(de\014nes)i FV(B)8 b F4(!)s FV(HC)25
b F4(to)20 b(b)q(e)g(the)h(desired)f(sp)q(eci\014cation)h(of)e(the)h
(binary)f(hour)h(clo)q(c)o(k.)208 1127 y(Because)d FV(HC)k
F4(is)16 b(not)g(satis\014ed)g(b)o(y)f(a)h(b)q(eha)o(vior)f(in)h(whic)o
(h)f FV(hr)20 b F4(ev)o(er)d(assumes)e(the)i(v)n(alue)208
1177 y(99,)f FV(B)8 b F4(!)s FV(HC)21 b F4(is)c(not)f(satis\014ed)h(b)o
(y)f(an)o(y)g(b)q(eha)o(vior)g(in)g(whic)o(h)g FV(bits)k
F4(ev)o(er)d(assumes)f(a)h(v)n(alue)208 1227 y(not)c(in)h(the)g(set)h
([\(0)e FQ(:)7 b(:)13 b F4(3\))f F0(!)f(f)p F4(0)p FQ(;)c
F4(1)p F0(g)p F4(].)270 1277 y(There)13 b(is)f(another)g(w)o(a)o(y)f
(to)h(use)g(the)h(sp)q(eci\014cation)g FV(HC)k F4(of)11
b(the)i(hour)f(clo)q(c)o(k)g(to)f(sp)q(ecify)208 1327
y(the)16 b(binary)f(hour)h(clo)q(c)o(k.)23 b(Instead)17
b(of)e(substituting)h(for)f FV(hr)20 b F4(in)15 b(the)h(hour-clo)q(c)o
(k)g(sp)q(eci\014-)208 1376 y(cation,)e(w)o(e)h(\014rst)h(sp)q(ecify)g
(a)f(system)g(consisting)g(of)f(b)q(oth)h(an)g(hour)g(clo)q(c)o(k)h
(and)f(a)f(binary)208 1426 y(hour)k(clo)q(c)o(k)h(that)f(k)o(eep)h(the)
g(same)f(time,)f(and)i(w)o(e)f(then)h(hide)g(the)g(hour)f(clo)q(c)o(k.)
32 b(This)208 1476 y(sp)q(eci\014cation)14 b(has)g(the)h(form)p
Black Black 332 1557 a F0(9)-21 b(9)g(9)332 1559 y(9)g(9)g(9)6
b FV(hr)23 b F4(:)18 b FV(IR)g F0(^)e FV(HC)p Black -418
w F4(\(10.7\))p Black 208 1641 a(where)f FV(IR)i F4(is)d(a)h(temp)q
(oral)e(form)o(ula)f(that)j(is)g(true)g(i\013)f FV(bits)k
F4(is)d(alw)o(a)o(ys)e(the)j(four-bit)e(v)n(alue)208
1691 y(represen)o(ting)g(the)e(v)n(alue)g(of)g FV(hr)t
F4(.)18 b(This)12 b(form)o(ula)e(asserts)k(that)e FV(bits)j
F4(is)d(the)h(represen)o(tation)208 1741 y(of)18 b FV(hr)23
b F4(as)c(a)g(four-bit)f(arra)o(y)m(,)h(for)g(some)f(c)o(hoice)h(of)f
(v)n(alues)h(for)g FV(hr)k F4(that)c(satis\014es)h FV(HC)6
b F4(.)208 1790 y(Using)14 b(the)i(de\014nition)e(of)h
FV(HourV)m(al)j F4(giv)o(en)c(ab)q(o)o(v)o(e,)h(w)o(e)g(can)g(de\014ne)
h FV(IR)h F4(simply)12 b(to)j(equal)208 1840 y FG(2)p
F4(\()p FV(h)g F4(=)c FV(HourV)m(al)t F4(\()p FV(b)s
F4(\)\).)270 1890 y(If)f FV(HC)17 b F4(is)10 b(de\014ned)i(as)f(in)g
(mo)q(dule)e FV(HourClo)n(ck)t F4(,)i(then)g(\(10.7\))f(can't)h(app)q
(ear)g(in)g(a)f(TLA)1625 1875 y FS(+)208 1940 y F4(sp)q(eci\014cation.)
22 b(F)m(or)14 b FV(HC)21 b F4(to)15 b(b)q(e)g(de\014ned)h(in)f(the)g
(con)o(text)h(of)f(the)g(form)o(ula,)d(the)k(v)n(ariable)208
1990 y FV(hr)i F4(m)o(ust)c(b)q(e)h(declared)g(in)f(that)h(con)o(text.)
21 b(If)14 b FV(hr)19 b F4(is)14 b(already)g(declared,)h(then)h(it)e
(can't)g(b)q(e)208 2040 y(used)g(as)f(the)h(b)q(ound)f(v)n(ariable)f
(of)h(the)h(quan)o(ti\014er)1009 2038 y F0(9)-21 b(9)g(9)1009
2040 y(9)g(9)g(9)6 b F4(.)18 b(As)c(usual,)f(this)g(problem)f(is)h
(solv)o(ed)208 2089 y(with)g(parametrized)h(instan)o(tiation.)i(The)e
(complete)g(TLA)1161 2074 y FS(+)1195 2089 y F4(sp)q(eci\014cation)h
FV(BHC)k F4(of)13 b(the)208 2139 y(binary)k(hour)h(clo)q(c)o(k)g(app)q
(ears)h(in)e(mo)q(dule)g FV(BinaryHourClo)n(ck)22 b F4(of)17
b(Figure)h(10.3)f(on)g(the)208 2189 y(next)d(page.)208
2326 y F3(10.8.2)65 b(Re\014ning)23 b(a)f(Channel)208
2417 y F4(As)13 b(our)h(second)g(example)f(of)f(in)o(terface)i
(re\014nemen)o(t,)g(consider)g(a)f(system)g(that)h(in)o(teracts)208
2467 y(with)k(its)g(en)o(vironmen)o(t)f(b)o(y)i(sending)f(n)o(um)o(b)q
(ers)g(from)f(1)h(through)h(12)f(o)o(v)o(er)g(a)g(c)o(hannel.)208
2517 y(W)m(e)c(re\014ne)i(it)e(to)h(a)f(lo)o(w)o(er-lev)o(el)g(system)h
(that)f(is)h(the)g(same,)f(except)i(it)e(sends)i(a)f(n)o(um)o(b)q(er)p
Black Black eop
%%Page: 160 178
160 177 bop Black 208 275 a F4(160)766 b FR(CHAPTER)14
b(10.)31 b(COMPOSING)15 b(SPECIFICA)m(TIONS)p 208 282
1770 2 v Black Black Black Black 188 395 2 25 v 190 372
647 2 v 850 379 a FP(module)g FV(BinaryHourClo)n(ck)p
1349 372 V 1996 395 2 25 v 208 437 a FP(extends)h FV(Natur)n(als)208
499 y FP(v)l(ariable)h FV(bits)208 568 y(H)7 b F4(\()p
FV(hr)t F4(\))360 544 y FI(\001)355 568 y F4(=)35 b FP(inst)m(ance)16
b FV(HourClo)n(ck)208 637 y(BitA)o(rr)n(ayV)m(al)t F4(\()p
FV(b)s F4(\))524 613 y FI(\001)520 637 y F4(=)35 b FP(let)23
b FV(n)745 613 y FI(\001)740 637 y F4(=)35 b FP(choose)16
b FV(i)g F0(2)11 b FV(Nat)22 b F4(:)c FP(domain)10 b
FV(b)21 b F4(=)e(0)14 b FQ(:)7 b(:)12 b FV(i)679 706
y(val)t F4([)p FV(i)j F0(2)c F4(0)j FQ(:)7 b(:)13 b FV(n)s
F4(])969 682 y FI(\001)964 706 y F4(=)p .95 TeXcolorgray
.95 TeXcolorgray 1044 726 747 57 v .95 TeXcolorgray Black
56 w FZ(De\014nes)d FY(val)s FZ([)p FY(i)s FZ(])j(to)e(equal)f
FY(b)r FZ([0])e FW(\003)f FZ(2)1511 694 y FK(0)1536 706
y FZ(+)h Fw(:)e(:)g(:)h FZ(+)i FY(b)r FZ([)p FY(i)s FZ(])f
FW(\003)f FZ(2)1759 694 y FE(i)1772 706 y FZ(.)p .95
TeXcolorgray Black 721 763 a FP(if)23 b FV(i)16 b F4(=)c(0)22
b FP(then)i FV(b)s F4([0])7 b F0(\003)i F4(2)1142 748
y FS(0)1184 763 y FP(else)24 b F4(\()p FV(b)s F4([)p
FV(i)t F4(])8 b F0(\003)h F4(2)1432 748 y FJ(i)1447 763
y F4(\))h(+)f FV(val)t F4([)p FV(i)k F0(\000)d F4(1])587
825 y FP(in)54 b FV(val)t F4([)p FV(n)s F4(])208 894
y FV(HourV)m(al)t F4(\()p FV(b)s F4(\))457 871 y FI(\001)452
894 y F4(=)35 b FP(if)23 b FV(b)14 b F0(2)d F4([\(0)i
FQ(:)7 b(:)13 b F4(3\))f F0(!)f(f)p F4(0)p FQ(;)c F4(1)p
F0(g)p F4(])20 b FP(then)k FV(BitA)o(rr)n(ayV)m(al)t
F4(\()p FV(b)s F4(\))992 944 y FP(else)36 b F4(99)208
1013 y FV(IR)r F4(\()p FV(b)s FQ(;)7 b FV(h)s F4(\))392
990 y FI(\001)387 1013 y F4(=)35 b FG(2)p F4(\()p FV(h)15
b F4(=)d FV(HourV)m(al)t F4(\()p FV(b)s F4(\)\))208 1082
y FV(BHC)343 1059 y FI(\001)338 1082 y F4(=)405 1080
y F0(9)-22 b(9)g(9)405 1082 y(9)g(9)g(9)7 b FV(hr)23
b F4(:)18 b FV(IR)r F4(\()p FV(bits)s FQ(;)7 b FV(hr)t
F4(\))16 b F0(^)f FV(H)7 b F4(\()p FV(hr)t F4(\))s(!)s
FV(HC)p 188 1103 2 25 v 190 1103 1806 2 v 1996 1103 2
25 v Black 612 1193 a FU(Figure)14 b(10.3:)19 b F4(A)14
b(sp)q(eci\014cation)g(of)f(a)h(binary)f(hour)h(clo)q(c)o(k.)p
Black Black 208 1309 a(as)j(a)g(sequence)i(of)e(four)g(bits.)28
b(Eac)o(h)17 b(bit)g(is)g(sen)o(t)i(separately)m(,)e(starting)h(with)e
(the)i(left-)208 1359 y(most)11 b(\(most)h(signi\014can)o(t\))h(one.)18
b(F)m(or)12 b(example,)g(to)g(send)i(the)g(n)o(um)o(b)q(er)e(5,)g(the)i
(lo)o(w)o(er-lev)o(el)208 1409 y(system)f(sends)j(the)e(sequence)i(of)e
(bits)g(0,)f(1,)g(0,)h(1.)k(W)m(e)13 b(sp)q(ecify)i(b)q(oth)f(c)o
(hannels)h(with)e(the)208 1459 y FV(Channel)21 b F4(mo)q(dule)15
b(of)h(Figure)h(3.2)f(on)g(page)h(30,)g(so)f(eac)o(h)i(v)n(alue)e(that)
g(is)h(sen)o(t)h(m)o(ust)d(b)q(e)208 1508 y(ac)o(kno)o(wledged)e(b)q
(efore)i(the)f(next)h(one)f(can)g(b)q(e)h(sen)o(t.)270
1558 y(Supp)q(ose)i FV(HSp)n(e)n(c)h F4(is)e(the)h(higher-lev)o(el)f
(system's)f(sp)q(eci\014cation,)i(and)f(its)g(c)o(hannel)g(is)208
1608 y(represen)o(ted)g(b)o(y)d(the)h(v)n(ariable)f FV(h)s
F4(.)18 b(Let)c FV(l)k F4(b)q(e)c(the)g(v)n(ariable)e(represen)o(ting)k
(the)e(lo)o(w)o(er-lev)o(el)208 1658 y(c)o(hannel.)k(W)m(e)13
b(write)h(the)h(lo)o(w)o(er-lev)o(el)e(system's)h(sp)q(eci\014cation)g
(as)p Black Black 332 1739 a F0(9)-21 b(9)g(9)332 1741
y(9)g(9)g(9)6 b FV(h)22 b F4(:)c FV(IR)11 b F0(^)e FV(HSp)n(e)n(c)p
Black -433 w F4(\(10.8\))p Black 208 1824 a(where)14
b FV(IR)h F4(sp)q(eci\014es)g(the)f(sequence)i(of)c(v)n(alues)h(sen)o
(t)h(o)o(v)o(er)g FV(h)i F4(as)e(a)f(function)g(of)f(the)i(v)n(alues)
208 1874 y(sen)o(t)i(o)o(v)o(er)f FV(l)t F4(.)22 b(The)16
b(sending)f(of)g(the)h(fourth)f(bit)g(on)g FV(l)k F4(is)d(in)o
(terpreted)h(as)e(the)h(sending)f(of)208 1924 y(the)g(complete)e(n)o
(um)o(b)q(er)h(on)g FV(h)s F4(;)h(the)g(next)f(ac)o(kno)o(wledgmen)o(t)
f(on)h FV(l)19 b F4(is)14 b(in)o(terpreted)i(as)e(the)208
1973 y(sending)e(of)g(the)h(ac)o(kno)o(wledgmen)o(t)e(on)h
FV(h)s F4(;)h(and)f(an)o(y)g(other)h(step)h(is)e(in)o(terpreted)i(as)f
(a)f(step)208 2023 y(that)h(do)q(esn't)i(c)o(hange)f
FV(h)s F4(.)270 2073 y(T)m(o)f(de\014ne)i FV(IR)r F4(,)e(w)o(e)h
(instan)o(tiate)g(mo)q(dule)e FV(Channel)19 b F4(for)13
b(eac)o(h)i(of)e(the)i(c)o(hannels:)p .95 TeXcolorgray
.95 TeXcolorgray 1679 2200 307 158 v .95 TeXcolorgray
Black Black 141 w FY(Data)g FZ(is)d(the)e(set)h(of)1687
2112 y(v)n(alues)f(that)h(can)1687 2152 y(b)q(e)g(sen)o(t)g(o)o(v)o(er)
g(the)1687 2191 y(c)o(hannel.)p Black .95 TeXcolorgray
Black Black Black 332 2160 a FV(H)398 2137 y FI(\001)393
2160 y F4(=)23 b FP(inst)m(ance)16 b FV(Channel)21 b
FP(with)15 b FV(chan)g F0( )c FV(h)s FQ(;)19 b FV(Data)c
F0( )c F4(1)j FQ(:)7 b(:)12 b F4(12)332 2229 y FV(L)398
2205 y FI(\001)393 2229 y F4(=)23 b FP(inst)m(ance)16
b FV(Channel)21 b FP(with)15 b FV(chan)g F0( )c FV(l)t
FQ(;)18 b FV(Data)d F0( )c(f)p F4(0)p FQ(;)i F4(1)p F0(g)208
2312 y F4(Sending)g(a)f(v)n(alue)h FV(d)k F4(o)o(v)o(er)c(c)o(hannel)h
FV(l)j F4(is)c(th)o(us)g(represen)o(ted)j(b)o(y)d(an)g
FV(L)s F4(!)s FV(Send)t F4(\()p FV(d)t F4(\))i(step,)f(and)208
2362 y(ac)o(kno)o(wledging)d(receipt)j(of)e(a)h(v)n(alue)f(on)h(c)o
(hannel)g FV(h)j F4(is)d(represen)o(ted)i(b)o(y)e(an)g
FV(H)d F4(!)s FV(R)n(cv)17 b F4(step.)208 2412 y(The)c(follo)o(wing)e
(b)q(eha)o(vior)i(represen)o(ts)j(sending)e(and)f(ac)o(kno)o(wledging)f
(a)h(5,)g(where)i(I)e(ha)o(v)o(e)p Black Black eop
%%Page: 161 179
161 178 bop Black 208 275 a FR(10.8.)30 b(INTERF)-5 b(A)o(CE)15
b(REFINEMENT)1043 b F4(161)p 208 282 1770 2 v Black 208
391 a(omitted)12 b(all)h(steps)i(that)f(don't)f(c)o(hange)i
FV(l)t F4(:)p Black Black 332 497 a FV(s)352 503 y FS(0)383
463 y FJ(L)s FS(!)s FJ(Send)s FS(\(0\))426 497 y F0(\000)-7
b(!)55 b FV(s)568 503 y FS(1)598 463 y FJ(L)s FS(!)s
FJ(R)n(cv)612 497 y F0(\000)-7 b(!)25 b FV(s)724 503
y FS(2)754 463 y FJ(L)s FS(!)s FJ(Send)s FS(\(1\))798
497 y F0(\000)-7 b(!)54 b FV(s)939 503 y FS(3)970 463
y FJ(L)s FS(!)s FJ(R)n(cv)984 497 y F0(\000)-7 b(!)25
b FV(s)1096 503 y FS(4)1126 463 y FJ(L)s FS(!)s FJ(Send)s
FS(\(0\))1169 497 y F0(\000)-6 b(!)415 592 y FV(s)435
598 y FS(5)466 558 y FJ(L)s FS(!)s FJ(R)n(cv)479 592
y F0(\000)g(!)24 b FV(s)591 598 y FS(6)622 558 y FJ(L)s
FS(!)s FJ(Send)s FS(\(1\))665 592 y F0(\000)-6 b(!)54
b FV(s)807 598 y FS(7)837 558 y FJ(L)s FS(!)s FJ(R)n(cv)851
592 y F0(\000)-7 b(!)25 b FV(s)963 598 y FS(8)1005 592
y F0(\000)-6 b(!)22 b(\001)7 b(\001)g(\001)208 675 y
F4(This)16 b(b)q(eha)o(vior)f(will)g(satisfy)h FV(IR)i
F4(i\013)d FV(s)824 681 y FS(6)858 675 y F0(!)g FV(s)935
681 y FS(7)970 675 y F4(is)h(an)g FV(H)10 b F4(!)s FV(Send)t
F4(\(5\))17 b(step,)g FV(s)1412 681 y FS(7)1447 675 y
F0(!)d FV(s)1523 681 y FS(8)1558 675 y F4(is)i(an)208
725 y FV(H)10 b F4(!)s FV(R)n(cv)18 b F4(step,)d(and)e(all)g(the)i
(other)f(steps)h(lea)o(v)o(e)f FV(h)j F4(unc)o(hanged.)270
775 y(W)m(e)11 b(w)o(an)o(t)g(to)g(mak)o(e)f(sure)i(that)g(\(10.8\))e
(is)h(not)h(satis\014ed)g(unless)g FV(l)j F4(represen)o(ts)f(a)d
(correct)208 824 y(lo)o(w)o(er-lev)o(el)f(c)o(hannel|for)g(example,)g
(\(10.8\))g(should)h(b)q(e)h(false)f(if)f FV(l)15 b F4(is)c(set)h(to)f
(some)f(bizarre)208 874 y(v)n(alue.)17 b(W)m(e)c(will)f(therefore)j
(de\014ne)f FV(IR)h F4(so)f(that,)f(if)g(the)h(sequence)h(of)e(v)n
(alues)g(assumed)g(b)o(y)208 924 y FV(l)k F4(do)q(es)e(not)e(represen)o
(t)j(a)e(c)o(hannel)g(o)o(v)o(er)f(whic)o(h)h(bits)g(are)g(sen)o(t)g
(and)g(ac)o(kno)o(wledged,)f(then)208 974 y(the)j(sequence)i(of)e(v)n
(alues)g(of)f FV(h)k F4(do)q(es)e(not)f(represen)o(t)i(a)e(correct)i(b)
q(eha)o(vior)e(of)f(a)h(c)o(hannel)208 1024 y(o)o(v)o(er)g(whic)o(h)g
(n)o(um)o(b)q(ers)g(from)f(1)h(to)g(12)g(are)h(sen)o(t.)26
b(F)m(orm)o(ula)14 b FV(HSp)n(e)n(c)r F4(,)j(and)f(hence)i(\(10.8\),)
208 1073 y(will)12 b(then)j(b)q(e)f(false)g(for)f(suc)o(h)i(a)e(b)q
(eha)o(vior.)270 1123 y(F)m(orm)o(ula)i FV(IR)20 b F4(will)c(ha)o(v)o
(e)i(the)g(standard)h(form)d(for)h(a)h(TLA)f(sp)q(eci\014cation,)j
(with)d(an)208 1173 y(initial)10 b(condition)i(and)g(a)h(next-state)h
(action.)j(Ho)o(w)o(ev)o(er,)c(it)f(sp)q(eci\014es)i
FV(h)i F4(as)d(a)f(function)g(of)208 1223 y FV(l)t F4(;)k(it)f(do)q(es)
h(not)g(constrain)g FV(l)t F4(.)23 b(Therefore,)17 b(the)f(initial)e
(condition)h(do)q(es)h(not)g(sp)q(ecify)g(the)208 1273
y(initial)10 b(v)n(alue)h(of)h FV(l)t F4(,)g(and)g(the)h(next-state)g
(action)f(do)q(es)h(not)f(sp)q(ecify)h(the)g(v)n(alue)f(of)f
FV(l)1517 1258 y FH(0)1529 1273 y F4(.)17 b(\(The)208
1323 y(v)n(alue)d(of)h FV(l)k F4(is)c(constrained)h(implicitly)c(b)o(y)
j FV(IR)r F4(,)f(whic)o(h)h(asserts)i(a)e(relation)g(b)q(et)o(w)o(een)h
(the)208 1372 y(v)n(alues)d(of)h FV(h)j F4(and)d FV(l)t
F4(,)f(together)i(with)f(the)h(conjunct)f FV(HSp)n(e)n(c)j
F4(in)d(\(10.8\),)e(whic)o(h)i(constrains)208 1422 y(the)k(v)n(alue)f
(of)g FV(h)s F4(.\))31 b(F)m(or)17 b(the)i(next-state)g(action)e(to)h
(sp)q(ecify)g(the)h(v)n(alue)e(sen)o(t)h(on)g FV(h)s
F4(,)h(w)o(e)208 1472 y(need)14 b(an)e(in)o(ternal)h(v)n(ariable)f
(that)h(remem)o(b)q(ers)f(what)h(has)g(b)q(een)h(sen)o(t)g(on)f
FV(l)k F4(since)d(the)f(last)208 1522 y(complete)f(n)o(um)o(b)q(er.)k
(W)m(e)d(let)f(the)i(v)n(ariable)d FV(bitsSent)17 b F4(con)o(tain)12
b(the)h(sequence)i(of)d(bits)h(sen)o(t)208 1572 y(so)h(far)h(for)f(the)
i(curren)o(t)g(n)o(um)o(b)q(er.)k(F)m(or)14 b(con)o(v)o(enience,)i
FV(bitsSent)j F4(con)o(tains)14 b(the)i(sequence)208
1621 y(of)11 b(bits)i(in)f(rev)o(erse)i(order,)f(with)f(the)i(most)d
(recen)o(tly-sen)o(t)j(bit)e(at)g(the)h(head.)18 b(This)13
b(means)208 1671 y(that)d(the)h(high-order)f(bit)g(of)f(the)i(n)o(um)o
(b)q(er,)f(whic)o(h)g(is)g(sen)o(t)h(\014rst,)h(is)e(at)g(the)h(tail)e
(of)g FV(bitsSent)t F4(.)270 1721 y(The)i(de\014nition)g(of)g
FV(IR)i F4(app)q(ears)e(in)g(mo)q(dule)f FV(ChannelR)n(e\014nement)17
b F4(of)10 b(Figure)h(10.4)f(on)208 1771 y(the)h(next)h(page.)17
b(The)11 b(mo)q(dule)f(\014rst)i(de\014nes)g FV(Err)n(orV)m(al)i
F4(to)d(b)q(e)h(an)e(arbitrary)h(v)n(alue)g(that)g(is)208
1821 y(not)g(a)h(legal)e(v)n(alue)h(of)h FV(h)s F4(.)17
b(Next)12 b(comes)g(the)g(de\014nition)f(of)h(the)g(function)f
FV(BitSe)n(qT)m(oNat)t F4(.)17 b(If)208 1870 y FV(s)22
b F4(is)d(a)g(sequence)j(of)d(bits,)h(then)g FV(BitSe)n(qT)m(oNat)t
F4([)p FV(s)s F4(])e(is)i(its)f(n)o(umeric)g(v)n(alue)f(in)o(terpreted)
208 1920 y(as)j(a)g(binary)f(n)o(um)o(b)q(er)h(whose)h(lo)o(w-order)e
(bit)h(is)g(at)g(the)h(head)g(of)e FV(s)s F4(.)40 b(F)m(or)21
b(example)208 1970 y FV(BitSe)n(qT)m(oNat)t F4([)p F0(h)s
F4(0)p FQ(;)12 b F4(1)p FQ(;)i F4(1)s F0(i)p F4(])j(equals)g(6.)27
b(Then)18 b(come)e(the)i(t)o(w)o(o)f(instan)o(tiations)f(of)g(mo)q
(dule)208 2020 y FV(Channel)t F4(.)270 2070 y(There)i(follo)o(ws)d(a)i
(submo)q(dule)f(that)h(de\014nes)h(the)f(in)o(ternal)g(sp)q
(eci\014cation|the)h(one)p .95 TeXcolorgray .95 TeXcolorgray
1679 2354 307 316 v .95 TeXcolorgray Black Black 41 w
FZ(The)12 b(use)f(of)g(a)h(sub-)1687 2109 y(mo)q(dule)e(to)h(de\014ne)
1687 2149 y(an)g(in)o(ternal)f(sp)q(ec-)1687 2188 y(i\014cation)g(w)o
(as)i(in-)1687 2227 y(tro)q(duced)d(in)j(the)1687 2267
y(real-time)d(hour-)1687 2306 y(clo)q(c)o(k)i(sp)q(eci\014catio)o(n)
1687 2346 y(of)h(Section)d(9.1.)p Black .95 TeXcolorgray
Black 208 2120 a F4(with)18 b(the)h(in)o(ternal)f(v)n(ariable)f
FV(bitsSent)22 b F4(visible.)31 b(The)19 b(in)o(ternal)f(sp)q
(eci\014cation's)h(initial)208 2169 y(predicate)13 b
FV(Init)j F4(asserts)e(that)e(if)f FV(l)16 b F4(has)d(a)f(legal)f
(initial)f(v)n(alue,)h(then)i FV(h)j F4(can)c(ha)o(v)o(e)g(an)o(y)g
(legal)208 2219 y(initial)k(v)n(alue;)i(otherwise)h FV(h)j
F4(has)c(an)f(illegal)f(v)n(alue.)30 b(Initially)16 b
FV(bitsSent)22 b F4(is)17 b(the)i(empt)o(y)208 2269 y(sequence)e
F0(h)7 b(i)p F4(.)21 b(The)16 b(in)o(ternal)f(sp)q(eci\014cation's)g
(next-state)i(action)d(is)h(the)h(disjunction)e(of)208
2319 y(three)h(actions:)p Black 270 2402 a FV(SendBit)p
Black 25 w F4(A)h FV(SendBit)21 b F4(step)c(is)f(one)h(in)e(whic)o(h)h
(a)g(bit)g(is)g(sen)o(t)h(on)f FV(l)t F4(.)25 b(If)16
b FV(bitsSent)k F4(has)437 2452 y(few)o(er)f(than)f(three)i(elemen)o
(ts,)e(so)h(few)o(er)f(than)g(three)i(bits)e(ha)o(v)o(e)g(already)437
2501 y(b)q(een)e(sen)o(t,)e(then)h(the)g(bit)f(is)g(prep)q(ended)i(to)e
(the)h(head)g(of)e FV(bitsSent)18 b F4(and)d FV(h)p Black
Black eop
%%Page: 162 180
162 179 bop Black 208 275 a F4(162)766 b FR(CHAPTER)14
b(10.)31 b(COMPOSING)15 b(SPECIFICA)m(TIONS)p 208 282
1770 2 v Black Black Black Black 188 395 2 25 v 190 372
628 2 v 831 379 a FP(module)g FV(ChannelR)n(e\014nement)p
1368 372 V 1996 395 2 25 v .95 TeXcolorgray .95 TeXcolorgray
200 609 1734 209 v .95 TeXcolorgray Black 208 437 a FZ(This)c(mo)q
(dule)f(de\014nes)f(an)i(in)o(terface)f(re\014nemen)o(t)e(from)i(a)i
(higher-lev)o(e)o(l)d(c)o(hannel)g FY(h)s FZ(,)j(o)o(v)o(er)e(whic)o(h)
h(n)o(um)o(b)q(ers)f(in)h(1)g Fw(:)6 b(:)12 b FZ(12)f(are)208
476 y(sen)o(t,)f(to)h(a)h(lo)o(w)o(er-lev)o(el)d(c)o(hannel)h
FY(l)15 b FZ(in)c(whic)o(h)g(a)g(n)o(um)o(b)q(er)f(is)h(sen)o(t)g(as)g
(a)h(sequence)d(of)i(four)f(bits,)h(eac)o(h)f(separately)f(ac)o(kno)o
(wl-)208 516 y(edged.)15 b(\(See)c(the)f FY(Channel)16
b FZ(mo)q(dule)9 b(in)j(Figure)e(3.2)h(on)g(page)f(30.\))17
b(F)m(orm)o(ula)9 b FY(IR)k FZ(is)e(true)g(i\013)g(the)g(sequence)e(of)
i(v)n(alues)f(as-)208 555 y(sumed)g(b)o(y)h FY(h)j FZ(represen)o(ts)9
b(the)i(higher-lev)o(el)d(view)k(of)f(the)g(sequence)e(of)i(v)n(alues)f
(sen)o(t)h(on)g FY(l)s FZ(.)18 b(If)11 b(the)g(sequence)e(of)i(v)n
(alues)f(as-)208 595 y(sumed)g(b)o(y)h FY(l)k FZ(do)q(esn't)9
b(represen)o(t)h(the)g(sending)g(and)h(ac)o(kno)o(wledgin)o(g)e(of)i
(bits,)g(then)f FY(h)15 b FZ(assumes)10 b(an)h(illegal)e(v)n(alue.)p
.95 TeXcolorgray Black 208 656 a FP(extends)16 b FV(Natur)n(als)s
FQ(;)7 b FV(Se)n(quenc)n(es)208 718 y FP(v)l(ariables)17
b FV(h)s FQ(;)h FV(l)208 787 y(Err)n(orV)m(al)410 764
y FI(\001)406 787 y F4(=)35 b FP(choose)16 b FV(v)23
b F4(:)18 b FV(v)j FQ(=)-26 b F0(2)11 b F4([)p FV(val)h
F4(:)c(1)13 b FQ(:)7 b(:)13 b F4(12)p FQ(;)18 b FV(r)n(dy)11
b F4(:)d F0(f)p F4(0)p FQ(;)f F4(1)p F0(g)p FQ(;)16 b
FV(ack)d F4(:)8 b F0(f)p F4(0)p FQ(;)f F4(1)p F0(g)p
F4(])208 856 y FV(BitSe)n(qT)m(oNat)t F4([)p FV(s)14
b F0(2)d FV(Se)n(q)t F4(\()p F0(f)p F4(0)p FQ(;)c F4(1)p
F0(g)p F4(\)])771 833 y FI(\001)766 856 y F4(=)p .95
TeXcolorgray .95 TeXcolorgray 846 876 1004 57 v .95 TeXcolorgray
Black 56 w FY(BitSe)n(qT)m(oNat)s FZ([)p FW(h)s FY(b)1097
861 y FK(0)1116 856 y Fw(;)k FY(b)1155 861 y FK(1)1173
856 y Fw(;)g FY(b)1212 861 y FK(2)1230 856 y Fw(;)h FY(b)1270
861 y FK(3)1290 856 y FW(i)p FZ(])e(=)g FY(b)1379 861
y FK(0)1405 856 y FZ(+)e(2)f FW(\003)h FZ(\()p FY(b)1523
861 y FK(1)1548 856 y FZ(+)g(2)g FW(\003)f FZ(\()p FY(b)1666
861 y FK(2)1692 856 y FZ(+)h(2)f FW(\003)h FY(b)1796
861 y FK(3)1814 856 y FZ(\)\))p .95 TeXcolorgray Black
250 918 a FP(if)23 b FV(s)15 b F4(=)d F0(h)7 b(i)23 b
FP(then)g F4(0)h FP(else)g FV(He)n(ad)t F4(\()p FV(s)s
F4(\))10 b(+)f(2)g F0(\003)g FV(BitSe)n(qT)m(oNat)t F4([)p
FV(T)m(ail)t F4(\()p FV(s)s F4(\)])208 987 y FV(H)273
964 y FI(\001)268 987 y F4(=)24 b FP(inst)m(ance)16 b
FV(Channel)k FP(with)15 b FV(chan)h F0( )11 b FV(h)s
FQ(;)18 b FV(Data)d F0( )c F4(1)j FQ(:)7 b(:)13 b F4(12)208
1056 y FV(L)273 1033 y FI(\001)268 1056 y F4(=)24 b FP(inst)m(ance)16
b FV(Channel)k FP(with)15 b FV(chan)h F0( )11 b FV(l)t
FQ(;)18 b FV(Data)d F0( )c(f)p F4(0)p FQ(;)c F4(1)p F0(g)p
.95 TeXcolorgray .95 TeXcolorgray 1314 1074 601 124 v
.95 TeXcolorgray Black 1323 987 a FY(H)17 b FZ(is)12
b(a)f(c)o(hannel)e(for)i(sending)f(n)o(um)o(b)q(ers)1323
1027 y(in)h(1)g Fw(:)6 b(:)12 b FZ(12;)e FY(L)j FZ(is)e(a)g(c)o(hannel)
f(for)h(sending)1323 1066 y(bits.)p .95 TeXcolorgray
Black Black Black 230 1136 2 25 v 232 1113 731 2 v 978
1120 a FP(module)16 b FV(Inner)p 1264 1113 V 1995 1136
2 25 v 250 1178 a FP(v)l(ariable)h FV(bitsSent)p .95
TeXcolorgray .95 TeXcolorgray 625 1199 940 57 v .95 TeXcolorgray
Black 47 w FZ(The)11 b(sequence)f(of)h(the)g(bits)f(sen)o(t)h(so)h(far)
e(for)h(the)g(curren)o(t)f(n)o(um)o(b)q(er.)p .95 TeXcolorgray
Black 250 1247 a FV(Init)359 1224 y FI(\001)354 1247
y F4(=)35 b F0(^)15 b FV(bitsSent)g F4(=)d F0(h)7 b(i)421
1297 y(^)15 b FP(if)23 b FV(L)s F4(!)s FV(Init)k FP(then)d
FV(H)10 b F4(!)s FV(Init)659 1347 y FP(else)36 b FV(h)15
b F4(=)c FV(Err)n(orV)m(al)p .95 TeXcolorgray .95 TeXcolorgray
1058 1317 740 57 v .95 TeXcolorgray Black 1066 1297 a
FZ(De\014nes)g(the)f(initial)g(v)n(alue)g(of)i FY(h)i
FZ(as)e(a)f(function)e(of)i FY(l)s FZ(.)p .95 TeXcolorgray
Black 250 1404 a FV(SendBit)436 1380 y FI(\001)431 1404
y F4(=)35 b F0(9)7 b FV(b)14 b F0(2)e(f)p F4(0)p FQ(;)7
b F4(1)p F0(g)16 b F4(:)541 1453 y F0(^)e FV(L)s F4(!)s
FV(Send)t F4(\()p FV(b)s F4(\))541 1503 y F0(^)g FP(if)23
b FV(L)n(en)s F4(\()p FV(bitsSent)t F4(\))13 b FQ(<)e
F4(3)616 1553 y FP(then)24 b F0(^)15 b FV(bitsSent)927
1538 y FH(0)950 1553 y F4(=)d F0(h)s FV(b)6 b F0(i)k(\016)f
FV(bitsSent)738 1603 y F0(^)15 b FP(unchanged)i FV(h)616
1653 y FP(else)36 b F0(^)15 b FV(bitsSent)927 1638 y
FH(0)950 1653 y F4(=)d F0(h)7 b(i)738 1703 y(^)15 b FV(H)10
b F4(!)s FV(Send)t F4(\()p FV(BitSe)n(qT)m(oNat)t F4([)p
F0(h)s FV(b)c F0(i)11 b(\016)e FV(bitsSent)t F4(]\))p
.95 TeXcolorgray .95 TeXcolorgray 1412 1609 548 242 v
.95 TeXcolorgray Black 1420 1404 a FZ(Sending)g(one)i(of)g(the)g
(\014rst)g(three)f(bits)1420 1443 y(on)h FY(l)k FZ(prep)q(ends)9
b(it)i(to)h(the)e(fron)o(t)h(of)1420 1483 y FY(bitsSent)k
FZ(and)10 b(lea)o(v)o(es)h FY(h)j FZ(unc)o(hanged;)1420
1522 y(sending)9 b(the)i(fourth)f(bit)h(resets)1420 1561
y FY(bitsSent)k FZ(and)10 b(sends)h(the)g(complete)1420
1601 y(n)o(um)o(b)q(er)e(on)i FY(h)s FZ(.)p .95 TeXcolorgray
Black 250 1772 a FV(R)n(cvBit)415 1748 y FI(\001)411
1772 y F4(=)34 b F0(^)15 b FV(L)s F4(!)s FV(R)n(cv)477
1821 y F0(^)g FP(if)23 b FV(bitsSent)16 b F4(=)c F0(h)7
b(i)22 b FP(then)i FV(H)10 b F4(!)s FV(R)n(cv)841 1871
y FP(else)36 b(unchanged)17 b FV(h)477 1921 y F0(^)e
FP(unchanged)i FV(bitsSent)p .95 TeXcolorgray .95 TeXcolorgray
1265 1865 530 130 v .95 TeXcolorgray Black 1273 1772
a FZ(A)12 b FY(R)n(cv)17 b FZ(action)10 b(on)h FY(l)k
FZ(causes)10 b(a)h FY(R)n(cv)1273 1811 y FZ(action)f(on)h
FY(h)k FZ(i\013)c(it)g(follo)o(ws)g(the)1273 1850 y(sending)f(of)h(the)
g(fourth)f(bit.)p .95 TeXcolorgray Black 250 1990 a FV(Err)n(or)394
1966 y FI(\001)389 1990 y F4(=)35 b F0(^)14 b FV(l)513
1975 y FH(0)536 1990 y F0(6)p F4(=)e FV(l)456 2040 y
F0(^)i(:)p F4(\(\()p F0(9)7 b FV(b)14 b F0(2)e(f)p F4(0)p
FQ(;)7 b F4(1)p F0(g)17 b F4(:)h FV(L)s F4(!)s FV(Send)t
F4(\()p FV(b)s F4(\)\))11 b F0(_)e FV(L)s F4(!)s FV(R)n(cv)t
F4(\))456 2090 y F0(^)14 b FV(h)522 2074 y FH(0)546 2090
y F4(=)e FV(Err)n(orV)m(al)p .95 TeXcolorgray .95 TeXcolorgray
1228 2010 654 57 v .95 TeXcolorgray Black 1236 1990 a
FZ(An)g(illegal)e(action)g(on)h FY(l)k FZ(sets)c FY(h)k
FZ(to)c FY(Err)n(orV)m(al)s FZ(.)p .95 TeXcolorgray Black
250 2171 a FV(Next)376 2148 y FI(\001)372 2171 y F4(=)34
b FV(SendBit)21 b F0(_)16 b FV(R)n(cvBit)k F0(_)c FV(Err)n(or)250
2240 y(InnerIR)437 2217 y FI(\001)432 2240 y F4(=)35
b FV(Init)20 b F0(^)15 b FG(2)p F4([)p FV(Next)t F4(])770
2247 y FH(h)s FJ(l)s Fy(;)5 b FJ(h)s Fy(;)t FJ(bitsSent)g
FH(i)p 230 2261 2 25 v 232 2261 1764 2 v 1996 2261 2
25 v 208 2329 a FV(I)i F4(\()p FV(bitsSent)t F4(\))448
2305 y FI(\001)443 2329 y F4(=)35 b FP(inst)m(ance)16
b FV(Inner)208 2398 y(IR)295 2374 y FI(\001)290 2398
y F4(=)357 2396 y F0(9)-22 b(9)g(9)357 2398 y(9)g(9)g(9)7
b FV(bitsSent)23 b F4(:)18 b FV(I)7 b F4(\()p FV(bitsSent)t
F4(\))s(!)s FV(InnerIR)p 188 2419 V 190 2419 1806 2 v
1996 2419 2 25 v Black 785 2509 a FU(Figure)14 b(10.4:)k
F4(Re\014ning)c(a)f(c)o(hannel.)p Black Black Black Black
eop
%%Page: 163 181
163 180 bop Black 208 275 a FR(10.8.)30 b(INTERF)-5 b(A)o(CE)15
b(REFINEMENT)1043 b F4(163)p 208 282 1770 2 v Black 437
391 a(is)12 b(left)g(unc)o(hanged.)17 b(Otherwise,)d(the)e(v)n(alue)f
(represen)o(ted)k(b)o(y)d(the)g(four)g(bits)437 441 y(sen)o(t)17
b(so)g(far,)e(including)h(the)g(curren)o(t)i(bit,)e(is)g(sen)o(t)h(on)f
FV(h)k F4(and)c FV(bitsSent)k F4(is)437 491 y(reset)c(to)d
F0(h)7 b(i)p F4(.)p Black 270 574 a FV(R)n(cvBit)p Black
45 w F4(A)16 b FV(R)n(cvBit)j F4(step)d(is)f(one)g(in)g(whic)o(h)g(an)g
(ac)o(kno)o(wledgmen)o(t)f(is)h(sen)o(t)h(on)f FV(l)t
F4(.)22 b(It)437 624 y(represen)o(ts)h(the)d(sending)g(of)f(an)g(ac)o
(kno)o(wledgmen)o(t)f(on)i FV(h)j F4(i\013)c(this)h(is)f(an)437
674 y(ac)o(kno)o(wledgmen)o(t)14 b(of)h(the)i(fourth)e(bit,)g(whic)o(h)
h(is)f(true)i(i\013)e FV(bitsSent)20 b F4(is)15 b(the)437
723 y(empt)o(y)e(sequence.)p Black 270 806 a FV(Err)n(or)p
Black 66 w F4(An)h FV(Err)n(or)j F4(step)e(is)f(one)g(in)f(whic)o(h)h
(an)f(illegal)f(c)o(hange)i(to)g FV(l)j F4(o)q(ccurs.)j(It)14
b(sets)437 856 y FV(h)j F4(to)d(an)g(illegal)e(v)n(alue.)208
939 y(The)e(inner)g(sp)q(eci\014cation)h FV(InnerIR)h
F4(has)e(the)g(usual)g(form.)15 b(\(There)c(is)f(no)g(liv)o(eness)g
(require-)208 989 y(men)o(t.\))21 b(The)15 b(outer)h(mo)q(dule)e(then)i
(instan)o(tiates)f(the)h(inner)g(submo)q(dule)e(with)h
FV(bitsSent)208 1039 y F4(as)f(a)f(parameter,)g(and)h(it)f(de\014nes)j
FV(IR)f F4(to)f(equal)g FV(InnerIR)i F4(with)d FV(bitsSent)18
b F4(hidden.)270 1089 y(No)o(w)10 b(supp)q(ose)i(w)o(e)f(ha)o(v)o(e)f
(a)g(mo)q(dule)f FV(HigherSp)n(e)n(c)k F4(that)e(de\014nes)h(a)e(sp)q
(eci\014cation)h FV(HSp)n(e)n(c)208 1139 y F4(of)k(a)h(system)g(that)g
(comm)o(unicates)e(b)o(y)i(sending)h(n)o(um)o(b)q(ers)f(from)e(1)i
(through)g(12)g(o)o(v)o(er)g(a)208 1188 y(c)o(hannel)c
FV(hchan)s F4(.)19 b(W)m(e)13 b(obtain,)e(as)i(follo)o(ws,)e(a)i(lo)o
(w)o(er-lev)o(el)f(sp)q(eci\014cation)h FV(LSp)n(e)n(c)j
F4(in)c(whic)o(h)208 1238 y(the)j(n)o(um)o(b)q(ers)g(are)h(sen)o(t)g
(as)f(sequences)i(of)e(bits)g(on)g(a)g(c)o(hannel)g FV(lchan)s
F4(.)22 b(W)m(e)15 b(\014rst)h(declare)208 1288 y FV(lchan)d
F4(and)c(all)f(the)j(v)n(ariables)d(and)i(constan)o(ts)g(of)f(the)h
FV(HigherSp)n(e)n(c)i F4(mo)q(dule)c(except)j FV(hchan)s
F4(.)208 1338 y(W)m(e)i(then)i(write)p Black Black 332
1421 a FV(HS)5 b F4(\()p FV(hchan)s F4(\))572 1397 y
FI(\001)567 1421 y F4(=)35 b FP(inst)m(ance)16 b FV(HigherSp)n(e)n(c)
332 1489 y(CR)r F4(\()p FV(h)s F4(\))490 1466 y FI(\001)485
1489 y F4(=)35 b FP(inst)m(ance)16 b FV(ChannelR)n(e\014nement)21
b FP(with)15 b FV(l)h F0( )11 b FV(lchan)332 1558 y(LSp)n(e)n(c)478
1534 y FI(\001)474 1558 y F4(=)540 1556 y F0(9)-21 b(9)g(9)540
1558 y(9)g(9)g(9)7 b FV(h)21 b F4(:)d FV(CR)r F4(\()p
FV(h)s F4(\))s(!)s FV(IR)h F0(^)d FV(HS)5 b F4(\()p FV(h)s
F4(\))s(!)s FV(HSp)n(e)n(c)208 1681 y F3(10.8.3)65 b(In)n(terface)22
b(Re\014nemen)n(t)h(in)g(General)208 1772 y F4(In)18
b(the)h(examples)f(of)g(the)h(binary)f(clo)q(c)o(k)h(and)f(of)g(c)o
(hannel)h(re\014nemen)o(t,)h(w)o(e)e(de\014ned)i(a)208
1821 y(lo)o(w)o(er-lev)o(el)13 b(sp)q(eci\014cation)h
FV(LSp)n(e)n(c)j F4(in)c(terms)h(of)f(a)h(higher-lev)o(el)f(one)i
FV(HSp)n(e)n(c)h F4(as)p Black Black 332 1909 a FV(LSp)n(e)n(c)478
1885 y FI(\001)474 1909 y F4(=)540 1907 y F0(9)-21 b(9)g(9)540
1909 y(9)g(9)g(9)7 b FV(h)21 b F4(:)d FV(IR)12 b F0(^)c
FV(HSp)n(e)n(c)p Black -641 w F4(\(10.9\))p Black 208
1992 a(where)13 b FV(h)i F4(is)c(a)h(free)h(v)n(ariable)d(of)i
FV(HSp)n(e)n(c)i F4(and)e FV(IR)h F4(is)f(a)g(relation)f(b)q(et)o(w)o
(een)i FV(h)i F4(and)d(the)g(lo)o(w)o(er-)208 2041 y(lev)o(el)i(v)n
(ariable)g FV(l)k F4(of)c FV(LSp)n(e)n(c)r F4(.)22 b(W)m(e)14
b(can)h(view)g(the)g(in)o(ternal)g(sp)q(eci\014cation)g
FV(IR)d F0(^)d FV(HSp)n(e)n(c)18 b F4(as)208 2091 y(the)c(comp)q
(osition)e(of)h(t)o(w)o(o)h(comp)q(onen)o(ts,)f(as)h(sho)o(wn)g(here:)p
Black Black 408 2216 a FV(l)p 332 2227 167 2 v 457 2226
a Fz(-)p 496 2160 170 2 v 496 2293 2 133 v 557 2241 a
FV(IR)p 664 2293 V 496 2295 170 2 v 829 2160 V 829 2293
2 133 v 857 2237 a(HSp)n(e)n(c)p 996 2293 V 829 2295
170 2 v 735 2216 a(h)p 664 2227 167 2 v 789 2226 a Fz(-)208
2376 y F4(W)m(e)d(can)g(regard)h FV(IR)i F4(as)d(the)i(sp)q
(eci\014cation)f(of)f(a)g(comp)q(onen)o(t)g(that)h(transforms)e(the)i
(lo)o(w)o(er-)208 2426 y(lev)o(el)i(b)q(eha)o(vior)h(of)g
FV(l)k F4(in)o(to)c(the)g(higher-lev)o(el)g(b)q(eha)o(vior)g(of)g
FV(h)s F4(.)22 b(F)m(orm)o(ula)13 b FV(IR)k F4(is)e(called)g(an)208
2475 y FV(interfac)n(e)f(r)n(e\014nement)p F4(.)p Black
Black eop
%%Page: 164 182
164 181 bop Black 208 275 a F4(164)766 b FR(CHAPTER)14
b(10.)31 b(COMPOSING)15 b(SPECIFICA)m(TIONS)p 208 282
1770 2 v Black 270 391 a F4(In)c(b)q(oth)g(examples,)f(the)h(in)o
(terface)g(re\014nemen)o(t)h(is)e(indep)q(enden)o(t)i(of)f(the)g
(system)g(sp)q(ec-)208 441 y(i\014cation.)16 b(It)c(dep)q(ends)i(only)d
(on)g(the)i(represen)o(tation)g(of)e(the)i(in)o(terface|that)f(is,)g
(on)f(ho)o(w)208 491 y(the)j(in)o(teraction)h(b)q(et)o(w)o(een)g(the)g
(system)f(and)g(its)g(en)o(vironmen)o(t)g(is)g(represen)o(ted.)22
b(In)14 b(gen-)208 541 y(eral,)h(for)h(an)f(in)o(terface)i(re\014nemen)
o(t)f FV(IR)h F4(to)f(b)q(e)g(indep)q(enden)o(t)i(of)d(the)h(system)g
(using)f(the)208 591 y(in)o(terface,)f(it)f(should)h(ascrib)q(e)h(a)f
(b)q(eha)o(vior)g(of)f(the)i(higher-lev)o(el)e(in)o(terface)i(v)n
(ariable)e FV(h)k F4(to)208 640 y(an)o(y)e(b)q(eha)o(vior)g(of)h(the)g
(lo)o(w)o(er-lev)o(el)f(v)n(ariable)g FV(l)t F4(.)23
b(In)16 b(other)h(w)o(ords,)f(for)f(an)o(y)h(sequence)h(of)208
690 y(v)n(alues)12 b(for)h FV(l)t F4(,)g(there)h(should)f(b)q(e)h(some)
e(sequence)k(of)c(v)n(alues)h(for)g FV(h)j F4(that)d(satisfy)g
FV(IR)r F4(.)18 b(This)208 740 y(is)11 b(expressed)j(mathematicall)o(y)
9 b(b)o(y)i(the)i(requiremen)o(t)e(that)h(the)g(form)o(ula)1383
738 y F0(9)-21 b(9)g(9)1383 740 y(9)g(9)g(9)6 b FV(h)12
b F4(:)c FV(IR)13 b F4(should)208 790 y(b)q(e)h(v)n(alid|that)e(is,)h
(true)i(for)f(all)e(b)q(eha)o(viors.)270 840 y(So)g(far,)g(I)g(ha)o(v)o
(e)h(discussed)h(re\014nemen)o(t)f(of)e(a)i(single)f(in)o(terface)h(v)n
(ariable)e FV(h)16 b F4(b)o(y)c(a)g(single)208 889 y(v)n(ariable)g
FV(l)t F4(.)19 b(This)14 b(generalizes)h(in)e(the)i(ob)o(vious)e(w)o(a)
o(y)g(to)h(the)h(re\014nemen)o(t)f(of)g(a)f(collection)208
939 y(of)18 b(higher-lev)o(el)g(v)n(ariables)h FV(h)688
945 y FS(1)707 939 y FQ(;)7 b(:)g(:)g(:)e(;)i FV(h)824
945 y FJ(n)866 939 y F4(b)o(y)19 b(the)g(v)n(ariables)g
FV(l)1198 945 y FS(1)1216 939 y FQ(;)7 b(:)g(:)g(:)e(;)i
FV(l)1324 945 y FJ(m)1356 939 y F4(.)33 b(The)19 b(in)o(terface)208
989 y(re\014nemen)o(t)14 b FV(IR)i F4(sp)q(eci\014es)g(the)f(v)n(alues)
f(of)g(the)h FV(h)975 995 y FJ(i)1005 989 y F4(in)f(terms)g(of)f(the)i
(v)n(alues)f(of)g(the)h FV(l)1548 995 y FJ(j)1579 989
y F4(and)208 1039 y(p)q(erhaps)g(of)e(other)h(v)n(ariables)g(as)f(w)o
(ell.)18 b(F)m(orm)o(ula)11 b(\(10.9\))i(is)h(replaced)h(b)o(y)p
Black Black 332 1121 a FV(LSp)n(e)n(c)478 1097 y FI(\001)474
1121 y F4(=)540 1119 y F0(9)-21 b(9)g(9)540 1121 y(9)g(9)g(9)7
b FV(h)598 1127 y FS(1)617 1121 y FQ(;)g(:)g(:)g(:)t(;)g
FV(h)733 1127 y FJ(n)776 1121 y F4(:)18 b FV(IR)11 b
F0(^)e FV(HSp)n(e)n(c)270 1196 y F4(A)18 b(particularly)f(simple)f(t)o
(yp)q(e)j(of)e(in)o(terface)h(re\014nemen)o(t)g(is)g(a)g
FV(data)h(r)n(e\014nement)p F4(,)f(in)208 1246 y(whic)o(h)h
FV(IR)h F4(has)g(the)f(form)f FG(2)p FV(P)t F4(,)i(where)g
FV(P)k F4(is)19 b(a)f(state)i(predicate)g(that)g(expresses)h(the)208
1296 y(v)n(alues)15 b(of)h(the)h(higher-lev)o(el)f(v)n(ariables)f
FV(h)879 1302 y FS(1)898 1296 y FQ(;)7 b(:)g(:)g(:)e(;)i
FV(h)1015 1302 y FJ(n)1055 1296 y F4(as)16 b(functions)g(of)g(the)h(v)n
(alues)f(of)f(the)208 1346 y(lo)o(w)o(er-lev)o(el)j(v)n(ariables)g
FV(l)608 1352 y FS(1)627 1346 y FQ(;)7 b(:)g(:)g(:)e(;)i
FV(l)735 1352 y FJ(m)766 1346 y F4(.)34 b(The)20 b(in)o(terface)g
(re\014nemen)o(t)f(in)g(our)g(binary)g(clo)q(c)o(k)208
1396 y(sp)q(eci\014cation)13 b(is)g(a)g(data)g(re\014nemen)o(t,)g
(where)h FV(P)j F4(is)c(the)h(predicate)g FV(hr)i F4(=)11
b FV(HourV)m(al)t F4(\()p FV(bits)s F4(\).)208 1445 y(As)18
b(another)f(example,)g(the)h(t)o(w)o(o)f(sp)q(eci\014cations)i(of)e(an)
g(async)o(hronous)h(c)o(hannel)g(in)o(ter-)208 1495 y(face)e(in)h
(Chapter)g(3)f(can)h(eac)o(h)g(b)q(e)g(obtained)g(from)d(the)k(other)f
(b)o(y)f(an)h(in)o(terface)g(re\014ne-)208 1545 y(men)o(t.)h(The)d(sp)q
(eci\014cation)h FV(Sp)n(e)n(c)h F4(of)d(the)h FV(Channel)k
F4(mo)q(dule)13 b(\(page)i(30\))f(is)g(equiv)n(alen)o(t)g(to)208
1595 y(the)i(sp)q(eci\014cation)g(obtained)f(as)h(a)f(data)h
(re\014nemen)o(t)f(of)g(the)i(sp)q(eci\014cation)f FV(Sp)n(e)n(c)i
F4(of)d(the)208 1645 y FV(AsynchInterfac)n(e)i F4(mo)q(dule)12
b(\(page)i(27\))g(b)o(y)f(letting)h FV(P)k F4(equal)p
Black Black 353 1720 a FV(chan)d F4(=)d([)p FV(val)k
F0(7!)11 b FV(val)t FQ(;)i FV(r)n(dy)i F0(7!)c FV(r)n(dy)t
FQ(;)i FV(ack)j F0(7!)11 b FV(ack)t F4(])p Black -914
w(\(10.10\))p Black 208 1796 a(This)g(form)o(ula)e(asserts)j(that)g
FV(chan)j F4(is)c(a)g(record)i(whose)f FV(val)j F4(\014eld)d(is)f(the)h
(v)n(alue)e(of)h(the)h(v)n(ari-)208 1845 y(able)d FV(val)t
F4(,)h(whose)h FV(r)n(dy)i F4(\014eld)d(is)g(the)g(v)n(alue)f(of)g(the)
i(v)n(ariable)d FV(r)n(dy)t F4(,)i(and)g(whose)g FV(ack)15
b F4(\014eld)10 b(is)f(the)208 1895 y(v)n(alue)k(of)g(the)i(v)n
(ariable)d FV(ack)t F4(.)19 b(Con)o(v)o(ersely)m(,)13
b(sp)q(eci\014cation)i FV(Sp)n(e)n(c)i F4(of)c(the)h
FV(AsynchInterfac)n(e)208 1945 y F4(mo)q(dule)8 b(is)i(equiv)n(alen)o
(t)f(to)g(a)h(data)f(re\014nemen)o(t)i(of)e(the)h(sp)q(eci\014cation)h
FV(Sp)n(e)n(c)h F4(of)e(the)g FV(Channel)208 1995 y F4(mo)q(dule.)15
b(In)c(this)f(case,)i(de\014ning)e(the)i(state)f(predicate)h
FV(P)j F4(is)10 b(a)g(little)g(tric)o(ky)m(.)17 b(The)11
b(ob)o(vious)208 2045 y(c)o(hoice)j(is)g(to)f(let)h FV(P)19
b F4(b)q(e)14 b(the)h(form)o(ula)c FV(Go)n(o)n(dV)m(als)17
b F4(de\014ned)e(b)o(y)p Black Black 332 2124 a FV(Go)n(o)n(dV)m(als)
543 2101 y FI(\001)538 2124 y F4(=)35 b F0(^)13 b FV(val)j
F4(=)c FV(chan)s FQ(:)p FV(val)605 2174 y F0(^)h FV(r)n(dy)i
F4(=)d FV(chan)s FQ(:)p FV(r)n(dy)605 2224 y F0(^)h FV(ack)k
F4(=)12 b FV(chan)s FQ(:)p FV(ack)208 2298 y F4(Ho)o(w)o(ev)o(er,)k
(this)g(can)g(assert)h(that)f FV(val)t F4(,)g FV(r)n(dy)t
F4(,)f(and)g FV(ack)21 b F4(ha)o(v)o(e)16 b(go)q(o)q(d)f(v)n(alues)g
(ev)o(en)i(if)e FV(chan)208 2347 y F4(has)g(an)h(illegal)e(v)n
(alue|for)g(example,)g(if)h(it)g(is)h(a)f(record)i(with)f(more)e(than)i
(three)h(\014elds.)208 2397 y(Instead,)d(w)o(e)g(let)g
FV(P)k F4(equal)p Black Black 332 2473 a FP(if)23 b FV(chan)g
F0(2)18 b F4([)p FV(val)12 b F4(:)7 b FV(Data)s FQ(;)19
b FV(r)n(dy)11 b F4(:)d F0(f)p F4(0)p FQ(;)f F4(1)p F0(g)p
FQ(;)17 b FV(ack)12 b F4(:)c F0(f)p F4(0)p FQ(;)f F4(1)p
F0(g)p F4(])20 b FP(then)j FV(Go)n(o)n(dV)m(als)1204
2522 y FP(else)35 b FV(BadV)m(als)p Black Black eop
%%Page: 165 183
165 182 bop Black 208 275 a FR(10.8.)30 b(INTERF)-5 b(A)o(CE)15
b(REFINEMENT)1043 b F4(165)p 208 282 1770 2 v Black 208
391 a(where)20 b FV(BadV)m(als)i F4(asserts)e(that)f
FV(val)t F4(,)h FV(r)n(dy)t F4(,)f(and)f FV(ack)24 b
F4(ha)o(v)o(e)19 b(some)f(illegal)f(v)n(alues|that)208
441 y(is,)f(v)n(alues)h(that)g(are)g(imp)q(ossible)e(in)h(a)h(b)q(eha)o
(vior)f(satisfying)g(form)o(ula)f FV(Sp)n(e)n(c)k F4(of)d(mo)q(dule)208
491 y FV(AsynchInterfac)n(e)s F4(.)i(\(W)m(e)13 b(don't)g(need)h(suc)o
(h)g(a)g(tric)o(k)f(when)h(de\014ning)f FV(chan)18 b
F4(as)13 b(a)g(function)208 541 y(of)i FV(val)t F4(,)i
FV(r)n(dy)t F4(,)f(and)g FV(ack)21 b F4(b)q(ecause)e(\(10.10\))c
(implies)f(that)j(the)g(v)n(alue)e(of)h FV(chan)21 b
F4(is)16 b(legal)f(i\013)208 591 y(the)f(v)n(alues)g(of)f(all)g(three)i
(v)n(ariables)e FV(val)t F4(,)h FV(r)n(dy)t F4(,)e(and)i
FV(ack)19 b F4(are)14 b(legal.\))270 640 y(Data)19 b(re\014nemen)o(t)i
(is)f(the)h(simplest)e(form)g(of)g(in)o(terface)i(re\014nemen)o(t.)38
b(In)20 b(a)g(more)208 690 y(complicated)13 b(in)o(terface)j
(re\014nemen)o(t,)f(the)h(v)n(alue)e(of)g(the)i(higher-lev)o(el)e(v)n
(ariables)h(cannot)208 740 y(b)q(e)g(expressed)i(as)e(a)f(function)h
(of)f(the)h(curren)o(t)h(v)n(alues)f(of)f(the)h(lo)o(w)o(er-lev)o(el)f
(v)n(ariables.)20 b(In)208 790 y(the)13 b(c)o(hannel)g(re\014nemen)o(t)
g(example)f(of)g(Section)i(10.8.2,)c(the)k(n)o(um)o(b)q(er)e(b)q(eing)h
(sen)o(t)h(on)e(the)208 840 y(higher-lev)o(el)i(c)o(hannel)h(dep)q
(ends)h(on)e(the)i(v)n(alues)e(of)g(bits)h(that)g(w)o(ere)g(previously)
g(sen)o(t)g(on)208 889 y(the)f(lo)o(w)o(er-lev)o(el)f(c)o(hannel,)h
(not)f(just)i(on)e(the)i(lo)o(w)o(er-lev)o(el)e(c)o(hannel's)h(curren)o
(t)h(state.)270 939 y(W)m(e)h(often)h(re\014ne)h(b)q(oth)e(a)h(system)f
(and)g(its)h(in)o(terface)g(at)g(the)g(same)f(time.)25
b(F)m(or)16 b(ex-)208 989 y(ample,)c(w)o(e)i(ma)o(y)f(implem)o(en)o(t)f
(a)i(sp)q(eci\014cation)h FV(H)21 b F4(of)13 b(a)h(system)h(that)f
(comm)o(unicates)e(b)o(y)208 1039 y(sending)i(n)o(um)o(b)q(ers)f(o)o(v)
o(er)h(a)g(c)o(hannel)g(with)g(a)g(lo)o(w)o(er-lev)o(el)f(sp)q
(eci\014cation)h FV(LImpl)k F4(of)c(a)f(sys-)208 1089
y(tem)i(that)h(sends)h(individual)d(bits.)25 b(In)16
b(this)g(case,)h FV(LImpl)j F4(is)c(not)g(itself)g(obtained)g(from)208
1139 y FV(HSp)n(e)n(c)e F4(b)o(y)e(an)g(in)o(terface)g(re\014nemen)o
(t.)18 b(Rather,)12 b FV(LImpl)k F4(implemen)o(ts)10
b(some)h(sp)q(eci\014cation)208 1188 y FV(LSp)n(e)n(c)16
b F4(that)e(is)g(obtained)f(from)f FV(HSp)n(e)n(c)k F4(b)o(y)e(an)g(in)
o(terface)g(re\014nemen)o(t)g FV(IR)r F4(.)k(In)c(that)f(case,)208
1238 y(w)o(e)h(sa)o(y)f(that)h FV(LImpl)k F4(implemen)o(ts)12
b FV(HSp)n(e)n(c)k(under)g(the)f(interfac)n(e)f(r)n(e\014nement)k(IR)r
F4(.)208 1375 y F3(10.8.4)65 b(Op)r(en-System)23 b(Sp)r(eci\014cations)
208 1466 y F4(So)17 b(far,)g(w)o(e)g(ha)o(v)o(e)g(considered)i(in)o
(terface)f(re\014nemen)o(t)g(for)e(complete-system)h(sp)q(eci\014ca-)
208 1516 y(tions.)23 b(Let's)17 b(no)o(w)e(consider)i(what)f(happ)q
(ens)h(if)e(the)h(higher-lev)o(el)g(sp)q(eci\014cation)g
FV(HSp)n(e)n(c)208 1566 y F4(is)h(the)i(kind)f(of)f(op)q(en-system)h
(sp)q(eci\014cation)h(discussed)g(in)f(Section)g(10.7)f(ab)q(o)o(v)o
(e.)30 b(F)m(or)208 1616 y(simplicit)o(y)m(,)12 b(w)o(e)j(consider)h
(the)g(re\014nemen)o(t)f(of)g(a)g(single)f(higher-lev)o(el)h(in)o
(terface)h(v)n(ariable)208 1666 y FV(h)g F4(b)o(y)d(a)g(single)f(lo)o
(w)o(er-lev)o(el)h(v)n(ariable)f FV(l)t F4(.)17 b(The)d(generalization)
e(to)h(more)f(v)n(ariables)h(will)e(b)q(e)208 1715 y(ob)o(vious.)270
1765 y(Let's)g(supp)q(ose)h(\014rst)f(that)g FV(HSp)n(e)n(c)i
F4(is)d(a)h(safet)o(y)f(prop)q(ert)o(y)m(,)h(with)g(no)f(liv)o(eness)h
(condition.)208 1815 y(As)h(explained)f(in)h(Section)g(10.7,)e(the)j
(sp)q(eci\014cation)f(attributes)h(eac)o(h)f(c)o(hange)g(to)g
FV(h)j F4(either)208 1865 y(to)k(the)h(system)g(or)g(to)f(the)h(en)o
(vironmen)o(t.)35 b(An)o(y)19 b(c)o(hange)h(to)g(a)f(lo)o(w)o(er-lev)o
(el)g(in)o(terface)208 1915 y(v)n(ariable)14 b FV(l)19
b F4(that)c(pro)q(duces)h(a)f(c)o(hange)h(to)f FV(h)j
F4(is)d(therefore)i(attributed)e(to)g(the)h(system)f(or)208
1964 y(the)c(en)o(vironmen)o(t.)k(A)c(bad)f(c)o(hange)h(to)f
FV(h)k F4(that)d(is)f(attributed)h(to)g(the)g(en)o(vironmen)o(t)e(mak)o
(es)208 2014 y FV(HSp)n(e)n(c)18 b F4(true;)g(a)e(bad)f(c)o(hange)i
(that)f(is)g(attributed)h(to)e(the)i(system)f(mak)o(es)f
FV(HSp)n(e)n(c)k F4(false.)208 2064 y(Th)o(us,)e(\(10.9\))f(de\014nes)i
FV(LSp)n(e)n(c)h F4(to)e(b)q(e)g(an)g(op)q(en-system)f(sp)q
(eci\014cation.)28 b(F)m(or)16 b(this)h(to)f(b)q(e)208
2114 y(a)g(sensible)i(sp)q(eci\014cation,)f(the)h(in)o(terface)f
(re\014nemen)o(t)g FV(IR)i F4(m)o(ust)d(ensure)i(that)f(the)h(w)o(a)o
(y)208 2164 y(c)o(hanges)c(to)g FV(l)k F4(are)c(attributed)g(to)g(the)h
(system)e(or)h(en)o(vironmen)o(t)f(is)h(sensible.)270
2214 y(If)f FV(HSp)n(e)n(c)j F4(con)o(tains)d(liv)o(eness)h
(conditions,)f(then)h(in)o(terface)g(re\014nemen)o(t)g(can)g(b)q(e)g
(more)208 2263 y(subtle.)j(Supp)q(ose)12 b FV(IR)g F4(is)f(the)g(in)o
(terface)h(re\014nemen)o(t)f(de\014ned)h(in)e(the)h FV(ChannelR)n
(e\014nement)208 2313 y F4(mo)q(dule)j(of)h(Figure)i(10.4)d(on)i(page)g
(162,)f(and)h(supp)q(ose)h(that)f FV(HSp)n(e)n(c)j F4(requires)e(that)f
(the)208 2363 y(system)g(ev)o(en)o(tually)g(send)h(some)f(n)o(um)o(b)q
(er)g(on)g FV(h)s F4(.)27 b(Consider)17 b(a)f(b)q(eha)o(vior)h(in)f
(whic)o(h)g(the)208 2413 y(system)c(sends)i(the)f(\014rst)g(bit)f(of)g
(a)h(n)o(um)o(b)q(er)f(on)g FV(l)t F4(,)g(but)h(the)g(en)o(vironmen)o
(t)e(nev)o(er)j(ac)o(kno)o(wl-)208 2463 y(edges)h(it.)k(Under)d(the)f
(in)o(terface)g(re\014nemen)o(t)f FV(IR)r F4(,)g(this)h(b)q(eha)o(vior)
f(is)g(in)o(terpreted)i(as)f(one)208 2512 y(in)d(whic)o(h)h
FV(h)k F4(nev)o(er)d(c)o(hanges.)k(Suc)o(h)c(a)f(b)q(eha)o(vior)f
(fails)g(to)h(satisfy)g(the)h(liv)o(eness)g(condition)p
Black Black eop
%%Page: 166 184
166 183 bop Black 208 275 a F4(166)766 b FR(CHAPTER)14
b(10.)31 b(COMPOSING)15 b(SPECIFICA)m(TIONS)p 208 282
1770 2 v Black 208 391 a F4(of)d FV(HSp)n(e)n(c)r F4(.)18
b(Th)o(us,)12 b(if)g FV(LSp)n(e)n(c)k F4(is)c(de\014ned)i(b)o(y)e
(\(10.9\),)f(then)j(failure)d(of)h(the)i(en)o(vironmen)o(t)d(to)208
441 y(do)i(something)g(can)h(cause)h FV(LSp)n(e)n(c)i
F4(to)c(b)q(e)i(violated,)d(through)i(no)g(fault)f(of)g(the)i(system.)
270 491 y(In)k(this)g(example,)g(w)o(e)g(w)o(an)o(t)g(the)h(en)o
(vironmen)o(t)e(to)h(b)q(e)h(at)f(fault)f(if)h(it)g(causes)h(the)208
541 y(system)13 b(to)h(halt)g(b)o(y)g(failing)e(to)h(ac)o(kno)o(wledge)
h(an)o(y)g(of)f(the)i(\014rst)g(three)g(bits)f(of)g(a)g(n)o(um)o(b)q
(er)208 591 y(sen)o(t)f(b)o(y)g(the)g(system.)k(\(The)d(ac)o(kno)o
(wledgmen)o(t)d(of)h(the)h(fourth)g(bit)g(is)f(in)o(terpreted)j(b)o(y)d
FV(IR)208 640 y F4(as)g(the)h(ac)o(kno)o(wledgmen)o(t)e(of)h(a)g(v)n
(alue)g(sen)o(t)i(on)e FV(h)s F4(,)h(so)f(blame)f(for)h(its)h(absence)h
(is)e(prop)q(erly)208 690 y(assigned)j(to)f(the)h(en)o(vironmen)o(t.\))
20 b(Putting)14 b(the)i(en)o(vironmen)o(t)d(at)i(fault)e(means)h
(making)208 740 y FV(LSp)n(e)n(c)i F4(true.)i(W)m(e)13
b(can)h(ac)o(hiev)o(e)f(this)h(b)o(y)f(mo)q(difying)d(\(10.9\))i(to)h
(de\014ne)h FV(LSp)n(e)n(c)j F4(as)c(follo)o(ws:)p Black
Black 353 829 a FV(LSp)n(e)n(c)499 806 y FI(\001)494
829 y F4(=)35 b FV(Liveness)27 b F0(\))806 827 y(9)-21
b(9)g(9)806 829 y(9)g(9)g(9)6 b FV(h)22 b F4(:)c FV(IR)11
b F0(^)e FV(HSp)n(e)n(c)p Black -907 w F4(\(10.11\))p
Black 208 912 a(where)k FV(Liveness)k F4(is)c(a)f(form)o(ula)e
(requiring)j(that)f(an)o(y)h(bit)f(sen)o(t)i(on)e FV(l)t
F4(,)h(other)g(than)g(the)g(last)208 962 y(bit)j(of)g(a)h(n)o(um)o(b)q
(er,)f(m)o(ust)f(ev)o(en)o(tually)i(b)q(e)g(ac)o(kno)o(wledged.)26
b(Ho)o(w)o(ev)o(er,)18 b(if)e FV(l)k F4(is)d(set)h(to)e(an)208
1012 y(illegal)11 b(v)n(alue,)h(then)h(w)o(e)g(w)o(an)o(t)g(the)h
(safet)o(y)f(part)g(of)f(the)i(sp)q(eci\014cation)f(to)g(determine)g
(who)208 1062 y(is)g(resp)q(onsible.)19 b(So,)14 b(w)o(e)g(w)o(an)o(t)f
FV(Liveness)18 b F4(to)13 b(b)q(e)i(true)g(in)e(this)h(case.)270
1112 y(W)m(e)k(de\014ne)i FV(Liveness)i F4(in)c(terms)g(of)g(the)i
(inner)e(v)n(ariables)g FV(h)k F4(and)d FV(bitsSent)t
F4(,)g(whic)o(h)208 1161 y(are)k(related)g(to)f FV(l)27
b F4(b)o(y)22 b(form)o(ula)e FV(InnerIR)25 b F4(from)20
b(the)j FV(Inner)28 b F4(submo)q(dule)21 b(of)h(mo)q(dule)208
1211 y FV(ChannelR)n(e\014nement)t F4(.)42 b(\(Remem)o(b)q(er)20
b(that)h FV(l)k F4(should)c(b)q(e)h(the)g(only)f(free)h(v)n(ariable)e
(of)208 1261 y FV(LSp)n(e)n(c)r F4(.\))39 b(The)21 b(action)f(that)g
(ac)o(kno)o(wledges)h(receipt)h(of)e(one)h(of)e(the)j(\014rst)f(three)h
(bits)208 1311 y(of)14 b(the)h(n)o(um)o(b)q(er)f(is)h
FV(R)n(cvBit)f F0(^)9 b F4(\()p FV(bitsSent)17 b F0(6)p
F4(=)d F0(h)7 b(i)p F4(\).)21 b(W)m(eak)14 b(fairness)h(of)f(this)h
(action)f(asserts)208 1361 y(that)k(the)h(required)g(ac)o(kno)o
(wledgmen)o(ts)f(m)o(ust)f(ev)o(en)o(tually)h(b)q(e)h(sen)o(t.)32
b(F)m(or)18 b(the)h(case)g(of)208 1411 y(illegal)13 b(v)n(alues,)i
(recall)h(that)f(sending)h(a)f(bad)g(v)n(alue)g(on)g
FV(l)20 b F4(causes)d FV(h)h F4(to)e(equal)f FV(Err)n(orV)m(al)t
F4(.)208 1460 y(W)m(e)f(w)o(an)o(t)g FV(Liveness)k F4(to)c(b)q(e)h
(true)h(if)d(this)i(ev)o(er)g(happ)q(ens,)h(whic)o(h)e(means)g(if)f(it)
h(ev)o(en)o(tually)208 1510 y(happ)q(ens.)23 b(W)m(e)15
b(therefore)i(add)e(the)h(follo)o(wing)d(de\014nition)i(to)g(the)h
(submo)q(dule)e FV(Inner)20 b F4(of)208 1560 y(the)14
b FV(ChannelR)n(e\014nement)20 b F4(mo)q(dule:)p Black
Black 332 1647 a FV(InnerLiveness)627 1624 y FI(\001)623
1647 y F4(=)35 b F0(^)13 b FV(InnerIR)690 1697 y F0(^)g(_)h
F4(WF)842 1704 y FH(h)s FJ(l)s Fy(;)6 b FJ(h)s Fy(;)t
FJ(bitsSent)f FH(i)1060 1697 y F4(\()p FV(R)n(cvBit)14
b F0(^)9 b F4(\()p FV(bitsSent)16 b F0(6)p F4(=)11 b
F0(h)c(i)p F4(\)\))731 1754 y F0(_)14 b FG(3)p F4(\()p
FV(h)h F4(=)c FV(Err)n(orV)m(al)t F4(\))208 1835 y(T)m(o)k(de\014ne)i
FV(Liveness)s F4(,)f(w)o(e)g(ha)o(v)o(e)g(to)g(hide)g
FV(h)j F4(and)d FV(bitsSent)k F4(in)15 b FV(InnerLiveness)s
F4(.)25 b(W)m(e)16 b(can)208 1885 y(do)d(this,)h(in)f(a)h(con)o(text)g
(in)g(whic)o(h)g FV(l)j F4(is)d(declared,)g(as)g(follo)o(ws:)p
Black Black 332 1972 a FV(ICR)r F4(\()p FV(h)s F4(\))506
1949 y FI(\001)501 1972 y F4(=)35 b FP(inst)m(ance)16
b FV(ChannelR)n(e\014nement)332 2029 y(Liveness)528 2005
y FI(\001)523 2029 y F4(=)590 2027 y F0(9)-21 b(9)g(9)590
2029 y(9)g(9)g(9)6 b FV(h)s FQ(;)14 b FV(bitsSent)23
b F4(:)18 b FV(ICR)r F4(\()p FV(h)s F4(\))s(!)s FV(I)7
b F4(\()p FV(bitsSent)t F4(\))s(!)s FV(InnerLiveness)270
2110 y F4(No)o(w,)j(supp)q(ose)h(it)e(is)h(the)g(en)o(vironmen)o(t)f
(that)h(sends)h(n)o(um)o(b)q(ers)f(o)o(v)o(er)g FV(h)j
F4(and)d(the)g(system)208 2160 y(is)i(supp)q(osed)h(to)f(ac)o(kno)o
(wledge)g(their)h(receipt)g(and)f(then)h(pro)q(cess)h(them)e(in)f(some)
h(w)o(a)o(y)m(.)k(In)208 2210 y(this)e(case,)h(w)o(e)f(w)o(an)o(t)g
(failure)f(to)h(ac)o(kno)o(wledge)g(a)g(bit)g(to)g(b)q(e)h(a)f(system)g
(error.)19 b(So,)14 b FV(LSp)n(e)n(c)208 2259 y F4(should)f(b)q(e)i
(false)e(if)g FV(Liveness)18 b F4(is.)g(The)c(sp)q(eci\014cation)h
(should)f(then)g(b)q(e)p Black Black 332 2347 a FV(LSp)n(e)n(c)478
2323 y FI(\001)474 2347 y F4(=)34 b FV(Liveness)20 b
F0(^)c F4(\()773 2345 y F0(9)-21 b(9)g(9)773 2347 y(9)g(9)g(9)6
b FV(h)22 b F4(:)c FV(IR)11 b F0(^)e FV(HSp)n(e)n(c)r
F4(\))208 2430 y(Since)14 b FV(h)j F4(do)q(es)e(not)f(o)q(ccur)h(free)f
(in)g FV(Liveness)s F4(,)g(this)g(de\014nition)f(is)h(equiv)n(alen)o(t)
f(to)p Black Black 332 2517 a FV(LSp)n(e)n(c)478 2493
y FI(\001)474 2517 y F4(=)540 2515 y F0(9)-21 b(9)g(9)540
2517 y(9)g(9)g(9)7 b FV(h)21 b F4(:)d FV(Liveness)13
b F0(^)c FV(IR)i F0(^)e FV(HSp)n(e)n(c)p Black Black
eop
%%Page: 167 185
167 184 bop Black 208 275 a FR(10.9.)30 b(SHOULD)14 b(YOU)h(COMPOSE?)
1061 b F4(167)p 208 282 1770 2 v Black 208 391 a(whic)o(h)13
b(has)h(the)g(form)e(\(10.9\))h(if)g(the)h(in)o(terface)g(re\014nemen)o
(t)g FV(IR)i F4(of)d(\(10.9\))f(is)i(tak)o(en)g(to)f(b)q(e)208
441 y FV(Liveness)h F0(^)c FV(IR)r F4(.)24 b(In)16 b(other)h(w)o(ords,)
f(w)o(e)g(can)g(w)o(e)h(mak)o(e)d(the)j(liv)o(eness)f(condition)f(part)
h(of)208 491 y(the)e(in)o(terface)g(re\014nemen)o(t.)19
b(\(In)14 b(this)g(case,)g(w)o(e)g(can)g(simplify)d(the)k(de\014nition)
e(b)o(y)h(adding)208 541 y(liv)o(eness)g(directly)g(to)g
FV(InnerIR)r F4(.\))270 591 y(In)i(general,)i(if)d FV(HSp)n(e)n(c)20
b F4(is)c(an)h(op)q(en-system)f(sp)q(eci\014cation)i(that)f(describ)q
(es)h(liv)o(eness)208 640 y(as)g(w)o(ell)h(as)g(safet)o(y)m(,)g(then)g
(an)g(in)o(terface)g(re\014nemen)o(t)h(ma)o(y)d(ha)o(v)o(e)h(to)h(tak)o
(e)g(the)g(form)e(of)208 690 y(form)o(ula)9 b(\(10.11\).)17
b(Both)c FV(Liveness)j F4(and)c(the)h(liv)o(eness)g(condition)f(of)g
FV(IR)i F4(ma)o(y)c(dep)q(end)k(on)208 740 y(whic)o(h)d(c)o(hanges)i
(to)e(the)h(lo)o(w)o(er-lev)o(el)f(in)o(terface)i(v)n(ariable)d
FV(l)16 b F4(are)c(attributed)g(to)g(the)g(system)208
790 y(and)h(whic)o(h)g(to)g(the)h(en)o(vironmet.)j(F)m(or)c(the)g(c)o
(hannel)h(re\014nemen)o(t,)f(this)h(means)e(that)h(they)208
840 y(will)f(dep)q(end)j(on)e(whether)i(the)g(system)e(or)h(the)g(en)o
(vironmen)o(t)f(is)g(sending)h(v)n(alues)g(on)f(the)208
889 y(c)o(hannel.)208 1073 y FN(10.9)82 b(Should)26 b(Y)-7
b(ou)27 b(Comp)r(ose?)208 1164 y F4(When)18 b(sp)q(ecifying)g(a)g
(system,)h(should)f(w)o(e)h(write)f(a)g(monolithic)e(sp)q
(eci\014cation)j(with)f(a)208 1213 y(single)13 b(next-state)j(action,)d
(a)h(closed-system)h(comp)q(osition)d(that)i(is)g(the)h(conjunction)f
(of)208 1263 y(sp)q(eci\014cations)j(of)f(individual)e(comp)q(onen)o
(ts,)i(or)g(an)g(op)q(en-system)g(sp)q(eci\014cation?)26
b(The)208 1313 y(answ)o(er)13 b(is:)18 b(it)12 b(usually)g(mak)o(es)g
(little)g(di\013erence.)20 b(F)m(or)12 b(a)h(real)g(system,)f(the)i
(de\014nitions)e(of)208 1363 y(the)i(comp)q(onen)o(ts')f(actions)g
(will)f(tak)o(e)i(h)o(undreds)h(or)f(thousands)g(of)f(lines.)18
b(The)c(di\013eren)o(t)208 1413 y(forms)g(of)h(sp)q(eci\014cation)h
(di\013er)g(only)e(in)h(the)i(few)e(lines)g(where)i(w)o(e)f(assem)o
(ble)f(the)h(initial)208 1463 y(predicates)f(and)f(next-state)h
(actions)f(in)o(to)f(the)h(\014nal)g(form)o(ula.)270
1512 y(If)g(y)o(ou)g(are)i(writing)e(a)g(sp)q(eci\014cation)h(from)e
(scratc)o(h,)j(it's)f(probably)f(b)q(etter)i(to)f(write)208
1562 y(a)g(monolithic)e(sp)q(eci\014cation.)24 b(It)16
b(is)f(usually)g(easier)i(to)e(understand.)25 b(Of)16
b(course,)h(there)208 1612 y(are)e(exceptions.)22 b(W)m(e)15
b(write)g(a)g(real-time)e(sp)q(eci\014cation)j(as)f(the)g(conjunction)g
(of)f(an)h(un-)208 1662 y(timed)10 b(sp)q(eci\014cation)j(and)f(timing)
d(constrain)o(ts;)k(describing)f(the)h(c)o(hanges)g(to)f(the)g(system)
208 1712 y(v)n(ariables)g(and)h(the)h(timers)f(with)g(a)g(single)g
(next-state)h(action)f(usually)g(mak)o(es)f(the)i(sp)q(ec-)208
1761 y(i\014cation)f(harder)h(to)g(understand.)270 1811
y(W)m(riting)9 b(a)h(comp)q(osite)g(sp)q(eci\014cation)h(ma)o(y)e(b)q
(e)i(sensible)g(when)g(y)o(ou)f(are)h(starting)g(from)208
1861 y(an)j(existing)g(sp)q(eci\014cation.)21 b(If)14
b(y)o(ou)g(already)g(ha)o(v)o(e)g(a)g(sp)q(eci\014cation)h(of)f(one)h
(comp)q(onen)o(t,)208 1911 y(y)o(ou)k(ma)o(y)f(w)o(an)o(t)h(to)g(write)
h(a)g(separate)h(sp)q(eci\014cation)f(of)f(the)i(other)f(comp)q(onen)o
(t)f(and)208 1961 y(comp)q(ose)11 b(the)h(t)o(w)o(o)f(sp)q
(eci\014cations.)19 b(If)11 b(y)o(ou)g(ha)o(v)o(e)h(a)f(higher-lev)o
(el)g(sp)q(eci\014cation,)i(y)o(ou)e(ma)o(y)208 2010
y(w)o(an)o(t)k(to)i(write)f(a)g(lo)o(w)o(er-lev)o(el)g(v)o(ersion)g(as)
h(an)f(in)o(terface)h(re\014nemen)o(t.)26 b(Ho)o(w)o(ev)o(er,)16
b(these)208 2060 y(are)j(rather)g(rare)g(situations.)32
b(Moreo)o(v)o(er,)20 b(it's)e(lik)o(ely)g(to)g(b)q(e)h(just)g(as)g
(easy)g(to)f(mo)q(dify)208 2110 y(the)g(original)e(sp)q(eci\014cation)j
(or)f(reuse)i(it)d(in)h(another)g(w)o(a)o(y)m(.)29 b(F)m(or)18
b(example,)f(instead)h(of)208 2160 y(conjoining)f(a)i(new)g(comp)q
(onen)o(t)f(to)h(the)g(sp)q(eci\014cation)h(of)e(an)h(existing)f(one,)i
(y)o(ou)f(can)208 2210 y(simply)10 b(include)i(the)g(de\014nition)g(of)
g(the)g(existing)g(comp)q(onen)o(t's)f(next-state)j(action,)d(with)208
2260 y(an)i FP(extends)i F4(or)f FP(inst)m(ance)g F4(statemen)o(t,)f
(as)h(part)g(of)f(the)i(new)f(sp)q(eci\014cation.)270
2309 y(Comp)q(osition)c(pro)o(vides)k(a)e(new)i(w)o(a)o(y)e(of)h
(writing)f(a)h(complete-system)f(sp)q(eci\014cation;)208
2359 y(it)e(do)q(esn't)h(c)o(hange)g(the)g(sp)q(eci\014cation.)18
b(The)11 b(c)o(hoice)g(b)q(et)o(w)o(een)h(a)e(comp)q(osite)g(sp)q
(eci\014cation)208 2409 y(and)17 b(a)g(monolithic)e(one)i(is)h
(therefore)g(ultimately)d(a)j(matter)e(of)h(taste.)30
b(Disjoin)o(t-state)208 2459 y(comp)q(ositions)16 b(are)i(generally)f
(straigh)o(tforw)o(ard)g(and)g(presen)o(t)i(no)e(problems.)28
b(Shared-)208 2509 y(state)14 b(comp)q(ositions)f(can)h(b)q(e)g(tric)o
(ky)g(and)g(require)h(care.)p Black Black eop
%%Page: 168 186
168 185 bop Black 208 275 a F4(168)766 b FR(CHAPTER)14
b(10.)31 b(COMPOSING)15 b(SPECIFICA)m(TIONS)p 208 282
1770 2 v Black 270 391 a F4(Op)q(en-system)10 b(sp)q(eci\014cations)g
(in)o(tro)q(duce)h(a)e(mathematicall)o(y)d(di\013eren)o(t)11
b(kind)e(of)g(sp)q(ec-)208 441 y(i\014cation.)17 b(A)c(closed-system)h
(sp)q(eci\014cation)g FV(E)g F0(^)8 b FV(M)21 b F4(and)13
b(its)h(op)q(en-system)g(coun)o(terpart)208 491 y FV(E)259
471 y FI(+)253 491 y F0(\000)-7 b FQ(.)13 b FV(M)21 b
F4(are)15 b(not)f(equiv)n(alen)o(t.)19 b(If)13 b(w)o(e)i(really)f(w)o
(an)o(t)g(a)g(sp)q(eci\014cation)h(to)f(serv)o(e)h(as)g(a)f(legal)208
541 y(con)o(tract)j(b)q(et)o(w)o(een)h(a)f(user)h(and)e(an)h(implem)o
(en)o(ter,)f(then)h(w)o(e)g(ha)o(v)o(e)f(to)h(write)g(an)g(op)q(en-)208
591 y(system)i(sp)q(eci\014cation.)36 b(W)m(e)19 b(also)g(need)h(op)q
(en-system)g(sp)q(eci\014cations)g(if)f(w)o(e)h(w)o(an)o(t)f(to)208
640 y(sp)q(ecify)d(and)f(reason)h(ab)q(out)g(systems)g(built)f(b)o(y)g
(comp)q(osing)f(o\013-the-shelf)i(comp)q(onen)o(ts)208
690 y(with)e(pre-existing)h(sp)q(eci\014cations.)23 b(All)14
b(w)o(e)h(can)g(assume)g(ab)q(out)f(suc)o(h)i(a)f(comp)q(onen)o(t)f(is)
208 740 y(that)d(it)g(satis\014es)h(a)f(con)o(tract)h(b)q(et)o(w)o(een)
g(the)g(system)f(builder)g(and)g(the)h(supplier,)f(and)g(suc)o(h)208
790 y(a)f(con)o(tract)i(can)g(b)q(e)g(formalized)d(only)h(as)i(an)e(op)
q(en-system)i(sp)q(eci\014cation.)18 b(Ho)o(w)o(ev)o(er,)11
b(y)o(ou)208 840 y(are)i(unlik)o(ely)e(to)i(encoun)o(ter)h
(o\013-the-shelf)f(comp)q(onen)o(t)f(sp)q(eci\014cations)h(during)g
(the)g(early)208 889 y(part)i(of)g(the)h(t)o(w)o(en)o(t)o(y-\014rst)g
(cen)o(tury)m(.)23 b(In)16 b(the)g(near)f(future,)h(op)q(en-system)g
(sp)q(eci\014cations)208 939 y(are)e(lik)o(ely)e(to)i(b)q(e)h(of)e
(theoretical)h(in)o(terest)h(only)m(.)p Black Black eop
%%Page: 169 187
169 186 bop Black Black 208 703 a FL(Chapter)31 b(11)208
910 y F5(Adv)-6 b(anced)37 b(Examples)208 1126 y F4(It)15
b(w)o(ould)f(b)q(e)i(nice)f(to)g(pro)o(vide)g(an)g(assortmen)o(t)g(of)f
(t)o(ypical)g(examples)g(that)i(co)o(v)o(er)f(most)208
1176 y(of)g(the)i(sp)q(eci\014cation)g(problems)e(that)h(arise)h(in)e
(practice.)26 b(Ho)o(w)o(ev)o(er,)17 b(there)g(is)f(no)g(suc)o(h)208
1226 y(thing)f(as)h(a)f(t)o(ypical)g(sp)q(eci\014cation.)24
b(Ev)o(ery)16 b(real)g(sp)q(eci\014cation)h(seems)f(to)f(p)q(ose)i(its)
e(o)o(wn)208 1276 y(problems.)h(But)e(w)o(e)f(can)g(partition)g(all)e
(sp)q(eci\014cations)k(in)o(to)d(t)o(w)o(o)g(classes,)i(dep)q(ending)g
(on)208 1325 y(whether)h(or)f(not)f(they)i(con)o(tain)e
FP(v)l(ariable)j F4(declarations.)270 1375 y(A)g(sp)q(eci\014cation)g
(with)f(no)h(v)n(ariables)f(de\014nes)i(data)e(structures)k(and)c(op)q
(erations)h(on)208 1425 y(those)d(structures.)20 b(F)m(or)13
b(example,)e(the)i FV(Se)n(quenc)n(es)18 b F4(mo)q(dule)11
b(de\014nes)j(v)n(arious)f(op)q(erations)208 1475 y(on)19
b(sequences.)39 b(When)21 b(sp)q(ecifying)f(a)f(system,)i(y)o(ou)f(ma)o
(y)e(need)j(some)e(kind)h(of)f(data)208 1525 y(structure)c(other)g
(than)e(the)i(ones)f(pro)o(vided)g(b)o(y)f(the)i(standard)f(mo)q(dules)
e(lik)o(e)h FV(Se)n(quenc)n(es)208 1574 y F4(and)i FV(Bags)s
F4(,)j(describ)q(ed)f(in)f(Chapter)h(18.)24 b(Section)17
b(11.1)d(giv)o(es)i(some)g(examples)f(of)g(data)208 1624
y(structure)h(sp)q(eci\014cations.)270 1674 y(A)g(system)f(sp)q
(eci\014cation)i(con)o(tains)e(v)n(ariables)g(that)h(represen)o(t)i
(the)e(system's)g(state.)208 1724 y(W)m(e)d(can)i(further)g(divide)e
(system)h(sp)q(eci\014cations)h(in)o(to)f(t)o(w)o(o)f(classes|high-lev)
o(el)h(sp)q(eci\014-)208 1774 y(cations)g(that)h(describ)q(e)i(what)d
(it)h(means)f(for)g(a)g(system)h(to)g(b)q(e)g(correct,)h(and)f(lo)o(w)o
(er-lev)o(el)208 1823 y(sp)q(eci\014cations)h(that)f(describ)q(e)i
(what)e(the)h(system)f(actually)f(do)q(es.)22 b(In)15
b(the)h(memory)d(ex-)208 1873 y(ample)j(of)h(Chapter)i(5,)g(the)f
(linearizable)g(memory)d(sp)q(eci\014cation)k(of)f(Section)g(5.3)f(is)h
(a)208 1923 y(high-lev)o(el)d(sp)q(eci\014cation)j(of)e(correctness,)k
(while)c(the)h(write-through)g(cac)o(he)h(sp)q(eci\014ca-)208
1973 y(tion)12 b(of)h(Section)h(5.6)e(describ)q(es)j(ho)o(w)e(a)g
(particular)g(algorithm)e(w)o(orks.)18 b(This)13 b(distinction)208
2023 y(is)j(not)h(precise;)j(whether)e(a)e(sp)q(eci\014cation)i(is)f
(high-)f(or)h(lo)o(w-lev)o(el)e(is)i(a)g(matter)f(of)g(p)q(er-)208
2073 y(sp)q(ectiv)o(e.)j(But)14 b(it)g(can)g(b)q(e)g(a)g(useful)g(w)o
(a)o(y)f(of)h(categorizing)f(system)h(sp)q(eci\014cations.)270
2122 y(Lo)o(w)o(er-lev)o(el)d(system)h(sp)q(eci\014cations)h(tend)f(to)
g(b)q(e)g(relativ)o(ely)f(straigh)o(tforw)o(ard.)17 b(Once)208
2172 y(the)10 b(lev)o(el)g(of)g(abstraction)h(has)f(b)q(een)h(c)o
(hosen,)h(writing)d(the)i(sp)q(eci\014cation)g(is)f(usually)g(just)g(a)
208 2222 y(matter)h(of)h(getting)h(the)g(details)f(righ)o(t)g(when)h
(describing)h(what)e(the)h(system)g(do)q(es.)18 b(Sp)q(ec-)208
2272 y(ifying)12 b(high-lev)o(el)i(correctness)j(can)d(b)q(e)h(m)o(uc)o
(h)e(more)h(subtle.)20 b(Section)14 b(11.2)g(considers)h(a)208
2322 y(high-lev)o(el)d(sp)q(eci\014cation)j(problem|form)o(all)o(y)c
(sp)q(ecifying)j(a)f(m)o(ultipro)q(cessor)h(memory)m(.)p
Black 1915 2622 a(169)p Black eop
%%Page: 170 188
170 187 bop Black 208 275 a F4(170)910 b FR(CHAPTER)14
b(11.)31 b(AD)o(V)-5 b(ANCED)14 b(EXAMPLES)p 208 282
1770 2 v Black 208 400 a FN(11.1)82 b(Sp)r(ecifying)24
b(Data)k(Structures)208 491 y F4(Most)17 b(of)g(the)h(data)f
(structures)j(required)f(for)e(writing)f(sp)q(eci\014cations)j(are)f
(mathemat-)208 540 y(ically)f(simple)h(and)h(are)h(easy)f(to)g
(de\014ne)h(in)f(terms)g(of)f(sets,)k(functions,)e(and)f(records.)208
590 y(Section)e(11.1.2)f(describ)q(es)j(the)f(sp)q(eci\014cation)g(of)f
(one)g(suc)o(h)i(structure|a)f(graph.)29 b(On)208 640
y(rare)13 b(o)q(ccasions,)h(a)f(sp)q(eci\014cation)g(will)f(require)i
(sophisticated)g(mathematical)c(concepts.)208 690 y(The)j(only)g
(examples)f(I)h(kno)o(w)g(of)g(are)g(h)o(ybrid)g(system)g(sp)q
(eci\014cations,)h(discussed)h(in)e(Sec-)208 740 y(tion)k(9.5.)28
b(There,)19 b(w)o(e)e(used)i(a)e(mo)q(dule)f(for)h(describing)h(the)h
(solutions)e(to)g(di\013eren)o(tial)208 789 y(equations.)34
b(That)20 b(mo)q(dule)e(is)h(sp)q(eci\014ed)i(in)e(Section)h(11.1.3)d
(b)q(elo)o(w.)35 b(Section)20 b(11.1.4)208 839 y(considers)g(the)g
(tric)o(ky)g(problem)e(of)h(de\014ning)h(op)q(erators)g(for)f(sp)q
(ecifying)h(BNF)g(gram-)208 889 y(mars.)c(Although)11
b(not)h(the)h(kind)e(of)h(data)f(structure)k(y)o(ou're)c(lik)o(ely)g
(to)h(need)h(for)e(a)h(system)208 939 y(sp)q(eci\014cation,)h(sp)q
(ecifying)f(BNF)h(grammars)d(pro)o(vides)j(a)f(nice)h(little)f
(exercise)j(in)d(\\math-)208 989 y(ematization".)20 b(The)c(mo)q(dule)e
(dev)o(elop)q(ed)i(in)g(that)f(section)h(is)g(used)g(in)f(Chapter)h(15)
f(for)208 1038 y(sp)q(ecifying)h(the)h(grammar)d(of)i(TLA)795
1023 y FS(+)816 1038 y F4(.)26 b(But,)18 b(b)q(efore)f(sp)q(ecifying)g
(data)f(structures,)j(y)o(ou)208 1088 y(should)13 b(kno)o(w)h(ho)o(w)f
(to)h(mak)o(e)e(lo)q(cal)h(de\014nitions.)208 1224 y
F3(11.1.1)65 b(Lo)r(cal)22 b(De\014nitions)208 1315 y
F4(In)17 b(the)g(course)i(of)d(sp)q(ecifying)h(a)g(system,)h(w)o(e)f
(write)g(lots)g(of)g(auxiliary)e(de\014nitions.)28 b(A)208
1365 y(system)14 b(sp)q(eci\014cation)h(ma)o(y)d(consist)j(of)e(a)h
(single)g(form)o(ula)e FV(Sp)n(e)n(c)r F4(,)j(but)f(w)o(e)g(de\014ne)i
(dozens)208 1415 y(of)10 b(other)h(iden)o(ti\014ers)g(in)f(terms)h(of)f
(whic)o(h)g(w)o(e)h(de\014ne)h FV(Sp)n(e)n(c)r F4(.)17
b(These)12 b(other)f(iden)o(ti\014ers)h(often)208 1464
y(ha)o(v)o(e)h(fairly)f(common)f(names|for)h(example,)g(the)i(iden)o
(ti\014er)g FV(Next)j F4(is)d(de\014ned)h(in)e(man)o(y)208
1514 y(sp)q(eci\014cations.)21 b(The)15 b(di\013eren)o(t)g
(de\014nitions)g(of)f FV(Next)k F4(don't)c(con\015ict)h(with)g(one)f
(another)208 1564 y(b)q(ecause,)i(if)e(a)h(mo)q(dule)f(that)h
(de\014nes)h FV(Next)j F4(is)c(used)h(as)f(part)h(of)e(another)i(sp)q
(eci\014cation,)208 1614 y(it)f(is)h(usually)f(instan)o(tiated)h(with)g
(renaming.)23 b(F)m(or)16 b(example,)f(the)i FV(Channel)j
F4(mo)q(dule)15 b(is)208 1664 y(used)f(in)g(mo)q(dule)e
FV(InnerFIF)o(O)18 b F4(on)c(page)g(38)f(with)h(the)g(statemen)o(t)p
Black Black 332 1744 a FV(InChan)509 1720 y FI(\001)505
1744 y F4(=)35 b FP(inst)m(ance)16 b FV(Channel)k FP(with)i
FQ(:)7 b(:)g(:)208 1820 y F4(The)16 b(action)g FV(Next)k
F4(of)15 b(the)i FV(Channel)k F4(mo)q(dule)14 b(is)i(then)h(instan)o
(tiated)f(as)g FV(InChan)7 b F4(!)s FV(Next)t F4(,)208
1870 y(so)16 b(its)h(de\014nition)f(do)q(esn't)h(con\015ict)g(with)f
(the)i(de\014nition)e(of)g FV(Next)k F4(in)d(the)g FV(InnerFIF)o(O)208
1920 y F4(mo)q(dule.)270 1970 y(A)h(mo)q(dule)e(that)i(de\014nes)h(op)q
(erations)g(on)e(a)h(data)f(structure)j(is)e(lik)o(ely)f(to)g(b)q(e)i
(used)208 2019 y(in)c(an)g FP(extends)h F4(statemen)o(t,)g(whic)o(h)f
(do)q(es)h(no)g(renaming.)21 b(The)16 b(mo)q(dule)e(migh)o(t)g
(de\014ne)208 2069 y(some)j(auxiliary)f(op)q(erators)k(that)e(are)h
(used)g(only)f(to)g(de\014ne)h(the)g(op)q(erators)g(in)f(whic)o(h)208
2119 y(w)o(e're)e(in)o(terested.)25 b(F)m(or)16 b(example,)e(w)o(e)i
(need)h(the)g FV(Di\013er)n(entialEquations)i F4(mo)q(dule)c(only)208
2169 y(to)h(de\014ne)h(the)g(single)f(op)q(erator)h FV(Inte)n(gr)n(ate)
s F4(.)25 b(Ho)o(w)o(ev)o(er,)17 b FV(Inte)n(gr)n(ate)i
F4(is)d(de\014ned)h(in)f(terms)208 2219 y(of)f(other)i(de\014ned)g(op)q
(erators)g(with)f(names)g(lik)o(e)f FV(Nbhd)21 b F4(and)16
b FV(IsDeriv)t F4(.)25 b(W)m(e)16 b(don't)f(w)o(an)o(t)208
2268 y(these)f(de\014nitions)f(to)h(con\015ict)f(with)g(other)h(uses)h
(of)d(those)i(iden)o(ti\014ers)g(in)f(a)g(mo)q(dule)f(that)208
2318 y(extends)i FV(Di\013er)n(entialEquations)s F4(.)k(So,)13
b(w)o(e)g(w)o(an)o(t)f(the)i(de\014nitions)e(of)h FV(Nbhd)k
F4(and)c FV(IsDeriv)208 2368 y F4(to)g(b)q(e)i(lo)q(cal)e(to)h(the)g
FV(Di\013er)n(entialEquations)k F4(mo)q(dule.)1082 2353
y FS(1)p Black 208 2399 576 2 v 254 2426 a FK(1)271 2438
y FZ(W)m(e)13 b(could)e(use)h(the)g Fu(let)g FZ(construct)e(to)i(put)g
(these)f(auxiliary)f(de\014nitions)g(inside)h(the)h(de\014nition)d(of)
208 2477 y FY(Inte)n(gr)n(ate)r FZ(,)17 b(but)c(that)h(tric)o(k)f(w)o
(ouldn't)g(w)o(ork)h(if)h(the)e FY(Di\013er)n(entialEquations)19
b FZ(mo)q(dule)12 b(exp)q(orted)h(other)208 2517 y(op)q(erators)c(b)q
(esides)h FY(Inte)n(gr)n(ate)15 b FZ(that)c(w)o(ere)g(de\014ned)e(in)j
(terms)e(of)h FY(Nbhd)16 b FZ(and)11 b FY(IsDeriv)t FZ(.)p
Black Black Black eop
%%Page: 171 189
171 188 bop Black 208 275 a FR(11.1.)30 b(SPECIFYING)14
b(D)o(A)m(T)m(A)f(STR)o(UCTURES)898 b F4(171)p 208 282
1770 2 v Black 270 391 a(TLA)357 376 y FS(+)393 391 y
F4(pro)o(vides)16 b(a)g FP(local)h F4(mo)q(di\014er)e(for)g(making)f
(de\014nitions)h(lo)q(cal)g(to)h(a)g(mo)q(dule.)208 441
y(If)d(a)h(mo)q(dule)e FV(M)21 b F4(con)o(tains)14 b(the)g
(de\014nition)p Black Black 332 517 a FP(local)j FV(F)m(o)n(o)s
F4(\()p FV(x)5 b F4(\))630 493 y FI(\001)625 517 y F4(=)35
b FQ(:)7 b(:)g(:)208 593 y F4(then)14 b FV(F)m(o)n(o)i
F4(can)e(b)q(e)g(used)g(inside)g(mo)q(dule)e FV(M)20
b F4(just)14 b(lik)o(e)e(an)o(y)h(ordinary)g(de\014ned)i(iden)o
(ti\014er.)208 643 y(Ho)o(w)o(ev)o(er,)c(a)g(mo)q(dule)f(that)h
(extends)h(or)f(instan)o(tiates)g FV(M)18 b F4(do)q(es)12
b(not)f(obtain)g(the)g(de\014nition)208 692 y(of)j FV(F)m(o)n(o)s
F4(.)20 b(That)15 b(is,)f(the)h(statemen)o(t)g FP(extends)h
FV(M)22 b F4(in)14 b(another)h(mo)q(dule)f(do)q(es)h(not)g(de\014ne)208
742 y FV(F)m(o)n(o)h F4(in)e(that)g(mo)q(dule.)i(Similarly)l(,)11
b(the)j(statemen)o(t)p Black Black 332 822 a FV(N)409
799 y FI(\001)404 822 y F4(=)35 b FP(inst)m(ance)16 b
FV(M)208 898 y F4(do)q(es)e(not)f(de\014ne)i FV(N)10
b F4(!)s FV(F)m(o)n(o)s F4(.)18 b(The)c FP(local)g F4(mo)q(di\014er)f
(can)h(also)f(b)q(e)h(applied)f(to)g(an)h(instan)o(ti-)208
948 y(ation.)j(The)d(statemen)o(t)p Black Black 332 1024
a FP(local)j(inst)m(ance)f FV(Se)n(quenc)n(es)208 1099
y F4(in)f(mo)q(dule)g FV(M)23 b F4(incorp)q(orates)18
b(in)o(to)d FV(M)23 b F4(the)17 b(de\014nitions)g(from)d(the)j
FV(Se)n(quenc)n(es)k F4(mo)q(dule.)208 1149 y(Ho)o(w)o(ev)o(er,)13
b(another)h(mo)q(dule)e(that)i(extends)h(or)e(instan)o(tiates)h
FV(M)21 b F4(do)q(es)14 b(not)f(obtain)g(those)208 1199
y(de\014nitions.)18 b(Similarl)o(y)m(,)10 b(a)k(statemen)o(t)g(lik)o(e)
p Black Black 332 1279 a FP(local)j FV(P)t F4(\()p FV(x)5
b F4(\))595 1255 y FI(\001)590 1279 y F4(=)35 b FP(inst)m(ance)16
b FV(N)208 1355 y F4(mak)o(es)c(all)h(the)h(instan)o(tiated)g
(de\014nitions)g(lo)q(cal)f(to)h(the)g(curren)o(t)i(mo)q(dule.)270
1405 y(The)e FP(local)h F4(mo)q(di\014er)e(can)h(b)q(e)h(applied)e
(only)g(to)h(de\014nitions)g(and)g FP(inst)m(ance)g F4(state-)208
1454 y(men)o(ts.)24 b(It)17 b(cannot)f(b)q(e)h(applied)f(to)g(a)g
(declaration)g(or)g(to)g(an)g FP(extends)h F4(statemen)o(t,)g(so)208
1504 y(y)o(ou)c FV(c)n(annot)19 b F4(write)14 b(either)h(of)e(the)h
(follo)o(wing:)p Black Black 332 1580 a FP(local)j(const)m(ant)f
FV(N)p .95 TeXcolorgray .95 TeXcolorgray 886 1640 311
96 v .95 TeXcolorgray Black 188 w FZ(These)11 b(are)g(not)g(legal)894
1619 y(statemen)o(ts.)p .95 TeXcolorgray Black 332 1641
a FP(local)17 b(extends)f FV(Se)n(quenc)n(es)270 1715
y F4(If)11 b(a)h(mo)q(dule)f(has)h(no)g FP(const)m(ant)g
F4(or)g FP(v)l(ariable)i F4(declarations)e(and)g(no)g(submo)q(dules,)
208 1765 y(then)i(extending)g(it)g(and)g(instan)o(tiating)e(it)i(are)g
(equiv)n(alen)o(t.)j(Th)o(us,)d(the)g(t)o(w)o(o)g(statemen)o(ts)p
Black Black 332 1841 a FP(extends)i FV(Se)n(quenc)n(es)130
b FP(inst)m(ance)16 b FV(Se)n(quenc)n(es)208 1917 y F4(are)e(equiv)n
(alen)o(t.)270 1967 y(In)h(a)f(mo)q(dule)f(that)i(de\014nes)h(general)f
(mathematical)c(op)q(erators,)16 b(I)e(lik)o(e)g(to)h(mak)o(e)e(all)208
2016 y(de\014nitions)g(lo)q(cal)f(except)j(for)e(the)h(ones)g(that)f
(users)i(of)e(the)h(mo)q(dule)d(w)o(ould)i(exp)q(ect.)19
b(F)m(or)208 2066 y(example,)14 b(users)j(exp)q(ect)g(the)f
FV(Se)n(quenc)n(es)21 b F4(mo)q(dule)14 b(to)h(de\014ne)i(op)q(erators)
f(on)g(sequences,)208 2116 y(suc)o(h)j(as)f FV(App)n(end)t
F4(.)33 b(They)19 b(don't)f(exp)q(ect)i(it)e(to)g(de\014ne)i(op)q
(erators)f(on)f(n)o(um)o(b)q(ers,)h(suc)o(h)208 2166
y(as)11 b(+.)18 b(The)12 b FV(Se)n(quenc)n(es)k F4(mo)q(dule)11
b(uses)h(+)g(and)g(other)g(op)q(erators)h(de\014ned)g(in)e(the)h
FV(Natur)n(als)208 2216 y F4(mo)q(dule.)18 b(But)d(instead)g(of)f
(extending)h FV(Natur)n(als)s F4(,)f(it)g(de\014nes)i(those)g(op)q
(erators)f(with)f(the)208 2265 y(statemen)o(t)p Black
Black 332 2341 a FP(local)j(inst)m(ance)f FV(Natur)n(als)208
2417 y F4(The)e(de\014nitions)f(of)g(the)i(op)q(erators)f(from)e
FV(Natur)n(als)k F4(are)e(therefore)i(lo)q(cal)c(to)i
FV(Se)n(quenc)n(es)s F4(.)208 2467 y(A)20 b(mo)q(dule)e(that)j(extends)
g(the)g FV(Se)n(quenc)n(es)j F4(mo)q(dule)19 b(could)h(then)h(de\014ne)
g(+)f(to)g(mean)208 2517 y(something)12 b(other)j(than)e(addition)g(of)
g(n)o(um)o(b)q(ers.)p Black Black eop
%%Page: 172 190
172 189 bop Black 208 275 a F4(172)910 b FR(CHAPTER)14
b(11.)31 b(AD)o(V)-5 b(ANCED)14 b(EXAMPLES)p 208 282
1770 2 v Black 208 391 a F3(11.1.2)65 b(Graphs)208 482
y F4(A)9 b(graph)h(is)g(an)f(example)g(of)g(the)i(kind)e(of)g(simple)f
(data)i(structure)i(often)e(used)g(in)g(sp)q(eci\014ca-)208
532 y(tions.)17 b(Let's)c(no)o(w)f(write)h(a)f FV(Gr)n(aphs)k
F4(mo)q(dule)11 b(for)h(use)h(in)f(writing)g(system)g(sp)q
(eci\014cations.)270 582 y(W)m(e)k(m)o(ust)f(\014rst)j(decide)f(ho)o(w)
f(to)h(represen)o(t)h(a)f(graph)f(in)g(terms)g(of)g(data)g(structures)
208 632 y(that)h(are)h(already)f(de\014ned|either)j(built-in)c(TLA)1055
617 y FS(+)1093 632 y F4(data)h(structures)j(lik)o(e)d(functions,)208
681 y(or)i(ones)h(de\014ned)h(in)e(existing)g(mo)q(dules.)34
b(Our)21 b(decision)e(dep)q(ends)j(on)d(what)g(kind)g(of)208
731 y(graphs)12 b(w)o(e)g(w)o(an)o(t)g(to)g(represen)o(t.)20
b(Are)13 b(w)o(e)f(in)o(terested)i(in)d(directed)j(graphs)e(or)g
(undirected)208 781 y(graphs?)33 b(Finite)18 b(or)h(in\014nite)g
(graphs?)33 b(Graphs)19 b(with)f(or)h(without)f(self-lo)q(ops)h
(\(edges)208 831 y(from)11 b(a)h(no)q(de)i(to)e(itself)s(\)?)18
b(If)13 b(w)o(e)g(are)g(sp)q(ecifying)g(graphs)g(for)f(a)h(particular)g
(sp)q(eci\014cation,)208 881 y(the)k(sp)q(eci\014cation)g(will)e(tell)h
(us)h(ho)o(w)f(to)g(answ)o(er)h(these)h(questions.)27
b(In)16 b(the)h(absence)h(of)208 931 y(suc)o(h)f(guidance,)g(let's)g
(handle)g(arbitrary)f(graphs.)27 b(My)17 b(fa)o(v)o(orite)f(w)o(a)o(y)g
(of)g(represen)o(ting)208 980 y(b)q(oth)k(directed)h(and)f(undirected)i
(graphs)f(is)f(to)g(sp)q(ecify)g(arbitrary)h(directed)g(graphs,)208
1030 y(and)13 b(to)h(de\014ne)i(an)d(undirected)j(graph)e(as)g(a)g
(directed)h(graph)f(that)h(con)o(tains)f(an)f(edge)i(i\013)208
1080 y(it)h(con)o(tains)g(the)h(opp)q(osite-p)q(oin)o(ting)e(edge.)26
b(Directed)18 b(graphs)e(ha)o(v)o(e)g(a)g(prett)o(y)i(ob)o(vious)208
1130 y(represen)o(tation:)24 b(a)17 b(directed)h(graph)e(consists)h(of)
f(a)h(set)g(of)f(no)q(des)h(and)g(a)f(set)h(of)f(edges,)208
1180 y(where)c(an)f(edge)g(from)f(no)q(de)h FV(m)k F4(to)c(no)q(de)g
FV(n)k F4(is)c(represen)o(ted)j(b)o(y)c(the)i(ordered)g(pair)f
F0(h)s FV(m)s FQ(;)j FV(n)7 b F0(i)p F4(.)270 1229 y(In)19
b(addition)g(to)g(deciding)h(ho)o(w)f(to)g(represen)o(t)j(graphs,)f(w)o
(e)f(m)o(ust)e(decide)j(ho)o(w)e(to)208 1279 y(structure)j(the)f
FV(Gr)n(aphs)j F4(mo)q(dule.)36 b(The)20 b(decision)h(dep)q(ends)h(on)e
(ho)o(w)g(w)o(e)g(exp)q(ect)i(the)208 1329 y(mo)q(dule)c(to)i(b)q(e)h
(used.)37 b(F)m(or)20 b(a)f(sp)q(eci\014cation)i(that)f(uses)h(a)f
(single)g(graph,)h(it)e(is)h(most)208 1379 y(con)o(v)o(enien)o(t)14
b(to)f(de\014ne)i(op)q(erations)f(on)g(that)g(sp)q(eci\014c)h(graph.)j
(So,)13 b(w)o(e)h(w)o(an)o(t)g(the)g FV(Gr)n(aphs)208
1429 y F4(mo)q(dule)d(to)h(ha)o(v)o(e)g(\(constan)o(t\))i(parameters)e
FV(No)n(de)k F4(and)c FV(Edge)k F4(that)d(represen)o(t)i(the)e(sets)g
(of)208 1479 y(no)q(des)h(and)g(edges)g(of)f(a)h(particular)f(graph.)18
b(A)c(sp)q(eci\014cation)g(could)g(use)g(suc)o(h)h(a)e(mo)q(dule)208
1528 y(with)g(a)h(statemen)o(t)p Black Black 332 1611
a FP(inst)m(ance)i FV(Gr)n(aphs)j FP(with)c FV(No)n(de)g
F0( )c FQ(:)c(:)g(:)12 b(;)18 b FV(Edge)e F0( )11 b FQ(:)c(:)g(:)208
1694 y F4(where)19 b(the)f(\\.)6 b(.)h(.)f("s)18 b(are)h(the)f(sets)h
(of)f(no)q(des)g(and)g(edges)h(of)e(the)i(particular)e(graph)h(ap-)208
1744 y(p)q(earing)13 b(in)f(the)i(sp)q(eci\014cation.)19
b(On)13 b(the)h(other)f(hand,)g(a)g(sp)q(eci\014cation)h(migh)o(t)d
(use)j(man)o(y)208 1794 y(di\013eren)o(t)h(graphs.)20
b(F)m(or)14 b(example,)e(it)j(migh)o(t)d(include)i(a)g(form)o(ula)e
(that)j(asserts)h(the)f(exis-)208 1844 y(tence)g(of)e(a)g(subgraph,)g
(satisfying)g(certain)h(prop)q(erties,)h(of)e(some)f(giv)o(en)h(graph)h
FV(G)t F4(.)j(Suc)o(h)208 1894 y(a)g(sp)q(eci\014cation)i(needs)g(op)q
(erators)f(that)g(tak)o(e)g(a)f(graph)h(as)g(an)g(argumen)o(t|for)d
(exam-)208 1943 y(ple,)h(a)f FV(Sub)n(gr)n(aph)20 b F4(op)q(erator)d
(de\014ned)g(so)f FV(Sub)n(gr)n(aph)s F4(\()p FV(G)t
F4(\))g(is)g(the)h(set)g(of)e(all)g(subgraphs)h(of)208
1993 y(a)h(graph)g FV(G)t F4(.)29 b(In)18 b(this)f(case,)i(the)f
FV(Gr)n(aphs)j F4(mo)q(dule)16 b(w)o(ould)h(ha)o(v)o(e)h(no)f
(parameters,)h(and)208 2043 y(sp)q(eci\014cations)13
b(w)o(ould)e(incorp)q(orate)i(it)f(with)g(an)g FP(extends)h
F4(statemen)o(t.)18 b(Let's)12 b(write)h(this)208 2093
y(kind)g(of)g(mo)q(dule.)270 2143 y(An)d(op)q(erator)h(lik)o(e)f
FV(Sub)n(gr)n(aph)k F4(tak)o(es)d(a)f(graph)g(as)g(an)g(argumen)o(t,)g
(so)g(w)o(e)h(ha)o(v)o(e)f(to)g(decide)208 2192 y(ho)o(w)16
b(to)g(represen)o(t)j(a)d(graph)g(as)h(a)f(single)g(v)n(alue.)25
b(A)16 b(graph)h FV(G)j F4(consists)d(of)f(a)g(set)h
FV(N)23 b F4(of)208 2242 y(no)q(des)13 b(and)f(a)h(set)g
FV(E)18 b F4(of)12 b(edges.)19 b(A)12 b(mathematician)e(w)o(ould)h
(represen)o(t)k FV(G)i F4(as)12 b(the)i(ordered)208 2292
y(pair)g F0(h)s FV(N)7 b FQ(;)13 b FV(E)c F0(i)p F4(.)21
b(Ho)o(w)o(ev)o(er,)15 b FV(G)t FQ(:)p FV(no)n(de)i F4(is)e(more)f(p)q
(erspicuous)i(than)f FV(G)t F4([1],)e(so)i(w)o(e)g(represen)o(t)208
2342 y FV(G)i F4(as)d(a)g(record)h(with)e FV(no)n(de)18
b F4(\014eld)c FV(N)20 b F4(and)14 b FV(e)n(dge)j F4(\014eld)d
FV(E)5 b F4(.)270 2392 y(Ha)o(ving)16 b(made)g(these)j(decisions,)f
(it's)f(easy)g(to)h(de\014ne)g(an)o(y)f(standard)g(op)q(erator)h(on)208
2442 y(graphs.)g(W)m(e)13 b(just)g(ha)o(v)o(e)h(to)f(decide)h(what)f(w)
o(e)h(should)f(de\014ne.)19 b(Here)c(are)f(some)e(generally)208
2491 y(useful)i(op)q(erators:)p Black Black eop
%%Page: 173 191
173 190 bop Black 208 275 a FR(11.1.)30 b(SPECIFYING)14
b(D)o(A)m(T)m(A)f(STR)o(UCTURES)898 b F4(173)p 208 282
1770 2 v Black Black 208 391 a FV(IsDir)n(e)n(cte)n(dGr)n(aph)s
F4(\()p FV(G)t F4(\))p Black 311 441 a(T)m(rue)13 b(i\013)f
FV(G)k F4(is)c(an)h(arbitrary)f(directed)i(graph|that)e(is,)g(a)g
(record)h(with)g FV(no)n(de)j F4(\014eld)311 491 y FV(N)26
b F4(and)18 b FV(e)n(dge)23 b F4(\014eld)c FV(E)24 b
F4(suc)o(h)19 b(that)g FV(E)24 b F4(is)19 b(a)f(subset)j(of)d
FV(N)h F0(\002)13 b FV(N)7 b F4(.)33 b(This)18 b(op)q(erator)311
541 y(is)g(useful)g(b)q(ecause)i(a)d(sp)q(eci\014cation)i(migh)o(t)c(w)
o(an)o(t)j(to)f(assert)j(that)d(something)g(is)311 591
y(a)f(directed)i(graph.)24 b(\(T)m(o)16 b(understand)h(ho)o(w)f(to)g
(assert)h(that)f FV(G)k F4(is)c(a)g(record)h(with)311
640 y FV(no)n(de)22 b F4(and)c FV(e)n(dge)j F4(\014elds,)e(see)g(the)f
(de\014nition)f(of)h FV(IsChannel)k F4(in)17 b(Section)i(10.3)d(on)311
690 y(page)e(140.\))p Black 208 773 a FV(Dir)n(e)n(cte)n(dSub)n(gr)n
(aph)s F4(\()p FV(G)t F4(\))p Black 311 823 a(The)k(set)f(of)f(all)g
(subgraphs)h(of)f(a)h(directed)h(graph)f FV(G)t F4(.)26
b(Alternativ)o(ely)m(,)16 b(w)o(e)h(could)311 873 y(de\014ne)12
b FV(IsDir)n(e)n(cte)n(dSub)n(gr)n(aph)s F4(\()p FV(H)7
b FQ(;)14 b FV(G)t F4(\))c(to)h(b)q(e)g(true)h(i\013)f
FV(H)17 b F4(is)11 b(a)f(subgraph)h(of)g FV(G)t F4(.)16
b(Ho)o(w-)311 923 y(ev)o(er,)d(it's)f(easy)h(to)f(express)i
FV(IsDir)n(e)n(cte)n(dSub)n(gr)n(aph)i F4(in)c(terms)g(of)g
FV(Dir)n(e)n(cte)n(dSub)n(gr)n(aph)s F4(:)p Black Black
436 989 a FV(IsDir)n(e)n(cte)n(dSub)n(gr)n(aph)s F4(\()p
FV(H)7 b FQ(;)13 b FV(G)t F4(\))23 b F0(\021)h FV(H)18
b F0(2)11 b FV(Dir)n(e)n(cte)n(dSub)n(gr)n(aph)s F4(\()p
FV(G)t F4(\))311 1056 y(On)k(the)g(other)h(hand,)e(it's)g(a)o(wkw)o
(ard)g(to)h(express)h FV(Dir)n(e)n(cte)n(dSub)n(gr)n(aph)i
F4(in)c(terms)g(of)311 1105 y FV(IsDir)n(e)n(cte)n(dSub)n(gr)n(aph)s
F4(:)p Black Black 436 1172 a FV(Dir)n(e)n(cte)n(dSub)n(gr)n(aph)s
F4(\()p FV(G)t F4(\))23 b(=)519 1225 y FP(choose)16 b
FV(S)24 b F4(:)18 b F0(8)7 b FV(H)25 b F4(:)18 b(\()p
FV(H)h F0(2)11 b FV(S)5 b F4(\))12 b F0(\021)g FV(IsDir)n(e)n(cte)n
(dSub)n(gr)n(aph)s F4(\()p FV(H)7 b FQ(;)13 b FV(G)t
F4(\))311 1289 y(Section)g(6.1)f(explains)g(wh)o(y)g(w)o(e)h(can't)g
(de\014ne)g(a)g(set)g(of)f(all)f(directed)j(graphs,)f(so)g(w)o(e)311
1339 y(had)h(to)g(de\014ne)h(the)f FV(IsDir)n(e)n(cte)n(dGr)n(aph)j
F4(op)q(erator.)p Black 208 1422 a FV(IsUndir)n(e)n(cte)n(dGr)n(aph)s
F4(\()p FV(G)t F4(\))208 1472 y FV(Undir)n(e)n(cte)n(dSub)n(gr)n(aph)s
F4(\()p FV(G)t F4(\))p Black 311 1520 a(These)h(are)e(analogous)f(to)h
(the)g(op)q(erators)h(for)f(directed)h(graphs.)25 b(As)16
b(men)o(tioned)311 1570 y(ab)q(o)o(v)o(e,)22 b(an)e(undirected)h(graph)
g(is)f(a)g(directed)h(graph)g FV(G)j F4(suc)o(h)d(that)f(for)g(ev)o
(ery)311 1620 y(edge)d F0(h)s FV(m)s FQ(;)d FV(n)7 b
F0(i)17 b F4(in)f FV(G)t FQ(:)p FV(e)n(dge)s F4(,)g(the)h(in)o(v)o
(erse)g(edge)g F0(h)s FV(n)s FQ(;)d FV(m)7 b F0(i)16
b F4(is)h(also)e(in)h FV(G)t FQ(:)p FV(e)n(dge)s F4(.)25
b(Note)311 1669 y(that)11 b FV(Dir)n(e)n(cte)n(dSub)n(gr)n(aph)s
F4(\()p FV(G)t F4(\))f(con)o(tains)g(directed)i(graphs)e(that)h(are)f
(not)g(undirected)311 1719 y(graphs|except)j(for)f(certain)g
(\\degenerate")h(graphs)f FV(G)t F4(,)f(suc)o(h)i(as)f(graphs)g(with)f
(no)311 1769 y(edges.)p Black 208 1852 a FV(Path)s F4(\()p
FV(G)t F4(\))p Black 311 1902 a(The)j(set)h(of)e(all)g(paths)h(in)f
FV(G)t F4(,)g(where)i(a)e(path)h(is)f(an)o(y)g(sequence)j(of)d(no)q
(des)i(that)f(can)311 1952 y(b)q(e)g(obtained)e(b)o(y)g(follo)o(wing)e
(edges)k(in)e(the)i(direction)e(they)i(p)q(oin)o(t.)j(This)12
b(de\014nition)311 2001 y(is)i(useful)f(b)q(ecause)j(man)o(y)11
b(prop)q(erties)k(of)e(a)h(graph)f(can)h(b)q(e)g(expressed)i(in)d
(terms)g(of)311 2051 y(its)h(set)g(of)e(paths.)18 b(It)c(is)f(con)o(v)o
(enien)o(t)g(to)g(consider)h(the)g(one-elemen)o(t)f(sequence)i
F0(h)s FV(n)7 b F0(i)311 2101 y F4(to)14 b(b)q(e)h(a)e(path,)h(for)f
(an)o(y)g(no)q(de)i FV(n)s F4(.)p Black 208 2184 a FV(A)o(r)n(eConne)n
(cte)n(dIn)s F4(\()p FV(m)s FQ(;)f FV(n)s FQ(;)g FV(G)t
F4(\))p Black 311 2234 a(T)m(rue)i(i\013)f(there)i(is)e(a)g(path)g
(from)f(no)q(de)i FV(m)i F4(to)d(no)q(de)h FV(n)j F4(in)c
FV(G)t F4(.)22 b(The)16 b(utilit)o(y)e(of)h(this)311
2284 y(op)q(erator)j(b)q(ecomes)g(eviden)o(t)g(when)g(y)o(ou)f(try)h
(de\014ning)f(v)n(arious)g(common)e(graph)311 2334 y(prop)q(erties,)g
(lik)o(e)e(connectivit)o(y)m(.)208 2417 y(There)j(are)g(an)o(y)f(n)o
(um)o(b)q(er)f(of)h(other)h(graph)f(prop)q(erties)i(and)e(classes)i(of)
e(graphs)g(that)h(w)o(e)208 2466 y(migh)o(t)11 b(de\014ne.)19
b(Let's)c(de\014ne)g(these)g(t)o(w)o(o:)p Black Black
eop
%%Page: 174 192
174 191 bop Black 208 275 a F4(174)910 b FR(CHAPTER)14
b(11.)31 b(AD)o(V)-5 b(ANCED)14 b(EXAMPLES)p 208 282
1770 2 v Black Black 208 391 a FV(IsStr)n(onglyConne)n(cte)n(d)t
F4(\()p FV(G)t F4(\))p Black 311 441 a(T)m(rue)j(i\013)f
FV(G)k F4(is)c(strongly)g(connected,)i(meaning)d(that)h(there)h(is)g(a)
f(path)g(from)e(an)o(y)311 491 y(no)q(de)j(to)f(an)o(y)g(other)h(no)q
(de.)25 b(F)m(or)16 b(an)g(undirected)i(graph,)e(strongly)g(connected)i
(is)311 541 y(equiv)n(alen)o(t)c(to)f(the)i(ordinary)e(de\014nition)h
(of)f(connected.)p Black 208 624 a FV(IsT)m(r)n(e)n(eWithR)n(o)n(ot)t
F4(\()p FV(G)t FQ(;)f FV(r)t F4(\))p Black 311 674 a(T)m(rue)19
b(i\013)g FV(G)j F4(is)d(a)f(tree)i(with)f(ro)q(ot)g
FV(r)t F4(,)g(where)h(w)o(e)f(represen)o(t)i(a)e(tree)h(as)f(a)f(graph)
311 723 y(with)c(an)f(edge)i(from)d(eac)o(h)i(nonro)q(ot)g(no)q(de)g
(to)f(its)h(paren)o(t.)19 b(Th)o(us,)13 b(the)i(paren)o(t)f(of)f(a)311
773 y(nonro)q(ot)h(no)q(de)g FV(n)k F4(equals)p Black
Black 436 840 a FP(choose)e FV(m)f F0(2)c FV(G)t FQ(:)p
FV(no)n(de)22 b F4(:)c F0(h)s FV(n)s FQ(;)c FV(m)7 b
F0(i)12 b(2)f FV(G)t FQ(:)p FV(e)n(dge)208 923 y F4(The)k
FV(Gr)n(aphs)j F4(mo)q(dule)c(app)q(ears)i(on)e(the)i(next)g(page.)21
b(By)15 b(no)o(w,)f(y)o(ou)h(should)g(b)q(e)g(able)g(to)208
972 y(w)o(ork)e(out)h(for)f(y)o(ourself)h(the)h(meanings)d(of)h(all)g
(the)i(de\014nitions.)208 1110 y F3(11.1.3)65 b(Solving)24
b(Di\013eren)n(tial)g(Equations)208 1201 y F4(Section)12
b(9.5)e(on)h(page)h(132)f(describ)q(es)i(ho)o(w)f(to)f(sp)q(ecify)h(a)f
(h)o(ybrid)h(system)f(whose)h(state)g(in-)208 1250 y(cludes)f(a)g(ph)o
(ysical)f(v)n(ariable)g(satisfying)g(an)h(ordinary)f(di\013eren)o(tial)
h(equation.)17 b(The)11 b(sp)q(eci-)208 1300 y(\014cation)f(uses)h(an)f
(op)q(erator)h FV(Inte)n(gr)n(ate)i F4(suc)o(h)e(that)g
FV(Inte)n(gr)n(ate)s F4(\()p FV(D)t FQ(;)i FV(t)1259
1306 y FS(0)1278 1300 y FQ(;)g FV(t)1321 1306 y FS(1)1340
1300 y FQ(;)g F0(h)s FV(x)1408 1306 y FS(0)1427 1300
y FQ(;)7 b(:)g(:)g(:)e(;)i FV(x)1544 1306 y FJ(n)s FH(\000)p
FS(1)1614 1300 y F0(i)p F4(\))208 1350 y(is)13 b(the)i(v)n(alue)e(at)h
(time)e FV(t)591 1356 y FS(1)624 1350 y F4(of)h(the)h
FV(n)s F4(-tuple)p Black Black 332 1433 a F0(h)s FV(x)5
b FQ(;)14 b FV(dx)5 b FQ(=)p FV(dt)t FQ(;)14 b(:)7 b(:)g(:)e(;)14
b FV(d)638 1416 y FJ(n)s FH(\000)p FS(1)704 1433 y FV(x)5
b FQ(=)p FV(dt)788 1416 y FJ(n)s FH(\000)p FS(1)858 1433
y F0(i)208 1516 y F4(where)15 b FV(x)k F4(is)13 b(a)h(solution)f(to)h
(the)g(di\013eren)o(tial)g(equation)p Black Black 332
1599 a FV(D)t F4([)p FV(t)t FQ(;)f FV(x)5 b FQ(;)14 b
FV(dx)5 b FQ(=)p FV(dt)t FQ(;)13 b(:)7 b(:)g(:)e(;)14
b FV(d)708 1582 y FJ(n)732 1599 y FV(x)5 b FQ(=)p FV(dt)816
1582 y FJ(n)840 1599 y F4(])11 b(=)h(0)208 1682 y(whose)g(0)349
1667 y FS(th)394 1682 y F4(through)g(\()p FV(n)d F0(\000)c
F4(1\))671 1667 y FS(st)712 1682 y F4(deriv)n(ativ)o(es)12
b(at)g(time)e FV(t)1076 1688 y FS(0)1107 1682 y F4(are)i
FV(x)1198 1688 y FS(0)1217 1682 y F4(,)g(.)6 b(.)h(.)13
b(,)f FV(x)1351 1688 y FJ(n)s FH(\000)p FS(1)1417 1682
y F4(.)18 b(W)m(e)11 b(assume)208 1732 y(that)i(there)h(is)f(suc)o(h)h
(a)f(solution)f(and)h(that)h(it)e(is)h(unique.)18 b(De\014ning)13
b FV(Inte)n(gr)n(ate)j F4(illustrates)208 1782 y(ho)o(w)d(to)h(express)
h(sophisticated)g(mathematics)d(in)h(TLA)1119 1767 y
FS(+)1140 1782 y F4(.)270 1832 y(W)m(e)g(start)i(b)o(y)f(de\014ning)g
(some)f(mathematical)e(notation)i(that)h(w)o(e)g(will)f(use)i(to)f
(de\014ne)208 1881 y(the)f(deriv)n(ativ)o(e.)k(As)c(usual,)f(w)o(e)h
(obtain)f(from)e(the)k FV(R)n(e)n(als)h F4(mo)q(dule)d(the)h
(de\014nitions)f(of)g(the)208 1931 y(set)i FV(R)n(e)n(al)j
F4(of)c(real)g(n)o(um)o(b)q(ers)g(and)g(of)g(the)h(ordinary)f
(arithmetic)f(op)q(erators.)19 b(Let)13 b FV(PosR)n(e)n(al)208
1981 y F4(b)q(e)h(the)h(set)f(of)g(all)e(p)q(ositiv)o(e)i(reals:)p
Black Black 332 2068 a FV(PosR)n(e)n(al)519 2045 y FI(\001)514
2068 y F4(=)35 b F0(f)p FV(r)15 b F0(2)d FV(R)n(e)n(al)22
b F4(:)c FV(r)e FQ(>)c F4(0)p F0(g)208 2151 y F4(and)h(let)g
FV(Op)n(enInterval)t F4(\()p FV(a)s FQ(;)7 b FV(b)s F4(\))14
b(b)q(e)g(the)g(op)q(en)g(in)o(terv)n(al)f(from)e FV(a)17
b F4(to)d FV(b)i F4(\(the)e(set)g(of)f(n)o(um)o(b)q(ers)208
2201 y(greater)h(than)g FV(a)k F4(and)13 b(less)i(than)f
FV(b)s F4(\):)p Black Black 332 2291 a FV(Op)n(enInterval)t
F4(\()p FV(a)s FQ(;)7 b FV(b)s F4(\))707 2267 y FI(\001)702
2291 y F4(=)35 b F0(f)p FV(s)14 b F0(2)e FV(R)n(e)n(al)22
b F4(:)c(\()p FV(a)d FQ(<)d FV(s)s F4(\))e F0(^)f F4(\()p
FV(s)15 b FQ(<)d FV(b)s F4(\))p F0(g)208 2374 y F4(\(Mathematicians)i
(usually)i(write)g(this)g(set)h(as)g(\()p FV(a)s FQ(;)c
FV(b)s F4(\).\))25 b(Let's)17 b(also)e(de\014ne)i FV(Nbhd)t
F4(\()p FV(r)t FQ(;)7 b FV(e)s F4(\))208 2424 y(to)13
b(b)q(e)i(the)f(op)q(en)h(in)o(terv)n(al)e(of)g(width)h(2)p
FV(e)i F4(cen)o(tered)g(at)e FV(r)t F4(:)p Black Black
332 2511 a FV(Nbhd)t F4(\()p FV(r)t FQ(;)7 b FV(e)s F4(\))563
2487 y FI(\001)558 2511 y F4(=)35 b FV(Op)n(enInterval)t
F4(\()p FV(r)14 b F0(\000)9 b FV(e)s FQ(;)e FV(r)13 b
F4(+)d FV(e)s F4(\))p Black Black eop
%%Page: 175 193
175 192 bop Black 208 275 a FR(11.1.)30 b(SPECIFYING)14
b(D)o(A)m(T)m(A)f(STR)o(UCTURES)898 b F4(175)p 208 282
1770 2 v Black Black Black Black 188 494 2 25 v 190 471
575 2 v 777 478 a FP(module)15 b FV(Gr)n(aphs)p 1090
471 V 1665 494 2 25 v .95 TeXcolorgray .95 TeXcolorgray
200 630 1433 130 v .95 TeXcolorgray Black 208 536 a FZ(A)d(mo)q(dule)d
(that)i(de\014nes)f(op)q(erators)f(on)i(graphs.)k(A)d(directed)e(graph)
g(is)h(represen)o(ted)e(as)i(a)g(record)208 576 y(whose)g
FY(no)n(de)k FZ(\014eld)10 b(is)i(the)f(set)g(of)g(no)q(des)f(and)h
(whose)g FY(e)n(dge)16 b FZ(\014eld)10 b(is)i(the)e(set)h(of)h(edges,)e
(where)h(an)g(edge)208 615 y(is)g(an)g(ordered)f(pair)g(of)h(no)q(des.)
p .95 TeXcolorgray Black 208 683 a FP(local)16 b(inst)m(ance)g
FV(Natur)n(als)208 741 y FP(local)g(inst)m(ance)g FV(Se)n(quenc)n(es)p
188 781 2 25 v 190 770 1475 2 v 1665 780 2 25 v 208 818
a(IsDir)n(e)n(cte)n(dGr)n(aph)s F4(\()p FV(G)t F4(\))610
795 y FI(\001)605 818 y F4(=)p .95 TeXcolorgray .95 TeXcolorgray
685 838 483 57 v .95 TeXcolorgray Black 56 w FZ(T)m(rue)11
b(i\013)h FY(G)i FZ(is)d(a)g(directed)f(graph.)p .95
TeXcolorgray Black 250 880 a F0(^)15 b FV(G)g F4(=)d([)p
FV(no)n(de)j F0(7!)c FV(G)t FQ(:)p FV(no)n(de)s FQ(;)18
b FV(e)n(dge)d F0(7!)c FV(G)t FQ(:)p FV(e)n(dge)s F4(])250
930 y F0(^)k FV(G)t FQ(:)p FV(e)n(dge)f F0(\022)e F4(\()p
FV(G)t FQ(:)p FV(no)n(de)g F0(\002)e FV(G)t FQ(:)p FV(no)n(de)s
F4(\))208 1016 y FV(Dir)n(e)n(cte)n(dSub)n(gr)n(aph)s
F4(\()p FV(G)t F4(\))626 992 y FI(\001)622 1016 y F4(=)p
.95 TeXcolorgray .95 TeXcolorgray 701 1036 867 57 v .95
TeXcolorgray Black 56 w FZ(The)h(set)g(of)g(all)g(\(directed\))e
(subgraphs)g(of)i(a)h(directed)d(graph.)p .95 TeXcolorgray
Black 250 1078 a F0(f)p FV(H)18 b F0(2)11 b F4([)p FV(no)n(de)22
b F4(:)c FP(subset)9 b FV(G)t FQ(:)p FV(no)n(de)s FQ(;)18
b FV(e)n(dge)k F4(:)c FP(subset)10 b F4(\()p FV(G)t FQ(:)p
FV(no)n(de)i F0(\002)e FV(G)t FQ(:)p FV(no)n(de)s F4(\)])18
b(:)335 1128 y FV(IsDir)n(e)n(cte)n(dGr)n(aph)s F4(\()p
FV(H)7 b F4(\))16 b F0(^)g FV(H)7 b FQ(:)p FV(e)n(dge)14
b F0(\022)e FV(G)t FQ(:)p FV(e)n(dge)s F0(g)p 188 1176
2 25 v 190 1165 1475 2 v 1665 1176 2 25 v 208 1222 a
FV(IsUndir)n(e)n(cte)n(dGr)n(aph)s F4(\()p FV(G)t F4(\))654
1199 y FI(\001)649 1222 y F4(=)p .95 TeXcolorgray .95
TeXcolorgray 729 1276 902 91 v .95 TeXcolorgray Black
56 w FZ(An)g(undirected)c(graph)i(is)i(a)f(directed)f(graph)g(in)h
(whic)o(h)g(ev)o(ery)737 1262 y(edge)g(has)f(an)h(opp)q(ositely)e
(directed)h(one.)p .95 TeXcolorgray Black 250 1272 a
F0(^)15 b FV(IsDir)n(e)n(cte)n(dGr)n(aph)s F4(\()p FV(G)t
F4(\))250 1322 y F0(^)g(8)7 b FV(e)14 b F0(2)d FV(G)t
FQ(:)p FV(e)n(dge)22 b F4(:)c F0(h)s FV(e)s F4([2])p
FQ(;)13 b FV(e)s F4([1])s F0(i)e(2)g FV(G)t FQ(:)p FV(e)n(dge)208
1408 y(Undir)n(e)n(cte)n(dSub)n(gr)n(aph)s F4(\()p FV(G)t
F4(\))670 1384 y FI(\001)666 1408 y F4(=)p .95 TeXcolorgray
.95 TeXcolorgray 745 1428 916 57 v .95 TeXcolorgray Black
56 w FZ(The)g(set)g(of)h(\(undirecte)o(d\))c(subgraphs)i(of)h(an)g
(undirected)d(graph.)p .95 TeXcolorgray Black 250 1470
a F0(f)p FV(H)18 b F0(2)11 b FV(Dir)n(e)n(cte)n(dSub)n(gr)n(aph)s
F4(\()p FV(G)t F4(\))19 b(:)f FV(IsUndir)n(e)n(cte)n(dGr)n(aph)s
F4(\()p FV(H)7 b F4(\))p F0(g)p 188 1518 2 25 v 190 1507
1475 2 v 1665 1518 2 25 v 208 1564 a FV(Path)s F4(\()p
FV(G)t F4(\))402 1540 y FI(\001)398 1564 y F4(=)p .95
TeXcolorgray .95 TeXcolorgray 478 1584 1167 57 v .95
TeXcolorgray Black 56 w FZ(The)k(set)g(of)h(paths)e(in)h
FY(G)s FZ(,)g(where)g(a)g(path)g(is)g(represen)o(ted)e(as)i(a)g
(sequence)e(of)j(no)q(des.)p .95 TeXcolorgray Black 250
1626 a F0(f)p FV(p)i F0(2)d FV(Se)n(q)t F4(\()p FV(G)t
FQ(:)p FV(no)n(de)s F4(\))19 b(:)f F0(^)d FV(p)f F0(6)p
F4(=)e F0(h)7 b(i)622 1676 y(^)15 b(8)7 b FV(i)15 b F0(2)c
F4(1)j FQ(:)7 b(:)13 b F4(\()p FV(L)n(en)s F4(\()p FV(p)s
F4(\))d F0(\000)f F4(1\))19 b(:)f F0(h)s FV(p)s F4([)p
FV(i)t F4(])p FQ(;)13 b FV(p)s F4([)p FV(i)f F4(+)e(1])s
F0(i)h(2)g FV(G)t FQ(:)p FV(e)n(dge)s F0(g)208 1762 y
FV(A)o(r)n(eConne)n(cte)n(dIn)s F4(\()p FV(m)s FQ(;)j
FV(n)s FQ(;)g FV(G)t F4(\))722 1738 y FI(\001)717 1762
y F4(=)p .95 TeXcolorgray .95 TeXcolorgray 797 1782 766
57 v .95 TeXcolorgray Black 56 w FZ(T)m(rue)d(i\013)h(there)e(is)h(a)h
(path)e(from)g FY(m)15 b FZ(to)c FY(n)k FZ(in)c(graph)f
FY(G)s FZ(.)p .95 TeXcolorgray Black 250 1824 a F0(9)d
FV(p)14 b F0(2)e FV(Path)s F4(\()p FV(G)t F4(\))19 b(:)f(\()p
FV(p)s F4([1])10 b(=)i FV(m)s F4(\))k F0(^)g F4(\()p
FV(p)s F4([)p FV(L)n(en)s F4(\()p FV(p)s F4(\)])11 b(=)h
FV(n)s F4(\))208 1910 y FV(IsStr)n(onglyConne)n(cte)n(d)t
F4(\()p FV(G)t F4(\))685 1886 y FI(\001)680 1910 y F4(=)p
.95 TeXcolorgray .95 TeXcolorgray 760 1930 619 57 v .95
TeXcolorgray Black 56 w FZ(T)m(rue)f(i\013)h(graph)e
FY(G)k FZ(is)d(strongly)f(connected)o(.)p .95 TeXcolorgray
Black 250 1972 a F0(8)d FV(m)s FQ(;)13 b FV(n)j F0(2)11
b FV(G)t FQ(:)p FV(no)n(de)21 b F4(:)d FV(A)o(r)n(eConne)n(cte)n(dIn)s
F4(\()p FV(m)s FQ(;)c FV(n)s FQ(;)g FV(G)t F4(\))p 188
2020 2 25 v 190 2009 1475 2 v 1665 2020 2 25 v 208 2066
a FV(IsT)m(r)n(e)n(eWithR)n(o)n(ot)t F4(\()p FV(G)t FQ(;)e
FV(r)t F4(\))649 2042 y FI(\001)644 2066 y F4(=)p .95
TeXcolorgray .95 TeXcolorgray 724 2120 814 91 v .95 TeXcolorgray
Black 56 w FZ(T)m(rue)f(if)h FY(G)i FZ(is)d(a)h(tree)e(with)i(ro)q(ot)e
FY(r)t FZ(,)h(where)g(edges)f(p)q(oin)o(t)732 2105 y(from)g(c)o(hild)h
(to)g(paren)o(t.)p .95 TeXcolorgray Black 250 2116 a
F0(^)k FV(IsDir)n(e)n(cte)n(dGr)n(aph)s F4(\()p FV(G)t
F4(\))250 2166 y F0(^)g(8)7 b FV(e)14 b F0(2)d FV(G)t
FQ(:)p FV(e)n(dge)22 b F4(:)c F0(^)c FV(e)s F4([1])d
F0(6)p F4(=)h FV(r)571 2215 y F0(^)i(8)7 b FV(f)20 b
F0(2)11 b FV(G)t FQ(:)p FV(e)n(dge)22 b F4(:)c(\()p FV(e)s
F4([1])10 b(=)i FV(f)d F4([1]\))17 b F0(\))h F4(\()p
FV(e)d F4(=)d FV(f)c F4(\))250 2265 y F0(^)15 b(8)7 b
FV(n)15 b F0(2)c FV(G)t FQ(:)p FV(no)n(de)21 b F4(:)d
FV(A)o(r)n(eConne)n(cte)n(dIn)s F4(\()p FV(n)s FQ(;)d
FV(r)t FQ(;)e FV(G)t F4(\))p 188 2294 2 25 v 190 2294
1475 2 v 1665 2294 2 25 v Black 382 2409 a FU(Figure)i(11.1:)j
F4(A)c(mo)q(dule)f(for)g(sp)q(ecifying)h(op)q(erators)h(on)e(graphs.)p
Black Black Black Black eop
%%Page: 176 194
176 193 bop Black 208 275 a F4(176)910 b FR(CHAPTER)14
b(11.)31 b(AD)o(V)-5 b(ANCED)14 b(EXAMPLES)p 208 282
1770 2 v Black 208 391 a F4(T)m(o)9 b(explain)h(the)g(de\014nitions,)h
(w)o(e)f(need)i(some)d(notation)g(for)h(the)h(deriv)n(ativ)o(e)f(of)g
(a)g(function.)208 441 y(It's)k(rather)h(di\016cult)e(to)h(mak)o(e)f
(mathematical)e(sense)k(of)f(the)h(usual)e(notation)h
FV(df)8 b FQ(=)p FV(dt)18 b F4(for)208 491 y(the)c(deriv)n(ativ)o(e)f
(of)h FV(f)8 b F4(.)18 b(\(What)c(exactly)f(is)h FV(t)t
F4(?\))k(So,)13 b(let's)h(use)h(a)e(mathematicall)o(y)e(simpler)208
541 y(notation)i(and)h(write)g(the)h FV(n)659 526 y FS(th)707
541 y F4(deriv)n(ativ)o(e)e(of)h(the)g(function)g FV(f)23
b F4(as)14 b FV(f)1287 526 y FS(\()p FJ(n)s FS(\))1337
541 y F4(.)19 b(\(W)m(e)13 b(don't)h(ha)o(v)o(e)208 591
y(to)i(use)h(TLA)422 576 y FS(+)460 591 y F4(notation)e(b)q(ecause)j
(di\013eren)o(tiation)f(will)e(not)h(app)q(ear)h(explicitly)f(in)g(our)
208 640 y(de\014nitions.\))i(Recall)13 b(that)h FV(f)677
625 y FS(\(0\))722 640 y F4(,)f(the)i(0)840 625 y FS(th)887
640 y F4(deriv)n(ativ)o(e)e(of)g FV(f)c F4(,)k(equals)h
FV(f)9 b F4(.)270 690 y(W)m(e)16 b(can)h(no)o(w)g(start)g(to)g
(de\014ne)h FV(Inte)n(gr)n(ate)s F4(.)27 b(If)16 b FV(a)k
F4(and)d FV(b)i F4(are)f(n)o(um)o(b)q(ers,)e FV(InitV)m(als)k
F4(is)208 740 y(an)15 b FV(n)s F4(-tuple)h(of)f(n)o(um)o(b)q(ers,)g
(and)g FV(D)20 b F4(is)15 b(a)g(function)g(from)f(\()p
FV(n)g F4(+)c(2\)-tuples)16 b(of)f(n)o(um)o(b)q(ers)g(to)208
790 y(n)o(um)o(b)q(ers,)e(then)p Black Black 332 864
a FV(Inte)n(gr)n(ate)s F4(\()p FV(D)t FQ(;)h FV(a)s FQ(;)f
FV(b)s FQ(;)g FV(InitV)m(als)s F4(\))23 b(=)h F0(h)s
FV(f)949 847 y FS(\(0\))993 864 y F4([)p FV(b)s F4(])p
FQ(;)13 b(:)7 b(:)g(:)e(;)13 b FV(f)1166 847 y FS(\()p
FJ(n)s FH(\000)p FS(1\))1258 864 y F4([)p FV(b)s F4(])s
F0(i)208 938 y F4(where)i FV(f)22 b F4(is)14 b(the)g(function)g
(satisfying)f(the)h(follo)o(wing)d(t)o(w)o(o)j(conditions:)p
Black 270 1012 a F0(\017)p Black 20 w FV(D)t F4([)p FV(r)t
FQ(;)f FV(f)427 997 y FS(\(0\))472 1012 y F4([)p FV(r)t
F4(])p FQ(;)f FV(f)563 997 y FS(\(1\))608 1012 y F4([)p
FV(r)t F4(])p FQ(;)g(:)7 b(:)g(:)f(;)h FV(f)774 997 y
FS(\()p FJ(n)s FS(\))824 1012 y F4([)p FV(r)t F4(]])19
b(=)h(0,)15 b(for)g(all)f FV(r)19 b F4(in)c(some)f(op)q(en)i(in)o(terv)
n(al)e(con-)311 1062 y(taining)f FV(a)k F4(and)d FV(b)s
F4(.)p Black 270 1140 a F0(\017)p Black 20 w(h)s FV(f)352
1125 y FS(\(0\))397 1140 y F4([)p FV(a)s F4(])p FQ(;)f(:)7
b(:)g(:)e(;)14 b FV(f)572 1125 y FS(\()p FJ(n)s FH(\000)p
FS(1\))664 1140 y F4([)p FV(a)s F4(])s F0(i)23 b F4(=)h
FV(InitV)m(als)208 1214 y F4(W)m(e)11 b(w)o(an)o(t)g(to)h(de\014ne)h
FV(Inte)n(gr)n(ate)s F4(\()p FV(D)t FQ(;)g FV(a)s FQ(;)h
FV(b)s FQ(;)f FV(InitV)m(als)s F4(\))f(in)f(terms)g(of)h(this)f
(function)h FV(f)c F4(,)k(whic)o(h)208 1264 y(w)o(e)h(can)g(sp)q(ecify)
h(using)e(the)i FP(choose)g F4(op)q(erator.)k(It's)13
b(easiest)h(to)f(c)o(ho)q(ose)h(not)f(just)g FV(f)c F4(,)k(but)208
1314 y(its)e(\014rst)i FV(n)j F4(deriv)n(ativ)o(es)11
b(as)h(w)o(ell.)17 b(So,)12 b(w)o(e)g(c)o(ho)q(ose)h(a)e(function)h
FV(g)k F4(suc)o(h)c(that)g FV(g)t F4([)p FV(i)t F4(])f(=)g
FV(f)1543 1299 y FS(\()p FJ(i)s FS(\))1596 1314 y F4(for)208
1364 y FV(i)k F0(2)c F4(0)j FQ(:)7 b(:)f FV(n)s F4(.)17
b(The)12 b(function)e FV(g)15 b F4(maps)9 b(n)o(um)o(b)q(ers)i(in)f(0)k
FQ(:)7 b(:)f FV(n)14 b F4(in)o(to)c(functions.)17 b(More)12
b(precisely)m(,)208 1414 y FV(g)17 b F4(is)d(an)g(elemen)o(t)f(of)p
Black Black 332 1488 a([0)g FQ(:)7 b(:)13 b FV(n)i F0(!)c
F4([)p FV(Op)n(enInterval)t F4(\()p FV(a)i F0(\000)c
FV(e)s FQ(;)14 b FV(b)e F4(+)d FV(e)s F4(\))j F0(!)f
FV(R)n(e)n(al)t F4(])c(])208 1562 y(for)18 b(some)f(p)q(ositiv)o(e)i
FV(e)s F4(.)32 b(It)18 b(is)h(the)g(function)f(in)g(this)h(set)g(that)g
(satis\014es)g(the)g(follo)o(wing)208 1612 y(conditions:)p
Black 258 1686 a(1.)p Black 20 w FV(g)t F4([)p FV(i)t
F4(])13 b(is)h(the)g FV(i)518 1671 y FS(th)565 1686 y
F4(deriv)n(ativ)o(e)g(of)f FV(g)t F4([0],)f(for)i(all)e
FV(i)k F0(2)11 b F4(0)i FQ(:)7 b(:)13 b FV(n)s F4(.)p
Black 258 1764 a(2.)p Black 20 w FV(D)t F4([)p FV(r)t
FQ(;)g FV(g)t F4([0][)p FV(r)t F4(])p FQ(;)e(:)c(:)g(:)f(;)13
b FV(g)t F4([)p FV(n)s F4(][)p FV(r)t F4(])7 b(])16 b(=)j(0,)13
b(for)h(all)e FV(r)18 b F4(in)c FV(Op)n(enInterval)t
F4(\()p FV(a)f F0(\000)c FV(e)s FQ(;)14 b FV(b)e F4(+)d
FV(e)s F4(\).)p Black 258 1843 a(3.)p Black 20 w F0(h)s
FV(g)t F4([0][)p FV(a)s F4(])p FQ(;)j(:)7 b(:)g(:)f(;)13
b FV(g)t F4([)p FV(n)f F0(\000)e F4(1][)p FV(a)s F4(])s
F0(i)h F4(=)g FV(InitV)m(als)208 1917 y F4(W)m(e)i(no)o(w)h(ha)o(v)o(e)
f(to)h(express)i(these)f(conditions)f(formally)l(.)270
1967 y(T)m(o)c(express)i(the)g(\014rst)f(condition,)g(w)o(e)g(will)e
(de\014ne)j FV(IsDeriv)j F4(so)c(that)f FV(IsDeriv)t
F4(\()p FV(i)t FQ(;)k FV(df)9 b FQ(;)k FV(f)c F4(\))208
2016 y(is)j(true)h(i\013)f FV(df)22 b F4(is)12 b(the)h
FV(i)565 2001 y FS(th)611 2016 y F4(deriv)n(ativ)o(e)f(of)g
FV(f)c F4(.)18 b(More)13 b(precisely)m(,)f(this)h(will)e(b)q(e)i(the)g
(case)g(if)f FV(f)21 b F4(is)208 2066 y(a)12 b(real-v)n(alued)g
(function)h(on)g(an)g(op)q(en)g(in)o(terv)n(al;)f(w)o(e)h(don't)g(care)
h(what)e FV(IsDeriv)t F4(\()p FV(i)t FQ(;)i FV(df)9 b
FQ(;)k FV(f)c F4(\))208 2116 y(equals)k(for)h(other)h(v)n(alues)e(of)g
FV(f)c F4(.)18 b(Condition)13 b(1)g(is)h(then)p Black
Black 332 2190 a F0(8)7 b FV(i)16 b F0(2)11 b F4(1)i
FQ(:)7 b(:)13 b FV(n)22 b F4(:)c FV(IsDeriv)t F4(\()p
FV(i)t FQ(;)c FV(g)t F4([)p FV(i)t F4(])p FQ(;)e FV(g)t
F4([0]\))208 2264 y(T)m(o)c(express)k(the)e(second)g(condition)f
(formally)m(,)e(without)i(the)h(\\.)c(.)g(.)h(",)j(w)o(e)f(reason)h(as)
g(follo)o(ws:)p Black Black 332 2338 a FV(D)t F4([)p
FV(r)t FQ(;)j FV(g)t F4([0][)p FV(r)t F4(])p FQ(;)e(:)c(:)g(:)f(;)13
b FV(g)t F4([)p FV(n)s F4(][)p FV(r)t F4(])7 b(])353
2400 y(=)23 b FV(D)t F4([)7 b F0(h)s FV(r)t FQ(;)14 b
FV(g)t F4([0][)p FV(r)t F4(])p FQ(;)d(:)c(:)g(:)e(;)14
b FV(g)t F4([)p FV(n)s F4(][)p FV(r)t F4(])s F0(i)7 b
F4(])p .95 TeXcolorgray .95 TeXcolorgray 1145 2420 207
57 v .95 TeXcolorgray Black 249 w FZ(See)k(page)f(50.)p
.95 TeXcolorgray Black 353 2461 a F4(=)23 b FV(D)t F4([)7
b F0(h)s FV(r)h F0(i)h(\016)g(h)s FV(g)t F4([0][)p FV(r)t
F4(])p FQ(;)j(:)7 b(:)g(:)e(;)14 b FV(g)t F4([)p FV(n)s
F4(][)p FV(r)t F4(])s F0(i)7 b F4(])p .95 TeXcolorgray
.95 TeXcolorgray 1145 2481 337 57 v .95 TeXcolorgray
Black 196 w FZ(T)m(uples)k(are)g(sequences)p .95 TeXcolorgray
Black 353 2522 a F4(=)23 b FV(D)t F4([)7 b F0(h)s FV(r)h
F0(i)h(\016)g F4([)p FV(i)15 b F0(2)c F4(1)j FQ(:)7 b(:)13
b F4(\()p FV(n)g F4(+)c(1\))j F0(7!)f FV(g)t F4([)p FV(i)h
F0(\000)e F4(1][)p FV(r)t F4(]])d(])p .95 TeXcolorgray
.95 TeXcolorgray 1145 2543 833 57 v .95 TeXcolorgray
Black 26 w FZ(An)12 b(\()p FY(n)5 b FZ(+)r(1\)-tuple)k(is)j(a)f
(function)e(with)j(domain)d(1)j Fw(:)5 b(:)12 b FY(n)5
b FZ(+)r(1.)p .95 TeXcolorgray Black Black Black eop
%%Page: 177 195
177 194 bop Black 208 275 a FR(11.1.)30 b(SPECIFYING)14
b(D)o(A)m(T)m(A)f(STR)o(UCTURES)898 b F4(177)p 208 282
1770 2 v Black 208 391 a(The)14 b(third)g(condition)f(is)h(simply)p
Black Black 332 474 a F0(8)7 b FV(i)16 b F0(2)11 b F4(1)i
FQ(:)7 b(:)13 b FV(n)22 b F4(:)c FV(g)t F4([)p FV(i)13
b F0(\000)c F4(1][)p FV(a)s F4(])h(=)i FV(InitV)m(als)s
F4([)p FV(i)t F4(])208 556 y(W)m(e)h(can)h(therefore)h(write)g(the)f
(form)o(ula)e(sp)q(ecifying)h FV(g)18 b F4(as)p Black
Black 332 638 a F0(9)7 b FV(e)15 b F0(2)c FV(PosR)n(e)n(al)23
b F4(:)18 b F0(^)c FV(g)h F0(2)c F4([0)i FQ(:)7 b(:)13
b FV(n)i F0(!)c F4([)p FV(Op)n(enInterval)t F4(\()p FV(a)i
F0(\000)c FV(e)s FQ(;)14 b FV(b)e F4(+)d FV(e)s F4(\))j
F0(!)f FV(R)n(e)n(al)t F4(])c(])631 695 y F0(^)14 b(8)7
b FV(i)15 b F0(2)c F4(1)j FQ(:)7 b(:)13 b FV(n)22 b F4(:)c
F0(^)13 b FV(IsDeriv)t F4(\()p FV(i)t FQ(;)h FV(g)t F4([)p
FV(i)t F4(])p FQ(;)e FV(g)t F4([0]\))924 745 y F0(^)h
FV(g)t F4([)p FV(i)g F0(\000)c F4(1][)p FV(a)s F4(])h(=)i
FV(InitV)m(als)s F4([)p FV(i)t F4(])631 802 y F0(^)i(8)7
b FV(r)15 b F0(2)c FV(Op)n(enInterval)t F4(\()p FV(a)i
F0(\000)d FV(e)s FQ(;)j FV(b)f F4(+)e FV(e)s F4(\))19
b(:)714 852 y FV(D)t F4([)7 b F0(h)s FV(r)h F0(i)h(\016)g
F4([)p FV(i)15 b F0(2)c F4(1)j FQ(:)7 b(:)13 b F4(\()p
FV(n)g F4(+)c(1\))j F0(7!)f FV(g)t F4([)p FV(i)h F0(\000)e
F4(1][)p FV(r)t F4(]])d(])15 b(=)k(0)208 935 y(where)e
FV(n)j F4(is)d(the)g(length)g(of)f FV(InitV)m(als)s F4(.)26
b(The)17 b(v)n(alue)f(of)g FV(Inte)n(gr)n(ate)s F4(\()p
FV(D)t FQ(;)e FV(a)s FQ(;)f FV(b)s FQ(;)h FV(InitV)m(als)s
F4(\))i(is)208 984 y(the)e(tuple)g F0(h)s FV(g)t F4([0][)p
FV(b)s F4(])p FQ(;)7 b(:)g(:)f(:)t(;)h FV(g)t F4([)p
FV(n)k F0(\000)f F4(1][)p FV(b)s F4(])s F0(i)p F4(,)i(whic)o(h)i(can)g
(b)q(e)g(written)h(formally)c(as)p Black Black 332 1067
a([)p FV(i)k F0(2)c F4(1)j FQ(:)7 b(:)13 b FV(n)i F0(7!)c
FV(g)t F4([)p FV(i)h F0(\000)e F4(1][)p FV(b)s F4(]])270
1149 y(T)m(o)i(complete)h(the)h(de\014nition)f(of)g FV(Inte)n(gr)n(ate)
s F4(,)f(w)o(e)i(no)o(w)f(de\014ne)h(the)g(op)q(erator)g
FV(IsDeriv)t F4(.)208 1199 y(It's)g(easy)h(to)f(de\014ne)i(the)f
FV(i)634 1184 y FS(th)682 1199 y F4(deriv)n(ativ)o(e)f(inductiv)o(ely)f
(in)h(terms)h(of)f(the)h(\014rst)g(deriv)n(ativ)o(e.)208
1248 y(So,)j(w)o(e)g(de\014ne)h FV(IsFirstDeriv)t F4(\()p
FV(df)8 b FQ(;)13 b FV(f)c F4(\))18 b(to)f(b)q(e)i(true)f(i\013)g
FV(df)27 b F4(is)17 b(the)i(\014rst)f(deriv)n(ativ)o(e)g(of)f
FV(f)8 b F4(,)208 1298 y(assuming)17 b(that)j FV(f)27
b F4(is)20 b(a)f(real-v)n(alued)f(function)h(whose)h(domain)d(is)i(an)g
(op)q(en)h(in)o(terv)n(al.)208 1348 y(Our)c(de\014nition)f(actually)f
(w)o(orks)i(if)f(the)h(domain)d(of)i FV(f)24 b F4(is)15
b(an)o(y)g(op)q(en)h(set.)1395 1333 y FS(2)1438 1348
y F4(Elemen)o(tary)208 1398 y(calculus)e(tells)f(us)i(that)f
FV(df)8 b F4([)p FV(r)t F4(])13 b(is)h(the)h(deriv)n(ativ)o(e)e(of)g
FV(f)23 b F4(at)13 b FV(r)18 b F4(i\013)p Black Black
332 1504 a FV(df)9 b F4([)p FV(r)t F4(])22 b(=)27 b(lim)498
1529 y Fy(s)p FH(!)p Fy(r)575 1476 y FQ(f)t F4([)p FQ(s)p
F4(])10 b F0(\000)f FQ(f)t F4([)p FQ(r)q F4(])p 575 1494
186 2 v 623 1532 a FQ(s)h F0(\000)f FQ(r)208 1601 y F4(The)17
b(classical)g(\\)p FQ(\016)r F4(-)p FQ(\017)p F4(")f(de\014nition)h(of)
f(the)i(limit)d(states)j(that)f(this)g(is)g(true)h(i\013,)f(for)g(ev)o
(ery)208 1651 y FQ(\017)11 b(>)h F4(0,)h(there)i(is)f(a)f
FQ(\016)h(>)e F4(0)h(suc)o(h)i(that)f(0)d FQ(<)h F0(j)p
FV(s)g F0(\000)e FV(r)t F0(j)h FQ(<)h(\016)j F4(implies)p
Black Black 332 1698 a FF(\014)332 1723 y(\014)332 1748
y(\014)332 1773 y(\014)346 1758 y FQ(d)-7 b(f)t F4([)p
FQ(r)q F4(])9 b F0(\000)484 1730 y FQ(f)t F4([)p FQ(s)p
F4(])h F0(\000)f FQ(f)t F4([)p FQ(r)q F4(])p 484 1749
V 532 1787 a FQ(s)h F0(\000)f FQ(r)675 1698 y FF(\014)675
1723 y(\014)675 1748 y(\014)675 1773 y(\014)700 1758
y FQ(<)j(\017)208 1863 y F4(Stated)i(formally)m(,)c(this)k(condition)f
(is)p Black Black 332 1945 a F0(8)7 b FQ(\017)k F0(2)h
FV(PosR)n(e)n(al)23 b F4(:)374 1998 y F0(9)7 b FQ(\016)13
b F0(2)e FV(PosR)n(e)n(al)23 b F4(:)415 2056 y F0(8)7
b FV(s)15 b F0(2)c FV(Nbhd)t F4(\()p FV(r)t FQ(;)j(\016)r
F4(\))7 b F0(n)g(f)p FV(r)t F0(g)18 b F4(:)864 2028 y
FQ(f)t F4([)p FQ(s)p F4(])10 b F0(\000)f FQ(f)t F4([)p
FQ(r)q F4(])p 864 2046 V 912 2084 a FQ(s)h F0(\000)f
FQ(r)1066 2056 y F0(2)j FQ(N)5 b(bhd)p F4(\()p FQ(d)-7
b(f)t F4([)p FQ(r)q F4(])p FQ(;)12 b(\017)p F4(\))208
2155 y(W)m(e)i(de\014ne)h FV(IsFirstDeriv)t F4(\()p FV(df)8
b FQ(;)14 b FV(f)8 b F4(\))15 b(to)f(b)q(e)i(true)f(i\013)f(the)h
(domains)e(of)h FV(df)23 b F4(and)15 b FV(f)23 b F4(are)15
b(equal,)208 2205 y(and)e(this)h(condition)f(holds)h(for)g(all)e
FV(r)18 b F4(in)13 b(their)i(domain.)270 2255 y(The)k(de\014nitions)h
(of)e FV(Inte)n(gr)n(ate)k F4(and)d(all)f(the)i(other)g(op)q(erators)g
(in)o(tro)q(duced)g(ab)q(o)o(v)o(e)208 2305 y(app)q(ear)f(in)f(the)h
FV(Di\013er)n(entialEquations)j F4(mo)q(dule)17 b(of)h(Figure)h(11.2)e
(on)h(the)h(next)g(page.)208 2355 y(The)12 b FP(local)h
F4(construct)h(describ)q(ed)g(in)d(Section)i(11.1.1)d(ab)q(o)o(v)o(e)i
(is)g(used)h(to)f(mak)o(e)f(all)f(these)208 2404 y(de\014nitions)j(lo)q
(cal)g(to)h(the)h(mo)q(dule,)d(except)j(for)e(the)i(de\014nition)e(of)h
FV(Inte)n(gr)n(ate)s F4(.)p Black 208 2439 576 2 v 254
2466 a FK(2)271 2477 y FZ(A)f(set)e FY(S)16 b FZ(is)c(op)q(en)e(i\013)i
(for)f(ev)o(ery)f FY(r)k FW(2)c FY(S)16 b FZ(there)10
b(exists)h(an)g Fw(\017)g(>)g FZ(0)g(suc)o(h)g(that)g(the)g(in)o(terv)n
(al)f(from)h FY(r)g FW(\000)e Fw(\017)208 2517 y FZ(to)i
FY(r)g FZ(+)d Fw(\017)k FZ(is)g(con)o(tained)d(in)i FY(S)t
FZ(.)p Black Black Black eop
%%Page: 178 196
178 195 bop Black 208 275 a F4(178)910 b FR(CHAPTER)14
b(11.)31 b(AD)o(V)-5 b(ANCED)14 b(EXAMPLES)p 208 282
1770 2 v Black Black Black Black 188 404 2 25 v 190 381
613 2 v 815 388 a FP(module)i FV(Di\013er)n(entialEquations)p
1383 381 V 1996 404 2 25 v .95 TeXcolorgray .95 TeXcolorgray
200 932 1787 514 v .95 TeXcolorgray Black 208 454 a FZ(This)11
b(mo)q(dule)f(de\014nes)f(the)i(op)q(erator)e FY(Inte)n(gr)n(ate)16
b FZ(for)11 b(sp)q(ecifying)e(the)h(solution)g(to)h(a)g(di\013eren)o
(tial)e(equation.)15 b(If)c FY(a)k FZ(and)10 b FY(b)k
FZ(are)208 494 y(reals)c(with)h FY(a)k FW(\024)c FY(b)r
FZ(;)h FY(InitV)m(als)j FZ(is)c(an)g FY(n)s FZ(-tuple)f(of)h(reals;)f
(and)h FY(D)k FZ(is)c(a)h(function)d(from)h(\()p FY(n)5
b FZ(+)r(1\)-tuples)10 b(of)h(reals)g(to)g(reals;)f(then)h(this)208
533 y(is)g(the)g FY(n)s FZ(-tuple)f(of)h(v)n(alues)278
612 y FW(h)s FY(f)c FZ([)p FY(b)r FZ(])p Fw(;)377 589
y FY(df)p 377 605 37 2 v 379 637 a(dt)419 612 y FZ([)p
FY(b)r FZ(])p Fw(;)k(:)6 b(:)g(:)f(;)552 589 y FY(d)573
577 y FE(n)m FX(\000)-5 b FK(1)623 589 y FY(f)p 552 605
89 2 v 555 637 a(dt)588 628 y FE(n)m FX(\000)g FK(1)646
612 y FZ([)p FY(b)r FZ(])s FW(i)208 682 y FZ(where)11
b FY(f)18 b FZ(is)12 b(the)f(solution)e(to)i(the)g(di\013eren)o(tial)d
(equation)278 756 y FY(D)s FZ([)p FY(t)s Fw(;)j FY(f)c
Fw(;)399 733 y FY(df)p 399 749 37 2 v 401 781 a(dt)440
756 y Fw(;)12 b(:)6 b(:)f(:)h(;)535 733 y FY(d)556 721
y FE(n)578 733 y FY(f)p 535 749 61 2 v 538 781 a(dt)571
772 y FE(n)601 756 y FZ(])19 b(=)h(0)208 826 y(suc)o(h)10
b(that)278 899 y FW(h)s FY(f)d FZ([)p FY(a)s FZ(])p Fw(;)380
876 y FY(df)p 380 891 37 2 v 382 924 a(dt)421 899 y FZ([)p
FY(a)s FZ(])p Fw(;)k(:)6 b(:)g(:)f(;)557 876 y FY(d)578
864 y FE(n)m FX(\000)-5 b FK(1)628 876 y FY(f)p 557 891
89 2 v 560 924 a(dt)593 914 y FE(n)m FX(\000)g FK(1)651
899 y FZ([)p FY(a)s FZ(])s FW(i)19 b FZ(=)h FY(InitV)m(als)p
.95 TeXcolorgray Black 208 992 a FP(local)c(inst)m(ance)g
FV(R)n(e)n(als)208 1050 y FP(local)g(inst)m(ance)g FV(Se)n(quenc)n(es)
208 1114 y FP(local)g FV(PosR)n(e)n(al)529 1091 y FI(\001)524
1114 y F4(=)35 b F0(f)p FV(r)16 b F0(2)11 b FV(R)n(e)n(al)22
b F4(:)c FV(r)e FQ(>)c F4(0)p F0(g)208 1179 y FP(local)k
FV(Op)n(enInterval)t F4(\()p FV(a)s FQ(;)7 b FV(b)s F4(\))717
1156 y FI(\001)712 1179 y F4(=)35 b F0(f)p FV(s)15 b
F0(2)c FV(R)n(e)n(al)22 b F4(:)c(\()p FV(a)d FQ(<)d FV(s)s
F4(\))e F0(^)f F4(\()p FV(s)15 b FQ(<)d FV(b)s F4(\))p
F0(g)208 1244 y FP(local)k FV(Nbhd)t F4(\()p FV(r)t FQ(;)7
b FV(e)s F4(\))573 1220 y FI(\001)568 1244 y F4(=)35
b FV(Op)n(enInterval)t F4(\()p FV(r)14 b F0(\000)9 b
FV(e)s FQ(;)e FV(r)13 b F4(+)d FV(e)s F4(\))p .95 TeXcolorgray
.95 TeXcolorgray 1364 1164 495 209 v .95 TeXcolorgray
Black 1372 992 a FZ(The)h Fu(inst)n(ance)h FZ(statemen)o(t)d(and)1372
1031 y(these)h(de\014nitions)f(are)i(lo)q(cal,)f(so)h(a)1372
1071 y(mo)q(dule)e(that)i(extends)e(this)i(one)1372 1110
y(obtains)f(only)g(the)h(de\014nition)e(of)1372 1150
y FY(Inte)n(gr)n(ate)r FZ(.)p .95 TeXcolorgray Black
188 1284 2 25 v 190 1273 1806 2 v 1996 1283 2 25 v 208
1330 a FP(local)16 b FV(IsFirstDeriv)t F4(\()p FV(df)8
b FQ(;)14 b FV(f)8 b F4(\))729 1306 y FI(\001)724 1330
y F4(=)p .95 TeXcolorgray .95 TeXcolorgray 825 1504 991
211 v .95 TeXcolorgray Black 77 w FZ(Assuming)i Fu(domain)e
FY(f)19 b FZ(is)12 b(an)f(op)q(en)f(subset)g(of)h FY(R)n(e)n(al)s
FZ(,)i(this)e(is)g(true)g(i\013)833 1369 y FY(f)19 b
FZ(is)12 b(di\013eren)o(tiab)o(le)c(and)j FY(df)19 b
FZ(is)12 b(its)f(\014rst)f(deriv)n(ativ)o(e.)15 b(Recall)10
b(that)h(the)833 1409 y(deriv)n(ativ)o(e)e(of)i FY(f)19
b FZ(at)11 b FY(r)16 b FZ(is)11 b(the)g(n)o(um)o(b)q(er)e
FY(df)f FZ([)p FY(r)t FZ(])j(satisfying)e(the)i(follo)o(wing)833
1448 y(condition:)k(for)c(ev)o(ery)f Fw(\017)i FZ(there)e(exists)h(a)g
Fw(\016)i FZ(suc)o(h)d(that)h(0)e Fw(<)i FW(j)p FY(s)e
FW(\000)g FY(r)t FW(j)g Fw(<)h(\016)833 1487 y FZ(implies)g
FW(j)p FY(df)d FZ([)p FY(r)t FZ(])g FW(\000)i FZ(\()p
FY(f)d FZ([)p FY(s)s FZ(])h FW(\000)h FY(f)f FZ([)p FY(r)t
FZ(]\))p Fw(=)p FZ(\()p FY(s)i FW(\000)f FY(r)t FZ(\))p
FW(j)h Fw(<)h(\017)p FZ(.)p .95 TeXcolorgray Black 250
1392 a F0(^)15 b FV(df)20 b F0(2)11 b F4([)p FP(domain)e
FV(f)21 b F0(!)11 b FV(R)n(e)n(al)t F4(])250 1441 y F0(^)k(8)7
b FV(r)15 b F0(2)c FP(domain)f FV(f)27 b F4(:)335 1491
y F0(8)7 b FV(e)15 b F0(2)c FV(PosR)n(e)n(al)23 b F4(:)377
1541 y F0(9)7 b FV(d)16 b F0(2)c FV(PosR)n(e)n(al)23
b F4(:)420 1591 y F0(8)7 b FV(s)15 b F0(2)c FV(Nbhd)t
F4(\()p FV(r)t FQ(;)j FV(d)t F4(\))7 b F0(n)g(f)p FV(r)t
F0(g)18 b F4(:)g(\()p FV(f)9 b F4([)p FV(s)s F4(])g F0(\000)g
FV(f)g F4([)p FV(r)t F4(]\))p FQ(=)p F4(\()p FV(s)i F0(\000)f
FV(r)t F4(\))h F0(2)h FV(Nbhd)t F4(\()p FV(df)d F4([)p
FV(r)t F4(])p FQ(;)k FV(e)s F4(\))208 1673 y FP(local)j
FV(IsDeriv)t F4(\()p FV(n)s FQ(;)e FV(df)9 b FQ(;)14
b FV(f)8 b F4(\))693 1649 y FI(\001)688 1673 y F4(=)p
.95 TeXcolorgray .95 TeXcolorgray 768 1693 975 58 v .95
TeXcolorgray Black 56 w FZ(T)m(rue)j(i\013)g FY(f)19
b FZ(is)12 b FY(n)i FZ(times)d(di\013eren)o(tia)o(ble)d(and)j
FY(df)19 b FZ(is)11 b(its)h FY(n)1532 1661 y FK(th)1574
1673 y FZ(deriv)n(ativ)o(e.)p .95 TeXcolorgray Black
250 1742 a FP(let)23 b FV(IsD)t F4([)p FV(k)16 b F0(2)11
b F4(0)j FQ(:)7 b(:)13 b FV(n)s FQ(;)18 b FV(g)d F0(2)d
F4([)p FP(domain)d FV(f)20 b F0(!)11 b FV(R)n(e)n(al)t
F4(])c(])1109 1718 y FI(\001)1104 1742 y F4(=)p .95 TeXcolorgray
.95 TeXcolorgray 1205 1762 431 57 v .95 TeXcolorgray
Black 77 w FY(IsD)s FZ([)p FY(k)t Fw(;)e FY(g)s FZ(])10
b(=)g FY(IsDeriv)t FZ(\()p FY(k)t Fw(;)5 b FY(g)s Fw(;)h
FY(f)h FZ(\))p .95 TeXcolorgray Black 384 1791 a FP(if)24
b FV(k)16 b F4(=)c(0)22 b FP(then)i FV(g)15 b F4(=)d
FV(f)565 1841 y FP(else)36 b F0(9)7 b FV(gg)15 b F0(2)c
F4([)p FP(domain)f FV(f)20 b F0(!)11 b FV(R)n(e)n(al)t
F4(])18 b(:)g F0(^)d FV(IsFirstDeriv)t F4(\()p FV(g)t
FQ(;)7 b FV(gg)t F4(\))1204 1891 y F0(^)15 b FV(IsD)t
F4([)p FV(k)e F0(\000)d F4(1)p FQ(;)d FV(gg)t F4(])250
1941 y FP(in)54 b FV(IsD)t F4([)p FV(n)s FQ(;)14 b FV(df)8
b F4(])p 188 1981 2 25 v 190 1970 1806 2 v 1996 1980
2 25 v 208 2018 a FV(Inte)n(gr)n(ate)s F4(\()p FV(D)t
FQ(;)13 b FV(a)s FQ(;)h FV(b)s FQ(;)f FV(InitV)m(als)s
F4(\))744 1995 y FI(\001)739 2018 y F4(=)250 2075 y FP(let)23
b FV(n)412 2051 y FI(\001)407 2075 y F4(=)g FV(L)n(en)s
F4(\()p FV(InitV)m(als)s F4(\))342 2132 y FV(gg)412 2108
y FI(\001)407 2132 y F4(=)g FP(choose)17 b FV(g)22 b
F4(:)c F0(9)7 b FV(e)15 b F0(2)c FV(PosR)n(e)n(al)23
b F4(:)18 b F0(^)d FV(g)g F0(2)c F4([0)i FQ(:)7 b(:)13
b FV(n)i F0(!)c F4([)p FV(Op)n(enInterval)t F4(\()p FV(a)i
F0(\000)c FV(e)s FQ(;)14 b FV(b)e F4(+)d FV(e)s F4(\))j
F0(!)f FV(R)n(e)n(al)t F4(])c(])993 2181 y F0(^)15 b(8)7
b FV(i)15 b F0(2)c F4(1)j FQ(:)7 b(:)13 b FV(n)22 b F4(:)c
F0(^)c FV(IsDeriv)t F4(\()p FV(i)t FQ(;)7 b FV(g)t F4([)p
FV(i)t F4(])p FQ(;)g FV(g)t F4([0]\))1287 2231 y F0(^)14
b FV(g)t F4([)p FV(i)f F0(\000)c F4(1][)p FV(a)s F4(])h(=)i
FV(InitV)m(als)s F4([)p FV(i)t F4(])993 2281 y F0(^)j(8)7
b FV(r)15 b F0(2)c FV(Op)n(enInterval)t F4(\()p FV(a)i
F0(\000)d FV(e)s FQ(;)d FV(b)k F4(+)f FV(e)s F4(\))19
b(:)1078 2331 y FV(D)t F4([)7 b F0(h)s FV(r)h F0(i)h(\016)g
F4([)p FV(i)15 b F0(2)c F4(1)j FQ(:)7 b(:)13 b F4(\()p
FV(n)g F4(+)c(1\))j F0(7!)f FV(g)t F4([)p FV(i)h F0(\000)e
F4(1][)p FV(r)t F4(]])d(])15 b(=)k(0)250 2381 y FP(in)54
b F4([)p FV(i)15 b F0(2)c F4(1)j FQ(:)7 b(:)13 b FV(n)i
F0(7!)c FV(gg)t F4([)p FV(i)h F0(\000)e F4(1][)p FV(b)s
F4(]])p 188 2410 V 190 2410 1806 2 v 1996 2410 2 25 v
Black 390 2500 a FU(Figure)15 b(11.2:)j F4(A)c(mo)q(dule)e(for)i(sp)q
(ecifying)g(the)g(solution)f(to)h(a)g(di\013eren)o(tial)f(equation.)p
Black Black Black Black eop
%%Page: 179 197
179 196 bop Black 208 275 a FR(11.1.)30 b(SPECIFYING)14
b(D)o(A)m(T)m(A)f(STR)o(UCTURES)898 b F4(179)p 208 282
1770 2 v Black 208 391 a F3(11.1.4)65 b(BNF)22 b(Grammars)208
482 y F4(BNF,)14 b(whic)o(h)h(stands)g(for)g(Bac)o(kus-Naur)g(F)m(orm,)
e(is)h(a)h(standard)g(w)o(a)o(y)f(of)g(describing)h(the)208
532 y(syn)o(tax)f(of)g(computer)g(languages.)20 b(This)15
b(section)g(dev)o(elops)g(the)g FV(BNF)o(Gr)n(ammars)j
F4(mo)q(d-)208 582 y(ule,)13 b(whic)o(h)h(de\014nes)h(op)q(erators)g
(for)e(writing)g(BNF)i(gramma)o(rs.)h(A)e(BNF)g(grammar)d(isn't)208
632 y(the)k(kind)f(of)g(data)h(structure)i(that)e(arises)g(in)f(system)
h(sp)q(eci\014cation,)g(and)g(TLA)1508 617 y FS(+)1543
632 y F4(is)g(not)208 681 y(particularly)g(w)o(ell)g(suited)h(to)g(sp)q
(ecifying)g(one.)24 b(Its)17 b(syn)o(tax)f(do)q(esn't)g(allo)o(w)e(us)j
(to)f(write)208 731 y(BNF)h(grammars)d(exactly)j(the)h(w)o(a)o(y)e(w)o
(e'd)h(lik)o(e,)f(but)i(w)o(e)f(can)g(come)f(reasonably)h(close.)208
781 y(Moreo)o(v)o(er,)f(I)g(think)g(it's)g(fun)g(to)g(use)h(TLA)908
766 y FS(+)944 781 y F4(to)f(sp)q(ecify)h(its)f(o)o(wn)g(syn)o(tax.)24
b(So,)16 b(mo)q(dule)208 831 y FV(BNF)o(Gr)n(ammars)g
F4(is)d(used)h(in)f(Chapter)h(15)f(to)h(sp)q(ecify)f(part)h(of)f(the)h
(syn)o(tax)f(of)g(TLA)1563 816 y FS(+)1584 831 y F4(,)g(as)208
881 y(w)o(ell)g(as)i(in)f(Chapter)i(14)e(to)g(sp)q(ecify)h(the)h(syn)o
(tax)e(of)g(the)h(TLC)g(mo)q(del)e(c)o(hec)o(k)o(er's)j(con\014g-)208
931 y(uration)d(\014le.)270 980 y(Let's)h(start)h(b)o(y)f(reviewing)g
(BNF)h(grammars.)h(Consider)f(the)f(little)g(language)f(SE)h(of)208
1030 y(simple)e(expressions)j(describ)q(ed)h(b)o(y)e(the)g(BNF)h
(gramma)o(r)p Black Black 332 1108 a FV(expr)28 b F4(::=)22
b FU(iden)o(t)f F0(j)16 b FV(expr)i FU(op)c FV(expr)27
b F0(j)17 b F4(\()7 b FV(expr)k F4(\))23 b F0(j)17 b
FP(let)c FV(def)23 b FP(in)14 b FV(expr)332 1158 y(def)52
b F4(::=)22 b FU(iden)o(t)11 b FO(==)j FV(expr)208 1234
y F4(where)20 b FU(op)e F4(is)h(some)f(class)h(of)f(in\014x)h(op)q
(erators)g(lik)o(e)g(+,)g(and)g FU(iden)o(t)d F4(is)j(some)f(class)h
(of)208 1283 y(iden)o(ti\014ers)14 b(suc)o(h)h(as)f FV(ab)n(c)i
F4(and)e FV(x)5 b F4(.)18 b(The)d(language)d(SE)j(con)o(tains)e
(expressions)j(lik)o(e)p Black Black 332 1361 a FV(ab)n(c)26
b F4(+)16 b(\()p FP(let)e FV(x)j FO(==)11 b FV(y)i F4(+)d
FV(ab)n(c)16 b FP(in)e FV(x)g F0(\003)9 b FV(x)c F4(\))208
1439 y(Let's)14 b(represen)o(t)i(this)e(expression)h(as)f(the)g
(sequence)p Black Black 332 1517 a F0(h)d F4(\\)p FD(ab)q(c)p
F4(")p FQ(;)18 b F4(\\)p FD(+)p F4(")p FQ(;)g F4(\\)p
FD(\()p F4(")p FQ(;)g F4(\\)p FD(LET)p F4(")p FQ(;)g
F4(\\)p FD(x)p F4(")o FQ(;)g F4(\\)p FO(==)p F4(")o FQ(;)457
1574 y F4(\\)p FD(y)p F4(")o FQ(;)g F4(\\)p FD(+)p F4(")p
FQ(;)g F4(\\)p FD(ab)q(c)p F4(")q FQ(;)g F4(\\)p FD(IN)p
F4(")o FQ(;)g F4(\\)p FD(x)p F4(")p FQ(;)g F4(\\)p F0(\003)o
F4(")p FQ(;)g F4(\\)p FD(x)p F4(")o FQ(;)g F4(\\)p FD(\))p
F4(")10 b F0(i)208 1650 y F4(of)16 b(strings.)27 b(The)17
b(strings)g(suc)o(h)g(as)g(\\)p FD(ab)q(c)p F4(")g(and)g(\\)p
FD(+)p F4(")f(app)q(earing)h(in)f(this)h(sequence)h(are)208
1700 y(usually)d(called)h FV(lexemes)p F4(.)26 b(In)16
b(general,)h(a)f(sequence)j(of)d(lexemes)g(is)g(called)g(a)h
FV(sentenc)n(e)s F4(;)208 1750 y(and)d(a)h(set)h(of)e(sen)o(tences)j
(is)e(called)g(a)f FV(language)p F4(.)22 b(So,)14 b(w)o(e)h(w)o(an)o(t)
g(to)f(de\014ne)i(the)g(language)208 1799 y(SE)e(to)f(consist)i(of)e
(the)i(set)g(of)e(all)f(suc)o(h)j(sen)o(tences)i(describ)q(ed)e(b)o(y)f
(the)g(BNF)h(grammar.)1616 1784 y FS(3)270 1849 y F4(T)m(o)k(represen)o
(t)k(a)d(BNF)h(grammar)c(in)j(TLA)998 1834 y FS(+)1019
1849 y F4(,)h(w)o(e)g(m)o(ust)e(assign)h(a)g(mathematical)208
1899 y(meaning)13 b(to)j(non)o(terminal)e(sym)o(b)q(ols)g(lik)o(e)h
FV(def)9 b F4(,)16 b(to)f(terminal)f(sym)o(b)q(ols)g(lik)o(e)h
FU(op)p F4(,)g(and)h(to)208 1949 y(the)g(grammar')o(s)e(t)o(w)o(o)h
(pro)q(ductions.)24 b(The)17 b(metho)q(d)e(that)h(I)f(\014nd)h
(simplest)f(is)h(to)f(let)h(the)208 1999 y(meaning)c(of)i(a)h(non)o
(terminal)d(sym)o(b)q(ol)h(b)q(e)j(the)f(language)f(that)g(it)h
(generates.)22 b(Th)o(us,)14 b(the)208 2048 y(meaning)9
b(of)h FV(expr)16 b F4(is)11 b(the)h(language)e(SE)h(itself.)17
b(I)11 b(de\014ne)h(a)f FV(gr)n(ammar)k F4(to)c(b)q(e)h(a)e(function)h
FV(G)208 2098 y F4(suc)o(h)h(that,)f(for)g(an)o(y)g(string)h(\\)p
FD(str)p F4(")o(,)g(the)g(v)n(alue)f(of)g FV(G)t F4([\\)p
FD(str)p F4(")n(])g(is)h(the)g(language)e(generated)j(b)o(y)208
2148 y(the)d(non)o(terminal)e FV(str)t F4(.)16 b(Th)o(us,)10
b(if)f FV(G)14 b F4(is)9 b(the)h(BNF)h(grammar)6 b(ab)q(o)o(v)o(e,)k
(then)h FV(G)t F4([\\)p FD(exp)o(r)p F4(")o(])f(is)f(the)208
2198 y(complete)14 b(language)g(SE,)g(and)h FV(G)t F4([\\)p
FD(def)p F4(")o(])g(is)f(the)i(language)e(de\014ned)i(b)o(y)e(the)i
(pro)q(duction)208 2248 y(for)d FV(def)c F4(,)k(whic)o(h)h(con)o(tains)
g(sen)o(tences)i(lik)o(e)p Black Black 332 2325 a F0(h)11
b F4(\\)p FD(y)p F4(")o FQ(;)18 b F4(\\)p FO(==)p F4(")o
FQ(;)g F4(\\)p FD(qq)p F4(")q FQ(;)g F4(\\)p F0(\003)o
F4(")p FQ(;)g F4(\\)p FD(wxyz)p F4(")11 b F0(i)p Black
208 2360 576 2 v 254 2387 a FK(3)271 2398 y FZ(BNF)j(grammars)d(are)h
(also)h(used)f(to)h(sp)q(ecify)f(ho)o(w)h(an)g(expression)e(is)i
(parsed|for)e(example,)g(that)208 2438 y FY(a)d FZ(+)d
FY(b)j FW(\003)d FY(c)13 b FZ(is)d(parsed)f(as)h FY(a)e
FZ(+)d(\()p FY(b)j FW(\003)d FY(c)r FZ(\))10 b(rather)f(than)g(\()p
FY(a)f FZ(+)d FY(b)r FZ(\))g FW(\003)g FY(c)r FZ(.)16
b(By)11 b(considering)c(the)i(grammar)f(to)i(sp)q(ecify)208
2477 y(only)f(a)h(set)g(of)g(sen)o(tences,)e(w)o(e)j(are)e(delib)q
(erately)e(not)j(capturing)e(that)h(use)h(in)g(our)f(TLA)1396
2466 y FK(+)1427 2477 y FZ(represen)o(tatio)o(n)208 2517
y(of)i(BNF)h(grammars.)p Black Black Black eop
%%Page: 180 198
180 197 bop Black 208 275 a F4(180)910 b FR(CHAPTER)14
b(11.)31 b(AD)o(V)-5 b(ANCED)14 b(EXAMPLES)p 208 282
1770 2 v Black 208 391 a F4(Instead)k(of)f(letting)g(the)h(domain)e(of)
h FV(G)k F4(consist)d(of)f(just)h(the)h(t)o(w)o(o)e(strings)h(\\)p
FD(exp)o(r)p F4(")g(and)208 441 y(\\)p FD(def)p F4(",)g(it)g(turns)h
(out)g(to)f(b)q(e)h(more)e(con)o(v)o(enien)o(t)i(to)f(let)g(its)g
(domain)e(b)q(e)j(the)g(en)o(tire)g(set)208 491 y FP(string)11
b F4(of)i(strings,)g(and)f(to)h(let)g FV(G)t F4([)p FV(s)s
F4(])e(b)q(e)j(the)f(empt)o(y)f(language)g(\(the)h(empt)o(y)f(set\))i
(for)e(all)208 541 y(strings)h FV(s)k F4(other)d(than)f(\\)p
FD(exp)o(r)p F4(")h(and)f(\\)p FD(def)p F4(".)18 b(So,)12
b(a)h(grammar)e(is)i(a)g(function)g(from)e(the)j(set)208
591 y(of)g(all)f(strings)i(to)g(the)g(set)h(of)e(sequences)j(of)d
(strings.)21 b(W)m(e)15 b(can)g(therefore)h(de\014ne)g(the)f(set)208
640 y FV(Gr)n(ammar)i F4(of)c(all)g(grammars)e(b)o(y)p
Black Black 332 728 a FV(Gr)n(ammar)551 704 y FI(\001)546
728 y F4(=)35 b([)p FP(string)11 b F0(!)g FP(subset)e
FV(Se)n(q)t F4(\()p FP(string)o F4(\)])270 811 y(In)18
b(describing)h(the)h(mathematical)15 b(meaning)i(of)h(records,)j
(Section)e(5.2)e(explained)208 860 y(that)h FV(r)t FQ(:)p
FV(ack)23 b F4(is)c(an)f(abbreviation)g(for)g FV(r)t
F4([\\)p FD(ack)p F4("].)32 b(This)18 b(is)h(the)g(case)g(ev)o(en)h(if)
d FV(r)23 b F4(isn't)18 b(a)208 910 y(record.)25 b(So,)15
b(w)o(e)h(can)h(write)f FV(G)t FQ(:)p FV(op)i F4(instead)e(of)f
FV(G)t F4([\\)p FD(op)p F4(")o(].)24 b(\(A)16 b(grammar)d(isn't)i(a)h
(record)208 960 y(b)q(ecause)f(its)f(domain)e(is)h(the)i(set)g(of)e
(all)g(strings)h(rather)h(than)f(a)f(\014nite)h(set)h(of)e(strings.\))
270 1010 y(A)k(terminal)e(lik)o(e)i FU(iden)o(t)d F4(can)k(app)q(ear)f
(an)o(ywhere)h(to)f(the)h(righ)o(t)f(of)f(a)h(\\::=")f(that)h(a)208
1060 y(non)o(terminal)11 b(lik)o(e)h FV(expr)18 b F4(can,)13
b(so)g(a)g(terminal)f(should)h(also)f(b)q(e)i(a)f(set)h(of)f(sen)o
(tences.)20 b(Let's)208 1110 y(represen)o(t)14 b(a)f(terminal)e(as)h(a)
g(set)i(of)e(sen)o(tences,)j(eac)o(h)e(of)f(whic)o(h)g(is)h(a)f
(sequence)j(consisting)208 1159 y(of)e(a)g(single)h(lexeme.)j(Let)d(a)g
FV(token)j F4(b)q(e)e(a)e(sen)o(tence)k(consisting)c(of)h(a)f(single)h
(lexeme,)e(so)i(a)208 1209 y(terminal)e(is)i(a)g(set)h(of)e(tok)o(ens.)
19 b(F)m(or)14 b(example,)f(the)h(terminal)f FU(iden)o(t)e
F4(is)j(a)g(set)h(con)o(taining)208 1259 y(tok)o(ens)d(suc)o(h)h(as)g
F0(h)s F4(\\)p FD(ab)q(c)p F4(")t F0(i)p F4(,)g F0(h)s
F4(\\)p FD(x)p F4(")s F0(i)p F4(,)g(and)f F0(h)s F4(\\)p
FD(qq)p F4(")t F0(i)p F4(.)18 b(An)o(y)12 b(terminal)e(app)q(earing)j
(in)e(the)i(BNF)208 1309 y(gramma)o(r)f(m)o(ust)h(b)q(e)i(represen)o
(ted)j(b)o(y)c(a)g(set)h(of)f(tok)o(ens,)g(so)h(the)g
FO(==)f F4(in)g(the)h(grammar)c(for)208 1359 y(SE)j(is)f(the)i(set)g
F0(fh)s F4(\\)p FO(==)p F4(")s F0(ig)p F4(.)j(Let's)c(de\014ne)h(the)f
(op)q(erator)h FV(tok)j F4(b)o(y)p .95 TeXcolorgray .95
TeXcolorgray 1679 1406 307 80 v .95 TeXcolorgray Black
Black 463 w FY(tok)e FZ(is)c(short)e(for)1687 1398 y
FY(token)p FZ(.)p Black .95 TeXcolorgray Black Black
Black 332 1448 a FV(tok)t F4(\()p FV(s)s F4(\))483 1425
y FI(\001)478 1448 y F4(=)35 b F0(fh)s FV(s)7 b F0(ig)208
1531 y F4(so)14 b(w)o(e)g(can)g(write)g(this)g(set)h(of)e(tok)o(ens)h
(as)g FV(tok)t F4(\(\\)p FO(==)p F4("\).)270 1581 y(A)d(pro)q(duction)g
(expresses)i(a)e(relation)f(b)q(et)o(w)o(een)i(the)g(v)n(alues)e(of)h
FV(G)t FQ(:)p FV(str)i F4(for)e(some)f(gram-)208 1631
y(mar)i FV(G)18 b F4(and)13 b(some)g(strings)i(\\)p FD(str)p
F4(")o(.)j(F)m(or)c(example,)e(the)i(pro)q(duction)p
Black Black 332 1714 a FV(def)44 b F4(::=)33 b FU(iden)o(t)12
b FO(==)h FV(expr)208 1797 y F4(asserts)j(that)g(a)e(sen)o(tence)k
FV(s)g F4(is)d(in)g FV(G)t FQ(:)p FV(def)23 b F4(i\013)15
b(it)g(has)g(the)h(form)e FV(i)g F0(\016)9 b(h)s F4(\\)p
FO(==)p F4(")t F0(i)h(\016)g FV(e)18 b F4(for)d(some)208
1847 y(tok)o(en)i FV(i)k F4(in)c FU(iden)o(t)e F4(and)i(some)f(sen)o
(tence)k FV(e)h F4(in)16 b FV(G)t FQ(:)p FV(expr)t F4(.)29
b(In)17 b(mathematics,)e(a)i(form)o(ula)208 1896 y(ab)q(out)10
b FV(G)15 b F4(m)o(ust)10 b(men)o(tion)g FV(G)k F4(\(p)q(erhaps)f
(indirectly)e(b)o(y)g(using)f(a)h(sym)o(b)q(ol)e(de\014ned)j(in)f
(terms)208 1946 y(of)i FV(G)t F4(\).)18 b(So,)13 b(w)o(e)h(can)g(try)g
(writing)f(this)h(pro)q(duction)g(in)g(TLA)1182 1931
y FS(+)1216 1946 y F4(as)p Black Black 332 2029 a FV(G)t
FQ(:)p FV(def)43 b F4(::=)34 b FV(ident)25 b(tok)t F4(\(\\)p
FO(==)p F4(")o(\))c FV(G)t FQ(:)p FV(expr)208 2112 y
F4(In)11 b(the)i(expression)f(to)g(the)g(righ)o(t)g(of)f(the)h(::=,)f
(adjacency)h(is)g(expressing)h(some)d(op)q(eration.)208
2162 y(Just)16 b(as)f(w)o(e)h(ha)o(v)o(e)f(to)h(mak)o(e)d(m)o
(ultiplication)f(explicit)j(b)o(y)h(writing)e(2)c F0(\003)g
FV(x)21 b F4(instead)16 b(of)e(2)p FV(x)5 b F4(,)208
2212 y(w)o(e)14 b(m)o(ust)g(express)i(this)f(op)q(eration)g(b)o(y)f(an)
g(explicit)g(op)q(erator.)21 b(Let's)15 b(use)h(&,)e(so)h(w)o(e)g(can)
208 2262 y(write)f(the)g(pro)q(duction)g(as)p Black Black
332 2345 a FV(G)t FQ(:)p FV(def)43 b F4(::=)34 b FV(ident)22
b F4(&)15 b FV(tok)t F4(\(\\)p FO(==)p F4("\))j(&)d FV(G)t
FQ(:)p FV(expr)p Black -883 w F4(\(11.1\))p Black 208
2428 a(This)g(expresses)j(the)f(desired)f(relation)f(b)q(et)o(w)o(een)i
(the)g(sets)g FV(G)t FQ(:)p FV(def)23 b F4(and)16 b FV(G)t
FQ(:)p FV(expr)j F4(of)c(sen-)208 2478 y(tences)j(if)d(::=)g(is)h
(de\014ned)i(to)e(b)q(e)h(equalit)o(y)e(and)27 b(&)d(is)16
b(de\014ned)h(so)g(that)f FV(L)i F4(&)d FV(M)23 b F4(is)16
b(the)p Black Black eop
%%Page: 181 199
181 198 bop Black 208 275 a FR(11.1.)30 b(SPECIFYING)14
b(D)o(A)m(T)m(A)f(STR)o(UCTURES)898 b F4(181)p 208 282
1770 2 v Black 208 391 a(set)16 b(of)g(all)e(sen)o(tences)19
b(obtained)c(b)o(y)h(concatenating)g(a)f(sen)o(tence)j(in)e
FV(L)g F4(with)f(a)h(sen)o(tence)208 441 y(in)d FV(M)7
b F4(:)p Black Black 332 518 a FV(L)19 b F4(&)14 b FV(M)507
495 y FI(\001)502 518 y F4(=)35 b F0(f)p FV(s)12 b F0(\016)d
FV(t)22 b F4(:)c FV(s)d F0(2)c FV(L)p FQ(;)j FV(t)h F0(2)c
FV(M)c F0(g)208 596 y F4(The)14 b(pro)q(duction)p Black
Black 332 673 a FV(expr)39 b F4(::=)34 b FU(iden)o(t)21
b F0(j)16 b FV(expr)i FU(op)c FV(expr)27 b F0(j)17 b
F4(\()7 b FV(expr)k F4(\))23 b F0(j)17 b FP(let)d FV(def)22
b FP(in)14 b FV(expr)208 750 y F4(can)g(similarly)d(b)q(e)j(expressed)i
(as)p .95 TeXcolorgray .95 TeXcolorgray 1679 925 307
206 v .95 TeXcolorgray Black Black 954 w FZ(The)c(precedence)1687
790 y(rules)f(of)g(TLA)1885 778 y FK(+)1917 790 y FZ(im-)1687
829 y(ply)g(that)g FY(a)j FW(j)d FY(b)18 b FZ(&)12 b
FY(c)1687 868 y FZ(is)g(in)o(terpreted)c(as)1687 908
y FY(a)13 b FW(j)d FZ(\()p FY(b)18 b FZ(&)12 b FY(c)r
FZ(\).)p Black .95 TeXcolorgray Black Black Black 332
827 a FV(G)t FQ(:)p FV(expr)38 b F4(::=)109 b FV(ident)608
877 y F0(j)40 b FV(G)t FQ(:)p FV(expr)22 b F4(&)15 b
FV(op)21 b F4(&)15 b FV(G)t FQ(:)p FV(expr)608 927 y
F0(j)40 b FV(tok)t F4(\(\\)p FD(\()p F4("\))19 b(&)14
b FV(G)t FQ(:)p FV(exp)21 b F4(&)15 b FV(tok)t F4(\(\\)p
FD(\))p F4("\))608 977 y F0(j)40 b FV(tok)t F4(\(\\)p
FD(LET)p F4(")q(\))18 b(&)d FV(G)t FQ(:)p FV(def)26 b
F4(&)15 b FV(tok)t F4(\(\\)p FD(IN)p F4("\))k(&)14 b
FV(G)t FQ(:)p FV(expr)p Black 208 827 a F4(\(11.2\))p
Black 208 1055 a(This)d(expresses)k(the)e(desired)g(relation)e(if)34
b F0(j)29 b F4(\(whic)o(h)12 b(means)f FV(or)16 b F4(in)c(the)g(BNF)h
(grammar\))208 1104 y(is)g(de\014ned)i(to)f(b)q(e)h(set)f(union)g(\()p
F0([)p F4(\).)270 1154 y(W)m(e)g(can)g(also)g(de\014ne)h(the)g(follo)o
(wing)c(op)q(erators)k(that)f(are)h(sometimes)d(used)k(in)d(BNF)208
1204 y(gramma)o(rs:)p Black 270 1281 a F0(\017)p Black
20 w FV(Nil)18 b F4(is)13 b(de\014ned)i(so)f(that)g FV(Nil)22
b F4(&)15 b FV(S)k F4(equals)14 b FV(S)19 b F4(for)14
b(an)o(y)f(set)i FV(S)k F4(of)13 b(sen)o(tences:)p Black
Black 436 1350 a FV(Nil)534 1327 y FI(\001)529 1350 y
F4(=)35 b F0(fh)7 b(ig)p Black 270 1431 a(\017)p Black
20 w FV(L)337 1416 y FS(+)379 1431 y F4(equals)14 b FV(L)23
b F0(j)16 b FV(L)j F4(&)14 b FV(L)23 b F0(j)17 b FV(L)h
F4(&)d FV(L)j F4(&)d FV(L)23 b F0(j)g FQ(:)7 b(:)g(:)j
F4(:)p .95 TeXcolorgray .95 TeXcolorgray 1679 1518 307
124 v .95 TeXcolorgray Black Black 598 w FY(L)1709 1419
y FK(+)1747 1431 y FZ(is)h(t)o(yp)q(ed)f Fn(L^+)1687
1470 y FZ(and)h FY(L)1778 1458 y FX(\003)1808 1470 y
FZ(is)h(t)o(yp)q(ed)1687 1509 y Fn(L^*)p FZ(.)p Black
.95 TeXcolorgray Black Black Black 436 1502 a FV(L)462
1485 y FS(+)529 1479 y FI(\001)524 1502 y F4(=)35 b FP(let)23
b FV(LL)p F4([)p FV(n)15 b F0(2)c FV(Nat)t F4(])945 1479
y FI(\001)940 1502 y F4(=)p .95 TeXcolorgray .95 TeXcolorgray
1061 1522 314 57 v .95 TeXcolorgray Black 97 w FY(LL)p
FZ([)p FY(n)s FZ(])f(=)g FY(L)20 b FW(j)g Fw(:)6 b(:)f(:)26
b FW(j)p .95 TeXcolorgray Black .95 TeXcolorgray .95
TeXcolorgray 1355 1522 188 119 v .95 TeXcolorgray Black
1363 1438 a FE(n)r FK(+1)13 b FZ(copies)1370 1467 y FF(z)p
1389 1467 37 5 v 37 w(}|)p 1464 1467 V 37 w({)1370 1502
y FY(L)j FZ(&)d Fw(:)5 b(:)h(:)g FY(L)h FZ(.)p .95 TeXcolorgray
Black 725 1552 a FP(if)23 b FV(n)15 b F4(=)c(0)22 b FP(then)i
FV(L)907 1602 y FP(else)36 b FV(LL)p F4([)p FV(n)12 b
F0(\000)e F4(1])22 b F0(j)16 b FV(LL)p F4([)p FV(n)d
F0(\000)c F4(1])18 b(&)c FV(L)591 1652 y FP(in)54 b(union)17
b F0(f)p FV(LL)p F4([)p FV(n)s F4(])h(:)g FV(n)d F0(2)c
FV(Nat)t F0(g)p Black 270 1732 a(\017)p Black 20 w FV(L)337
1717 y FH(\003)370 1732 y F4(equals)j FV(Nil)27 b F0(j)16
b FV(L)23 b F0(j)17 b FV(L)h F4(&)d FV(L)23 b F0(j)16
b FV(L)j F4(&)14 b FV(L)19 b F4(&)14 b FV(L)23 b F0(j)h
FQ(:)7 b(:)g(:)j F4(:)p Black Black 436 1804 a FV(L)462
1786 y FH(\003)520 1780 y FI(\001)516 1804 y F4(=)34
b FV(Nil)27 b F0(j)16 b FV(L)718 1786 y FS(+)208 1881
y F4(The)e(BNF)h(grammar)c(for)j(SE)h(consists)g(of)f(t)o(w)o(o)f(pro)q
(ductions,)i(expressed)h(b)o(y)e(the)h(TLA)1625 1866
y FS(+)208 1931 y F4(form)o(ulas)10 b(\(11.1\))h(and)i(\(11.2\).)j(The)
d(en)o(tire)g(grammar)d(is)i(the)h(single)f(form)o(ula)e(that)j(is)f
(the)208 1980 y(conjunction)g(of)f(these)j(t)o(w)o(o)d(form)o(ulas.)k
(W)m(e)d(m)o(ust)f(turn)i(this)f(form)o(ula)d(in)o(to)j(a)g(mathemat-)
208 2030 y(ical)f(de\014nition)g(of)h(a)g(gramma)o(r)e
FV(GSE)5 b F4(,)12 b(whic)o(h)g(is)g(a)g(function)f(from)g(strings)h
(to)g(languages.)208 2080 y(The)e(form)o(ula)e(is)i(an)h(assertion)g
(ab)q(out)f(a)g(grammar)d FV(G)t F4(.)17 b(W)m(e)10 b(de\014ne)h
FV(GSE)16 b F4(to)10 b(b)q(e)h(the)g(small-)208 2130
y(est)j(grammar)d FV(G)18 b F4(satisfying)13 b(the)i(conjunction)f(of)f
(\(11.1\))g(and)h(\(11.2\),)f(where)i(grammar)208 2180
y FV(G)244 2186 y FS(1)278 2180 y F4(smaller)g(than)i
FV(G)560 2186 y FS(2)595 2180 y F4(means)f(that)g FV(G)853
2186 y FS(1)872 2180 y F4([)p FV(s)s F4(])f F0(\022)h
FV(G)1015 2186 y FS(2)1034 2180 y F4([)p FV(s)s F4(])g(for)g(ev)o(ery)h
(string)g FV(s)s F4(.)26 b(T)m(o)16 b(express)208 2230
y(this)e(in)g(TLA)425 2214 y FS(+)446 2230 y F4(,)g(w)o(e)g(de\014ne)i
(an)e(op)q(erator)h FV(L)n(e)n(astGr)n(ammar)j F4(so)c(that)h
FV(L)n(e)n(astGr)n(ammar)t F4(\()p FV(P)t F4(\))208 2279
y(is)e(the)i(smallest)d(grammar)f FV(G)18 b F4(satisfying)13
b FV(P)t F4(\()p FV(G)t F4(\):)p Black Black 332 2363
a FV(L)n(e)n(astGr)n(ammar)t F4(\()p FV(P)t F4(\()p 676
2363 21 3 v 35 w(\)\))776 2340 y FI(\001)771 2363 y F4(=)415
2416 y FP(choose)k FV(G)e F0(2)c FV(Gr)n(ammar)22 b F4(:)477
2469 y F0(^)14 b FV(P)t F4(\()p FV(G)t F4(\))477 2522
y F0(^)g(8)7 b FV(H)18 b F0(2)11 b FV(Gr)n(ammar)23 b
F4(:)17 b FV(P)t F4(\()p FV(H)7 b F4(\))19 b F0(\))f
F4(\()p F0(8)7 b FV(s)15 b F0(2)c FP(string)18 b F4(:)g
FV(G)t F4([)p FV(s)s F4(])11 b F0(\022)h FV(H)7 b F4([)p
FV(s)s F4(]\))p Black Black eop
%%Page: 182 200
182 199 bop Black 208 275 a F4(182)910 b FR(CHAPTER)14
b(11.)31 b(AD)o(V)-5 b(ANCED)14 b(EXAMPLES)p 208 282
1770 2 v Black 208 391 a F4(Letting)c FV(P)t F4(\()p
FV(G)t F4(\))g(b)q(e)h(the)g(conjunction)f(of)g(\(11.1\))f(and)h
(\(11.2\),)g(w)o(e)g(can)h(de\014ne)g(the)g(grammar)208
441 y FV(GSE)22 b F4(to)17 b(b)q(e)g FV(L)n(e)n(astGr)n(ammar)t
F4(\()p FV(P)t F4(\).)28 b(W)m(e)17 b(can)g(then)h(de\014ne)g(the)f
(language)f(SE)h(to)g(equal)208 491 y FV(GSE)5 b FQ(:)p
FV(expr)t F4(.)32 b(The)19 b(smallest)e(gramma)o(r)f
FV(G)22 b F4(satisfying)17 b(a)i(form)o(ula)c FV(P)23
b F4(m)o(ust)18 b(ha)o(v)o(e)g FV(G)t F4([)p FV(s)s F4(])208
541 y(equal)d(to)g(the)h(empt)o(y)f(language)g(for)g(an)o(y)g(string)h
FV(s)j F4(that)c(do)q(esn't)h(app)q(ear)g(in)g FV(P)t
F4(.)23 b(Th)o(us,)208 591 y FV(GSE)5 b F4([)p FV(s)s
F4(])17 b(equals)g(the)h(empt)o(y)f(language)f F0(fg)h
F4(for)g(an)o(y)g(string)h FV(s)j F4(other)d(than)f(\\)p
FD(exp)o(r)p F4(")h(and)208 640 y(\\)p FD(def)p F4(".)270
690 y(T)m(o)g(complete)f(our)i(sp)q(eci\014cation)g(of)f
FV(GSE)5 b F4(,)20 b(w)o(e)f(m)o(ust)e(de\014ne)j(the)f(sets)g
FV(ident)k F4(and)208 740 y FV(op)17 b F4(of)d(tok)o(ens.)22
b(W)m(e)14 b(can)h(de\014ne)h(the)f(set)h FV(op)h F4(of)e(op)q(erators)
g(b)o(y)g(en)o(umerating)e(them|for)208 790 y(example:)p
Black Black 332 877 a FV(op)416 854 y FI(\001)412 877
y F4(=)35 b FV(tok)t F4(\(\\)p FD(+)p F4("\))23 b F0(j)17
b FV(tok)t F4(\(\\)p F0(\000)p F4("\))23 b F0(j)17 b
FV(tok)t F4(\(\\)7 b FD(*)g F4("\))23 b F0(j)16 b FV(tok)t
F4(\(\\)p FD(/)p F4("\))208 960 y(T)m(o)e(express)j(this)e(a)g(little)f
(more)g(compactly)m(,)f(let's)i(de\014ne)h FV(T)m(ok)t
F4(\()p FV(S)5 b F4(\))16 b(to)f(b)q(e)h(the)g(set)g(of)e(all)208
1010 y(tok)o(ens)g(formed)f(from)f(elemen)o(ts)h(in)h(the)g(set)h
FV(S)k F4(of)14 b(lexemes:)p Black Black 332 1093 a FV(T)m(ok)t
F4(\()p FV(S)5 b F4(\))503 1069 y FI(\001)499 1093 y
F4(=)34 b F0(fh)s FV(s)7 b F0(i)19 b F4(:)f FV(s)d F0(2)c
FV(S)5 b F0(g)208 1176 y F4(W)m(e)13 b(can)h(then)h(write)p
Black Black 332 1259 a FV(op)416 1235 y FI(\001)412 1259
y F4(=)35 b FV(T)m(ok)t F4(\()7 b F0(f)p F4(\\)p FD(+)p
F4(")p FQ(;)13 b F4(\\)p F0(\000)p F4(")p FQ(;)g F4(\\)7
b FD(*)f F4(")p FQ(;)14 b F4(\\)p FD(/)p F4(")o F0(g)7
b F4(\))270 1342 y(Let's)19 b(de\014ne)h FV(ident)j F4(to)c(b)q(e)g
(the)g(set)h(of)e(tok)o(ens)i(whose)f(lexemes)g(are)g(w)o(ords)g(made)
208 1392 y(en)o(tirely)14 b(of)g(lo)o(w)o(er-case)g(letters,)i(suc)o(h)
f(as)f(\\)p FD(ab)q(c)p F4(",)g(\\)p FD(qq)p F4(")q(,)f(and)i(\\)p
FD(x)p F4(")o(.)k(T)m(o)14 b(learn)g(ho)o(w)g(to)g(do)208
1442 y(that,)k(w)o(e)f(m)o(ust)g(\014rst)h(understand)h(what)e(strings)
h(in)f(TLA)1179 1427 y FS(+)1218 1442 y F4(really)g(are.)29
b(In)18 b(TLA)1575 1427 y FS(+)1595 1442 y F4(,)g(a)208
1491 y(string)d(is)g(a)g(sequence)i(of)e(c)o(haracters.)23
b(\(W)m(e)15 b(don't)g(care,)h(and)f(the)h(seman)o(tics)f(of)f(TLA)1625
1476 y FS(+)p .95 TeXcolorgray .95 TeXcolorgray 1679
1782 307 322 v .95 TeXcolorgray Black Black 1687 1491
a FZ(See)d(Section)1687 1531 y(16.1.10)f(on)h(page)1687
1570 y(307)g(for)g(more)1687 1610 y(ab)q(out)f(strings.)16
b(Re-)1687 1649 y(mem)o(b)q(er)10 b(that)g(w)o(e)1687
1689 y(tak)o(e)h FY(se)n(quenc)n(e)16 b FZ(and)1687 1728
y FY(tuple)f FZ(to)c(b)q(e)h(syn-)1687 1767 y(on)o(ymous.)p
Black .95 TeXcolorgray Black 208 1541 a F4(do)q(esn't)g(sp)q(ecify)m(,)
g(what)g(a)g(c)o(haracter)i(is.\))j(W)m(e)12 b(can)g(therefore)i(apply)
d(the)i(usual)f(sequence)208 1591 y(op)q(erators)19 b(on)g(them.)32
b(F)m(or)19 b(example,)f FV(T)m(ail)t F4(\(\\)p FD(ab)q(c)p
F4("\))h(equals)g(\\)p FD(b)q(c)p F4(")q(,)g(and)g(\\)p
FD(ab)q(c)p F4(")13 b F0(\016)g F4(\\)p FD(de)p F4(")208
1641 y(equals)g(\\)p FD(ab)q(cde)p F4(")r(.)270 1691
y(The)h(op)q(erators)h(lik)o(e)24 b(&)d(that)14 b(w)o(e)g(just)g
(de\014ned)g(for)g(expressing)h(BNF)f(w)o(ere)g(applied)208
1740 y(to)f(sets)h(of)e(sen)o(tences,)k(where)e(a)f(sen)o(tence)i(is)e
(a)g(sequence)j(of)c(lexemes.)18 b(These)c(op)q(erators)208
1790 y(can)20 b(b)q(e)h(applied)e(just)i(as)f(w)o(ell)f(to)h(sets)i(of)
d(sequences)k(of)d(an)o(y)f(kind|including)g(sets)208
1840 y(of)d(strings.)26 b(F)m(or)17 b(example,)e F0(f)p
F4(\\)p FD(one)p F4(")p FQ(;)f F4(\\)p FD(t)o(w)o(o)p
F4(")o F0(g)k F4(&)8 b F0(f)p F4(\\)p FD(s)p F4(")o F0(g)16
b F4(equals)h F0(f)p F4(\\)p FD(ones)p F4(")p FQ(;)c
F4(\\)p FD(t)o(w)o(os)p F4(")o F0(g)p F4(,)k(and)208
1890 y F0(f)p F4(\\)p FD(ab)p F4(")o F0(g)332 1875 y
FS(+)374 1890 y F4(is)d(the)g(set)i(consisting)e(of)f(all)g(the)i
(strings)g(\\)p FD(ab)p F4(",)e(\\)p FD(abab)p F4(")q(,)g(\\)p
FD(ababab)p F4(")q(,)h(etc.)20 b(So,)208 1940 y(w)o(e)12
b(can)g(de\014ne)i FV(ident)i F4(to)c(equal)g FV(T)m(ok)t
F4(\()p FV(L)n(etter)922 1925 y FS(+)949 1940 y F4(\),)h(where)g
FV(L)n(etter)j F4(is)c(the)h(set)g(of)e(all)g(lexemes)208
1990 y(consisting)i(of)h(a)f(single)h(lo)o(w)o(er-case)g(letter:)p
Black Black 332 2077 a FV(L)n(etter)483 2053 y FI(\001)478
2077 y F4(=)35 b F0(f)p F4(\\)p FD(a)p F4(")o FQ(;)14
b F4(\\)p FD(b)p F4(")p FQ(;)f(:)7 b(:)g(:)e(;)i F4(\\)p
FD(z)p F4(")o F0(g)208 2160 y F4(W)m(riting)12 b(this)j(de\014nition)f
(out)g(in)g(full)f(\(without)i(the)g(\\.)6 b(.)g(.)h("\))20
b(is)14 b(tedious.)20 b(W)m(e)14 b(can)g(mak)o(e)208
2210 y(this)19 b(a)h(little)f(easier)h(as)g(follo)o(ws.)34
b(W)m(e)19 b(\014rst)i(de\014ne)f FV(OneOf)9 b F4(\()p
FV(s)s F4(\))20 b(to)g(b)q(e)g(the)g(set)h(of)e(all)208
2259 y(one-c)o(haracter)c(strings)f(made)f(from)f(the)j(c)o(haracters)g
(of)e(the)i(string)f FV(s)s F4(:)p Black Black 332 2347
a FV(OneOf)9 b F4(\()p FV(s)s F4(\))552 2323 y FI(\001)547
2347 y F4(=)35 b F0(fh)s FV(s)s F4([)p FV(i)t F4(])s
F0(i)19 b F4(:)f FV(i)d F0(2)c FP(domain)f FV(s)s F0(g)208
2430 y F4(W)m(e)j(can)h(then)h(de\014ne)p Black Black
332 2513 a FV(L)n(etter)483 2489 y FI(\001)478 2513 y
F4(=)35 b FV(OneOf)9 b F4(\(\\)p FD(ab)q(cdefghijklmnop)q(qrstuvwxyz)p
F4(")s(\))p Black Black eop
%%Page: 183 201
183 200 bop Black 208 275 a FR(11.2.)30 b(OTHER)14 b(MEMOR)m(Y)g
(SPECIFICA)m(TIONS)860 b F4(183)p 208 282 1770 2 v Black
Black 208 392 a FV(GSE)336 368 y FI(\001)331 392 y F4(=)35
b FP(let)23 b FV(op)574 368 y FI(\001)569 392 y F4(=)35
b FV(T)m(ok)t F4(\()7 b F0(f)p F4(\\)p FD(+)p F4(")p
FQ(;)13 b F4(\\)p F0(\000)p F4(")p FQ(;)h F4(\\)p F0(\003)o
F4(")p FQ(;)f F4(\\)p FD(/)p F4(")p F0(g)7 b F4(\))490
448 y FV(ident)623 425 y FI(\001)618 448 y F4(=)35 b
FV(T)m(ok)t F4(\()7 b FV(OneOf)i F4(\(\\)p FD(ab)q(cdefghijklmnop)q
(qrstuvwx)q(yz)p F4(")r(\))1477 433 y FS(+)1512 448 y
F4(\))490 505 y FV(P)t F4(\()p FV(G)t F4(\))629 482 y
FI(\001)625 505 y F4(=)35 b F0(^)13 b FV(G)t FQ(:)p FV(expr)39
b F4(::=)108 b FV(ident)1010 555 y F0(j)39 b FV(G)t FQ(:)p
FV(expr)22 b F4(&)15 b FV(op)21 b F4(&)15 b FV(G)t FQ(:)p
FV(expr)1010 605 y F0(j)39 b FV(tok)t F4(\(\\)p FD(\()p
F4("\))19 b(&)14 b FV(G)t FQ(:)p FV(expr)23 b F4(&)14
b FV(tok)t F4(\(\\)p FD(\))p F4(")q(\))1010 655 y F0(j)39
b FV(tok)t F4(\(\\)p FD(LET)p F4(")q(\))18 b(&)d FV(G)t
FQ(:)p FV(def)26 b F4(&)15 b FV(tok)t F4(\(\\)p FD(IN)p
F4("\))k(&)14 b FV(G)t FQ(:)p FV(expr)692 704 y F0(^)f
FV(G)t FQ(:)p FV(def)43 b F4(::=)34 b FV(ident)22 b F4(&)15
b FV(tok)t F4(\(\\)p FO(==)p F4("\))j(&)d FV(G)t FQ(:)p
FV(expr)398 754 y FP(in)54 b FV(L)n(e)n(astGr)n(ammar)t
F4(\()p FV(P)t F4(\))p Black 439 855 a FU(Figure)14 b(11.3:)k
F4(The)d(de\014nition)e(of)h(the)g(grammar)d FV(GSE)19
b F4(for)14 b(the)g(language)f(SE.)p Black Black 208
971 a(The)18 b(complete)f(de\014nition)h(of)f(the)i(gramma)o(r)d
FV(GSE)23 b F4(app)q(ears)c(in)e(Figure)h(11.3)f(on)h(this)208
1021 y(page.)270 1071 y(All)f(the)i(op)q(erators)g(w)o(e'v)o(e)f
(de\014ned)h(here)g(for)f(sp)q(ecifying)g(gramma)o(rs)e(are)i(group)q
(ed)208 1121 y(in)o(to)13 b(mo)q(dule)f FV(BNF)o(Gr)n(ammars)s
F4(,)h(whic)o(h)h(app)q(ears)h(in)e(Figure)h(11.4)f(on)h(the)g(next)g
(page.)270 1170 y(Using)j(TLA)477 1155 y FS(+)515 1170
y F4(to)g(write)g(ordinary)g(BNF)h(grammars)d(is)i(a)g(bit)g(silly)m(.)
26 b(Ho)o(w)o(ev)o(er,)18 b(or-)208 1220 y(dinary)e(BNF)i(grammars)d
(are)i(not)h(v)o(ery)f(con)o(v)o(enien)o(t)h(for)f(describing)g(the)h
(syn)o(tax)g(of)e(a)208 1270 y(complicated)i(language)g(lik)o(e)h(TLA)
791 1255 y FS(+)812 1270 y F4(.)34 b(In)19 b(fact,)i(they)f(can't)f
(describ)q(e)i(the)f(alignmen)o(t)208 1320 y(rules)e(for)g(its)f
(bulleted)h(lists)g(of)f(conjuncts)i(and)f(disjuncts.)30
b(Using)18 b(TLA)1429 1305 y FS(+)1468 1320 y F4(to)f(sp)q(ecify)208
1370 y(suc)o(h)g(a)g(language)g(is)g(not)g(so)g(silly)m(.)26
b(In)17 b(fact,)h(a)f(TLA)1082 1355 y FS(+)1119 1370
y F4(sp)q(eci\014cation)h(of)f(the)g(complete)208 1420
y(syn)o(tax)e(of)g(TLA)478 1404 y FS(+)514 1420 y F4(w)o(as)g(written)h
(as)g(part)g(of)f(the)h(dev)o(elopmen)o(t)e(of)h(the)h(Syn)o(tactic)g
(Ana-)208 1469 y(lyzer,)c(describ)q(ed)j(in)c(Chapter)j(12.)j(Although)
11 b(v)n(aluable)h(when)g(writing)g(a)g(TLA)1490 1454
y FS(+)1523 1469 y F4(parser,)208 1519 y(this)i(sp)q(eci\014cation)h
(isn't)g(v)o(ery)g(helpful)e(to)i(an)f(ordinary)g(user)i(of)e(TLA)1351
1504 y FS(+)1372 1519 y F4(,)g(so)g(it)h(do)q(es)g(not)208
1569 y(app)q(ear)f(in)f(this)h(b)q(o)q(ok.)208 1727 y
FN(11.2)82 b(Other)26 b(Memory)h(Sp)r(eci\014cations)208
1818 y F4(Section)9 b(5.3)g(sp)q(eci\014es)i(a)f(m)o(ultipro)q(cessor)f
(memory)m(.)k(The)d(sp)q(eci\014cation)h(is)e(unrealistically)208
1868 y(simple)h(for)i(three)h(reasons:)18 b(a)12 b(pro)q(cessor)i(can)e
(ha)o(v)o(e)g(only)g(one)g(outstanding)g(request)h(at)f(a)208
1918 y(time,)e(the)j(basic)g(correctness)i(condition)c(is)i(to)q(o)f
(restrictiv)o(e,)h(and)f(only)g(simple)e(read)j(and)208
1968 y(write)i(op)q(erations)f(are)i(pro)o(vided.)k(\(Real)14
b(memories)f(pro)o(vide)h(man)o(y)f(other)i(op)q(erations,)208
2017 y(suc)o(h)i(as)g(partial-w)o(ord)f(writes)h(and)g(cac)o(he)h
(prefetc)o(hes.\))29 b(W)m(e)17 b(no)o(w)f(sp)q(ecify)i(a)e(memory)208
2067 y(that)c(allo)o(ws)e(m)o(ultiple)g(outstanding)h(requests)j(and)e
(has)g(a)g(realistic,)g(w)o(eak)o(er)g(correctness)208
2117 y(condition.)34 b(T)m(o)19 b(k)o(eep)h(the)h(sp)q(eci\014cation)f
(short,)h(w)o(e)f(still)f(consider)h(only)f(the)h(simple)208
2167 y(op)q(erations)14 b(of)f(reading)h(and)f(writing)g(one)i(w)o(ord)
e(of)h(memory)m(.)208 2304 y F3(11.2.1)65 b(The)22 b(In)n(terface)208
2395 y F4(The)13 b(\014rst)h(thing)f(w)o(e)g(m)o(ust)g(do)g(to)g(sp)q
(ecify)g(a)g(memory)e(is)i(determine)g(the)h(in)o(terface.)k(The)208
2445 y(in)o(terface)11 b(w)o(e)h(c)o(ho)q(ose)g(dep)q(ends)h(on)e(the)h
(purp)q(ose)h(of)e(the)h(sp)q(eci\014cation.)17 b(There)c(are)f(man)o
(y)208 2495 y(di\013eren)o(t)e(reasons)h(wh)o(y)f(w)o(e)g(migh)o(t)e(b)
q(e)i(sp)q(ecifying)g(a)f(m)o(ultipro)q(cessor)h(memory)m(.)k(W)m(e)9
b(could)p Black Black eop
%%Page: 184 202
184 201 bop Black 208 275 a F4(184)910 b FR(CHAPTER)14
b(11.)31 b(AD)o(V)-5 b(ANCED)14 b(EXAMPLES)p 208 282
1770 2 v Black Black Black Black 188 598 2 25 v 190 575
499 2 v 702 582 a FP(module)h FV(BNF)o(Gr)n(ammars)p
1165 575 V 1664 598 2 25 v .95 TeXcolorgray .95 TeXcolorgray
200 734 1460 130 v .95 TeXcolorgray Black 208 640 a FZ(A)d(sen)o(tence)
d(is)j(a)f(sequence)e(of)i(strings.)16 b(\(In)11 b(standard)e
(terminology)m(,)f(the)j(term)f(\\lexeme")f(is)j(used)208
680 y(instead)d(of)i(\\string".\))k(A)e(tok)o(en)d(is)h(a)g(sen)o
(tence)f(of)h(length)f(one|that)f(is,)j(a)f(one-elemen)o(t)d(sequence)
208 719 y(whose)j(single)f(elemen)o(t)f(is)j(a)f(string.)16
b(A)c(language)d(is)j(a)f(set)g(of)g(sen)o(tences.)p
.95 TeXcolorgray Black 208 796 a FP(local)16 b(inst)m(ance)g
FV(Natur)n(als)208 845 y FP(local)g(inst)m(ance)g FV(Se)n(quenc)n(es)p
188 877 2 25 v 190 866 1475 2 v 1665 877 2 25 v .95 TeXcolorgray
.95 TeXcolorgray 505 940 844 57 v .95 TeXcolorgray Black
513 920 a FZ(OPERA)m(TORS)d(F)o(OR)g(DEFINING)e(SETS)h(OF)g(TOKENS)p
.95 TeXcolorgray Black 208 995 a FV(OneOf)c F4(\()p FV(s)s
F4(\))427 972 y FI(\001)422 995 y F4(=)35 b F0(fh)s FV(s)s
F4([)p FV(i)t F4(])s F0(i)19 b F4(:)f FV(i)e F0(2)11
b FP(domain)f FV(s)s F0(g)p .95 TeXcolorgray .95 TeXcolorgray
242 1109 1415 92 v .95 TeXcolorgray Black 250 1053 a
FZ(If)h FY(s)j FZ(is)e(a)f(string,)f(then)g FY(OneOf)f
FZ(\()p FY(s)s FZ(\))h(is)i(the)e(set)h(of)h(strings)e(formed)f(from)i
(the)f(individual)f(c)o(haracters)250 1092 y(of)i FY(s)s
FZ(.)17 b(F)m(or)11 b(example,)e FY(OneOf)f FZ(\(\\)p
Fv(ab)q(c)p FZ(")o(\))i(=)g FW(f)p FZ(\\)p Fv(a)p FZ(")o
Fw(;)5 b FZ(\\)p Fv(b)p FZ(")p Fw(;)h FZ(\\)p Fv(c)p
FZ(")o FW(g)p FZ(.)p .95 TeXcolorgray Black 208 1169
a FV(tok)t F4(\()p FV(s)s F4(\))367 1145 y FI(\001)363
1169 y F4(=)23 b F0(fh)s FV(s)7 b F0(ig)208 1233 y FV(T)m(ok)t
F4(\()p FV(S)e F4(\))367 1210 y FI(\001)363 1233 y F4(=)23
b F0(fh)s FV(s)7 b F0(i)19 b F4(:)f FV(s)d F0(2)c FV(S)5
b F0(g)p .95 TeXcolorgray .95 TeXcolorgray 701 1256 955
124 v .95 TeXcolorgray Black 709 1169 a FZ(If)11 b FY(s)j
FZ(is)e(a)f(string,)f(then)h FY(tok)t FZ(\()p FY(s)s
FZ(\))f(is)i(the)e(set)i(con)o(taining)c(only)i(the)709
1208 y(tok)o(en)g(made)g(from)h FY(s)s FZ(.)16 b(If)c
FY(S)j FZ(is)d(a)f(set)g(of)g(strings,)f(then)h FY(T)m(ok)t
FZ(\()p FY(S)t FZ(\))g(is)709 1247 y(the)g(set)g(of)g(tok)o(ens)f(made)
g(from)h(elemen)o(ts)e(of)i FY(S)t FZ(.)p .95 TeXcolorgray
Black 188 1290 2 25 v 190 1279 1475 2 v 1665 1290 2 25
v .95 TeXcolorgray .95 TeXcolorgray 549 1353 757 57 v
.95 TeXcolorgray Black 557 1333 a(OPERA)m(TORS)i(F)o(OR)f(DEFINING)g
(LANGUA)o(GES)p .95 TeXcolorgray Black 208 1408 a FV(Nil)305
1385 y FI(\001)301 1408 y F4(=)35 b F0(fh)7 b(ig)p .95
TeXcolorgray .95 TeXcolorgray 482 1428 828 57 v .95 TeXcolorgray
Black 42 w FZ(The)k(language)e(con)o(taining)g(only)h(the)h(\\empt)o
(y")e(sen)o(tence.)p .95 TeXcolorgray Black 208 1477
a FV(L)18 b F4(&)d FV(M)370 1454 y FI(\001)366 1477 y
F4(=)23 b F0(f)p FV(s)12 b F0(\016)d FV(t)22 b F4(:)c
FV(s)d F0(2)d FV(L)p FQ(;)h FV(t)i F0(2)c FV(M)c F0(g)p
.95 TeXcolorgray .95 TeXcolorgray 857 1497 699 57 v .95
TeXcolorgray Black 43 w FZ(All)k(concatenation)o(s)e(of)i(sen)o(tences)
e(in)i FY(L)i FZ(and)d FY(M)5 b FZ(.)p .95 TeXcolorgray
Black 208 1534 a FV(L)23 b F0(j)16 b FV(M)370 1510 y
FI(\001)366 1534 y F4(=)23 b FV(L)9 b F0([)g FV(M)208
1591 y(L)234 1576 y FS(+)300 1567 y FI(\001)296 1591
y F4(=)p .95 TeXcolorgray .95 TeXcolorgray 376 1611 495
57 v .95 TeXcolorgray Black 56 w FY(L)20 b FW(j)14 b
FY(L)i FZ(&)d FY(L)19 b FW(j)c FY(L)h FZ(&)c FY(L)k FZ(&)d
FY(L)20 b FW(j)g Fw(:)5 b(:)h(:)p .95 TeXcolorgray Black
250 1655 a FP(let)23 b FV(LL)p F4([)p FV(n)15 b F0(2)c
FV(Nat)t F4(])604 1632 y FI(\001)599 1655 y F4(=)35 b
FP(if)23 b FV(n)15 b F4(=)d(0)22 b FP(then)i FV(L)849
1705 y FP(else)36 b FV(LL)p F4([)p FV(n)12 b F0(\000)e
F4(1])22 b F0(j)16 b FV(LL)p F4([)p FV(n)d F0(\000)c
F4(1])18 b(&)c FV(L)250 1755 y FP(in)54 b(union)17 b
F0(f)p FV(LL)p F4([)p FV(n)s F4(])h(:)g FV(n)d F0(2)c
FV(Nat)t F0(g)208 1812 y FV(L)234 1797 y FH(\003)292
1788 y FI(\001)287 1812 y F4(=)35 b FV(Nil)27 b F0(j)16
b FV(L)490 1797 y FS(+)p 188 1844 2 25 v 190 1833 1475
2 v 1665 1843 2 25 v 208 1881 a FV(L)11 b F4(::=)g FV(M)395
1857 y FI(\001)391 1881 y F4(=)34 b FV(L)12 b F4(=)g
FV(M)208 1938 y(Gr)n(ammar)427 1914 y FI(\001)422 1938
y F4(=)35 b([)p FP(string)10 b F0(!)h FP(subset)e FV(Se)n(q)t
F4(\()p FP(string)p F4(\)])208 1994 y FV(L)n(e)n(astGr)n(ammar)t
F4(\()p FV(P)t F4(\()p 552 1994 22 3 v 35 w(\)\))652
1971 y FI(\001)647 1994 y F4(=)p .95 TeXcolorgray .95
TeXcolorgray 727 2015 779 57 v .95 TeXcolorgray Black
56 w FZ(The)i(smallest)f(grammar)f FY(G)14 b FZ(suc)o(h)d(that)f
FY(P)s FZ(\()p FY(G)s FZ(\))h(is)h(true.)p .95 TeXcolorgray
Black 250 2044 a FP(choose)17 b FV(G)e F0(2)c FV(Gr)n(ammar)22
b F4(:)292 2094 y F0(^)15 b FV(P)t F4(\()p FV(G)t F4(\))292
2144 y F0(^)g(8)7 b FV(H)18 b F0(2)11 b FV(Gr)n(ammar)23
b F4(:)18 b FV(P)t F4(\()p FV(H)7 b F4(\))k F0(\))g(8)c
FV(s)15 b F0(2)d FP(string)17 b F4(:)h FV(G)t F4([)p
FV(s)s F4(])11 b F0(\022)h FV(H)7 b F4([)p FV(s)s F4(])p
188 2165 2 25 v 190 2165 1475 2 v 1665 2165 2 25 v Black
532 2305 a FU(Figure)14 b(11.4:)19 b F4(The)14 b(mo)q(dule)f
FV(BNF)o(Gr)n(ammars)p F4(.)p Black Black Black Black
eop
%%Page: 185 203
185 202 bop Black 208 275 a FR(11.2.)30 b(OTHER)14 b(MEMOR)m(Y)g
(SPECIFICA)m(TIONS)860 b F4(185)p 208 282 1770 2 v Black
208 391 a(b)q(e)15 b(sp)q(ecifying)g(a)f(computer)h(arc)o(hitecture,)h
(or)f(the)g(seman)o(tics)g(of)f(a)h(programmi)o(ng)d(lan-)208
441 y(guage.)17 b(Let's)d(supp)q(ose)h(w)o(e)f(are)g(sp)q(ecifying)g
(the)g(memory)d(of)j(an)f(actual)g(m)o(ultipro)q(cessor)208
491 y(computer.)270 541 y(A)c(mo)q(dern)g(pro)q(cessor)j(p)q(erforms)d
(m)o(ultiple)e(instructions)j(concurren)o(tly)m(.)18
b(It)9 b(can)h(b)q(egin)208 591 y(new)g(memory)e(op)q(erations)j(b)q
(efore)g(previous)g(ones)g(ha)o(v)o(e)g(b)q(een)g(completed.)16
b(The)11 b(memory)208 640 y(resp)q(onds)j(to)e(a)g(request)i(as)f(so)q
(on)f(as)h(it)f(can;)h(it)f(need)h(not)g(resp)q(ond)g(to)f(di\013eren)o
(t)i(requests)208 690 y(in)f(the)h(order)h(that)f(they)g(w)o(ere)h
(issued.)270 740 y(A)10 b(pro)q(cessor)i(issues)f(a)e(request)j(to)e(a)
f(memory)f(system)h(b)o(y)h(setting)g(some)f(register.)18
b(W)m(e)208 790 y(assume)11 b(that)g(eac)o(h)h(pro)q(cessor)i(has)e(a)f
(set)h(of)f(registers)j(through)d(whic)o(h)h(it)f(comm)o(unicates)208
840 y(with)18 b(the)h(memory)m(.)30 b(Eac)o(h)19 b(register)h(has)f
(three)h(\014elds:)28 b(an)18 b FV(adr)23 b F4(\014eld)c(that)g(holds)f
(an)208 889 y(address,)c(a)f FV(val)18 b F4(\014eld)c(that)g(holds)f(a)
h(w)o(ord)f(of)g(memory)m(,)d(and)k(an)f FV(op)k F4(\014eld)d(that)g
(indicates)208 939 y(what)c(kind)f(of)h(op)q(eration,)g(if)f(an)o(y)m
(,)h(is)g(in)f(progress.)18 b(The)11 b(pro)q(cessor)h(can)e(issue)h(a)f
(command)208 989 y(using)h(a)f(register)j(whose)f FV(op)i
F4(\014eld)d(equals)h(\\)p FD(F)o(ree)p F4(".)17 b(It)11
b(sets)i(the)e FV(op)k F4(\014eld)c(to)g(\\)p FD(Rd)p
F4(")g(or)g(\\)p FD(W)o(r)p F4(")208 1039 y(to)f(indicate)g(the)h(op)q
(eration;)g(it)f(sets)i(the)f FV(adr)k F4(\014eld)c(to)f(the)h(address)
h(of)d(the)j(memory)7 b(w)o(ord;)208 1089 y(and,)12 b(for)i(a)f(write,)
g(it)g(sets)i(the)f FV(val)j F4(\014eld)d(to)f(the)h(v)n(alue)f(b)q
(eing)g(written.)19 b(\(On)14 b(a)f(read,)g(the)208 1139
y(pro)q(cessor)k(can)e(set)h(the)g FV(val)j F4(\014eld)c(to)g(an)o(y)g
(v)n(alue.\))21 b(The)15 b(memory)e(resp)q(onds)k(b)o(y)d(setting)208
1188 y(the)e FV(op)i F4(\014eld)e(bac)o(k)f(to)h(\\)p
FD(F)o(ree)p F4(")f(and,)h(for)f(a)g(read,)h(setting)g(the)g
FV(val)k F4(\014eld)11 b(to)h(the)g(v)n(alue)f(read.)208
1238 y(\(The)j(memory)d(do)q(es)k(not)f(c)o(hange)g(the)h
FV(val)j F4(\014eld)c(when)g(resp)q(onding)g(to)g(a)g(write.\))270
1288 y(Mo)q(dule)20 b FV(R)n(e)n(gisterInterfac)n(e)j
F4(in)d(Figure)g(11.5)g(on)g(the)h(next)g(page)f(con)o(tains)h(some)208
1338 y(declarations)10 b(and)h(de\014nitions)f(for)h(sp)q(ecifying)f
(the)i(in)o(terface.)17 b(It)11 b(declares)h(the)f(constan)o(ts)208
1388 y FV(A)n(dr)t F4(,)f FV(V)m(al)t F4(,)f(and)h FV(Pr)n(o)n(c)r
F4(,)g(whic)o(h)g(are)g(the)h(same)e(as)g(in)h(the)g(memory)e(in)o
(terface)i(of)f(Section)h(5.1,)208 1437 y(and)17 b(the)g(constan)o(t)h
FV(R)n(e)n(g)t F4(,)g(whic)o(h)f(is)g(the)h(set)g(of)e(registers.)30
b(\(More)18 b(precisely)m(,)g FV(R)n(e)n(g)j F4(is)c(a)208
1487 y(set)e(of)e(register)j(iden)o(ti\014ers.\))j(A)c(pro)q(cessor)h
(has)e(a)g(separate)h(register)h(corresp)q(onding)f(to)208
1537 y(eac)o(h)h(elemen)o(t)g(of)g FV(R)n(e)n(g)t F4(.)25
b(The)16 b(v)n(ariable)g FV(r)n(e)n(gFile)i F4(represen)o(ts)h(the)e
(pro)q(cessors')h(registers,)208 1587 y FV(r)n(e)n(gFile)s
F4([)p FV(p)s F4(][)p FV(r)t F4(])10 b(b)q(eing)j(register)i
FV(r)i F4(of)12 b(pro)q(cessor)k FV(p)s F4(.)h(The)d(mo)q(dule)e(also)g
(de\014nes)j(the)f(sets)g(of)208 1637 y(requests)h(and)f(register)h(v)n
(alues,)e(as)h(w)o(ell)f(as)h(a)g(t)o(yp)q(e)g(in)o(v)n(arian)o(t)f
(for)g FV(r)n(e)n(gFile)s F4(.)208 1773 y F3(11.2.2)65
b(The)22 b(Correctness)f(Condition)208 1864 y F4(Section)11
b(5.3)f(sp)q(eci\014es)j(what)e(is)g(called)g(a)g(linearizable)f
(memory)m(.)k(In)d(a)g(linearizable)f(mem-)208 1913 y(ory)m(,)j(a)h
(pro)q(cessor)i(nev)o(er)f(has)g(more)e(than)i(one)f(outstanding)g
(request.)21 b(The)15 b(correctness)208 1963 y(condition)e(for)g(the)i
(memory)c(can)j(b)q(e)h(stated)g(as)p Black Black 311
2041 a(The)e(result)g(of)e(an)o(y)h(execution)h(is)f(the)h(same)e(as)h
(if)g(the)h(op)q(erations)f(of)g(all)e(the)311 2091 y(pro)q(cessors)18
b(w)o(ere)d(executed)i(in)e(some)f(sequen)o(tial)h(order,)h(and)e(eac)o
(h)i(op)q(era-)311 2140 y(tion)e(is)f(executed)j(b)q(et)o(w)o(een)f
(the)g(request)g(and)f(the)h(resp)q(onse.)208 2218 y(The)h(second)i
(clause,)e(whic)o(h)h(requires)g(the)g(system)f(to)g(act)g(as)h(if)e
(eac)o(h)i(op)q(eration)f(w)o(ere)208 2268 y(executed)g(b)q(et)o(w)o
(een)f(its)f(request)i(and)e(its)g(resp)q(onse,)i(is)e(b)q(oth)g(to)q
(o)g(w)o(eak)g(and)g(to)q(o)g(strong)208 2317 y(for)f(our)h(sp)q
(eci\014cation.)19 b(It's)14 b(to)q(o)g(w)o(eak)g(b)q(ecause)i(it)d(sa)
o(ys)h(nothing)g(ab)q(out)g(the)g(execution)208 2367
y(order)i(of)g(t)o(w)o(o)f(op)q(erations)h(from)f(the)h(same)f(pro)q
(cessor)j(unless)f(one)f(is)g(issued)h(after)f(the)208
2417 y(other's)e(resp)q(onse.)22 b(F)m(or)13 b(example,)g(supp)q(ose)j
(a)e(pro)q(cessor)i FV(p)h F4(issues)e(a)f(write)h(and)f(then)h(a)208
2467 y(read)h(to)g(the)h(same)e(address.)25 b(W)m(e)16
b(w)o(an)o(t)g(the)g(read)h(to)f(obtain)f(either)i(the)f(v)n(alue)g
FV(p)j F4(just)208 2517 y(wrote,)13 b(or)g(a)g(v)n(alue)g(written)h(b)o
(y)f(another)h(pro)q(cessor|ev)o(en)h(if)e FV(p)j F4(issues)e(the)g
(read)g(b)q(efore)p Black Black eop
%%Page: 186 204
186 203 bop Black 208 275 a F4(186)910 b FR(CHAPTER)14
b(11.)31 b(AD)o(V)-5 b(ANCED)14 b(EXAMPLES)p 208 282
1770 2 v Black Black Black Black 188 395 2 25 v 190 372
487 2 v 690 379 a FP(module)h FV(R)n(e)n(gisterInterfac)n(e)p
1178 372 V 1665 395 2 25 v 208 434 a FP(const)m(ant)h
FV(A)n(dr)t FQ(;)p .95 TeXcolorgray .95 TeXcolorgray
573 454 475 57 v .95 TeXcolorgray Black 81 w FZ(The)c(set)f(of)g
(memory)f(addresses.)p .95 TeXcolorgray Black 416 496
a FV(V)m(al)t FQ(;)p .95 TeXcolorgray .95 TeXcolorgray
573 516 512 57 v .95 TeXcolorgray Black 89 w FZ(The)i(set)f(of)g
(memory-w)o(ord)e(v)n(alues.)p .95 TeXcolorgray Black
416 558 a FV(Pr)n(o)n(c)r FQ(;)p .95 TeXcolorgray .95
TeXcolorgray 573 578 351 57 v .95 TeXcolorgray Black
69 w FZ(The)j(set)f(of)g(pro)q(cessors.)p .95 TeXcolorgray
Black 416 620 a FV(R)n(e)n(g)p .95 TeXcolorgray .95 TeXcolorgray
573 640 636 57 v .95 TeXcolorgray Black 101 w FZ(The)h(set)f(of)g
(registers)f(used)g(b)o(y)h(a)h(pro)q(cessor.)p .95 TeXcolorgray
Black 208 682 a FP(v)l(ariable)31 b FV(r)n(e)n(gFile)p
.95 TeXcolorgray .95 TeXcolorgray 573 702 1000 57 v .95
TeXcolorgray Black 43 w FY(r)n(e)n(gFile)r FZ([)p FY(p)r
FZ(][)p FY(r)t FZ(])14 b(represen)o(ts)9 b(the)h(con)o(ten)o(ts)g(of)h
(register)f FY(r)15 b FZ(of)c(pro)q(cessor)f FY(p)r FZ(.)p
.95 TeXcolorgray Black 188 726 2 25 v 190 715 1475 2
v 1665 726 2 25 v 208 776 a FV(R)n(dR)n(e)n(quest)479
753 y FI(\001)474 776 y F4(=)24 b([)p FV(adr)12 b F4(:)7
b FV(A)n(dr)t FQ(;)18 b FV(val)12 b F4(:)c FV(V)m(al)t
FQ(;)18 b FV(op)11 b F4(:)c F0(f)p F4(\\)p FD(Rd)p F4(")p
F0(g)p F4(])208 845 y FV(WrR)n(e)n(quest)479 822 y FI(\001)474
845 y F4(=)24 b([)p FV(adr)12 b F4(:)7 b FV(A)n(dr)t
FQ(;)18 b FV(val)12 b F4(:)c FV(V)m(al)t FQ(;)18 b FV(op)11
b F4(:)c F0(f)p F4(\\)p FD(W)o(r)p F4(")p F0(g)p F4(])208
914 y FV(F)m(r)n(e)n(eR)n(e)n(gV)m(alue)479 891 y FI(\001)474
914 y F4(=)24 b([)p FV(adr)12 b F4(:)7 b FV(A)n(dr)t
FQ(;)18 b FV(val)12 b F4(:)c FV(V)m(al)t FQ(;)18 b FV(op)11
b F4(:)c F0(f)p F4(\\)p FD(F)o(ree)p F4(")p F0(g)p F4(])208
983 y FV(R)n(e)n(quest)404 960 y FI(\001)399 983 y F4(=)23
b FV(R)n(dR)n(e)n(quest)14 b F0([)9 b FV(WrR)n(e)n(quest)p
.95 TeXcolorgray .95 TeXcolorgray 925 1003 501 57 v .95
TeXcolorgray Black 49 w FZ(The)i(set)g(of)g(all)g(p)q(ossible)f
(requests.)p .95 TeXcolorgray Black 208 1052 a FV(R)n(e)n(gV)m(alue)404
1029 y FI(\001)399 1052 y F4(=)23 b FV(R)n(e)n(quest)14
b F0([)9 b FV(F)m(r)n(e)n(eR)n(e)n(gV)m(alue)p .95 TeXcolorgray
.95 TeXcolorgray 925 1072 595 57 v .95 TeXcolorgray Black
52 w FZ(The)i(set)g(of)g(all)g(p)q(ossible)f(register)g(v)n(alues.)p
.95 TeXcolorgray Black 208 1121 a FV(R)n(e)n(gFileT)m(yp)n(eInvariant)
638 1098 y FI(\001)633 1121 y F4(=)p .95 TeXcolorgray
.95 TeXcolorgray 713 1141 668 57 v .95 TeXcolorgray Black
56 w FZ(The)i(t)o(yp)q(e)e(correctness)f(in)o(v)n(arian)o(t)g(for)i
FY(r)n(e)n(gFile)r FZ(.)p .95 TeXcolorgray Black 292
1183 a FV(r)n(e)n(gFile)j F0(2)d F4([)p FV(Pr)n(o)n(c)i
F0(!)e F4([)p FV(R)n(e)n(g)k F0(!)c FV(R)n(e)n(gV)m(alue)s
F4(]])p 188 1212 2 25 v 190 1212 1475 2 v 1665 1212 2
25 v Black 273 1302 a FU(Figure)k(11.5:)j F4(A)c(mo)q(dule)f(for)g(sp)q
(ecifying)h(a)g(register)h(in)o(terface)f(to)g(a)f(memory)m(.)p
Black Black 208 1414 a(receiving)e(the)g(resp)q(onse)i(for)e(the)g
(write.)17 b(This)11 b(isn't)g(guaran)o(teed)g(b)o(y)g(the)g
(condition.)16 b(The)208 1463 y(second)i(clause)f(is)g(to)q(o)g(strong)
g(b)q(ecause)i(it)d(places)i(unnecessary)h(ordering)e(constrain)o(ts)
208 1513 y(on)e(op)q(erations)h(issued)h(b)o(y)e(di\013eren)o(t)i(pro)q
(cessors.)25 b(If)16 b(op)q(erations)g FV(A)f F4(and)h
FV(B)k F4(are)c(issued)208 1563 y(b)o(y)d(t)o(w)o(o)g(di\013eren)o(t)h
(pro)q(cessors,)i(then)e(w)o(e)f(don't)g(need)i(to)e(require)i(that)e
FV(A)g F4(precedes)j FV(B)i F4(in)208 1613 y(the)c(execution)h(order)f
(just)g(b)q(ecause)i FV(B)i F4(w)o(as)c(requested)i(after)e
FV(A)p F4('s)g(resp)q(onse.)270 1663 y(W)m(e)f(mo)q(dify)f(the)j
(second)g(clause)f(to)g(require)h(that)f(the)g(system)g(act)g(as)g(if)g
(op)q(erations)208 1712 y(of)h(eac)o(h)h(individual)e(pro)q(cessor)k(w)
o(ere)f(executed)h(in)e(the)g(order)h(that)f(they)h(w)o(ere)g(issued,)
208 1762 y(obtaining)12 b(the)j(condition)p Black Black
311 1841 a(The)j(result)h(of)e(an)o(y)g(execution)h(is)f(the)h(same)f
(as)h(if)e(the)j(op)q(erations)e(of)g(all)311 1890 y(the)f(pro)q
(cessors)i(w)o(ere)f(executed)g(in)e(some)g(sequen)o(tial)h(order,)g
(and)f(the)h(op-)311 1940 y(erations)g(of)e(eac)o(h)i(individual)d(pro)
q(cessor)k(app)q(ear)e(in)g(this)g(sequence)i(in)d(the)311
1990 y(order)h(in)e(whic)o(h)h(the)h(requests)g(w)o(ere)g(issued.)208
2068 y(In)10 b(other)h(w)o(ords,)g(w)o(e)f(require)h(that)g(the)g(v)n
(alues)f(returned)i(b)o(y)e(the)h(reads)g(can)f(b)q(e)h(explained)208
2118 y(b)o(y)16 b(some)f(total)h(ordering)g(of)g(the)h(op)q(eration)f
(executions)i(that)e(is)h(consisten)o(t)g(with)f(the)208
2168 y(order)11 b(in)f(whic)o(h)g(eac)o(h)h(pro)q(cessor)h(issued)f
(its)g(requests.)19 b(There)11 b(are)g(a)f(n)o(um)o(b)q(er)g(of)g
(di\013eren)o(t)208 2218 y(w)o(a)o(ys)17 b(of)g(formalizing)d(this)k
(condition;)h(they)f(di\013er)g(in)f(ho)o(w)g(bizarre)i(the)f
(explanation)208 2268 y(ma)o(y)d(b)q(e.)29 b(The)18 b(di\013erences)h
(can)f(b)q(e)g(describ)q(ed)h(in)e(terms)g(of)g(whether)i(or)e(not)g
(certain)208 2317 y(scenarios)i(are)f(p)q(ermitted.)31
b(In)18 b(the)g(scenario)h(descriptions,)h FV(Wr)1287
2323 y FJ(p)1309 2317 y F4(\()p FV(a)s FQ(;)7 b FV(v)t
F4(\))18 b(represen)o(ts)j(a)208 2367 y(write)12 b(op)q(eration)g(of)g
(v)n(alue)f FV(v)17 b F4(to)12 b(address)i FV(a)h F4(b)o(y)d(pro)q
(cessor)i FV(p)s F4(,)e(and)g FV(R)n(d)1331 2373 y FJ(p)1353
2367 y F4(\()p FV(a)s FQ(;)7 b FV(v)t F4(\))13 b(represen)o(ts)208
2417 y(a)g(read)i(of)e FV(a)k F4(b)o(y)d FV(p)i F4(that)e(returns)i
(the)e(v)n(alue)f FV(v)t F4(.)270 2467 y(The)21 b(\014rst)g(decision)g
(w)o(e)g(m)o(ust)f(mak)o(e)f(is)i(whether)h(all)d(op)q(erations)i(in)g
(an)f(in\014nite)208 2517 y(b)q(eha)o(vior)12 b(m)o(ust)g(b)q(e)i
(ordered,)f(or)g(if)f(the)i(ordering)f(m)o(ust)f(exist)h(only)f(at)h
(eac)o(h)g(\014nite)g(p)q(oin)o(t)p Black Black eop
%%Page: 187 205
187 204 bop Black 208 275 a FR(11.2.)30 b(OTHER)14 b(MEMOR)m(Y)g
(SPECIFICA)m(TIONS)860 b F4(187)p 208 282 1770 2 v Black
208 391 a(during)12 b(the)i(b)q(eha)o(vior.)j(Consider)c(a)g(scenario)h
(in)e(whic)o(h)h(eac)o(h)g(of)g(t)o(w)o(o)f(pro)q(cessors)j(writes)208
441 y(its)e(o)o(wn)h(v)n(alue)f(to)h(the)g(same)f(address)j(and)d(then)
i(k)o(eeps)g(reading)e(that)h(v)n(alue)g(forev)o(er:)p
.95 TeXcolorgray .95 TeXcolorgray 1679 647 307 237 v
.95 TeXcolorgray Black Black 87 w FZ(In)d(these)g(scenar-)1687
481 y(ios,)g(v)n(alues)f(and)1687 520 y(addresses)g(with)h(dif-)1687
559 y(feren)o(t)f(names)g(are)1687 599 y(assumed)g(to)h(b)q(e)g(dif-)
1687 638 y(feren)o(t.)p Black .95 TeXcolorgray Black
Black Black 332 519 a F4(Pro)q(cessor)16 b FQ(p)7 b F4(:)22
b FQ(W)6 b(r)645 525 y Fy(p)664 519 y F4(\()p FQ(a;)h(v)q
F4(1\))p FQ(;)23 b(Rd)868 525 y Fy(p)887 519 y F4(\()p
FQ(a;)7 b(v)q F4(1\))p FQ(;)22 b(Rd)1090 525 y Fy(p)1109
519 y F4(\()p FQ(a;)7 b(v)q F4(1\))p FQ(;)22 b(Rd)1312
525 y Fy(p)1331 519 y F4(\()p FQ(a;)7 b(v)q F4(1\))p
FQ(;)23 b(:)7 b(:)g(:)332 576 y F4(Pro)q(cessor)16 b
FQ(q)8 b F4(:)23 b FQ(W)6 b(r)645 582 y Fy(q)663 576
y F4(\()p FQ(a;)h(v)q F4(2\))p FQ(;)24 b(Rd)868 582 y
Fy(q)886 576 y F4(\()p FQ(a;)7 b(v)q F4(2\))p FQ(;)23
b(Rd)1090 582 y Fy(q)1108 576 y F4(\()p FQ(a;)7 b(v)q
F4(2\))p FQ(;)23 b(Rd)1312 582 y Fy(q)1330 576 y F4(\()p
FQ(a;)7 b(v)q F4(2\))p FQ(;)24 b(:)7 b(:)g(:)208 651
y F4(A)o(t)13 b(eac)o(h)h(p)q(oin)o(t)e(in)h(the)h(execution,)f(w)o(e)h
(can)f(explain)g(the)g(v)n(alues)g(returned)i(b)o(y)e(the)h(reads)208
701 y(with)e(a)h(total)g(order)h(in)f(whic)o(h)g(all)f(the)i(op)q
(erations)f(of)g(either)h(pro)q(cessor)h(precede)g(all)d(the)208
751 y(op)q(erations)j(of)f(the)h(other.)22 b(Ho)o(w)o(ev)o(er,)15
b(there)h(is)f(no)f(w)o(a)o(y)g(to)h(explain)f(the)i(en)o(tire)f
(in\014nite)208 801 y(scenario)h(with)f(a)h(single)f(total)g(order.)25
b(In)15 b(this)h(scenario,)g(neither)h(pro)q(cessor)h(ev)o(er)e(sees)
208 851 y(the)g(v)n(alue)e(written)i(b)o(y)g(the)g(other.)23
b(Since)16 b(a)f(m)o(ultipro)q(cessor)g(memory)e(is)i(supp)q(osed)i(to)
208 900 y(allo)o(w)12 b(pro)q(cessors)k(to)e(comm)o(unicate,)d(w)o(e)j
(disallo)o(w)e(this)i(scenario.)270 950 y(The)20 b(second)h(decision)e
(w)o(e)h(m)o(ust)f(mak)o(e)f(is)h(whether)i(the)f(memory)d(is)j(allo)o
(w)o(ed)e(to)208 1000 y(predict)c(the)h(future.)j(Consider)d(this)f
(scenario:)p Black Black 332 1078 a(Pro)q(cessor)i FQ(p)7
b F4(:)22 b FQ(W)6 b(r)645 1084 y Fy(p)664 1078 y F4(\()p
FQ(a;)h(v)q F4(1\))p FQ(;)23 b(Rd)868 1084 y Fy(p)887
1078 y F4(\()p FQ(a;)7 b(v)q F4(2\))332 1135 y(Pro)q(cessor)16
b FQ(q)8 b F4(:)531 b FQ(W)6 b(r)1153 1141 y Fy(q)1171
1135 y F4(\()p FQ(a;)h(v)q F4(2\))208 1210 y(Here,)18
b FV(q)i F4(issues)e(its)f(write)g(of)g FV(v)t F4(2)g(after)g
FV(p)i F4(has)e(obtained)g(the)g(result)h(of)e(its)h(read.)27
b(The)208 1260 y(scenario)12 b(is)f(explained)g(b)o(y)h(the)g(ordering)
f FV(Wr)936 1266 y FJ(p)958 1260 y F4(\()p FV(a)s FQ(;)c
FV(v)t F4(1\),)12 b FV(Wr)1164 1266 y FJ(q)1185 1260
y F4(\()p FV(a)s FQ(;)7 b FV(v)t F4(2\),)12 b FV(R)n(d)1381
1266 y FJ(p)1403 1260 y F4(\()p FV(a)s FQ(;)7 b FV(v)t
F4(2\).)17 b(Ho)o(w-)208 1310 y(ev)o(er,)f(this)f(is)g(a)g(bizarre)h
(explanation)e(b)q(ecause,)j(to)e(return)h(the)g(v)n(alue)f
FV(v)t F4(2)g(for)g FV(p)s F4('s)g(read,)208 1360 y(the)e(memory)e(had)
i(to)g(predict)h(that)g(another)f(pro)q(cessor)j(w)o(ould)c(write)i
FV(v)t F4(2)f(some)f(time)g(in)208 1410 y(the)17 b(future.)27
b(Since)17 b(a)f(real)h(memory)d(can't)j(predict)g(what)g(requests)h
(will)e(b)q(e)h(issued)g(in)208 1459 y(the)g(future,)h(suc)o(h)g(a)f(b)
q(eha)o(vior)f(cannot)i(b)q(e)f(pro)q(duced)i(b)o(y)d(a)h(correct)i
(implemen)o(tatio)o(n.)208 1509 y(W)m(e)14 b(can)g(therefore)i(rule)f
(out)f(the)h(scenario)g(as)g(unreasonable.)20 b(Alternativ)o(ely)m(,)13
b(since)i(no)208 1559 y(correct)g(implemen)o(tation)10
b(can)15 b(pro)q(duce)g(it,)e(there's)i(no)e(need)i(to)f(outla)o(w)f
(the)h(scenario.)270 1609 y(If)g(w)o(e)h(don't)g(allo)o(w)e(the)i
(memory)e(to)h(predict)i(the)f(future,)h(then)f(it)g(m)o(ust)e(alw)o(a)
o(ys)h(b)q(e)208 1659 y(able)g(to)i(explain)e(the)i(v)n(alues)f(read)g
(in)g(terms)g(of)g(the)g(writes)h(that)f(ha)o(v)o(e)g(b)q(een)i(issued)
f(so)208 1708 y(far.)26 b(In)16 b(this)h(case,)h(w)o(e)f(ha)o(v)o(e)f
(to)h(decide)h(whether)g(the)f(explanations)f(m)o(ust)g(b)q(e)h
(stable.)208 1758 y(F)m(or)c(example,)f(supp)q(ose)j(a)f(scenario)g(b)q
(egins)h(as)f(follo)o(ws:)p Black Black 332 1836 a(Pro)q(cessor)i
FQ(p)7 b F4(:)22 b FQ(W)6 b(r)645 1842 y Fy(p)664 1836
y F4(\()p FQ(a)p F4(1)p FQ(;)h(v)q F4(1\))p FQ(;)23 b(Rd)889
1842 y Fy(p)907 1836 y F4(\()p FQ(a)p F4(1)p FQ(;)7 b(v)q
F4(3\))332 1893 y(Pro)q(cessor)16 b FQ(q)8 b F4(:)23
b FQ(W)6 b(r)645 1899 y Fy(q)663 1893 y F4(\()p FQ(a)p
F4(2)p FQ(;)h(v)q F4(2\))p FQ(;)24 b(W)6 b(r)899 1899
y Fy(q)917 1893 y F4(\()p FQ(a)p F4(1)p FQ(;)h(v)q F4(3\))208
1971 y(A)o(t)17 b(this)h(p)q(oin)o(t,)g(the)g(only)f(explanation)g(for)
g FV(p)s F4('s)h(read)g FV(R)n(d)1166 1977 y FJ(p)1188
1971 y F4(\()p FV(a)s F4(1)p FQ(;)7 b FV(v)t F4(3\))18
b(is)f(that)h FV(q)t F4('s)g(write)208 2021 y FV(Wr)271
2027 y FJ(q)291 2021 y F4(\()p FV(a)s F4(1)p FQ(;)7 b
FV(v)t F4(3\))18 b(preceded)i(it,)e(whic)o(h)f(implies)f(that)h
FV(q)t F4('s)h(other)g(write)g FV(Wr)1398 2027 y FJ(q)1419
2021 y F4(\()p FV(a)s F4(2)p FQ(;)7 b FV(v)t F4(2\))17
b(also)208 2070 y(preceded)f(the)g(read.)k(Hence,)c(if)e
FV(p)j F4(no)o(w)d(reads)i FV(a)s F4(2,)e(it)g(m)o(ust)g(obtain)g(the)h
(v)n(alue)f FV(v)t F4(2.)20 b(But)208 2120 y(supp)q(ose)15
b(the)f(scenario)h(con)o(tin)o(ues)f(as)g(follo)o(ws,)e(with)h(another)
i(pro)q(cessor)g FV(r)j F4(joining)12 b(in:)p Black Black
332 2198 a(Pro)q(cessor)k FQ(p)7 b F4(:)22 b FQ(W)6 b(r)645
2204 y Fy(p)664 2198 y F4(\()p FQ(a)p F4(1)p FQ(;)h(v)q
F4(1\))p FQ(;)23 b(Rd)889 2204 y Fy(p)907 2198 y F4(\()p
FQ(a)p F4(1)p FQ(;)7 b(v)q F4(3\))p FQ(;)316 b(Rd)1425
2204 y Fy(p)1443 2198 y F4(\()p FQ(a)p F4(2)p FQ(;)7
b(v)q F4(0\))332 2255 y(Pro)q(cessor)16 b FQ(q)8 b F4(:)23
b FQ(W)6 b(r)645 2261 y Fy(q)663 2255 y F4(\()p FQ(a)p
F4(2)p FQ(;)h(v)q F4(2\))p FQ(;)24 b(W)6 b(r)899 2261
y Fy(q)917 2255 y F4(\()p FQ(a)p F4(1)p FQ(;)h(v)q F4(3\))332
2312 y(Pro)q(cessor)16 b FQ(r)8 b F4(:)551 b FQ(W)6 b(r)1173
2318 y Fy(r)1191 2312 y F4(\()p FQ(a)p F4(1)p FQ(;)h(v)q
F4(3\))208 2388 y(W)m(e)13 b(can)h(explain)f(this)h(scenario)h(with)e
(the)i(follo)o(wing)c(ordering)j(of)f(the)i(op)q(erations:)p
Black Black 332 2465 a FV(Wr)395 2471 y FJ(p)417 2465
y F4(\()p FV(a)s F4(1)p FQ(;)7 b FV(v)t F4(1\))p FQ(;)30
b FV(Wr)662 2471 y FJ(r)682 2465 y F4(\()p FV(a)s F4(1)p
FQ(;)7 b FV(v)t F4(3\))p FQ(;)29 b FV(R)n(d)916 2471
y FJ(p)938 2465 y F4(\()p FV(a)s F4(1)p FQ(;)7 b FV(v)t
F4(3\))p FQ(;)457 2522 y FV(R)n(d)510 2528 y FJ(p)532
2522 y F4(\()p FV(a)s F4(2)p FQ(;)g FV(v)t F4(0\))p FQ(;)29
b FV(Wr)776 2528 y FJ(q)797 2522 y F4(\()p FV(a)s F4(2)p
FQ(;)7 b FV(v)t F4(2\))p FQ(;)30 b FV(Wr)1042 2528 y
FJ(q)1063 2522 y F4(\()p FV(a)s F4(1)p FQ(;)7 b FV(v)t
F4(3\))p Black Black eop
%%Page: 188 206
188 205 bop Black 208 275 a F4(188)910 b FR(CHAPTER)14
b(11.)31 b(AD)o(V)-5 b(ANCED)14 b(EXAMPLES)p 208 282
1770 2 v Black 208 391 a F4(In)f(this)h(explanation,)f(pro)q(cessor)i
FV(r)j F4(pro)o(vided)c(the)g(v)n(alue)g(of)f FV(a)s
F4(1)h(read)g(b)o(y)g FV(p)s F4(,)f(and)h FV(p)i F4(read)208
441 y(the)10 b(initial)e(v)n(alue)h FV(v)t F4(0)h(of)f(memory)e
(address)k FV(a)s F4(2.)17 b(The)10 b(explanation)f(is)g(bizarre)i(b)q
(ecause)g(the)208 491 y(write)h(that)f(pro)o(vided)h(the)g(v)n(alue)f
(of)g FV(a)s F4(1)h(to)g FV(p)i F4(w)o(as)e(actually)f(issued)h(after)g
(the)h(completion)208 541 y(of)j FV(p)s F4('s)h(read)h(op)q(eration.)28
b(But,)18 b(b)q(ecause)h(the)f(explanation)e(of)h(that)g(v)n(alue)g(c)o
(hanged)g(in)208 591 y(mid-execution,)11 b(the)j(system)e(nev)o(er)i
(predicted)h(the)e(existence)i(of)d(a)h(write)g(that)g(had)g(not)208
640 y(y)o(et)i(o)q(ccurred.)26 b(When)15 b(writing)g(a)h(sp)q
(eci\014cation,)g(w)o(e)g(m)o(ust)e(decide)j(whether)g(or)e(not)h(to)
208 690 y(allo)o(w)c(suc)o(h)i(c)o(hanges)h(of)e(the)i(explanation.)208
827 y F3(11.2.3)65 b(A)22 b(Serial)i(Memory)208 918 y
F4(W)m(e)12 b(\014rst)i(sp)q(ecify)g(a)e(memory)f(that)i(cannot)g
(predict)h(the)g(future)f(and)g(cannot)g(c)o(hange)h(its)208
968 y(explanations.)k(There)d(seems)g(to)f(b)q(e)g(no)g(standard)h
(name)e(for)h(suc)o(h)h(a)f(memory;)d(I'll)i(call)208
1018 y(it)g(a)h FV(serial)j F4(memory)m(.)270 1068 y(Our)e(informal)e
(correctness)18 b(condition)c(is)h(in)g(terms)g(of)f(the)i(sequence)h
(of)e(all)f(op)q(era-)208 1118 y(tions)f(that)g(ha)o(v)o(e)g(ev)o(er)h
(b)q(een)h(issued.)k(There)14 b(is)f(a)g(general)h(metho)q(d)e(of)h
(formalizing)d(suc)o(h)208 1167 y(a)k(condition)g(that)h(w)o(orks)g
(for)g(sp)q(ecifying)g(man)o(y)e(di\013eren)o(t)j(kinds)f(of)f
(systems.)21 b(W)m(e)15 b(add)208 1217 y(an)j(in)o(ternal)f(v)n
(ariable)g FV(opQ)23 b F4(that)18 b(records)i(the)e(history)h(of)e(the)
i(execution.)32 b(F)m(or)17 b(eac)o(h)208 1267 y(pro)q(cessor)e
FV(p)s F4(,)e(the)h(v)n(alue)f(of)g FV(opQ)t F4([)p FV(p)s
F4(])g(is)g(a)h(sequence)i(whose)e FV(i)1189 1252 y FS(th)1236
1267 y F4(elemen)o(t,)e FV(opQ)t F4([)p FV(p)s F4(][)p
FV(i)t F4(],)g(de-)208 1317 y(scrib)q(es)k(the)f FV(i)433
1302 y FS(th)482 1317 y F4(request)h(issued)g(b)o(y)e
FV(p)s F4(,)h(the)g(resp)q(onse)i(to)e(that)g(request)h(\(if)e(it)h
(has)g(b)q(een)208 1367 y(issued\),)i(and)f(an)o(y)g(other)h
(information)d(ab)q(out)i(the)h(op)q(eration)f(needed)i(to)e(express)i
(the)208 1417 y(correctness)g(condition.)k(If)15 b(necessary)m(,)i(w)o
(e)f(can)g(also)f(add)g(other)h(in)o(ternal)f(v)n(ariables)g(to)208
1466 y(record)g(information)c(not)i(readily)h(asso)q(ciated)g(with)g
(individual)e(requests.)270 1516 y(F)m(or)i(a)f(system)h(with)g(the)h
(kind)e(of)h(register)h(in)o(terface)g(w)o(e)f(are)h(using,)e(the)i
(next-state)208 1566 y(action)e(has)h(the)h(form)p Black
Black 332 1649 a F0(_)f(9)7 b FV(pr)n(o)n(c)13 b F0(2)e
FV(Pr)n(o)n(c)r FQ(;)j FV(r)n(e)n(g)h F0(2)c FV(R)n(e)n(g)22
b F4(:)457 1699 y F0(_)13 b(9)7 b FV(r)n(e)n(q)15 b F0(2)c
FV(R)n(e)n(quest)23 b F4(:)18 b FV(IssueR)n(e)n(quest)t
F4(\()p FV(pr)n(o)n(c)r FQ(;)c FV(r)n(e)n(q)t FQ(;)e
FV(r)n(e)n(g)t F4(\))457 1756 y F0(_)h FV(R)n(esp)n(ondT)m(oR)n(e)n
(quest)t F4(\()p FV(pr)n(o)n(c)r FQ(;)i FV(r)n(e)n(g)t
F4(\))332 1813 y F0(_)f FV(Internal)p Black 208 1649
a F4(\(11.3\))p Black 208 1895 a(where)h(the)f(comp)q(onen)o(t)f
(actions)h(are)p Black 208 1978 a FV(IssueR)n(e)n(quest)t
F4(\()p FV(pr)n(o)n(c)r FQ(;)g FV(r)n(e)n(q)t FQ(;)e
FV(r)n(e)n(g)t F4(\))p Black 311 2027 a(The)j(action)e(with)h(whic)o(h)
g(pro)q(cessor)h FV(pr)n(o)n(c)h F4(issues)f(a)f(request)h
FV(r)n(e)n(q)i F4(in)d(register)h FV(r)n(e)n(g)t F4(.)p
Black 208 2110 a FV(R)n(esp)n(ondT)m(oR)n(e)n(quest)t
F4(\()p FV(pr)n(o)n(c)r FQ(;)f FV(r)n(e)n(g)t F4(\))p
Black 311 2160 a(The)e(action)e(with)h(whic)o(h)g(the)g(system)g(resp)q
(onds)i(to)d(a)h(request)i(in)d(pro)q(cessor)j FV(pr)n(o)n(c)r
F4('s)311 2210 y(register)i FV(r)n(e)n(g)t F4(.)p Black
208 2293 a FV(Internal)p Black 311 2343 a F4(An)f(action)g(that)g(c)o
(hanges)g(only)g(the)g(in)o(ternal)f(state.)208 2426
y(Liv)o(eness)f(prop)q(erties)h(are)e(asserted)j(b)o(y)d(fairness)h
(conditions)f(on)g(the)h FV(R)n(esp)n(ondT)m(oR)n(e)n(quest)208
2476 y F4(and)h FV(Internal)18 b F4(actions.)p Black
Black eop
%%Page: 189 207
189 206 bop Black 208 275 a FR(11.2.)30 b(OTHER)14 b(MEMOR)m(Y)g
(SPECIFICA)m(TIONS)860 b F4(189)p 208 282 1770 2 v Black
270 391 a(A)13 b(general)g(tric)o(k)g(for)g(writing)f(the)i(sp)q
(eci\014cation)f(is)g(to)g(c)o(ho)q(ose)h(the)f(in)o(ternal)g(state)h
(so)208 441 y(the)f(safet)o(y)f(part)h(of)e(the)i(correctness)j
(condition)11 b(can)i(b)q(e)g(expressed)i(b)o(y)d(the)h(form)o(ula)c
FG(2)p FV(P)208 491 y F4(for)15 b(some)g(state)i(predicate)g
FV(P)t F4(.)25 b(W)m(e)15 b(guaran)o(tee)i(that)f FV(P)k
F4(is)c(alw)o(a)o(ys)f(true)i(b)o(y)e(letting)h FV(P)1634
476 y FH(0)208 541 y F4(b)q(e)c(a)g(conjunct)h(of)f(eac)o(h)h(action.)k
(I'll)11 b(use)i(this)f(approac)o(h)g(to)g(sp)q(ecify)h(the)g(serial)f
(memory)m(,)208 591 y(taking)h(for)g FV(P)18 b F4(a)c(state)h
(predicate)g FV(Serializable)s F4(.)270 640 y(W)m(e)h(w)o(an)o(t)g(to)h
(require)g(that)g(the)g(v)n(alue)f(returned)i(b)o(y)f(eac)o(h)g(read)g
(is)f(explainable)g(as)208 690 y(the)d(v)n(alue)e(written)i(b)o(y)g
(some)e(op)q(eration)i(already)f(issued,)h(or)f(as)h(the)g(initial)e(v)
n(alue)g(of)h(the)208 740 y(memory)m(.)i(Moreo)o(v)o(er,)e(w)o(e)g
(don't)f(w)o(an)o(t)g(this)g(explanation)g(to)g(c)o(hange.)18
b(W)m(e)11 b(therefore)i(add)208 790 y(to)e(the)i FV(opQ)j
F4(en)o(try)d(for)e(eac)o(h)i(completed)e(read)i(a)f
FV(sour)n(c)n(e)j F4(\014eld)d(that)g(indicates)g(where)h(the)208
840 y(v)n(alue)g(came)g(from.)j(This)e(\014eld)g(is)g(set)g(b)o(y)g
(the)h FV(R)n(esp)n(ondT)m(oR)n(e)n(quest)k F4(action.)270
889 y(W)m(e)11 b(w)o(an)o(t)g(all)g(op)q(erations)g(in)h(an)f
(in\014nite)g(b)q(eha)o(vior)h(ev)o(en)o(tually)f(to)g(b)q(e)h
(ordered.)19 b(This)208 939 y(means)14 b(that,)g(for)h(an)o(y)f(t)o(w)o
(o)g(op)q(erations,)h(the)h(memory)c(m)o(ust)i(ev)o(en)o(tually)g
(decide)i(whic)o(h)208 989 y(one)h(precedes)k(the)d(other|and)f(it)h(m)
o(ust)e(stic)o(k)i(to)f(that)h(decision.)30 b(W)m(e)17
b(in)o(tro)q(duce)h(an)208 1039 y(in)o(ternal)12 b(v)n(ariable)f
FV(opOr)n(der)16 b F4(that)d(describ)q(es)h(the)f(ordering)g(of)f(op)q
(erations)h(to)f(whic)o(h)g(the)208 1089 y(memory)f(has)k(already)f
(committed)e(itself.)19 b(An)c FV(Internal)j F4(step)e(c)o(hanges)f
(only)e FV(opOr)n(der)t F4(,)208 1139 y(and)g(it)h(can)g(only)f
(enlarge)h(the)h(ordering.)270 1188 y(The)g(predicate)h
FV(Serializable)h F4(used)e(to)g(sp)q(ecify)g(the)g(safet)o(y)g(part)g
(of)f(the)h(correctness)208 1238 y(condition)g(describ)q(es)i(what)f
(it)f(means)g(for)g FV(opOr)n(der)20 b F4(to)15 b(b)q(e)i(a)e(correct)i
(explanation.)23 b(It)208 1288 y(asserts)11 b(that)g(there)g(is)f(some)
g(consisten)o(t)h(total)e(ordering)i(of)e(the)i(op)q(erations)g(that)f
(satis\014es)208 1338 y(the)k(follo)o(wing)d(conditions:)p
Black 270 1410 a F0(\017)p Black 20 w F4(It)j(extends)i
FV(opOr)n(der)t F4(.)p Black 270 1488 a F0(\017)p Black
20 w F4(It)j(orders)g(all)e(op)q(erations)h(from)f(the)h(same)g(pro)q
(cessor)i(in)d(the)i(order)g(that)f(they)311 1538 y(w)o(ere)d(issued.)p
Black 270 1616 a F0(\017)p Black 20 w F4(It)i(orders)g(op)q(erations)g
(so)f(that)h(the)g(source)h(of)d(an)o(y)h(read)h(is)g(the)g(latest)f
(write)h(to)311 1666 y(the)f(same)e(address)j(that)e(precedes)i(the)f
(read,)g(and)e(is)h(the)h(initial)d(v)n(alue)i(i\013)g(there)311
1716 y(is)f(no)g(suc)o(h)g(write.)270 1788 y(W)m(e)i(no)o(w)h
(translate)g(this)g(informal)d(sk)o(etc)o(h)k(of)e(the)h(sp)q
(eci\014cation)h(in)o(to)e(TLA)1529 1773 y FS(+)1549
1788 y F4(.)27 b(W)m(e)208 1838 y(\014rst)15 b(c)o(ho)q(ose)h(the)f(t)o
(yp)q(es)h(of)e(the)i(v)n(ariables)e FV(opQ)19 b F4(and)c
FV(opOr)n(der)t F4(.)20 b(T)m(o)14 b(do)h(this,)g(w)o(e)g(de\014ne)208
1888 y(a)j(set)i FV(opId)25 b F4(of)18 b(v)n(alues)h(that)g(iden)o
(tify)f(the)i(op)q(erations)g(that)f(ha)o(v)o(e)g(b)q(een)h(issued.)35
b(An)208 1938 y(op)q(eration)12 b(is)h(iden)o(ti\014ed)g(b)o(y)g(a)g
(pair)f F0(h)s FV(p)s FQ(;)i FV(i)7 b F0(i)13 b F4(where)h
FV(p)i F4(is)d(a)g(pro)q(cessor)h(and)f FV(i)k F4(is)c(a)g(p)q(osition)
208 1988 y(in)g(the)h(sequence)h FV(opQ)t F4([)p FV(p)s
F4(].)i(\(The)d(set)g(of)f(all)f(suc)o(h)j(p)q(ositions)e
FV(i)k F4(is)c FP(domain)d FV(opQ)t F4([)p FV(p)s F4(])o(.\))18
b(W)m(e)208 2037 y(let)e(the)h(corresp)q(onding)g(elemen)o(t)f(of)g
FV(opId)21 b F4(b)q(e)c(the)g(record)h(with)e FV(pr)n(o)n(c)i
F4(\014eld)e FV(p)k F4(and)c FV(idx)208 2087 y F4(\014eld)g
FV(i)t F4(.)26 b(W)m(riting)15 b(the)i(set)g(of)f(all)f(suc)o(h)i
(records)h(is)f(a)f(bit)g(tric)o(ky)g(b)q(ecause)j(the)e(p)q(ossible)
208 2137 y(v)n(alues)12 b(of)h(the)g FV(idx)18 b F4(\014eld)13
b(dep)q(end)h(on)f(the)h FV(pr)n(o)n(c)h F4(\014eld.)j(W)m(e)12
b(de\014ne)i FV(opId)t F4(to)g(b)q(e)f(a)g(subset)h(of)208
2187 y(the)g(set)h(of)e(records)j(whose)e FV(idx)19 b
F4(\014eld)14 b(can)g(b)q(e)h(an)o(y)e(v)n(alue:)p Black
Black 332 2264 a FV(opId)455 2240 y FI(\001)451 2264
y F4(=)35 b F0(f)p FV(oiv)15 b F0(2)d F4([)p FV(pr)n(o)n(c)20
b F4(:)e FV(Pr)n(o)n(c)r FQ(;)13 b FV(idx)24 b F4(:)18
b FV(Nat)t F4(])f(:)601 2317 y FV(oiv)t FQ(:)p FV(idx)f
F0(2)c FP(domain)d FV(opQ)t F4([)p FV(oiv)t FQ(:)p FV(pr)n(o)n(c)r
F4(])p F0(g)208 2390 y F4(F)m(or)i(con)o(v)o(enience,)i(w)o(e)f
(de\014ne)g FV(opIdQ)t F4(\()p FV(oi)t F4(\))h(to)f(b)q(e)g(the)g(v)n
(alue)f(of)g(the)i FV(opQ)i F4(en)o(try)e(iden)o(ti\014ed)208
2440 y(b)o(y)g(an)h(elemen)o(t)f FV(oi)18 b F4(of)c FV(opId)t
F4(:)p Black Black 332 2517 a FV(opIdQ)t F4(\()p FV(oi)t
F4(\))557 2493 y FI(\001)553 2517 y F4(=)34 b FV(opQ)t
F4([)p FV(oi)t FQ(:)p FV(pr)n(o)n(c)r F4(][)p FV(oi)t
FQ(:)p FV(idx)5 b F4(])p Black Black eop
%%Page: 190 208
190 207 bop Black 208 275 a F4(190)910 b FR(CHAPTER)14
b(11.)31 b(AD)o(V)-5 b(ANCED)14 b(EXAMPLES)p 208 282
1770 2 v Black 208 391 a F4(The)d(source)h(of)f(a)g(v)n(alue)f(need)i
(not)f(b)q(e)h(an)f(op)q(eration;)g(it)g(can)g(also)f(b)q(e)i(the)g
(initial)d(con)o(ten)o(ts)208 441 y(of)14 b(the)j(memory)m(.)i(The)d
(latter)g(p)q(ossibilit)o(y)e(is)i(represen)o(ted)i(b)o(y)d(letting)g
(the)h FV(sour)n(c)n(e)j F4(\014eld)208 491 y(of)11 b(the)i
FV(opQ)k F4(en)o(try)c(ha)o(v)o(e)f(the)h(sp)q(ecial)g(v)n(alue)e
FV(InitWr)t F4(.)18 b(W)m(e)12 b(then)h(let)g FV(opQ)j
F4(b)q(e)d(an)f(elemen)o(t)208 541 y(of)h([)p FV(Pr)n(o)n(c)g
F0(!)e FV(Se)n(q)t F4(\()p FV(opV)m(al)t F4(\)],)i(where)j
FV(opV)m(al)i F4(is)13 b(the)i(union)e(of)g(three)j(sets:)p
.95 TeXcolorgray .95 TeXcolorgray 1679 753 307 244 v
.95 TeXcolorgray Black Black 333 w FZ(The)c(sets)f FY(R)n(e)n(quest)s
FZ(,)1687 580 y FY(WrR)n(e)n(quest)s FZ(,)i(and)1687
620 y FY(R)n(dR)n(e)n(quest)k FZ(are)1687 659 y(de\014ned)10
b(in)h(mo)q(dule)1687 699 y FY(R)n(e)n(gisterInterfac)n(e)1687
738 y FZ(on)g(page)g(186.)p Black .95 TeXcolorgray Black
Black 208 624 a F4([)p FV(r)n(e)n(q)j F4(:)d FV(R)n(e)n(quest)t
FQ(;)18 b FV(r)n(e)n(g)d F4(:)c FV(R)n(e)n(g)t F4(])p
Black 311 674 a(Represen)o(ts)21 b(an)d(activ)o(e)h(request)i(in)d(the)
h(register)h(of)e(the)h(requesting)h(pro)q(cessor)311
723 y(indicated)14 b(b)o(y)g(the)g FV(r)n(e)n(g)j F4(\014eld.)p
Black 208 806 a([)p FV(r)n(e)n(q)d F4(:)d FV(WrR)n(e)n(quest)t
FQ(;)18 b FV(r)n(e)n(g)d F4(:)c F0(f)p FV(Done)s F0(g)p
F4(])p Black 311 856 a(Represen)o(ts)16 b(a)e(completed)g(write)g
(request,)i(where)f FV(Done)j F4(is)c(a)g(sp)q(ecial)g(v)n(alue)g(that)
311 906 y(is)g(not)g(a)f(register.)p Black 208 989 a([)p
FV(r)n(e)n(q)h F4(:)d FV(R)n(dR)n(e)n(quest)t FQ(;)18
b FV(r)n(e)n(g)d F4(:)c F0(f)p FV(Done)s F0(g)p FQ(;)19
b FV(sour)n(c)n(e)14 b F4(:)d FV(opId)k F0([)8 b(f)p
FV(InitWr)t F0(g)p F4(])p Black 311 1039 a(Represen)o(ts)14
b(a)d(completed)g(read)i(request)g(whose)f(v)n(alue)f(came)g(from)f
(the)i(op)q(eration)311 1089 y(indicated)21 b(b)o(y)f(the)i
FV(sour)n(c)n(e)h F4(\014eld,)f(or)f(from)d(the)k(initial)c(v)n(alue)i
(of)g(the)h(memory)311 1139 y(lo)q(cation)13 b(if)g(the)i
FV(sour)n(c)n(e)i F4(\014eld)d(equals)g FV(InitWr)t F4(.)208
1222 y(Note)k(that)g FV(opId)k F4(and)c FV(opV)m(al)k
F4(are)c(state)h(functions)f(whose)g(v)n(alues)f(dep)q(end)i(up)q(on)f
(the)208 1271 y(v)n(alue)13 b(of)g(the)i(v)n(ariable)d
FV(opQ)t F4(.)270 1321 y(W)m(e)19 b(need)h(to)f(sp)q(ecify)h(the)g
(initial)d(con)o(ten)o(ts)j(of)f(memory)m(.)31 b(A)20
b(program)d(generally)208 1371 y(cannot)c(assume)g(an)o(ything)g(ab)q
(out)g(the)h(memory's)d(initial)h(con)o(ten)o(ts,)i(except)h(that)e(ev)
o(ery)208 1421 y(address)j(do)q(es)f(con)o(tain)g(a)f(v)n(alue)g(in)h
FV(V)m(al)t F4(.)20 b(So,)15 b(the)g(initial)e(con)o(ten)o(ts)j(of)e
(memory)e(can)j(b)q(e)208 1471 y(an)o(y)c(elemen)o(t)g(of)g([)p
FV(A)n(dr)k F0(!)c FV(V)m(al)t F4(].)17 b(W)m(e)11 b(declare)i(an)e
(\\in)o(ternal")g(constan)o(t)h FV(InitMem)s F4(,)g(whose)208
1520 y(v)n(alue)e(is)h(the)h(memory's)d(initial)g(con)o(ten)o(ts.)19
b(In)11 b(the)h(\014nal)f(sp)q(eci\014cation,)h FV(InitMem)i
F4(will)c(b)q(e)208 1570 y(hidden)j(along)g(with)g(the)h(in)o(ternal)f
(v)n(ariables)g FV(opQ)k F4(and)d FV(opOr)n(der)t F4(.)j(W)m(e)d(hide)f
(a)g(constan)o(t)208 1620 y(with)h(ordinary)h(existen)o(tial)f(quan)o
(ti\014cation)g F0(9)7 b F4(.)22 b(The)15 b(requiremen)o(t)g(that)g
FV(InitMem)j F4(is)d(a)208 1670 y(function)h(from)f(addresses)k(to)e(v)
n(alues)g(could)f(b)q(e)i(made)d(part)j(of)e(the)h(initial)e
(predicate,)208 1720 y(but)f(it's)g(more)f(natural)h(to)g(express)i(it)
e(in)f(the)i(quan)o(ti\014er.)k(The)c(\014nal)e(sp)q(eci\014cation)i
(will)208 1769 y(therefore)g(ha)o(v)o(e)f(the)g(form)p
Black Black 332 1853 a F0(9)7 b FV(InitMem)15 b F0(2)c
F4([)p FV(A)n(dr)k F0(!)c FV(V)m(al)t F4(])18 b(:)844
1851 y F0(9)-21 b(9)g(9)844 1853 y(9)g(9)g(9)6 b FV(opQ)t
FQ(;)h FV(opOr)n(der)22 b F4(:)c FQ(:)7 b(:)g(:)208 1936
y F4(F)m(or)19 b(later)h(use,)i(w)o(e)e(de\014ne)h FV(go)n(o)n(dSour)n
(c)n(e)s F4(\()p FV(oi)t F4(\))h(to)e(b)q(e)g(the)h(set)g(of)e
(plausible)g(v)n(alues)h(for)208 1985 y(the)d(source)i(of)d(a)h(read)g
(op)q(eration)g FV(oi)22 b F4(in)16 b FV(opId)t F4(.)29
b(A)17 b(plausible)f(v)n(alue)h(is)g(either)h FV(InitWr)208
2035 y F4(or)g(a)h(write)g(to)g(the)g(same)f(address)i(that)f
FV(oi)k F4(reads.)34 b(It)19 b(will)e(b)q(e)i(an)g(in)o(v)n(arian)o(t)e
(of)h(the)208 2085 y(sp)q(eci\014cation)e(that)f(the)i(source)f(of)f
(an)o(y)g(completed)g(read)i(op)q(eration)e FV(oi)20
b F4(is)15 b(an)g(elemen)o(t)208 2135 y(of)d FV(go)n(o)n(dSour)n(c)n(e)
s F4(\()p FV(oi)t F4(\).)19 b(Moreo)o(v)o(er,)14 b(the)g(v)n(alue)e
(returned)j(b)o(y)e(a)g(completed)g(read)h(op)q(eration)208
2185 y(m)o(ust)g(come)h(from)e(its)j(source.)24 b(If)15
b(the)h(source)g(is)g FV(InitWr)t F4(,)f(then)h(the)g(v)n(alue)f(m)o
(ust)g(come)208 2234 y(from)e FV(InitMem)s F4(;)i(otherwise,)h(it)f(m)o
(ust)f(come)g(from)f(the)j(source)g(request's)h FV(val)i
F4(\014eld.)j(T)m(o)208 2284 y(express)13 b(this)g(formally)l(,)c
(observ)o(e)k(that)g(the)f FV(opQ)k F4(en)o(tries)e(only)d(of)h
(completed)f(reads)i(ha)o(v)o(e)208 2334 y(a)i FV(sour)n(c)n(e)k
F4(\014eld.)k(Since)17 b(a)e(record)i(has)f(a)f FV(sour)n(c)n(e)k
F4(\014eld)d(i\013)f(the)i(string)f(\\)p FD(source)p
F4(")g(is)g(in)f(its)208 2384 y(domain,)c(w)o(e)j(can)g(write)g(this)g
(in)o(v)n(arian)o(t)e(as)p .95 TeXcolorgray .95 TeXcolorgray
1679 2399 307 243 v .95 TeXcolorgray Black Black 1687
2187 a FZ(Section)e(5.2)h(on)1687 2226 y(page)g(48)g(explains)1687
2266 y(that)g(a)g(record)f(is)1687 2305 y(a)i(function)d(whose)1687
2344 y(domain)h(is)h(a)h(set)f(of)1687 2384 y(strings.)p
Black .95 TeXcolorgray Black Black Black eop
%%Page: 191 209
191 208 bop Black 208 275 a FR(11.2.)30 b(OTHER)14 b(MEMOR)m(Y)g
(SPECIFICA)m(TIONS)860 b F4(191)p 208 282 1770 2 v Black
Black Black 332 391 a F0(8)7 b FV(oi)16 b F0(2)11 b FV(opId)23
b F4(:)374 444 y(\(\\)p FD(source)p F4(")12 b F0(2)f
FP(domain)f FV(opIdQ)t F4(\()p FV(oi)t F4(\)\))24 b F0(\))415
498 y(^)14 b FV(opIdQ)t F4(\()p FV(oi)t F4(\))p FQ(:)p
FV(sour)n(c)n(e)h F0(2)c FV(go)n(o)n(dSour)n(c)n(e)s
F4(\()p FV(oi)t F4(\))415 551 y F0(^)j FV(opIdQ)t F4(\()p
FV(oi)t F4(\))p FQ(:)p FV(r)n(e)n(q)t FQ(:)p FV(val)g
F4(=)e FP(if)23 b FV(opIdQ)t F4(\()p FV(oi)t F4(\))p
FQ(:)p FV(sour)n(c)n(e)15 b F4(=)d FV(InitWr)864 604
y FP(then)24 b FV(InitMem)s F4([)p FV(opIdQ)t F4(\()p
FV(oi)t F4(\))p FQ(:)p FV(r)n(e)n(q)t FQ(:)p FV(adr)t
F4(])864 657 y FP(else)36 b FV(opIdQ)t F4(\()p FV(opIdQ)t
F4(\()p FV(oi)t F4(\))p FQ(:)p FV(sour)n(c)n(e)s F4(\))p
FQ(:)p FV(r)n(e)n(q)t FQ(:)p FV(val)p Black 208 391 a
F4(\(11.4\))p Black 208 735 a(W)m(e)12 b(no)o(w)h(c)o(ho)q(ose)h(the)f
(t)o(yp)q(e)h(of)e FV(opOr)n(der)t F4(.)18 b(W)m(e)13
b(usually)f(denote)i(an)e(ordering)i(relation)e(b)o(y)208
784 y(an)f(op)q(erator)h(suc)o(h)h(as)f F0(\036)p F4(,)f(writing)g
FV(A)h F0(\036)g FV(B)k F4(to)11 b(mean)g(that)h FV(A)f
F4(precedes)j FV(B)t F4(.)k(Ho)o(w)o(ev)o(er,)12 b(the)208
834 y(v)n(alue)j(of)h(a)g(v)n(ariable)g(cannot)g(b)q(e)i(an)e(op)q
(erator.)26 b(So,)17 b(w)o(e)f(m)o(ust)g(represen)o(t)j(an)d(ordering)p
.95 TeXcolorgray .95 TeXcolorgray 1679 1046 307 244 v
.95 TeXcolorgray Black Black 41 w FZ(The)c(di\013erence)1687
874 y(b)q(et)o(w)o(een)f(op)q(er-)1687 913 y(ators)g(and)f(func-)1687
953 y(tions)h(is)g(discussed)1687 992 y(in)h(Section)d(6.4)i(on)1687
1031 y(page)g(69.)p Black .95 TeXcolorgray Black 208
884 a F4(relation)h(as)h(a)g(set)g(or)g(a)g(function.)k(Mathematicians)
12 b(usually)g(describ)q(e)j(a)e(relation)f F0(\036)h
F4(on)208 934 y(a)f(set)h FV(S)k F4(as)c(a)f(set)h FV(R)h
F4(of)e(ordered)h(pairs)g(of)e(elemen)o(ts)h(in)g FV(S)5
b F4(,)13 b(with)f F0(h)s FV(A)p FQ(;)h FV(B)8 b F0(i)13
b F4(in)f FV(R)i F4(i\013)e FV(A)f F0(\036)h FV(B)t F4(.)208
984 y(So,)g(w)o(e)g(let)h FV(opOr)n(der)j F4(b)q(e)e(a)e(subset)i(of)e
FV(opId)f F0(\002)c FV(opId)t F4(,)13 b(where)h F0(h)s
FV(oi)t FQ(;)g FV(oj)9 b F0(i)j(2)f FV(opOr)n(der)17
b F4(means)208 1033 y(that)c FV(oi)19 b F4(precedes)d
FV(oj)6 b F4(.)270 1083 y(Our)14 b(in)o(ternal)e(state)i(is)f(redundan)
o(t)h(b)q(ecause,)h(if)d(register)i FV(r)j F4(of)c(pro)q(cessor)i
FV(p)h F4(con)o(tains)208 1133 y(an)e(uncompleted)f(op)q(eration,)h
(then)h(there)g(is)f(an)g FV(opQ)19 b F4(en)o(try)c(that)f(p)q(oin)o
(ts)g(to)g(the)h(regis-)208 1183 y(ter)h(and)g(con)o(tains)f(the)i
(same)e(request.)25 b(This)16 b(redundancy)g(means)f(that)h(the)g
(follo)o(wing)208 1233 y(relations)d(among)f(the)j(v)n(ariables)e(are)h
(in)o(v)n(arian)o(ts)f(of)g(the)h(sp)q(eci\014cation:)p
Black 270 1312 a F0(\017)p Black 20 w F4(If)f(an)h FV(opQ)j
F4(en)o(try's)d FV(r)n(e)n(g)j F4(\014eld)c(is)h(not)f(equal)g(to)g
FV(Done)s F4(,)i(then)f(it)f(denotes)i(a)e(register)311
1362 y(whose)i(con)o(ten)o(ts)g(is)f(the)g(en)o(try's)g
FV(r)n(e)n(q)j F4(\014eld.)p Black 270 1443 a F0(\017)p
Black 20 w F4(The)g(n)o(um)o(b)q(er)e(of)g FV(opQ)20
b F4(en)o(tries)c(p)q(oin)o(ting)f(to)h(a)f(register)i(equals)f(1)f(if)
g(the)i(register)311 1493 y(con)o(tains)d(an)g(activ)o(e)g(op)q
(eration,)f(otherwise)i(it)e(equals)h(0.)208 1573 y(In)k(the)h(sp)q
(eci\014cation,)h(w)o(e)e(com)o(bine)f(this)i(condition,)f(form)o(ula)e
(\(11.4\),)i(and)g(the)h(t)o(yp)q(e)208 1622 y(in)o(v)n(arian)o(t)12
b(in)o(to)h(a)h(single)f(state)i(predicate)g FV(DataInvariant)t
F4(.)270 1672 y(Ha)o(ving)d(c)o(hosen)i(the)f(t)o(yp)q(es)h(of)e(the)i
(v)n(ariables,)e(w)o(e)h(can)g(no)o(w)g(de\014ne)h(the)f(initial)e
(pred-)208 1722 y(icate)19 b FV(Init)k F4(and)18 b(the)i(predicate)g
FV(Serializable)s F4(.)33 b(The)19 b(de\014nition)g(of)f
FV(Init)23 b F4(is)c(easy)m(.)33 b(W)m(e)208 1772 y(de\014ne)15
b FV(Serializable)i F4(in)d(terms)h(of)e FV(totalOpOr)n(der)t
F4(,)h(the)h(set)h(of)e(all)f(total)h(orders)h(of)f FV(opId)t
F4(.)208 1822 y(A)e(relation)f F0(\036)h F4(is)g(a)g(total)f(order)i
(of)f FV(opId)17 b F4(i\013)11 b(it)h(satis\014es)h(the)g(follo)o(wing)
c(three)14 b(conditions,)208 1872 y(for)f(an)o(y)g FV(oi)t
F4(,)h FV(oj)6 b F4(,)13 b(and)h FV(ok)19 b F4(in)13
b FV(opId)t F4(:)p Black 270 1951 a(T)m(otalit)o(y:)p
Black 85 w(Either)i FV(oi)h F4(=)11 b FV(oj)6 b F4(,)14
b FV(oi)h F0(\036)d FV(oj)6 b F4(,)14 b(or)f FV(oj)18
b F0(\036)12 b FV(oi)t F4(.)p Black 270 2020 a(T)m(ransitivit)o(y:)p
Black 19 w FV(oi)j F0(\036)d FV(oj)20 b F4(and)14 b FV(oj)j
F0(\036)12 b FV(ok)19 b F4(imply)11 b FV(oi)16 b F0(\036)c
FV(ok)t F4(.)p Black 270 2089 a(Irre\015exivit)o(y:)p
Black 20 w FV(oi)k F0(6\036)c FV(oi)t F4(.)208 2168 y(The)k(predicate)g
FV(Serializable)i F4(asserts)g(that)d(there)i(is)f(a)f(total)g(order)h
(of)f FV(opId)21 b F4(satisfying)208 2218 y(the)14 b(three)h
(conditions)e(on)g(page)h(189.)j(W)m(e)c(can)h(express)h(this)f
(formally)c(as)k(the)g(assertion)208 2268 y(that)f(there)j(exists)e(an)
g FV(R)i F4(in)d FV(totalOpOr)n(der)k F4(satisfying)p
Black Black 332 2355 a F0(^)23 b FV(opOr)n(der)15 b F0(\022)d
FV(R)p .95 TeXcolorgray .95 TeXcolorgray 1081 2375 867
57 v .95 TeXcolorgray Black 469 w FY(R)h FZ(extends)c
FY(opOr)n(der)p .95 TeXcolorgray Black 332 2433 a F0(^)23
b(8)7 b FV(oi)t FQ(;)13 b FV(oj)18 b F0(2)11 b FV(opId)23
b F4(:)p .95 TeXcolorgray .95 TeXcolorgray 1081 2453
V .95 TeXcolorgray Black 408 w FY(R)13 b FZ(correctly)c(orders)h(op)q
(erations)f(from)h(the)h(same)f(pro)q(cessor.)p .95 TeXcolorgray
Black 424 2494 a F4(\()p FV(oi)t FQ(:)p FV(pr)n(o)n(c)k
F4(=)e FV(oj)6 b FQ(:)p FV(pr)n(o)n(c)r F4(\))16 b F0(^)f
F4(\()p FV(oi)t FQ(:)p FV(idx)i FQ(<)12 b FV(oj)6 b FQ(:)p
FV(idx)f F4(\))18 b F0(\))g F4(\()p F0(h)s FV(oi)t FQ(;)c
FV(oj)c F0(i)h(2)h FV(R)r F4(\))p Black Black eop
%%Page: 192 210
192 209 bop Black 208 275 a F4(192)910 b FR(CHAPTER)14
b(11.)31 b(AD)o(V)-5 b(ANCED)14 b(EXAMPLES)p 208 282
1770 2 v Black 332 391 a F0(^)23 b(8)7 b FV(oi)16 b F0(2)11
b FV(opId)23 b F4(:)p .95 TeXcolorgray .95 TeXcolorgray
1081 487 867 132 v .95 TeXcolorgray Black 473 w FZ(F)m(or)11
b(ev)o(ery)f(completed)f(read)h FY(oi)15 b FZ(in)d FY(opId)s
FZ(,)g(there)e(is)i(no)f(write)1089 431 y FY(oj)17 b
FZ(to)11 b(the)g(same)f(address)g(that)g(\(i\))h(precedes)f
FY(oi)15 b FZ(and)1089 470 y(\(ii\))c(follo)o(ws)g(the)f(source)g(if)i
(that)e(source)g(is)i(not)e FY(InitWr)t FZ(.)p .95 TeXcolorgray
Black 424 441 a F4(\(\\)p FD(source)p F4(")j F0(2)e FP(domain)f
FV(opIdQ)t F4(\()p FV(oi)t F4(\)\))507 494 y F0(\))23
b(:)7 b F4(\()g F0(9)g FV(oj)17 b F0(2)11 b FV(go)n(o)n(dSour)n(c)n(e)s
F4(\()p FV(oi)t F4(\))20 b(:)671 547 y F0(^)14 b(h)s
FV(oj)6 b FQ(;)h FV(oi)g F0(i)12 b(2)f FV(R)671 601 y
F0(^)j F4(\()p FV(opIdQ)t F4(\()p FV(oi)t F4(\))p FQ(:)p
FV(sour)n(c)n(e)h F0(6)p F4(=)d FV(InitWr)t F4(\))18
b F0(\))796 654 y F4(\()p F0(h)s FV(opIdQ)t F4(\()p FV(oi)t
F4(\))p FQ(:)p FV(sour)n(c)n(e)s FQ(;)7 b FV(oj)j F0(i)h(2)h
FV(R)r F4(\))7 b(\))208 743 y(W)m(e)18 b(allo)o(w)f(eac)o(h)i(step)g
(to)g(extend)g FV(opOr)n(der)k F4(to)18 b(an)o(y)g(relation)g(on)h
FV(opId)k F4(that)c(satis\014es)208 793 y FV(Serializable)s
F4(.)35 b(W)m(e)20 b(do)g(this)g(b)o(y)g(letting)g(ev)o(ery)h
(subaction)f(of)f(the)i(next-state)g(action)208 843 y(sp)q(ecify)14
b FV(opOr)n(der)497 828 y FH(0)522 843 y F4(with)g(the)g(conjunct)h
FV(Up)n(dateOpOr)n(der)t F4(,)e(de\014ned)i(b)o(y)p Black
Black 332 930 a FV(Up)n(dateOpOr)n(der)659 906 y FI(\001)654
930 y F4(=)35 b F0(^)14 b FV(opOr)n(der)915 915 y FH(0)938
930 y F0(\022)e F4(\()p FV(opId)1081 915 y FH(0)1103
930 y F0(\002)d FV(opId)1227 915 y FH(0)1240 930 y F4(\))721
987 y F0(^)14 b FV(opOr)n(der)h F0(\022)d FV(opOr)n(der)1122
972 y FH(0)721 1045 y F0(^)i FV(Serializable)971 1029
y FH(0)270 1128 y F4(The)d(next-state)h(action)f(has)g(the)g(generic)h
(form)d(of)h(form)o(ula)f(\(11.3\))h(on)g(page)h(188.)16
b(W)m(e)208 1178 y(split)8 b(the)i FV(R)n(esp)n(ondT)m(oR)n(e)n(quest)
15 b F4(action)9 b(in)o(to)f(the)i(disjunction)f(of)g(separate)h
FV(R)n(esp)n(ondT)m(oWr)208 1228 y F4(and)g FV(R)n(esp)n(ondT)m(oR)n(d)
17 b F4(actions)11 b(that)g(represen)o(t)i(resp)q(onding)f(to)e(writes)
i(and)f(reads,)h(resp)q(ec-)208 1277 y(tiv)o(ely)m(.)21
b FV(R)n(esp)n(ondT)m(oR)n(d)g F4(is)16 b(the)g(most)e(complicated)g
(of)h(the)i(next-state)f(action's)f(subac-)208 1327 y(tions,)e(so)h
(let's)g(examine)e(its)i(de\014nition.)k(The)c(de\014nition)g(has)g
(the)g(form)p Black Black 332 1414 a FV(R)n(esp)n(ondT)m(oR)n(d)t
F4(\()p FV(pr)n(o)n(c)r FQ(;)h FV(r)n(e)n(g)t F4(\))812
1391 y FI(\001)807 1414 y F4(=)374 1471 y FP(let)23 b
FV(r)n(e)n(q)560 1448 y FI(\001)555 1471 y F4(=)35 b
FV(r)n(e)n(gFile)s F4([)p FV(pr)n(o)n(c)r F4(][)p FV(r)n(e)n(g)t
F4(])466 1535 y FV(idx)563 1512 y FI(\001)558 1535 y
F4(=)g FP(choose)17 b FV(i)e F0(2)d FP(domain)e FV(opQ)t
F4([)p FV(pr)n(o)n(c)r F4(])17 b(:)h FV(opQ)t F4([)p
FV(pr)n(o)n(c)r F4(][)p FV(i)t F4(])p FQ(:)p FV(r)n(e)n(g)13
b F4(=)f FV(r)n(e)n(g)374 1585 y FP(in)54 b FQ(:)7 b(:)g(:)208
1666 y F4(This)16 b(de\014nes)i FV(r)n(e)n(q)h F4(to)e(b)q(e)g(the)g
(request)h(in)e(the)h(register)h(and)e FV(idx)22 b F4(to)16
b(b)q(e)h(an)f(elemen)o(t)g(in)208 1716 y(the)e(domain)d(of)i
FV(opQ)t F4([)p FV(pr)n(o)n(c)r F4(])g(suc)o(h)i(that)e
FV(opQ)t F4([)p FV(pr)n(o)n(c)r F4(][)p FV(idx)5 b F4(])p
FQ(:)p FV(r)n(e)n(g)15 b F4(equals)f FV(r)n(e)n(g)t F4(.)j(If)c(the)i
(register)208 1766 y(is)e(not)g(free,)h(then)g(there)h(is)f(exactly)f
(one)h(suc)o(h)g(v)n(alue)f FV(idx)5 b F4(;)14 b(and)f
FV(opQ)t F4([)p FV(pr)n(o)n(c)r F4(][)p FV(idx)5 b F4(])p
FQ(:)p FV(r)n(e)n(q)t F4(,)10 b(the)208 1816 y FV(idx)266
1801 y FS(th)314 1816 y F4(request)16 b(issued)g(b)o(y)e
FV(pr)n(o)n(c)r F4(,)h(equals)f FV(r)n(e)n(q)t F4(.)20
b(\(W)m(e)14 b(don't)h(care)g(what)g FV(idx)20 b F4(equals)14
b(if)g(the)208 1866 y(register)h(is)e(free.\))19 b(The)c
FP(in)e F4(expression)j(b)q(egins)e(with)f(the)i(enabling)e(condition)p
Black Black 332 1949 a F0(^)h FV(r)n(e)n(q)t FQ(:)p FV(op)f
F4(=)f(\\)p FD(Rd)p F4(")208 2032 y(whic)o(h)k(asserts)h(that)g(the)f
(register)i(is)e(not)g(free)h(and)f(it)f(con)o(tains)i(a)e(read)i
(request.)26 b(The)208 2081 y(next)14 b(conjunct)g(of)g(the)g
FP(in)g F4(expression)h(is)p Black Black 332 2164 a F0(^)f(9)7
b FV(sr)n(c)13 b F0(2)e FV(go)n(o)n(dSour)n(c)n(e)s F4(\([)p
FV(pr)n(o)n(c)j F0(7!)d FV(pr)n(o)n(c)r FQ(;)c FV(idx)17
b F0(7!)11 b FV(idx)5 b F4(]\))18 b(:)415 2221 y FP(let)23
b FV(val)602 2198 y FI(\001)597 2221 y F4(=)35 b FP(if)23
b FV(sr)n(c)13 b F4(=)f FV(InitWr)26 b FP(then)e FV(InitMem)s
F4([)p FV(r)n(e)n(q)t FQ(:)p FV(adr)t F4(])982 2271 y
FP(else)36 b FV(opIdQ)t F4(\()p FV(sr)n(c)r F4(\))p FQ(:)p
FV(r)n(e)n(q)t FQ(:)p FV(val)415 2332 y FP(in)54 b FQ(:)7
b(:)g(:)208 2414 y F4(It)19 b(asserts)h(the)g(existence)h(of)d(a)h(v)n
(alue)f FV(sr)n(c)r F4(,)i(whic)o(h)f(will)e(b)q(e)j(the)f(source)i(of)
d(the)i(v)n(alue)208 2463 y(returned)e(b)o(y)e(the)h(read;)h(and)e(it)h
(de\014nes)h FV(val)i F4(to)d(b)q(e)g(that)f(v)n(alue.)26
b(If)16 b(the)h(source)h(is)e(the)208 2513 y(initial)10
b(con)o(ten)o(ts)k(of)e(memory)m(,)e(then)j(the)g(v)n(alue)f(is)h
(obtained)g(from)d FV(InitMem)s F4(;)j(otherwise,)p Black
Black eop
%%Page: 193 211
193 210 bop Black 208 275 a FR(11.2.)30 b(OTHER)14 b(MEMOR)m(Y)g
(SPECIFICA)m(TIONS)860 b F4(193)p 208 282 1770 2 v Black
208 391 a(it)15 b(is)i(obtained)f(from)e(the)j(source)h(request's)g
FV(val)i F4(\014eld.)26 b(The)16 b(inner)h FP(in)f F4(expression)i(has)
208 441 y(t)o(w)o(o)d(conjuncts)i(that)f(sp)q(ecify)g(the)h(v)n(alues)e
(of)g FV(r)n(e)n(gFile)1080 426 y FH(0)1107 441 y F4(and)h
FV(opQ)1268 426 y FH(0)1279 441 y F4(.)24 b(The)17 b(\014rst)f
(conjunct)208 491 y(asserts)g(that)e(the)h(register's)h
FV(val)i F4(\014eld)d(is)f(set)i(to)e FV(val)19 b F4(and)14
b(its)g FV(op)k F4(\014eld)c(is)h(set)g(to)f(\\)p FD(F)o(ree)p
F4(",)208 541 y(indicating)e(that)i(the)h(register)g(is)f(made)e(free.)
p Black Black 332 624 a F0(^)i FV(r)n(e)n(gFile)499 609
y FH(0)521 624 y F4(=)e([)p FV(r)n(e)n(gFile)17 b FP(ex)o(cept)i
F4(!)s([)p FV(pr)n(o)n(c)r F4(][)p FV(r)n(e)n(g)t F4(])p
FQ(:)p FV(val)24 b F4(=)g FV(val)t FQ(;)878 674 y F4(!)s([)p
FV(pr)n(o)n(c)r F4(][)p FV(r)n(e)n(g)t F4(])p FQ(:)p
FV(op)33 b F4(=)24 b(\\)p FD(F)o(ree)p F4("])208 766
y(The)13 b(second)i(conjunct)f(of)f(the)h(inner)g FP(in)f
F4(expression)i(describ)q(es)h(the)e(new)g(v)n(alue)e(of)h
FV(opQ)t F4(.)208 816 y(Only)h(the)g FV(idx)440 801 y
FS(th)488 816 y F4(elemen)o(t)g(of)g FV(opQ)t F4([)p
FV(pr)n(o)n(c)r F4(])f(is)h(c)o(hanged.)20 b(It)14 b(is)g(set)h(to)g(a)
f(record)h(whose)g FV(r)n(e)n(q)208 866 y F4(\014eld)f(is)g(the)h(same)
f(as)g(the)h(original)e(request)j FV(r)n(e)n(q)t F4(,)d(except)j(that)e
(its)h FV(val)j F4(\014eld)d(is)f(equal)g(to)208 916
y FV(val)t F4(;)f(whose)i FV(r)n(e)n(g)i F4(\014eld)c(equals)h
FV(Done)s F4(;)h(and)f(whose)g FV(sour)n(c)n(e)j F4(\014eld)d(equals)g
FV(sr)n(c)r F4(.)p Black Black 332 999 a F0(^)g FV(opQ)452
984 y FH(0)475 999 y F4(=)e([)p FV(opQ)19 b FP(ex)o(cept)575
1049 y F4(!)s([)p FV(pr)n(o)n(c)r F4(][)p FV(idx)5 b
F4(])17 b(=)i([)p FV(r)n(e)n(q)86 b F0(7!)22 b F4([)p
FV(r)n(e)n(q)c FP(ex)o(cept)i F4(!)s FQ(:)p FV(val)15
b F4(=)d FV(val)t F4(])p FQ(;)853 1098 y FV(r)n(e)n(g)86
b F0(7!)22 b FV(Done)s FQ(;)853 1148 y FV(sour)n(c)n(e)k
F0(7!)c FV(sr)n(c)r F4(])7 b(])208 1229 y(Finally)m(,)k(the)j(outer)h
FP(in)f F4(clause)g(ends)h(with)f(the)g(conjunct)p Black
Black 332 1312 a F0(^)g FV(Up)n(dateOpOr)n(der)208 1395
y F4(that)e(determines)g(the)h(v)n(alue)e(of)g FV(opOr)n(der)876
1380 y FH(0)888 1395 y F4(.)17 b(It)12 b(also)g(implicitly)d
(determines)j(the)h(p)q(ossible)208 1445 y(c)o(hoices)k(of)g(the)g
(source)i(of)d(the)i(read|that)f(is,)g(the)h(v)n(alue)e(of)h
FV(opQ)1315 1430 y FH(0)1326 1445 y F4([)p FV(pr)n(o)n(c)r
F4(][)p FV(idx)5 b F4(])p FQ(:)p FV(sour)n(c)n(e)s F4(.)208
1495 y(F)m(or)10 b(some)g(c)o(hoices)h(of)g(this)f(v)n(alue)h(allo)o(w)
o(ed)e(b)o(y)i(the)g(second)h(outer)f(conjunct,)h(there)g(will)d(b)q(e)
208 1545 y(no)14 b(v)n(alue)f(of)h FV(opOr)n(der)573
1530 y FH(0)598 1545 y F4(satisfying)g FV(Up)n(dateOpOr)n(der)t
F4(.)19 b(The)14 b(conjunct)h FV(Up)n(dateOpOr)n(der)208
1595 y F4(rules)f(out)g(those)g(c)o(hoices)h(for)f(the)g(source.)270
1644 y(The)20 b(de\014nitions)g(of)f(the)h(other)h(subactions)f
FV(IssueR)n(e)n(quest)t F4(,)h FV(R)n(esp)n(ondT)m(oWr)t
F4(,)h(and)208 1694 y FV(Internal)c F4(of)13 b(the)h(next-state)h
(action)f(are)g(simpler,)e(and)i(I)g(w)o(on't)f(explain)g(them.)270
1744 y(Ha)o(ving)c(\014nished)h(the)h(initial)d(predicate)j(and)e(the)i
(next-state)g(action,)f(w)o(e)g(m)o(ust)f(deter-)208
1794 y(mine)e(the)j(liv)o(eness)g(conditions.)16 b(The)10
b(\014rst)g(condition)f(is)g(that)g(the)h(memory)d(m)o(ust)h(ev)o(en)o
(tu-)208 1844 y(ally)i(resp)q(ond)j(to)e(ev)o(ery)i(op)q(eration.)k
(The)12 b(resp)q(onse)i(to)d(a)h(request)h(in)e(register)i
FV(r)n(e)n(g)i F4(of)c(pro-)208 1894 y(cessor)g FV(pr)n(o)n(c)i
F4(is)d(pro)q(duced)h(b)o(y)f(a)g FV(R)n(esp)n(ondT)m(oWr)t
F4(\()p FV(pr)n(o)n(c)r FQ(;)d FV(r)n(e)n(g)t F4(\))j(or)g
FV(R)n(esp)n(ondT)m(oR)n(d)t F4(\()p FV(pr)n(o)n(c)r
FQ(;)d FV(r)n(e)n(g)t F4(\))208 1943 y(action.)17 b(So,)c(the)i(ob)o
(vious)e(w)o(a)o(y)g(to)h(express)i(this)e(condition)f(is)p
Black Black 332 2026 a F0(8)7 b FV(pr)n(o)n(c)14 b F0(2)d
FV(Pr)n(o)n(c)r FQ(;)i FV(r)n(e)n(g)i F0(2)c FV(R)n(e)n(g)23
b F4(:)374 2080 y(WF)443 2087 y FH(h)s Fy(:::)s FH(i)508
2080 y F4(\()p FV(R)n(esp)n(ondT)m(oWr)t F4(\()p FV(pr)n(o)n(c)r
FQ(;)15 b FV(r)n(e)n(g)t F4(\))g F0(_)h FV(R)n(esp)n(ondT)m(oR)n(d)t
F4(\()p FV(pr)n(o)n(c)r FQ(;)f FV(r)n(e)n(g)t F4(\)\))208
2180 y(F)m(or)22 b(this)g(fairness)h(condition)f(to)g(imply)e(that)j
(the)g(resp)q(onse)h(is)f(ev)o(en)o(tually)f(issued,)208
2230 y(a)e FV(R)n(esp)n(ondT)m(oWr)t F4(\()p FV(pr)n(o)n(c)r
FQ(;)15 b FV(r)n(e)n(g)t F4(\))20 b(or)h FV(R)n(esp)n(ondT)m(oR)n(d)t
F4(\()p FV(pr)n(o)n(c)r FQ(;)15 b FV(r)n(e)n(g)t F4(\))20
b(step)i(m)o(ust)e(b)q(e)i(enabled)208 2279 y(whenev)o(er)14
b(there)h(is)e(an)h(uncompleted)f(op)q(eration)g(in)g
FV(pr)n(o)n(c)r F4('s)g(register)i FV(r)n(e)n(g)t F4(.)i(It)c(isn't)g
(com-)208 2329 y(pletely)i(ob)o(vious)f(that)i(a)f FV(R)n(esp)n(ondT)m
(oR)n(d)t F4(\()p FV(pr)n(o)n(c)r FQ(;)g FV(r)n(e)n(g)t
F4(\))f(step)j(is)e(enabled)h(when)f(there)i(is)e(a)208
2379 y(read)k(op)q(eration)g(in)f(the)i(register,)g(since)g(the)g(step)
g(is)e(enabled)i(only)e(if)g(there)i(exist)f(a)208 2429
y(source)e(for)f(the)h(read)f(and)g(a)g(v)n(alue)g(of)f
FV(opOr)n(der)1002 2414 y FH(0)1030 2429 y F4(that)h(satisfy)g
FV(Serializable)1462 2414 y FH(0)1473 2429 y F4(.)25
b(The)16 b(re-)208 2479 y(quired)g(source)i(and)f(v)n(alue)f(do)g
(exist)h(b)q(ecause)i FV(Serializable)s F4(,)d(whic)o(h)g(holds)h(in)f
(the)h(\014rst)p Black Black eop
%%Page: 194 212
194 211 bop Black 208 275 a F4(194)910 b FR(CHAPTER)14
b(11.)31 b(AD)o(V)-5 b(ANCED)14 b(EXAMPLES)p 208 282
1770 2 v Black 208 391 a F4(state)i(of)g(the)g(step,)h(implies)d(the)j
(existence)g(of)f(a)f(correct)j(total)d(order)i(of)e(all)g(the)h(op)q
(er-)208 441 y(ations;)f(this)g(order)h(can)g(b)q(e)g(used)g(to)g(c)o
(ho)q(ose)g(a)f(source)i(and)e(a)g(relation)g FV(opOr)n(der)1543
426 y FH(0)1570 441 y F4(that)208 491 y(satisfy)e FV(Serializability)
587 476 y FH(0)597 491 y F4(.)270 541 y(The)f(second)h(liv)o(eness)f
(condition)f(asserts)j(that)e(the)g(memory)d(m)o(ust)i(ev)o(en)o
(tually)g(com-)208 591 y(mit)16 b(to)i(an)g(ordering)h(for)f(ev)o(ery)h
(pair)f(of)g(op)q(erations.)32 b(It)18 b(is)g(expressed)j(as)d(a)g
(fairness)208 640 y(condition,)11 b(for)h(ev)o(ery)h(pair)f(of)f
(distinct)i(op)q(erations)f FV(oi)17 b F4(and)12 b FV(oj)18
b F4(in)12 b FV(opId)t F4(,)h(on)f(an)g FV(Internal)208
690 y F4(action)i(that)h(mak)o(es)f FV(oi)19 b F4(either)d(precede)h
(or)d(follo)o(w)f FV(oj)21 b F4(in)14 b(the)i(order)g
FV(opOr)n(der)1484 675 y FH(0)1495 690 y F4(.)21 b(A)15
b(\014rst)208 740 y(attempt)e(at)g(this)h(condition)g(is)p
Black Black 332 822 a F0(8)7 b FV(oi)t FQ(;)14 b FV(oj)j
F0(2)11 b FV(opId)24 b F4(:)363 875 y(\()p FV(oi)16 b
F0(6)p F4(=)c FV(oj)6 b F4(\))18 b F0(\))g F4(WF)677
882 y FH(h)s Fy(:::)s FH(i)741 875 y F4(\()7 b F0(^)14
b FV(Internal)764 929 y F0(^)g F4(\()p F0(h)s FV(oi)t
FQ(;)7 b FV(oj)j F0(i)h(2)h FV(opOr)n(der)1161 914 y
FH(0)1172 929 y F4(\))k F0(_)g F4(\()p F0(h)s FV(oj)6
b FQ(;)h FV(oi)h F0(i)k(2)f FV(opOr)n(der)1603 914 y
FH(0)1614 929 y F4(\)\))p Black 208 822 a(\(11.5\))p
Black 208 1009 a(Ho)o(w)o(ev)o(er,)18 b(this)g(isn't)g(correct.)32
b(In)18 b(general,)h(a)e(form)o(ula)f F0(8)7 b FV(x)16
b F0(2)c FV(S)h F4(:)7 b FV(F)24 b F4(is)18 b(equiv)n(alen)o(t)f(to)208
1059 y F0(8)7 b FV(x)13 b F4(:)7 b(\()p FV(x)17 b F0(2)12
b FV(S)5 b F4(\))12 b F0(\))f FV(F)5 b F4(.)18 b(Hence,)13
b(\(11.5\))e(is)g(equiv)n(alen)o(t)h(to)f(the)i(assertion)f(that)g(the)
g(follo)o(wing)208 1109 y(form)o(ula)f(holds,)i(for)h(all)e(constan)o
(t)j(v)n(alues)e FV(oi)18 b F4(and)c FV(oj)6 b F4(:)p
Black Black 332 1191 a(\()p FV(oi)16 b F0(2)11 b FV(opId)t
F4(\))17 b F0(^)f F4(\()p FV(oj)i F0(2)11 b FV(opId)t
F4(\))24 b F0(\))415 1219 y FF(0)415 1292 y(B)415 1317
y(B)415 1344 y(@)p Black -90 x F4(\()p FV(oi)16 b F0(6)p
F4(=)c FV(oj)6 b F4(\))19 b F0(\))534 1307 y F4(WF)604
1314 y FH(h)s Fy(:::)s FH(i)668 1307 y F4(\()7 b F0(^)14
b FV(Internal)691 1360 y F0(^)g F4(\()p F0(h)s FV(oi)t
FQ(;)7 b FV(oj)j F0(i)h(2)h FV(opOr)n(der)1088 1345 y
FH(0)1099 1360 y F4(\))k F0(_)g F4(\()p F0(h)s FV(oj)6
b FQ(;)h FV(oi)h F0(i)k(2)f FV(opOr)n(der)1530 1345 y
FH(0)1542 1360 y F4(\)\))p Black -141 x FF(1)1574 1292
y(C)1574 1317 y(C)1574 1344 y(A)208 1482 y F4(In)16 b(a)f(temp)q(oral)g
(form)o(ula,)e(a)j(predicate)h(with)f(no)f(temp)q(oral)g(op)q(erators)i
(is)e(an)h(assertion)208 1532 y(ab)q(out)e(the)i(initial)c(state.)22
b(Hence,)16 b(\(11.5\))e(asserts)i(that)f(the)g(fairness)g(condition)f
(is)h(true)208 1582 y(for)g(all)f(pairs)i(of)f(distinct)h(v)n(alues)g
FV(oi)j F4(and)d FV(oj)22 b F4(in)15 b(the)h(initial)e(v)n(alue)h(of)g
FV(opId)t F4(.)25 b(But)16 b FV(opId)208 1632 y F4(is)f(initially)d
(empt)o(y)m(,)i(so)h(this)h(condition)e(is)h(v)n(acuously)g(true.)23
b(Hence,)16 b(\(11.5\))f(is)g(trivially)208 1681 y(implied)c(b)o(y)j
(the)g(initial)e(predicate.)19 b(W)m(e)14 b(m)o(ust)f(instead)h(assert)
h(fairness)f(for)g(the)g(action)p Black Black 332 1764
a F0(^)g F4(\()p FV(oi)h F0(2)d FV(opId)t F4(\))e F0(^)f
F4(\()p FV(oj)17 b F0(2)12 b FV(opId)t F4(\))332 1814
y F0(^)i FV(Internal)332 1863 y F0(^)g F4(\()p F0(h)s
FV(oi)t FQ(;)7 b FV(oj)i F0(i)j(2)f FV(opOr)n(der)728
1848 y FH(0)740 1863 y F4(\))16 b F0(_)g F4(\()p F0(h)s
FV(oj)6 b FQ(;)h FV(oi)h F0(i)j(2)h FV(opOr)n(der)1171
1848 y FH(0)1182 1863 y F4(\)\))p Black 208 1764 a(\(11.6\))p
Black 208 1944 a(for)j(all)f(distinct)i(v)n(alues)f FV(oi)k
F4(and)d FV(oj)6 b F4(.)22 b(It)16 b(su\016ces)h(to)e(assert)i(this)e
(only)g(for)g FV(oi)20 b F4(and)15 b FV(oj)21 b F4(of)208
1994 y(the)11 b(righ)o(t)g(t)o(yp)q(e.)18 b(Since)12
b(it's)e(b)q(est)j(to)e(use)h(b)q(ounded)g(quan)o(ti\014ers)g(whenev)o
(er)g(p)q(ossible,)g(let's)208 2043 y(write)i(this)g(condition)f(as)p
Black Black 332 2126 a F0(8)7 b FV(oi)t FQ(;)14 b FV(oj)j
F0(2)11 b F4([)p FV(pr)n(o)n(c)f F4(:)e FV(Pr)n(o)n(c)r
FQ(;)18 b FV(idx)13 b F4(:)8 b FV(Nat)t F4(])17 b(:)p
.95 TeXcolorgray .95 TeXcolorgray 996 2146 600 57 v .95
TeXcolorgray Black 60 w FZ(All)12 b(op)q(erations)c(are)j(ev)o(en)o
(tually)e(ordered.)p .95 TeXcolorgray Black 374 2187
a F4(\()p FV(oi)15 b F0(6)p F4(=)d FV(oj)6 b F4(\))19
b F0(\))f F4(WF)688 2194 y FH(h)s Fy(:::)r FH(i)752 2187
y F4(\()p F0(^)13 b F4(\()p FV(oi)j F0(2)11 b FV(opId)t
F4(\))g F0(^)e F4(\()p FV(oj)17 b F0(2)11 b FV(opId)t
F4(\))768 2237 y F0(^)i FV(Internal)768 2287 y F0(^)g
F4(\()p F0(h)s FV(oi)t FQ(;)7 b FV(oj)j F0(i)i(2)f FV(opOr)n(der)1164
2272 y FH(0)1176 2287 y F4(\))16 b F0(_)g F4(\()p F0(h)s
FV(oj)6 b FQ(;)h FV(oi)g F0(i)12 b(2)f FV(opOr)n(der)1606
2272 y FH(0)1618 2287 y F4(\)\))208 2367 y(F)m(or)17
b(this)i(form)o(ula)d(to)i(imply)e(that)i(an)o(y)g(t)o(w)o(o)g(op)q
(erations)g(are)h(ev)o(en)o(tually)f(ordered)h(b)o(y)208
2417 y FV(opOr)n(der)t F4(,)d(action)f(\(11.6\))g(m)o(ust)g(b)q(e)i
(enabled)f(if)g FV(oi)k F4(and)c FV(oj)22 b F4(are)16
b(unordered)i(op)q(erations)208 2467 y(in)13 b FV(opId)t
F4(.)20 b(It)14 b(is,)g(b)q(ecause)i FV(Serializable)g
F4(is)e(alw)o(a)o(ys)f(enabled,)h(so)h(it)e(is)h(alw)o(a)o(ys)g(p)q
(ossible)g(to)208 2517 y(extend)g FV(opOr)n(der)k F4(to)c(a)g(total)f
(order)h(of)g(all)e(issued)j(op)q(erations.)p Black Black
eop
%%Page: 195 213
195 212 bop Black 208 275 a FR(11.2.)30 b(OTHER)14 b(MEMOR)m(Y)g
(SPECIFICA)m(TIONS)860 b F4(195)p 208 282 1770 2 v Black
270 391 a(The)10 b(complete)g(inner)g(sp)q(eci\014cation,)h(with)f
FV(InitMem)s F4(,)g FV(opQ)t F4(,)h(and)e FV(opOr)n(der)14
b F4(visible,)c(is)208 441 y(in)j(mo)q(dule)g FV(InnerSerial)k
F4(on)d(pages)g(196{198.)j(I)d(ha)o(v)o(e)f(made)g(t)o(w)o(o)h(minor)e
(mo)q(di\014cations)208 491 y(to)18 b(allo)o(w)g(the)h(sp)q
(eci\014cation)h(to)f(b)q(e)h(c)o(hec)o(k)o(ed)g(b)o(y)f(the)h(TLC)f
(mo)q(del)e(c)o(hec)o(k)o(er.)35 b(\(Chap-)208 541 y(ter)17
b(14)e(describ)q(es)k(TLC)d(and)g(explains)g(wh)o(y)g(these)h(c)o
(hanges)g(are)g(needed.\))26 b(Instead)17 b(of)208 591
y(the)g(de\014nition)f(of)h FV(opId)k F4(giv)o(en)c(on)f(page)h(189,)f
(the)i(sp)q(eci\014cation)f(uses)h(the)g(equiv)n(alen)o(t)208
640 y(de\014nition)p Black Black 332 723 a FV(opId)455
700 y FI(\001)451 723 y F4(=)35 b FP(union)16 b F0(f)7
b F4([)p FV(pr)n(o)n(c)20 b F4(:)e FV(p)s FQ(;)g FV(idx)24
b F4(:)18 b FP(domain)10 b FV(opQ)t F4([)p FV(p)s F4(])d(])17
b(:)h FV(p)c F0(2)d FV(Pr)n(o)n(c)r F0(g)208 806 y F4(In)i(the)i
(de\014nition)e(of)h FV(Up)n(dateOpOr)n(der)t F4(,)f(the)h(\014rst)h
(conjunct)g(is)e(c)o(hanged)i(from)p Black Black 332
889 a FV(opOr)n(der)484 871 y FH(0)507 889 y F0(\022)d
FV(opId)634 871 y FH(0)656 889 y F0(\002)d FV(opId)780
871 y FH(0)208 977 y F4(to)k(the)i(equiv)n(alen)o(t)p
Black Black 332 1060 a FV(opOr)n(der)484 1042 y FH(0)507
1060 y F0(2)c FP(subset)f F4(\()p FV(opId)790 1042 y
FH(0)812 1060 y F0(\002)f FV(opId)936 1042 y FH(0)949
1060 y F4(\))208 1148 y(F)m(or)j(TLC's)g(b)q(ene\014t,)h(I)g(also)f
(ordered)h(the)h(conjuncts)f(of)f(all)f(actions)i(so)f
FV(Up)n(dateOpOr)n(der)208 1198 y F4(follo)o(ws)h(the)j(\\assignmen)o
(t)d(of)i(a)g(v)n(alue)f(to")h FV(opQ)997 1183 y FH(0)1008
1198 y F4(.)22 b(This)15 b(resulted)h(in)f(the)g FP(unchanged)208
1247 y F4(conjunct)f(not)g(b)q(eing)g(the)g(last)g(one)g(in)f(action)h
FV(Internal)t F4(.)270 1297 y(The)g(complete)g(sp)q(eci\014cation)h(is)
f(written,)g(as)h(usual,)e(with)h(a)g(parametrized)g(instan-)208
1347 y(tiation)e(of)h FV(InnerSerial)18 b F4(to)c(hide)g(the)g(constan)
o(t)h FV(InitMem)i F4(and)d(the)g(v)n(ariables)f FV(opQ)18
b F4(and)208 1397 y FV(opOr)n(der)t F4(:)p Black Black
Black Black 312 1496 2 25 v 314 1473 449 2 v 777 1480
a FP(module)d FV(SerialMemory)p 1215 1473 V 1664 1496
2 25 v 332 1554 a FP(extends)h FV(R)n(e)n(gisterInterfac)n(e)332
1623 y(Inner)t F4(\()p FV(InitMem)s FQ(;)7 b FV(opQ)t
FQ(;)g FV(opOr)n(der)t F4(\))934 1600 y FI(\001)929 1623
y F4(=)35 b FP(inst)m(ance)16 b FV(InnerSerial)332 1692
y(Sp)n(e)n(c)452 1669 y FI(\001)448 1692 y F4(=)34 b
F0(9)7 b FV(InitMem)15 b F0(2)c F4([)p FV(A)n(dr)k F0(!)c
FV(V)m(al)t F4(])18 b(:)557 1748 y F0(9)-22 b(9)g(9)557
1750 y(9)g(9)g(9)7 b FV(opQ)t FQ(;)g FV(opOr)n(der)22
b F4(:)c FV(Inner)t F4(\()p FV(InitMem)s FQ(;)7 b FV(opQ)t
FQ(;)g FV(opOr)n(der)t F4(\))s(!)s FV(Sp)n(e)n(c)p 312
1787 V 314 1787 1350 2 v 1664 1787 2 25 v 208 1965 a
F3(11.2.4)65 b(A)22 b(Sequen)n(tially)k(Consisten)n(t)c(Memory)208
2056 y F4(The)17 b(serial)h(memory)d(sp)q(eci\014cation)j(do)q(es)g
(not)g(allo)o(w)d(the)k(memory)c(to)i(predict)h(future)208
2105 y(requests.)g(W)m(e)10 b(no)o(w)g(remo)o(v)o(e)f(this)h
(restriction)h(and)f(sp)q(ecify)g(what)g(is)g(called)g(a)g
FV(se)n(quential)r(ly)208 2155 y(c)n(onsistent)16 b F4(memory)m(.)f
(The)d(freedom)g(to)g(predict)h(the)g(future)g(can't)g(b)q(e)g(used)g
(b)o(y)f(an)o(y)g(real)208 2205 y(implem)o(en)o(tation,)505
2190 y FS(4)542 2205 y F4(so)21 b(there's)g(little)f(practical)g
(di\013erence)i(b)q(et)o(w)o(een)g(a)e(serial)g(and)g(a)208
2255 y(sequen)o(tially)c(consisten)o(t)i(memory)m(.)24
b(Ho)o(w)o(ev)o(er,)18 b(the)f(sequen)o(tially)f(consisten)o(t)i
(memory)208 2305 y(has)c(a)f(simpler)g(sp)q(eci\014cation.)19
b(This)13 b(sp)q(eci\014cation)i(is)f(surprising)g(and)g(instructiv)o
(e.)270 2354 y(The)j(next-state)g(action)f(of)g(the)h(sequen)o(tial)g
(memory)d(sp)q(eci\014cation)j(has)g(the)g(same)208 2404
y(structure)f(as)e(that)h(of)f(the)h(serial)f(memory)e(sp)q
(eci\014cation,)i(with)g(actions)h FV(IssueR)n(e)n(quest)t
F4(,)p Black 208 2439 576 2 v 254 2466 a FK(4)271 2477
y FZ(The)9 b(freedom)e(to)h(c)o(hange)f(explanations)o(,)g(whic)o(h)h
(a)h(sequen)o(tially)d(consisten)o(t)g(memory)h(allo)o(ws,)i(could)208
2517 y(conceiv)n(abl)o(y)g(b)q(e)i(used)f(to)h(p)q(ermit)f(a)i(more)e
(e\016cien)o(t)g(implemen)o(tat)o(ion)o(,)f(but)i(it's)g(not)f(easy)h
(to)g(see)g(ho)o(w.)p Black Black Black eop
%%Page: 196 214
196 213 bop Black 208 275 a F4(196)910 b FR(CHAPTER)14
b(11.)31 b(AD)o(V)-5 b(ANCED)14 b(EXAMPLES)p 208 282
1770 2 v Black Black Black Black 188 467 2 25 v 190 444
700 2 v 904 451 a FP(module)i FV(InnerSerial)p 1295 444
V 1995 467 2 25 v 208 510 a FP(extends)g FV(R)n(e)n(gisterInterfac)n(e)
s FQ(;)h FV(Natur)n(als)s FQ(;)h FV(Se)n(quenc)n(es)s
FQ(;)h FV(FiniteSets)208 589 y FP(const)m(ant)d FV(InitMem)p
.95 TeXcolorgray .95 TeXcolorgray 609 609 1167 57 v .95
TeXcolorgray Black 46 w FZ(The)11 b(initial)f(con)o(ten)o(ts)f(of)j
(memory)m(,)d(whic)o(h)i(will)g(b)q(e)g(an)g(elemen)o(t)f(of)h([)p
FY(Pr)n(o)n(c)h FW(!)f FY(A)n(dr)t FZ(].)p .95 TeXcolorgray
Black 208 668 a FP(v)l(ariable)17 b FV(opQ)t FQ(;)p .95
TeXcolorgray .95 TeXcolorgray 590 688 822 64 v .95 TeXcolorgray
Black 106 w FY(opQ)s FZ([)p FY(p)r FZ(][)p FY(i)s FZ(])12
b(is)g(the)f FY(i)861 656 y FZ(th)908 668 y(op)q(eration)e(issued)h(b)o
(y)h(pro)q(cessor)e FY(p)r FZ(.)p .95 TeXcolorgray Black
402 730 a FV(opOr)n(der)p .95 TeXcolorgray .95 TeXcolorgray
590 750 1296 57 v .95 TeXcolorgray Black 48 w FZ(The)j(order)e(of)h(op)
q(erations,)e(whic)o(h)i(is)g(a)h(subset)e(of)h FY(opId)g
FW(\002)e FY(opId)s FZ(.)16 b(\()p FY(opId)f FZ(is)c(de\014ned)f(b)q
(elo)o(w\).)p .95 TeXcolorgray Black 188 778 2 25 v 190
767 1806 2 v 1996 778 2 25 v 208 824 a FV(opId)331 800
y FI(\001)326 824 y F4(=)35 b FP(union)17 b F0(f)7 b
F4([)p FV(pr)n(o)n(c)20 b F4(:)e F0(f)p FV(p)s F0(g)p
FQ(;)f FV(idx)24 b F4(:)18 b FP(domain)10 b FV(opQ)t
F4([)p FV(p)s F4(])d(])17 b(:)h FV(p)c F0(2)d FV(Pr)n(o)n(c)r
F0(g)208 881 y FV(opIdQ)t F4(\()p FV(oi)t F4(\))433 857
y FI(\001)428 881 y F4(=)35 b FV(opQ)t F4([)p FV(oi)t
FQ(:)p FV(pr)n(o)n(c)r F4(][)p FV(oi)t FQ(:)p FV(idx)5
b F4(])p .95 TeXcolorgray .95 TeXcolorgray 1473 878 495
91 v .95 TeXcolorgray Black 1482 824 a FZ([)p FY(pr)n(o)n(c)15
b FW(7!)d FY(p)r Fw(;)g FY(idx)17 b FW(7!)c FY(i)s FZ(])f(iden)o
(ti\014es)1482 863 y(op)q(eration)c FY(i)15 b FZ(of)d(pro)q(cessor)d
FY(p)r FZ(.)p .95 TeXcolorgray Black 208 967 a FV(InitWr)376
943 y FI(\001)371 967 y F4(=)35 b FP(choose)17 b FV(v)23
b F4(:)18 b FV(v)j FQ(=)-26 b F0(2)11 b F4([)p FV(pr)n(o)n(c)20
b F4(:)e FV(Pr)n(o)n(c)r FQ(;)g FV(idx)24 b F4(:)18 b
FV(Nat)t F4(])p .95 TeXcolorgray .95 TeXcolorgray 1218
987 628 57 v .95 TeXcolorgray Black 42 w FZ(The)11 b(source)f(for)h(an)
g(initial)f(memory)f(v)n(alue.)p .95 TeXcolorgray Black
208 1036 a FV(Done)345 1012 y FI(\001)340 1036 y F4(=)35
b FP(choose)17 b FV(v)23 b F4(:)18 b FV(v)i FQ(=)-25
b F0(2)11 b FV(R)n(e)n(g)p .95 TeXcolorgray .95 TeXcolorgray
816 1056 724 57 v .95 TeXcolorgray Black 46 w FZ(The)h
FY(r)n(e)n(g)k FZ(\014eld)10 b(v)n(alue)g(for)h(a)h(completed)c(op)q
(eration.)p .95 TeXcolorgray Black 208 1122 a FV(opV)m(al)353
1098 y FI(\001)348 1122 y F4(=)p .95 TeXcolorgray .95
TeXcolorgray 428 1142 448 57 v .95 TeXcolorgray Black
56 w FZ(P)o(ossible)j(v)n(alues)f(of)h FY(opQ)s FZ([)p
FY(p)r FZ(][)p FY(i)s FZ(].)p .95 TeXcolorgray Black
301 1184 a F4([)p FV(r)n(e)n(q)21 b F4(:)d FV(R)n(e)n(quest)t
FQ(;)g FV(r)n(e)n(g)k F4(:)c FV(R)n(e)n(g)t F4(])250
1233 y F0([)23 b F4([)p FV(r)n(e)n(q)e F4(:)d FV(WrR)n(e)n(quest)t
FQ(;)g FV(r)n(e)n(g)k F4(:)c F0(f)p FV(Done)s F0(g)p
F4(])250 1283 y F0([)23 b F4([)p FV(r)n(e)n(q)e F4(:)d
FV(R)n(dR)n(e)n(quest)t FQ(;)g FV(r)n(e)n(g)k F4(:)c
F0(f)p FV(Done)s F0(g)p FQ(;)h FV(sour)n(c)n(e)i F4(:)d
FV(opId)c F0([)9 b(f)p FV(InitWr)t F0(g)p F4(])p .95
TeXcolorgray .95 TeXcolorgray 1410 1303 575 156 v .95
TeXcolorgray Black 1418 1184 a FZ(An)j(activ)o(e)e(request)g(using)g
(register)g FY(r)n(e)n(g)s FZ(.)1418 1233 y(A)j(completed)8
b(write.)1418 1283 y(A)13 b(completed)8 b(read)j(of)g
FY(sour)n(c)n(e)k FZ(v)n(alue.)p .95 TeXcolorgray Black
208 1369 a FV(go)n(o)n(dSour)n(c)n(e)s F4(\()p FV(oi)t
F4(\))517 1346 y FI(\001)513 1369 y F4(=)250 1419 y F0(f)p
FV(InitWr)t F0(g)h([)g(f)p FV(o)e F0(2)d FV(opId)23 b
F4(:)18 b F0(^)d FV(opIdQ)t F4(\()p FV(o)s F4(\))p FQ(:)p
FV(r)n(e)n(q)t FQ(:)p FV(op)e F4(=)f(\\)p FD(W)o(r)p
F4(")708 1469 y F0(^)j FV(opIdQ)t F4(\()p FV(o)s F4(\))p
FQ(:)p FV(r)n(e)n(q)t FQ(:)p FV(adr)g F4(=)c FV(opIdQ)t
F4(\()p FV(oi)t F4(\))p FQ(:)p FV(r)n(e)n(q)t FQ(:)p
FV(adr)t F0(g)p 188 1501 2 25 v 190 1490 1806 2 v 1996
1500 2 25 v 208 1538 a FV(DataInvariant)507 1515 y FI(\001)502
1538 y F4(=)250 1588 y F0(^)k FV(R)n(e)n(gFileT)m(yp)n(eInvariant)p
.95 TeXcolorgray .95 TeXcolorgray 845 1708 544 157 v
.95 TeXcolorgray Black 173 w FZ(Simple)10 b(t)o(yp)q(e)g(in)o(v)n
(arian)o(ts)f(for)i FY(r)n(e)n(gFile)r FZ(,)888 1638
y FY(opQ)s FZ(,)i(and)888 1688 y FY(opOr)n(der)t FZ(.)p
.95 TeXcolorgray Black 250 1650 a F0(^)i FV(opQ)g F0(2)c
F4([)p FV(Pr)n(o)n(c)j F0(!)d FV(Se)n(q)t F4(\()p FV(opV)m(al)t
F4(\)])250 1712 y F0(^)k FV(opOr)n(der)g F0(\022)d F4(\()p
FV(opId)i F0(\002)c FV(opId)t F4(\))250 1774 y F0(^)15
b(8)7 b FV(oi)15 b F0(2)c FV(opId)24 b F4(:)335 1824
y F0(^)14 b F4(\(\\)p FD(source)p F4(")f F0(2)e FP(domain)f
FV(opIdQ)t F4(\()p FV(oi)t F4(\)\))24 b F0(\))p .95 TeXcolorgray
.95 TeXcolorgray 1148 1878 814 91 v .95 TeXcolorgray
Black 138 w FZ(The)12 b(source)e(of)h(an)o(y)g(completed)d(read)j(is)g
(either)f FY(InitWr)1156 1863 y FZ(or)i(a)f(write)g(op)q(eration)e(to)i
(the)g(same)f(address.)p .95 TeXcolorgray Black 420 1874
a F0(^)k FV(opIdQ)t F4(\()p FV(oi)t F4(\))p FQ(:)p FV(sour)n(c)n(e)h
F0(2)d FV(go)n(o)n(dSour)n(c)n(e)s F4(\()p FV(oi)t F4(\))420
1923 y F0(^)i FV(opIdQ)t F4(\()p FV(oi)t F4(\))p FQ(:)p
FV(r)n(e)n(q)t FQ(:)p FV(val)22 b F4(=)d FP(if)k FV(opIdQ)t
F4(\()p FV(oi)t F4(\))p FQ(:)p FV(sour)n(c)n(e)15 b F4(=)d
FV(InitWr)884 1973 y FP(then)24 b FV(InitMem)s F4([)p
FV(opIdQ)t F4(\()p FV(oi)t F4(\))p FQ(:)p FV(r)n(e)n(q)t
FQ(:)p FV(adr)t F4(])884 2023 y FP(else)36 b FV(opIdQ)t
F4(\()p FV(opIdQ)t F4(\()p FV(oi)t F4(\))p FQ(:)p FV(sour)n(c)n(e)s
F4(\))p FQ(:)p FV(r)n(e)n(q)t FQ(:)p FV(val)p .95 TeXcolorgray
.95 TeXcolorgray 1612 1971 353 84 v .95 TeXcolorgray
Black 1621 1923 a FZ(A)12 b(read's)e(v)n(alue)g(comes)1621
1963 y(from)g(its)h(source.)p .95 TeXcolorgray Black
335 2085 a F0(^)j F4(\()p FV(opIdQ)t F4(\()p FV(oi)t
F4(\))p FQ(:)p FV(r)n(e)n(g)i F0(6)p F4(=)11 b FV(Done)s
F4(\))25 b F0(\))p .95 TeXcolorgray .95 TeXcolorgray
926 2105 716 57 v .95 TeXcolorgray Black 53 w FY(opQ)16
b FZ(correctly)9 b(describ)q(es)g(the)i(register)f(con)o(ten)o(ts.)p
.95 TeXcolorgray Black 420 2147 a F4(\()p FV(opIdQ)t
F4(\()p FV(oi)t F4(\))p FQ(:)p FV(r)n(e)n(q)15 b F4(=)d
FV(r)n(e)n(gFile)s F4([)p FV(oi)t FQ(:)p FV(pr)n(o)n(c)r
F4(][)p FV(opIdQ)t F4(\()p FV(oi)t F4(\))p FQ(:)p FV(r)n(e)n(g)t
F4(])o(\))250 2209 y F0(^)j(8)7 b FV(p)14 b F0(2)d FV(Pr)n(o)n(c)r
FQ(;)18 b FV(r)e F0(2)11 b FV(R)n(e)n(g)22 b F4(:)p .95
TeXcolorgray .95 TeXcolorgray 734 2229 866 57 v .95 TeXcolorgray
Black 61 w FZ(Only)11 b(nonfree)e(registers)h(ha)o(v)o(e)g(corresp)q
(onding)e FY(opQ)16 b FZ(en)o(tries.)p .95 TeXcolorgray
Black 335 2271 a FV(Car)n(dinality)t F4(\()p F0(f)p FV(i)e
F0(2)d FP(domain)f FV(opQ)t F4([)p FV(p)s F4(])18 b(:)g
FV(opQ)t F4([)p FV(p)s F4(][)p FV(i)t F4(])p FQ(:)p FV(r)n(e)n(g)12
b F4(=)g FV(r)t F0(g)p F4(\))34 b(=)377 2321 y FP(if)23
b FV(r)n(e)n(gFile)s F4([)p FV(p)s F4(][)p FV(r)t F4(])p
FQ(:)p FV(op)12 b F4(=)f(\\)p FD(F)o(ree)p F4(")23 b
FP(then)h F4(0)f FP(else)h F4(1)p Black 651 2434 a FU(Figure)14
b(11.6a:)19 b F4(Mo)q(dule)14 b FV(InnerSerial)k F4(\(b)q(eginning\).)p
Black Black Black Black eop
%%Page: 197 215
197 214 bop Black 208 275 a FR(11.2.)30 b(OTHER)14 b(MEMOR)m(Y)g
(SPECIFICA)m(TIONS)860 b F4(197)p 208 282 1770 2 v Black
Black Black Black 208 421 a FV(Init)317 398 y FI(\001)312
421 y F4(=)p .95 TeXcolorgray .95 TeXcolorgray 392 442
343 57 v .95 TeXcolorgray Black 56 w FZ(The)12 b(initial)e(predicate.)p
.95 TeXcolorgray Black 250 483 a F0(^)15 b FV(r)n(e)n(gFile)e
F0(2)e F4([)p FV(Pr)n(o)n(c)i F0(!)f F4([)p FV(R)n(e)n(g)i
F0(!)e FV(F)m(r)n(e)n(eR)n(e)n(gV)m(alue)s F4(]])250
533 y F0(^)j FV(opQ)g F4(=)d([)p FV(p)i F0(2)d FV(Pr)n(o)n(c)j
F0(7!)d(h)c(i)p F4(])250 583 y F0(^)15 b FV(opOr)n(der)g
F4(=)d F0(fg)p .95 TeXcolorgray .95 TeXcolorgray 1072
603 592 156 v .95 TeXcolorgray Black 1081 483 a FZ(Ev)o(ery)e(register)
g(is)h(free.)1081 533 y(There)g(are)f(no)h(op)q(erations)e(in)i
FY(opQ)s FZ(.)1081 583 y(The)g(order)f(relation)g FY(opOr)n(der)17
b FZ(is)11 b(empt)o(y)m(.)p .95 TeXcolorgray Black 208
669 a FV(totalOpOr)n(der)490 645 y FI(\001)485 669 y
F4(=)p .95 TeXcolorgray .95 TeXcolorgray 565 689 671
57 v .95 TeXcolorgray Black 56 w FZ(The)h(set)f(of)g(all)g(total)f
(orders)h(on)g(the)f(set)h FY(opId)s FZ(.)p .95 TeXcolorgray
Black 250 731 a F0(f)p FV(R)i F0(2)e FP(subset)f F4(\()p
FV(opId)k F0(\002)c FV(opId)t F4(\))19 b(:)292 781 y
F0(^)c(8)7 b FV(oi)t FQ(;)13 b FV(oj)18 b F0(2)11 b FV(opId)24
b F4(:)18 b(\()p FV(oi)d F4(=)d FV(oj)6 b F4(\))16 b
F0(_)g F4(\()p F0(h)s FV(oi)t FQ(;)f FV(oj)9 b F0(i)j(2)f
FV(R)r F4(\))16 b F0(_)g F4(\()p F0(h)s FV(oj)6 b FQ(;)14
b FV(oi)8 b F0(i)j(2)g FV(R)r F4(\))292 831 y F0(^)k(8)7
b FV(oi)t FQ(;)13 b FV(oj)6 b FQ(;)14 b FV(ok)i F0(2)11
b FV(opId)24 b F4(:)18 b(\()p F0(h)s FV(oi)t FQ(;)c FV(oj)9
b F0(i)j(2)f FV(R)r F4(\))16 b F0(^)g F4(\()p F0(h)s
FV(oj)6 b FQ(;)14 b FV(ok)9 b F0(i)i(2)g FV(R)r F4(\))24
b F0(\))e F4(\()p F0(h)s FV(oi)t FQ(;)14 b FV(ok)9 b
F0(i)i(2)g FV(R)r F4(\))292 880 y F0(^)k(8)7 b FV(oi)16
b F0(2)11 b FV(opId)23 b F4(:)18 b F0(h)s FV(oi)t FQ(;)c
FV(oi)8 b F0(i)16 b FQ(=)-25 b F0(2)11 b FV(R)e F0(g)208
966 y FV(Serializable)454 943 y FI(\001)449 966 y F4(=)p
.95 TeXcolorgray .95 TeXcolorgray 678 1054 1167 124 v
.95 TeXcolorgray Black 205 w FZ(Asserts)i(that)g(there)f(exists)g(a)i
(total)e(order)g FY(R)j FZ(of)e(all)g(op)q(erations)e(that)h(extends)
686 1006 y FY(opOr)n(der)t FZ(,)j(orders)d(the)h(op)q(erations)d(of)k
(eac)o(h)e(pro)q(cessor)f(correctly)m(,)g(and)i(mak)o(es)f(the)686
1045 y(source)g(of)h(eac)o(h)g(read)f(the)h(most)f(recen)o(t)g(write)h
(to)h(the)e(address.)p .95 TeXcolorgray Black 250 1028
a F0(9)d FV(R)13 b F0(2)f FV(totalOpOr)n(der)21 b F4(:)292
1078 y F0(^)15 b FV(opOr)n(der)g F0(\022)d FV(R)292 1128
y F0(^)j(8)7 b FV(oi)t FQ(;)13 b FV(oj)18 b F0(2)11 b
FV(opId)24 b F4(:)18 b(\()p FV(oi)t FQ(:)p FV(pr)n(o)n(c)13
b F4(=)f FV(oj)6 b FQ(:)p FV(pr)n(o)n(c)r F4(\))16 b
F0(^)g F4(\()p FV(oi)t FQ(:)p FV(idx)g FQ(<)c FV(oj)6
b FQ(:)p FV(idx)f F4(\))18 b F0(\))g F4(\()p F0(h)s FV(oi)t
FQ(;)d FV(oj)9 b F0(i)j(2)f FV(R)r F4(\))292 1178 y F0(^)k(8)7
b FV(oi)16 b F0(2)11 b FV(opId)23 b F4(:)18 b(\(\\)p
FD(source)p F4(")13 b F0(2)e FP(domain)f FV(opIdQ)t F4(\()p
FV(oi)t F4(\)\))24 b F0(\))629 1228 y(:)7 b F4(\()g F0(9)g
FV(oj)17 b F0(2)11 b FV(go)n(o)n(dSour)n(c)n(e)s F4(\()p
FV(oi)t F4(\))20 b(:)714 1277 y F0(^)14 b(h)s FV(oj)6
b FQ(;)h FV(oi)h F0(i)j(2)h FV(R)714 1327 y F0(^)i F4(\()p
FV(opIdQ)t F4(\()p FV(oi)t F4(\))p FQ(:)p FV(sour)n(c)n(e)h
F0(6)p F4(=)d FV(InitWr)t F4(\))19 b F0(\))f F4(\()p
F0(h)s FV(opIdQ)t F4(\()p FV(oi)t F4(\))p FQ(:)p FV(sour)n(c)n(e)s
FQ(;)7 b FV(oj)j F0(i)h(2)h FV(R)r F4(\))7 b(\))p 188
1359 2 25 v 190 1348 1806 2 v 1996 1359 2 25 v 208 1409
a FV(Up)n(dateOpOr)n(der)535 1386 y FI(\001)530 1409
y F4(=)250 1459 y F0(^)15 b FV(opOr)n(der)445 1444 y
FH(0)468 1459 y F0(2)c FP(subset)e F4(\()p FV(opId)750
1444 y FH(0)772 1459 y F0(\002)h FV(opId)897 1444 y FH(0)909
1459 y F4(\))250 1517 y F0(^)15 b FV(opOr)n(der)g F0(\022)d
FV(opOr)n(der)652 1502 y FH(0)250 1575 y F0(^)j FV(Serializable)501
1560 y FH(0)p .95 TeXcolorgray .95 TeXcolorgray 960 1542
991 169 v .95 TeXcolorgray Black 968 1409 a FZ(An)d(action)e(that)g(c)o
(ho)q(oses)g(the)h(new)g(v)n(alue)f(of)h FY(opOr)n(der)t
FZ(,)i(allo)o(wing)968 1449 y(it)e(to)g(b)q(e)g(an)o(y)g(relation)e
(that)i(equals)f(or)h(extends)f(the)g(curren)o(t)g(v)n(alue)968
1488 y(of)h FY(opOr)n(der)17 b FZ(and)11 b(satis\014es)f
FY(Serializable)r FZ(.)19 b(This)11 b(action)f(is)i(used)e(in)968
1528 y(de\014ning)f(the)i(subactions)e(of)i(the)g(next-state)e(action.)
p .95 TeXcolorgray Black 208 1674 a FV(IssueR)n(e)n(quest)t
F4(\()p FV(pr)n(o)n(c)r FQ(;)14 b FV(r)n(e)n(q)t FQ(;)e
FV(r)n(e)n(g)t F4(\))749 1650 y FI(\001)744 1674 y F4(=)p
.95 TeXcolorgray .95 TeXcolorgray 824 1694 758 57 v .95
TeXcolorgray Black 56 w FZ(Pro)q(cessor)e FY(pr)n(o)n(c)15
b FZ(issues)10 b(request)g FY(r)n(e)n(q)16 b FZ(in)11
b(register)f FY(r)n(e)n(g)s FZ(.)p .95 TeXcolorgray Black
250 1736 a F0(^)15 b FV(r)n(e)n(gFile)s F4([)p FV(pr)n(o)n(c)r
F4(][)p FV(r)n(e)n(g)s F4(])p FQ(:)p FV(op)c F4(=)h(\\)p
FD(F)o(ree)p F4(")p .95 TeXcolorgray .95 TeXcolorgray
856 1756 416 57 v .95 TeXcolorgray Black 42 w FZ(The)g(register)e(m)o
(ust)g(b)q(e)h(free.)p .95 TeXcolorgray Black 250 1798
a F0(^)k FV(r)n(e)n(gFile)418 1783 y FH(0)440 1798 y
F4(=)d([)p FV(r)n(e)n(gFile)17 b FP(ex)o(cept)i F4(!)s([)p
FV(pr)n(o)n(c)r F4(][)p FV(r)n(e)n(g)t F4(])9 b(=)j FV(r)n(e)n(q)t
F4(])p .95 TeXcolorgray .95 TeXcolorgray 1147 1818 495
57 v .95 TeXcolorgray Black 41 w FZ(Put)f(the)g(request)f(in)h(the)f
(register.)p .95 TeXcolorgray Black 250 1860 a F0(^)15
b FV(opQ)371 1845 y FH(0)394 1860 y F4(=)d([)p FV(opQ)19
b FP(ex)o(cept)g F4(!)s([)p FV(pr)n(o)n(c)r F4(])11 b(=)h
FV(App)n(end)t F4(\(@)p FQ(;)j F4([)p FV(r)n(e)n(q)f
F0(7!)d FV(r)n(e)n(q)t FQ(;)h FV(r)n(e)n(g)j F0(7!)c
FV(r)n(e)n(g)t F4(]\)])p .95 TeXcolorgray .95 TeXcolorgray
1549 1880 423 57 v .95 TeXcolorgray Black 41 w FZ(Add)g(request)f(to)h
FY(opQ)s FZ([)p FY(pr)n(o)n(c)r FZ(].)p .95 TeXcolorgray
Black 250 1922 a F0(^)k FV(Up)n(dateOpOr)n(der)208 2021
y(R)n(esp)n(ondT)m(oWr)t F4(\()p FV(pr)n(o)n(c)r FQ(;)f
FV(r)n(e)n(g)t F4(\))697 1997 y FI(\001)692 2021 y F4(=)p
.95 TeXcolorgray .95 TeXcolorgray 772 2041 1137 57 v
.95 TeXcolorgray Black 56 w FZ(The)e(memory)d(resp)q(onds)h(to)h(a)g
(write)g(request)f(in)h(pro)q(cessor)f FY(pr)n(o)n(c)r
FZ('s)i(register)e FY(r)n(e)n(g)s FZ(.)p .95 TeXcolorgray
Black 250 2083 a F0(^)15 b FV(r)n(e)n(gFile)s F4([)p
FV(pr)n(o)n(c)r F4(][)p FV(r)n(e)n(g)s F4(])p FQ(:)p
FV(op)c F4(=)h(\\)p FD(W)o(r)p F4(")p .95 TeXcolorgray
.95 TeXcolorgray 835 2103 789 57 v .95 TeXcolorgray Black
42 w FZ(The)g(register)d(m)o(ust)i(con)o(tain)e(an)i(activ)o(e)f(write)
h(request.)p .95 TeXcolorgray Black 250 2145 a F0(^)k
FV(r)n(e)n(gFile)418 2130 y FH(0)440 2145 y F4(=)d([)p
FV(r)n(e)n(gFile)17 b FP(ex)o(cept)i F4(!)s([)p FV(pr)n(o)n(c)r
F4(][)p FV(r)n(e)n(g)t F4(])p FQ(:)p FV(op)12 b F4(=)f(\\)p
FD(F)o(ree)p F4(")q(])p .95 TeXcolorgray .95 TeXcolorgray
1263 2165 336 57 v .95 TeXcolorgray Black 41 w FZ(The)h(register)e(is)h
(freed.)p .95 TeXcolorgray Black 250 2214 a F0(^)k FP(let)23
b FV(idx)482 2190 y FI(\001)477 2214 y F4(=)35 b FP(choose)17
b FV(i)e F0(2)d FP(domain)d FV(opQ)t F4([)p FV(pr)n(o)n(c)r
F4(])18 b(:)g FV(opQ)t F4([)p FV(pr)n(o)n(c)r F4(][)p
FV(i)t F4(])p FQ(:)p FV(r)n(e)n(g)13 b F4(=)f FV(r)n(e)n(g)p
.95 TeXcolorgray .95 TeXcolorgray 1585 2268 371 91 v
.95 TeXcolorgray Black 45 w FZ(The)g(appropriat)o(e)d
FY(opQ)1593 2253 y FZ(en)o(try)h(is)i(up)q(dated.)p .95
TeXcolorgray Black 293 2264 a FP(in)54 b FV(opQ)463 2249
y FH(0)486 2264 y F4(=)12 b([)p FV(opQ)19 b FP(ex)o(cept)g
F4(!)s([)p FV(pr)n(o)n(c)r F4(][)p FV(idx)5 b F4(])p
FQ(:)p FV(r)n(e)n(g)13 b F4(=)f FV(Done)s F4(])250 2326
y F0(^)j FV(Up)n(dateOpOr)n(der)p .95 TeXcolorgray .95
TeXcolorgray 614 2346 331 57 v .95 TeXcolorgray Black
46 w FY(opOr)n(der)i FZ(is)11 b(up)q(dated.)p .95 TeXcolorgray
Black Black 676 2477 a FU(Figure)k(11.6b:)j F4(Mo)q(dule)c
FV(InnerSerial)j F4(\(middle\).)p Black Black Black Black
eop
%%Page: 198 216
198 215 bop Black 208 275 a F4(198)910 b FR(CHAPTER)14
b(11.)31 b(AD)o(V)-5 b(ANCED)14 b(EXAMPLES)p 208 282
1770 2 v Black Black Black Black 208 417 a FV(R)n(esp)n(ondT)m(oR)n(d)t
F4(\()p FV(pr)n(o)n(c)r FQ(;)h FV(r)n(e)n(g)t F4(\))687
393 y FI(\001)683 417 y F4(=)p .95 TeXcolorgray .95 TeXcolorgray
762 437 1126 57 v .95 TeXcolorgray Black 56 w FZ(The)c(memory)e(resp)q
(onds)h(to)h(a)g(read)g(request)f(in)h(pro)q(cessor)e
FY(pr)n(o)n(c)r FZ('s)k(register)c FY(r)n(e)n(g)s FZ(.)p
.95 TeXcolorgray Black 250 486 a FP(let)23 b FV(r)n(e)n(q)437
462 y FI(\001)432 486 y F4(=)35 b FV(r)n(e)n(gFile)s
F4([)p FV(pr)n(o)n(c)r F4(][)p FV(r)n(e)n(g)t F4(])p
.95 TeXcolorgray .95 TeXcolorgray 835 506 1103 57 v .95
TeXcolorgray Black 39 w FY(pr)n(o)n(c)r FZ('s)12 b(register)e
FY(r)n(e)n(g)16 b FZ(con)o(tains)9 b(the)i(request)e
FY(r)n(e)n(q)s FZ(,)k(whic)o(h)e(is)h(in)f FY(opQ)s FZ([)p
FY(pr)n(o)n(c)r FZ(][)p FY(idx)t FZ(].)p .95 TeXcolorgray
Black 342 551 a FV(idx)440 527 y FI(\001)435 551 y F4(=)35
b FP(choose)16 b FV(i)g F0(2)11 b FP(domain)f FV(opQ)t
F4([)p FV(pr)n(o)n(c)r F4(])18 b(:)g FV(opQ)t F4([)p
FV(pr)n(o)n(c)r F4(][)p FV(i)t F4(])p FQ(:)p FV(r)n(e)n(g)12
b F4(=)g FV(r)n(e)n(g)250 613 y FP(in)54 b F0(^)15 b
FV(r)n(e)n(q)t FQ(:)p FV(op)e F4(=)f(\\)p FD(Rd)p F4(")p
.95 TeXcolorgray .95 TeXcolorgray 676 633 777 57 v .95
TeXcolorgray Black 42 w FZ(The)f(register)f(m)o(ust)g(con)o(tain)g(an)h
(activ)o(e)f(read)g(request.)p .95 TeXcolorgray Black
342 675 a F0(^)15 b(9)7 b FV(sr)n(c)13 b F0(2)e FV(go)n(o)n(dSour)n(c)n
(e)s F4(\([)p FV(pr)n(o)n(c)j F0(7!)d FV(pr)n(o)n(c)r
FQ(;)c FV(idx)17 b F0(7!)11 b FV(idx)5 b F4(]\))18 b(:)p
.95 TeXcolorgray .95 TeXcolorgray 1275 695 709 57 v .95
TeXcolorgray Black 60 w FZ(The)12 b(read)e(obtains)g(its)h(v)n(alue)f
(from)h(a)g(source)f FY(sr)n(c)r FZ(.)p .95 TeXcolorgray
Black 427 744 a FP(let)23 b FV(val)614 720 y FI(\001)609
744 y F4(=)35 b FP(if)23 b FV(sr)n(c)13 b F4(=)f FV(InitWr)27
b FP(then)d FV(InitMem)s F4([)p FV(r)n(e)n(q)t FQ(:)p
FV(adr)t F4(])995 793 y FP(else)36 b FV(opIdQ)t F4(\()p
FV(sr)n(c)r F4(\))p FQ(:)p FV(r)n(e)n(q)t FQ(:)p FV(val)p
.95 TeXcolorgray .95 TeXcolorgray 1486 791 371 84 v .95
TeXcolorgray Black 1494 744 a FZ(The)12 b(v)n(alue)e(returned)f(b)o(y)
1494 783 y(the)i(read.)p .95 TeXcolorgray Black 427 855
a FP(in)54 b F0(^)15 b FV(r)n(e)n(gFile)687 840 y FH(0)709
855 y F4(=)d([)p FV(r)n(e)n(gFile)17 b FP(ex)o(cept)i
F4(!)s([)p FV(pr)n(o)n(c)r F4(][)p FV(r)n(e)n(g)t F4(])p
FQ(:)p FV(val)24 b F4(=)g FV(val)t FQ(;)1066 905 y F4(!)s([)p
FV(pr)n(o)n(c)r F4(][)p FV(r)n(e)n(g)t F4(])p FQ(:)p
FV(op)33 b F4(=)24 b(\\)p FD(F)o(ree)p F4("])p .95 TeXcolorgray
.95 TeXcolorgray 1565 910 371 91 v .95 TeXcolorgray Black
1574 855 a FZ(Set)11 b(register's)e FY(val)16 b FZ(\014eld,)1574
895 y(and)10 b(free)h(the)g(register.)p .95 TeXcolorgray
Black 519 967 a F0(^)k FV(opQ)640 952 y FH(0)663 967
y F4(=)d([)p FV(opQ)19 b FP(ex)o(cept)p .95 TeXcolorgray
.95 TeXcolorgray 1005 987 638 57 v .95 TeXcolorgray Black
58 w FY(opQ)s FZ([)p FY(pr)n(o)n(c)r FZ(][)p FY(idx)t
FZ(])14 b(is)d(up)q(dated)e(appropriately)l(.)p .95 TeXcolorgray
Black 764 1029 a F4(!)s([)p FV(pr)n(o)n(c)r F4(][)p FV(idx)c
F4(])10 b(=)i([)p FV(r)n(e)n(q)86 b F0(7!)22 b F4([)p
FV(r)n(e)n(q)d FP(ex)o(cept)g F4(!)s FQ(:)p FV(val)c
F4(=)d FV(val)t F4(])p FQ(;)1028 1079 y FV(r)n(e)n(g)86
b F0(7!)22 b FV(Done)s FQ(;)1028 1129 y FV(sour)n(c)n(e)k
F0(7!)c FV(sr)n(c)r F4(])7 b(])342 1179 y F0(^)15 b FV(Up)n(dateOpOr)n
(der)p .95 TeXcolorgray .95 TeXcolorgray 707 1199 331
57 v .95 TeXcolorgray Black 46 w FY(opOr)n(der)i FZ(is)11
b(up)q(dated.)p .95 TeXcolorgray Black 208 1265 a FV(Internal)396
1241 y FI(\001)391 1265 y F4(=)35 b F0(^)15 b FP(unchanged)i
F0(h)s FV(r)n(e)n(gFile)s FQ(;)7 b FV(opQ)g F0(i)458
1314 y(^)15 b FV(Up)n(dateOpOr)n(der)208 1400 y(Next)334
1377 y FI(\001)329 1400 y F4(=)p .95 TeXcolorgray .95
TeXcolorgray 409 1420 359 57 v .95 TeXcolorgray Black
56 w FZ(The)d(next-state)d(action.)p .95 TeXcolorgray
Black 250 1462 a F0(_)15 b(9)7 b FV(pr)n(o)n(c)13 b F0(2)e
FV(Pr)n(o)n(c)r FQ(;)j FV(r)n(e)n(g)g F0(2)e FV(R)n(e)n(g)22
b F4(:)c F0(_)d(9)7 b FV(r)n(e)n(q)14 b F0(2)d FV(R)n(e)n(quest)23
b F4(:)18 b FV(IssueR)n(e)n(quest)t F4(\()p FV(pr)n(o)n(c)r
FQ(;)c FV(r)n(e)n(q)t FQ(;)f FV(r)n(e)n(g)t F4(\))782
1520 y F0(_)i FV(R)n(esp)n(ondT)m(oR)n(d)t F4(\()p FV(pr)n(o)n(c)r
FQ(;)g FV(r)n(e)n(g)t F4(\))782 1578 y F0(_)g FV(R)n(esp)n(ondT)m(oWr)t
F4(\()p FV(pr)n(o)n(c)r FQ(;)f FV(r)n(e)n(g)t F4(\))250
1640 y F0(_)h FV(Internal)p 188 1672 2 25 v 190 1661
1806 2 v 1996 1671 2 25 v 208 1718 a(Sp)n(e)n(c)328 1694
y FI(\001)323 1718 y F4(=)p .95 TeXcolorgray .95 TeXcolorgray
403 1738 568 57 v .95 TeXcolorgray Black 56 w FZ(The)d(complete)d(in)o
(ternal)g(sp)q(eci\014cation)o(.)p .95 TeXcolorgray Black
250 1780 a F0(^)15 b FV(Init)250 1842 y F0(^)g FG(2)p
F4([)p FV(Next)t F4(])435 1849 y FH(h)s FJ(r)n(e)n(gFile)r
Fy(;)t FJ(opQ)s Fy(;)t FJ(opOr)n(der)t FH(i)250 1911
y F0(^)g(8)7 b FV(pr)n(o)n(c)13 b F0(2)e FV(Pr)n(o)n(c)r
FQ(;)j FV(r)n(e)n(g)g F0(2)e FV(R)n(e)n(g)22 b F4(:)p
.95 TeXcolorgray .95 TeXcolorgray 816 1931 798 57 v .95
TeXcolorgray Black 60 w FZ(The)12 b(memory)d(ev)o(en)o(tually)g(resp)q
(onds)g(to)i(ev)o(ery)g(request.)p .95 TeXcolorgray Black
335 1973 a F4(WF)405 1980 y FH(h)s FJ(r)n(e)n(gFile)r
Fy(;)5 b FJ(opQ)s Fy(;)t FJ(opOr)n(der)t FH(i)762 1973
y F4(\()p FV(R)n(esp)n(ondT)m(oWr)t F4(\()p FV(pr)n(o)n(c)r
FQ(;)15 b FV(r)n(e)n(g)t F4(\))g F0(_)h FV(R)n(esp)n(ondT)m(oR)n(d)t
F4(\()p FV(pr)n(o)n(c)r FQ(;)f FV(r)n(e)n(g)t F4(\)\))250
2043 y F0(^)g(8)7 b FV(oi)t FQ(;)13 b FV(oj)18 b F0(2)11
b F4([)p FV(pr)n(o)n(c)e F4(:)f FV(Pr)n(o)n(c)r FQ(;)18
b FV(idx)13 b F4(:)8 b FV(Nat)t F4(])18 b(:)p .95 TeXcolorgray
.95 TeXcolorgray 957 2063 600 57 v .95 TeXcolorgray Black
60 w FZ(All)12 b(op)q(erations)d(are)i(ev)o(en)o(tually)d(ordered.)p
.95 TeXcolorgray Black 335 2105 a F4(\()p FV(oi)16 b
F0(6)p F4(=)c FV(oj)6 b F4(\))18 b F0(\))g F4(WF)649
2112 y FH(h)s FJ(r)n(e)n(gFile)r Fy(;)5 b FJ(opQ)s Fy(;)g
FJ(opOr)n(der)s FH(i)1006 2105 y F4(\()p F0(^)15 b F4(\()p
FV(oi)g F0(2)d FV(opId)t F4(\))e F0(^)f F4(\()p FV(oj)17
b F0(2)12 b FV(opId)t F4(\))1022 2155 y F0(^)j FV(Internal)1022
2205 y F0(^)g F4(\()p F0(h)s FV(oi)t FQ(;)7 b FV(oj)i
F0(i)j(2)f FV(opOr)n(der)1419 2189 y FH(0)1431 2205 y
F4(\))16 b F0(_)g F4(\()p F0(h)s FV(oj)6 b FQ(;)h FV(oi)h
F0(i)j(2)h FV(opOr)n(der)1862 2189 y FH(0)1873 2205 y
F4(\)\))p 188 2279 2 25 v 190 2268 1806 2 v 1996 2278
2 25 v 208 2326 a FP(theorem)k FV(Sp)n(e)n(c)e F0(\))d
FG(2)p F4(\()p FV(DataInvariant)j F0(^)9 b FV(Serializable)s
F4(\))p 188 2369 V 190 2369 1806 2 v 1996 2369 2 25 v
Black 708 2481 a FU(Figure)14 b(11.6c:)19 b F4(Mo)q(dule)14
b FV(InnerSerial)k F4(\(end\).)p Black Black Black Black
eop
%%Page: 199 217
199 216 bop Black 208 275 a FR(11.2.)30 b(OTHER)14 b(MEMOR)m(Y)g
(SPECIFICA)m(TIONS)860 b F4(199)p 208 282 1770 2 v Black
208 391 a FV(R)n(esp)n(ondT)m(oR)n(d)t F4(,)17 b FV(R)n(esp)n(ondT)m
(oWr)t F4(,)g(and)f FV(Internal)t F4(.)24 b(Lik)o(e)15
b(the)i(serial)e(memory)f(sp)q(eci\014ca-)208 441 y(tion,)9
b(it)g(has)g(an)g(in)o(ternal)g(v)n(ariable)f FV(opQ)14
b F4(to)9 b(whic)o(h)g(the)h FV(IssueR)n(e)n(quest)k
F4(op)q(eration)9 b(app)q(ends)208 491 y(an)i(en)o(try)i(with)e
FV(r)n(e)n(q)k F4(\(request\))f(and)e FV(r)n(e)n(g)i
F4(\(register\))g(\014elds.)k(Ho)o(w)o(ev)o(er,)12 b(an)f(op)q(eration)
h(do)q(es)208 541 y(not)f(remain)f(forev)o(er)i(in)f
FV(opQ)t F4(.)17 b(Instead,)12 b(an)g FV(Internal)j F4(step)e(remo)o(v)
o(es)d(it)h(after)h(it)f(has)h(b)q(een)208 591 y(completed.)k(The)c(sp)
q(eci\014cation)g(has)f(a)g(second)h(in)o(ternal)f(v)n(ariable)f
FV(mem)k F4(that)d(represen)o(ts)208 640 y(the)j(con)o(ten)o(ts)h(of)e
(a)h(memory|that)d(is,)i(the)i(v)n(alue)e(of)g FV(mem)k
F4(is)d(a)g(function)f(from)f FV(A)n(dr)18 b F4(to)208
690 y FV(V)m(al)t F4(.)24 b(The)17 b(v)n(alue)e(of)h
FV(mem)j F4(is)d(c)o(hanged)g(only)g(b)o(y)g(an)f FV(Internal)21
b F4(action)15 b(that)i(remo)o(v)o(es)e(a)208 740 y(write)f(from)e
FV(opQ)t F4(.)270 790 y(Recall)h(that)h(the)g(correctness)j(condition)c
(has)h(t)o(w)o(o)g(requiremen)o(ts:)p Black 258 873 a(1.)p
Black 20 w(There)19 b(is)d(a)h(sequen)o(tial)g(execution)h(order)g(of)e
(all)g(the)i(op)q(erations)f(that)g(explains)311 923
y(the)e(v)n(alues)e(returned)j(b)o(y)e(reads.)p Black
258 1006 a(2.)p Black 20 w(This)h(execution)h(order)f(is)g(consisten)o
(t)h(with)f(the)g(order)h(in)e(whic)o(h)h(op)q(erations)g(are)311
1056 y(issued)g(b)o(y)f(eac)o(h)g(individual)e(pro)q(cessor.)208
1139 y(The)e(order)g(in)g(whic)o(h)f(op)q(erations)h(are)h(remo)o(v)o
(ed)e(from)f FV(opQ)14 b F4(is)9 b(an)h(explanatory)f(execution)208
1188 y(order)j(that)f(satis\014es)h(requiremen)o(t)g(1)f(if)f(the)i
FV(Internal)k F4(action)11 b(satis\014es)h(these)h(prop)q(erties:)p
Black 270 1271 a F0(\017)p Black 20 w F4(When)h(a)g(write)g(of)f(v)n
(alue)g FV(val)18 b F4(to)c(address)h FV(adr)j F4(is)c(remo)o(v)o(ed)f
(from)f FV(opQ)t F4(,)h(the)i(v)n(alue)311 1321 y(of)f
FV(mem)s F4([)p FV(adr)t F4(])f(is)h(set)h(to)e FV(val)t
F4(.)p Black 270 1404 a F0(\017)p Black 20 w F4(A)g(read)g(of)f
(address)h FV(adr)k F4(that)c(returned)h(a)e(v)n(alue)g
FV(val)17 b F4(can)12 b(b)q(e)h(remo)o(v)o(ed)f(from)f
FV(opQ)311 1454 y F4(only)i(if)g FV(mem)s F4([)p FV(adr)t
F4(])f(=)f FV(val)t F4(.)208 1537 y(Requiremen)o(t)j(2)h(is)g
(satis\014ed)h(if)e(op)q(erations)i(issued)g(b)o(y)f(pro)q(cessor)i
FV(p)h F4(are)e(app)q(ended)g(b)o(y)208 1587 y(the)f
FV(IssueR)n(e)n(quest)k F4(action)14 b(to)h(the)g(tail)e(of)i
FV(opQ)t F4([)p FV(p)s F4(],)e(and)h(are)h(remo)o(v)o(ed)f(b)o(y)g(the)
i FV(Internal)208 1637 y F4(action)d(only)g(from)f(the)j(head)f(of)f
FV(opQ)t F4([)p FV(p)s F4(].)270 1686 y(W)m(e)f(ha)o(v)o(e)f(no)o(w)h
(determined)g(what)g(the)h FV(IssueR)n(e)n(quest)k F4(and)12
b FV(Internal)k F4(actions)c(should)208 1736 y(do.)k(The)c
FV(R)n(esp)n(ondT)m(oWr)17 b F4(action)10 b(is)h(ob)o(vious;)g(it's)g
(essen)o(tially)g(the)h(same)e(as)h(in)g(the)h(serial)208
1786 y(memory)i(sp)q(eci\014cation.)28 b(The)17 b(problem)f(is)g(the)i
FV(R)n(esp)n(ondT)m(oR)n(d)k F4(action.)27 b(Ho)o(w)17
b(can)g(w)o(e)208 1836 y(de\014ne)c(it)f(so)g(that)g(the)h(v)n(alue)e
(returned)j(b)o(y)e(a)g(read)h(is)f(one)g(that)h FV(mem)i
F4(will)c(con)o(tain)g(when)208 1886 y(the)g FV(Internal)j
F4(action)c(has)h(to)f(remo)o(v)o(e)g(the)h(read)g(from)e
FV(opQ)t F4(?)17 b(The)11 b(answ)o(er)g(is)f(surprisingly)208
1936 y(simple:)16 b(w)o(e)e(allo)o(w)f(the)h(read)g(to)g(return)h(an)o
(y)f(v)n(alue.)j(If)d(the)g(read)h(w)o(ere)g(to)e(return)i(a)f(bad)208
1985 y(v)n(alue|for)f(example,)h(one)h(that)h(is)f(nev)o(er)h
(written|then)g(the)g FV(Internal)j F4(action)c(w)o(ould)208
2035 y(nev)o(er)f(b)q(e)f(able)g(to)g(remo)o(v)o(e)f(the)i(read)g(from)
d FV(opQ)t F4(.)18 b(W)m(e)13 b(rule)g(out)g(that)g(p)q(ossibilit)o(y)f
(with)h(a)208 2085 y(liv)o(eness)g(condition)e(requiring)i(that)f(ev)o
(ery)h(op)q(eration)g(in)f FV(opQ)k F4(ev)o(en)o(tually)c(b)q(e)h(remo)
o(v)o(ed.)208 2135 y(This)g(mak)o(es)f(it)h(easy)h(to)f(write)h(the)g
FV(Internal)k F4(action.)f(The)d(only)f(remaining)e(problem)h(is)208
2185 y(expressing)j(the)f(liv)o(eness)g(condition.)270
2234 y(T)m(o)h(guaran)o(tee)i(that)f(ev)o(ery)h(op)q(eration)f(is)g(ev)
o(en)o(tually)f(remo)o(v)o(ed)h(from)e FV(opQ)t F4(,)i(it)g(suf-)208
2284 y(\014ces)h(to)g(guaran)o(tee)g(that,)g(for)f(ev)o(ery)h(pro)q
(cessor)i FV(pr)n(o)n(c)r F4(,)d(the)i(op)q(eration)e(at)g(the)i(head)e
(of)208 2334 y FV(opQ)t F4([)p FV(pr)n(o)n(c)r F4(])f(is)i(ev)o(en)o
(tually)f(remo)o(v)o(ed.)25 b(The)17 b(desired)h(liv)o(eness)f
(condition)f(can)g(therefore)208 2384 y(b)q(e)e(expressed)i(as)p
Black Black 332 2467 a F0(8)7 b FV(pr)n(o)n(c)14 b F0(2)d
FV(Pr)n(o)n(c)20 b F4(:)e(WF)692 2474 y FH(h)s Fy(:::)s
FH(i)756 2467 y F4(\()p FV(R)n(emoveOp)s F4(\()p FV(pr)n(o)n(c)r
F4(\)\))p Black Black eop
%%Page: 200 218
200 217 bop Black 208 275 a F4(200)910 b FR(CHAPTER)14
b(11.)31 b(AD)o(V)-5 b(ANCED)14 b(EXAMPLES)p 208 282
1770 2 v Black 208 391 a F4(where)f FV(R)n(emoveOp)s
F4(\()p FV(pr)n(o)n(c)r F4(\))h(is)e(an)h(action)f(that)h
(unconditionally)e(remo)o(v)o(es)h(the)h(op)q(eration)208
441 y(from)d(the)i(head)g(of)f FV(opQ)t F4([)p FV(pr)n(o)n(c)r
F4(].)17 b(F)m(or)11 b(con)o(v)o(enience,)i(w)o(e)f(let)g(the)g
FV(R)n(emoveOp)s F4(\()p FV(pr)n(o)n(c)r F4(\))g(action)208
491 y(also)18 b(up)q(date)i FV(mem)s F4(.)35 b(W)m(e)19
b(then)h(de\014ne)g(a)f(separate)i(action)d FV(Internal)t
F4(\()p FV(pr)n(o)n(c)r F4(\))i(for)f(eac)o(h)208 541
y(pro)q(cessor)13 b FV(pr)n(o)n(c)r F4(.)k(It)12 b(conjoins)f(to)h
FV(R)n(emoveOp)s F4(\()p FV(pr)n(o)n(c)r F4(\))g(the)g(follo)o(wing)d
(enabling)i(condition,)208 591 y(whic)o(h)h(asserts)i(that)e(if)f(the)i
(op)q(eration)g(b)q(eing)f(remo)o(v)o(ed)f(is)h(a)g(read,)h(then)g(it)f
(has)g(returned)208 640 y(the)i(correct)i(v)n(alue:)p
Black Black 332 723 a(\()p FV(He)n(ad)t F4(\()p FV(opQ)t
F4([)p FV(pr)n(o)n(c)r F4(]\))p FQ(:)p FV(r)n(e)n(q)t
FQ(:)p FV(op)k F4(=)f(\\)p FD(Rd)p F4("\))11 b F0(\))457
785 y F4(\()p FV(mem)s F4([)p FV(He)n(ad)t F4(\()p FV(opQ)t
F4([)p FV(pr)n(o)n(c)r F4(]\))p FQ(:)p FV(r)n(e)n(q)t
FQ(:)p FV(adr)t F4(])16 b(=)j FV(He)n(ad)t F4(\()p FV(opQ)t
F4([)p FV(pr)n(o)n(c)r F4(]\))p FQ(:)p FV(r)n(e)n(q)t
FQ(:)p FV(val)t F4(\))208 894 y(The)e(complete)g(in)o(ternal)g(sp)q
(eci\014cation,)h(with)f(the)h(v)n(ariables)f FV(opQ)k
F4(and)d FV(mem)i F4(visible,)208 944 y(app)q(ears)10
b(in)f(mo)q(dule)f FV(InnerSe)n(quential)15 b F4(on)9
b(the)h(follo)o(wing)d(t)o(w)o(o)j(pages.)17 b(A)o(t)9
b(this)h(p)q(oin)o(t,)f(y)o(ou)208 994 y(should)g(ha)o(v)o(e)h(no)f
(trouble)h(understanding)h(it.)16 b(Y)m(ou)10 b(should)f(also)g(ha)o(v)
o(e)h(no)g(trouble)g(writing)208 1044 y(a)h(mo)q(dule)g(that)h(instan)o
(tiates)g FV(InnerSe)n(quential)18 b F4(and)11 b(hides)i(the)g(in)o
(ternal)e(v)n(ariables)h FV(opQ)208 1094 y F4(and)h FV(mem)k
F4(to)d(pro)q(duce)h(the)g(\014nal)e(sp)q(eci\014cation,)h(so)g(I)g(w)o
(on't)f(b)q(other)i(doing)e(it)g(for)h(y)o(ou.)208 1231
y F3(11.2.5)65 b(The)22 b(Memory)g(Sp)r(eci\014cations)i(Considered)208
1322 y F4(Almost)14 b(ev)o(ery)j(sp)q(eci\014cation)g(w)o(e)g(write)f
(admits)f(a)h(direct)h(implemen)o(tation,)c(based)k(on)208
1372 y(the)i(initial)f(predicate)i(and)f(next-state)h(action.)34
b(Suc)o(h)19 b(an)g(implemen)o(tation)d(ma)o(y)h(b)q(e)208
1421 y(completely)d(impractical,)g(but)j(it)e(is)h(theoretically)g(p)q
(ossible.)24 b(It's)16 b(easy)h(to)f(implem)o(en)o(t)208
1471 y(the)d(linearizable)e(memory)f(with)j(a)f(single)g(cen)o(tral)h
(memory)m(.)h(A)f(direct)g(implemen)o(tation)208 1521
y(of)h(the)h(serial)g(memory)d(w)o(ould)i(require)h(main)o(taining)d
(queues)k(of)e(all)f(op)q(erations)i(issued)208 1571
y(th)o(us)j(far,)h(and)f(a)g(computationally)d(infeasible)j(searc)o(h)h
(for)f(p)q(ossible)g(total)g(orderings.)208 1621 y(But,)c(in)f(theory)m
(,)g(it's)h(easy)m(.)270 1670 y(Our)d(sp)q(eci\014cation)g(of)e(a)h
(sequen)o(tially)g(consisten)o(t)h(memory)d(cannot)i(b)q(e)h(implemen)o
(ted)208 1720 y(directly)m(.)16 b(A)10 b(direct)h(implemen)o(tation)c
(w)o(ould)i(ha)o(v)o(e)h(to)g(guess)i(the)e(correct)i(v)n(alue)e(to)g
(return)208 1770 y(on)k(a)g(read,)h(whic)o(h)g(is)f(imp)q(ossible.)19
b(The)c(sp)q(eci\014cation)h(is)e(not)h(directly)g(implemen)o(tabl)o(e)
208 1820 y(b)q(ecause)k(it)e(is)h(not)g(mac)o(hine)e(closed.)30
b(As)19 b(explained)e(in)h(Section)g(8.9.2)e(on)h(page)h(111,)208
1870 y(a)c(non-mac)o(hine-closed)f(sp)q(eci\014cation)i(is)f(one)h(in)f
(whic)o(h)g(a)g(direct)i(implemen)o(tati)o(on)c(can)208
1919 y(\\pain)o(t)k(itself)h(in)o(to)f(a)h(corner,")h(reac)o(hing)g(a)e
(p)q(oin)o(t)h(at)g(whic)o(h)g(it)g(is)g(no)g(longer)g(p)q(ossible)208
1969 y(to)g(satisfy)h(the)g(sp)q(eci\014cation.)31 b(An)o(y)17
b(\014nite)h(scenario)h(of)e(memory)e(op)q(erations)j(can)g(b)q(e)208
2019 y(pro)q(duced)f(b)o(y)g(a)f(b)q(eha)o(vior)g(satisfying)g(the)h
(sequen)o(tially)f(consisten)o(t)i(memory's)c(initial)208
2069 y(predicate)i(and)f(next-state)i(action|namely)m(,)12
b(a)k(b)q(eha)o(vior)f(that)g(con)o(tains)h(no)f FV(Internal)208
2119 y F4(steps.)j(Ho)o(w)o(ev)o(er,)13 b(not)f(ev)o(ery)h(\014nite)f
(scenario)h(can)f(b)q(e)h(extended)g(to)f(one)h(that)f(is)g(explain-)
208 2169 y(able)i(b)o(y)g(a)g(sequen)o(tial)g(execution.)20
b(F)m(or)14 b(example,)e(no)i(scenario)h(that)g(b)q(egins)f(as)g(follo)
o(ws)208 2218 y(is)f(p)q(ossible)h(in)g(a)f(t)o(w)o(o-pro)q(cessor)j
(system:)p .95 TeXcolorgray .95 TeXcolorgray 1679 2351
307 165 v .95 TeXcolorgray Black Black 802 w FZ(This)c(notation)d(for)
1687 2258 y(describing)g(scenar-)1687 2297 y(ios)j(w)o(as)f(in)o(tro)q
(duced)1687 2337 y(on)g(page)g(186.)p Black .95 TeXcolorgray
Black Black Black 332 2301 a F4(Pro)q(cessor)16 b FQ(p)7
b F4(:)22 b FQ(W)6 b(r)645 2307 y Fy(p)664 2301 y F4(\()p
FQ(a)p F4(1)p FQ(;)h(v)q F4(1\))p FQ(;)23 b(Rd)889 2307
y Fy(p)907 2301 y F4(\()p FQ(a)p F4(1)p FQ(;)7 b(v)q
F4(2\))p FQ(;)23 b(W)6 b(r)1142 2307 y Fy(p)1161 2301
y F4(\()p FQ(a)p F4(2)p FQ(;)h(v)q F4(2\))332 2359 y(Pro)q(cessor)16
b FQ(q)8 b F4(:)23 b FQ(W)6 b(r)645 2365 y Fy(q)663 2359
y F4(\()p FQ(a)p F4(2)p FQ(;)h(v)q F4(1\))p FQ(;)24 b(Rd)889
2365 y Fy(q)906 2359 y F4(\()p FQ(a)p F4(2)p FQ(;)7 b(v)q
F4(2\))p FQ(;)24 b(W)6 b(r)1142 2365 y Fy(q)1160 2359
y F4(\()p FQ(a)p F4(1)p FQ(;)h(v)q F4(2\))208 2440 y(Here's)15
b(wh)o(y:)p Black Black eop
%%Page: 201 219
201 218 bop Black 208 275 a FR(11.2.)30 b(OTHER)14 b(MEMOR)m(Y)g
(SPECIFICA)m(TIONS)860 b F4(201)p 208 282 1770 2 v Black
Black Black Black 188 444 2 25 v 190 421 661 2 v 865
428 a FP(module)16 b FV(InnerSe)n(quential)p 1334 421
V 1995 444 2 25 v 208 487 a FP(extends)g FV(R)n(e)n(gisterInterfac)n(e)
s FQ(;)h FV(Natur)n(als)s FQ(;)h FV(Se)n(quenc)n(es)s
FQ(;)h FV(FiniteSets)208 566 y FP(v)l(ariable)e FV(opQ)t
FQ(;)p .95 TeXcolorgray .95 TeXcolorgray 528 586 822
64 v .95 TeXcolorgray Black 44 w FY(opQ)s FZ([)p FY(p)r
FZ(][)p FY(i)s FZ(])c(is)e(the)g FY(i)799 554 y FZ(th)846
566 y(op)q(eration)e(issued)h(b)o(y)h(pro)q(cessor)f
FY(p)r FZ(.)p .95 TeXcolorgray Black 402 628 a FV(mem)p
.95 TeXcolorgray .95 TeXcolorgray 528 648 337 57 v .95
TeXcolorgray Black 47 w FZ(An)i(in)o(ternal)e(memory)m(.)p
.95 TeXcolorgray Black 188 676 2 25 v 190 665 1806 2
v 1996 676 2 25 v 208 722 a FV(Done)345 698 y FI(\001)340
722 y F4(=)35 b FP(choose)17 b FV(v)23 b F4(:)18 b FV(v)i
FQ(=)-25 b F0(2)11 b FV(R)n(e)n(g)p .95 TeXcolorgray
.95 TeXcolorgray 816 742 724 57 v .95 TeXcolorgray Black
46 w FZ(The)h FY(r)n(e)n(g)k FZ(\014eld)10 b(v)n(alue)g(for)h(a)h
(completed)c(op)q(eration.)p .95 TeXcolorgray Black 208
808 a FV(DataInvariant)507 784 y FI(\001)502 808 y F4(=)250
858 y F0(^)15 b FV(R)n(e)n(gFileT)m(yp)n(eInvariant)250
920 y F0(^)g FV(opQ)g F0(2)c F4([)p FV(Pr)n(o)n(c)j F0(!)d
FV(Se)n(q)t F4(\()c([)p FV(r)n(e)n(q)21 b F4(:)d FV(R)n(e)n(quest)t
FQ(;)g FV(r)n(e)n(g)k F4(:)c FV(R)n(e)n(g)13 b F0([)c(f)p
FV(Done)s F0(g)p F4(])e(\))g(])250 982 y F0(^)15 b FV(mem)f
F0(2)d F4([)p FV(A)n(dr)k F0(!)c FV(V)m(al)t F4(])250
1044 y F0(^)k(8)7 b FV(p)14 b F0(2)d FV(Pr)n(o)n(c)r
FQ(;)18 b FV(r)e F0(2)11 b FV(R)n(e)n(g)22 b F4(:)p .95
TeXcolorgray .95 TeXcolorgray 734 1064 866 57 v .95 TeXcolorgray
Black 61 w FZ(Only)11 b(nonfree)e(registers)h(ha)o(v)o(e)g(corresp)q
(onding)e FY(opQ)16 b FZ(en)o(tries.)p .95 TeXcolorgray
Black 377 1106 a FV(Car)n(dinality)t F4(\()p F0(f)p FV(i)f
F0(2)c FP(domain)f FV(opQ)t F4([)p FV(p)s F4(])17 b(:)h
FV(opQ)t F4([)p FV(p)s F4(][)p FV(i)t F4(])p FQ(:)p FV(r)n(e)n(g)12
b F4(=)g FV(r)t F0(g)p F4(\))35 b(=)420 1156 y FP(if)23
b FV(r)n(e)n(gFile)s F4([)p FV(p)s F4(][)p FV(r)t F4(])p
FQ(:)o FV(op)12 b F4(=)g(\\)p FD(F)o(ree)p F4(")22 b
FP(then)i F4(0)f FP(else)h F4(1)p .95 TeXcolorgray .95
TeXcolorgray 1443 978 544 157 v .95 TeXcolorgray Black
1451 858 a FZ(Simple)10 b(t)o(yp)q(e)g(in)o(v)n(arian)o(ts)f(for)i
FY(r)n(e)n(gFile)r FZ(,)1486 908 y FY(opQ)s FZ(,)i(and)1486
958 y FY(mem)s FZ(.)p .95 TeXcolorgray Black 208 1255
a FV(Init)317 1231 y FI(\001)312 1255 y F4(=)p .95 TeXcolorgray
.95 TeXcolorgray 392 1275 343 57 v .95 TeXcolorgray Black
56 w FZ(The)f(initial)e(predicate.)p .95 TeXcolorgray
Black 250 1317 a F0(^)15 b FV(r)n(e)n(gFile)e F0(2)e
F4([)p FV(Pr)n(o)n(c)i F0(!)f F4([)p FV(R)n(e)n(g)i F0(!)e
FV(F)m(r)n(e)n(eR)n(e)n(gV)m(alue)s F4(]])250 1367 y
F0(^)j FV(opQ)g F4(=)d([)p FV(p)i F0(2)d FV(Pr)n(o)n(c)j
F0(7!)d(h)c(i)p F4(])250 1416 y F0(^)15 b FV(mem)f F0(2)d
F4([)p FV(A)n(dr)k F0(!)c FV(V)m(al)t F4(])p .95 TeXcolorgray
.95 TeXcolorgray 1072 1437 808 156 v .95 TeXcolorgray
Black 1081 1317 a FZ(Ev)o(ery)f(register)g(is)h(free.)1081
1367 y(There)g(are)f(no)h(op)q(erations)e(in)i FY(opQ)s
FZ(.)1081 1416 y(The)g(in)o(ternal)f(memory)f(can)h(ha)o(v)o(e)h(an)o
(y)f(initial)g(con)o(ten)o(ts.)p .95 TeXcolorgray Black
188 1461 2 25 v 190 1450 1806 2 v 1996 1460 2 25 v 208
1498 a FV(IssueR)n(e)n(quest)t F4(\()p FV(pr)n(o)n(c)r
FQ(;)k FV(r)n(e)n(q)t FQ(;)e FV(r)n(e)n(g)t F4(\))749
1474 y FI(\001)744 1498 y F4(=)p .95 TeXcolorgray .95
TeXcolorgray 824 1518 758 57 v .95 TeXcolorgray Black
56 w FZ(Pro)q(cessor)e FY(pr)n(o)n(c)15 b FZ(issues)10
b(request)g FY(r)n(e)n(q)16 b FZ(in)11 b(register)f FY(r)n(e)n(g)s
FZ(.)p .95 TeXcolorgray Black 250 1560 a F0(^)15 b FV(r)n(e)n(gFile)s
F4([)p FV(pr)n(o)n(c)r F4(][)p FV(r)n(e)n(g)s F4(])p
FQ(:)p FV(op)c F4(=)h(\\)p FD(F)o(ree)p F4(")250 1618
y F0(^)j FV(r)n(e)n(gFile)418 1603 y FH(0)440 1618 y
F4(=)d([)p FV(r)n(e)n(gFile)17 b FP(ex)o(cept)i F4(!)s([)p
FV(pr)n(o)n(c)r F4(][)p FV(r)n(e)n(g)t F4(])9 b(=)j FV(r)n(e)n(q)t
F4(])250 1676 y F0(^)j FV(opQ)371 1660 y FH(0)394 1676
y F4(=)d([)p FV(opQ)19 b FP(ex)o(cept)g F4(!)s([)p FV(pr)n(o)n(c)r
F4(])11 b(=)h FV(App)n(end)t F4(\(@)p FQ(;)j F4([)p FV(r)n(e)n(q)f
F0(7!)d FV(r)n(e)n(q)t FQ(;)h FV(r)n(e)n(g)j F0(7!)c
FV(r)n(e)n(g)t F4(]\)])250 1733 y F0(^)k FP(unchanged)i
FV(mem)p .95 TeXcolorgray .95 TeXcolorgray 1549 1692
424 169 v .95 TeXcolorgray Black 1557 1560 a FZ(The)11
b(register)f(m)o(ust)h(b)q(e)g(free.)1557 1618 y(Put)g(request)f(in)h
(register.)1557 1676 y(Add)g(request)f(to)h FY(opQ)s
FZ([)p FY(pr)n(o)n(c)r FZ(].)p .95 TeXcolorgray Black
208 1832 a FV(R)n(esp)n(ondT)m(oR)n(d)t F4(\()p FV(pr)n(o)n(c)r
FQ(;)k FV(r)n(e)n(g)t F4(\))687 1809 y FI(\001)683 1832
y F4(=)p .95 TeXcolorgray .95 TeXcolorgray 762 1853 1126
57 v .95 TeXcolorgray Black 56 w FZ(The)c(memory)e(resp)q(onds)h(to)h
(a)g(read)g(request)f(in)h(pro)q(cessor)e FY(pr)n(o)n(c)r
FZ('s)k(register)c FY(r)n(e)n(g)s FZ(.)p .95 TeXcolorgray
Black 250 1894 a F0(^)15 b FV(r)n(e)n(gFile)s F4([)p
FV(pr)n(o)n(c)r F4(][)p FV(r)n(e)n(g)s F4(])p FQ(:)p
FV(op)c F4(=)h(\\)p FD(Rd)p F4(")p .95 TeXcolorgray .95
TeXcolorgray 831 1915 777 57 v .95 TeXcolorgray Black
42 w FZ(The)g(register)d(m)o(ust)i(con)o(tain)e(an)i(activ)o(e)f(read)h
(request.)p .95 TeXcolorgray Black 250 1956 a F0(^)k(9)7
b FV(val)15 b F0(2)c FV(V)m(al)23 b F4(:)p .95 TeXcolorgray
.95 TeXcolorgray 575 1977 404 57 v .95 TeXcolorgray Black
60 w FY(val)16 b FZ(is)11 b(the)g(v)n(alue)f(returned.)p
.95 TeXcolorgray Black 335 2018 a F0(^)k FV(r)n(e)n(gFile)502
2003 y FH(0)525 2018 y F4(=)e([)p FV(r)n(e)n(gFile)17
b FP(ex)o(cept)i F4(!)s([)p FV(pr)n(o)n(c)r F4(][)p FV(r)n(e)n(g)t
F4(])p FQ(:)p FV(val)24 b F4(=)g FV(val)t FQ(;)882 2068
y F4(!)s([)p FV(pr)n(o)n(c)r F4(][)p FV(r)n(e)n(g)t F4(])p
FQ(:)p FV(op)33 b F4(=)24 b(\\)p FD(F)o(ree)p F4("])p
.95 TeXcolorgray .95 TeXcolorgray 1381 2078 421 96 v
.95 TeXcolorgray Black 1390 2018 a FZ(Set)10 b(the)h(register's)f
FY(val)15 b FZ(\014eld,)1390 2058 y(and)10 b(free)h(the)g(register.)p
.95 TeXcolorgray Black 335 2137 a F0(^)j FV(opQ)455 2122
y FH(0)479 2137 y F4(=)e FP(let)23 b FV(idx)712 2114
y FI(\001)707 2137 y F4(=)p .95 TeXcolorgray .95 TeXcolorgray
787 2157 796 57 v .95 TeXcolorgray Black 57 w FY(opQ)s
FZ([)p FY(pr)n(o)n(c)r FZ(][)p FY(idx)t FZ(])13 b(con)o(tains)c(the)i
(request)f(in)h(register)f FY(r)n(e)n(g)s FZ(.)p .95
TeXcolorgray Black 657 2199 a FP(choose)17 b FV(i)e F0(2)c
FP(domain)f FV(opQ)t F4([)p FV(pr)n(o)n(c)r F4(])18 b(:)g
FV(opQ)t F4([)p FV(pr)n(o)n(c)r F4(][)p FV(i)t F4(])p
FQ(:)p FV(r)n(e)n(g)13 b F4(=)f FV(r)n(e)n(g)523 2261
y FP(in)54 b F4([)p FV(opQ)19 b FP(ex)o(cept)g F4(!)s([)p
FV(pr)n(o)n(c)r F4(][)p FV(idx)5 b F4(])p FQ(:)p FV(r)n(e)n(q)t
FQ(:)p FV(val)24 b F4(=)g FV(val)t FQ(;)882 2311 y F4(!)s([)p
FV(pr)n(o)n(c)r F4(][)p FV(idx)5 b F4(])p FQ(:)p FV(r)n(e)n(g)91
b F4(=)24 b FV(Done)s F4(])p .95 TeXcolorgray .95 TeXcolorgray
1434 2315 513 91 v .95 TeXcolorgray Black 1443 2261 a
FZ(Set)10 b FY(opQ)s FZ([)p FY(pr)n(o)n(c)r FZ(][)p FY(idx)t
FZ(]'s)j FY(val)j FZ(\014eld)11 b(to)1443 2301 y FY(val)k
FZ(and)c(its)g FY(r)n(e)n(g)16 b FZ(\014eld)10 b(to)i
FY(Done)r FZ(.)p .95 TeXcolorgray Black 250 2373 a F0(^)j
FP(unchanged)i FV(mem)p Black 612 2457 a FU(Figure)d(11.7a:)19
b F4(Mo)q(dule)14 b FV(InnerSe)n(quential)19 b F4(\(b)q(eginning\).)p
Black Black Black Black eop
%%Page: 202 220
202 219 bop Black 208 275 a F4(202)910 b FR(CHAPTER)14
b(11.)31 b(AD)o(V)-5 b(ANCED)14 b(EXAMPLES)p 208 282
1770 2 v Black Black Black Black 208 420 a FV(R)n(esp)n(ondT)m(oWr)t
F4(\()p FV(pr)n(o)n(c)r FQ(;)g FV(r)n(e)n(g)t F4(\))697
396 y FI(\001)692 420 y F4(=)p .95 TeXcolorgray .95 TeXcolorgray
772 440 1137 57 v .95 TeXcolorgray Black 56 w FZ(The)e(memory)d(resp)q
(onds)h(to)h(a)g(write)g(request)f(in)h(pro)q(cessor)f
FY(pr)n(o)n(c)r FZ('s)i(register)e FY(r)n(e)n(g)s FZ(.)p
.95 TeXcolorgray Black 250 482 a F0(^)15 b FV(r)n(e)n(gFile)s
F4([)p FV(pr)n(o)n(c)r F4(][)p FV(r)n(e)n(g)s F4(])p
FQ(:)p FV(op)c F4(=)h(\\)p FD(W)o(r)p F4(")p .95 TeXcolorgray
.95 TeXcolorgray 835 502 789 57 v .95 TeXcolorgray Black
42 w FZ(The)g(register)d(m)o(ust)i(con)o(tain)e(an)i(activ)o(e)f(write)
h(request.)p .95 TeXcolorgray Black 250 544 a F0(^)k
FV(r)n(e)n(gFile)418 529 y FH(0)440 544 y F4(=)d([)p
FV(r)n(e)n(gFile)17 b FP(ex)o(cept)i F4(!)s([)p FV(pr)n(o)n(c)r
F4(][)p FV(r)n(e)n(g)t F4(])p FQ(:)p FV(op)12 b F4(=)f(\\)p
FD(F)o(ree)p F4(")q(])p .95 TeXcolorgray .95 TeXcolorgray
1263 564 279 57 v .95 TeXcolorgray Black 41 w FZ(F)m(ree)g(the)g
(register.)p .95 TeXcolorgray Black 250 613 a F0(^)k
FP(let)23 b FV(idx)482 589 y FI(\001)477 613 y F4(=)35
b FP(choose)17 b FV(i)e F0(2)d FP(domain)d FV(opQ)t F4([)p
FV(pr)n(o)n(c)r F4(])18 b(:)g FV(opQ)t F4([)p FV(pr)n(o)n(c)r
F4(][)p FV(i)t F4(])p FQ(:)p FV(r)n(e)n(g)13 b F4(=)f
FV(r)n(e)n(g)p .95 TeXcolorgray .95 TeXcolorgray 1585
667 371 91 v .95 TeXcolorgray Black 45 w FZ(Up)q(date)f(the)f
(appropri-)1593 652 y(ate)h FY(opQ)16 b FZ(en)o(try)m(.)p
.95 TeXcolorgray Black 293 663 a FP(in)54 b FV(opQ)463
648 y FH(0)486 663 y F4(=)12 b([)p FV(opQ)19 b FP(ex)o(cept)g
F4(!)s([)p FV(pr)n(o)n(c)r F4(][)p FV(idx)5 b F4(])p
FQ(:)p FV(r)n(e)n(g)13 b F4(=)f FV(Done)s F4(])250 725
y F0(^)j FP(unchanged)i FV(mem)208 811 y(R)n(emoveOp)s
F4(\()p FV(pr)n(o)n(c)r F4(\))553 787 y FI(\001)548 811
y F4(=)p .95 TeXcolorgray .95 TeXcolorgray 628 831 1280
57 v .95 TeXcolorgray Black 56 w FZ(Unconditionall)o(y)9
b(remo)o(v)o(e)g(the)i(op)q(eration)e(at)i(the)g(head)f(of)h
FY(opQ)s FZ([)p FY(pr)n(o)n(c)r FZ(])i(and)e(up)q(date)f
FY(mem)s FZ(.)p .95 TeXcolorgray Black 250 873 a F0(^)15
b FV(opQ)t F4([)p FV(pr)n(o)n(c)r F4(])10 b F0(6)p F4(=)i
F0(h)7 b(i)p .95 TeXcolorgray .95 TeXcolorgray 600 893
476 57 v .95 TeXcolorgray Black 43 w FY(opQ)s FZ([)p
FY(pr)n(o)n(c)r FZ(])13 b(m)o(ust)d(b)q(e)h(nonempt)o(y)m(.)p
.95 TeXcolorgray Black 250 935 a F0(^)k FV(He)n(ad)t
F4(\()p FV(opQ)t F4([)p FV(pr)n(o)n(c)r F4(]\))p FQ(:)p
FV(r)n(e)n(g)f F4(=)e FV(Done)p .95 TeXcolorgray .95
TeXcolorgray 852 955 666 57 v .95 TeXcolorgray Black
46 w FZ(The)g(op)q(eration)d(m)o(ust)h(ha)o(v)o(e)g(b)q(een)h
(completed.)p .95 TeXcolorgray Black 250 997 a F0(^)k
FV(mem)383 982 y FH(0)406 997 y F4(=)d FP(if)23 b FV(He)n(ad)t
F4(\()p FV(opQ)t F4([)p FV(pr)n(o)n(c)r F4(]\))p FQ(:)p
FV(r)n(e)n(q)t FQ(:)p FV(op)13 b F4(=)f(\\)p FD(Rd)p
F4(")483 1046 y FP(then)24 b FV(mem)483 1096 y FP(else)36
b F4([)p FV(mem)18 b FP(ex)o(cept)h F4(!)s([)p FV(He)n(ad)t
F4(\()p FV(opQ)t F4([)p FV(pr)n(o)n(c)r F4(]\))p FQ(:)p
FV(r)n(e)n(q)t FQ(:)p FV(adr)t F4(])10 b(=)923 1146 y
FV(He)n(ad)t F4(\()p FV(opQ)t F4([)p FV(pr)n(o)n(c)r
F4(]\))p FQ(:)p FV(r)n(e)n(q)t FQ(:)p FV(val)t F4(])p
.95 TeXcolorgray .95 TeXcolorgray 1448 1090 460 130 v
.95 TeXcolorgray Black 1456 997 a FZ(Lea)o(v)o(e)h FY(mem)k
FZ(unc)o(hanged)9 b(for)h(a)1456 1036 y(read)h(op)q(eration,)d(up)q
(date)i(it)h(for)1456 1076 y(a)h(write)f(op)q(eration.)p
.95 TeXcolorgray Black 250 1208 a F0(^)k FV(opQ)371 1193
y FH(0)394 1208 y F4(=)d([)p FV(opQ)19 b FP(ex)o(cept)g
F4(!)s([)p FV(pr)n(o)n(c)r F4(])11 b(=)h FV(T)m(ail)t
F4(\(@\)])p .95 TeXcolorgray .95 TeXcolorgray 1061 1228
614 57 v .95 TeXcolorgray Black 42 w FZ(Remo)o(v)o(e)d(the)i(op)q
(eration)e(from)h FY(opQ)s FZ([)p FY(pr)n(o)n(c)r FZ(].)p
.95 TeXcolorgray Black 250 1270 a F0(^)15 b FP(unchanged)i
FV(r)n(e)n(gFile)p .95 TeXcolorgray .95 TeXcolorgray
694 1290 368 57 v .95 TeXcolorgray Black 44 w FZ(No)12
b(register)e(is)h(c)o(hanged.)p .95 TeXcolorgray Black
208 1356 a FV(Internal)t F4(\()p FV(pr)n(o)n(c)r F4(\))506
1333 y FI(\001)501 1356 y F4(=)p .95 TeXcolorgray .95
TeXcolorgray 687 1410 1079 91 v .95 TeXcolorgray Black
162 w FZ(Remo)o(v)o(e)f(the)g(op)q(eration)f(at)i(the)g(head)f(of)i
FY(opQ)s FZ([)p FY(pr)n(o)n(c)r FZ(].)19 b(But)11 b(if)g(it's)g(a)g
(read,)695 1396 y(only)f(do)h(so)h(if)f(it)g(returned)e(the)i(v)n(alue)
f(no)o(w)i(in)f FY(mem)s FZ(.)p .95 TeXcolorgray Black
250 1418 a F0(^)k FV(R)n(emoveOp)s F4(\()p FV(pr)n(o)n(c)r
F4(\))250 1468 y F0(^)g F4(\()p FV(He)n(ad)t F4(\()p
FV(opQ)t F4([)p FV(pr)n(o)n(c)r F4(]\))p FQ(:)p FV(r)n(e)n(q)t
FQ(:)p FV(op)e F4(=)e(\\)p FD(Rd)p F4("\))h F0(\))335
1518 y F4(\()p FV(mem)s F4([)p FV(He)n(ad)t F4(\()p FV(opQ)t
F4([)p FV(pr)n(o)n(c)r F4(]\))p FQ(:)p FV(r)n(e)n(q)t
FQ(:)p FV(adr)t F4(])e(=)h FV(He)n(ad)t F4(\()p FV(opQ)t
F4([)p FV(pr)n(o)n(c)r F4(]\))p FQ(:)p FV(r)n(e)n(q)t
FQ(:)p FV(val)t F4(\))208 1604 y FV(Next)334 1580 y FI(\001)329
1604 y F4(=)p .95 TeXcolorgray .95 TeXcolorgray 409 1624
359 57 v .95 TeXcolorgray Black 56 w FZ(The)h(next-state)d(action.)p
.95 TeXcolorgray Black 250 1666 a F0(9)e FV(pr)n(o)n(c)14
b F0(2)d FV(Pr)n(o)n(c)20 b F4(:)e F0(_)d(9)7 b FV(r)n(e)n(g)15
b F0(2)c FV(R)n(e)n(g)22 b F4(:)c F0(_)d(9)7 b FV(r)n(e)n(q)14
b F0(2)d FV(R)n(e)n(quest)23 b F4(:)18 b FV(IssueR)n(e)n(quest)t
F4(\()p FV(pr)n(o)n(c)r FQ(;)c FV(r)n(e)n(q)t FQ(;)f
FV(r)n(e)n(g)t F4(\))835 1724 y F0(_)i FV(R)n(esp)n(ondT)m(oR)n(d)t
F4(\()p FV(pr)n(o)n(c)r FQ(;)g FV(r)n(e)n(g)t F4(\))835
1781 y F0(_)g FV(R)n(esp)n(ondT)m(oWr)t F4(\()p FV(pr)n(o)n(c)r
FQ(;)f FV(r)n(e)n(g)t F4(\))540 1843 y F0(_)h FV(Internal)t
F4(\()p FV(pr)n(o)n(c)r F4(\))p 188 1875 2 25 v 190 1864
1806 2 v 1996 1875 2 25 v 208 1921 a FV(Sp)n(e)n(c)328
1898 y FI(\001)323 1921 y F4(=)35 b F0(^)14 b FV(Init)390
1983 y F0(^)g FG(2)p F4([)p FV(Next)t F4(])574 1990 y
FH(h)s FJ(r)n(e)n(gFile)r Fy(;)5 b FJ(opQ)s Fy(;)t FJ(mem)g
FH(i)390 2053 y F0(^)14 b(8)7 b FV(pr)n(o)n(c)14 b F0(2)d
FV(Pr)n(o)n(c)r FQ(;)j FV(r)n(e)n(g)g F0(2)e FV(R)n(e)n(g)22
b F4(:)p .95 TeXcolorgray .95 TeXcolorgray 956 2073 798
57 v .95 TeXcolorgray Black 60 w FZ(The)12 b(memory)d(ev)o(en)o(tually)
g(resp)q(onds)g(to)i(ev)o(ery)f(request.)p .95 TeXcolorgray
Black 475 2115 a F4(WF)545 2122 y FH(h)s FJ(r)n(e)n(gFile)r
Fy(;)5 b FJ(opQ)s Fy(;)t FJ(mem)g FH(i)850 2115 y F4(\()p
FV(R)n(esp)n(ondT)m(oWr)t F4(\()p FV(pr)n(o)n(c)r FQ(;)16
b FV(r)n(e)n(g)t F4(\))f F0(_)h FV(R)n(esp)n(ondT)m(oR)n(d)t
F4(\()p FV(pr)n(o)n(c)r FQ(;)f FV(r)n(e)n(g)t F4(\)\))390
2184 y F0(^)f(8)7 b FV(pr)n(o)n(c)14 b F0(2)d FV(Pr)n(o)n(c)21
b F4(:)p .95 TeXcolorgray .95 TeXcolorgray 757 2204 781
57 v .95 TeXcolorgray Black 60 w FZ(Ev)o(ery)11 b(op)q(eration)d(is)k
(ev)o(en)o(tually)d(remo)o(v)o(ed)g(from)h FY(opQ)s FZ(.)p
.95 TeXcolorgray Black 475 2246 a F4(WF)545 2253 y FH(h)s
FJ(r)n(e)n(gFile)r Fy(;)5 b FJ(opQ)s Fy(;)t FJ(mem)g
FH(i)850 2246 y F4(\()p FV(R)n(emoveOp)s F4(\()p FV(pr)n(o)n(c)r
F4(\)\))p 188 2298 2 25 v 190 2287 1806 2 v 1996 2298
2 25 v 208 2345 a FP(theorem)16 b FV(Sp)n(e)n(c)21 b
F0(\))d FG(2)7 b FV(DataInvariant)p 188 2388 V 190 2388
1806 2 v 1996 2388 2 25 v Black 666 2478 a FU(Figure)14
b(11.7b:)19 b F4(Mo)q(dule)13 b FV(InnerSe)n(quential)19
b F4(\(end\).)p Black Black Black Black eop
%%Page: 203 221
203 220 bop Black 208 275 a FR(11.2.)30 b(OTHER)14 b(MEMOR)m(Y)g
(SPECIFICA)m(TIONS)860 b F4(203)p 208 282 1770 2 v Black
Black Black Black Black 332 391 a FV(Wr)395 397 y FJ(q)416
391 y F4(\()p FV(a)s F4(1)p FQ(;)7 b FV(v)t F4(2\))374
454 y(precedes)16 b FV(R)n(d)593 460 y FJ(p)615 454 y
F4(\()p FV(a)s F4(1)p FQ(;)7 b FV(v)t F4(2\))p .95 TeXcolorgray
.95 TeXcolorgray 802 474 814 57 v .95 TeXcolorgray Black
56 w FZ(This)k(is)h(the)e(only)h(explanation)d(of)j(the)g(v)n(alue)f
(read)g(b)o(y)h FY(p)r FZ(.)p .95 TeXcolorgray Black
374 515 a F4(precedes)16 b FV(Wr)603 521 y FJ(p)625 515
y F4(\()p FV(a)s F4(2)p FQ(;)7 b FV(v)t F4(2\))p .95
TeXcolorgray .95 TeXcolorgray 802 535 V .95 TeXcolorgray
Black 46 w FZ(By)k(the)g(order)f(in)h(whic)o(h)g(op)q(erations)e(are)i
(issued.)p .95 TeXcolorgray Black 374 576 a F4(precedes)16
b FV(R)n(d)593 582 y FJ(q)614 576 y F4(\()p FV(a)s F4(2)p
FQ(;)7 b FV(v)t F4(2\))p .95 TeXcolorgray .95 TeXcolorgray
802 597 V .95 TeXcolorgray Black 57 w FZ(This)k(is)h(the)e(only)h
(explanation)d(of)j(the)g(v)n(alue)f(read)g(b)o(y)h FY(q)s
FZ(.)p .95 TeXcolorgray Black 374 638 a F4(precedes)16
b FV(Wr)603 644 y FJ(q)624 638 y F4(\()p FV(a)s F4(1)p
FQ(;)7 b FV(v)t F4(2\))p .95 TeXcolorgray .95 TeXcolorgray
802 658 V .95 TeXcolorgray Black 47 w FZ(By)k(the)g(order)f(in)h(whic)o
(h)g(op)q(erations)e(are)i(issued.)p .95 TeXcolorgray
Black 208 721 a F4(Hence)k FV(q)t F4('s)e(write)i(of)e
FV(a)s F4(1)h(m)o(ust)f(precede)j(itself,)d(whic)o(h)h(is)f(imp)q
(ossible.)270 771 y(As)e(men)o(tioned)f(in)g(Section)i(8.9.2,)d(a)i(sp)
q(eci\014cation)g(is)g(mac)o(hine)e(closed)j(if)e(the)h(liv)o(eness)208
821 y(prop)q(ert)o(y)21 b(is)f(the)h(conjunction)f(of)g(fairness)g
(prop)q(erties)i(for)e(actions)g(that)g(imply)e(the)208
870 y(next-state)d(action.)k(The)c(sequen)o(tial)f(memory)e(sp)q
(eci\014cation)j(asserts)h(w)o(eak)f(fairness)f(of)208
920 y FV(R)n(emoveOp)s F4(\()p FV(pr)n(o)n(c)r F4(\),)g(for)f(pro)q
(cessors)k FV(pr)n(o)n(c)r F4(,)c(and)h FV(R)n(emoveOp)s
F4(\()p FV(pr)n(o)n(c)r F4(\))h(do)q(es)g(not)f(imply)d(the)208
970 y(next-state)h(action.)17 b(\(The)12 b(next-state)h(action)f(do)q
(es)g(not)f(allo)o(w)f(a)i FV(R)n(emoveOp)s F4(\()p FV(pr)n(o)n(c)r
F4(\))g(step)208 1020 y(that)h(remo)o(v)o(es)h(from)e
FV(opQ)t F4([)p FV(pr)n(o)n(c)r F4(])h(a)h(read)g(that)g(has)g
(returned)i(the)e(wrong)g(v)n(alue.\))270 1070 y(V)m(ery)f(high-lev)o
(el)e(system)i(sp)q(eci\014cations,)h(suc)o(h)f(as)g(our)g(memory)d(sp)
q(eci\014cations,)j(are)208 1119 y(subtle.)21 b(It's)15
b(easy)h(to)e(get)h(them)g(wrong.)20 b(The)c(approac)o(h)f(w)o(e)g
(used)h(in)e(the)i(serial)e(mem-)208 1169 y(ory)d(sp)q
(eci\014cation|namely)m(,)e(writing)h(conditions)h(on)g(the)h(history)f
(of)f(all)g(op)q(erations|is)208 1219 y(dangerous.)18
b(It's)c(easy)f(to)h(forget)f(some)g(conditions.)18 b(A)13
b(non-mac)o(hine-closed)g(sp)q(eci\014ca-)208 1269 y(tion)g(can)h(o)q
(ccasionally)f(b)q(e)h(the)h(simplest)e(w)o(a)o(y)g(to)h(express)h
(what)f(y)o(ou)g(w)o(an)o(t)f(so)h(sa)o(y)m(.)p Black
Black eop
%%Page: 204 222
204 221 bop Black 208 275 a F4(204)910 b FR(CHAPTER)14
b(11.)31 b(AD)o(V)-5 b(ANCED)14 b(EXAMPLES)p 208 282
1770 2 v Black Black Black eop
%%Page: 205 223
205 222 bop Black Black 760 1100 a FL(P)m(art)32 b(I)s(I)s(I)674
1307 y F5(The)38 b(T)-10 b(o)s(ols)p Black 1915 2622
a F4(205)p Black eop
%%Page: 206 224
206 223 bop Black Black Black Black eop
%%Page: 207 225
207 224 bop Black Black 208 703 a FL(Chapter)31 b(12)208
910 y F5(The)38 b(Syn)m(tactic)g(Analyzer)208 1126 y
F4(The)10 b(Syn)o(tactic)h(Analyzer)f(is)g(a)g(Ja)o(v)n(a)g(program,)e
(written)j(b)o(y)f(Jean-Charles)h(Gr)o(\023)-20 b(egoire)10
b(and)208 1176 y(Da)o(vid)j(Je\013erson,)i(that)g(parses)g(a)f(TLA)852
1161 y FS(+)887 1176 y F4(sp)q(eci\014cation)h(and)f(c)o(hec)o(ks)h(it)
f(for)g(errors.)20 b(The)208 1226 y(analyzer)11 b(also)g(serv)o(es)i
(as)e(a)g(fron)o(t)g(end)h(for)f(other)h(to)q(ols,)f(suc)o(h)h(as)f
(TLC)g(\(see)i(Chapter)f(14\).)208 1276 y(It)i(is)f(a)o(v)n(ailable)f
(from)g(the)j(TLA)e(W)m(eb)h(page.)270 1325 y(Y)m(ou)f(will)g(probably)
g(run)h(the)h(analyzer)f(b)o(y)f(t)o(yping)g(the)i(command)p
Black Black 332 1408 a FV(pr)n(o)n(gr)n(am)p 484 1408
13 2 v 18 w(name)24 b(option)g(sp)n(e)n(c)p 831 1408
V 18 w(\014le)208 1491 y F4(where)p Black 208 1574 a
FV(pr)n(o)n(gr)n(am)p 360 1574 15 2 v 19 w(name)p Black
25 w F4(dep)q(ends)15 b(on)f(y)o(our)g(particular)f(system.)18
b(It)c(migh)o(t)e(b)q(e)p Black Black 436 1641 a FO(java)21
b(tlasany.SANY)p Black 208 1724 a FV(sp)n(e)n(c)p 285
1724 V 19 w(\014le)p Black 24 w F4(is)12 b(the)g(name)e(of)h(the)i
(\014le)e(con)o(taining)g(the)h(TLA)1128 1709 y FS(+)1160
1724 y F4(sp)q(eci\014cation.)18 b(Eac)o(h)12 b(mo)q(dule)311
1774 y(named)h FV(M)21 b F4(that)15 b(app)q(ears)g(in)e(the)i(sp)q
(eci\014cation)g(\(except)g(for)f(submo)q(dules\))g(m)o(ust)311
1823 y(b)q(e)i(in)e(a)g(separate)i(\014le)f(named)f FV(M)7
b FO(.tla)p F4(.)20 b(The)15 b(extension)g FO(.tla)f
F4(ma)o(y)f(b)q(e)i(omitted)311 1873 y(from)d FV(sp)n(e)n(c)p
486 1873 13 2 v 18 w(\014le)s F4(.)p Black 208 1956 a
FV(option)p Black 24 w F4(is)i(either)g(empt)o(y)f(or)h(consists)h(of)e
(one)h(of)g(the)g(follo)o(wing)d(t)o(w)o(o)j(options:)p
Black 311 2039 a FO(-s)p Black 21 w F4(Causes)i(the)g(analyzer)f(to)h
(c)o(hec)o(k)g(only)e(for)h(syn)o(tactic)h(errors)h(and)e(not)g(for)g
(se-)376 2089 y(man)o(tic)f(errors.)25 b(\(These)17 b(t)o(w)o(o)e
(classes)i(of)e(error)i(are)f(explained)g(b)q(elo)o(w.\))23
b(Y)m(ou)376 2139 y(can)c(use)h(this)g(option)e(to)h(\014nd)h(syn)o
(tax)f(errors)i(when)f(y)o(ou)e(b)q(egin)i(writing)e(a)376
2189 y(sp)q(eci\014cation.)p Black 311 2255 a FO(-d)p
Black 21 w F4(Causes)11 b(the)g(analyzer)g(to)f(en)o(ter)i(debugging)e
(mo)q(de)f(after)i(c)o(hec)o(king)g(the)g(sp)q(eci\014-)376
2305 y(cation.)16 b(In)9 b(this)h(mo)q(de,)f(y)o(ou)g(can)h(examine)e
(the)i(sp)q(eci\014cation's)h(structure|for)376 2355
y(example,)k(\014nding)h(out)g(where)h(it)f(thinks)h(a)f(particular)g
(iden)o(ti\014er)h(is)f(de\014ned)376 2405 y(or)11 b(declared.)18
b(The)12 b(do)q(cumen)o(tation)f(that)g(comes)g(with)g(the)i(analyzer)e
(explains)376 2454 y(ho)o(w)i(to)h(do)g(this.)p Black
1915 2622 a(207)p Black eop
%%Page: 208 226
208 225 bop Black 208 275 a F4(208)803 b FR(CHAPTER)14
b(12.)31 b(THE)15 b(SYNT)m(A)o(CTIC)e(ANAL)m(YZER)p 208
282 1770 2 v Black 208 391 a F4(The)20 b(rest)h(of)f(this)g(brief)g(c)o
(hapter)h(pro)o(vides)f(some)f(hin)o(ts)h(for)g(what)g(to)g(do)g(when)g
(the)208 441 y(Syn)o(tactic)14 b(Analyzer)g(rep)q(orts)h(an)f(error.)
270 491 y(The)19 b(errors)i(that)e(the)h(analyzer)f(detects)i(fall)d
(in)o(to)h(t)o(w)o(o)f(separate)j(classes,)g(whic)o(h)208
541 y(are)16 b(usually)f(called)g FV(syntactic)j F4(and)e
FV(semantic)i F4(errors.)25 b(A)15 b(syn)o(tactic)i(error)f(is)g(one)g
(that)208 591 y(mak)o(es)c(the)i(sp)q(eci\014cation)g(gramma)o(ticall)o
(y)c(incorrect,)15 b(meaning)c(that)i(it)g(violates)g(either)208
640 y(the)k(BNF)g(gramm)o(ar)d(or)i(the)h(precedence)j(and)c(alignmen)o
(t)e(rules,)j(describ)q(ed)h(in)e(Chap-)208 690 y(ter)c(15.)17
b(A)12 b(seman)o(tic)e(error)j(is)e(one)h(that)g(violates)f(the)h
(legalit)o(y)e(conditions)i(men)o(tioned)e(in)208 740
y(Chapter)i(17.)17 b(The)12 b(term)f FV(semantic)i(err)n(or)h
F4(is)e(misleading,)d(b)q(ecause)k(it)f(suggests)h(an)e(error)208
790 y(that)18 b(mak)o(es)f(a)h(sp)q(eci\014cation)h(ha)o(v)o(e)f(the)h
(wrong)f(meaning.)29 b(All)17 b(errors)j(found)d(b)o(y)h(the)208
840 y(analyzer)d(are)g(ones)h(that)f(mak)o(e)f(the)i(sp)q
(eci\014cation)g(illegal|that)d(is,)h(not)i(syn)o(tactically)208
889 y(w)o(ell-formed|and)11 b(hence)k(mak)o(e)d(it)i(ha)o(v)o(e)g(no)f
(meaning)f(at)i(all.)270 939 y(The)19 b(analyzer)g(reads)g(the)g
(\014le)g(sequen)o(tially)m(,)g(starting)f(from)f(the)i(b)q(eginning,)g
(and)208 989 y(it)f(rep)q(orts)h(a)f(syn)o(tax)h(error)g(if)e(and)i
(when)f(it)g(reac)o(hes)i(a)e(p)q(oin)o(t)g(at)g(whic)o(h)h(it)f(b)q
(ecomes)208 1039 y(imp)q(ossible)8 b(for)h(an)o(y)h(con)o(tin)o(uation)
f(to)h(pro)q(duce)h(a)e(grammaticall)o(y)e(correct)12
b(sp)q(eci\014cation.)208 1089 y(F)m(or)g(example,)f(if)h(w)o(e)g
(omitted)g(the)h(colon)f(after)h F0(9)7 b FV(r)n(e)n(q)15
b F0(2)c FV(MR)n(e)n(q)16 b F4(in)d(the)g(de\014nition)f(of)g
FV(R)n(e)n(q)208 1139 y F4(from)g(mo)q(dule)g FV(InternalMemory)18
b F4(on)13 b(page)h(52,)f(w)o(e)h(w)o(ould)f(get)p Black
Black 332 1226 a FV(R)n(e)n(q)t F4(\()p FV(p)s F4(\))495
1202 y FI(\001)491 1226 y F4(=)35 b F0(^)13 b FV(ctl)t
F4([)p FV(p)s F4(])d(=)i(\\)p FD(rdy)p F4(")558 1283
y F0(^)h(9)7 b FV(r)n(e)n(q)15 b F0(2)c FV(MR)n(e)n(q)27
b F0(^)14 b FV(Send)t F4(\()p FV(p)s FQ(;)g FV(r)n(e)n(q)t
FQ(;)f FV(memInt)t FQ(;)g FV(memInt)1455 1268 y FH(0)1467
1283 y F4(\))863 1333 y F0(^)h FV(buf)968 1318 y FH(0)991
1333 y F4(=)e([)p FV(buf)24 b FP(ex)o(cept)19 b F4(!)s([)p
FV(p)s F4(])10 b(=)i FV(r)n(e)n(q)t F4(])863 1383 y F0(^)i
FV(ctl)953 1368 y FH(0)976 1383 y F4(=)d([)p FV(ctl)19
b FP(ex)o(cept)h F4(!)s([)p FV(p)s F4(])10 b(=)i(\\)p
FD(busy)p F4("])558 1432 y F0(^)h FP(unchanged)k FV(mem)208
1514 y F4(This)c(w)o(ould)g(cause)i(the)g(analyzer)f(to)g(prin)o(t)f
(something)g(lik)o(e)p Black Black Black Black 332 1597
a FO(***Parse)20 b(Error***)332 1646 y(Encountered)g("/\\")h(at)g(line)
g(19,)g(column)g(11)208 1729 y F4(Line)e(19,)h(column)e(11)i(is)f(the)i
(p)q(osition)e(of)g(the)h F0(^)f F4(that)h(b)q(egins)g(the)g(last)g
(line)f(of)g(the)208 1779 y(de\014nition)d(\(righ)o(t)g(b)q(efore)i
(the)f FP(unchanged)p F4(\).)29 b(Un)o(til)16 b(then,)h(the)h(analyzer)
f(though)o(t)f(it)208 1829 y(w)o(as)d(parsing)h(a)g(quan)o(ti\014ed)f
(expression)i(that)f(b)q(egan)p Black Black 332 1912
a F0(9)7 b FV(r)n(e)n(q)26 b F0(2)d F4(\()p FV(MR)n(e)n(q)i
F0(^)20 b FV(Send)t F4(\()p FV(p)s FQ(;)15 b FV(r)n(e)n(q)t
FQ(;)e FV(memInt)t FQ(;)g FV(memInt)1232 1895 y FH(0)1244
1912 y F4(\))21 b F0(^)f FV(buf)1392 1895 y FH(0)1415
1912 y F4(=)12 b FQ(:)7 b(:)g(:)208 1995 y F4(\(Suc)o(h)12
b(an)f(expression)i(is)e(silly)m(,)f(ha)o(ving)g(the)i(form)e
F0(9)d FV(r)n(e)n(q)22 b F0(2)c FV(p)11 b F4(:)c FQ(:)g(:)g(:)j
F4(where)j FV(p)h F4(is)d(a)h(Bo)q(olean,)208 2045 y(but)18
b(it's)g(legal.\))30 b(The)18 b(analyzer)h(w)o(as)f(in)o(terpreting)g
(eac)o(h)h(of)f(these)h F0(^)f F4(sym)o(b)q(ols)f(as)h(an)208
2095 y(in\014x)f(op)q(erator.)29 b(Ho)o(w)o(ev)o(er,)19
b(in)o(terpreting)f(the)g(last)f F0(^)g F4(of)g(this)h(de\014nition)f
(\(at)h(line)f(19,)208 2145 y(column)12 b(11\))i(as)g(an)g(in\014x)f
(op)q(erator)i(w)o(ould)e(violate)h(the)g(alignmen)o(t)e(rules)j(for)f
(the)g(outer)208 2194 y(conjunction)f(list,)g(so)h(the)h(analyzer)f
(rep)q(orted)h(an)f(error.)270 2244 y(As)g(this)h(example)e(suggests,)i
(the)f(analyzer)h(ma)o(y)d(disco)o(v)o(er)j(a)e(syn)o(tax)i(error)g
(far)f(past)208 2294 y(the)k(actual)g(mistak)o(e.)30
b(T)m(o)18 b(help)g(y)o(ou)g(lo)q(cate)h(the)g(problem,)e(it)h(prin)o
(ts)h(out)f(a)g(trace)h(of)208 2344 y(where)g(it)e(w)o(as)h(in)g(the)h
(parse)g(tree)g(when)g(it)e(found)h(the)h(error.)31 b(F)m(or)18
b(this)g(example,)f(it)208 2394 y(prin)o(ts)p Black Black
eop
%%Page: 209 227
209 226 bop Black 1915 275 a F4(209)p 208 282 1770 2
v Black Black Black Black Black 332 391 a FO(Residual)20
b(stack)h(trace)g(follows:)332 441 y(Quantified)f(form)h(starting)f(at)
h(line)g(16,)g(column)g(14.)332 491 y(Junction)f(Item)h(starting)f(at)i
(line)f(16,)g(column)f(11.)332 541 y(AND-OR)h(Junction)f(starting)g(at)
h(line)g(15,)g(column)g(11.)332 591 y(Definition)f(starting)g(at)h
(line)g(15,)g(column)g(1.)332 640 y(Module)g(body)g(starting)f(at)h
(line)g(3,)g(column)g(1.)208 723 y F4(If)15 b(y)o(ou)g(can't)g(\014nd)h
(the)h(source)f(of)f(an)h(error,)g(try)g(the)h(\\divide)d(and)i
(conquer")g(metho)q(d:)208 773 y(k)o(eep)g(remo)o(ving)d(di\013eren)o
(t)j(parts)g(of)f(the)h(mo)q(dule)e(un)o(til)g(y)o(ou)h(isolate)g(the)h
(source)h(of)d(the)208 823 y(problem.)270 873 y(Seman)o(tic)9
b(errors)k(are)e(usually)f(easy)h(to)g(\014nd)g(b)q(ecause)h(the)g
(analyzer)f(can)g(lo)q(cate)g(them)208 923 y(precisely)m(.)24
b(A)16 b(t)o(ypical)g(seman)o(tic)f(error)i(is)e(an)h(unde\014ned)h
(sym)o(b)q(ol)d(that)i(arises)h(b)q(ecause)208 972 y(y)o(ou)e(mist)o
(yp)q(e)f(an)i(iden)o(ti\014er.)24 b(If,)15 b(instead)h(of)f(lea)o
(ving)g(out)g(the)i(colon)e(in)g(the)h(de\014nition)208
1022 y(of)d FV(R)n(e)n(q)t F4(\()p FV(p)s F4(\),)g(w)o(e)h(had)g(left)g
(out)f(the)i FV(e)i F4(in)c FV(MR)n(e)n(q)t F4(,)h(the)g(analyzer)g(w)o
(ould)g(ha)o(v)o(e)f(rep)q(orted)p Black Black Black
Black 332 1105 a FO(line)21 b(16,)g(col)g(26)h(to)f(line)g(16,)g(col)g
(28)h(of)f(module)g(InternalMemory)p Black Black 332
1176 a(Could)g(not)g(resolve)f(name)h('MRq'.)208 1251
y F4(The)c(analyzer)g(stops)h(when)f(it)f(encoun)o(ters)j(the)f
(\014rst)f(syn)o(tactic)h(error.)28 b(It)17 b(can)g(detect)208
1300 y(m)o(ultiple)11 b(seman)o(tic)i(errors)i(in)f(a)f(single)h(run.)p
Black Black eop
%%Page: 210 228
210 227 bop Black 208 275 a F4(210)803 b FR(CHAPTER)14
b(12.)31 b(THE)15 b(SYNT)m(A)o(CTIC)e(ANAL)m(YZER)p 208
282 1770 2 v Black Black Black eop
%%Page: 211 229
211 228 bop Black Black 208 703 a FL(Chapter)31 b(13)208
910 y F5(The)38 b(TLA)-10 b(T)736 933 y(E)797 910 y(X)38
b(T)m(yp)s(esetter)208 1136 y F4(TLA)m(T)315 1145 y(E)337
1136 y(X)17 b(is)f(a)g(Ja)o(v)n(a)f(program)g(for)h(t)o(yp)q(esetting)h
(TLA)1103 1121 y FS(+)1140 1136 y F4(mo)q(dules,)f(based)h(on)f(ideas)g
(b)o(y)208 1186 y(Dmitri)11 b(Sam)o(b)q(orski.)16 b(It)e(can)h(b)q(e)f
(obtained)g(through)g(the)g(TLA)g(W)m(eb)g(page.)208
1343 y FN(13.1)82 b(In)n(tro)r(duction)208 1434 y F4(TLA)m(T)315
1443 y(E)337 1434 y(X)21 b(calls)f(the)h(L)577 1426 y
FS(A)595 1434 y F4(T)618 1443 y(E)642 1434 y(X)f(program)f(to)i(do)f
(the)h(actual)g(t)o(yp)q(esetting.)39 b(L)1461 1426 y
FS(A)1479 1434 y F4(T)1502 1443 y(E)1525 1434 y(X)21
b(is)f(a)208 1484 y(do)q(cumen)o(t-pro)q(duction)e(system)h(based)h(on)
f(Donald)e(Kn)o(uth's)j(T)1278 1493 y(E)1301 1484 y(X)f(t)o(yp)q
(esetting)h(pro-)208 1534 y(gram.)314 1519 y FS(1)352
1534 y F4(L)363 1525 y FS(A)381 1534 y F4(T)404 1543
y(E)428 1534 y(X)15 b(normally)d(pro)q(duces)17 b(as)e(its)g(output)h
(a)f FV(dvi)h(\014le)s F4(|a)e(\014le)h(with)g(extension)208
1584 y FO(dvi)10 b F4(con)o(taining)f(a)h(device-indep)q(enden)o(t)j
(description)e(of)g(the)g(t)o(yp)q(eset)h(output.)17
b(TLA)m(T)1592 1593 y(E)1615 1584 y(X)208 1634 y(has)c(options)h(that)f
(allo)o(w)f(it)i(to)f(call)g(another)h(program)e(to)i(translate)g(the)g
(dvi)g(\014le)f(in)o(to)g(a)208 1683 y(P)o(ostScript)h(or)g(PDF)g
(\014le.)k(Some)13 b(v)o(ersions)h(of)f(L)971 1675 y
FS(A)989 1683 y F4(T)1012 1692 y(E)1036 1683 y(X)h(pro)q(duce)h(a)e
(PDF)h(\014le)g(directly)m(.)270 1733 y(Y)m(ou)j(m)o(ust)f(ha)o(v)o(e)h
(L)575 1725 y FS(A)593 1733 y F4(T)616 1742 y(E)639 1733
y(X)h(installed)e(on)h(y)o(our)h(computer)f(to)g(run)g(TLA)m(T)1445
1742 y(E)1468 1733 y(X.)28 b(L)1550 1725 y FS(A)1568
1733 y F4(T)1591 1742 y(E)1615 1733 y(X)208 1783 y(is)16
b(public-domain)e(soft)o(w)o(are)j(that)g(can)g(b)q(e)h(do)o(wnloaded)e
(from)f(the)j(W)m(eb;)f(proprietary)208 1833 y(v)o(ersions)h(are)h
(also)f(a)o(v)n(ailable.)29 b(The)18 b(TLA)h(W)m(eb)f(page)g(p)q(oin)o
(ts)g(to)g(the)h(TLA)m(T)1493 1842 y(E)1516 1833 y(X)f(W)m(eb)208
1883 y(page,)g(whic)o(h)h(con)o(tains)f(information)d(ab)q(out)j
(obtaining)f(L)1164 1874 y FS(A)1182 1883 y F4(T)1205
1892 y(E)1228 1883 y(X)i(and)f(a)g(P)o(ostScript)h(or)208
1932 y(PDF)13 b(con)o(v)o(erter.)270 1982 y(Y)m(ou)g(will)g(probably)g
(run)h(TLA)m(T)791 1991 y(E)814 1982 y(X)g(b)o(y)f(t)o(yping)p
Black Black 332 2060 a FO(java)21 b(tlatex.TLA)26 b F4([)p
FV(options)s F4(])h FV(\014leName)208 2137 y F4(where)10
b FV(\014leName)j F4(is)d(the)g(name)e(of)h(the)h(input)g(\014le,)g
(and)f([)p FV(options)s F4(])h(is)f(an)h(optional)e(sequence)208
2187 y(of)k(options,)g(eac)o(h)i(option)e(name)g(preceded)j(b)o(y)e(\\)
p FO(-)p F4(".)k(Some)12 b(options)g(are)i(follo)o(w)o(ed)d(b)o(y)i(an)
208 2236 y(argumen)o(t,)f(a)i(m)o(ulti-w)o(ord)e(argumen)o(t)h(b)q
(eing)h(enclosed)i(in)d(double-quotes.)20 b(If)14 b FV(\014leName)208
2286 y F4(do)q(es)h(not)f(con)o(tain)g(an)g(extension,)g(then)h(the)g
(input)f(\014le)g(is)g FV(\014leName.tla)p F4(.)19 b(F)m(or)14
b(example,)208 2336 y(the)g(command)p Black 208 2360
576 2 v 254 2387 a FK(1)271 2398 y FZ(L)280 2392 y FK(A)297
2398 y FZ(T)316 2405 y(E)337 2398 y(X)d(is)g(describ)q(ed)e(in)i
FY(L)615 2392 y FE(A)631 2398 y FY(T)651 2405 y(E)670
2398 y(X:)17 b(A)12 b(Do)n(cument)i(Pr)n(ep)n(ar)n(ation)g(System,)f
(Se)n(c)n(ond)h(Edition)p FZ(,)d(b)o(y)g(Leslie)208 2438
y(Lamp)q(ort,)h(published)f(b)o(y)i(Addison-W)m(esley)m(,)e(Reading,)h
(Massac)o(h)o(usetts,)g(1994.)20 b(T)1360 2445 y(E)1380
2438 y(X)15 b(is)e(describ)q(ed)f(in)208 2477 y FY(The)j(T)303
2484 y(E)322 2477 y(Xb)n(o)n(ok)21 b FZ(b)o(y)14 b(Donald)f(E.)h(Kn)o
(uth,)h(published)d(b)o(y)i(Addison-W)m(esley)m(,)f(Reading,)g(Massac)o
(h)o(usetts,)208 2517 y(1986.)p Black Black 1915 2622
a F4(211)p Black eop
%%Page: 212 230
212 229 bop Black 208 275 a F4(212)832 b FR(CHAPTER)14
b(13.)32 b(THE)14 b(TLA)m(T)1622 284 y(E)1645 275 y(X)g(TYPESETTER)p
208 290 1770 2 v Black Black Black 332 391 a FO(java)21
b(tlatex.TLA)42 b(-ptSize)20 b(12)43 b(-shade)f(MySpec)208
472 y F4(t)o(yp)q(esets)12 b(the)f(mo)q(dule)e(in)i(the)g(\014le)f
FV(MySp)n(e)n(c)r FQ(:)p FV(tla)k F4(using)d(the)g FV(ptSize)j
F4(option)c(with)g(argumen)o(t)208 522 y(12)h(and)i(the)g
FV(shade)j F4(option.)g(The)d(input)f(\014le)h(m)o(ust)e(con)o(tain)h
(a)g(complete)g(TLA)1469 507 y FS(+)1502 522 y F4(mo)q(dule.)208
572 y(Running)e(TLA)m(T)481 581 y(E)504 572 y(X)h(with)g(the)h
FV(help)i F4(option)d(pro)q(duces)i(a)e(list)g(of)g(all)f(options.)17
b(Running)10 b(it)208 622 y(with)h(the)h FV(info)i F4(option)d(pro)q
(duces)i(most)e(of)g(the)h(information)d(con)o(tained)i(in)h(this)f(c)o
(hapter.)208 671 y(\(The)j FV(\014leName)j F4(argumen)o(t)c(can)h(b)q
(e)h(omitted)d(when)i(using)g(the)h FV(help)h F4(or)e
FV(info)i F4(option.\))270 721 y(All)d(y)o(ou)g(probably)g(need)i(to)f
(kno)o(w)f(ab)q(out)h(using)g(TLA)m(T)1181 730 y(E)1204
721 y(X)g(is)p Black 270 802 a F0(\017)p Black 20 w F4(TLA)m(T)418
811 y(E)441 802 y(X)g(can)g(shade)h(commen)o(ts,)c(as)j(explained)g(in)
f(the)i(next)f(section.)p Black 270 884 a F0(\017)p Black
20 w F4(The)d(next)g(section)h(also)e(explains)g(ho)o(w)g(to)g(get)h
(TLA)m(T)1159 893 y(E)1182 884 y(X)g(to)f(pro)q(duce)i(a)e(P)o
(ostScript)311 934 y(or)k(PDF)g(\014le.)p Black 270 1016
a F0(\017)p Black 20 w F4(The)g FV(numb)n(er)j F4(option)c(causes)h
(TLA)m(T)908 1025 y(E)931 1016 y(X)f(to)g(prin)o(t)f(line)h(n)o(um)o(b)
q(ers)g(in)f(the)i(left)e(mar-)311 1066 y(gin.)p Black
270 1148 a F0(\017)p Black 20 w F4(Y)m(ou)f(should)g(use)h(the)g
FV(latexCommand)k F4(option)11 b(if)g(y)o(ou)f(run)i(L)1268
1139 y FS(A)1286 1148 y F4(T)1309 1156 y(E)1332 1148
y(X)g(on)f(y)o(our)g(system)311 1197 y(b)o(y)j(t)o(yping)f(something)g
(other)h(than)g FO(latex)p F4(.)j(F)m(or)c(example,)f(if)h(y)o(ou)h
(run)g(L)1493 1189 y FS(A)1511 1197 y F4(T)1534 1206
y(E)1557 1197 y(X)g(on)311 1247 y(\014le)g FV(f.tex)19
b F4(b)o(y)13 b(t)o(yping)p Black Black 436 1329 a FO(locallatex)41
b(f.tex)311 1411 y F4(then)15 b(y)o(ou)e(should)h(run)g(TLA)m(T)799
1420 y(E)822 1411 y(X)g(b)o(y)g(t)o(yping)f(something)f(lik)o(e)p
Black Black 436 1493 a FO(java)21 b(tlatex.TLA)f(-latexCommand)f
(locallatex)25 b FV(\014leName)p Black 270 1575 a F0(\017)p
Black 20 w F4(If)13 b(y)o(ou)g(happ)q(en)g(to)g(use)h(an)o(y)e(of)h
(these)h(three)h(t)o(w)o(o-c)o(haracter)e(sequences)j(in)d(a)f(com-)311
1625 y(men)o(t:)p Black Black 436 1707 a FO(`~)65 b(`^)g(`.)311
1789 y F4(then)23 b(y)o(ou'd)f(b)q(etter)i(read)f(Section)f(13.4)f(on)i
(page)f(214)f(to)i(learn)f(ab)q(out)g(ho)o(w)311 1838
y(TLA)m(T)418 1847 y(E)441 1838 y(X)14 b(formats)e(commen)o(ts.)208
1919 y(TLA)m(T)315 1928 y(E)337 1919 y(X's)20 b(output)f(should)h(b)q
(e)g(go)q(o)q(d)f(enough)g(for)g(most)f(purp)q(oses.)37
b(The)19 b(follo)o(wing)208 1969 y(sections)c(describ)q(e)i(ho)o(w)d(y)
o(ou)g(can)h(get)f(TLA)m(T)944 1978 y(E)967 1969 y(X)h(to)f(do)h(a)f(b)
q(etter)i(job,)e(and)g(what)h(to)f(do)208 2019 y(in)f(the)h(unlik)o
(ely)f(case)i(that)f(it)f(pro)q(duces)j(w)o(eird)e(output.)208
2177 y FN(13.2)82 b(Commen)n(t)28 b(Shading)208 2268
y F4(The)19 b FV(shade)k F4(option)18 b(causes)i(TLA)m(T)793
2277 y(E)816 2268 y(X)f(to)g(t)o(yp)q(eset)i(commen)o(ts)c(in)h(shaded)
i(b)q(o)o(xes.)34 b(A)208 2317 y(sp)q(eci\014cation)12
b(generally)g(lo)q(oks)f(b)q(est)i(when)g(commen)o(ts)d(are)j(shaded,)f
(as)g(they)h(are)f(in)g(this)208 2367 y(b)q(o)q(ok.)29
b(Ho)o(w)o(ev)o(er,)19 b(shading)e(is)h(not)f(supp)q(orted)j(b)o(y)d
(some)g(programs)g(for)g(viewing)g(and)208 2417 y(prin)o(ting)12
b(dvi)g(\014les.)18 b(Hence,)d(it)d(ma)o(y)f(b)q(e)j(necessary)h(to)e
(create)h(a)f(P)o(ostScript)h(or)f(PDF)g(\014le)208 2467
y(from)e(the)i(dvi)g(\014le)f(to)h(view)g(a)f(sp)q(eci\014cation)i
(with)f(shaded)g(commen)o(ts.)j(Here)e(are)g(all)d(the)208
2517 y(options)i(relev)n(an)o(t)h(to)g(shading.)p Black
Black eop
%%Page: 213 231
213 230 bop Black 208 275 a FR(13.3.)30 b(HO)o(W)14 b(IT)g(TYPESETS)h
(THE)f(SPECIFICA)m(TION)741 b F4(213)p 208 282 1770 2
v Black Black 208 391 a FO(-grayLevel)11 b FV(num)p Black
311 441 a F4(Determines)j(the)h(darkness)g(of)e(the)i(shading,)e(where)
i FV(num)j F4(is)c(a)f(n)o(um)o(b)q(er)g(b)q(et)o(w)o(een)311
491 y(0)18 b(and)f(1.)30 b(The)18 b(v)n(alue)f(0)h(means)f(completely)f
(blac)o(k,)i(and)f(1)h(means)f(white;)i(the)311 541 y(default)c(v)n
(alue)f(is)g(.85.)20 b(The)15 b(actual)g(degree)h(of)e(shading)g(dep)q
(ends)j(on)d(the)i(output)311 591 y(device)d(and)e(can)g(v)n(ary)g
(from)f(prin)o(ter)i(to)f(prin)o(ter)h(and)f(from)f(screen)j(to)e
(screen.)19 b(Y)m(ou)311 640 y(will)13 b(ha)o(v)o(e)g(to)h(exp)q
(erimen)o(t)g(to)g(\014nd)g(the)g(righ)o(t)g(v)n(alue)f(for)g(y)o(our)h
(system.)p Black 208 720 a FO(-ps)208 769 y(-nops)p Black
311 817 a F4(These)g(options)d(tell)h(TLA)m(T)750 826
y(E)773 817 y(X)g(to)g(create)i(or)e(not)g(to)g(create)h(a)f(P)o
(ostScript)h(or)f(PDF)311 867 y(output)17 b(\014le.)25
b(The)17 b(default)f(is)h(to)f(create)i(one)e(if)g(the)h
FV(shade)j F4(option)c(is)g(sp)q(eci\014ed,)311 917 y(and)e(otherwise)h
(not)f(to.)p Black 208 999 a FO(-psCommand)d FV(cmd)p
Black 311 1049 a F4(This)k(is)f(the)h(command)d(run)j(b)o(y)f(TLA)m(T)
953 1058 y(E)976 1049 y(X)h(to)f(pro)q(duce)i(the)f(P)o(ostScript)g(or)
g(PDF)311 1098 y(output)d(\014le.)17 b(Its)c(default)e(v)n(alue)g(is)g
FO(dvips)p F4(.)17 b(TLA)m(T)1114 1107 y(E)1136 1098
y(X)12 b(calls)f(the)i(op)q(erating)e(system)311 1148
y(with)j(the)g(command)p Black Black 436 1214 a FV(cmd)k(dviFile)311
1280 y F4(where)g FV(dviFile)h F4(is)d(the)h(name)e(of)h(the)h(dvi)f
(\014le)g(pro)q(duced)i(b)o(y)e(running)g(L)1485 1272
y FS(A)1503 1280 y F4(T)1526 1289 y(E)1550 1280 y(X.)25
b(If)311 1330 y(a)16 b(more)e(sophisticated)i(command)d(is)i(needed,)i
(y)o(ou)e(ma)o(y)e(w)o(an)o(t)i(to)h(use)g(the)g FV(nops)311
1380 y F4(option)d(and)h(run)g(a)g(separate)h(program)d(to)i(create)h
(the)g(P)o(ostScript)g(or)e(PDF)h(\014le.)208 1538 y
FN(13.3)82 b(Ho)n(w)27 b(It)g(T)n(yp)r(esets)g(the)f(Sp)r
(eci\014cation)208 1628 y F4(TLA)m(T)315 1637 y(E)337
1628 y(X)14 b(should)g(t)o(yp)q(eset)i(the)f(sp)q(eci\014cation)f
(itself)g(prett)o(y)h(m)o(uc)o(h)e(the)i(w)o(a)o(y)e(y)o(ou)h(w)o(ould)
208 1678 y(w)o(an)o(t)d(it)h(to.)17 b(It)12 b(preserv)o(es)i(most)d(of)
h(the)g(meaningful)e(alignmen)o(ts)g(in)h(the)i(sp)q(eci\014cation|)208
1728 y(for)g(example:)p Black Black 332 1809 a FU(Input)332
1871 y FO(Action)21 b(==)g(/\\)g(x')65 b(=)22 b(x)g(-)f(y)550
1921 y(/\\)g(yy')43 b(=)22 b(123)550 1971 y(/\\)f(zzz')g(=)h(zzz)1051
1809 y FU(Output)1051 1871 y FV(A)n(ction)1213 1848 y
FI(\001)1208 1871 y F4(=)35 b F0(^)23 b FV(x)1350 1856
y FH(0)1416 1871 y F4(=)h FV(x)14 b F0(\000)c FV(y)1275
1921 y F0(^)23 b FV(yy)1370 1906 y FH(0)1416 1921 y F4(=)h(123)1275
1971 y F0(^)f FV(zzz)1382 1956 y FH(0)1416 1971 y F4(=)h
FV(zzz)208 2050 y F4(Observ)o(e)17 b(ho)o(w)e(the)i F0(^)e
F4(and)h(=)g(sym)o(b)q(ols)e(are)i(aligned)f(in)h(the)g(output.)24
b(Extra)16 b(spaces)h(in)208 2100 y(the)12 b(input)g(will)e(b)q(e)j
(re\015ected)h(in)d(the)i(output.)k(Ho)o(w)o(ev)o(er,)c(TLA)m(T)1233
2108 y(E)1255 2100 y(X)f(treats)h(no)f(space)h(and)208
2149 y(one)h(space)h(b)q(et)o(w)o(een)g(sym)o(b)q(ols)d(the)j(same:)p
Black Black 332 2230 a FU(Input)332 2284 y FO(x+y)332
2334 y(x)22 b(+)f(y)332 2384 y(x)43 b(+)h(y)1051 2230
y FU(Output)1051 2284 y FV(x)15 b F4(+)9 b FV(y)1051
2334 y(x)15 b F4(+)9 b FV(y)1051 2384 y(x)32 b F4(+)26
b FV(y)270 2467 y F4(TLA)m(T)377 2476 y(E)400 2467 y(X)17
b(t)o(yp)q(esets)i(the)f(single)f(TLA)893 2452 y FS(+)931
2467 y F4(mo)q(dule)f(that)i(m)o(ust)e(app)q(ear)i(in)f(the)h(input)208
2517 y(\014le.)f(It)d(will)e(also)h(t)o(yp)q(eset)i(an)o(y)e(material)f
(that)h(precedes)j(and)e(follo)o(ws)e(the)i(mo)q(dule)e(as)i(if)p
Black Black eop
%%Page: 214 232
214 231 bop Black 208 275 a F4(214)832 b FR(CHAPTER)14
b(13.)32 b(THE)14 b(TLA)m(T)1622 284 y(E)1645 275 y(X)g(TYPESETTER)p
208 290 1770 2 v Black 208 391 a F4(it)h(w)o(ere)i(a)e(commen)o(t.)22
b(\(Ho)o(w)o(ev)o(er,)16 b(that)g(text)g(w)o(on't)f(b)q(e)i(shaded.\))
24 b(The)17 b FV(noPr)n(olo)n(g)i F4(and)208 441 y FV(noEpilo)n(g)e
F4(options)c(suppress)i(t)o(yp)q(esetting)g(of)e(material)e(that)i
(precedes)j(and)d(follo)o(ws)f(the)208 491 y(mo)q(dule,)g(resp)q(ectiv)
o(ely)m(.)270 541 y(TLA)m(T)377 550 y(E)400 541 y(X)h(do)q(es)h(not)f
(c)o(hec)o(k)i(that)e(the)h(sp)q(eci\014cation)g(is)f(syn)o(tactically)
g(correct)i(TLA)1625 526 y FS(+)208 591 y F4(input.)29
b(Ho)o(w)o(ev)o(er,)19 b(it)e(will)f(rep)q(ort)j(an)e(error)i(if)e(the)
h(sp)q(eci\014cation)h(con)o(tains)e(an)h(illegal)208
640 y(lexeme,)12 b(suc)o(h)j(as)f(\\)p FO(;)p F4(".)208
796 y FN(13.4)82 b(Ho)n(w)27 b(It)g(T)n(yp)r(esets)g(Commen)n(ts)208
887 y F4(TLA)m(T)315 896 y(E)337 887 y(X)18 b(distinguishes)g(b)q(et)o
(w)o(een)h(one-line)e(and)h(m)o(ulti-line)d(commen)o(ts.)27
b(A)18 b(one-line)208 937 y(commen)o(t)8 b(is)i(an)o(y)g(commen)o(t)e
(that)j(is)f(not)g(a)g(m)o(ulti-line)e(commen)o(t.)15
b(Multi-line)9 b(commen)o(ts)208 987 y(can)14 b(b)q(e)g(t)o(yp)q(ed)h
(in)e(an)o(y)g(of)h(the)g(follo)o(wing)d(three)16 b(st)o(yles:)p
Black Black Black Black 332 1057 a FO(\(**************\))171
b(\\*************)h(\(*)21 b(This)332 1107 y(\(*)g(This)g(is)87
b(*\))174 b(\\*)22 b(This)e(is)327 b(is)21 b(a)332 1156
y(\(*)g(a)h(comment.)e(*\))174 b(\\*)22 b(a)f(comment.)260
b(comment.)20 b(*\))332 1206 y(\(**************\))171
b(\\*************)208 1276 y F4(In)15 b(the)i(\014rst)f(t)o(w)o(o)g(st)
o(yles,)g(the)h FO(\(*)e F4(or)h FO(\\*)f F4(c)o(haracters)j(on)d(the)i
(left)e(m)o(ust)g(all)g(b)q(e)h(aligned,)208 1326 y(and)i(the)h(last)g
(line)f(\(con)o(taining)g(the)h(commen)o(t)d FO(**)7
b F0(\001)g(\001)g(\001)e FO(**)p F4(\))19 b(is)f(optional.)31
b(In)19 b(the)g(\014rst)208 1376 y(st)o(yle,)e(nothing)g(ma)o(y)e(app)q
(ear)j(to)f(the)g(righ)o(t)g(of)g(the)g(commen)o(t|otherwise,)f(the)i
(input)208 1426 y(is)d(considered)j(to)e(b)q(e)g(a)g(sequence)i(of)e
(separate)h(one-line)f(commen)o(ts.)22 b(The)17 b(third)f(st)o(yle)208
1476 y(w)o(orks)c(b)q(est)i(when)f(nothing)e(app)q(ears)j(on)e(the)h
(same)e(line)h(to)h(the)g(left)f(of)g(the)h FO(\(*)f
F4(or)g(to)g(the)208 1526 y(righ)o(t)h(of)g(the)i FO(*\))p
F4(.)270 1575 y(TLA)m(T)377 1584 y(E)400 1575 y(X)k(tries)g(to)g(do)g
(a)g(sensible)h(job)e(of)h(t)o(yp)q(esetting)h(commen)o(ts.)32
b(In)19 b(a)f(m)o(ulti-)208 1625 y(line)d(commen)o(t,)e(it)i(usually)f
(considers)j(a)e(sequence)j(of)d(non-blank)f(lines)i(to)f(b)q(e)h(a)f
(single)208 1675 y(paragraph,)j(in)g(whic)o(h)g(case)h(it)f(t)o(yp)q
(esets)i(them)d(as)i(one)f(paragraph)g(and)g(ignores)g(line)208
1725 y(breaks)i(in)f(the)h(input.)35 b(But)21 b(it)e(do)q(es)h(try)g
(to)g(recognize)g(tables)g(and)g(other)g(kinds)f(of)208
1775 y(m)o(ulti-li)o(ne)c(formatting)g(when)i(deciding)g(where)i(to)e
(break)g(lines.)28 b(Y)m(ou)16 b(can)i(help)f(it)g(as)208
1824 y(follo)o(ws:)p Black 270 1895 a F0(\017)p Black
20 w F4(End)e(eac)o(h)f(sen)o(tence)i(with)e(a)f(p)q(erio)q(d)h(\(\\)p
FO(.)p F4("\).)p Black 270 1971 a F0(\017)p Black 20
w F4(Add)g(blank)g(lines)f(to)h(indicate)g(the)g(logical)f(separation)h
(of)f(items.)p Black 270 2048 a F0(\017)p Black 20 w
F4(Left-align)g(the)h(lines)g(of)f(eac)o(h)i(paragraph.)208
2118 y(Belo)o(w)g(are)i(some)e(common)e(w)o(a)o(ys)i(in)h(whic)o(h)g
(TLA)m(T)1059 2127 y(E)1082 2118 y(X)g(can)g(mess)f(up)h(the)h(t)o(yp)q
(esetting)208 2168 y(of)c(commen)o(ts,)e(and)j(what)g(y)o(ou)f(can)h
(do)g(ab)q(out)g(it.)270 2218 y(TLA)m(T)377 2227 y(E)400
2218 y(X)9 b(can)h(confuse)g(parts)g(of)f(a)g(sp)q(eci\014cation)h
(with)f(ordinary)g(text.)18 b(F)m(or)9 b(example,)208
2268 y(iden)o(ti\014ers)14 b(should)f(b)q(e)h(italicized,)e(and)i(the)g
(min)o(us)d(in)i(the)h(expression)h FV(x)e F0(\000)c
FV(y)17 b F4(should)c(b)q(e)208 2317 y(t)o(yp)q(eset)j(di\013eren)o
(tly)f(from)e(the)i(dash)g(in)f FV(x-r)n(ay)p F4(.)21
b(TLA)m(T)1100 2326 y(E)1122 2317 y(X)15 b(gets)h(this)e(righ)o(t)h
(most)e(of)h(the)208 2367 y(time,)g(but)i(it)g(do)q(es)h(mak)o(e)d
(mistak)o(es.)24 b(Y)m(ou)15 b(can)h(tell)g(TLA)m(T)1182
2376 y(E)1205 2367 y(X)g(to)f(treat)i(something)e(as)208
2417 y(part)i(of)f(a)h(sp)q(eci\014cation)g(b)o(y)g(putting)f(single)h
(quotes)h(\()p FO(`)e F4(and)h FO(')p F4(\))g(around)g(it.)26
b(Y)m(ou)17 b(can)208 2467 y(tell)d(it)g(to)g(treat)h(something)e(as)i
(ordinary)f(text)h(b)o(y)f(putting)g FO(`^)g F4(and)h
FO(^')f F4(around)g(it.)19 b(F)m(or)208 2517 y(example:)p
Black Black eop
%%Page: 215 233
215 232 bop Black 208 275 a FR(13.4.)30 b(HO)o(W)14 b(IT)g(TYPESETS)h
(COMMENTS)926 b F4(215)p 208 282 1770 2 v Black Black
Black 332 391 a FU(Input)332 445 y FO(\\*****************)o(*****)o
(*****)o(*)332 495 y(\\*)21 b(A)h(better)f(value)f(of)i(`bar')f(is)332
545 y(\\*)g(now)h(in)f(`^http://foo/bar^')o(.)332 595
y(\\*****************)o(*****)o(*****)o(*)1051 391 y
FU(Output)1051 445 y F4(A)e(b)q(etter)g(v)n(alue)f(of)f
FV(b)n(ar)23 b F4(is)18 b(no)o(w)f(in)1051 495 y(h)o(ttp://fo)q(o/bar.)
208 664 y(But)d(this)g(is)g(seldom)e(necessary;)k(TLA)m(T)854
673 y(E)876 664 y(X)e(usually)f(do)q(es)i(the)g(righ)o(t)e(thing.)270
714 y FU(W)l(arning:)30 b F4(Do)20 b(not)g(put)h(an)o(y)f(c)o(haracter)
i(b)q(et)o(w)o(een)g FO(`^)e F4(and)g FO(^')g F4(except)i(letters,)208
764 y(n)o(um)o(b)q(ers,)c(and)f(ordinary)h(punctuation|unless)g(y)o(ou)
g(kno)o(w)f(what)h(y)o(ou're)g(doing.)29 b(In)208 814
y(particular,)12 b(the)h(follo)o(wing)c(c)o(haracters)15
b(ha)o(v)o(e)d(sp)q(ecial)g(meaning)f(to)h(L)1302 805
y FS(A)1320 814 y F4(T)1343 823 y(E)1367 814 y(X)g(and)g(can)h(ha)o(v)o
(e)208 864 y(unexp)q(ected)j(e\013ects)g(if)d(used)h(b)q(et)o(w)o(een)i
FO(`^)d F4(and)h FO(^')p F4(:)p Black Black 332 947 a
FO(_)43 b(~)h(#)f($)h(\045)f(^)g(&)h(<)f(>)h(\\)21 b(")43
b(|)h({)f(})208 1030 y F4(See)12 b(Section)g(13.8)f(on)g(page)h(219)f
(for)h(further)g(information)d(ab)q(out)j(what)f(can)h(go)f(b)q(et)o(w)
o(een)208 1079 y FO(`^)i F4(and)h FO(^')p F4(.)270 1129
y(TLA)m(T)377 1138 y(E)400 1129 y(X)g(isn't)h(v)o(ery)g(go)q(o)q(d)g
(at)f(cop)o(ying)g(the)i(w)o(a)o(y)e(paragraphs)h(are)g(formatted)f(in)
g(a)208 1179 y(commen)o(t.)h(F)m(or)f(example,)e(note)i(ho)o(w)g(it)f
(fails)g(to)h(align)e(the)j(t)o(w)o(o)e FV(A)p F4(s)h(in)p
Black Black 332 1262 a FU(Input)332 1316 y FO(\\*****************)o
(*****)o(*)332 1366 y(\\*)21 b(gnat:)g(A)h(tiny)f(insect.)332
1416 y(\\*)332 1466 y(\\*)g(gnu:)43 b(A)22 b(short)f(word.)332
1515 y(\\*****************)o(*****)o(*)1051 1262 y FU(Output)1051
1316 y F4(gnat:)d(A)c(tin)o(y)f(insect.)1051 1387 y(gn)o(u:)18
b(A)c(short)g(w)o(ord.)208 1585 y(Y)m(ou)9 b(can)h(tell)g(TLA)m(T)536
1594 y(E)558 1585 y(X)g(to)g(t)o(yp)q(eset)i(a)d(sequence)j(of)e(lines)
f(precisely)i(the)g(w)o(a)o(y)e(they)h(app)q(ear)208
1635 y(in)k(the)h(input,)f(using)h(a)f(\014xed-width)h(fon)o(t,)e(b)o
(y)i(enclosing)f(the)i(lines)e(with)g(`.)20 b(and)15
b(.')k(,)c(as)208 1685 y(in)p Black Black 332 1768 a
FU(Input)332 1822 y FO(\\*****************)o(*****)o(**)332
1871 y(\\*)21 b(This)g(explains)g(it)g(all:)332 1921
y(\\*)332 1971 y(\\*)87 b(`.)21 b(---)130 b(---)332 2021
y(\\*)g(|)22 b(P)g(|--->|)e(M)i(|)332 2071 y(\\*)152
b(---)130 b(---)43 b(.')332 2120 y(\\*****************)o(*****)o(**)
1051 1768 y FU(Output)1051 1822 y F4(This)14 b(explains)g(it)f(all:)p
Black Black 1138 1905 a FO(---)131 b(---)1117 1954 y(|)21
b(P)h(|--->|)e(M)i(|)1138 2004 y(---)131 b(---)208 2190
y F4(Using)10 b FO(`.)f F4(and)h FO(.')g F4(is)g(the)h(only)e
(reasonable)i(thing)f(to)g(do)g(for)g(a)g(diagram.)k(Ho)o(w)o(ev)o(er,)
d(if)e(y)o(ou)208 2240 y(kno)o(w)j(\(or)g(w)o(an)o(t)g(to)g(learn\))h
(L)659 2231 y FS(A)677 2240 y F4(T)700 2249 y(E)723 2240
y(X,)g(Section)g(13.8)e(b)q(elo)o(w)h(on)g(using)g(L)1299
2231 y FS(A)1317 2240 y F4(T)1340 2249 y(E)1364 2240
y(X)g(commands)e(in)208 2290 y(commen)o(ts)g(will)h(explain)h(ho)o(w)g
(y)o(ou)g(can)h(get)g(TLA)m(T)1033 2299 y(E)1056 2290
y(X)f(to)h(do)f(a)g(go)q(o)q(d)g(job)g(of)g(formatting)208
2340 y(things)h(lik)o(e)g(lists)h(and)g(tables.)270 2389
y(TLA)m(T)377 2398 y(E)400 2389 y(X)d(will)e(o)q(ccasionally)h(t)o(yp)q
(eset)i(a)f(paragraph)f(v)o(ery)h(lo)q(osely)m(,)f(with)h(one)g(or)g
(more)208 2439 y(lines)f(con)o(taining)e(lots)i(of)g(space)h(b)q(et)o
(w)o(een)g(the)g(w)o(ords.)17 b(This)10 b(happ)q(ens)h(if)e(there)j(is)
d(no)h(go)q(o)q(d)208 2489 y(w)o(a)o(y)h(to)g(t)o(yp)q(eset)i(the)f
(paragraph.)17 b(If)12 b(it)f(b)q(others)i(y)o(ou,)e(the)h(easiest)h
(solution)e(is)g(to)h(rewrite)p Black Black eop
%%Page: 216 234
216 233 bop Black 208 275 a F4(216)832 b FR(CHAPTER)14
b(13.)32 b(THE)14 b(TLA)m(T)1622 284 y(E)1645 275 y(X)g(TYPESETTER)p
208 290 1770 2 v Black 208 391 a F4(the)f(paragraph.)k(Y)m(ou)12
b(can)h(also)f(try)g(to)h(\014x)f(the)h(problem)e(with)i(L)1241
383 y FS(A)1259 391 y F4(T)1282 400 y(E)1305 391 y(X)g(commands.)i
(\(See)208 441 y(Section)f(13.8)e(b)q(elo)o(w.\))270
491 y(TLA)m(T)377 500 y(E)400 491 y(X)20 b(usually)f(handles)i(pairs)f
(of)f(double-quote)i(c)o(haracters)h(\()p FO(")p F4(\))e(the)h(w)o(a)o
(y)e(it)208 541 y(should:)p Black Black 332 624 a FU(Input)332
678 y FO(\\*****************)o(***)332 728 y(\\*)i(The)h(string)e("ok")
h(is)332 777 y(\\*)g(a)h("good")f(value.)332 827 y(\\*****************)
o(***)1051 624 y FU(Output)1051 678 y F4(The)i(string)f(\\)p
FD(ok)p F4(")g(is)g(a)g(\\go)q(o)q(d")1051 728 y(v)n(alue.)208
897 y(Ho)o(w)o(ev)o(er,)14 b(if)g(it)h(gets)g(confused,)g(y)o(ou)g(can)
g(use)g(single)g(quotes)g(to)f(iden)o(tify)g(string)h(v)n(alues)208
947 y(and)e FO(``)h F4(and)f FO('')h F4(to)g(pro)q(duce)h(the)f(left)g
(and)g(righ)o(t)f(double-quotes)h(of)g(ordinary)f(text:)p
Black Black 332 1030 a FU(Input)332 1084 y FO(\\*****************)o
(*****)o(*)332 1133 y(\\*)21 b(He)h(asks)f(``Is)g(`"good"')332
1183 y(\\*)43 b(bad?'')332 1233 y(\\*****************)o(*****)o(*)1051
1030 y FU(Output)1051 1084 y F4(He)15 b(asks)f(\\Is)g(\\)p
FD(go)q(o)q(d)p F4(")f(bad?")270 1303 y(TLA)m(T)377 1312
y(E)400 1303 y(X)h(ignores)h(an)o(y)f FO(\(*)g F4(.)6
b(.)h(.)20 b FO(*\))14 b F4(commen)o(t)f(that)h(app)q(ears)i(within)d
(another)i(com-)208 1353 y(men)o(t.)h(So,)11 b(y)o(ou)g(can)g(get)h(it)
f(not)g(to)h(t)o(yp)q(eset)g(part)g(of)f(a)g(commen)o(t)e(b)o(y)i
(enclosing)g(that)h(part)208 1402 y(b)q(et)o(w)o(een)i
FO(\(*)e F4(and)h FO(*\))p F4(.)k(But)c(a)g(b)q(etter)h(w)o(a)o(y)e(to)
h(omit)e(part)i(of)f(a)g(commen)o(t)f(is)i(to)f(enclose)i(it)208
1452 y(b)q(et)o(w)o(een)h FO(`~)e F4(and)h FO(~')p F4(:)p
Black Black 332 1535 a FU(Input)332 1589 y FO(\\*****************)o
(***)332 1639 y(\\*)21 b(x+y)h(is)f(always)g(`~I)332
1689 y(\\*)g(hope~')g(positive.)332 1739 y(\\*****************)o(***)
1051 1535 y FU(Output)1051 1589 y FV(x)15 b F4(+)9 b
FV(y)18 b F4(is)c(alw)o(a)o(ys)e(p)q(ositiv)o(e.)208
1863 y FN(13.5)82 b(Adjusting)26 b(the)h(Output)f(F)-7
b(ormat)208 1954 y F4(The)16 b(follo)o(wing)e(options)i(allo)o(w)f(y)o
(ou)h(to)g(adjust)h(the)g(fon)o(t)f(size,)h(the)g(dimensions)e(of)h
(the)208 2004 y(prin)o(ted)e(area,)f(and)h(the)h(p)q(osition)e(of)g
(the)i(text)f(on)g(the)g(page:)p Black 208 2087 a FO(-ptSize)e
FV(num)p Black 311 2137 a F4(Sp)q(eci\014es)j(the)f(size)g(of)f(the)h
(fon)o(t.)j(Legal)c(v)n(alues)g(of)g FV(num)k F4(are)c(10,)g(11,)f(or)i
(12,)e(whic)o(h)311 2186 y(cause)17 b(the)g(sp)q(eci\014cation)g(to)e
(b)q(e)i(t)o(yp)q(eset)g(in)f(a)f(10-,)h(11-,)f(or)h(12-p)q(oin)o(t)f
(fon)o(t.)23 b(The)311 2236 y(default)14 b(v)n(alue)f(is)h(10.)p
Black 208 2308 a FO(-textwidth)33 b FV(num)208 2358 y
FO(-textheight)11 b FV(num)p Black 311 2408 a F4(The)j(v)n(alue)f(of)g
FV(num)18 b F4(sp)q(eci\014es)d(the)f(width)g(and)f(heigh)o(t)h(of)f
(the)h(t)o(yp)q(eset)h(output,)e(in)311 2458 y(p)q(oin)o(ts.)18
b(A)c(p)q(oin)o(t)g(is)f(1/72)g(of)g(an)h(inc)o(h,)f(or)h(ab)q(out)g
(1/3)f(mm.)p Black Black eop
%%Page: 217 235
217 234 bop Black 208 275 a FR(13.6.)30 b(OUTPUT)15 b(FILES)1274
b F4(217)p 208 282 1770 2 v Black Black 208 385 a FO(-hoffset)12
b FV(num)208 434 y FO(-voffset)g FV(num)p Black 311 482
a F4(The)f(v)n(alue)f(of)g FV(num)k F4(sp)q(eci\014es)e(the)f
(distance,)g(in)f(p)q(oin)o(ts,)h(b)o(y)f(whic)o(h)g(the)h(text)g
(should)311 532 y(b)q(e)k(mo)o(v)o(ed)d(horizon)o(tally)g(or)h(v)o
(ertically)g(on)h(the)g(page.)k(Exactly)13 b(where)i(on)f(a)f(page)311
582 y(the)k(text)g(app)q(ears)f(dep)q(ends)i(on)e(the)g(prin)o(ter)h
(or)f(screen-displa)o(y)h(program.)22 b(Y)m(ou)311 632
y(ma)o(y)11 b(ha)o(v)o(e)i(to)g(adjust)g(this)g(v)n(alue)g(to)g(get)g
(the)h(output)f(to)g(app)q(ear)g(cen)o(tered)i(on)e(the)311
682 y(prin)o(ted)18 b(page,)g(or)g(for)f(the)h(en)o(tire)g(output)g(to)
f(b)q(e)h(visible)f(when)h(view)o(ed)g(on)f(the)311 731
y(screen.)208 890 y FN(13.6)82 b(Output)26 b(Files)208
981 y F4(TLA)m(T)315 990 y(E)337 981 y(X)16 b(itself)g(writes)h(either)
g(t)o(w)o(o)e(or)h(three)i(\014les,)e(dep)q(ending)h(on)f(the)g
(options.)24 b(The)208 1031 y(names)16 b(of)g(these)i(\014les)g(are)f
(normally)d(determined)j(from)e(the)j(name)e(of)g(the)i(input)e
(\014le.)208 1080 y(Ho)o(w)o(ev)o(er,)e(options)f(allo)o(w)g(y)o(ou)h
(to)f(sp)q(ecify)i(the)g(name)e(of)g(eac)o(h)i(of)e(these)j(\014les.)j
(TLA)m(T)1592 1089 y(E)1615 1080 y(X)208 1130 y(also)g(runs)h(the)g
(separate)h(L)653 1122 y FS(A)671 1130 y F4(T)694 1139
y(E)718 1130 y(X)e(program)f(and)i(p)q(ossibly)f(a)h(program)e(to)h
(pro)q(duce)i(a)208 1180 y(P)o(ostScript)e(or)g(PDF)f(\014le.)32
b(These)20 b(programs)e(pro)q(duce)i(additional)c(\014les.)33
b(Belo)o(w)18 b(are)208 1230 y(the)i(\014le-related)g(options.)35
b(In)20 b(their)g(descriptions,)i(the)e(ro)q(ot)g(of)f(a)g(\014le)h
(name)f(is)g(the)208 1280 y(name)e(with)g(an)o(y)h(extension)h(or)f
(path)g(sp)q(eci\014er)i(remo)o(v)o(ed;)f(for)f(example,)f(the)i(ro)q
(ot)f(of)208 1329 y FO(c:\\foo\\bar.tla)11 b F4(is)j
FO(bar)p F4(.)k(All)c(\014le)g(names)f(are)i(in)o(terpreted)h(relativ)o
(e)e(to)g(the)h(directory)208 1379 y(in)e(whic)o(h)h(TLA)m(T)482
1388 y(E)504 1379 y(X)g(is)g(run.)p Black 208 1462 a
FO(-out)f FV(\014leName)p Black 311 1512 a F4(If)19 b
FV(f)27 b F4(is)18 b(the)h(ro)q(ot)g(of)f FV(\014leName,)i
F4(then)f FV(f.tex)k F4(is)c(the)g(name)f(of)g(the)h(L)1435
1504 y FS(A)1453 1512 y F4(T)1476 1521 y(E)1499 1512
y(X)g(input)311 1562 y(\014le)c(that)f(TLA)m(T)576 1571
y(E)599 1562 y(X)h(writes)g(to)f(pro)q(duce)i(the)f(\014nal)f(output.)
20 b(TLA)m(T)1404 1571 y(E)1426 1562 y(X)15 b(then)g(runs)311
1612 y(L)322 1603 y FS(A)340 1612 y F4(T)363 1621 y(E)387
1612 y(X)f(with)f FV(f.tex)19 b F4(as)14 b(input,)f(pro)q(ducing)h(the)
g(follo)o(wing)e(\014les:)p Black 311 1695 a FV(f.dvi)p
Black 35 w F4(The)j(dvi)e(output)h(\014le.)p Black 311
1761 a FV(f.lo)n(g)p Black 39 w F4(A)f(log)f(\014le,)h(con)o(taining)f
(L)825 1753 y FS(A)843 1761 y F4(T)866 1770 y(E)889 1761
y(X's)h(messages.)18 b(In)13 b(this)g(\014le,)f(an)h
FV(overful)r(l)g(hb)n(ox)425 1811 y F4(w)o(arning)f(means)f(that)i(a)f
(sp)q(eci\014cation)h(line)e(is)h(to)q(o)h(wide)f(and)g(extends)i(in)o
(to)425 1861 y(the)h(righ)o(t)f(margin,)d(and)j(an)g
FV(underful)r(l)h(hb)n(ox)20 b F4(w)o(arning)13 b(means)g(that)h(L)1550
1852 y FS(A)1568 1861 y F4(T)1591 1870 y(E)1615 1861
y(X)425 1911 y(could)19 b(\014nd)h(no)f(go)q(o)q(d)g(line)f(breaks)i
(in)f(a)g(commen)o(t)e(paragraph.)34 b(Unfor-)425 1960
y(tunately)m(,)17 b(the)g(line)g(n)o(um)o(b)q(ers)f(in)h(the)g(\014le)g
(refer)h(to)e(the)i FV(f.tex)j F4(\014le,)c(not)g(to)425
2010 y(the)d(sp)q(eci\014cation.)19 b(But)14 b(b)o(y)f(examining)e(the)
j FV(f.tex)k F4(\014le,)13 b(y)o(ou)g(can)h(probably)425
2060 y(\014gure)h(out)f(where)h(the)f(corresp)q(onding)h(part)f(of)f
(the)i(sp)q(eci\014cation)f(is.)p Black 311 2126 a FV(f.aux)p
Black 26 w F4(A)g(L)481 2118 y FS(A)499 2126 y F4(T)522
2135 y(E)546 2126 y(X)g(auxiliary)e(\014le)i(that)g(is)f(of)h(no)f(in)o
(terest.)311 2209 y(The)i(default)e FV(out)18 b F4(\014le)c(name)f(is)h
(the)g(ro)q(ot)g(of)f(the)i(input)e(\014le)h(name.)p
Black 208 2292 a FO(-alignOut)e FV(\014leName)p Black
311 2342 a F4(This)f(sp)q(eci\014es)h(the)f(ro)q(ot)g(name)e(of)h(the)i
(L)945 2334 y FS(A)963 2342 y F4(T)986 2351 y(E)1009
2342 y(X)f(alignmen)o(t)d(\014le)j(TLA)m(T)1411 2351
y(E)1433 2342 y(X)g(writes|a)311 2392 y(\014le)i(describ)q(ed)i(in)d
(Section)i(13.7)d(b)q(elo)o(w)i(on)g(trouble-sho)q(oting.)k(If)c
FV(f)21 b F4(is)13 b(the)h(ro)q(ot)e(of)311 2442 y FV(\014leName)p
F4(,)i(then)h(the)g(alignmen)o(t)d(\014le)i(is)h(named)e
FV(f.tex,)g F4(and)h(running)g(L)1450 2433 y FS(A)1468
2442 y F4(T)1491 2451 y(E)1515 2442 y(X)g(on)g(it)311
2492 y(pro)q(duces)h(the)e(\014les)h FV(f.dvi)p F4(,)e
FV(f.lo)n(g)p F4(,)g(and)g FV(f.aux)p F4(.)18 b(Only)13
b(the)g FV(f.lo)n(g)j F4(\014le)d(is)g(of)f(in)o(terest.)19
b(If)p Black Black eop
%%Page: 218 236
218 235 bop Black 208 275 a F4(218)832 b FR(CHAPTER)14
b(13.)32 b(THE)14 b(TLA)m(T)1622 284 y(E)1645 275 y(X)g(TYPESETTER)p
208 290 1770 2 v Black 311 391 a F4(the)j FV(alignOut)i
F4(option)d(is)f(not)h(sp)q(eci\014ed,)h(the)g(alignmen)o(t)c(\014le)j
(is)g(giv)o(en)f(the)i(same)311 441 y(name)h(as)h(the)g
FV(out)k F4(\014le.)32 b(This)19 b(option)f(is)h(used)g(only)f(for)h
(trouble-sho)q(oting,)g(as)311 491 y(describ)q(ed)d(in)d(the)i(section)
g(b)q(elo)o(w.)p Black 208 574 a FO(-tlaOut)d FV(\014leName)p
Black 311 624 a F4(This)i(option)f(causes)j(TLA)m(T)770
633 y(E)793 624 y(X)e(to)f(write)i(to)f FV(\014leName)j
F4(a)c(\014le)h(that)g(is)g(almost)e(the)311 674 y(same)g(as)g(the)i
(input)e(\014le.)17 b(\(The)c(extension)g FV(tla)j F4(is)c(added)h(to)f
FV(\014leName)k F4(if)11 b(it)h(has)h(no)311 723 y(extension.\))19
b(The)14 b FV(tlaOut)k F4(\014le)c(di\013ers)g(from)e(the)j(input)f(in)
f(that)h(an)o(y)f(p)q(ortion)h(of)f(a)311 773 y(commen)o(t)h(enclosed)i
(b)o(y)f FO(`^)g F4(and)g FO(^')g F4(is)h(remo)o(v)o(ed,)e(and)h(ev)o
(ery)h(o)q(ccurrence)i(of)d(the)311 823 y(t)o(w)o(o-c)o(haracter)g
(strings)p Black Black 436 906 a FO(`~)65 b(~')g(`.)g(.')311
989 y F4(is)14 b(replaced)h(b)o(y)f(t)o(w)o(o)g(blanks.)19
b(As)14 b(explained)g(in)g(Section)g(13.8)f(b)q(elo)o(w,)h(the)g
FV(tlaOut)311 1039 y F4(option)c(allo)o(ws)g(y)o(ou)g(to)h(main)o(tain)
d(a)j(v)o(ersion)g(of)f(the)h(sp)q(eci\014cation)h(that)f(is)g
(readable)311 1089 y(in)j FP(asci)q(i)f F4(while)h(using)g(L)698
1080 y FS(A)716 1089 y F4(T)739 1098 y(E)762 1089 y(X)g(commands)e(to)i
(pro)o(vide)g(high-qualit)o(y)e(t)o(yp)q(esetting)311
1139 y(of)i(commen)o(ts.)i(The)e(default)g(is)f(not)h(to)g(write)g(a)g
FV(tlaOut)j F4(\014le.)p Black 208 1222 a FO(-style)12
b FV(\014leName)p Black 311 1271 a F4(This)j(option)e(is)h(of)g(in)o
(terest)i(only)d(to)i(L)930 1263 y FS(A)948 1271 y F4(T)971
1280 y(E)994 1271 y(X)g(users.)21 b(Normally)m(,)11 b(TLA)m(T)1460
1280 y(E)1482 1271 y(X)k(inserts)311 1321 y(a)j(cop)o(y)g(of)g(the)h
FV(tlatex)k F4(pac)o(k)n(age)18 b(\014le)g(in)f(the)i(L)1069
1313 y FS(A)1087 1321 y F4(T)1110 1330 y(E)1134 1321
y(X)f(input)g(\014les)h(that)f(it)g(writes.)311 1371
y(The)f FV(style)j F4(option)c(causes)i(it)e(instead)h(to)f(insert)i(a)
e FO(\\usepackage)e F4(command)g(to)311 1421 y(read)19
b(the)f(L)494 1412 y FS(A)512 1421 y F4(T)535 1430 y(E)558
1421 y(X)g(pac)o(k)n(age)g(named)e FV(\014leName)p F4(.)30
b(\(L)1130 1412 y FS(A)1148 1421 y F4(T)1171 1430 y(E)1194
1421 y(X)18 b(pac)o(k)n(age)g(\014les)g(ha)o(v)o(e)f(the)311
1471 y(extension)k FV(sty)p F4(.)36 b(That)20 b(extension)h(is)e(added)
i(to)f FV(\014leName)j F4(if)c(it's)g(not)h(already)311
1520 y(there.\))f(The)13 b(TLA)m(T)640 1529 y(E)663 1520
y(X)f(st)o(yle)h(de\014nes)g(a)f(n)o(um)o(b)q(er)g(of)g(sp)q(ecial)g
(commands)e(that)i(are)311 1570 y(written)j(b)o(y)f(TLA)m(T)622
1579 y(E)644 1570 y(X)h(in)e(its)h(L)807 1562 y FS(A)825
1570 y F4(T)848 1579 y(E)872 1570 y(X)g(input)g(\014les.)k(The)d(pac)o
(k)n(age)e(\014le)i(sp)q(eci\014ed)g(b)o(y)311 1620 y(the)d
FV(style)i F4(option)c(m)o(ust)h(also)f(de\014ne)i(those)g(commands.)j
(An)o(y)c(pac)o(k)n(age)g(\014le)g(should)311 1670 y(therefore)h(b)q(e)
f(created)h(b)o(y)d(mo)q(difying)f(the)i(standard)h FV(tlatex)k
F4(pac)o(k)n(age,)10 b(whic)o(h)g(is)g(the)311 1720 y(\014le)k
FV(tlatex.sty)j F4(in)d(the)h(same)e(directory)i(as)f(TLA)m(T)1117
1729 y(E)1140 1720 y(X's)g(Ja)o(v)n(a)f(program)f(\014les.)19
b(Y)m(ou)311 1769 y(migh)o(t)13 b(w)o(an)o(t)h(to)h(create)h(a)f(new)g
(pac)o(k)n(age)f(to)h(c)o(hange)g(the)h(w)o(a)o(y)e(TLA)m(T)1440
1778 y(E)1462 1769 y(X)h(formats)311 1819 y(the)e(sp)q(eci\014cation,)g
(or)e(to)h(de\014ne)h(additional)d(commands)g(for)i(use)g(in)g
FO(`^)p F4(.)6 b(.)g(.)h FO(^')k F4(text)311 1869 y(in)j(commen)o(ts.)
208 2027 y FN(13.7)82 b(T)-7 b(rouble-Sho)r(oting)208
2118 y F4(TLA)m(T)315 2127 y(E)337 2118 y(X's)12 b(error)h(messages)e
(should)h(b)q(e)g(self-explanatory)m(.)17 b(Ho)o(w)o(ev)o(er,)12
b(it)f(calls)g(up)q(on)h(the)208 2168 y(op)q(erating)h(system)h(up)g
(to)g(three)h(times)e(to)h(execute)h(other)g(programs:)p
Black 270 2251 a F0(\017)p Black 20 w F4(It)f(runs)h(L)460
2243 y FS(A)478 2251 y F4(T)501 2260 y(E)524 2251 y(X)f(on)g(the)g
FV(alignOut)k F4(\014le)c(that)g(it)f(wrote.)p Black
270 2334 a F0(\017)p Black 20 w F4(It)h(runs)h(L)460
2326 y FS(A)478 2334 y F4(T)501 2343 y(E)524 2334 y(X)f(on)g(the)g
FV(out)k F4(\014le)c(that)g(it)g(wrote.)p Black 270 2417
a F0(\017)p Black 20 w F4(It)i(ma)o(y)d(execute)18 b(the)e
FV(psCommand)k F4(to)c(create)g(the)h(P)o(ostScript)f(or)f(PDF)h
(output)311 2467 y(\014le.)p Black Black eop
%%Page: 219 237
219 236 bop Black 208 275 a FR(13.8.)30 b(USING)14 b(L)483
266 y Fm(A)500 275 y FR(T)523 284 y(E)546 275 y(X)g(COMMANDS)1069
b F4(219)p 208 290 1770 2 v Black 208 391 a(After)15
b(eac)o(h)f(of)g(the)h(last)f(t)o(w)o(o)g(executions,)h(TLA)m(T)1009
400 y(E)1032 391 y(X)g(writes)g(a)f(message)g(asserting)h(that)208
441 y(the)h(appropriate)g(output)g(\014le)g(w)o(as)f(written.)25
b(It)15 b(migh)o(t)f(lie.)23 b(An)o(y)16 b(of)f(those)i(executions)208
491 y(migh)o(t)10 b(fail,)h(p)q(ossibly)h(causing)g(no)g(output)h
(\014le)f(to)h(b)q(e)g(written.)18 b(Suc)o(h)13 b(a)f(failure)g(can)g
(ev)o(en)208 541 y(cause)19 b(the)h(op)q(erating)f(system)f(nev)o(er)i
(to)f(return)h(con)o(trol)e(to)h(TLA)m(T)1344 550 y(E)1366
541 y(X,)h(so)f(TLA)m(T)1592 550 y(E)1615 541 y(X)208
591 y(nev)o(er)14 b(terminates.)j(This)c(t)o(yp)q(e)h(of)f(failure)f
(is)h(the)h(lik)o(ely)e(problem)g(if)g(TLA)m(T)1426 600
y(E)1449 591 y(X)h(do)q(es)h(not)208 640 y(pro)q(duce)j(a)g(dvi)f
(\014le)g(or)h(a)f(P)o(ostScript/PDF)h(\014le,)g(or)f(if)g(it)g(nev)o
(er)i(terminates.)25 b(In)17 b(that)208 690 y(case,)h(y)o(ou)e(should)h
(try)g(rerunning)g(TLA)m(T)897 699 y(E)920 690 y(X)g(using)g(the)g
FV(alignOut)k F4(option)16 b(to)h(write)g(a)208 740 y(separate)f
(alignmen)o(t)e(\014le.)23 b(Reading)15 b(the)h(t)o(w)o(o)f(log)g
(\014les)h(that)f(L)1229 732 y FS(A)1247 740 y F4(T)1270
749 y(E)1294 740 y(X)h(pro)q(duces,)h(or)e(an)o(y)208
790 y(error)f(\014le)g(pro)q(duced)h(b)o(y)f(executing)h
FV(psCommand)p F4(,)f(ma)o(y)e(shed)j(ligh)o(t)d(on)i(the)g(problem.)
270 840 y(Normally)m(,)c(the)k(L)542 831 y FS(A)560 840
y F4(T)583 849 y(E)606 840 y(X)g(input)f(\014les)g(written)h(b)o(y)f
(TLA)m(T)1152 849 y(E)1175 840 y(X)g(should)h(not)f(pro)q(duce)h(an)o
(y)208 889 y(L)219 881 y FS(A)237 889 y F4(T)260 898
y(E)283 889 y(X)c(errors.)18 b(Ho)o(w)o(ev)o(er,)10 b(incorrect)h(L)812
881 y FS(A)830 889 y F4(T)853 898 y(E)877 889 y(X)e(commands)f(in)o
(tro)q(duced)i(in)g FO(`^)p F4(.)c(.)g(.)g FO(^')k F4(regions)208
939 y(can)k(cause)h(L)406 931 y FS(A)424 939 y F4(T)447
948 y(E)470 939 y(X)f(to)g(fail.)208 1098 y FN(13.8)82
b(Using)26 b(L)679 1083 y FT(A)709 1098 y FN(T)752 1114
y(E)795 1098 y(X)h(Commands)208 1189 y F4(TLA)m(T)315
1197 y(E)337 1189 y(X)12 b(puts)f(an)o(y)g(text)h(enclosed)g(b)q(et)o
(w)o(een)h FO(`^)e F4(and)g FO(^')f F4(in)h(a)g(commen)o(t)e(in)o(to)i
(the)g(L)1550 1180 y FS(A)1568 1189 y F4(T)1591 1197
y(E)1615 1189 y(X)208 1238 y(input)19 b(\014le)g(exactly)h(as)g(it)f
(app)q(ears.)36 b(This)19 b(allo)o(ws)f(y)o(ou)h(to)h(insert)g(L)1338
1230 y FS(A)1356 1238 y F4(T)1379 1247 y(E)1403 1238
y(X)f(formatting)208 1288 y(commands)11 b(in)i(commen)o(ts.)k(There)e
(are)f(t)o(w)o(o)f(w)o(a)o(ys)h(to)g(use)g(this.)p Black
270 1371 a F0(\017)p Black 20 w F4(Y)m(ou)9 b(can)h(enclose)h(b)q(et)o
(w)o(een)f FO(`^)f F4(and)h FO(^')f F4(a)g(short)h(phrase)g(app)q
(earing)g(on)f(a)g(single)g(line)311 1421 y(of)14 b(input.)j(L)496
1412 y FS(A)514 1421 y F4(T)537 1430 y(E)561 1421 y(X)d(t)o(yp)q(esets)
i(that)d(phrase)i(as)f(part)g(of)g(the)g(enclosing)g(paragraph.)p
Black 270 1504 a F0(\017)p Black 20 w F4(Y)m(ou)i(can)g(enclose)h(one)g
(or)f(more)f(complete)g(lines)h(of)g(a)f(m)o(ulti-line)e(commen)o(t)h
(b)q(e-)311 1554 y(t)o(w)o(een)f FO(`^)f F4(and)h FO(^')p
F4(.)k(That)12 b(text)h(is)f(t)o(yp)q(eset)i(as)f(one)f(or)h(more)e
(separate)j(paragraphs)311 1604 y(whose)k(prev)n(ailing)d(left)i
(margin)e(is)i(determined)g(b)o(y)f(the)i(p)q(osition)e(of)g(the)i
FO(`^)p F4(,)f(as)311 1653 y(sho)o(w)d(here:)p Black
Black 436 1736 a FU(Input)436 1790 y FO(\\****************)o(*****)o(*)
436 1840 y(\\*)21 b(The)g(first)g(paragraph.)436 1890
y(\\*)436 1940 y(\\*)65 b(The)21 b(2nd)g(paragraph.)436
1990 y(\\*)436 2040 y(\\*)65 b(`^)21 b(Text)g(formatted)436
2089 y(\\*)g(by)43 b(\\LaTeX.)21 b(^')436 2139 y(\\****************)o
(****)1119 1736 y FU(Output)1119 1790 y F4(The)14 b(\014rst)h
(paragraph.)1161 1861 y(The)f(2nd)g(paragraph.)1161 1932
y(T)m(ext)f(formatted)g(b)o(y)h(L)1519 1923 y FS(A)1537
1932 y F4(T)1560 1941 y(E)1583 1932 y(X.)270 2209 y(L)281
2200 y FS(A)299 2209 y F4(T)322 2218 y(E)345 2209 y(X)h(t)o(yp)q(esets)
h(the)g(text)f(b)q(et)o(w)o(een)h FO(`^)e F4(and)g FO(^')h
F4(in)f(LR)g(mo)q(de)f(for)i(a)f(one-line)g(com-)208
2259 y(men)o(t)c(and)h(in)g(paragraph)h(mo)q(de)e(for)h(a)h(m)o
(ulti-li)o(ne)d(commen)o(t.)15 b(The)d(L)1307 2250 y
FS(A)1325 2259 y F4(T)1348 2268 y(E)1372 2259 y(X)f(\014le)h(pro)q
(duced)208 2308 y(b)o(y)e(TLA)m(T)369 2317 y(E)392 2308
y(X)h(de\014nes)i(a)e FO(describe)e F4(en)o(vironmen)o(t)h(that)h(is)g
(useful)g(for)g(formatting)e(text)i(in)208 2358 y(a)f(m)o(ulti-line)e
FO(`^)p F4(.)e(.)h(.)f FO(^')k F4(region.)17 b(This)11
b(en)o(vironmen)o(t)f(is)g(the)i(same)e(as)h(the)g(standard)g(L)1550
2350 y FS(A)1568 2358 y F4(T)1591 2367 y(E)1615 2358
y(X)208 2408 y FO(description)i F4(en)o(vironmen)o(t,)h(except)j(that)f
(it)f(tak)o(es)h(an)g(argumen)o(t,)e(whic)o(h)i(should)f(b)q(e)208
2458 y(the)f(widest)g(item)f(lab)q(el)g(in)h(the)g(en)o(vironmen)o(t:)p
Black Black eop
%%Page: 220 238
220 237 bop Black 208 275 a F4(220)832 b FR(CHAPTER)14
b(13.)32 b(THE)14 b(TLA)m(T)1622 284 y(E)1645 275 y(X)g(TYPESETTER)p
208 290 1770 2 v Black Black Black 332 391 a FU(Input)332
445 y FO(\\*****************)o(*****)o(*****)o(*)332
495 y(\\*)21 b(`^\\begin{describe}{g)o(nat:})332 545
y(\\*)43 b(\\item[gnat:])20 b(Tiny)h(insect.)332 595
y(\\*)43 b(\\item[gnu:])20 b(Short)h(word.)332 645 y(\\*)43
b(\\end{describe})19 b(^')332 694 y(\\*****************)o(*****)o
(*****)1051 391 y FU(Output)1051 443 y F4(gnat:)27 b(Tin)o(y)13
b(insect.)1051 505 y(gn)o(u:)42 b(Short)14 b(w)o(ord.)208
764 y(As)g(this)g(example)f(sho)o(ws,)h(putting)g(L)803
755 y FS(A)821 764 y F4(T)844 773 y(E)867 764 y(X)g(commands)e(in)h
(commen)o(ts)g(mak)o(es)g(the)h(com-)208 814 y(men)o(ts)k(in)g(the)h
(input)g(\014le)g(rather)g(unreadable.)33 b(Y)m(ou)18
b(can)h(main)o(tain)d(b)q(oth)j(a)f(t)o(yp)q(eset)208
864 y(and)13 b(an)h FP(asci)q(i)p F4(-readable)f(v)o(ersion)h(of)f(the)
h(sp)q(eci\014cation)h(b)o(y)e(enclosing)h(text)g(that)g(should)208
913 y(app)q(ear)h(only)f(in)g(the)h FP(asci)q(i)f F4(v)o(ersion)g(b)q
(et)o(w)o(een)i FO(`~)f F4(and)f FO(~')p F4(.)20 b(Y)m(ou)14
b(can)h(then)g(accompan)o(y)208 963 y(eac)o(h)e FO(`^)p
F4(.)6 b(.)h(.)f FO(^')13 b F4(region)g(with)g(its)h
FP(asci)q(i)e F4(v)o(ersion)i(enclosed)g(b)o(y)f FO(`~)g
F4(and)g FO(~')p F4(.)18 b(F)m(or)13 b(example,)208 1013
y(the)h(input)g(\014le)g(could)f(con)o(tain)p Black Black
Black Black 332 1096 a FO(\\*****************)o(*****)o(*****)o(****)o
(*****)o(*)332 1146 y(\\*)21 b(`^)h(\\begin{describe}{)o(gnat:)o(})332
1196 y(\\*)130 b(\\item[gnat:])20 b(A)h(tiny)g(insect.)332
1246 y(\\*)130 b(\\item[gnu:])42 b(A)21 b(short)g(word.)332
1295 y(\\*)109 b(\\end{describe})19 b(^')332 1345 y(\\*)i(`~)h(gnat:)f
(A)g(tiny)g(insect.)332 1395 y(\\*)332 1445 y(\\*)87
b(gnu:)43 b(A)21 b(short)g(word.)g(~')332 1495 y(\\*****************)o
(*****)o(*****)o(****)o(*****)o(*)208 1578 y F4(The)11
b FV(tlaOut)k F4(option)10 b(causes)i(TLA)m(T)776 1587
y(E)799 1578 y(X)f(to)g(write)h(a)e(v)o(ersion)i(of)e(the)i(original)d
(sp)q(eci\014cation)208 1627 y(with)16 b FO(`^)p F4(.)6
b(.)h(.)f FO(^')17 b F4(regions)g(deleted,)i(and)e(with)g
FO(`~)g F4(and)g FO(~')f F4(strings)i(replaced)g(b)o(y)f(spaces.)208
1677 y(\(The)d(strings)g FO(`.)g F4(and)g FO(.')f F4(are)h(also)g
(replaced)h(b)o(y)e(spaces.\))20 b(In)14 b(the)g(example)f(ab)q(o)o(v)o
(e,)g(the)208 1727 y(tlaOut)g(\014le)h(w)o(ould)f(con)o(tain)h(the)g
(commen)o(t)p Black Black Black Black 332 1810 a FO
(\\*****************)o(*****)o(*****)o(****)o(*****)o(*)332
1860 y(\\*)332 1910 y(\\*)87 b(gnat:)21 b(A)g(tiny)g(insect.)332
1960 y(\\*)332 2009 y(\\*)87 b(gnu:)43 b(A)21 b(short)g(word.)332
2059 y(\\*****************)o(*****)o(*****)o(****)o(*****)o(*)208
2142 y F4(The)12 b(blank)f(line)h(at)g(the)h(top)f(w)o(as)g(pro)q
(duced)h(b)o(y)f(the)h(end-of-line)e(c)o(haracter)i(that)f(follo)o(ws)
208 2192 y(the)i FO(^')p F4(.)270 2242 y FU(W)l(arning:)29
b F4(An)19 b(error)i(in)e(a)h(L)779 2233 y FS(A)797 2242
y F4(T)820 2251 y(E)843 2242 y(X)g(command)d(inside)i
FO(`^)p F4(.)6 b(.)h(.)f FO(^')20 b F4(text)g(can)g(cause)208
2292 y(TLA)m(T)315 2301 y(E)337 2292 y(X)10 b(not)g(to)g(pro)q(duce)h
(an)o(y)f(output.)17 b(See)11 b(Section)f(13.7)f(ab)q(o)o(v)o(e)h(on)g
(trouble-sho)q(oting.)p Black Black eop
%%Page: 221 239
221 238 bop Black Black 208 703 a FL(Chapter)31 b(14)208
910 y F5(The)38 b(TLC)g(Mo)s(del)h(Chec)m(k)m(er)208
1126 y F4(TLC)17 b(is)h(a)g(program)e(for)i(\014nding)f(errors)j(in)d
(TLA)1038 1111 y FS(+)1077 1126 y F4(sp)q(eci\014cations.)31
b(It)18 b(w)o(as)g(designed)208 1176 y(and)e(implem)o(en)o(ted)f(b)o(y)
h(Y)m(uan)g(Y)m(u,)g(with)g(help)g(from)e(Leslie)j(Lamp)q(ort,)e(Mark)h
(Ha)o(yden,)208 1226 y(and)i(Mark)h(T)m(uttle.)33 b(It)19
b(is)g(a)o(v)n(ailable)e(through)i(the)g(TLA)g(W)m(eb)g(page.)33
b(This)19 b(c)o(hapter)208 1276 y(describ)q(es)d(TLC)d(V)m(ersion)h(2.)
k(A)o(t)c(the)g(time)f(I)h(am)e(writing)h(this,)h(V)m(ersion)g(2)f(is)h
(still)f(b)q(eing)208 1325 y(implem)o(en)o(ted)h(and)i(only)f(V)m
(ersion)h(1)f(is)h(a)o(v)n(ailable.)22 b(Consult)16 b(the)g(do)q(cumen)
o(tation)f(that)208 1375 y(accompanies)e(the)j(soft)o(w)o(are)f(to)f
(\014nd)h(out)g(what)f(v)o(ersion)h(it)f(is)h(and)f(ho)o(w)h(it)f
(di\013ers)i(from)208 1425 y(the)e(v)o(ersion)g(describ)q(ed)i(here.)
208 1583 y FN(14.1)82 b(In)n(tro)r(duction)27 b(to)g(TLC)208
1674 y F4(TLC)13 b(handles)h(sp)q(eci\014cations)h(that)f(ha)o(v)o(e)g
(the)h(standard)f(form)p Black Black 332 1757 a FV(Init)20
b F0(^)c FG(2)p F4([)p FV(Next)t F4(])604 1763 y FJ(vars)685
1757 y F0(^)g FV(T)m(emp)n(or)n(al)p Black -689 w F4(\(14.1\))p
Black 208 1840 a(where)f FV(Init)j F4(is)c(the)h(initial)e(predicate,)i
FV(Next)j F4(is)c(the)h(next-state)h(action,)d FV(vars)18
b F4(is)c(the)h(tu-)208 1890 y(ple)h(of)g(all)f(v)n(ariables,)h(and)h
FV(T)m(emp)n(or)n(al)j F4(is)c(a)g(temp)q(oral)g(form)o(ula)e(that)i
(usually)g(sp)q(eci\014es)208 1940 y(a)h(liv)o(eness)i(condition.)30
b(Liv)o(eness)19 b(and)f(temp)q(oral)e(form)o(ulas)g(are)j(explained)f
(in)f(Chap-)208 1990 y(ter)h(8.)29 b(If)18 b(y)o(our)f(sp)q
(eci\014cation)i(con)o(tains)e(no)h FV(T)m(emp)n(or)n(al)j
F4(form)o(ula,)15 b(so)j(it)f(has)h(the)h(form)208 2040
y FV(Init)13 b F0(^)8 b FG(2)p F4([)p FV(Next)t F4(])465
2046 y FJ(vars)531 2040 y F4(,)22 b(then)f(y)o(ou)f(can)g(ignore)h(the)
g(discussion)g(of)f(temp)q(oral)f(c)o(hec)o(king.)208
2089 y(TLC)e(do)q(es)i(not)f(handle)g(the)h(hiding)e(op)q(erator)1004
2087 y F0(9)-21 b(9)g(9)1004 2089 y(9)g(9)g(9)24 b F4(\(temp)q(oral)17
b(existen)o(tial)g(quan)o(ti\014ca-)208 2139 y(tion\).)23
b(Y)m(ou)16 b(can)g(c)o(hec)o(k)h(a)e(sp)q(eci\014cation)i(with)f
(hidden)g(v)n(ariables)f(b)o(y)h(c)o(hec)o(king)g(the)g(in-)208
2189 y(ternal)e(sp)q(eci\014cation,)g(in)f(whic)o(h)h(those)h(v)n
(ariables)e(are)h(visible.)270 2239 y(The)g(most)f(e\013ectiv)o(e)i(w)o
(a)o(y)e(to)g(\014nd)h(errors)h(in)e(a)h(sp)q(eci\014cation)g(is)g(b)o
(y)f(trying)h(to)f(v)o(erify)208 2289 y(that)h(it)g(satis\014es)i(prop)
q(erties)f(that)g(it)f(should.)19 b(TLC)c(can)f(c)o(hec)o(k)i(that)e
(the)h(sp)q(eci\014cation)208 2338 y(satis\014es)f(\(implies\))d(a)i
(large)g(class)g(of)g(TLA)g(form)o(ulas|a)d(class)j(whose)h(main)d
(restriction)208 2388 y(is)k(that)h(form)o(ulas)d(ma)o(y)h(not)h(con)o
(tain)829 2386 y F0(9)-21 b(9)g(9)829 2388 y(9)g(9)g(9)6
b F4(.)23 b(Y)m(ou)15 b(can)h(also)f(run)h(TLC)f(without)h(ha)o(ving)e
(it)208 2438 y(c)o(hec)o(k)g(an)o(y)g(prop)q(ert)o(y)m(,)g(in)f(whic)o
(h)h(case)h(it)e(will)g(just)h(lo)q(ok)f(for)g(t)o(w)o(o)h(kinds)f(of)h
(errors:)p Black 1915 2622 a(221)p Black eop
%%Page: 222 240
222 239 bop Black 208 275 a F4(222)814 b FR(CHAPTER)15
b(14.)31 b(THE)14 b(TLC)g(MODEL)g(CHECKER)p 208 282 1770
2 v Black Black 270 391 a F0(\017)p Black 20 w F4(\\Silliness")d
(errors.)19 b(As)13 b(explained)f(in)f(Section)i(6.2,)e(a)h(silly)f
(expression)i(is)f(one)h(lik)o(e)311 441 y(3)e(+)h F0(h)s
F4(1)p FQ(;)7 b F4(2)s F0(i)p F4(,)17 b(whose)g(meaning)e(is)i(not)f
(determined)h(b)o(y)g(the)g(seman)o(tics)g(of)f(TLA)1614
426 y FS(+)1634 441 y F4(.)311 491 y(A)21 b(sp)q(eci\014cation)g(is)f
(incorrect)i(if)d(whether)j(or)e(not)h(some)e(particular)h(b)q(eha)o
(vior)311 541 y(satis\014es)15 b(it)f(dep)q(ends)h(on)f(the)g(meaning)e
(of)i(a)f(silly)g(expression.)p Black 270 620 a F0(\017)p
Black 20 w F4(Deadlo)q(c)o(k.)18 b(The)d(absence)g(of)f(deadlo)q(c)o(k)
f(is)h(a)g(particular)g(prop)q(ert)o(y)h(that)f(w)o(e)g(often)311
670 y(w)o(an)o(t)h(a)h(sp)q(eci\014cation)g(to)f(satisfy;)h(it)f(is)h
(expressed)i(b)o(y)d(the)h(in)o(v)n(ariance)f(prop)q(ert)o(y)311
719 y FG(2)p F4(\()p FP(enabled)c FV(Next)t F4(\).)27
b(A)17 b(coun)o(terexample)g(to)f(this)h(prop)q(ert)o(y)h(is)f(a)f(b)q
(eha)o(vior)h(ex-)311 769 y(hibiting)c(deadlo)q(c)o(k|that)h(is,)f
(reac)o(hing)i(a)e(state)i(in)f(whic)o(h)g FV(Next)k
F4(is)c(not)g(enabled,)311 819 y(so)k(no)f(further)h(\(nonstuttering\))
g(step)h(is)e(p)q(ossible.)29 b(TLC)17 b(normally)e(c)o(hec)o(ks)j(for)
311 869 y(deadlo)q(c)o(k,)13 b(but)g(this)f(c)o(hec)o(king)h(can)g(b)q
(e)g(disabled)g(since,)g(for)f(some)g(systems,)h(dead-)311
919 y(lo)q(c)o(k)h(ma)o(y)e(just)i(indicate)g(successful)h
(termination.)208 994 y(The)d(use)h(of)e(TLC)h(will)f(b)q(e)h
(illustrated)g(with)g(a)g(simple)e(example|a)g(sp)q(eci\014cation)j(of)
e(the)208 1044 y(alternating)16 b(bit)h(proto)q(col)g(for)g(sending)g
(data)g(o)o(v)o(er)g(a)g(lossy)g(FIF)o(O)g(transmission)f(line.)208
1094 y(An)g(algorithm)d(designer)k(migh)o(t)c(describ)q(e)18
b(the)e(proto)q(col)g(as)g(a)g(system)f(that)h(lo)q(oks)g(lik)o(e)208
1143 y(this:)p Black Black 436 1202 a(Sender)p 496 1260
170 2 v 496 1322 2 63 v 543 1304 a FV(sent)p 664 1322
V 496 1324 170 2 v 496 1364 V 496 1426 2 63 v 543 1409
a(sBit)p 664 1426 V 496 1428 170 2 v 496 1468 V 496 1530
2 63 v 537 1513 a(sA)n(ck)p 664 1530 V 496 1532 170 2
v 433 1219 298 4 v 433 1571 4 353 v 726 1571 V 433 1574
298 4 v 1142 1202 a F4(Receiv)o(er)p 1202 1291 170 2
v 1202 1353 2 63 v 1247 1337 a FV(r)n(cvd)p 1370 1353
V 1202 1355 170 2 v 1202 1436 V 1202 1499 2 63 v 1248
1482 a(rBit)p 1370 1499 V 1202 1501 170 2 v 1138 1219
298 4 v 1138 1571 4 353 v 1432 1571 V 1138 1574 298 4
v 881 1302 a(msgQ)p 726 1324 416 4 v 1100 1322 a FA(-)886
1447 y FV(ackQ)p 726 1469 V 726 1467 a FA(\033)208 1647
y F4(The)f(sender)i(can)e(send)h(a)f(v)n(alue)f(when)i(the)g(one-bit)e
(v)n(alues)h FV(sBit)k F4(and)c FV(sA)n(ck)k F4(are)d(equal.)208
1696 y(It)d(sets)i(the)g(v)n(ariables)e FV(sent)18 b
F4(to)13 b(the)i(v)n(alue)e(it)g(is)h(sending)g(and)f(complemen)o(ts)f
FV(sBit)t F4(.)18 b(This)208 1746 y(v)n(alue)g(is)h(ev)o(en)o(tually)f
(deliv)o(ered)h(to)g(the)g(receiv)o(er)i(b)o(y)e(setting)g(the)g(v)n
(ariable)f FV(r)n(cvd)23 b F4(and)208 1796 y(complemen)o(ting)9
b(the)k(one-bit)g(v)n(alue)f FV(rBit)t F4(.)k(Some)c(time)f(later,)h
(the)i(sender's)g FV(sA)n(ck)j F4(v)n(alue)208 1846 y(is)e(complemen)o
(ted,)f(p)q(ermitting)g(the)i(next)g(v)n(alue)f(to)g(b)q(e)h(sen)o(t.)
24 b(The)15 b(proto)q(col)h(uses)g(t)o(w)o(o)208 1896
y(lossy)g(FIF)o(O)i(transmission)d(lines:)24 b(the)18
b(sender)g(sends)h(data)d(and)h(con)o(trol)g(information)208
1945 y(on)c FV(msgQ)t F4(,)g(and)h(the)h(receiv)o(er)g(sends)g(ac)o
(kno)o(wledgmen)o(ts)e(on)g FV(ackQ)t F4(.)270 1995 y(The)21
b(complete)f(proto)q(col)h(sp)q(eci\014cation)g(app)q(ears)h(in)e(mo)q
(dule)g FV(A)o(lternatingBit)j F4(in)208 2045 y(Figure)16
b(14.1)e(on)i(the)g(follo)o(wing)e(t)o(w)o(o)h(pages.)24
b(It)16 b(is)g(fairly)f(straigh)o(tforw)o(ard,)g(except)i(for)208
2095 y(the)11 b(liv)o(eness)g(condition.)16 b(Because)d(messages)e(can)
f(b)q(e)i(rep)q(eatedly)f(lost)g(from)e(the)i(queues,)208
2145 y(strong)j(fairness)h(of)e(the)i(actions)g(that)f(receiv)o(e)h
(messages)g(is)f(required)h(to)f(ensure)i(that)e(a)208
2194 y(message)g(that)h(k)o(eeps)g(getting)g(resen)o(t)h(is)e(ev)o(en)o
(tually)g(receiv)o(ed.)22 b(Ho)o(w)o(ev)o(er,)15 b(don't)f(w)o(orry)208
2244 y(ab)q(out)j(the)g(details)g(of)g(the)h(sp)q(eci\014cation.)28
b(F)m(or)17 b(no)o(w,)g(all)f(y)o(ou)h(need)h(to)f(kno)o(w)g(are)g(the)
208 2294 y(declarations)p Black Black 332 2376 a FP(const)m(ant)f
FV(Data)p .95 TeXcolorgray .95 TeXcolorgray 664 2396
631 57 v .95 TeXcolorgray Black 46 w FZ(The)11 b(set)g(of)g(data)g(v)n
(alues)f(that)g(can)h(b)q(e)g(sen)o(t.)p .95 TeXcolorgray
Black 332 2437 a FP(v)l(ariables)18 b FV(msgQ)t FQ(;)13
b FV(ackQ)t FQ(;)g FV(sBit)t FQ(;)g FV(sA)n(ck)t FQ(;)h
FV(rBit)t FQ(;)e FV(sent)t FQ(;)i FV(r)n(cvd)208 2517
y F4(and)f(the)i(t)o(yp)q(es)g(of)e(the)h(v)n(ariables:)p
Black Black eop
%%Page: 223 241
223 240 bop Black 208 275 a FR(14.1.)30 b(INTR)o(ODUCTION)14
b(TO)g(TLC)1075 b F4(223)p 208 282 1770 2 v Black Black
Black Black 188 461 2 25 v 190 438 672 2 v 876 445 a
FP(module)17 b FV(A)o(lternatingBit)p 1323 438 V 1995
461 2 25 v .95 TeXcolorgray .95 TeXcolorgray 200 715
1610 248 v .95 TeXcolorgray Black 208 503 a FZ(This)11
b(sp)q(eci\014cation)d(describ)q(es)i(a)h(proto)q(col)e(for)i(using)g
(lossy)f(FIF)o(O)i(transmission)d(lines)h(to)h(transmit)f(a)h(sequence)
208 542 y(of)g(v)n(alues)f(from)g(a)i(sender)e(to)h(a)g(receiv)o(er.)k
(The)d(sender)e(sends)g(a)i(data)e(v)n(alue)g FY(d)15
b FZ(b)o(y)c(sending)f(a)h(sequence)f(of)h FW(h)s FY(b)r
Fw(;)g FY(d)c FW(i)208 582 y FZ(messages)i(on)i FY(msgQ)s
FZ(,)h(where)f FY(b)j FZ(is)e(a)f(con)o(trol)f(bit.)16
b(It)c(kno)o(ws)f(that)f(the)h(message)f(has)g(b)q(een)h(receiv)o(ed)e
(when)i(it)g(re-)208 621 y(ceiv)o(es)f(the)g(ac)o(k)h
FY(b)j FZ(from)d(the)g(receiv)o(er)e(on)i FY(ackQ)s FZ(.)19
b(It)11 b(sends)f(the)h(next)g(v)n(alue)f(with)h(a)h(di\013eren)o(t)d
(con)o(trol)g(bit.)17 b(The)208 661 y(receiv)o(er)9 b(kno)o(ws)i(that)f
(a)i(message)e(on)h FY(msgQ)k FZ(con)o(tains)9 b(a)j(new)f(v)n(alue)f
(when)h(the)g(con)o(trol)f(bit)h(di\013ers)f(from)g(the)h(last)208
700 y(one)f(it)i(has)e(receiv)o(ed.)15 b(The)d(receiv)o(er)d(k)o(eeps)i
(sending)e(the)i(last)g(con)o(trol)f(bit)g(it)i(receiv)o(ed)d(on)i
FY(ackQ)s FZ(.)p .95 TeXcolorgray Black 208 765 a FP(extends)16
b FV(Natur)n(als,)e(Se)n(quenc)n(es)208 827 y FP(const)m(ants)i
FV(Data)p .95 TeXcolorgray .95 TeXcolorgray 571 848 631
57 v .95 TeXcolorgray Black 58 w FZ(The)11 b(set)g(of)g(data)g(v)n
(alues)f(that)g(can)h(b)q(e)g(sen)o(t.)p .95 TeXcolorgray
Black 208 890 a FP(v)l(ariables)17 b FQ(msg)q(Q;)p .95
TeXcolorgray .95 TeXcolorgray 557 910 1200 57 v .95 TeXcolorgray
Black 24 w FZ(The)11 b(sequence)e(of)j FW(h)s FZ(con)o(trol)d(bit,)i
(data)f(v)n(alue)s FW(i)g FZ(messages)f(in)i(transit)f(to)i(the)e
(receiv)o(er.)p .95 TeXcolorgray Black 421 948 a FQ(ack)q(Q;)p
.95 TeXcolorgray .95 TeXcolorgray 557 968 1041 57 v .95
TeXcolorgray Black 37 w FZ(The)h(sequence)e(of)j(one-bit)d(ac)o(kno)o
(wledgmen)n(ts)g(in)i(transit)f(to)h(the)g(sender.)p
.95 TeXcolorgray Black 421 1005 a FQ(sB)r(it;)p .95 TeXcolorgray
.95 TeXcolorgray 557 1026 1367 57 v .95 TeXcolorgray
Black 52 w FZ(The)g(last)g(con)o(trol)f(bit)h(sen)o(t)f(b)o(y)h
(sender;)f(it)h(is)h(complemen)n(ted)c(when)j(sending)f(a)h(new)h(data)
e(v)n(alue.)p .95 TeXcolorgray Black 421 1063 a FQ(sAck)q(;)p
.95 TeXcolorgray .95 TeXcolorgray 557 1083 829 57 v .95
TeXcolorgray Black 42 w FZ(The)h(last)g(ac)o(kno)o(wledgmen)n(t)e(bit)i
(receiv)o(ed)e(b)o(y)i(the)g(sender.)p .95 TeXcolorgray
Black 421 1121 a FQ(r)q(B)r(it;)p .95 TeXcolorgray .95
TeXcolorgray 557 1141 703 57 v .95 TeXcolorgray Black
51 w FZ(The)g(last)g(con)o(trol)f(bit)h(receiv)o(ed)e(b)o(y)i(the)g
(receiv)o(er.)p .95 TeXcolorgray Black 421 1179 a FQ(sent;)p
.95 TeXcolorgray .95 TeXcolorgray 557 1199 539 57 v .95
TeXcolorgray Black 55 w FZ(The)g(last)g(v)n(alue)f(sen)o(t)h(b)o(y)g
(the)g(sender.)p .95 TeXcolorgray Black 421 1237 a FQ(r)q(cv)q(d)p
.95 TeXcolorgray .95 TeXcolorgray 557 1257 620 57 v .95
TeXcolorgray Black 64 w FZ(The)g(last)g(v)n(alue)f(receiv)o(ed)f(b)o(y)
i(the)g(receiv)o(er.)p .95 TeXcolorgray Black 188 1285
2 25 v 190 1274 1806 2 v 1996 1285 2 25 v 208 1322 a
FV(ABInit)377 1299 y FI(\001)372 1322 y F4(=)35 b F0(^)14
b FV(msgQ)i F4(=)c F0(h)7 b(i)439 1372 y(^)14 b FV(ackQ)27
b F4(=)12 b F0(h)7 b(i)439 1422 y(^)14 b FV(sBit)45 b
F0(2)16 b(f)p F4(0)p FQ(;)7 b F4(1)p F0(g)439 1472 y(^)14
b FV(sA)n(ck)34 b F4(=)12 b FV(sBit)439 1522 y F0(^)i
FV(rBit)44 b F4(=)12 b FV(sBit)439 1572 y F0(^)i FV(sent)45
b F0(2)16 b FV(Data)439 1621 y F0(^)e FV(r)n(cvd)43 b
F0(2)16 b FV(Data)p .95 TeXcolorgray .95 TeXcolorgray
799 1641 568 355 v .95 TeXcolorgray Black 807 1322 a
FZ(The)c(initial)e(condition:)825 1372 y(Both)h(message)e(queues)h(are)
h(empt)o(y)m(.)825 1422 y(All)h(the)e(bits)h(equal)f(0)i(or)f(1)842
1472 y(and)g(are)g(equal)f(to)h(eac)o(h)g(other.)825
1572 y(The)g(initial)f(v)n(alues)g(of)i FY(sent)i FZ(and)d
FY(r)n(cvd)842 1621 y FZ(are)g(arbitrary)e(data)i(v)n(alues.)p
.95 TeXcolorgray Black 208 1695 a FV(ABT)m(yp)n(eInv)455
1671 y FI(\001)450 1695 y F4(=)35 b F0(^)14 b FV(msgQ)i
F0(2)11 b FV(Se)n(q)t F4(\()p F0(f)p F4(0)p FQ(;)c F4(1)p
F0(g)h(\002)h FV(Data)s F4(\))517 1744 y F0(^)14 b FV(ackQ)27
b F0(2)11 b FV(Se)n(q)t F4(\()p F0(f)p F4(0)p FQ(;)c
F4(1)p F0(g)p F4(\))517 1794 y F0(^)14 b FV(sBit)45 b
F0(2)11 b(f)p F4(0)p FQ(;)c F4(1)p F0(g)517 1844 y(^)14
b FV(sA)n(ck)34 b F0(2)11 b(f)p F4(0)p FQ(;)c F4(1)p
F0(g)517 1894 y(^)14 b FV(rBit)44 b F0(2)11 b(f)p F4(0)p
FQ(;)c F4(1)p F0(g)517 1944 y(^)14 b FV(sent)45 b F0(2)11
b FV(Data)517 1993 y F0(^)j FV(r)n(cvd)43 b F0(2)11 b
FV(Data)p .95 TeXcolorgray .95 TeXcolorgray 1109 1715
496 57 v .95 TeXcolorgray Black 1117 1695 a FZ(The)h(t)o(yp)q(e-correc)
o(tnes)o(s)d(in)o(v)n(arian)o(t.)p .95 TeXcolorgray Black
188 2042 2 25 v 190 2031 1806 2 v 1996 2041 2 25 v 208
2079 a FV(SndNewV)m(alue)s F4(\()p FV(d)t F4(\))554 2056
y FI(\001)549 2079 y F4(=)p .95 TeXcolorgray .95 TeXcolorgray
650 2099 908 57 v .95 TeXcolorgray Black 78 w FZ(The)i(action)f(in)h
(whic)o(h)g(the)g(sender)f(sends)g(a)i(new)f(data)g(v)n(alue)f
FY(d)s FZ(.)p .95 TeXcolorgray Black 250 2141 a F0(^)15
b FV(sA)n(ck)g F4(=)d FV(sBit)250 2191 y F0(^)j FV(sent)370
2176 y FH(0)393 2191 y F4(=)d FV(d)250 2241 y F0(^)j
FV(sBit)370 2226 y FH(0)392 2241 y F4(=)d(1)d F0(\000)h
FV(sBit)250 2291 y F0(^)15 b FV(msgQ)399 2276 y FH(0)421
2291 y F4(=)d FV(App)n(end)t F4(\()p FV(msgQ)t FQ(;)j
F0(h)s FV(sBit)848 2276 y FH(0)860 2291 y FQ(;)7 b FV(d)g
F0(i)p F4(\))250 2340 y F0(^)15 b FP(unchanged)i F0(h)s
FV(ackQ)t FQ(;)d FV(sA)n(ck)t FQ(;)g FV(rBit)t FQ(;)e
FV(r)n(cvd)c F0(i)p .95 TeXcolorgray .95 TeXcolorgray
1025 2311 670 206 v .95 TeXcolorgray Black 1033 2141
a FZ(Enabled)i(i\013)h FY(sA)n(ck)16 b FZ(equals)10 b
FY(sBit)s FZ(.)1033 2191 y(Set)h FY(sent)k FZ(to)c FY(d)s
FZ(.)1033 2241 y(Complemen)o(t)e(con)o(trol)h(bit)h FY(sBit)1033
2291 y FZ(Send)f(v)n(alue)h(on)g FY(msgQ)k FZ(with)c(new)h(con)o(trol)d
(bit.)p .95 TeXcolorgray Black Black 574 2440 a FU(Figure)15
b(14.1a:)j F4(The)d(alternating)e(bit)h(proto)q(col)f(\(b)q
(eginning\).)p Black Black Black Black eop
%%Page: 224 242
224 241 bop Black 208 275 a F4(224)814 b FR(CHAPTER)15
b(14.)31 b(THE)14 b(TLC)g(MODEL)g(CHECKER)p 208 282 1770
2 v Black Black Black Black 208 446 a FV(R)n(eSndMsg)439
423 y FI(\001)434 446 y F4(=)p .95 TeXcolorgray .95 TeXcolorgray
535 467 845 57 v .95 TeXcolorgray Black 78 w FZ(The)d(sender)f(resends)
g(the)h(last)g(message)e(it)j(sen)o(t)e(on)h FY(msgQ)s
FZ(.)p .95 TeXcolorgray Black 250 509 a F0(^)k FV(sA)n(ck)g
F0(6)p F4(=)d FV(sBit)250 558 y F0(^)j FV(msgQ)399 543
y FH(0)421 558 y F4(=)d FV(App)n(end)t F4(\()p FV(msgQ)t
FQ(;)j F0(h)s FV(sBit)t FQ(;)7 b FV(sent)g F0(i)p F4(\))250
608 y F0(^)15 b FP(unchanged)i F0(h)s FV(ackQ)t FQ(;)d
FV(sBit)t FQ(;)f FV(sA)n(ck)t FQ(;)h FV(rBit)t FQ(;)e
FV(sent)t FQ(;)i FV(r)n(cvd)7 b F0(i)p .95 TeXcolorgray
.95 TeXcolorgray 1229 578 575 106 v .95 TeXcolorgray
Black 1238 509 a FZ(Enabled)i(i\013)j FY(sA)n(ck)k FZ(do)q(esn't)10
b(equal)g FY(sBit)s FZ(.)1238 558 y(Resend)g(the)h(last)g(v)n(alue)f
(in)h FY(send)s FZ(.)p .95 TeXcolorgray Black 208 681
a FV(R)n(cvMsg)390 658 y FI(\001)385 681 y F4(=)p .95
TeXcolorgray .95 TeXcolorgray 486 701 874 57 v .95 TeXcolorgray
Black 78 w FZ(The)g(receiv)o(er)f(receiv)o(es)f(the)i(message)f(at)h
(the)g(head)f(of)h FY(msgQ)s FZ(.)p .95 TeXcolorgray
Black 250 743 a F0(^)k FV(msgQ)26 b F0(6)p F4(=)12 b
F0(h)7 b(i)250 793 y(^)15 b FV(msgQ)399 778 y FH(0)421
793 y F4(=)d FV(T)m(ail)t F4(\()p FV(msgQ)t F4(\))250
843 y F0(^)j FV(rBit)371 828 y FH(0)421 843 y F4(=)d
FV(He)n(ad)t F4(\()p FV(msgQ)t F4(\)[1])250 893 y F0(^)j
FV(r)n(cvd)372 878 y FH(0)421 893 y F4(=)d FV(He)n(ad)t
F4(\()p FV(msgQ)t F4(\)[2])p .95 TeXcolorgray .95 TeXcolorgray
797 913 594 206 v .95 TeXcolorgray Black 805 743 a FZ(Enabled)e(i\013)h
FY(msgQ)k FZ(not)c(empt)o(y)m(.)805 793 y(Remo)o(v)o(e)f(message)f
(from)i(head)f(of)h FY(msgQ)s FZ(.)805 843 y(Set)g FY(rBit)j
FZ(to)d(message's)f(con)o(trol)f(bit.)805 893 y(Set)i
FY(r)n(cvd)16 b FZ(to)11 b(message's)e(data)i(v)n(alue.)p
.95 TeXcolorgray Black 250 951 a F0(^)k FP(unchanged)i
F0(h)s FV(ackQ)t FQ(;)d FV(sBit)t FQ(;)f FV(sA)n(ck)t
FQ(;)h FV(sent)7 b F0(i)208 1024 y FV(SndA)n(ck)386 1000
y FI(\001)381 1024 y F4(=)35 b F0(^)15 b FV(ackQ)586
1009 y FH(0)609 1024 y F4(=)d FV(App)n(end)t F4(\()p
FV(ackQ)t FQ(;)j FV(rBit)t F4(\))p .95 TeXcolorgray .95
TeXcolorgray 1056 1044 722 57 v .95 TeXcolorgray Black
41 w FZ(The)d(receiv)o(er)d(sends)i FY(rBit)k FZ(on)c
FY(ackQ)16 b FZ(at)11 b(an)o(y)g(time.)p .95 TeXcolorgray
Black 448 1082 a F0(^)k FP(unchanged)i F0(h)s FV(msgQ)t
FQ(;)d FV(sBit)t FQ(;)f FV(sA)n(ck)t FQ(;)h FV(rBit)t
FQ(;)e FV(sent)t FQ(;)i FV(r)n(cvd)7 b F0(i)208 1155
y FV(R)n(cvA)n(ck)385 1131 y FI(\001)380 1155 y F4(=)35
b F0(^)14 b FV(ackQ)i F0(6)p F4(=)c F0(h)7 b(i)p .95
TeXcolorgray .95 TeXcolorgray 925 1242 637 124 v .95
TeXcolorgray Black 255 w FZ(The)k(sender)f(receiv)o(es)g(an)h(ac)o(k)f
(on)h FY(ackQ)s FZ(.)934 1194 y(It)g(remo)o(v)o(es)e(the)i(ac)o(k)g
(and)f(sets)h FY(sA)n(ck)17 b FZ(to)11 b(its)934 1234
y(v)n(alue.)p .95 TeXcolorgray Black 447 1205 a F0(^)j
FV(ackQ)584 1189 y FH(0)608 1205 y F4(=)d FV(T)m(ail)t
F4(\()p FV(ackQ)t F4(\))447 1254 y F0(^)j FV(sA)n(ck)577
1239 y FH(0)608 1254 y F4(=)d FV(He)n(ad)t F4(\()p FV(ackQ)t
F4(\))447 1304 y F0(^)j FP(unchanged)j F0(h)s FV(msgQ)t
FQ(;)d FV(sBit)t FQ(;)f FV(rBit)t FQ(;)g FV(sent)t FQ(;)g
FV(r)n(cvd)8 b F0(i)208 1377 y FV(L)n(ose)s F4(\()p FV(q)t
F4(\))386 1354 y FI(\001)382 1377 y F4(=)p .95 TeXcolorgray
.95 TeXcolorgray 483 1398 714 57 v .95 TeXcolorgray Black
77 w FZ(The)j(action)f(of)h(losing)g(a)g(message)f(from)g(queue)g
FY(q)s FZ(.)p .95 TeXcolorgray Black 250 1439 a F0(^)15
b FV(q)g F0(6)p F4(=)d F0(h)7 b(i)250 1489 y(^)15 b(9)7
b FV(i)15 b F0(2)c F4(1)j FQ(:)7 b(:)13 b FV(L)n(en)s
F4(\()p FV(q)t F4(\))19 b(:)335 1539 y FV(q)358 1524
y FH(0)381 1539 y F4(=)12 b([)p FV(j)17 b F0(2)11 b F4(1)i
FQ(:)7 b(:)13 b F4(\()p FV(L)n(en)s F4(\()p FV(q)t F4(\))d
F0(\000)g F4(1\))h F0(7!)g FP(if)23 b FV(j)17 b FQ(<)12
b FV(i)27 b FP(then)d FV(q)t F4([)p FV(j)6 b F4(])1049
1589 y FP(else)36 b FV(q)t F4([)p FV(j)14 b F4(+)9 b(1]])250
1639 y F0(^)15 b FP(unchanged)i F0(h)s FV(sBit)t FQ(;)c
FV(sA)n(ck)t FQ(;)h FV(rBit)t FQ(;)f FV(sent)t FQ(;)g
FV(r)n(cvd)8 b F0(i)p .95 TeXcolorgray .95 TeXcolorgray
1352 1654 521 251 v .95 TeXcolorgray Black 1361 1439
a FZ(Enabled)h(i\013)j FY(q)j FZ(is)c(not)g(empt)o(y)m(.)1361
1489 y(F)m(or)g(some)f FY(i)s FZ(,)1378 1540 y(remo)o(v)o(e)g(the)h
FY(i)1574 1529 y FK(th)1616 1540 y FZ(message)f(from)g
FY(q)s FZ(.)1361 1594 y(Lea)o(v)o(e)g(ev)o(ery)g(v)n(ariable)g(unc)o
(hanged)1390 1634 y(except)g FY(msgQ)15 b FZ(and)c FY(ackQ)s
FZ(.)p .95 TeXcolorgray Black 208 1716 a FV(L)n(oseMsg)394
1693 y FI(\001)389 1716 y F4(=)23 b FV(L)n(ose)s F4(\()p
FV(msgQ)t F4(\))17 b F0(^)e FP(unchanged)j FV(ackQ)p
.95 TeXcolorgray .95 TeXcolorgray 1101 1736 447 57 v
.95 TeXcolorgray Black 48 w FZ(Lose)11 b(a)g(message)f(from)g
FY(msgQ)s FZ(.)p .95 TeXcolorgray Black 208 1781 a FV(L)n(oseA)n(ck)394
1757 y FI(\001)389 1781 y F4(=)23 b FV(L)n(ose)s F4(\()p
FV(ackQ)t F4(\))17 b F0(^)f FP(unchanged)h FV(msgQ)p
.95 TeXcolorgray .95 TeXcolorgray 1101 1801 438 57 v
.95 TeXcolorgray Black 48 w FZ(Lose)11 b(a)g(message)f(from)g
FY(ackQ)s FZ(.)p .95 TeXcolorgray Black 208 1854 a FV(ABNext)394
1830 y FI(\001)389 1854 y F4(=)35 b F0(_)15 b(9)7 b FV(d)16
b F0(2)11 b FV(Data)22 b F4(:)c FV(SndNewV)m(alue)s F4(\()p
FV(d)t F4(\))456 1904 y F0(_)d FV(R)n(eSndMsg)21 b F0(_)16
b FV(R)n(cvMsg)k F0(_)c FV(SndA)n(ck)21 b F0(_)16 b FV(R)n(cvA)n(ck)456
1954 y F0(_)f FV(L)n(oseMsg)20 b F0(_)c FV(L)n(oseA)n(ck)p
.95 TeXcolorgray .95 TeXcolorgray 1325 1874 359 57 v
.95 TeXcolorgray Black 1333 1854 a FZ(The)c(next-state)d(action.)p
.95 TeXcolorgray Black 188 1994 2 25 v 190 1983 1806
2 v 1996 1993 2 25 v 208 2031 a FV(abvars)365 2007 y
FI(\001)361 2031 y F4(=)35 b F0(h)s FV(msgQ)t FQ(;)13
b FV(ackQ)t FQ(;)h FV(sBit)t FQ(;)f FV(sA)n(ck)t FQ(;)g
FV(rBit)t FQ(;)g FV(sent)t FQ(;)h FV(r)n(cvd)7 b F0(i)p
.95 TeXcolorgray .95 TeXcolorgray 1252 2051 413 57 v
.95 TeXcolorgray Black 43 w FZ(The)k(tuple)f(of)i(all)f(v)n(ariables.)p
.95 TeXcolorgray Black 208 2108 a FV(ABF)m(airness)462
2085 y FI(\001)457 2108 y F4(=)35 b F0(^)15 b F4(WF)637
2114 y FJ(abvars)736 2108 y F4(\()p FV(R)n(eSndMsg)t
F4(\))j F0(^)e F4(WF)1090 2114 y FJ(abvars)1190 2108
y F4(\()p FV(SndA)n(ck)t F4(\))524 2158 y F0(^)f F4(SF)617
2164 y FJ(abvars)717 2158 y F4(\()p FV(R)n(cvMsg)t F4(\))h
F0(^)g F4(SF)1002 2164 y FJ(abvars)1102 2158 y F4(\()p
FV(R)n(cvA)n(ck)t F4(\))p .95 TeXcolorgray .95 TeXcolorgray
1396 2128 370 57 v .95 TeXcolorgray Black 1404 2108 a
FZ(The)c(liv)o(eness)d(condition.)p .95 TeXcolorgray
Black 188 2190 2 25 v 190 2179 1806 2 v 1996 2190 2 25
v 208 2227 a FV(ABSp)n(e)n(c)388 2204 y FI(\001)383 2227
y F4(=)35 b FV(ABInit)20 b F0(^)c FG(2)p F4([)p FV(ABNext)t
F4(])842 2233 y FJ(abvars)957 2227 y F0(^)g FV(ABF)m(airness)p
.95 TeXcolorgray .95 TeXcolorgray 1280 2248 438 57 v
.95 TeXcolorgray Black 75 w FZ(The)11 b(complete)e(sp)q(eci\014cation.)
p .95 TeXcolorgray Black 188 2281 2 25 v 190 2270 1806
2 v 1996 2281 2 25 v 208 2319 a FP(theorem)16 b FV(ABSp)n(e)n(c)e
F0(\))d FG(2)p FV(ABT)m(yp)n(eInv)p 188 2361 V 190 2361
1806 2 v 1996 2361 2 25 v Black 629 2451 a FU(Figure)j(14.1b:)k
F4(The)c(alternating)g(bit)f(proto)q(col)h(\(end\).)p
Black Black Black Black eop
%%Page: 225 243
225 242 bop Black 208 275 a FR(14.1.)30 b(INTR)o(ODUCTION)14
b(TO)g(TLC)1075 b F4(225)p 208 282 1770 2 v Black Black
270 391 a F0(\017)p Black 20 w FV(msgQ)18 b F4(is)c(a)f(sequence)j(of)e
(elemen)o(ts)f(in)h F0(f)p F4(0)p FQ(;)7 b F4(1)p F0(g)g(\002)j
FV(Data)s F4(.)p Black 270 473 a F0(\017)p Black 20 w
FV(ackQ)18 b F4(is)c(a)g(sequence)i(of)d(elemen)o(ts)h(in)f
F0(f)p F4(0)p FQ(;)7 b F4(1)p F0(g)p F4(.)p Black 270
555 a F0(\017)p Black 20 w FV(sBit)t F4(,)13 b FV(sA)n(ck)t
F4(,)h(and)g FV(rBit)j F4(are)d(elemen)o(ts)g(of)f F0(f)p
F4(0)p FQ(;)7 b F4(1)p F0(g)p F4(.)p Black 270 636 a
F0(\017)p Black 20 w FV(sent)18 b F4(and)c FV(r)n(cvd)k
F4(are)c(elemen)o(ts)g(of)f FV(Data)s F4(.)208 717 y(The)k(input)h(to)f
(TLC)g(consists)i(of)e(a)g(TLA)901 702 y FS(+)939 717
y F4(mo)q(dule)f(and)h(a)g(con\014guration)g(\014le.)29
b(TLC)208 767 y(assumes)20 b(the)h(sp)q(eci\014cation)g(has)f(the)h
(form)d(of)i(form)o(ula)e(\(14.1\))h(on)h(page)g(221.)36
b(The)208 816 y(con\014guration)13 b(\014le)g(tells)h(TLC)g(the)g
(names)f(of)g(the)h(sp)q(eci\014cation)h(and)e(of)g(the)h(prop)q
(erties)208 866 y(to)c(b)q(e)h(c)o(hec)o(k)o(ed.)19 b(F)m(or)10
b(example,)f(the)i(con\014guration)g(\014le)f(for)h(the)g(alternating)f
(bit)g(proto)q(col)208 916 y(will)i(con)o(tain)h(the)i(declaration)p
Black Black 332 996 a FO(SPECIFICATION)k(ABSpec)208 1077
y F4(telling)c(TLC)h(to)h(tak)o(e)f FV(ABSp)n(e)n(c)k
F4(as)c(the)h(sp)q(eci\014cation.)27 b(If)16 b(y)o(our)g(sp)q
(eci\014cation)i(has)e(the)208 1127 y(form)j FV(Init)e
F0(^)d FG(2)p F4([)p FV(Next)t F4(])580 1133 y FJ(vars)645
1127 y F4(,)22 b(with)e(no)h(liv)o(eness)g(condition,)g(then)h(instead)
f(of)f(using)g(a)208 1176 y FO(SPECIFICATION)12 b F4(statemen)o(t,)i(y)
o(ou)g(can)h(declare)h(the)f(initial)e(predicate)j(and)f(next-state)208
1226 y(action)e(b)o(y)h(putting)f(the)i(follo)o(wing)c(t)o(w)o(o)j
(statemen)o(ts)g(in)f(the)i(con\014guration)e(\014le:)p
Black Black 332 1307 a FO(INIT)21 b(Init)332 1356 y(NEXT)g(Next)208
1437 y F4(The)16 b(prop)q(ert)o(y)g(or)g(prop)q(erties)h(to)f(b)q(e)g
(c)o(hec)o(k)o(ed)h(are)f(sp)q(eci\014ed)h(with)f(a)f
FO(PROPERTY)f F4(state-)208 1487 y(men)o(t.)i(F)m(or)d(example,)f(to)h
(c)o(hec)o(k)h(that)g FV(ABT)m(yp)n(eInv)k F4(is)13 b(actually)f(an)h
(in)o(v)n(arian)o(t,)f(w)o(e)h(could)208 1536 y(ha)o(v)o(e)g(TLC)g(c)o
(hec)o(k)i(that)e(the)h(sp)q(eci\014cation)h(implies)c
FG(2)p FV(ABT)m(yp)n(eInv)18 b F4(b)o(y)c(adding)e(the)j(de\014-)208
1586 y(nition)p Black Black 332 1667 a FV(InvPr)n(op)n(erty)588
1643 y FI(\001)583 1667 y F4(=)35 b FG(2)p FV(ABT)m(yp)n(eInv)208
1747 y F4(to)13 b(mo)q(dule)g FV(A)o(lternatingBit)k
F4(and)c(putting)h(the)g(statemen)o(t)p Black Black 332
1827 a FO(PROPERTY)20 b(InvProperty)208 1908 y F4(in)11
b(the)i(con\014guration)f(\014le.)17 b(In)o(v)n(ariance)12
b(c)o(hec)o(king)h(is)f(so)g(common)d(that)j(TLC)g(allo)o(ws)f(y)o(ou)
208 1957 y(instead)j(to)g(put)g(the)g(follo)o(wing)d(statemen)o(t)j(in)
g(the)g(con\014guration)g(\014le:)p Black Black 332 2038
a FO(INVARIANT)20 b(ABTypeInv)208 2118 y F4(The)c FO(INVARIANT)e
F4(statemen)o(t)h(m)o(ust)g(sp)q(ecify)h(a)g(state)g(predicate.)25
b(T)m(o)15 b(c)o(hec)o(k)i(in)o(v)n(ariance)208 2168
y(with)f(a)g FO(PROPERTY)f F4(statemen)o(t,)h(the)i(sp)q(eci\014ed)g
(prop)q(ert)o(y)f(has)g(to)f(b)q(e)h(of)f(the)h(form)e
FG(2)p FV(P)t F4(.)208 2218 y(Sp)q(ecifying)d(a)g(state)i(predicate)g
FV(P)j F4(in)c(a)f FO(PROPERTY)f F4(statemen)o(t)i(tells)g(TLC)f(to)h
(c)o(hec)o(k)h(that)208 2268 y(the)h(sp)q(eci\014cation)h(implies)d
FV(P)t F4(,)i(meaning)e(that)i FV(P)k F4(is)c(true)h(in)e(the)i
(initial)d(state)j(of)e(ev)o(ery)208 2317 y(b)q(eha)o(vior)f
(satisfying)g(the)i(sp)q(eci\014cation.)270 2367 y(TLC)k(w)o(orks)g(b)o
(y)g(generating)g(b)q(eha)o(viors)g(that)h(satisfy)e(the)i(sp)q
(eci\014cation.)35 b(T)m(o)18 b(do)208 2417 y(this,)g(it)f(m)o(ust)g(b)
q(e)h(giv)o(en)f(what)h(w)o(e)g(call)f(a)g FV(mo)n(del)22
b F4(of)17 b(the)h(sp)q(eci\014cation.)31 b(T)m(o)16
b(de\014ne)j(a)208 2467 y(mo)q(del,)c(w)o(e)i(m)o(ust)f(assign)h(v)n
(alues)f(to)h(the)h(sp)q(eci\014cation's)f(constan)o(t)g(parameters.)27
b(The)208 2517 y(only)15 b(constan)o(t)h(parameter)g(of)f(the)h
(alternating)g(bit)f(proto)q(col)h(sp)q(eci\014cation)h(is)e(the)i(set)
p Black Black eop
%%Page: 226 244
226 243 bop Black 208 275 a F4(226)814 b FR(CHAPTER)15
b(14.)31 b(THE)14 b(TLC)g(MODEL)g(CHECKER)p 208 282 1770
2 v Black 208 391 a FV(Data)j F4(of)d(data)g(v)n(alues.)19
b(W)m(e)14 b(can)g(tell)g(TLC)g(to)g(let)g FV(Data)k
F4(equal)c(the)h(set)g(con)o(taining)e(t)o(w)o(o)208
441 y(arbitrary)j(elemen)o(ts,)h(named)f FV(d)t F4(1)h(and)f
FV(d)t F4(2,)h(b)o(y)g(putting)f(the)i(follo)o(wing)c(declaration)i(in)
208 491 y(the)e(con\014guration)g(\014le:)p .95 TeXcolorgray
.95 TeXcolorgray 1679 696 307 237 v .95 TeXcolorgray
Black Black 1091 w FZ(The)e(k)o(eyw)o(ords)1687 530 y
Fn(CONSTANT)d FZ(and)1687 570 y Fn(CONSTANTS)g FZ(are)1687
609 y(equiv)n(alen)o(t,)g(as)i(are)1687 649 y Fn(INVARIANT)e
FZ(and)1687 688 y Fn(INVARIANTS)p FZ(.)p Black .95 TeXcolorgray
Black Black Black 332 574 a FO(CONSTANT)42 b(Data)21
b(=)h({d1,)f(d2})208 657 y F4(\(W)m(e)14 b(can)h(use)g(an)o(y)f
(sequence)j(of)d(letters)i(and)f(digits)f(con)o(taining)f(at)i(least)f
(one)h(letter)h(as)208 707 y(the)e(name)f(of)g(an)h(elemen)o(t.\))270
757 y(There)i(are)g(t)o(w)o(o)f(w)o(a)o(ys)g(to)g(use)h(TLC.)23
b(The)16 b(default)f(metho)q(d)f(is)h FV(mo)n(del)h(che)n(cking)p
F4(,)g(in)208 806 y(whic)o(h)e(it)h(tries)h(to)e(\014nd)h(all)f(reac)o
(hable)i(states|that)f(is,)g(all)e(states)1295 791 y
FS(1)1330 806 y F4(that)i(can)g(o)q(ccur)h(in)208 856
y(b)q(eha)o(viors)g(satisfying)g(the)i(form)o(ula)c FV(Init)f
F0(^)c FG(2)p F4([)p FV(Next)t F4(])1072 862 y FJ(vars)1137
856 y F4(.)27 b(Y)m(ou)16 b(can)h(also)g(run)g(TLC)f(in)208
906 y FV(simulation)i F4(mo)q(de,)d(in)g(whic)o(h)h(it)f(randomly)f
(generates)j(b)q(eha)o(viors,)f(without)g(trying)f(to)208
956 y(c)o(hec)o(k)e(all)f(reac)o(hable)h(states.)19 b(W)m(e)12
b(no)o(w)g(consider)i(mo)q(del)d(c)o(hec)o(king;)i(sim)o(ulation)c(mo)q
(de)j(is)208 1006 y(describ)q(ed)j(in)f(Section)g(14.3.2)e(on)i(page)f
(243.)270 1056 y(Exhaustiv)o(ely)j(c)o(hec)o(king)h(all)e(reac)o(hable)
j(states)f(is)g(imp)q(ossible)e(for)h(the)h(alternating)208
1105 y(bit)12 b(proto)q(col)g(b)q(ecause)i(the)g(sequences)h(of)d
(messages)g(can)h(get)g(arbitrarily)e(long,)h(so)h(there)208
1155 y(are)k(in\014nitely)f(man)o(y)f(reac)o(hable)i(states.)28
b(W)m(e)17 b(m)o(ust)e(further)j(constrain)f(the)h(mo)q(del)d(to)208
1205 y(mak)o(e)e(it)i(\014nite|that)f(is,)h(so)g(it)g(allo)o(ws)e(only)
h(a)h(\014nite)g(n)o(um)o(b)q(er)f(of)h(p)q(ossible)g(states.)22
b(W)m(e)208 1255 y(do)16 b(this)g(b)o(y)g(de\014ning)g(a)g(state)h
(predicate)g(called)f(the)h FV(c)n(onstr)n(aint)j F4(that)c(asserts)i
(b)q(ounds)p .95 TeXcolorgray .95 TeXcolorgray 1679 1460
V .95 TeXcolorgray Black Black 42 w FZ(Section)10 b(14.3)g(b)q(e-)1687
1294 y(lo)o(w)i(describ)q(es)e(ho)o(w)1687 1334 y(actions)g(as)i(w)o
(ell)f(as)1687 1373 y(state)g(predicates)1687 1412 y(can)g(b)q(e)g
(used)g(as)1687 1452 y(constrain)o(ts.)p Black .95 TeXcolorgray
Black 208 1305 a F4(on)16 b(the)g(lengths)h(of)f(the)h(sequences.)27
b(F)m(or)16 b(example,)f(the)i(follo)o(wing)d(constrain)o(t)i(asserts)
208 1354 y(that)d FV(msgQ)18 b F4(and)c FV(ackQ)k F4(ha)o(v)o(e)13
b(length)h(at)g(most)f(2:)p Black Black 332 1437 a F0(^)h
FV(L)n(en)s F4(\()p FV(msgQ)t F4(\))e F0(\024)g F4(2)332
1495 y F0(^)i FV(L)n(en)s F4(\()p FV(ackQ)t F4(\))23
b F0(\024)12 b F4(2)208 1576 y(Instead)g(of)f(sp)q(ecifying)h(the)h(b)q
(ounds)f(on)g(the)g(lengths)g(of)g(sequences)i(in)d(this)h(w)o(a)o(y)m
(,)f(I)h(prefer)208 1626 y(to)e(mak)o(e)g(them)g(parameters)g(and)h(to)
g(assign)f(them)g(v)n(alues)h(in)f(the)i(con\014guration)e(\014le.)17
b(W)m(e)208 1675 y(don't)e(w)o(an)o(t)g(to)h(put)g(in)o(to)f(the)h(sp)q
(eci\014cation)g(itself)g(declarations)g(and)f(de\014nitions)h(that)208
1725 y(are)11 b(just)g(for)g(TLC's)f(b)q(ene\014t.)19
b(So,)11 b(w)o(e)g(write)g(a)g(new)g(mo)q(dule,)f(called)g
FV(MCA)o(lternatingBit)t F4(,)208 1775 y(that)i(extends)i(the)f
FV(A)o(lternatingBit)j F4(mo)q(dule)11 b(and)h(can)h(b)q(e)h(used)f(as)
g(input)f(to)h(TLC.)k(This)208 1825 y(mo)q(dule)d(app)q(ears)j(in)f
(Figure)g(14.2)e(on)i(the)h(next)f(page.)25 b(A)16 b(p)q(ossible)g
(con\014guration)g(\014le)208 1875 y(for)j(the)i(mo)q(dule)e(app)q
(ears)i(in)e(Figure)i(14.3)d(on)i(the)h(next)g(page.)36
b(Observ)o(e)22 b(that)e(the)208 1925 y(con\014guration)g(\014le)h(m)o
(ust)f(sp)q(ecify)h(v)n(alues)f(for)h(all)e(the)j(constan)o(t)f
(parameters)g(of)f(the)208 1974 y(sp)q(eci\014cation|in)c(this)i(case,)
g(the)g(parameter)f FV(Data)j F4(from)c(the)h FV(A)o(lternatingBit)k
F4(mo)q(d-)208 2024 y(ule)16 b(and)h(the)g(t)o(w)o(o)f(parameters)h
(declared)h(in)e(mo)q(dule)g FV(MCA)o(lternatingBit)j
F4(itself.)26 b(Y)m(ou)208 2074 y(can)17 b(put)h(commen)o(ts)e(in)h
(the)h(con\014guration)g(\014le,)g(using)f(the)h(TLA)1306
2059 y FS(+)1344 2074 y F4(commen)o(t)e(syn)o(tax)208
2124 y(describ)q(ed)f(in)f(Section)g(3.5)f(\(page)h(32\).)270
2174 y(When)f(a)g(constrain)o(t)h FV(Constr)k F4(is)13
b(sp)q(eci\014ed,)h(TLC)g(c)o(hec)o(ks)g(ev)o(ery)g(state)h(that)e(app)
q(ears)208 2223 y(in)c(a)h(b)q(eha)o(vior)g(satisfying)f
FV(Init)k F0(^)c FG(2)p F4([)p FV(Next)t F4(])888 2229
y FJ(vars)962 2223 y F0(^)g FG(2)p FV(Constr)t F4(.)17
b(In)10 b(the)h(rest)g(of)e(this)h(c)o(hapter,)208 2273
y(these)15 b(states)g(will)d(b)q(e)j(called)e(the)i FV(r)n(e)n(achable)
i F4(ones.)p Black 208 2300 576 2 v 254 2327 a FK(1)271
2338 y FZ(As)d(explained)d(in)j(Section)e(2.3)h(\(page)f(18\),)h(a)h
(state)f(is)g(an)h(assignmen)o(t)d(of)i(v)n(alues)f(to)i(all)f(p)q
(ossible)208 2378 y(v)n(ariables.)h(Ho)o(w)o(ev)o(er,)e(when)g
(discussing)e(a)i(particular)d(sp)q(eci\014cation)o(,)h(w)o(e)i
(usually)e(consider)h(a)h(state)f(to)208 2417 y(b)q(e)j(an)g(assignmen)
o(t)e(of)i(v)n(alues)g(to)g(that)g(sp)q(eci\014cation)o('s)e(v)n
(ariables.)23 b(That's)14 b(what)g(I'm)g(doing)f(in)i(this)208
2457 y(c)o(hapter.)p Black Black Black eop
%%Page: 227 245
227 244 bop Black 208 275 a FR(14.1.)30 b(INTR)o(ODUCTION)14
b(TO)g(TLC)1075 b F4(227)p 208 282 1770 2 v Black Black
Black Black 188 395 2 25 v 190 372 475 2 v 678 379 a
FP(module)15 b FV(MCA)o(lternatingBit)p 1190 372 V 1665
395 2 25 v 208 437 a FP(extends)h FV(A)o(lternatingBit)208
499 y FP(const)m(ants)g FV(msgQL)n(en,)f(ackQL)n(en)208
566 y(Se)n(qConstr)n(aint)502 543 y FI(\001)497 566 y
F4(=)35 b F0(^)14 b FV(L)n(en)s F4(\()p FV(msgQ)t F4(\))e
F0(\024)g FV(msgQL)n(en)564 616 y F0(^)i FV(L)n(en)s
F4(\()p FV(ackQ)t F4(\))23 b F0(\024)12 b FV(ackQL)n(en)p
.95 TeXcolorgray .95 TeXcolorgray 1096 620 548 91 v .95
TeXcolorgray Black 1104 566 a FZ(A)g(constrain)o(t)d(on)i(the)g
(lengths)e(of)1104 605 y(sequences)g(for)i(use)g(b)o(y)g(TLC.)p
.95 TeXcolorgray Black 188 637 2 25 v 190 637 1475 2
v 1665 637 2 25 v Black 549 727 a FU(Figure)j(14.2:)k
F4(Mo)q(dule)c FV(MCA)o(lternatingBit)p F4(.)p Black
Black 270 843 a(Ha)o(ving)9 b(TLC)h(c)o(hec)o(k)h(the)g(t)o(yp)q(e)f
(in)o(v)n(arian)o(t)f(will)f(catc)o(h)j(man)o(y)d(simple)h(mistak)o
(es.)16 b(When)208 893 y(w)o(e'v)o(e)h(corrected)i(all)d(the)i(errors)g
(w)o(e)f(can)h(\014nd)f(that)g(w)o(a)o(y)m(,)f(w)o(e)i(then)f(w)o(an)o
(t)g(to)g(lo)q(ok)f(for)208 943 y(less)g(ob)o(vious)f(ones.)25
b(A)16 b(common)d(error)j(is)g(for)g(an)f(action)h(not)g(to)f(b)q(e)i
(enabled)f(when)g(it)208 992 y(should)g(b)q(e,)h(prev)o(en)o(ting)f
(some)f(states)j(from)c(b)q(eing)j(reac)o(hed.)26 b(Y)m(ou)16
b(can)g(disco)o(v)o(er)h(if)e(an)208 1042 y(action)d(is)g(nev)o(er)i
(enabled)f(b)o(y)f(using)h(the)g FV(c)n(over)n(age)j
F4(option,)11 b(describ)q(ed)k(on)d(page)h(252.)k(T)m(o)208
1092 y(disco)o(v)o(er)12 b(if)g(an)g(action)g(is)g(just)h(sometimes)d
(incorrectly)j(disabled,)f(try)h(c)o(hec)o(king)f(liv)o(eness)208
1142 y(prop)q(erties.)19 b(An)14 b(ob)o(vious)e(liv)o(eness)i(prop)q
(ert)o(y)h(for)e(the)h(alternating)f(bit)g(proto)q(col)g(is)h(that)208
1192 y(ev)o(ery)k(message)f(sen)o(t)i(is)f(ev)o(en)o(tually)f(deliv)o
(ered.)30 b(A)18 b(message)f FV(d)22 b F4(has)c(b)q(een)h(sen)o(t)f
(when)208 1241 y FV(sent)d F4(=)d FV(d)18 b F4(and)c
FV(sBit)h F0(6)p F4(=)d FV(sA)n(ck)t F4(.)18 b(So,)c(a)f(naiv)o(e)h(w)o
(a)o(y)f(to)h(state)g(this)g(prop)q(ert)o(y)h(is)p .95
TeXcolorgray .95 TeXcolorgray 1679 1256 307 125 v .95
TeXcolorgray Black Black 1687 1163 a FZ(The)d(temp)q(oral)d(op-)1687
1202 y(erator)h Fs(;)i FZ(is)g(de-)1687 1241 y(\014ned)f(on)g(page)f
(91.)p Black .95 TeXcolorgray Black Black Black 332 1329
a FV(SentL)n(e)n(adsT)m(oR)n(cvd)691 1305 y FI(\001)686
1329 y F4(=)415 1386 y F0(8)d FV(d)16 b F0(2)11 b FV(Data)23
b F4(:)18 b(\()p FV(sent)d F4(=)d FV(d)t F4(\))e F0(^)f
F4(\()p FV(sBit)15 b F0(6)p F4(=)d FV(sA)n(ck)t F4(\))g
FG(;)f F4(\()p FV(r)n(cvd)16 b F4(=)c FV(d)t F4(\))208
1467 y(F)m(orm)o(ula)6 b FV(SentL)n(e)n(adsT)m(oR)n(cvd)15
b F4(asserts)c(that,)f(for)f(an)o(y)g(data)g(v)n(alue)g
FV(d)t F4(,)h(if)e FV(sent)14 b F4(ev)o(er)c(equals)f
FV(d)208 1517 y F4(when)i FV(sBit)k F4(do)q(es)e(not)e(equal)g
FV(sA)n(ck)t F4(,)h(then)g FV(r)n(cvd)j F4(m)o(ust)c(ev)o(en)o(tually)f
(equal)h FV(d)t F4(.)18 b(This)11 b(do)q(esn't)208 1567
y(assert)h(that)e(ev)o(ery)i(message)e(sen)o(t)i(is)f(ev)o(en)o(tually)
f(deliv)o(ered.)17 b(F)m(or)11 b(example,)e(it)i(is)f(satis\014ed)208
1616 y(b)o(y)h(a)h(b)q(eha)o(vior)f(in)h(whic)o(h)g(a)f(particular)h(v)
n(alue)f FV(d)17 b F4(is)11 b(sen)o(t)i(t)o(wice,)f(but)g(receiv)o(ed)i
(only)d(once.)208 1666 y(Ho)o(w)o(ev)o(er,)21 b(the)f(form)o(ula)d(is)j
(go)q(o)q(d)f(enough)h(for)f(our)h(purp)q(oses)h(b)q(ecause)h(the)e
(proto)q(col)208 1716 y(do)q(esn't)14 b(dep)q(end)h(on)e(the)i(actual)e
(v)n(alues)g(b)q(eing)h(sen)o(t.)19 b(If)13 b(it)g(w)o(ere)i(p)q
(ossible)f(for)f(the)i(same)208 1766 y(v)n(alue)e(to)g(b)q(e)i(sen)o(t)
g(t)o(wice)f(but)g(receiv)o(ed)h(only)e(once,)h(then)h(it)e(w)o(ould)g
(b)q(e)i(p)q(ossible)f(for)f(t)o(w)o(o)208 1816 y(di\013eren)o(t)d(v)n
(alues)g(to)g(b)q(e)g(sen)o(t)h(and)f(only)f(one)h(receiv)o(ed,)h
(violating)d FV(SentL)n(e)n(adsT)m(oR)n(cvd)t F4(.)18
b(W)m(e)208 1866 y(therefore)f(add)f(the)h(de\014nition)f(of)g
FV(SentL)n(e)n(adsT)m(oR)n(cvd)21 b F4(to)16 b(mo)q(dule)f
FV(MCA)o(lternatingBit)208 1915 y F4(and)e(add)h(the)g(follo)o(wing)e
(statemen)o(t)i(to)f(the)i(con\014guration)e(\014le:)p
Black Black 332 1998 a FO(PROPERTY)20 b(SentLeadsToRcvd)p
Black 251 2100 a(CONSTANTS)107 b(Data)87 b(=)21 b({d1,)g(d2})65
b(\(*)21 b(Is)h(this)f(big)g(enough?)42 b(*\))556 2149
y(msgQLen)21 b(=)g(2)556 2199 y(ackQLen)g(=)g(2)65 b(\\*)22
b(Try)f(3)g(next.)251 2249 y(SPECIFICATION)e(ABSpec)251
2299 y(INVARIANT)107 b(ABTypeInv)251 2349 y(CONSTRAINT)85
b(SeqConstraint)p Black 337 2438 a FU(Figure)14 b(14.3:)19
b F4(A)14 b(con\014guration)f(\014le)h(for)g(mo)q(dule)e
FV(MCA)o(lternatingBit)p F4(.)p Black Black Black Black
eop
%%Page: 228 246
228 245 bop Black 208 275 a F4(228)814 b FR(CHAPTER)15
b(14.)31 b(THE)14 b(TLC)g(MODEL)g(CHECKER)p 208 282 1770
2 v Black 208 391 a F4(Chec)o(king)f(liv)o(eness)h(prop)q(erties)g(is)g
(a)f(lot)f(slo)o(w)o(er)i(than)f(other)h(kinds)f(of)g(c)o(hec)o(king,)g
(so)g(y)o(ou)208 441 y(should)e(do)g(it)g(only)f(after)i(y)o(ou'v)o(e)e
(found)h(all)f(the)i(errors)h(y)o(ou)d(can)i(b)o(y)f(c)o(hec)o(king)h
(in)o(v)n(ariance)208 491 y(prop)q(erties.)270 541 y(Chec)o(king)i(t)o
(yp)q(e)i(correctness)h(and)e(prop)q(ert)o(y)g FV(SentL)n(e)n(adsT)m
(oR)n(cvd)20 b F4(is)15 b(a)f(go)q(o)q(d)g(w)o(a)o(y)g(to)208
591 y(start)19 b(lo)q(oking)e(for)h(errors.)33 b(But)19
b(ultimately)m(,)e(w)o(e)h(w)o(ould)g(lik)o(e)g(to)g(see)i(if)e(the)h
(proto)q(col)208 640 y(meets)d(its)g(sp)q(eci\014cation.)26
b(Ho)o(w)o(ev)o(er,)17 b(w)o(e)g(don't)f(ha)o(v)o(e)g(its)g(sp)q
(eci\014cation.)26 b(In)17 b(fact,)f(it)g(is)208 690
y(t)o(ypical)d(in)g(practice)i(that)f(w)o(e)h(are)f(called)g(up)q(on)g
(to)g(c)o(hec)o(k)g(the)h(correctness)i(of)c(a)h(system)208
740 y(design)i(without)f(an)o(y)h(formal)d(sp)q(eci\014cation)k(of)e
(what)h(the)g(system)g(is)g(supp)q(osed)h(to)f(do.)208
790 y(In)11 b(that)h(case,)h(w)o(e)f(can)g(write)g(an)f
FV(ex)i(p)n(ost)g(facto)i F4(sp)q(eci\014cation.)j(Mo)q(dule)11
b FV(ABCorr)n(e)n(ctness)208 840 y F4(in)18 b(Figure)g(14.4)f(on)i(the)
g(next)g(page)f(is)g(suc)o(h)i(a)e(sp)q(eci\014cation)h(of)f
(correctness)j(for)d(the)208 889 y(alternating)h(bit)h(proto)q(col.)36
b(It)20 b(is)g(actually)f(a)h(simpli\014ed)e(v)o(ersion)i(of)g(the)g
(proto)q(col's)208 939 y(sp)q(eci\014cation)15 b(in)f(whic)o(h,)g
(instead)h(of)f(b)q(eing)h(read)g(from)e(messages,)h(the)h(v)n
(ariables)f FV(r)n(cvd)t F4(,)208 989 y FV(rBit)t F4(,)e(and)i
FV(sA)n(ck)k F4(are)c(obtained)g(directly)g(from)e(the)j(v)n(ariables)e
(of)g(the)i(other)f(pro)q(cess.)270 1039 y(W)m(e)i(w)o(an)o(t)h(to)g(c)
o(hec)o(k)g(that)g(the)h(sp)q(eci\014cation)f FV(ABSp)n(e)n(c)j
F4(of)c(mo)q(dule)g FV(A)o(lternatingBit)208 1089 y F4(implies)h(form)o
(ula)f FV(ABCSp)n(e)n(c)22 b F4(of)d(mo)q(dule)f FV(ABCorr)n(e)n
(ctness)s F4(.)33 b(T)m(o)19 b(do)g(this,)h(w)o(e)f(mo)q(dify)208
1139 y(mo)q(dule)12 b FV(MCA)o(lternatingBit)17 b F4(b)o(y)c(adding)g
(the)i(statemen)o(t)p Black Black 332 1222 a FP(inst)m(ance)h
FV(ABCorr)n(e)n(ctness)208 1305 y F4(and)d(w)o(e)h(mo)q(dify)e(the)i
FO(PROPERTY)f F4(statemen)o(t)g(of)h(the)g(con\014guration)g(\014le)g
(to)p .95 TeXcolorgray .95 TeXcolorgray 1679 1438 307
165 v .95 TeXcolorgray Black Black 271 w FZ(The)e(k)o(eyw)o(ords)1687
1344 y Fn(PROPERTY)d FZ(and)1687 1383 y Fn(PROPERTIES)g
FZ(are)1687 1423 y(equiv)n(alen)o(t.)p Black .95 TeXcolorgray
Black Black Black 332 1388 a FO(PROPERTIES)20 b(ABCSpec)g
(SentLeadsToRcvd)208 1471 y F4(This)e(example)g(is)g(at)o(ypical)g(b)q
(ecause)i(the)g(correctness)h(sp)q(eci\014cation)f FV(ABCSp)n(e)n(c)h
F4(do)q(es)208 1520 y(not)12 b(in)o(v)o(olv)o(e)g(v)n(ariable)f(hiding)
h(\(temp)q(oral)g(existen)o(tial)g(quan)o(ti\014cation\).)17
b(Let's)c(no)o(w)g(sup-)208 1570 y(p)q(ose)19 b(mo)q(dule)e
FV(ABCorr)n(e)n(ctness)22 b F4(did)c(declare)i(another)f(v)n(ariable)f
FV(h)k F4(that)d(app)q(eared)g(in)208 1620 y FV(ABCSp)n(e)n(c)r
F4(,)g(and)f(that)g(the)h(correctness)i(condition)d(for)g(the)h
(alternating)e(bit)h(proto)q(col)208 1670 y(w)o(as)10
b FV(ABCSp)n(e)n(c)j F4(with)d FV(h)k F4(hidden.)j(The)11
b(correctness)i(condition)d(w)o(ould)f(then)i(b)q(e)h(expressed)208
1720 y(formally)e(in)k(TLA)507 1705 y FS(+)541 1720 y
F4(as)g(follo)o(ws:)p .95 TeXcolorgray .95 TeXcolorgray
1679 1855 307 167 v .95 TeXcolorgray Black Black 959
w FZ(This)e(use)f(of)1687 1759 y Fu(inst)n(ance)h FZ(is)g(ex-)1687
1799 y(plained)e(in)h(Sec-)1687 1838 y(tion)g(4.3)g(\(page)f(41\).)p
Black .95 TeXcolorgray Black Black Black 332 1807 a FV(AB)t
F4(\()p FV(h)s F4(\))492 1783 y FI(\001)488 1807 y F4(=)35
b FP(inst)m(ance)16 b FV(ABCorr)n(e)n(ctness)332 1857
y FP(theorem)g FV(ABSp)n(e)n(c)26 b F0(\))755 1855 y(9)-21
b(9)g(9)755 1857 y(9)g(9)g(9)6 b FV(h)22 b F4(:)c FV(AB)t
F4(\()p FV(h)s F4(\))s(!)s FV(ABCSp)n(e)n(c)208 1938
y F4(TLC)9 b(could)h(not)f(c)o(hec)o(k)i(this)f(theorem)f(directly)h(b)
q(ecause)h(it)f(cannot)f(handle)h(the)g(temp)q(oral)208
1988 y(existen)o(tial)j(quan)o(ti\014er)593 1986 y F0(9)-21
b(9)g(9)593 1988 y(9)g(9)g(9)7 b F4(.)18 b(W)m(e)c(w)o(ould)f(c)o(hec)o
(k)i(this)f(theorem)g(with)g(TLC)g(the)g(same)g(w)o(a)o(y)208
2037 y(w)o(e)e(w)o(ould)f(try)h(to)g(pro)o(v)o(e)g(it|namely)m(,)d(b)o
(y)j(using)f(a)h(re\014nemen)o(t)g(mapping.)k(As)c(explained)208
2087 y(in)j(Section)h(5.8)e(on)h(page)h(62,)f(w)o(e)h(w)o(ould)e
(de\014ne)j(a)e(state)i(function)e FV(oh)k F4(in)c(terms)g(of)g(the)208
2137 y(v)n(ariables)e(of)g(mo)q(dule)f FV(A)o(lternatingBit)17
b F4(and)d(w)o(e)g(w)o(ould)f(pro)o(v)o(e)p Black Black
332 2220 a FV(ABSp)n(e)n(c)26 b F0(\))d FV(AB)t F4(\()p
FV(oh)s F4(\))s(!)s FV(ABCSp)n(e)n(c)p Black -680 w F4(\(14.2\))p
Black 208 2303 a(T)m(o)13 b(get)h(TLC)g(to)f(c)o(hec)o(k)i(this)f
(theorem,)f(w)o(e)h(w)o(ould)f(add)h(the)h(de\014nition)p
Black Black 332 2390 a FV(ABCSp)n(e)n(cBar)612 2367 y
FI(\001)607 2390 y F4(=)35 b FV(AB)t F4(\()p FV(oh)s
F4(\))s(!)s FV(ABCSp)n(e)n(c)208 2473 y F4(and)13 b(ha)o(v)o(e)h(TLC)g
(c)o(hec)o(k)h(the)f(prop)q(ert)o(y)h FV(ABCSp)n(e)n(cBar)t
F4(.)p Black Black eop
%%Page: 229 247
229 246 bop Black 208 275 a FR(14.1.)30 b(INTR)o(ODUCTION)14
b(TO)g(TLC)1075 b F4(229)p 208 282 1770 2 v Black Black
Black Black 188 394 2 25 v 190 371 502 2 v 706 378 a
FP(module)16 b FV(ABCorr)n(e)n(ctness)p 1162 371 V 1664
394 2 25 v 208 436 a FP(extends)g FV(Natur)n(als)208
499 y FP(const)m(ants)g FV(Data)208 562 y FP(v)l(ariables)h
FV(sBit)t FQ(;)c FV(sA)n(ck)t FQ(;)h FV(rBit)t FQ(;)e
FV(sent)t FQ(;)i FV(r)n(cvd)p 188 615 V 190 604 1475
2 v 1665 615 2 25 v 208 653 a(ABCInit)406 629 y FI(\001)402
653 y F4(=)35 b F0(^)14 b FV(sBit)27 b F0(2)16 b(f)p
F4(0)p FQ(;)7 b F4(1)p F0(g)469 703 y(^)14 b FV(sA)n(ck)i
F4(=)c FV(sBit)469 752 y F0(^)i FV(rBit)26 b F4(=)12
b FV(sBit)469 802 y F0(^)i FV(sent)27 b F0(2)16 b FV(Data)469
852 y F0(^)e FV(r)n(cvd)25 b F0(2)16 b FV(Data)208 929
y(CSndNewV)m(alue)s F4(\()p FV(d)t F4(\))584 906 y FI(\001)579
929 y F4(=)35 b F0(^)14 b FV(sA)n(ck)i F4(=)c FV(sBit)646
979 y F0(^)i FV(sent)765 964 y FH(0)789 979 y F4(=)e
FV(d)646 1029 y F0(^)i FV(sBit)765 1014 y FH(0)788 1029
y F4(=)e(1)d F0(\000)h FV(sBit)646 1079 y F0(^)k FP(unchanged)k
F0(h)s FV(sA)n(ck)t FQ(;)c FV(rBit)t FQ(;)f FV(r)n(cvd)7
b F0(i)208 1152 y FV(CR)n(cvMsg)420 1128 y FI(\001)415
1152 y F4(=)35 b F0(^)15 b FV(rBit)f F0(6)p F4(=)e FV(sBit)482
1202 y F0(^)j FV(rBit)603 1187 y FH(0)627 1202 y F4(=)d
FV(sBit)482 1252 y F0(^)j FV(r)n(cvd)604 1236 y FH(0)627
1252 y F4(=)d FV(sent)482 1301 y F0(^)j FP(unchanged)i
F0(h)s FV(sBit)t FQ(;)c FV(sA)n(ck)t FQ(;)h FV(sent)8
b F0(i)208 1375 y FV(CR)n(cvA)n(ck)414 1351 y FI(\001)410
1375 y F4(=)34 b F0(^)15 b FV(rBit)g F0(6)p F4(=)d FV(sA)n(ck)476
1424 y F0(^)j FV(sA)n(ck)607 1409 y FH(0)631 1424 y F4(=)c
FV(rBit)476 1474 y F0(^)k FP(unchanged)i F0(h)s FV(sBit)t
FQ(;)d FV(rBit)t FQ(;)e FV(sent)t FQ(;)i FV(r)n(cvd)7
b F0(i)208 1547 y FV(ABCNext)424 1524 y FI(\001)419 1547
y F4(=)35 b F0(_)14 b(9)7 b FV(d)16 b F0(2)11 b FV(Data)23
b F4(:)18 b FV(CSndNewV)m(alue)s F4(\()p FV(d)t F4(\))486
1597 y F0(_)c FV(CR)n(cvMsg)20 b F0(_)c FV(CR)n(cvA)n(ck)p
188 1629 V 190 1618 1475 2 v 1665 1629 2 25 v 208 1667
a(cvars)344 1643 y FI(\001)339 1667 y F4(=)35 b F0(h)s
FV(sBit)t FQ(;)14 b FV(sA)n(ck)t FQ(;)g FV(rBit)t FQ(;)e
FV(sent)t FQ(;)i FV(r)n(cvd)7 b F0(i)208 1744 y FV(ABCF)m(airness)492
1720 y FI(\001)487 1744 y F4(=)35 b(WF)624 1750 y FJ(cvars)706
1744 y F4(\()p FV(CR)n(cvMsg)t F4(\))16 b F0(^)g F4(WF)1041
1750 y FJ(cvars)1123 1744 y F4(\()p FV(CR)n(cvA)n(ck)t
F4(\))208 1821 y FV(ABCSp)n(e)n(c)418 1798 y FI(\001)413
1821 y F4(=)35 b FV(ABCInit)19 b F0(^)d FG(2)p F4([)p
FV(ABCNext)t F4(])931 1827 y FJ(cvars)1028 1821 y F0(^)g
FV(ABCF)m(airness)p 188 1864 V 190 1864 1475 2 v 1665
1864 2 25 v Black 244 1954 a FU(Figure)e(14.4:)19 b F4(A)14
b(sp)q(eci\014cation)g(of)g(correctness)i(of)e(the)g(alternating)f(bit)
h(proto)q(col.)p Black Black 270 2070 a(When)9 b(TLC)h(c)o(hec)o(ks)h
(a)e(prop)q(ert)o(y)m(,)h(it)f(do)q(es)h(not)g(actually)e(v)o(erify)h
(that)h(the)g(sp)q(eci\014cation)208 2120 y(implies)d(the)j(prop)q(ert)
o(y)m(.)17 b(Instead,)11 b(it)e(c)o(hec)o(ks)h(that)g(\(i\))f(the)h
(safet)o(y)g(part)f(of)g(the)h(sp)q(eci\014cation)208
2170 y(implies)17 b(the)k(safet)o(y)f(part)g(of)f(the)i(prop)q(ert)o(y)
f(and)g(\(ii\))f(the)i(sp)q(eci\014cation)f(implies)e(the)208
2220 y(liv)o(eness)d(part)g(of)f(the)i(prop)q(ert)o(y)m(.)21
b(F)m(or)15 b(example,)e(supp)q(ose)j(that)f(the)g(sp)q(eci\014cation)h
FV(Sp)n(e)n(c)208 2269 y F4(and)d(the)i(prop)q(ert)o(y)f
FV(Pr)n(op)j F4(are)p Black Black 332 2357 a FV(Sp)n(e)n(c)448
2333 y FI(\001)444 2357 y F4(=)23 b FV(Init)d F0(^)c
FG(2)p F4([)p FV(Next)t F4(])771 2363 y FJ(vars)852 2357
y F0(^)g FV(T)m(emp)n(or)n(al)332 2421 y(Pr)n(op)448
2397 y FI(\001)444 2421 y F4(=)23 b FV(Implie)n(dInit)d
F0(^)c FG(2)p F4([)p FV(Implie)n(dA)n(ction)s F4(])1072
2427 y FJ(pvars)1170 2421 y F0(^)g FV(Implie)n(dT)m(emp)n(or)n(al)p
Black Black eop
%%Page: 230 248
230 247 bop Black 208 275 a F4(230)814 b FR(CHAPTER)15
b(14.)31 b(THE)14 b(TLC)g(MODEL)g(CHECKER)p 208 282 1770
2 v Black 208 391 a F4(where)f FV(T)m(emp)n(or)n(al)j
F4(and)c FV(Implie)n(dT)m(emp)n(or)n(al)j F4(are)e(liv)o(eness)f(prop)q
(erties.)19 b(In)13 b(this)f(case,)h(TLC)208 441 y(c)o(hec)o(ks)i(the)f
(t)o(w)o(o)g(form)o(ulas)p Black Black 332 522 a FV(Init)20
b F0(^)c FG(2)p F4([)p FV(Next)t F4(])604 528 y FJ(vars)692
522 y F0(\))23 b FV(Implie)n(dInit)c F0(^)d FG(2)p F4([)p
FV(Implie)n(dA)n(ction)s F4(])1329 528 y FJ(pvars)332
579 y FV(Sp)n(e)n(c)26 b F0(\))d FV(Implie)n(dT)m(emp)n(or)n(al)208
657 y F4(This)12 b(means)g(that)h(y)o(ou)f(cannot)h(use)g(TLC)f(to)h(c)
o(hec)o(k)h(that)e(a)h(non-mac)o(hine-closed)e(sp)q(eci-)208
707 y(\014cation)g(satis\014es)i(a)f(safet)o(y)g(prop)q(ert)o(y)m(.)17
b(\(Mac)o(hine)c(closure)f(is)g(discussed)i(in)d(Section)i(8.9.2)208
757 y(on)19 b(page)g(111.\))35 b(Section)20 b(14.3)e(b)q(elo)o(w)h
(more)g(precisely)h(describ)q(es)i(ho)o(w)d(TLC)h(c)o(hec)o(ks)208
807 y(prop)q(erties.)208 965 y FN(14.2)82 b(What)27 b(TLC)h(Can)f(Cop)r
(e)h(With)208 1055 y F4(No)15 b(mo)q(del)f(c)o(hec)o(k)o(er)k(can)e
(handle)f(all)g(the)h(sp)q(eci\014cations)h(that)f(w)o(e)g(can)g(write)
g(in)f(a)h(lan-)208 1105 y(guage)e(as)g(expressiv)o(e)i(as)f(TLA)712
1090 y FS(+)732 1105 y F4(.)20 b(Ho)o(w)o(ev)o(er,)14
b(TLC)h(seems)f(able)g(to)h(handle)f(most)f(TLA)1625
1090 y FS(+)208 1155 y F4(sp)q(eci\014cations)h(that)e(p)q(eople)i
(actually)e(write.)18 b(Getting)12 b(TLC)h(to)g(handle)g(a)f(sp)q
(eci\014cation)208 1205 y(ma)o(y)e(require)j(a)f(bit)g(of)g(tric)o(k)o
(ery)m(,)g(but)h(it)f(can)g(usually)g(b)q(e)g(done)h(without)f(ha)o
(ving)f(to)h(mak)o(e)208 1255 y(an)o(y)h(c)o(hanges)i(to)e(the)i(sp)q
(eci\014cation)f(itself.)270 1305 y(This)h(section)g(explains)g(what)f
(TLC)h(can)g(and)g(cannot)g(cop)q(e)g(with,)f(and)h(giv)o(es)g(some)208
1354 y(w)o(a)o(ys)k(to)g(mak)o(e)f(it)h(cop)q(e.)36 b(The)20
b(b)q(est)h(w)o(a)o(y)e(to)g(understand)i(TLC's)e(limitations)e(is)i
(to)208 1404 y(understand)i(ho)o(w)e(it)h(w)o(orks.)36
b(So,)21 b(this)f(section)g(describ)q(es)i(ho)o(w)e(TLC)g(\\executes")h
(a)208 1454 y(sp)q(eci\014cation.)208 1591 y F3(14.2.1)65
b(TLC)22 b(V)-6 b(alues)208 1682 y F4(A)14 b(state)i(is)e(an)h
(assignmen)o(t)e(of)i(v)n(alues)f(to)g(v)n(ariables.)20
b(TLA)1173 1667 y FS(+)1209 1682 y F4(allo)o(ws)13 b(y)o(ou)h(to)h
(describ)q(e)h(a)208 1731 y(wide)e(v)n(ariet)o(y)g(of)g(v)n(alues|for)f
(example,)g(the)j(set)f(of)f(all)f(sequences)k(of)d(prime)g(n)o(um)o(b)
q(ers.)208 1781 y(TLC)i(can)h(compute)f(only)g(a)g(restricted)i(class)f
(of)f(v)n(alues,)h(called)f(TLC)h(v)n(alues.)25 b(Those)208
1831 y(v)n(alues)13 b(are)h(built)g(from)e(the)i(follo)o(wing)e(four)h
(t)o(yp)q(es)i(of)e(primitiv)o(e)f(v)n(alues:)p Black
270 1911 a FV(Bo)n(ole)n(ans)p Black 115 w F4(The)j(v)n(alues)e
FP(tr)o(ue)h F4(and)g FP(f)l(alse)q F4(.)p Black 270
1993 a FV(Inte)n(gers)p Black 130 w F4(V)m(alues)g(lik)o(e)f(3)h(and)f
F0(\000)p F4(1.)p Black 270 2075 a FV(Strings)p Black
146 w F4(V)m(alues)h(lik)o(e)f(\\)p FD(ab3)p F4(".)p
Black 270 2157 a FV(Mo)n(del)i(V)m(alues)p Black 33 w
F4(These)e(are)e(v)n(alues)g(in)o(tro)q(duced)h(in)f(the)h
FO(CONSTANT)d F4(statemen)o(t)j(of)e(the)543 2206 y(con\014guration)16
b(\014le.)23 b(F)m(or)16 b(example,)e(the)j(con\014guration)e(\014le)h
(sho)o(wn)543 2256 y(in)i(Figure)g(14.3)f(on)h(page)g(227)f(in)o(tro)q
(duces)i(the)g(mo)q(del)e(v)n(alues)g FO(d1)543 2306
y F4(and)12 b FO(d2)p F4(.)17 b(Mo)q(del)12 b(v)n(alues)g(with)g
(di\013eren)o(t)h(names)e(are)i(assumed)e(to)h(b)q(e)543
2356 y(di\013eren)o(t.)208 2436 y(A)i(TLC)f(v)n(alue)h(is)f(de\014ned)i
(inductiv)o(ely)f(to)f(b)q(e)i(either)p Black 258 2517
a(1.)p Black 20 w(a)f(primitiv)o(e)e(v)n(alue,)g(or)p
Black Black eop
%%Page: 231 249
231 248 bop Black 208 275 a FR(14.2.)30 b(WHA)m(T)13
b(TLC)h(CAN)g(COPE)h(WITH)987 b F4(231)p 208 282 1770
2 v Black Black 258 391 a(2.)p Black 20 w(a)14 b(\014nite)g(set)h(of)e
(comparable)g(TLC)g(v)n(alues)h(\()p FV(c)n(omp)n(ar)n(able)j
F4(is)d(de\014ned)h(b)q(elo)o(w\),)e(or)p Black 258 473
a(3.)p Black 20 w(a)h(function)g FV(f)22 b F4(whose)15
b(domain)c(is)j(a)g(TLC)g(v)n(alue)f(suc)o(h)i(that)f
FV(f)8 b F4([)p FV(x)d F4(])14 b(is)f(a)h(TLC)g(v)n(alue,)311
523 y(for)g(all)f FV(x)19 b F4(in)13 b FP(domain)d FV(f)f
F4(.)208 604 y(F)m(or)k(example,)f(the)j(\014rst)f(t)o(w)o(o)g(rules)g
(imply)e(that)p Black Black 332 686 a F0(ff)p F4(\\)p
FD(a)p F4(")o FQ(;)7 b F4(\\)p FD(b)p F4(")o F0(g)p FQ(;)18
b F0(f)p F4(\\)p FD(b)p F4(")p FQ(;)7 b F4(\\)p FD(c)p
F4(")o F0(g)p FQ(;)18 b F0(f)p F4(\\)p FD(c)p F4(")p
FQ(;)7 b F4(\\)p FD(d)p F4(")o F0(gg)p Black -776 w F4(\(14.3\))p
Black 208 767 a(is)18 b(a)g(TLC)g(v)n(alue)g(b)q(ecause)i(rules)f(1)f
(and)g(2)g(imply)e(that)j F0(f)p F4(\\)p FD(a)p F4(")o
FQ(;)7 b F4(\\)p FD(b)p F4(")o F0(g)p F4(,)19 b F0(f)p
F4(\\)p FD(b)p F4(")p FQ(;)7 b F4(\\)p FD(c)p F4(")o
F0(g)p F4(,)19 b(and)208 817 y F0(f)p F4(\\)p FD(c)p
F4(")o FQ(;)7 b F4(\\)p FD(d)p F4(")p F0(g)j F4(are)i(TLC)f(v)n(alues,)
g(and)f(the)i(second)g(rule)f(then)h(implies)d(that)i(\(14.3\))f(is)h
(a)g(TLC)208 866 y(v)n(alue.)16 b(Since)10 b(tuples)g(and)g(records)h
(are)g(functions,)f(rule)g(3)g(implies)d(that)j(a)g(record)h(or)f
(tuple)208 916 y(whose)j(comp)q(onen)o(ts)f(are)h(TLC)f(v)n(alues)g(is)
h(a)f(TLC)g(v)n(alue.)17 b(F)m(or)12 b(example,)f F0(h)s
F4(1)p FQ(;)c F4(\\)p FD(a)p F4(")p FQ(;)g F4(2)p FQ(;)g
F4(\\)p FD(b)p F4(")r F0(i)208 966 y F4(is)13 b(a)h(TLC)g(v)n(alue.)270
1016 y(T)m(o)k(complete)h(the)h(de\014nition)f(of)g(what)g(a)g(TLC)g(v)
n(alue)g(is,)h(I)f(m)o(ust)f(explain)h(what)208 1066
y FV(c)n(omp)n(ar)n(able)f F4(means)d(in)g(rule)h(2.)23
b(The)16 b(basic)g(idea)f(is)g(that)h(t)o(w)o(o)f(v)n(alues)h(should)f
(b)q(e)h(com-)208 1115 y(parable)h(i\013)h(the)g(seman)o(tics)g(of)f
(TLA)819 1100 y FS(+)858 1115 y F4(determines)h(whether)h(or)f(not)g
(they)g(are)h(equal.)208 1165 y(F)m(or)13 b(example,)e(strings)j(and)g
(n)o(um)o(b)q(ers)f(are)h(not)f(comparable)f(b)q(ecause)j(the)f(seman)o
(tics)f(of)208 1215 y(TLA)295 1200 y FS(+)332 1215 y
F4(do)q(esn't)18 b(tell)e(us)i(whether)g(or)f(not)g(\\)p
FD(ab)q(c)p F4(")h(equals)f(42.)27 b(The)17 b(set)h F0(f)p
F4(\\)p FD(ab)q(c)p F4(")p FQ(;)c F4(42)p F0(g)i F4(is)208
1265 y(therefore)h(not)e(a)h(TLC)f(v)n(alue;)h(rule)f(2)h(do)q(esn't)g
(apply)f(b)q(ecause)i(\\)p FD(ab)q(c)p F4(")f(and)g(42)f(are)h(not)208
1315 y(comparable.)f(On)d(the)f(other)h(hand,)f F0(f)p
F4(\\)p FD(ab)q(c)p F4(")p F0(g)g F4(and)f F0(f)p F4(4)p
FQ(;)d F4(2)p F0(g)j F4(are)h(comparable)f(b)q(ecause)j(sets)208
1365 y(ha)o(ving)f(di\013eren)o(t)j(n)o(um)o(b)q(ers)f(of)f(elemen)o
(ts)h(m)o(ust)f(b)q(e)h(unequal.)k(Hence,)d(the)g(t)o(w)o(o-elemen)o(t)
208 1414 y(set)g F0(ff)p F4(\\)p FD(ab)q(c)p F4(")p F0(g)p
FQ(;)e F0(f)p F4(4)p FQ(;)7 b F4(2)p F0(gg)13 b F4(is)h(a)h(TLC)f(v)n
(alue.)19 b(TLC)c(considers)h(a)e(mo)q(del)f(v)n(alue)h(to)g(b)q(e)h
(com-)208 1464 y(parable)d(to,)g(and)h(unequal)f(to,)g(an)o(y)g(other)h
(v)n(alue.)k(The)c(precise)h(rules)g(for)e(comparabilit)o(y)208
1514 y(are)i(giv)o(en)f(in)h(Section)g(14.7.2.)208 1651
y F3(14.2.2)65 b(Ho)n(w)21 b(TLC)h(Ev)l(aluates)h(Expressions)208
1742 y F4(Chec)o(king)10 b(a)g(sp)q(eci\014cation)h(requires)g(ev)n
(aluating)e(expressions.)19 b(F)m(or)10 b(example,)f(TLC)h(do)q(es)208
1792 y(in)o(v)n(ariance)i(c)o(hec)o(king)h(b)o(y)f(ev)n(aluating)f(the)
j(in)o(v)n(arian)o(t)d(in)h(eac)o(h)h(reac)o(hable)g(state|that)g(is,)
208 1841 y(computing)d(its)i(TLC)g(v)n(alue,)f(whic)o(h)h(should)f(b)q
(e)i FP(tr)o(ue)p F4(.)18 b(T)m(o)11 b(understand)i(what)f(TLC)g(can)
208 1891 y(and)h(cannot)h(do,)g(y)o(ou)f(ha)o(v)o(e)h(to)f(kno)o(w)h
(ho)o(w)f(it)h(ev)n(aluates)g(expressions.)270 1941 y(TLC)20
b(ev)n(aluates)g(expressions)i(in)d(a)h(straigh)o(tforw)o(ard)g(w)o(a)o
(y)m(,)g(generally)f(ev)n(aluating)208 1991 y(sub)q(expressions)d
(\\from)c(left)h(to)h(righ)o(t".)j(In)d(particular:)p
Black 270 2072 a F0(\017)p Black 20 w F4(It)g(ev)n(aluates)g
FV(p)f F0(^)c FV(q)17 b F4(b)o(y)d(\014rst)h(ev)n(aluating)d
FV(p)17 b F4(and,)d(if)f(it)g(equals)h FP(tr)o(ue)q F4(,)f(then)i(ev)n
(alu-)311 2122 y(ating)e FV(q)t F4(.)p Black 270 2204
a F0(\017)p Black 20 w F4(It)h(ev)n(aluates)f FV(p)e
F0(_)d FV(q)17 b F4(b)o(y)c(\014rst)h(ev)n(aluating)e
FV(p)17 b F4(and,)12 b(if)h(it)g(equals)g FP(f)l(alse)r
F4(,)g(then)h(ev)n(alu-)311 2254 y(ating)f FV(q)t F4(.)18
b(It)c(ev)n(aluates)g FV(p)g F0(\))e FV(q)17 b F4(as)d
F0(:)p FV(p)e F0(_)d FV(q)t F4(.)p Black 270 2336 a F0(\017)p
Black 20 w F4(It)17 b(ev)n(aluates)f FP(if)g FV(p)i FP(then)f
FV(e)767 2342 y FS(1)801 2336 y FP(else)f FV(e)925 2342
y FS(2)961 2336 y F4(b)o(y)g(\014rst)h(ev)n(aluating)e
FV(p)s F4(,)h(then)h(ev)n(aluating)311 2386 y(either)e
FV(e)451 2392 y FS(1)484 2386 y F4(or)f FV(e)557 2392
y FS(2)575 2386 y F4(.)208 2467 y(T)m(o)h(understand)j(the)f
(signi\014cance)h(of)e(these)i(rules,)f(let's)g(consider)g(a)g(simple)e
(example.)208 2517 y(TLC)e(cannot)g(ev)n(aluate)g(the)h(expression)h
FV(x)5 b F4([1])12 b(if)g FV(x)19 b F4(equals)13 b F0(h)7
b(i)p F4(,)13 b(since)i F0(h)7 b(i)p F4([1])12 b(is)h(silly)m(.)j
(\(The)p Black Black eop
%%Page: 232 250
232 249 bop Black 208 275 a F4(232)814 b FR(CHAPTER)15
b(14.)31 b(THE)14 b(TLC)g(MODEL)g(CHECKER)p 208 282 1770
2 v Black 208 391 a F4(empt)o(y)e(sequence)k F0(h)7 b(i)14
b F4(is)f(a)h(function)f(whose)h(domain)e(is)h(the)h(empt)o(y)f(set)i
(and)e(hence)i(do)q(es)208 441 y(not)c(con)o(tain)g(1.\))17
b(The)c(\014rst)f(rule)g(implies)e(that,)h(if)g FV(x)17
b F4(equals)12 b F0(h)7 b(i)p F4(,)k(then)i(TLC)e(can)h(ev)n(aluate)208
491 y(the)i(form)o(ula)p Black Black 332 562 a(\()p FV(x)j
F0(6)p F4(=)12 b F0(h)7 b(i)p F4(\))16 b F0(^)g F4(\()p
FV(x)5 b F4([1])11 b(=)h(0\))208 632 y(but)i(not)f(the)i(\(logically)d
(equiv)n(alen)o(t\))h(form)o(ula)p Black Black 332 703
a(\()p FV(x)5 b F4([1])11 b(=)h(0\))k F0(^)g F4(\()p
FV(x)g F0(6)p F4(=)c F0(h)7 b(i)p F4(\))208 774 y(\(When)20
b(ev)n(aluating)f(the)i(latter)f(form)o(ula,)f(TLC)h(\014rst)h(tries)g
(to)f(compute)f F0(h)7 b(i)p F4([1])21 b(=)i(0,)208 824
y(rep)q(orting)17 b(an)g(error)h(b)q(ecause)h(it)e(can't.\))28
b(F)m(ortunately)m(,)16 b(w)o(e)i(naturally)e(write)h(the)h(\014rst)208
874 y(form)o(ula)9 b(rather)14 b(than)e(the)h(second)h(b)q(ecause)g
(it's)e(easier)h(to)g(understand.)18 b(P)o(eople)13 b(under-)208
923 y(stand)k(a)g(form)o(ula)d(b)o(y)j(\\men)o(tally)d(ev)n(aluating")i
(it)g(from)g(left)g(to)h(righ)o(t,)g(m)o(uc)o(h)f(the)i(w)o(a)o(y)208
973 y(TLC)13 b(do)q(es.)270 1023 y(TLC)18 b(ev)n(aluates)h
F0(9)7 b FV(x)17 b F0(2)11 b FV(S)i F4(:)8 b FV(p)21
b F4(b)o(y)e(en)o(umerating)e(the)j(elemen)o(ts)e FV(s)1338
1029 y FS(1)1357 1023 y FQ(;)7 b(:)g(:)g(:)e(;)i FV(s)1470
1029 y FJ(n)1512 1023 y F4(of)18 b FV(S)24 b F4(in)208
1073 y(some)18 b(order)i(and)e(then)i(ev)n(aluating)e
FV(p)k F4(with)c FV(s)983 1079 y FJ(i)1018 1073 y F4(substituted)j(for)
d FV(x)5 b F4(,)20 b(successiv)o(ely)h(for)208 1123 y
FV(i)f F4(=)d(1)p FQ(;)7 b(:)g(:)g(:)t(;)g FV(n)s F4(.)27
b(It)17 b(en)o(umerates)g(the)g(elemen)o(ts)g(of)f(a)h(set)g
FV(S)22 b F4(in)17 b(a)f(v)o(ery)h(straigh)o(tforw)o(ard)208
1172 y(w)o(a)o(y)m(,)i(and)g(it)h(giv)o(es)f(up)h(and)f(declares)i(an)f
(error)g(if)f(the)h(set)h(is)e(not)h(ob)o(viously)e(\014nite.)208
1222 y(F)m(or)12 b(example,)g(it)h(can)g(ob)o(viously)f(en)o(umerate)h
(the)h(elemen)o(ts)f(of)f F0(f)p F4(0)p FQ(;)h F4(1)p
FQ(;)g F4(2)p FQ(;)h F4(3)p F0(g)e F4(and)h(0)h FQ(:)7
b(:)13 b F4(3)o(.)208 1272 y(It)k(en)o(umerates)g(a)g(set)h(of)e(the)i
(form)d F0(f)p FV(x)h F0(2)c FV(S)20 b F4(:)14 b FV(p)s
F0(g)j F4(b)o(y)g(\014rst)g(en)o(umerating)f FV(S)5 b
F4(,)18 b(so)f(it)g(can)208 1322 y(en)o(umerate)c F0(f)p
FV(i)j F0(2)11 b F4(0)j FQ(:)7 b(:)12 b F4(5)j(:)g FV(i)g
FQ(<)d F4(4)p F0(g)h F4(but)h(not)g F0(f)p FV(i)h F0(2)d
FV(Nat)18 b F4(:)d FV(i)g FQ(<)d F4(4)p F0(g)p F4(.)270
1372 y(TLC)19 b(ev)n(aluates)g(the)h(expressions)h F0(8)7
b FV(x)17 b F0(2)11 b FV(S)21 b F4(:)14 b FV(p)22 b F4(and)d
FP(choose)e FV(x)g F0(2)11 b FV(S)20 b F4(:)15 b FV(p)22
b F4(b)o(y)d(\014rst)208 1422 y(en)o(umerating)13 b(the)i(elemen)o(ts)f
(of)g FV(S)5 b F4(,)14 b(m)o(uc)o(h)f(the)i(same)e(w)o(a)o(y)h(as)g(it)
g(ev)n(aluates)h F0(9)7 b FV(x)17 b F0(2)11 b FV(S)20
b F4(:)15 b FV(p)r F4(.)208 1471 y(The)i(seman)o(tics)g(of)g(TLA)626
1456 y FS(+)664 1471 y F4(states)h(that)f FP(choose)g
FV(x)g F0(2)11 b FV(S)20 b F4(:)15 b FV(p)20 b F4(is)d(an)g(arbitrary)g
(v)n(alue)g(if)208 1521 y(there)f(is)f(no)g FV(x)21 b
F4(in)14 b FV(S)21 b F4(for)15 b(whic)o(h)g FV(p)j F4(is)d(true.)23
b(Ho)o(w)o(ev)o(er,)15 b(this)g(case)i(almost)c(alw)o(a)o(ys)h(arises)
208 1571 y(b)q(ecause)19 b(of)d(a)h(mistak)o(e,)f(so)i(TLC)f(treats)h
(it)f(as)g(an)g(error.)29 b(Note)18 b(that)f(ev)n(aluating)f(the)208
1621 y(expression)p Black Black 332 1692 a FP(if)23 b
FV(n)15 b FQ(>)d F4(5)21 b FP(then)j(choose)17 b FV(i)e
F0(2)d F4(1)h FQ(:)7 b(:)13 b FV(n)22 b F4(:)c FV(i)d
FQ(>)d F4(5)23 b FP(else)h F4(42)208 1762 y(will)8 b(not)h(pro)q(duce)i
(an)f(error)h(b)q(ecause)g(TLC)f(will)e(not)h(ev)n(aluate)h(the)g
FP(choose)h F4(expression)g(if)208 1812 y FV(n)k F0(\024)c
F4(5.)17 b(\(TLC)12 b(w)o(ould)f(rep)q(ort)i(an)f(error)h(if)e(it)g
(tried)h(to)g(ev)n(aluate)g(the)g FP(choose)h F4(expression)208
1862 y(when)h FV(n)h F0(\024)d F4(5.\))270 1912 y(TLC)g(cannot)g(ev)n
(aluate)g(\\un)o(b)q(ounded")h(quan)o(ti\014ers)f(or)h
FP(choose)g F4(expressions|that)208 1962 y(is,)g(expressions)i(ha)o
(ving)e(one)h(of)f(the)i(forms)p Black Black 332 2032
a F0(9)7 b FV(x)24 b F4(:)18 b FV(p)127 b F0(8)7 b FV(x)24
b F4(:)18 b FV(p)127 b FP(choose)17 b FV(x)23 b F4(:)18
b FV(p)208 2103 y F4(TLC)12 b(cannot)h(ev)n(aluate)f(an)o(y)g
(expression)i(whose)f(v)n(alue)f(is)g(not)h(a)f(TLC)g(v)n(alue,)g(as)h
(de\014ned)208 2153 y(in)e(Section)i(14.2.1)d(ab)q(o)o(v)o(e.)17
b(In)12 b(particular,)g(TLC)g(can)g(ev)n(aluate)g(a)f(set-v)n(alued)i
(expression)208 2203 y(only)g(if)g(that)h(expression)h(equals)f(a)g
(\014nite)g(set,)h(and)f(it)f(can)h(ev)n(aluate)g(a)g(function-v)n
(alued)208 2252 y(expression)f(only)f(if)f(that)i(expression)g(equals)g
(a)f(function)g(whose)h(domain)d(is)j(a)f(\014nite)g(set.)208
2302 y(TLC)k(will)g(ev)n(aluate)h(expressions)h(of)f(the)g(follo)o
(wing)e(forms)g(only)i(if)f(it)h(can)g(en)o(umerate)208
2352 y(the)d(set)h FV(S)5 b F4(:)p Black Black 332 2423
a F0(9)i FV(x)17 b F0(2)11 b FV(S)24 b F4(:)18 b FV(p)120
b F0(8)7 b FV(x)17 b F0(2)11 b FV(S)24 b F4(:)18 b FV(p)119
b FP(choose)16 b FV(x)h F0(2)11 b FV(S)24 b F4(:)18 b
FV(p)332 2473 y F0(f)p FV(x)f F0(2)11 b FV(S)24 b F4(:)18
b FV(p)s F0(g)105 b(f)p FV(e)22 b F4(:)c FV(x)e F0(2)c
FV(S)5 b F0(g)106 b F4([)p FV(x)16 b F0(2)11 b FV(S)17
b F0(7!)11 b FV(e)s F4(])332 2522 y FP(subset)e FV(S)156
b FP(union)17 b FV(S)p Black Black eop
%%Page: 233 251
233 250 bop Black 208 275 a FR(14.2.)30 b(WHA)m(T)13
b(TLC)h(CAN)g(COPE)h(WITH)987 b F4(233)p 208 282 1770
2 v Black 208 391 a(TLC)11 b(can)i(often)f(ev)n(aluate)f(an)h
(expression)h(ev)o(en)g(when)f(it)g(can't)g(ev)n(aluate)f(all)g(sub)q
(expres-)208 441 y(sions.)18 b(F)m(or)13 b(example,)f(it)i(can)g(ev)n
(aluate)p Black Black 332 524 a([)p FV(n)h F0(2)c FV(Nat)k
F0(7!)c FV(n)i F0(\003)c F4(\()p FV(n)k F4(+)c(1\)][3])208
607 y(whic)o(h)k(equals)h(the)h(TLC)e(v)n(alue)h(12,)f(ev)o(en)h
(though)g(it)f(can't)h(ev)n(aluate)p Black Black 332
690 a([)p FV(n)h F0(2)c FV(Nat)k F0(7!)c FV(n)i F0(\003)c
F4(\()p FV(n)k F4(+)c(1\)])208 773 y(whic)o(h)i(equals)h(a)g(function)g
(whose)g(domain)e(is)h(the)i(set)g FV(Nat)t F4(.)k(\(A)12
b(function)g(can)g(b)q(e)g(a)g(TLC)208 823 y(v)n(alue)h(only)g(if)g
(its)h(domain)d(is)j(a)g(\014nite)g(set.\))270 873 y(TLC)i(ev)n
(aluates)h(recursiv)o(ely)h(de\014ned)f(functions)g(with)f(a)h(simple)e
(recursiv)o(e)j(pro)q(ce-)208 927 y(dure.)k(If)14 b FV(f)24
b F4(is)15 b(de\014ned)h(b)o(y)f FV(f)8 b F4([)p FV(x)18
b F0(2)c FV(S)5 b F4(])817 903 y FI(\001)812 927 y F4(=)14
b FV(e)s F4(,)h(then)g(TLC)g(ev)n(aluates)g FV(f)9 b
F4([)p FV(c)r F4(])14 b(b)o(y)h(ev)n(aluating)f FV(e)208
977 y F4(with)h FV(c)k F4(substituted)e(for)f FV(x)5
b F4(.)25 b(This)16 b(means)f(that)h(it)g(can't)g(handle)g(some)f
(legal)g(function)208 1026 y(de\014nitions.)j(F)m(or)13
b(example,)f(consider)j(this)f(de\014nition)f(from)g(page)g(68:)p
Black Black 332 1114 a FV(mr)t F4([)p FV(n)i F0(2)c FV(Nat)t
F4(])597 1090 y FI(\001)593 1114 y F4(=)415 1171 y([)p
FV(f)32 b F0(7!)23 b FP(if)g FV(n)15 b F4(=)d(0)21 b
FP(then)j F4(17)f FP(else)h FV(mr)t F4([)p FV(n)12 b
F0(\000)e F4(1])p FQ(:)p FV(f)16 b F0(\003)9 b FV(mr)t
F4([)p FV(n)s F4(])p FQ(:)p FV(g)h FQ(;)427 1228 y FV(g)26
b F0(7!)d FP(if)g FV(n)15 b F4(=)d(0)21 b FP(then)j F4(42)f
FP(else)h FV(mr)t F4([)p FV(n)12 b F0(\000)e F4(1])p
FQ(:)p FV(f)16 b F4(+)10 b FV(mr)t F4([)p FV(n)i F0(\000)d
F4(1])p FQ(:)p FV(g)h F4(])208 1312 y(T)m(o)h(ev)n(aluate)h
FV(mr)t F4([3],)f(TLC)i(substitutes)h(3)e(for)g FV(n)k
F4(and)c(starts)h(ev)n(aluating)f(the)h(righ)o(t-hand)208
1362 y(side.)31 b(But)19 b(b)q(ecause)h FV(mr)t F4([)p
FV(n)s F4(])e(app)q(ears)i(in)d(the)i(righ)o(t-hand)f(side,)i(TLC)e(m)o
(ust)f(ev)n(aluate)208 1411 y(the)f(sub)q(expression)h
FV(mr)t F4([3],)e(whic)o(h)g(it)h(do)q(es)g(b)o(y)g(substituting)g(3)f
(for)h FV(n)j F4(and)c(starting)h(to)208 1461 y(ev)n(aluate)d(the)h
(righ)o(t-hand)e(side.)19 b(And)13 b(so)h(on.)j(TLC)d(ev)o(en)o(tually)
e(detects)k(that)d(it's)g(in)g(an)208 1511 y(in\014nite)g(lo)q(op)g
(and)h(rep)q(orts)h(an)f(error.)270 1561 y(Legal)c(recursiv)o(e)j
(de\014nitions)e(that)g(cause)h(TLC)f(to)g(lo)q(op)g(lik)o(e)f(this)h
(are)h(rare,)f(and)g(they)208 1611 y(can)h(b)q(e)g(rewritten)h(so)f
(TLC)g(can)g(handle)f(them.)17 b(Recall)11 b(that)h(w)o(e)g(de\014ned)h
FV(mr)i F4(to)d(express)208 1660 y(the)i(m)o(utual)e(recursion:)p
Black Black 332 1743 a FV(f)d F4([)p FV(n)s F4(])24 b(=)f
FP(if)g FV(n)15 b F4(=)d(0)21 b FP(then)j F4(17)f FP(else)h
FV(f)8 b F4([)p FV(n)13 b F0(\000)c F4(1])g F0(\003)g
FV(g)t F4([)p FV(n)s F4(])332 1801 y FV(g)t F4([)p FV(n)s
F4(])23 b(=)g FP(if)g FV(n)15 b F4(=)d(0)21 b FP(then)j
F4(42)f FP(else)h FV(f)8 b F4([)p FV(n)13 b F0(\000)c
F4(1])g(+)g FV(g)t F4([)p FV(n)j F0(\000)e F4(1])208
1884 y(The)h(sub)q(expression)i FV(mr)t F4([)p FV(n)s
F4(])d(app)q(eared)i(in)e(the)i(expression)g(de\014ning)f
FV(mr)t F4([)p FV(n)s F4(])f(b)q(ecause)j FV(f)8 b F4([)p
FV(n)s F4(])208 1934 y(dep)q(ends)18 b(on)f FV(g)t F4([)p
FV(n)s F4(].)26 b(T)m(o)17 b(eliminate)e(it,)h(w)o(e)i(ha)o(v)o(e)e(to)
h(rewrite)h(the)g(m)o(utual)d(recursion)j(so)208 1984
y(that)d FV(f)8 b F4([)p FV(n)s F4(])15 b(dep)q(ends)h(only)e(on)h
FV(f)8 b F4([)p FV(n)13 b F0(\000)e F4(1])j(and)h FV(g)t
F4([)p FV(n)d F0(\000)e F4(1].)21 b(W)m(e)14 b(do)h(this)g(b)o(y)g
(expanding)f(the)208 2034 y(de\014nition)g(of)h FV(g)t
F4([)p FV(n)s F4(])f(in)h(the)g(expression)h(for)f FV(f)9
b F4([)p FV(n)s F4(].)21 b(Since)15 b(the)h FP(else)f
F4(clause)h(applies)f(only)208 2083 y(to)e(the)i(case)g
FV(n)g F0(6)p F4(=)d(0,)h(w)o(e)h(can)g(rewrite)h(the)f(expression)h
(for)f FV(f)8 b F4([)p FV(n)s F4(])14 b(as)p Black Black
332 2166 a FV(f)9 b F4([)p FV(n)s F4(])22 b(=)i FP(if)f
FV(n)15 b F4(=)d(0)21 b FP(then)j F4(17)f FP(else)h FV(f)8
b F4([)p FV(n)k F0(\000)e F4(1])e F0(\003)h F4(\()p FV(f)g
F4([)p FV(n)j F0(\000)e F4(1])e(+)i FV(g)t F4([)p FV(n)i
F0(\000)d F4(1]\))208 2249 y(This)k(leads)h(to)g(the)h(follo)o(wing)c
(equiv)n(alen)o(t)i(de\014nition)h(of)f FV(mr)t F4(:)p
Black Black 332 2337 a FV(mr)t F4([)p FV(n)i F0(2)c FV(Nat)t
F4(])597 2313 y FI(\001)593 2337 y F4(=)415 2394 y([)p
FV(f)32 b F0(7!)23 b FP(if)g FV(n)15 b F4(=)d(0)21 b
FP(then)j F4(17)719 2444 y FP(else)36 b FV(mr)t F4([)p
FV(n)12 b F0(\000)e F4(1])p FQ(:)p FV(f)16 b F0(\003)9
b F4(\()p FV(mr)t F4([)p FV(n)k F0(\000)c F4(1])p FQ(:)p
FV(f)17 b F4(+)9 b FV(mr)t F4([)p FV(n)k F0(\000)c F4(1])p
FQ(:)p FV(g)t F4(\))e FQ(;)427 2501 y FV(g)26 b F0(7!)d
FP(if)g FV(n)15 b F4(=)d(0)21 b FP(then)j F4(42)f FP(else)h
FV(mr)t F4([)p FV(n)12 b F0(\000)e F4(1])p FQ(:)p FV(f)16
b F4(+)10 b FV(mr)t F4([)p FV(n)i F0(\000)d F4(1])p FQ(:)p
FV(g)h F4(])p Black Black eop
%%Page: 234 252
234 251 bop Black 208 275 a F4(234)814 b FR(CHAPTER)15
b(14.)31 b(THE)14 b(TLC)g(MODEL)g(CHECKER)p 208 282 1770
2 v Black 208 391 a F4(With)f(this)h(de\014nition,)f(TLC)h(has)g(no)f
(trouble)h(ev)n(aluating)f FV(mr)t F4([3].)270 441 y(The)h(ev)n
(aluation)f(of)j FP(enabled)f F4(predicates)h(and)d(the)i(action-comp)q
(osition)c(op)q(erator)208 491 y(\\)p F0(\001)p F4(")h(are)h(describ)q
(ed)j(on)d(page)g(240)f(in)h(Section)h(14.2.6.)i(Section)d(14.3)f
(explains)h(ho)o(w)g(TLC)208 541 y(ev)n(aluates)h(temp)q(oral-logic)d
(form)o(ulas)h(for)h(temp)q(oral)g(c)o(hec)o(king.)270
591 y(If)i(y)o(ou're)h(not)g(sure)h(whether)g(TLC)f(can)g(ev)n(aluate)f
(an)h(expression,)h(try)f(it)f(and)h(see.)208 640 y(But)g(don't)f(w)o
(ait)f(un)o(til)h(TLC)g(gets)i(to)e(the)h(expression)h(in)e(the)h
(middle)e(of)g(c)o(hec)o(king)i(the)208 690 y(en)o(tire)c(sp)q
(eci\014cation.)19 b(Instead,)12 b(mak)o(e)f(a)h(small)e(example)h(in)g
(whic)o(h)h(TLC)g(ev)n(aluates)h(just)208 740 y(that)k(expression.)31
b(See)18 b(the)g(explanation)f(on)g(page)h(14.5.3)e(of)h(ho)o(w)g(to)g
(use)i(TLC)e(as)h(a)208 790 y(TLA)295 775 y FS(+)329
790 y F4(calculator.)208 927 y F3(14.2.3)65 b(Assignmen)n(t)22
b(and)h(Replacemen)n(t)208 1018 y F4(As)13 b(w)o(e)h(sa)o(w)f(in)g(the)
h(alternating)e(bit)h(example,)f(the)i(con\014guration)e(\014le)i(m)o
(ust)e(determine)208 1068 y(the)g(v)n(alue)e(of)h(eac)o(h)h(constan)o
(t)g(parameter.)17 b(T)m(o)10 b(assign)h(a)g(TLC)h(v)n(alue)e
FV(v)16 b F4(to)11 b(a)g(constan)o(t)h(pa-)208 1118 y(rameter)f
FV(c)i F4(of)e(the)h(sp)q(eci\014cation,)g(w)o(e)g(write)f
FV(c)j FO(=)e FV(v)k F4(in)10 b(the)i(con\014guration)f(\014le's)h
FO(CONSTANT)208 1167 y F4(statemen)o(t.)17 b(The)12 b(v)n(alue)f
FV(v)16 b F4(ma)o(y)9 b(b)q(e)j(a)g(primitiv)o(e)d(TLC)i(v)n(alue)g(or)
h(a)f(\014nite)h(set)g(of)f(primitiv)o(e)208 1217 y(TLC)k(v)n(alues)h
(written)g(in)f(the)h(form)e F0(f)p FQ(v)846 1223 y FS(1)865
1217 y FQ(;)7 b(:)g(:)g(:)e(;)i(v)978 1223 y Fy(n)1000
1217 y F0(g)p F4(|for)14 b(example,)h FO({1,)21 b(-3,)g(2})p
F4(.)i(In)16 b FV(v)t F4(,)208 1267 y(an)o(y)c(sequence)k(of)c(c)o
(haracters)j(lik)o(e)d FO(a1)h F4(or)g FO(foo)g F4(that)g(is)g(not)g(a)
g(n)o(um)o(b)q(er,)f(a)h(quoted)g(string,)208 1317 y(or)g
FO(TRUE)g F4(or)h FO(FALSE)f F4(is)h(tak)o(en)g(to)g(b)q(e)g(a)g(mo)q
(del)e(v)n(alue.)270 1367 y(In)i(the)h(assignmen)o(t)e
FV(c)i FO(=)d FV(v)t F4(,)j(the)g(sym)o(b)q(ol)d FV(c)17
b F4(need)e(not)g(b)q(e)g(a)f(constan)o(t)g(parameter;)g(it)208
1417 y(can)f(also)g(b)q(e)h(a)f(de\014ned)h(sym)o(b)q(ol.)i(This)e
(assignmen)o(t)e(causes)j(TLC)e(to)g(ignore)g(the)h(actual)208
1466 y(de\014nition)g(of)h FV(c)j F4(and)d(to)g(tak)o(e)g
FV(v)20 b F4(to)15 b(b)q(e)h(its)f(v)n(alue.)22 b(Suc)o(h)15
b(an)g(assignmen)o(t)g(is)g(often)g(used)208 1516 y(when)c(TLC)g
(cannot)h(compute)e(the)i(v)n(alue)e(of)h FV(c)j F4(from)9
b(its)i(de\014nition.)17 b(In)11 b(particular,)g(TLC)208
1566 y(cannot)j(compute)f(the)h(v)n(alue)g(of)f FV(NotA)o(nS)19
b F4(from)12 b(the)j(de\014nition)p Black Black 332 1653
a FV(NotA)o(nS)519 1630 y FI(\001)514 1653 y F4(=)35
b FP(choose)16 b FV(n)22 b F4(:)c FV(n)i FQ(=)-26 b F0(2)12
b FV(S)208 1736 y F4(b)q(ecause)h(it)e(cannot)h(ev)n(aluate)f(the)h(un)
o(b)q(ounded)g FP(choose)g F4(expression.)19 b(Y)m(ou)11
b(can)h(o)o(v)o(erride)208 1786 y(this)k(de\014nition)g(b)o(y)g
(assigning)f FV(NotA)o(nS)22 b F4(a)16 b(v)n(alue)f(in)h(the)h
FO(CONSTANT)d F4(statemen)o(t)j(of)e(the)208 1836 y(con\014guration)e
(\014le.)18 b(F)m(or)c(example,)e(the)i(assignmen)o(t)p
Black Black 332 1919 a FO(NotAnS)21 b(=)g(NS)208 2002
y F4(causes)c(TLC)e(to)h(assign)f(to)h FV(NotA)o(nS)21
b F4(the)16 b(mo)q(del)e(v)n(alue)h FO(NS)p F4(.)23 b(TLC)16
b(ignores)g(the)g(actual)208 2052 y(de\014nition)d(of)h
FV(NotA)o(nS)5 b F4(.)19 b(If)14 b(y)o(ou)g(used)h(the)f(name)f
FV(NotA)o(nS)20 b F4(in)13 b(the)i(sp)q(eci\014cation,)g(y)o(ou'd)208
2102 y(probably)c(w)o(an)o(t)h(TLC's)g(error)h(messages)g(to)f(call)f
(it)h FO(NotAnS)f F4(rather)j(than)e FO(NS)p F4(.)17
b(So,)12 b(y)o(ou'd)208 2151 y(probably)h(use)i(the)f(assignmen)o(t)p
Black Black 332 2234 a FO(NotAnS)21 b(=)g(NotAnS)208
2317 y F4(whic)o(h)13 b(assigns)i(to)e(the)i(sym)o(b)q(ol)d
FV(NotA)o(nS)19 b F4(the)c(mo)q(del)d(v)n(alue)i FO(NotAnS)p
F4(.)e(Remem)o(b)q(er)g(that,)208 2367 y(in)h(the)h(assignmen)o(t)e
FV(c)i FO(=)e FV(v)t F4(,)h(the)i(sym)o(b)q(ol)c FV(c)16
b F4(m)o(ust)d(b)q(e)h(de\014ned)h(or)e(declared)i(in)e(the)h(TLA)1625
2352 y FS(+)208 2417 y F4(mo)q(dule,)e(and)h FV(v)19
b F4(m)o(ust)12 b(b)q(e)j(a)f(primitiv)o(e)d(TLC)j(v)n(alue)f(or)h(a)g
(\014nite)g(set)h(of)e(suc)o(h)h(v)n(alues.)270 2467
y(The)j FO(CONSTANT)e F4(statemen)o(t)i(of)f(the)h(con\014guration)f
(\014le)h(can)g(also)f(con)o(tain)g FV(r)n(eplac)n(e-)208
2517 y(ments)22 b F4(of)c(the)h(form)e FV(c)22 b FO(<-)d
FV(d)t F4(,)h(where)g FV(c)h F4(and)d FV(d)24 b F4(are)19
b(sym)o(b)q(ols)e(de\014ned)j(in)e(the)h(TLA)1625 2502
y FS(+)p .95 TeXcolorgray .95 TeXcolorgray 1679 2525
307 277 v .95 TeXcolorgray Black Black 1687 2280 a FZ(Note)12
b(that)e FY(d)15 b FZ(is)d(a)1687 2319 y(de\014ned)e(sym)o(b)q(ol)g(in)
1687 2359 y(the)h(replacemen)o(t)1687 2398 y FY(c)j Fn(<-)d
FY(d)s FZ(,)h(while)g Fn(v)f FZ(is)1687 2438 y(a)h(TLC)h(v)n(alue)d(in)
1687 2477 y(the)h(substitution)1687 2517 y FY(c)j Fn(=)e
FY(v)t FZ(.)p Black .95 TeXcolorgray Black Black Black
eop
%%Page: 235 253
235 252 bop Black 208 275 a FR(14.2.)30 b(WHA)m(T)13
b(TLC)h(CAN)g(COPE)h(WITH)987 b F4(235)p 208 282 1770
2 v Black 208 391 a(mo)q(dule.)22 b(This)16 b(causes)h(TLC)f(to)f
(replace)i FV(c)h F4(b)o(y)e FV(d)k F4(when)d(p)q(erforming)d(its)i
(calculations.)208 441 y(One)f(use)g(of)e(replacemen)o(t)h(is)h(to)f
(giv)o(e)f(a)h(v)n(alue)g(to)g(an)g(op)q(erator)h(parameter.)k(F)m(or)
13 b(exam-)208 491 y(ple,)k(supp)q(ose)i(w)o(e)e(w)o(an)o(ted)h(to)f
(use)h(TLC)g(to)f(c)o(hec)o(k)h(the)g(write-through)g(cac)o(he)g(sp)q
(eci\014-)208 541 y(cation)e(of)g(Section)g(5.6)g(\(page)g(54\).)26
b(The)17 b FV(WriteThr)n(oughCache)i F4(mo)q(dule)c(extends)j(the)208
591 y FV(MemoryInterfac)n(e)e F4(mo)q(dule,)c(whic)o(h)i(con)o(tains)g
(the)g(declaration)p Black Black 208 674 a FP(const)m(ants)i
FV(Send)t F4(\()p 548 674 22 3 v 36 w FQ(;)p 603 674
V 42 w(;)p 656 674 V 41 w(;)p 710 674 V 42 w F4(\))p
FQ(;)i FV(R)n(eply)t F4(\()p 910 674 V 35 w FQ(;)p 963
674 V 42 w(;)p 1017 674 V 41 w(;)p 1070 674 V 42 w F4(\))p
FQ(;)g(:)7 b(:)g(:)208 757 y F4(W)m(e)21 b(ha)o(v)o(e)g(to)h(tell)f
(TLC)h(ho)o(w)f(to)h(ev)n(aluate)f(the)i(op)q(erators)f
FV(Send)27 b F4(and)22 b FV(R)n(eply)t F4(.)41 b(W)m(e)208
806 y(do)22 b(this)g(b)o(y)g(\014rst)h(writing)f(a)g(mo)q(dule)f
FV(MCWriteThr)n(oughCache)k F4(that)e(extends)g(the)208
856 y FV(WriteThr)n(oughCache)17 b F4(mo)q(dule)12 b(and)i(de\014nes)h
(t)o(w)o(o)e(op)q(erators)p Black Black 332 943 a FV(MCSend)t
F4(\()p FV(p)s FQ(;)7 b FV(d)t FQ(;)g FV(old)t FQ(;)g
FV(new)t F4(\))799 920 y FI(\001)794 943 y F4(=)23 b
FQ(:)7 b(:)g(:)332 1008 y FV(MCR)n(eply)t F4(\()p FV(p)s
FQ(;)g FV(d)t FQ(;)g FV(old)t FQ(;)g FV(new)t F4(\))799
984 y FI(\001)794 1008 y F4(=)23 b FQ(:)7 b(:)g(:)208
1089 y F4(W)m(e)13 b(then)i(add)e(to)h(the)h(con\014guration)e
(\014le's)h FO(CONSTANT)e F4(statemen)o(t)i(the)g(replacemen)o(ts)p
Black Black Black Black 332 1172 a FO(Send)43 b(<-)21
b(MCSend)332 1221 y(Reply)g(<-)g(MCReply)208 1304 y F4(A)9
b(replacemen)o(t)h(can)g(also)f(replace)i(one)f(de\014ned)h(sym)o(b)q
(ol)d(b)o(y)h(another.)17 b(In)10 b(a)g(sp)q(eci\014cation,)208
1354 y(w)o(e)18 b(usually)g(write)h(the)g(simplest)f(p)q(ossible)h
(de\014nitions.)32 b(A)19 b(simple)e(de\014nition)h(is)h(not)208
1404 y(alw)o(a)o(ys)14 b(the)i(easiest)h(one)e(for)g(TLC)h(to)f(use.)24
b(F)m(or)15 b(example,)f(supp)q(ose)j(our)e(sp)q(eci\014cation)208
1454 y(requires)10 b(an)g(op)q(erator)g FV(Sort)j F4(suc)o(h)d(that)g
FV(Sort)t F4(\()p FV(S)5 b F4(\))10 b(is)f(a)h(sequence)h(con)o
(taining)e(the)h(elemen)o(ts)208 1504 y(of)17 b FV(S)23
b F4(in)18 b(increasing)g(order,)h(if)e FV(S)24 b F4(is)18
b(a)f(\014nite)i(set)g(of)e(n)o(um)o(b)q(ers.)30 b(Our)19
b(sp)q(eci\014cation)f(in)208 1553 y(mo)q(dule)12 b FV(Sp)n(e)n(cMo)n
(d)19 b F4(migh)o(t)12 b(use)j(the)f(simple)f(de\014nition)p
Black Black 332 1641 a FV(Sort)t F4(\()p FV(S)5 b F4(\))512
1617 y FI(\001)507 1641 y F4(=)35 b FP(choose)17 b FV(s)d
F0(2)e F4([1)h FQ(:)7 b(:)13 b FV(Car)n(dinality)t F4(\()p
FV(S)5 b F4(\))10 b F0(!)i FV(S)5 b F4(])18 b(:)615 1690
y F0(8)7 b FV(i)t FQ(;)g FV(j)17 b F0(2)11 b FP(domain)f
FV(s)22 b F4(:)c(\()p FV(i)e FQ(<)c FV(j)6 b F4(\))11
b F0(\))g F4(\()p FV(s)s F4([)p FV(i)t F4(])g FQ(<)h
FV(s)s F4([)p FV(j)6 b F4(]\))208 1774 y(T)m(o)14 b(ev)n(aluate)h
FV(Sort)t F4(\()p FV(S)5 b F4(\))16 b(for)f(a)g(set)h
FV(S)21 b F4(con)o(taining)14 b FV(n)19 b F4(elemen)o(ts,)c(TLC)g(has)h
(to)f(en)o(umerate)208 1824 y(the)e FV(n)304 1809 y FJ(n)342
1824 y F4(elemen)o(ts)g(in)f(the)i(set)g([1)f FQ(:)7
b(:)13 b FV(n)i F0(!)c FV(S)5 b F4(])13 b(of)f(functions.)18
b(This)13 b(ma)o(y)e(b)q(e)j(unacceptably)208 1873 y(slo)o(w.)25
b(W)m(e)17 b(can)g(write)g(a)f(mo)q(dule)f FV(MCSp)n(e)n(cMo)n(d)22
b F4(that)17 b(extends)h FV(Sp)n(e)n(cMo)n(d)k F4(and)16
b(de\014nes)208 1923 y FV(F)m(astSort)k F4(so)d(it)g(equals)g
FV(Sort)k F4(when)c(applied)f(to)h(\014nite)g(sets)i(of)d(n)o(um)o(b)q
(ers,)h(but)g(can)g(b)q(e)208 1973 y(ev)n(aluated)c(more)h(e\016cien)o
(tly)g(b)o(y)g(TLC.)k(W)m(e)c(can)g(then)h(run)g(TLC)f(with)f(a)h
(con\014guration)208 2023 y(\014le)f(con)o(taining)g(the)i(replacemen)o
(t)p Black Black 332 2106 a FO(Sort)21 b(<-)g(FastSort)208
2189 y F4(One)14 b(p)q(ossible)g(de\014nition)g(of)f
FV(F)m(astSort)18 b F4(is)13 b(giv)o(en)h(in)f(Section)h(14.4,)f(on)g
(page)h(250.)208 2326 y F3(14.2.4)65 b(Ev)l(aluating)24
b(T)-6 b(emp)r(oral)23 b(F)-6 b(orm)n(ulas)208 2417 y
F4(Section)15 b(14.2.2)f(\(page)h(231\))g(explains)g(what)h(kind)f(of)f
(ordinary)h(expressions)i(TLC)f(can)208 2467 y(ev)n(aluate.)26
b(The)17 b(sp)q(eci\014cation)h(and)e(prop)q(erties)i(that)f(TLC)g(c)o
(hec)o(ks)h(are)f(temp)q(oral)e(for-)208 2517 y(m)o(ulas;)c(this)j
(section)h(describ)q(es)h(the)e(class)g(of)g(temp)q(oral)e(form)o(ulas)
g(it)h(can)i(handle.)p Black Black eop
%%Page: 236 254
236 253 bop Black 208 275 a F4(236)814 b FR(CHAPTER)15
b(14.)31 b(THE)14 b(TLC)g(MODEL)g(CHECKER)p 208 282 1770
2 v Black 270 391 a F4(TLC)19 b(can)g(ev)n(aluate)g(a)g(TLA)g(temp)q
(oral)f(form)o(ula)e(i\013)j(\(i\))g(the)h(form)o(ula)c(is)j
FV(nic)n(e)s F4(|a)208 441 y(term)12 b(de\014ned)h(in)g(the)g(next)g
(paragraph|and)f(\(ii\))g(TLC)g(can)h(ev)n(aluate)g(all)e(the)i
(ordinary)208 491 y(expressions)18 b(of)e(whic)o(h)h(the)h(form)o(ula)c
(is)j(comp)q(osed.)27 b(F)m(or)16 b(example,)g(a)h(form)o(ula)d(of)i
(the)208 541 y(form)i FV(P)27 b FG(;)22 b FV(Q)i F4(is)c(nice,)i(so)e
(TLC)h(can)f(ev)n(aluate)g(it)g(i\013)g(it)g(can)h(ev)n(aluate)f
FV(P)k F4(and)d FV(Q)t F4(.)208 591 y(\(Section)16 b(14.3)e(b)q(elo)o
(w)h(explains)g(on)g(what)h(states)g(and)g(pairs)f(of)g(states)h(TLC)g
(ev)n(aluates)208 640 y(the)e(comp)q(onen)o(t)f(expressions)j(of)d(a)h
(temp)q(oral)e(form)o(ula.\))270 690 y(A)j(temp)q(oral)g(form)o(ula)e
(is)i(nice)h(i\013)f(it)g(is)h(the)g(conjunction)f(of)g(form)o(ulas)f
(that)h(b)q(elong)208 740 y(to)e(one)h(of)g(the)g(follo)o(wing)d(four)j
(classes:)p Black 208 835 a FU(State)g(Predicate)p Black
Black 208 919 a(In)o(v)m(ariance)g(F)l(orm)o(ula)p Black
19 w F4(A)f(form)o(ula)e(of)h(the)i(form)d FG(2)p FV(P)t
F4(,)i(where)h FV(P)k F4(is)13 b(a)f(state)i(predicate.)p
Black 208 1002 a FU(Bo)o(x-Action)g(F)l(orm)o(ula)p Black
18 w F4(A)g(form)o(ula)c(of)j(the)h(form)d FG(2)p F4([)p
FV(A)p F4(])1149 1008 y FJ(v)1169 1002 y F4(,)i(where)h
FV(A)f F4(is)g(an)g(action)g(and)311 1051 y FV(v)19 b
F4(is)13 b(a)h(state)h(function.)p Black 208 1134 a FU(Simple)e(T)l
(emp)q(oral)h(F)l(orm)o(ula)p Black 19 w F4(T)m(o)h(de\014ne)i(this)f
(class,)g(w)o(e)g(\014rst)h(mak)o(e)d(the)i(follo)o(wing)311
1184 y(de\014nitions:)p .95 TeXcolorgray .95 TeXcolorgray
1679 1271 307 119 v .95 TeXcolorgray Black Black 1177
w FZ(The)c(terminology)1687 1224 y(used)f(here)f(is)i(not)1687
1263 y(standard.)p Black .95 TeXcolorgray Black Black
361 1267 a F0(\017)p Black 21 w F4(The)i FV(simple)g(Bo)n(ole)n(an)i
(op)n(er)n(ators)h F4(consist)d(of)f(the)i(op)q(erators)p
Black Black 527 1325 a F0(^)92 b(_)g(:)i(\))83 b(\021)95
b FP(tr)o(ue)83 b(f)l(alse)403 1383 y F4(of)9 b(prop)q(ositional)f
(logic)h(together)h(with)g(quan)o(ti\014cation)e(o)o(v)o(er)i
(\014nite,)g(constan)o(t)403 1433 y(sets.)p Black 361
1500 a F0(\017)p Black 21 w F4(A)18 b FV(temp)n(or)n(al)g(state)h
(formula)i F4(is)e(one)f(obtained)g(from)f(state)i(predicates)h(b)o(y)
403 1549 y(applying)11 b(simple)g(Bo)q(olean)h(op)q(erators)h(and)g
(the)g(temp)q(oral)e(op)q(erators)i FG(2)p F4(,)g FG(3)p
F4(,)403 1599 y(and)g FG(;)p F4(.)18 b(F)m(or)13 b(example,)f(if)i
FV(N)20 b F4(is)14 b(a)f(constan)o(t,)h(then)p Black
Black 527 1657 a F0(8)7 b FV(i)16 b F0(2)11 b F4(1)i
FQ(:)7 b(:)13 b FV(N)25 b F4(:)18 b FG(2)p F4(\(\()p
FV(x)f F4(=)12 b FV(i)t F4(\))g F0(\))f(9)c FV(j)17 b
F0(2)11 b F4(1)j FQ(:)7 b(:)13 b FV(i)22 b F4(:)c FG(3)p
F4(\()p FV(y)e F4(=)11 b FV(j)6 b F4(\)\))403 1716 y(is)13
b(a)h(temp)q(oral)f(state)h(form)o(ula.)p Black 361 1782
a F0(\017)p Black 21 w F4(A)f FV(simple)g(action)i(formula)g
F4(is)e(one)g(of)f(the)i(follo)o(wing,)c(where)k FV(A)f
F4(is)g(an)f(action)403 1832 y(and)h FV(v)19 b F4(a)13
b(state)i(function:)p Black Black 527 1890 a(WF)597 1896
y FJ(v)618 1890 y F4(\()p FV(A)p F4(\))83 b(SF)814 1896
y FJ(v)835 1890 y F4(\()p FV(A)p F4(\))g FG(23)p F0(h)s
FV(A)s F0(i)1114 1896 y FJ(v)1219 1890 y FG(32)p F4([)p
FV(A)p F4(])1338 1896 y FJ(v)403 1948 y F4(The)19 b(comp)q(onen)o(t)f
(expressions)i(of)f(WF)1053 1954 y FJ(v)1074 1948 y F4(\()p
FV(A)p F4(\))g(and)g(SF)1292 1954 y FJ(v)1313 1948 y
F4(\()p FV(A)p F4(\))g(are)g F0(h)s FV(A)s F0(i)1538
1954 y FJ(v)1579 1948 y F4(and)403 1998 y FP(enabled)10
b F0(h)s FV(A)s F0(i)649 2004 y FJ(v)671 1998 y F4(.)29
b(\(The)17 b(ev)n(aluation)f(of)k FP(enabled)f F4(form)o(ulas)c(is)i
(describ)q(ed)403 2048 y(on)c(page)h(240.\))311 2131
y(A)20 b(simple)e(temp)q(oral)g(form)o(ula)f(is)i(then)h(de\014ned)g
(to)f(b)q(e)h(one)g(constructed)i(from)311 2180 y(temp)q(oral)17
b(state)j(form)o(ulas)c(and)i(simple)f(action)i(form)o(ulas)d(b)o(y)i
(applying)f(simple)311 2230 y(Bo)q(olean)d(op)q(erators.)208
2313 y(F)m(or)h(con)o(v)o(enience,)j(w)o(e)e(exclude)h(in)o(v)n
(ariance)e(form)o(ulas)f(from)g(the)j(class)f(of)f(simple)g(tem-)208
2363 y(p)q(oral)e(form)o(ulas,)e(so)j(these)h(four)f(classes)h(of)e
(nice)i(temp)q(oral)d(form)o(ulas)g(are)i(disjoin)o(t.)270
2413 y(TLC)g(can)g(therefore)h(ev)n(aluate)f(the)g(temp)q(oral)f(form)o
(ula)p Black Black 332 2496 a F0(8)7 b FV(i)16 b F0(2)11
b F4(1)i FQ(:)7 b(:)13 b FV(N)25 b F4(:)18 b FG(3)p F4(\()p
FV(y)e F4(=)11 b FV(i)t F4(\))h F0(\))f F4(WF)890 2502
y FJ(y)911 2496 y F4(\(\()p FV(y)967 2479 y FH(0)990
2496 y F4(=)h FV(y)h F4(+)d(1\))f F0(^)g F4(\()p FV(y)15
b F0(\025)d FV(i)t F4(\)\))p Black Black eop
%%Page: 237 255
237 254 bop Black 208 275 a FR(14.2.)30 b(WHA)m(T)13
b(TLC)h(CAN)g(COPE)h(WITH)987 b F4(237)p 208 282 1770
2 v Black 208 391 a(if)14 b FV(N)23 b F4(is)15 b(a)g(constan)o(t,)h(b)q
(ecause)i(this)d(is)h(a)f(simple)f(temp)q(oral)h(form)o(ula)e(\(and)i
(hence)i(nice\))208 441 y(and)e(TLC)h(can)g(ev)n(aluate)g(all)f(of)g
(its)h(comp)q(onen)o(t)f(expressions.)26 b(TLC)16 b(cannot)g(ev)n
(aluate)208 491 y FG(3)p F0(h)s FV(x)284 476 y FH(0)314
491 y F4(=)i(1)s F0(i)404 497 y FJ(x)426 491 y F4(,)g(since)h(this)e
(is)h(not)f(a)h(nice)g(form)o(ula.)27 b(It)18 b(cannot)g(ev)n(aluate)f
(the)h(form)o(ula)208 541 y(WF)277 547 y FJ(x)299 541
y F4(\()p FV(x)339 526 y FH(0)351 541 y F4([1])13 b(=)i(0\))h(if)f(it)h
(m)o(ust)e(ev)n(aluate)i(the)g(action)g F0(h)s FV(x)1105
526 y FH(0)1117 541 y F4([1])e(=)h(0)s F0(i)1263 547
y FJ(x)1300 541 y F4(on)h(a)g(step)g FV(s)j F0(!)14 b
FV(t)19 b F4(in)208 591 y(whic)o(h)13 b FV(x)k F4(=)12
b F0(h)7 b(i)14 b F4(in)f(state)i FV(t)t F4(.)270 640
y(A)c FO(PROPERTY)f F4(statemen)o(t)h(can)h(sp)q(ecify)f(an)o(y)g(form)
o(ulas)e(that)j(TLC)f(can)h(ev)n(aluate.)k(The)208 690
y(form)o(ula)11 b(of)i(a)h FO(SPECIFICATION)d F4(statemen)o(t)j(m)o
(ust)f(con)o(tain)g(exactly)h(one)g(conjunct)h(that)208
740 y(is)e(a)h(b)q(o)o(x-action)f(form)o(ula.)i(That)f(conjunct)h(sp)q
(eci\014es)g(the)g(next-state)g(action.)208 877 y F3(14.2.5)65
b(Ov)n(erriding)25 b(Mo)r(dules)208 968 y F4(TLC)14 b(cannot)h(compute)
g(2)9 b(+)i(2)j(from)f(the)j(de\014nition)e(of)g(+)i(con)o(tained)f(in)
f(the)h(standard)208 1018 y FV(Natur)n(als)j F4(mo)q(dule.)23
b(Ev)o(en)17 b(if)e(w)o(e)h(did)f(use)i(a)f(de\014nition)g(of)f(+)h
(from)e(whic)o(h)i(TLC)g(could)208 1068 y(compute)c(sums,)g(it)h(w)o
(ould)f(not)h(do)g(so)g(v)o(ery)g(quic)o(kly)m(.)k(Arithmetic)12
b(op)q(erators)i(lik)o(e)e(+)h(are)208 1118 y(implem)o(en)o(ted)j
(directly)h(in)g(Ja)o(v)n(a,)g(the)h(language)e(in)h(whic)o(h)h(TLC)f
(is)g(written.)29 b(This)17 b(is)208 1167 y(ac)o(hiev)o(ed)12
b(b)o(y)h(a)f(general)h(mec)o(hanism)d(of)i(TLC)g(that)h(allo)o(ws)e(a)
i(mo)q(dule)e(to)h(b)q(e)h(o)o(v)o(erridden)208 1217
y(b)o(y)k(a)h(Ja)o(v)n(a)f(class)h(that)g(implemen)o(ts)d(the)k(op)q
(erators)g(de\014ned)f(in)g(the)g(mo)q(dule.)29 b(When)208
1267 y(TLC)16 b(encoun)o(ters)j(an)e FP(extends)f FV(Natur)n(als)j
F4(statemen)o(t,)e(it)g(loads)f(the)h(Ja)o(v)n(a)g(class)g(that)208
1317 y(o)o(v)o(errides)j(the)g FV(Natur)n(als)i F4(mo)q(dule)c(rather)i
(than)f(reading)h(the)g(mo)q(dule)d(itself.)35 b(There)208
1367 y(are)13 b(Ja)o(v)n(a)g(classes)i(to)e(o)o(v)o(erride)g(the)h
(follo)o(wing)d(standard)j(mo)q(dules:)j FV(Natur)n(als)s
F4(,)12 b FV(Inte)n(gers)s F4(,)208 1417 y FV(Se)n(quenc)n(es)s
F4(,)19 b FV(FiniteSets)s F4(,)f(and)f FV(Bags)s F4(.)30
b(\(The)18 b FV(TLC)23 b F4(mo)q(dule)16 b(describ)q(ed)j(b)q(elo)o(w)e
(in)g(Sec-)208 1466 y(tion)f(14.4)g(is)i(also)e(o)o(v)o(erridden)i(b)o
(y)f(a)g(Ja)o(v)n(a)g(class.\))29 b(In)o(trepid)17 b(Ja)o(v)n(a)g
(programmers)e(will)208 1516 y(\014nd)f(that)g(writing)f(a)g(Ja)o(v)n
(a)g(class)i(to)e(o)o(v)o(erride)i(a)e(mo)q(dule)g(is)g(not)h(to)q(o)g
(hard.)208 1653 y F3(14.2.6)65 b(Ho)n(w)21 b(TLC)h(Computes)g(States)
208 1744 y F4(When)14 b(TLC)g(ev)n(aluates)h(an)f(in)o(v)n(arian)o(t,)e
(it)i(is)g(calculating)f(the)i(in)o(v)n(arian)o(t's)e(v)n(alue,)g(whic)
o(h)208 1794 y(is)g(either)h FP(tr)o(ue)f F4(or)h FP(f)l(alse)q
F4(.)k(When)13 b(TLC)g(ev)n(aluates)h(the)g(initial)d(predicate)j(or)g
(the)g(next-)208 1844 y(state)k(action,)g(it)f(is)h(computing)e(a)h
(set)h(of)f(states|for)i(the)f(initial)d(predicate,)20
b(the)e(set)208 1894 y(of)d(all)g(initial)g(states,)i(and)f(for)g(the)h
(next-state)h(action,)e(the)h(set)g(of)e(p)q(ossible)i
FV(suc)n(c)n(essor)208 1944 y(states)k F4(\(primed)16
b(states\))j(reac)o(hed)h(from)c(a)h(giv)o(en)g(starting)h
(\(unprimed\))f(state.)31 b(I)17 b(will)208 1993 y(describ)q(e)k(ho)o
(w)f(TLC)f(do)q(es)i(this)f(for)f(the)i(next-state)g(action;)h(the)f
(ev)n(aluation)d(of)h(the)208 2043 y(initial)11 b(predicate)k(is)f
(analogous.)270 2093 y(Recall)c(that)g(a)h(state)g(is)g(an)f(assignmen)
o(t)f(of)h(v)n(alues)h(to)f(v)n(ariables.)16 b(TLC)11
b(computes)f(the)208 2143 y(successors)j(of)d(a)h(giv)o(en)f(state)i
FV(s)i F4(b)o(y)d(assigning)e(to)i(all)f(unprimed)g(v)n(ariables)g
(their)h(v)n(alues)f(in)208 2193 y(state)g FV(s)s F4(,)g(assigning)f
(no)g(v)n(alues)g(to)h(the)g(primed)e(v)n(ariables,)i(and)f(then)h(ev)n
(aluating)e(the)j(next-)208 2242 y(state)i(action.)18
b(TLC)13 b(ev)n(aluates)g(the)h(next-state)g(action)f(as)g(describ)q
(ed)i(in)d(Section)i(14.2.2)208 2292 y(\(page)i(231\),)g(except)h(for)f
(t)o(w)o(o)g(di\013erences,)i(whic)o(h)e(I)h(no)o(w)e(describ)q(e.)27
b(This)16 b(description)208 2342 y(assumes)d(that)g(TLC)h(has)f
(already)g(p)q(erformed)g(all)g(the)h(assignmen)o(ts)e(and)h
(replacemen)o(ts)208 2392 y(sp)q(eci\014ed)i(b)o(y)e(the)h
FO(CONSTANT)e F4(statemen)o(t)i(of)f(the)h(con\014guration)f(\014le)h
(and)f(has)h(expanded)208 2442 y(all)9 b(de\014nitions.)17
b(Th)o(us,)10 b(the)h(next-state)h(action)e(is)g(a)g(form)o(ula)e(con)o
(taining)h(only)h(v)n(ariables,)208 2492 y(primed)i(v)n(ariables,)h(mo)
q(del)f(v)n(alues,)i(and)f(built-in)g(TLA)1106 2476 y
FS(+)1140 2492 y F4(op)q(erators)i(and)f(constan)o(ts.)p
Black Black eop
%%Page: 238 256
238 255 bop Black 208 275 a F4(238)814 b FR(CHAPTER)15
b(14.)31 b(THE)14 b(TLC)g(MODEL)g(CHECKER)p 208 282 1770
2 v Black 270 391 a F4(The)g(\014rst)g(di\013erence)h(in)e(ev)n
(aluating)g(the)h(next-state)g(action)f(is)h(that)f(TLC)h(do)q(es)g
(not)208 441 y(ev)n(aluate)e(disjunctions)g(from)f(left)h(to)g(righ)o
(t.)17 b(Instead,)c(when)g(it)f(ev)n(aluates)h(a)f(subform)o(ula)208
491 y FV(A)239 497 y FS(1)266 491 y F0(_)d FQ(:)e(:)g(:)h
F0(_)h FV(A)429 497 y FJ(n)452 491 y F4(,)j(it)g(splits)f(the)i
(computation)d(in)o(to)h FV(n)16 b F4(separate)d(ev)n(aluations,)d(eac)
o(h)j(taking)208 541 y(the)19 b(subform)o(ula)d(to)i(b)q(e)h(one)g(of)e
(the)i FV(A)858 547 y FJ(i)874 541 y F4(.)31 b(Similarly)l(,)16
b(when)j(it)f(ev)n(aluates)h F0(9)7 b FV(x)16 b F0(2)c
FV(S)h F4(:)8 b FV(p)r F4(,)208 591 y(it)16 b(splits)h(the)g
(computation)e(in)o(to)h(separate)i(ev)n(aluations)e(for)g(eac)o(h)h
(elemen)o(t)g(of)f FV(S)5 b F4(.)27 b(An)208 640 y(implicatio)o(n)12
b FV(P)18 b F0(\))12 b FV(Q)19 b F4(is)14 b(treated)i(as)f(the)h
(disjunction)e(\()p F0(:)p FV(P)t F4(\))c F0(_)g FV(Q)t
F4(.)20 b(F)m(or)15 b(example,)e(TLC)208 690 y(splits)g(the)i(ev)n
(aluation)d(of)p Black Black 332 768 a(\()p FV(A)g F0(\))f
FV(B)t F4(\))16 b F0(_)g F4(\()p FV(C)f F0(^)9 b F4(\()p
F0(9)e FV(i)16 b F0(2)11 b FV(S)24 b F4(:)18 b FV(D)t
F4(\()p FV(i)t F4(\)\))10 b F0(^)f FV(E)c F4(\))208 846
y(in)o(to)13 b(separate)i(ev)n(aluations)e(of)g(the)h(three)i
(disjuncts)e F0(:)p FV(A)p F4(,)f FV(B)t F4(,)h(and)p
Black Black 332 924 a FV(C)h F0(^)9 b F4(\()p F0(9)e
FV(i)16 b F0(2)11 b FV(S)24 b F4(:)17 b FV(D)t F4(\()p
FV(i)t F4(\)\))10 b F0(^)f FV(E)208 1002 y F4(T)m(o)i(ev)n(aluate)g
(the)h(latter)g(disjunct,)h(it)e(\014rst)i(ev)n(aluates)e
FV(C)6 b F4(.)17 b(If)12 b(it)f(obtains)h(the)g(v)n(alue)f
FP(tr)o(ue)p F4(,)208 1052 y(then)j(it)f(splits)h(this)g(ev)n(aluation)
e(in)o(to)h(the)h(separate)h(ev)n(aluations)e(of)g FV(D)t
F4(\()p FV(i)t F4(\))d F0(^)f FV(E)c F4(,)13 b(for)g(eac)o(h)208
1102 y FV(i)j F4(in)11 b FV(S)5 b F4(.)18 b(It)12 b(ev)n(aluates)h
FV(D)t F4(\()p FV(i)t F4(\))c F0(^)g FV(E)18 b F4(b)o(y)11
b(\014rst)i(ev)n(aluating)e FV(D)t F4(\()p FV(i)t F4(\))i(and,)f(if)f
(it)h(obtains)g(the)h(v)n(alue)208 1152 y FP(tr)o(ue)p
F4(,)g(then)i(ev)n(aluating)d FV(E)5 b F4(.)270 1201
y(The)11 b(second)i(di\013erence)g(in)e(the)g(w)o(a)o(y)g(TLC)g(ev)n
(aluates)g(the)h(next-state)g(action)f(is)g(that,)208
1251 y(for)e(an)o(y)h(v)n(ariable)f FV(x)c F4(,)10 b(if)f(it)h(ev)n
(aluates)g(an)g(expression)h(of)e(the)i(form)d FV(x)1266
1236 y FH(0)1290 1251 y F4(=)j FV(e)i F4(when)e FV(x)1494
1236 y FH(0)1516 1251 y F4(has)f(not)208 1301 y(y)o(et)15
b(b)q(een)h(assigned)f(a)g(v)n(alue,)f(then)i(the)g(ev)n(aluation)d
(yields)i(the)h(v)n(alue)e FP(tr)o(ue)h F4(and)g(TLC)208
1351 y(assigns)f(to)g FV(x)422 1336 y FH(0)448 1351 y
F4(the)h(v)n(alue)e(obtained)h(b)o(y)g(ev)n(aluating)f(the)h
(expression)i FV(e)s F4(.)j(TLC)14 b(ev)n(aluates)208
1401 y(an)19 b(expression)h(of)f(the)h(form)d FV(x)733
1386 y FH(0)766 1401 y F0(2)j FV(S)k F4(as)c(if)e(it)h(w)o(ere)h
F0(9)7 b FV(v)16 b F0(2)11 b FV(S)j F4(:)7 b FV(x)1293
1386 y FH(0)1317 1401 y F4(=)12 b FV(v)t F4(.)34 b(It)20
b(ev)n(aluates)208 1451 y FP(unchanged)d FV(x)i F4(as)14
b FV(x)564 1435 y FH(0)587 1451 y F4(=)e FV(x)19 b F4(for)14
b(an)o(y)f(v)n(ariable)g FV(x)5 b F4(,)14 b(and)f FP(unchanged)k
F0(h)s FV(e)1381 1457 y FS(1)1401 1451 y FQ(;)7 b(:)g(:)g(:)e(;)i
FV(e)1516 1457 y FJ(n)1543 1451 y F0(i)14 b F4(as)p Black
Black 332 1529 a(\()p FP(unchanged)j FV(e)613 1535 y
FS(1)632 1529 y F4(\))k F0(^)g FQ(:)7 b(:)g(:)19 b F0(^)h
F4(\()p FP(unchanged)e FV(e)1117 1535 y FJ(n)1141 1529
y F4(\))208 1607 y(for)e(an)o(y)h(expressions)i FV(e)598
1613 y FJ(i)613 1607 y F4(.)28 b(Hence,)19 b(TLC)e(ev)n(aluates)g
FP(unchanged)g F0(h)s FV(x)5 b FQ(;)i F0(h)s FV(y)t FQ(;)g
FV(z)i F0(i)s(i)18 b F4(as)f(if)f(it)208 1656 y(w)o(ere)p
Black Black 332 1734 a(\()p FV(x)372 1717 y FH(0)396
1734 y F4(=)11 b FV(x)5 b F4(\))17 b F0(^)f F4(\()p FV(y)580
1717 y FH(0)603 1734 y F4(=)c FV(y)t F4(\))k F0(^)g F4(\()p
FV(z)785 1717 y FH(0)808 1734 y F4(=)c FV(z)5 b F4(\))270
1812 y(Except)17 b(when)f(ev)n(aluating)f(an)g(expression)i(of)f(the)g
(form)e FV(x)1232 1797 y FH(0)1259 1812 y F4(=)h FV(e)s
F4(,)h(TLC)g(rep)q(orts)h(an)208 1862 y(error)e(if)f(it)g(encoun)o
(ters)j(a)d(primed)g(v)n(ariable)f(that)i(has)f(not)h(y)o(et)g(b)q(een)
h(assigned)f(a)f(v)n(alue.)208 1912 y(An)k(ev)n(aluation)f(stops,)i
(\014nding)f(no)g(states,)i(if)e(a)g(conjunct)h(ev)n(aluates)f(to)g
FP(f)l(alse)r F4(.)31 b(An)208 1962 y(ev)n(aluation)9
b(that)i(completes)f(and)h(obtains)f(the)i(v)n(alue)e
FP(tr)o(ue)h F4(\014nds)g(the)g(state)h(determined)208
2012 y(b)o(y)i(the)g(v)n(alues)g(assigned)h(to)f(the)h(primed)e(v)n
(ariables.)19 b(In)14 b(the)h(latter)f(case,)h(TLC)f(rep)q(orts)208
2061 y(an)f(error)i(if)e(some)g(primed)g(v)n(ariable)g(has)h(not)f(b)q
(een)i(assigned)g(a)e(v)n(alue.)270 2111 y(T)m(o)e(illustrate)g(ho)o(w)
g(this)h(w)o(orks,)f(let's)h(consider)g(ho)o(w)f(TLC)h(ev)n(aluates)f
(the)i(next-state)208 2161 y(action)p Black Black 332
2239 a F0(_)h(^)f FV(x)439 2224 y FH(0)463 2239 y F0(2)e
F4(1)i FQ(:)7 b(:)13 b FV(L)n(en)s F4(\()p FV(y)t F4(\))374
2289 y F0(^)g FV(y)439 2274 y FH(0)462 2289 y F4(=)f
FV(App)n(end)t F4(\()p FV(T)m(ail)t F4(\()p FV(y)t F4(\))p
FQ(;)7 b FV(x)835 2274 y FH(0)847 2289 y F4(\))332 2339
y F0(_)14 b(^)f FV(x)439 2324 y FH(0)463 2339 y F4(=)e
FV(x)k F4(+)9 b(1)374 2388 y F0(^)k FV(y)439 2373 y FH(0)462
2388 y F4(=)f FV(App)n(end)t F4(\()p FV(y)t FQ(;)7 b
FV(x)727 2373 y FH(0)739 2388 y F4(\))p Black 208 2239
a(\(14.4\))p Black 208 2467 a(W)m(e)14 b(\014rst)i(consider)g(the)g
(starting)f(state)h(with)f FV(x)k F4(=)14 b(1)h(and)g
FV(y)j F4(=)c F0(h)s F4(2)p FQ(;)7 b F4(3)s F0(i)p F4(.)22
b(TLC)15 b(splits)g(the)208 2517 y(computation)e(in)o(to)i(ev)n
(aluating)g(the)h(t)o(w)o(o)f(disjuncts)h(separately)m(.)24
b(It)15 b(b)q(egins)h(ev)n(aluating)p Black Black eop
%%Page: 239 257
239 256 bop Black 208 275 a FR(14.2.)30 b(WHA)m(T)13
b(TLC)h(CAN)g(COPE)h(WITH)987 b F4(239)p 208 282 1770
2 v Black 208 391 a(the)18 b(\014rst)i(disjunct)e(of)g(\(14.4\))f(b)o
(y)h(ev)n(aluating)f(its)i(\014rst)g(conjunct,)g(whic)o(h)f(it)g
(treats)i(as)208 441 y F0(9)7 b FV(i)15 b F0(2)c F4(1)j
FQ(:)7 b(:)13 b FV(L)n(en)s F4(\()p FV(y)t F4(\))8 b(:)g
FV(x)561 426 y FH(0)584 441 y F4(=)k FV(i)t F4(.)23 b(Since)16
b FV(L)n(en)s F4(\()p FV(y)t F4(\))f(=)g(2,)g(the)h(ev)n(aluation)e
(splits)i(in)o(to)f(separate)208 491 y(ev)n(aluations)d(of)p
Black Black 332 574 a F0(^)i FV(x)398 559 y FH(0)421
574 y F4(=)e(1)332 624 y F0(^)i FV(y)398 609 y FH(0)421
624 y F4(=)d FV(App)n(end)t F4(\()p FV(T)m(ail)t F4(\()p
FV(y)t F4(\))p FQ(;)c FV(x)793 609 y FH(0)806 624 y F4(\))988
574 y F0(^)13 b FV(x)1053 559 y FH(0)1077 574 y F4(=)e(2)988
624 y F0(^)i FV(y)1053 609 y FH(0)1076 624 y F4(=)f FV(App)n(end)t
F4(\()p FV(T)m(ail)t F4(\()p FV(y)t F4(\))p FQ(;)7 b
FV(x)1449 609 y FH(0)1461 624 y F4(\))p Black 208 574
a(\(14.5\))p Black 208 705 a(TLC)16 b(ev)n(aluates)i(the)f(\014rst)h
(of)e(these)j(actions)e(as)g(follo)o(ws.)26 b(It)17 b(ev)n(aluates)g
(the)h(\014rst)g(con-)208 755 y(junct,)f(obtaining)e(the)i(v)n(alue)f
FP(tr)o(ue)h F4(and)g(assigning)f(to)g FV(x)1157 740
y FH(0)1186 755 y F4(the)h(v)n(alue)f(1;)h(it)f(then)i(ev)n(al-)208
805 y(uates)g(the)h(second)h(conjunct,)f(obtaining)e(the)h(v)n(alue)g
FP(tr)o(ue)g F4(and)g(assigning)g(to)g FV(y)1559 789
y FH(0)1588 805 y F4(the)208 854 y(v)n(alue)c FV(App)n(end)t
F4(\()p FV(T)m(ail)t F4(\()p F0(h)s F4(2)p FQ(;)7 b F4(3)s
F0(i)p F4(\))p FQ(;)g F4(1\).)20 b(So,)14 b(ev)n(aluating)g(the)h
(\014rst)g(action)f(of)g(\(14.5\))g(\014nds)h(the)208
904 y(successor)21 b(state)e(with)f FV(x)25 b F4(=)20
b(1)e(and)h FV(y)k F4(=)c F0(h)s F4(3)p FQ(;)7 b F4(1)s
F0(i)p F4(.)33 b(Similarly)l(,)16 b(ev)n(aluating)i(the)h(second)208
954 y(action)12 b(of)h(\(14.5\))f(\014nds)h(the)h(successor)h(state)f
(with)f FV(x)j F4(=)c(2)h(and)g FV(y)i F4(=)d F0(h)s
F4(3)p FQ(;)7 b F4(2)s F0(i)p F4(.)18 b(In)13 b(a)f(similar)208
1004 y(w)o(a)o(y)m(,)e(TLC)h(ev)n(aluates)h(the)g(second)h(disjunct)f
(of)f(\(14.4\))f(to)i(\014nd)g(the)g(successor)i(state)e(with)208
1054 y FV(x)21 b F4(=)16 b(2)h(and)f FV(y)k F4(=)d F0(h)s
F4(2)p FQ(;)7 b F4(3)p FQ(;)g F4(2)s F0(i)p F4(.)25 b(Hence,)19
b(the)e(ev)n(aluation)e(of)h(\(14.4\))g(\014nds)h(three)h(successor)208
1103 y(states.)270 1153 y(Next,)i(consider)f(ho)o(w)g(TLC)f(ev)n
(aluates)h(the)g(next-state)h(action)f(\(14.4\))e(in)i(a)f(state)208
1203 y(with)13 b FV(x)18 b F4(=)12 b(1)i(and)g FV(y)k
F4(equal)c(to)g(the)h(empt)o(y)e(sequence)k F0(h)7 b(i)p
F4(.)19 b(Since)c FV(L)n(en)s F4(\()p FV(y)t F4(\))d(=)h(0)h(and)g(1)f
FQ(:)7 b(:)13 b F4(0)208 1253 y(is)g(the)i(empt)o(y)e(set)h
F0(f)7 b(g)p F4(,)13 b(TLC)h(ev)n(aluates)g(the)g(\014rst)h(disjunct)f
(as)p Black Black 332 1336 a F0(^)g(9)7 b FV(i)15 b F0(2)c(f)c(g)18
b F4(:)g FV(x)592 1321 y FH(0)616 1336 y F4(=)11 b FV(i)332
1386 y F0(^)j FV(y)398 1371 y FH(0)421 1386 y F4(=)d
FV(App)n(end)t F4(\()p FV(T)m(ail)t F4(\()p FV(y)t F4(\))p
FQ(;)c FV(x)793 1371 y FH(0)806 1386 y F4(\))208 1467
y(Ev)n(aluating)j(the)j(\014rst)g(conjunct)g(yields)g
FP(f)l(alse)q F4(,)f(so)h(the)g(ev)n(aluation)e(of)g(the)i(\014rst)h
(disjunct)208 1517 y(of)c(\(14.4\))g(stops,)h(\014nding)f(no)h
(successor)i(states.)18 b(Ev)n(aluating)10 b(the)h(second)h(disjunct)f
(yields)208 1566 y(the)j(successor)i(state)f(with)f FV(x)i
F4(=)c(2)i(and)g FV(y)h F4(=)d F0(h)s F4(2)s F0(i)p F4(.)270
1616 y(Since)22 b(TLC)g(ev)n(aluates)f(conjuncts)i(from)d(left)h(to)h
(righ)o(t,)h(their)f(order)g(can)g(a\013ect)208 1666
y(whether)16 b(or)f(not)g(TLC)h(can)f(ev)n(aluate)g(the)h(next-state)g
(action.)22 b(F)m(or)15 b(example,)f(supp)q(ose)208 1716
y(the)g(t)o(w)o(o)f(conjuncts)i(in)f(the)g(\014rst)h(disjunct)f(of)f
(\(14.4\))g(w)o(ere)i(rev)o(ersed,)h(lik)o(e)d(this:)p
Black Black 332 1799 a F0(^)h FV(y)398 1784 y FH(0)421
1799 y F4(=)d FV(App)n(end)t F4(\()p FV(T)m(ail)t F4(\()p
FV(y)t F4(\))p FQ(;)c FV(x)793 1784 y FH(0)806 1799 y
F4(\))332 1849 y F0(^)14 b FV(x)398 1834 y FH(0)421 1849
y F0(2)d F4(1)j FQ(:)7 b(:)13 b FV(L)n(en)s F4(\()p FV(y)t
F4(\))208 1930 y(When)h(TLC)f(ev)n(aluates)h(the)h(\014rst)f(conjunct)h
(of)e(this)h(action,)f(it)g(encoun)o(ters)j(the)f(expres-)208
1980 y(sion)i FV(App)n(end)t F4(\()p FV(T)m(ail)t F4(\()p
FV(y)t F4(\))p FQ(;)7 b FV(x)626 1965 y FH(0)638 1980
y F4(\))17 b(b)q(efore)h(it)f(has)g(assigned)h(a)f(v)n(alue)g(to)g
FV(x)1316 1965 y FH(0)1328 1980 y F4(,)g(so)h(it)e(rep)q(orts)j(an)208
2029 y(error.)g(Moreo)o(v)o(er,)13 b(ev)o(en)i(if)e(w)o(e)h(w)o(ere)h
(to)f(c)o(hange)g(that)g FV(x)1111 2014 y FH(0)1137 2029
y F4(to)f(an)h FV(x)5 b F4(,)14 b(TLC)f(could)h(still)f(not)208
2079 y(ev)n(aluate)f(the)i(action)f(starting)g(in)f(a)h(state)h(with)f
FV(y)i F4(=)d F0(h)7 b(i)p F4(,)13 b(since)h(it)e(w)o(ould)h(encoun)o
(ter)h(the)208 2129 y(silly)e(expression)j FV(T)m(ail)t
F4(\()p F0(h)7 b(i)p F4(\))14 b(when)g(ev)n(aluating)f(the)h(\014rst)h
(conjunct.)270 2179 y(The)i(description)f(giv)o(en)g(ab)q(o)o(v)o(e)g
(of)g(ho)o(w)g(TLC)g(ev)n(aluates)g(an)g(arbitrary)h(next-state)208
2229 y(action)h(is)h(go)q(o)q(d)f(enough)h(to)g(explain)f(ho)o(w)g(it)h
(w)o(orks)g(in)f(almost)f(all)g(cases)k(that)e(arise)208
2279 y(in)d(practice.)28 b(Ho)o(w)o(ev)o(er,)17 b(it)f(is)h(not)g
(completely)e(accurate.)28 b(F)m(or)16 b(example,)g(in)o(terpreted)208
2328 y(literally)m(,)f(it)h(w)o(ould)g(imply)e(that)j(TLC)g(can)g(cop)q
(e)g(with)g(the)g(follo)o(wing)d(t)o(w)o(o)j(next-state)208
2378 y(actions,)c(whic)o(h)h(are)g(b)q(oth)g(logically)e(equiv)n(alen)o
(t)h(to)h(\()p FV(x)1097 2363 y FH(0)1120 2378 y F4(=)e
FP(tr)o(ue)p F4(\))k F0(^)g F4(\()p FV(y)1377 2363 y
FH(0)1400 2378 y F4(=)c(1\):)p Black Black 332 2461 a(\()p
FV(x)372 2444 y FH(0)396 2461 y F4(=)f(\()p FV(y)479
2444 y FH(0)503 2461 y F4(=)g(1\)\))17 b F0(^)e F4(\()p
FV(x)699 2444 y FH(0)723 2461 y F4(=)d FP(tr)o(ue)p F4(\))125
b FP(if)23 b FV(x)1087 2446 y FH(0)1110 2461 y F4(=)12
b FP(tr)o(ue)22 b(then)i FV(y)1419 2446 y FH(0)1442 2461
y F4(=)12 b(1)23 b FP(else)h(f)l(alse)p Black -1538 w
F4(\(14.6\))p Black Black Black eop
%%Page: 240 258
240 257 bop Black 208 275 a F4(240)814 b FR(CHAPTER)15
b(14.)31 b(THE)14 b(TLC)g(MODEL)g(CHECKER)p 208 282 1770
2 v Black 208 391 a F4(In)i(fact,)h(TLC)f(will)f(pro)q(duce)j(error)g
(messages)e(when)h(presen)o(ted)i(with)d(either)h(of)f(these)208
441 y(bizarre)e(next-state)h(actions.)270 491 y(Remem)o(b)q(er)h(that)i
(TLC)g(computes)f(initial)f(states)j(b)o(y)f(using)f(a)h(similar)d(pro)
q(cedure)208 541 y(to)i(ev)n(aluate)h(the)g(initial)e(predicate.)30
b(Instead)19 b(of)e(starting)h(from)d(giv)o(en)j(v)n(alues)f(of)g(the)
208 591 y(unprimed)9 b(v)n(ariables)g(and)h(assigning)g(v)n(alues)f(to)
h(the)h(primed)e(v)n(ariables,)h(it)g(assigns)g(v)n(alues)208
640 y(to)j(the)i(unprimed)e(v)n(ariables.)270 690 y(TLC)18
b(ev)n(aluates)h FP(enabled)h F4(form)o(ulas)c(essen)o(tially)j(the)g
(same)f(w)o(a)o(y)f(it)i(ev)n(aluates)f(a)208 740 y(next-state)c
(action.)k(More)c(precisely)m(,)f(to)g(ev)n(aluate)g(a)h(form)o(ula)c
FP(enabled)h FV(A)p F4(,)i(TLC)g(com-)208 790 y(putes)h(successor)h
(states)g(as)e(if)f FV(A)h F4(w)o(ere)h(the)g(next-state)g(action.)k
(The)13 b(form)o(ula)e(ev)n(aluates)208 840 y(to)j FP(tr)o(ue)h
F4(i\013)f(there)i(exists)f(a)g(successor)i(state.)k(T)m(o)14
b(c)o(hec)o(k)h(if)f(a)g(step)i FV(s)g F0(!)c FV(t)19
b F4(satis\014es)c(the)208 889 y(comp)q(osition)10 b
FV(A)c F0(\001)g FV(B)16 b F4(of)c(actions)g FV(A)g F4(and)g
FV(B)t F4(,)g(TLC)h(\014rst)g(computes)f(all)f(states)i
FV(u)j F4(suc)o(h)d(that)p .95 TeXcolorgray .95 TeXcolorgray
1679 983 307 125 v .95 TeXcolorgray Black Black 41 w
FZ(Action)e(comp)q(osi-)1687 929 y(tion)g(is)g(discussed)1687
968 y(on)g(page)g(77.)p Black .95 TeXcolorgray Black
208 939 a FV(s)j F0(!)e FV(u)17 b F4(is)d(an)f FV(A)h
F4(step)h(and)e(then)i(c)o(hec)o(ks)g(if)e FV(u)i F0(!)c
FV(t)18 b F4(is)c(a)f FV(B)19 b F4(step)14 b(for)g(some)f(suc)o(h)i
FV(u)s F4(.)270 989 y(TLC)e(ma)o(y)e(also)i(ha)o(v)o(e)g(to)g(ev)n
(aluate)g(an)g(action)f(when)i(c)o(hec)o(king)g(a)e(prop)q(ert)o(y)m(.)
19 b(In)13 b(that)208 1039 y(case,)k(it)f(ev)n(aluates)g(the)h(action)f
(as)h(it)f(w)o(ould)f(an)o(y)h(expression,)i(and)e(it)g(has)h(no)f
(trouble)208 1089 y(ev)n(aluating)c(ev)o(en)j(the)f(bizarre)h(actions)f
(\(14.6\).)208 1247 y FN(14.3)82 b(Ho)n(w)27 b(TLC)h(Chec)n(ks)e(Prop)r
(erties)208 1338 y F4(Section)11 b(14.2)f(ab)q(o)o(v)o(e)h(explains)g
(ho)o(w)g(TLC)g(ev)n(aluates)h(expressions)h(and)e(computes)g(initial)
208 1388 y(states)19 b(and)g(successor)i(states.)33 b(This)19
b(section)g(describ)q(es)i(ho)o(w)d(TLC)g(uses)i(ev)n(aluation)208
1438 y(to)d(c)o(hec)o(k)h(prop)q(erties|\014rst)h(for)e(mo)q(del-c)o
(hec)o(king)f(mo)q(de)g(\(its)i(default\),)f(and)g(then)h(for)208
1487 y(sim)o(ulation)11 b(mo)q(de.)270 1537 y(First,)19
b(let's)f(de\014ne)i(some)d(form)o(ulas)f(that)j(are)g(obtained)f(from)
e(the)j(con\014guration)208 1587 y(\014le.)27 b(In)17
b(these)h(de\014nitions,)g(a)e FV(sp)n(e)n(ci\014c)n(ation)j(c)n
(onjunct)i F4(is)c(a)g(conjunct)g(of)g(the)g(form)o(ula)208
1637 y(named)11 b(b)o(y)h(the)h FO(SPECIFICATION)d F4(statemen)o(t)j
(\(if)f(there)h(is)g(one\),)f(a)h FV(pr)n(op)n(erty)g(c)n(onjunct)k
F4(is)208 1687 y(a)e(conjunct)h(of)e(a)i(form)o(ula)c(named)j(b)o(y)g
(a)g FO(PROPERTY)e F4(statemen)o(t,)j(and)f(the)h(conjunction)208
1736 y(of)d(an)h(empt)o(y)f(set)i(of)f(form)o(ulas)e(is)i(de\014ned)h
(to)f(b)q(e)h FP(tr)o(ue)p F4(.)k(The)14 b(de\014nitions)g(use)h(the)g
(four)208 1786 y(classes)g(of)e(nice)h(temp)q(oral)f(form)o(ulas)f
(de\014ned)j(ab)q(o)o(v)o(e)e(in)h(Section)g(14.2.4)e(on)h(page)h(235.)
p Black 208 1869 a FV(Init)p Black 24 w F4(The)20 b(sp)q
(eci\014cation's)g(initial)e(state)i(predicate.)36 b(It)19
b(is)h(sp)q(eci\014ed)h(b)o(y)e(an)g FO(INIT)g F4(or)311
1919 y FO(SPECIFICATION)13 b F4(statemen)o(t.)23 b(In)16
b(the)g(latter)f(case,)i(it)e(is)h(the)g(conjunction)f(of)g(all)311
1969 y(sp)q(eci\014cation)g(conjuncts)g(that)f(are)g(state)h
(predicates.)p Black 208 2052 a FV(Next)p Black 24 w
F4(The)h(sp)q(eci\014cation's)g(next-state)h(action.)22
b(It)16 b(is)f(sp)q(eci\014ed)i(b)o(y)e(a)g FO(NEXT)g
F4(statemen)o(t)311 2102 y(or)f(a)f FO(SPECIFICATION)e
F4(statemen)o(t.)18 b(In)c(the)g(latter)g(case,)g(it)f(is)g(the)i
(action)e FV(N)20 b F4(suc)o(h)311 2151 y(that)15 b(there)h(is)f(a)g
(sp)q(eci\014cation)g(conjunct)h(of)e(the)h(form)e FG(2)p
F4([)p FV(N)7 b F4(])1308 2157 y FJ(v)1328 2151 y F4(.)21
b(There)16 b(m)o(ust)e(not)311 2201 y(b)q(e)h(more)e(than)h(one)g(suc)o
(h)g(conjunct.)p Black 208 2284 a FV(T)m(emp)n(or)n(al)p
Black 24 w F4(The)e(conjunction)f(of)h(ev)o(ery)g(sp)q(eci\014cation)g
(conjunct)h(that)e(is)h(neither)h(a)e(state)311 2334
y(predicate)h(nor)f(a)g(b)q(o)o(x-action)f(form)o(ula.)k(It)d(is)g
(usually)f(the)i(sp)q(eci\014cation's)f(liv)o(eness)311
2384 y(condition.)p Black 208 2467 a FV(Invariant)p Black
24 w F4(The)18 b(conjunction)f(of)f(ev)o(ery)i(state)f(predicate)h
FV(I)24 b F4(that)17 b(is)g(either)g(named)f(b)o(y)311
2517 y(an)e FO(INVARIANT)e F4(statemen)o(t)i(or)g(for)f(whic)o(h)h
(some)f(prop)q(ert)o(y)i(conjunct)f(equals)g FG(2)p FV(I)7
b F4(.)p Black Black eop
%%Page: 241 259
241 258 bop Black 208 275 a FR(14.3.)30 b(HO)o(W)14 b(TLC)g(CHECKS)g
(PR)o(OPER)m(TIES)913 b F4(241)p 208 282 1770 2 v Black
Black 208 391 a FV(Implie)n(dInit)p Black 24 w F4(The)10
b(conjunction)h(of)e(ev)o(ery)i(prop)q(ert)o(y)g(conjunct)g(that)f(is)g
(a)g(state)h(predicate.)p Black 208 473 a FV(Implie)n(dA)n(ction)p
Black 23 w F4(The)19 b(conjunction)f(of)g(ev)o(ery)h(action)e([)p
FV(A)p F4(])1151 479 y FJ(v)1189 473 y F4(suc)o(h)i(that)g(some)e(prop)
q(ert)o(y)311 522 y(conjunct)e(equals)f FG(2)p F4([)p
FV(A)p F4(])693 528 y FJ(v)713 522 y F4(.)p Black 208
604 a FV(Implie)n(dT)m(emp)n(or)n(al)p Black 23 w F4(The)k(conjunction)
e(of)g(ev)o(ery)i(prop)q(ert)o(y)f(conjunct)h(that)e(is)h(a)f(simple)
311 653 y(temp)q(oral)c(form)o(ula,)f(but)j(is)f(not)g(of)g(the)h(form)
e FG(2)p FV(I)7 b F4(,)13 b(where)h FV(I)20 b F4(is)14
b(a)f(state)h(predicate.)p Black 208 735 a FV(Constr)n(aint)p
Black 24 w F4(The)e(conjunction)g(of)g(all)f(state)h(predicates)i
(named)d(b)o(y)h FO(CONSTRAINT)e F4(state-)311 785 y(men)o(ts.)p
Black 208 866 a FV(A)n(ctionConstr)n(aint)p Black 24
w F4(The)i(conjunction)g(of)f(all)f(actions)i(named)f(b)o(y)g
FO(ACTION-CONSTRAINT)311 916 y F4(statemen)o(ts.)39 b(An)21
b(action)f(constrain)o(t)h(is)g(similar)d(to)i(an)h(ordinary)f
(constrain)o(t,)311 965 y(except)e(it)e(eliminates)f(p)q(ossible)h
(transitions)h(rather)g(than)f(states.)27 b(An)16 b(ordinary)311
1015 y(constrain)o(t)f FV(P)j F4(is)c(equiv)n(alen)o(t)f(to)g(the)i
(action)e(constrain)o(t)i FV(P)1266 1000 y FH(0)1278
1015 y F4(.)208 1152 y F3(14.3.1)65 b(Mo)r(del-Chec)n(king)23
b(Mo)r(de)208 1243 y F4(TLC)12 b(k)o(eeps)i(t)o(w)o(o)e(data)h
(structures:)20 b(a)12 b(directed)j(graph)d F0(G)j F4(whose)e(no)q(des)
h(are)f(states,)h(and)208 1292 y(a)g(queue)i(\(a)e(sequence\))k
F0(U)g F4(of)d(states.)22 b(A)15 b FV(state)g(in)j F0(G)f
F4(means)d(a)h(state)g(that)g(is)g(a)f(no)q(de)h(of)208
1342 y(the)f(graph)g F0(G)r F4(.)20 b(The)14 b(graph)g
F0(G)j F4(is)d(the)h(part)f(of)g(the)g(state)h(reac)o(habilit)o(y)f
(graph)g(that)g(TLC)208 1392 y(has)h(found)f(so)i(far,)e(and)h
F0(U)k F4(con)o(tains)c(all)f(states)i(in)f F0(G)i F4(whose)f
(successors)i(TLC)d(has)g(not)208 1442 y(y)o(et)f(computed.)j(TLC's)d
(computation)e(main)o(tains)g(the)i(follo)o(wing)d(in)o(v)n(arian)o
(ts:)p Black 270 1521 a F0(\017)p Black 20 w F4(The)k(states)g(of)e
F0(G)j F4(satisfy)e(the)g FV(Constr)n(aint)j F4(predicate.)p
Black 270 1603 a F0(\017)p Black 20 w F4(F)m(or)d(ev)o(ery)g(state)h
FV(s)i F4(in)d F0(G)r F4(,)f(the)i(edge)f(from)f FV(s)k
F4(to)c FV(s)18 b F4(is)13 b(in)h F0(G)r F4(.)p Black
270 1684 a F0(\017)p Black 20 w F4(If)19 b(there)h(is)e(an)g(edge)i(in)
e F0(G)j F4(from)c(state)i FV(s)j F4(to)d(a)f(di\013eren)o(t)i(state)f
FV(t)t F4(,)g(then)g FV(t)k F4(is)18 b(a)311 1734 y(successor)i(state)e
(of)f FV(s)k F4(that)c(satis\014es)i(the)f(action)f(constrain)o(t.)29
b(In)17 b(other)h(w)o(ords,)311 1784 y(the)d(step)g FV(s)g
F0(!)c FV(t)17 b F4(satis\014es)e FV(Next)e F0(^)c FV(A)n(ctionConstr)n
(aint)t F4(.)p Black 270 1865 a F0(\017)p Black 20 w
F4(Eac)o(h)15 b(state)h FV(s)i F4(of)c F0(G)j F4(is)e(reac)o(hable)g
(from)e(an)h(initial)f(state)j(\(one)f(that)g(satis\014es)g(the)311
1915 y FV(Init)j F4(predicate\))d(b)o(y)f(a)f(path)h(in)g
F0(G)r F4(.)p Black 270 1996 a F0(\017)p Black 20 w(U)k
F4(is)c(a)g(sequence)i(of)d(distinct)h(states)h(that)f(are)g(no)q(des)h
(in)e F0(G)r F4(.)p Black 270 2077 a F0(\017)p Black
20 w F4(F)m(or)k(ev)o(ery)i(state)f FV(s)j F4(in)16 b
F0(G)k F4(that)d(is)h(not)f(in)g F0(U)t F4(,)h(and)f(for)g(ev)o(ery)h
(state)h FV(t)i F4(satisfying)311 2127 y FV(Constr)n(aint)16
b F4(suc)o(h)d(that)g(the)g(step)g FV(s)i F0(!)c FV(t)16
b F4(satis\014es)e FV(Next)c F0(^)c FV(A)n(ctionConstr)n(aint)t
F4(,)11 b(the)311 2177 y(state)k FV(t)j F4(and)13 b(the)i(edge)f(from)e
FV(s)18 b F4(to)13 b FV(t)18 b F4(are)c(in)g F0(G)r F4(.)208
2256 y(TLC)f(executes)j(the)f(follo)o(wing)c(algorithm,)g(starting)j
(with)f F0(G)j F4(and)e F0(U)k F4(empt)o(y:)p Black 258
2336 a(1.)p Black 20 w(Chec)o(k)i(that)f(ev)o(ery)h FP(assume)g
F4(in)f(the)g(sp)q(eci\014cation)h(is)f(satis\014ed)h(b)o(y)e(the)i(v)n
(alues)311 2386 y(assigned)15 b(to)e(the)i(constan)o(t)f(parameters.)p
Black 258 2467 a(2.)p Black 20 w(Compute)h(the)i(set)g(of)e(initial)f
(states)j(b)o(y)f(ev)n(aluating)f(the)h(initial)e(predicate)k
FV(Init)t F4(,)311 2517 y(as)c(describ)q(ed)i(ab)q(o)o(v)o(e)e(in)f
(Section)h(14.2.6.)i(F)m(or)e(eac)o(h)g(initial)e(state)j
FV(s)i F4(found:)p Black Black eop
%%Page: 242 260
242 259 bop Black 208 275 a F4(242)814 b FR(CHAPTER)15
b(14.)31 b(THE)14 b(TLC)g(MODEL)g(CHECKER)p 208 282 1770
2 v Black Black 329 391 a F4(\(a\))p Black 21 w(Ev)n(aluate)g(the)i
(predicates)h FV(Invariant)i F4(and)c FV(Implie)n(dInit)k
F4(in)14 b(state)i FV(s)s F4(;)g(rep)q(ort)403 441 y(an)d(error)i(and)f
(stop)g(if)f(either)i(is)f(false.)p Black 327 508 a(\(b\))p
Black 21 w(If)9 b(the)h(predicate)g FV(Constr)n(aint)j
F4(is)d(true)g(in)f(state)h FV(s)s F4(,)h(then)f(add)f
FV(s)k F4(to)c(the)h(queue)h F0(U)403 557 y F4(and)i(add)h(no)q(de)g
FV(s)k F4(and)13 b(edge)i FV(s)g F0(!)c FV(s)17 b F4(to)d(the)g(graph)g
F0(G)r F4(.)p Black 258 640 a(3.)p Black 20 w(While)f
F0(U)18 b F4(is)c(nonempt)o(y)m(,)e(do)i(the)g(follo)o(wing:)p
Black 329 723 a(\(a\))p Black 21 w(Remo)o(v)o(e)e(the)i(\014rst)h
(state)g(from)d F0(U)18 b F4(and)c(let)g FV(s)j F4(b)q(e)d(that)g
(state.)p Black 327 790 a(\(b\))p Black 21 w(Find)d(the)h(set)g
FV(T)k F4(of)11 b(all)f(successor)k(states)e(of)f FV(s)k
F4(b)o(y)c(ev)n(aluating)f(the)i(next-state)403 840 y(action)h
(starting)h(from)e FV(s)s F4(,)i(as)g(describ)q(ed)i(ab)q(o)o(v)o(e)d
(in)h(Section)g(14.2.6.)p Black 331 906 a(\(c\))p Black
22 w(If)g FV(T)20 b F4(is)14 b(empt)o(y)f(and)i(the)g
FV(de)n(ad)r(lo)n(ck)k F4(option)14 b(is)h FV(not)j F4(selected,)e
(then)g(rep)q(ort)f(a)403 956 y(deadlo)q(c)o(k)e(error)i(and)f(stop.)p
Black 327 1022 a(\(d\))p Black 21 w(F)m(or)f(eac)o(h)i(state)f
FV(t)k F4(in)13 b FV(T)6 b F4(,)13 b(do)g(the)i(follo)o(wing:)p
Black 436 1089 a(i.)p Black 20 w(If)j FV(Invariant)j
F4(is)d(false)f(in)g(state)i FV(t)i F4(or)d FV(Implie)n(dA)n(ction)i
F4(is)e(false)f(for)g(the)480 1139 y(step)e FV(s)g F0(!)c
FV(t)t F4(,)i(then)i(rep)q(ort)g(an)e(error)i(and)f(stop.)p
Black 425 1197 a(ii.)p Black 19 w(If)g(the)i(predicate)f
FV(Constr)n(aint)j F4(is)c(true)i(in)e(state)h FV(t)j
F4(and)d(the)g(step)g FV(s)h F0(!)c FV(t)480 1246 y F4(satis\014es)j
FV(A)n(ctionConstr)n(aint)t F4(,)e(then)p Black 487 1305
a(A.)p Black 21 w(If)f FV(t)17 b F4(is)12 b(not)h(in)g
F0(G)r F4(,)f(then)i(add)e(it)h(to)f(the)i(tail)e(of)g
F0(U)17 b F4(and)12 b(add)h(the)g(no)q(de)551 1354 y
FV(t)k F4(and)d(the)h(edge)f FV(t)h F0(!)c FV(t)18 b
F4(to)c F0(G)r F4(.)p Black 489 1412 a(B.)p Black 21
w(Add)g(the)g(edge)h FV(s)g F0(!)c FV(t)18 b F4(to)13
b F0(G)r F4(.)208 1496 y(TLC)k(can)g(use)h(m)o(ultiple)e(threads,)i
(and)f(steps)i(3\(b\){\(d\))f(ma)o(y)d(b)q(e)j(p)q(erformed)f(concur-)
208 1545 y(ren)o(tly)j(b)o(y)g(di\013eren)o(t)h(threads)h(for)e
(di\013eren)o(t)h(states)h FV(s)s F4(.)37 b(See)22 b(the)f(description)
g(of)e(the)208 1595 y FV(workers)d F4(option)d(on)h(page)f(253)h(b)q
(elo)o(w.)270 1645 y(If)g(form)o(ula)e FV(Implie)n(dT)m(emp)n(or)n(al)
17 b F4(is)d(not)h(equal)f(to)g FP(tr)o(ue)p F4(,)g(then)i(whenev)o(er)
f(it)f(adds)h(an)208 1695 y(edge)d FV(s)j F0(!)c FV(t)k
F4(in)c(the)i(pro)q(cedure)g(ab)q(o)o(v)o(e,)e(TLC)h(ev)n(aluates)g
(all)e(the)i(predicates)h(and)f(actions)208 1745 y(that)i(app)q(ear)h
(in)f(form)o(ulas)e FV(T)m(emp)n(or)n(al)17 b F4(and)e
FV(Implie)n(dT)m(emp)n(or)n(al)i F4(for)d(the)h(step)g
FV(s)h F0(!)c FV(t)t F4(.)19 b(\(It)208 1794 y(do)q(es)e(this)g(when)g
(adding)f(an)o(y)g(edge,)i(including)e(the)h(self-lo)q(ops)g
FV(s)i F0(!)d FV(s)k F4(and)d FV(t)j F0(!)c FV(t)k F4(in)208
1844 y(steps)15 b(2\(b\))f(and)f(3\(d\)ii.A.\))270 1894
y(P)o(erio)q(dically)8 b(during)i(the)g(computation)e(of)h
F0(G)r F4(,)h(and)g(when)g(it)f(has)h(\014nished)g(computing)208
1944 y F0(G)r F4(,)21 b(TLC)g(c)o(hec)o(ks)h(the)f FV(Implie)n(dT)m
(emp)n(or)n(al)i F4(prop)q(ert)o(y)f(as)e(follo)o(ws.)37
b(Let)21 b F0(T)31 b F4(b)q(e)21 b(the)g(set)208 1994
y(consisting)14 b(of)h(ev)o(ery)g(b)q(eha)o(vior)g FQ(\034)k
F4(that)c(is)g(the)g(sequence)i(of)d(states)i(in)f(an)f(in\014nite)h
(path)208 2043 y(in)e F0(G)j F4(starting)e(with)g(an)g(initial)e
(state.)19 b(\(F)m(or)14 b(example,)e F0(T)24 b F4(con)o(tains)14
b(the)h(path)f FV(s)h F0(!)c FV(s)k F0(!)208 2093 y FV(s)j
F0(!)c FQ(:)7 b(:)g(:)14 b F4(for)h(ev)o(ery)i(initial)d(state)i
FV(s)j F4(in)d F0(G)r F4(.\))24 b(Note)16 b(that)g(ev)o(ery)g(b)q(eha)o
(vior)g(in)f F0(T)26 b F4(satis\014es)208 2143 y FV(Init)6
b F0(^)r FG(2)p F4([)p FV(Next)t F4(])452 2149 y FJ(var)o(s)516
2143 y F4(.)17 b(TLC)10 b(c)o(hec)o(ks)h(that)f(ev)o(ery)h(b)q(eha)o
(vior)f(in)g F0(T)20 b F4(also)10 b(satis\014es)h(the)f(form)o(ula)208
2193 y FV(T)m(emp)n(or)n(al)17 b F0(\))c FV(Implie)n(dT)m(emp)n(or)n
(al)t F4(.)21 b(\(This)15 b(is)g(conceptually)h(what)f(happ)q(ens;)h
(TLC)f(do)q(es)208 2243 y(not)i(actually)g(c)o(hec)o(k)i(eac)o(h)f(b)q
(eha)o(vior)f(separately)m(.\))30 b(See)19 b(Section)f(14.3.5)e(on)h
(page)h(247)208 2293 y(b)q(elo)o(w)c(for)g(a)g(discussion)h(of)f(wh)o
(y)g(TLC's)g(c)o(hec)o(king)h(of)f(the)h FV(Implie)n(dT)m(emp)n(or)n
(al)i F4(prop)q(ert)o(y)208 2342 y(ma)o(y)11 b(not)j(do)g(what)g(y)o
(ou)f(exp)q(ect.)270 2392 y(The)h(computation)e(of)g
F0(G)k F4(terminates)d(only)g(if)g(the)h(set)g(of)f(reac)o(hable)h
(states)h(is)e(\014nite.)p .95 TeXcolorgray .95 TeXcolorgray
1679 2479 307 119 v .95 TeXcolorgray Black Black 41 w
FZ(See)e(page)f(226)h(for)1687 2432 y(the)g(de\014nition)e(of)1687
2471 y FY(r)n(e)n(achable)15 b(state)p FZ(.)p Black .95
TeXcolorgray Black 208 2442 a F4(Otherwise,)20 b(TLC)e(will)e(run)j
(forev)o(er|that)f(is,)h(un)o(til)e(it)h(runs)h(out)f(of)f(resources)k
(or)d(is)208 2492 y(stopp)q(ed.)p Black Black eop
%%Page: 243 261
243 260 bop Black 208 275 a FR(14.3.)30 b(HO)o(W)14 b(TLC)g(CHECKS)g
(PR)o(OPER)m(TIES)913 b F4(243)p 208 282 1770 2 v Black
270 391 a(TLC)13 b(do)q(es)h(not)f(alw)o(a)o(ys)f(p)q(erform)g(all)g
(three)i(of)e(the)i(steps)h(describ)q(ed)f(ab)q(o)o(v)o(e.)k(It)13
b(do)q(es)208 441 y(step)g(2)g(only)f(for)g(a)h(non-constan)o(t)g(mo)q
(dule,)e(in)i(whic)o(h)f(case)i(the)g(con\014guration)e(\014le)h(m)o
(ust)208 491 y(sp)q(ecify)i(an)f FV(Init)k F4(form)o(ula.)g(TLC)c(do)q
(es)h(step)h(3)e(only)g(if)f(the)i(con\014guration)g(\014le)f(sp)q
(eci\014es)208 541 y(a)g FV(Next)k F4(form)o(ula,)11
b(whic)o(h)j(it)g(m)o(ust)f(do)i(if)e(it)h(sp)q(eci\014es)i(an)e
FV(Invariant)t F4(,)g FV(Implie)n(dA)n(ction)s F4(,)g(or)208
591 y FV(Implie)n(dT)m(emp)n(or)n(al)i F4(form)o(ula.)208
728 y F3(14.3.2)65 b(Sim)n(ulation)25 b(Mo)r(de)208 819
y F4(In)12 b(sim)o(ulation)d(mo)q(de,)i(TLC)g(rep)q(eatedly)j
(constructs)g(and)d(c)o(hec)o(ks)j(individual)c(b)q(eha)o(viors)208
869 y(of)17 b(a)h(\014xed)h(maxim)n(um)14 b(length.)31
b(The)19 b(maxim)n(um)14 b(length)k(can)h(b)q(e)g(sp)q(eci\014ed)g
(with)f(the)208 918 y FV(depth)g F4(option,)13 b(as)i(describ)q(ed)i
(on)d(page)g(251)g(b)q(elo)o(w.)20 b(\(Its)15 b(default)g(v)n(alue)f
(is)g(100)g(states.\))208 968 y(In)f(sim)o(ulation)e(mo)q(de,)i(TLC)h
(runs)g(un)o(til)f(y)o(ou)h(stop)g(it.)270 1018 y(T)m(o)j(create)i(and)
f(c)o(hec)o(k)h(a)e(b)q(eha)o(vior,)h(TLC)g(uses)h(the)g(pro)q(cedure)g
(describ)q(ed)h(ab)q(o)o(v)o(e)208 1068 y(for)14 b(constructing)i(the)f
(graph)f F0(G)r F4(|except)i(with)e(the)i(follo)o(wing)c(di\013erence.)
22 b(After)15 b(com-)208 1118 y(puting)f(the)h(set)h(of)e(initial)f
(states,)j(and)e(after)h(computing)e(the)j(set)f FV(T)20
b F4(of)15 b(successors)i(for)208 1167 y(a)f(state)i
FV(s)s F4(,)f(TLC)g(randomly)d(c)o(ho)q(oses)k(an)f(elemen)o(t)f(of)g
(that)h(set.)28 b(If)16 b(the)i(elemen)o(t)e(do)q(es)208
1217 y(not)h(satisfy)f(the)i(constrain)o(t,)g(then)g(the)g(computation)
d(of)h F0(G)k F4(stops.)28 b(Otherwise,)19 b(TLC)208
1267 y(puts)c(only)f(that)i(state)f(in)g F0(G)i F4(and)e
F0(U)t F4(,)g(and)g(c)o(hec)o(ks)h(the)g FV(Invariant)j
F4(and)c(the)g FV(Implie)n(dInit)208 1317 y F4(or)i(the)h
FV(Implie)n(dA)n(ction)i F4(form)o(ula)15 b(for)i(it.)28
b(\(The)18 b(queue)h F0(U)i F4(isn't)c(actually)g(main)o(tained,)208
1367 y(since)f(it)f(w)o(ould)g(nev)o(er)h(con)o(tain)g(more)e(than)i(a)
f(single)g(elemen)o(t.\))23 b(The)16 b(construction)g(of)208
1417 y F0(G)j F4(stops,)g(and)f(the)g(form)o(ula)d FV(T)m(emp)n(or)n
(al)22 b F0(\))17 b FV(Implie)n(dT)m(emp)n(or)n(al)k
F4(is)c(c)o(hec)o(k)o(ed,)j(when)e(the)208 1466 y(sp)q(eci\014ed)g
(maxim)n(um)13 b(n)o(um)o(b)q(er)j(of)g(states)j(ha)o(v)o(e)d(b)q(een)i
(generated.)29 b(TLC)17 b(then)g(rep)q(eats)208 1516
y(the)d(pro)q(cedure,)h(starting)f(with)g F0(G)i F4(and)d
F0(U)18 b F4(empt)o(y)m(.)270 1566 y(TLC's)f(c)o(hoices)i(are)f(not)g
(strictly)g(random,)e(but)i(are)g(generated)h(using)f(a)f(pseudo-)208
1616 y(random)12 b(n)o(um)o(b)q(er)h(generator)h(from)e(a)h(randomly)f
(c)o(hosen)j(seed.)k(The)14 b(seed)h(and)e(another)208
1666 y(v)n(alue)k(called)h(the)h FV(aril)i F4(are)e(prin)o(ted)f(if)g
(TLC)g(\014nds)g(an)g(error.)32 b(As)18 b(describ)q(ed)i(in)e(Sec-)208
1715 y(tion)13 b(14.5.1)f(b)q(elo)o(w,)i(using)g(the)g
FV(key)k F4(and)c FV(aril)k F4(options,)13 b(y)o(ou)h(can)g(get)h(TLC)f
(to)g(generate)208 1765 y(the)g(b)q(eha)o(vior)g(that)g(displa)o(y)o
(ed)f(the)h(error.)208 1902 y F3(14.3.3)65 b(Views)21
b(and)i(Fingerprin)n(ts)208 1993 y F4(In)14 b(the)h(description)g(ab)q
(o)o(v)o(e)f(of)g(ho)o(w)g(TLC)h(c)o(hec)o(ks)g(prop)q(erties,)h(I)e
(wrote)h(that)g(the)g(no)q(des)208 2043 y(of)10 b(the)i(graph)g
F0(G)h F4(are)f(states.)19 b(That)11 b(is)g(not)h(quite)f(correct.)19
b(The)12 b(no)q(des)g(of)f F0(G)i F4(are)f(v)n(alues)f(of)208
2093 y(a)i(state)i(function)f(called)g(the)h FV(view)p
F4(.)j(TLC's)c(default)g(view)g(is)g(the)h(tuple)f(of)g(all)f(declared)
208 2143 y(v)n(ariables,)g(whose)i(v)n(alue)f(determines)g(the)h
(state.)21 b(Ho)o(w)o(ev)o(er,)14 b(y)o(ou)g(can)h(sp)q(ecify)g(that)f
(the)p .95 TeXcolorgray .95 TeXcolorgray 1679 2467 307
356 v .95 TeXcolorgray Black Black 42 w FZ(Remem)o(b)q(er)9
b(that)1687 2182 y(w)o(e)j(are)f(using)g(the)1687 2222
y(term)g FY(state)j FZ(infor-)1687 2261 y(mally)c(to)i(mean)e(an)1687
2301 y(assignmen)o(t)f(of)i(v)n(al-)1687 2340 y(ues)g(to)h(declared)
1687 2379 y(v)n(ariables,)d(rather)1687 2419 y(than)i(to)g(all)g(v)n
(ari-)1687 2458 y(ables.)p Black .95 TeXcolorgray Black
208 2193 a F4(view)i(should)h(b)q(e)g(some)f(other)i(state)g(function)e
FV(myview)18 b F4(b)o(y)c(putting)f(the)i(statemen)o(t)p
Black Black 332 2276 a FO(VIEW)21 b(myview)208 2359 y
F4(in)14 b(the)i(con\014guration)e(\014le,)h(where)h
FV(myview)j F4(is)c(an)g(iden)o(ti\014er)g(that)g(is)g(either)h
(de\014ned)g(or)208 2409 y(else)e(declared)h(to)f(b)q(e)g(a)g(v)n
(ariable.)270 2458 y(When)e(TLC)g(computes)g(initial)e(states,)j(it)f
(puts)g(their)h(views)f(rather)h(than)f(the)h(states)208
2508 y(themselv)o(es)f(in)f F0(G)r F4(.)18 b(\(The)13
b(view)f(of)f(a)h(state)h FV(s)i F4(is)d(the)h(v)n(alue)e(of)h(the)g
FO(VIEW)g F4(state)h(function)e(in)p Black Black eop
%%Page: 244 262
244 261 bop Black 208 275 a F4(244)814 b FR(CHAPTER)15
b(14.)31 b(THE)14 b(TLC)g(MODEL)g(CHECKER)p 208 282 1770
2 v Black 208 391 a F4(state)e FV(s)s F4(.\))18 b(If)11
b(there)i(are)f(m)o(ultiple)d(initial)h(states)j(with)e(the)i(same)d
(view,)i(only)f(one)h(of)f(them)208 441 y(is)j(put)h(in)g(the)g(queue)h
F0(U)t F4(.)21 b(Instead)16 b(of)e(inserting)h(an)g(edge)g(from)e(a)i
(state)g FV(s)k F4(to)14 b(a)h(state)h FV(t)t F4(,)208
491 y(TLC)c(inserts)i(the)f(edge)h(from)d(the)i(view)f(of)g
FV(s)k F4(to)d(the)g(view)g(of)f FV(t)t F4(.)17 b(In)c(step)h
(3\(d\)ii.A)d(in)h(the)208 541 y(algorithm)f(ab)q(o)o(v)o(e,)i(TLC)h(c)
o(hec)o(ks)h(if)e(the)h(view)g(of)f FV(t)18 b F4(is)c(in)f
F0(G)r F4(.)270 591 y(When)h(using)g(a)g(view)g(other)h(than)g(the)g
(default)e(one,)i(TLC)f(ma)o(y)e(stop)j(b)q(efore)g(it)f(has)208
640 y(found)19 b(all)f(reac)o(hable)i(states.)36 b(F)m(or)19
b(the)h(states)h(it)e(do)q(es)h(\014nd,)h(it)e(correctly)h(p)q(erforms)
208 690 y(safet)o(y)f(c)o(hec)o(ks|that)h(is,)h(the)f
FV(Invariant)t F4(,)g FV(Implie)n(dInit)t F4(,)g(and)f
FV(Implie)n(dA)n(ction)j F4(c)o(hec)o(ks.)208 740 y(Moreo)o(v)o(er,)14
b(it)g(prin)o(ts)g(out)h(a)e(correct)j(coun)o(terexample)e(\(a)h
(\014nite)f(sequence)i(of)e(states\))i(if)208 790 y(it)f(\014nds)i(an)e
(error)i(in)f(one)g(of)f(those)i(prop)q(erties.)25 b(Ho)o(w)o(ev)o(er,)
17 b(it)e(ma)o(y)f(incorrectly)j(c)o(hec)o(k)208 840
y(the)12 b FV(Implie)n(dT)m(emp)n(or)n(al)j F4(prop)q(ert)o(y)m(.)j
(Because)c(the)e(graph)g F0(G)i F4(that)e(TLC)g(is)g(constructing)h(is)
208 889 y(not)e(the)h(actual)g(reac)o(habilit)o(y)e(graph,)i(it)f(ma)o
(y)f(rep)q(ort)i(an)g(error)g(in)g(the)g FV(Implie)n(dT)m(emp)n(or)n
(al)208 939 y F4(prop)q(ert)o(y)i(when)h(none)f(exists,)g(prin)o(ting)f
(out)h(a)f(b)q(ogus)h(coun)o(terexample.)270 989 y(Sp)q(ecifying)c(a)h
(nonstandard)g(view)f(can)h(cause)h(TLC)e(not)h(to)g(c)o(hec)o(k)g(man)
o(y)e(states.)18 b(Y)m(ou)208 1039 y(should)c(do)g(it)f(when)i(there)h
(is)e(no)g(need)h(to)f(c)o(hec)o(k)h(di\013eren)o(t)g(states)h(that)e
(ha)o(v)o(e)g(the)h(same)208 1089 y(view.)20 b(The)c(most)e(lik)o(ely)f
(alternate)i(view)g(is)g(a)g(tuple)g(consisting)g(of)f(some,)g(but)h
(not)g(all,)208 1139 y(declared)g(v)n(ariables.)20 b(F)m(or)14
b(example,)f(y)o(ou)i(ma)o(y)d(ha)o(v)o(e)j(added)g(one)g(or)f(more)g
(v)n(ariables)g(to)208 1188 y(help)c(debug)i(the)f(sp)q(eci\014cation.)
18 b(Using)10 b(the)i(tuple)f(of)f(the)i(original)d(v)n(ariables)h(as)h
(the)g(view)208 1238 y(lets)16 b(y)o(ou)f(add)g(debugging)h(v)n
(ariables)e(without)i(increasing)g(the)g(n)o(um)o(b)q(er)f(of)g(states)
i(that)208 1288 y(TLC)9 b(m)o(ust)g(explore.)17 b(If)10
b(the)g(prop)q(erties)i(b)q(eing)e(c)o(hec)o(k)o(ed)h(do)f(not)g(men)o
(tion)e(the)i(debugging)208 1338 y(v)n(ariables,)g(then)i(TLC)f(will)e
(\014nd)j(all)e(reac)o(hable)h(states)i(of)d(the)i(original)d(sp)q
(eci\014cation)j(and)208 1388 y(will)g(correctly)j(c)o(hec)o(k)g(all)e
(prop)q(erties.)270 1437 y(In)g(the)h(actual)g(implem)o(en)o(tation,)c
(the)k(no)q(des)g(of)f(the)h(graph)g F0(G)h F4(are)f(not)g(the)g(views)
f(of)208 1487 y(states,)18 b(but)f FV(\014ngerprints)j
F4(of)c(those)h(views.)27 b(A)17 b(TLC)g(\014ngerprin)o(t)g(is)f(a)h
(64-bit)f(n)o(um)o(b)q(er)208 1537 y(generated)i(b)o(y)f(a)f
(\\hashing")g(function.)27 b(Ideally)m(,)16 b(the)i(probabilit)o(y)d
(that)i(t)o(w)o(o)g(di\013eren)o(t)208 1587 y(views)12
b(ha)o(v)o(e)f(the)i(same)d(\014ngerprin)o(t)j(is)e(2)845
1572 y FH(\000)p FS(64)906 1587 y F4(,)h(whic)o(h)g(is)f(a)h(v)o(ery)g
(small)d(n)o(um)o(b)q(er.)17 b(Ho)o(w)o(ev)o(er,)208
1637 y(it)c(is)g(p)q(ossible)h(for)f(a)g FV(c)n(ol)r(lision)j
F4(to)d(o)q(ccur,)h(meaning)e(that)i(TLC)f(mistak)o(enly)e(thinks)j
(that)208 1686 y(t)o(w)o(o)e(di\013eren)o(t)j(views)e(are)h(the)f(same)
g(b)q(ecause)i(they)e(ha)o(v)o(e)h(the)f(same)g(\014ngerprin)o(t.)18
b(If)13 b(this)208 1736 y(happ)q(ens,)h(TLC)g(will)f(not)h(explore)h
(all)e(the)i(states)g(that)g(it)e(should.)19 b(In)c(particular,)e(with)
208 1786 y(the)h(default)g(view,)g(TLC)g(will)f(rep)q(ort)i(that)f(it)g
(has)h(c)o(hec)o(k)o(ed)g(all)e(reac)o(hable)i(states)g(when)208
1836 y(it)e(hasn't.)270 1886 y(When)k(it)g(terminates,)g(TLC)g(prin)o
(ts)g(out)g(t)o(w)o(o)f(estimates)h(of)g(the)g(probabilit)o(y)f(that)
208 1936 y(a)f(\014ngerprin)o(t)i(collision)d(o)q(ccurred.)26
b(The)17 b(\014rst)g(is)f(based)g(on)g(the)h(assumption)d(that)i(the)
208 1985 y(probabilit)o(y)e(of)i(t)o(w)o(o)f(di\013eren)o(t)i(views)g
(ha)o(ving)e(the)h(same)g(\014ngerprin)o(t)g(is)g(2)1420
1970 y FH(\000)p FS(64)1481 1985 y F4(.)25 b(\(Under)208
2035 y(this)17 b(assumption,)f(if)g(TLC)i(generated)g
FV(n)j F4(views)c(with)g FV(m)j F4(distinct)e(\014ngerprin)o(ts,)g
(then)208 2085 y(the)13 b(probabilit)o(y)f(of)g(a)h(collision)e(is)i
(ab)q(out)g FV(m)e F0(\003)c F4(\()p FV(n)k F0(\000)d
FV(m)s F4(\))f F0(\003)h F4(2)1160 2070 y FH(\000)p FS(64)1220
2085 y F4(.\))18 b(Ho)o(w)o(ev)o(er,)13 b(the)h(pro)q(cess)208
2135 y(of)g(generating)i(states)g(is)f(highly)f(nonrandom,)g(and)h(no)g
(kno)o(wn)g(\014ngerprin)o(ting)g(sc)o(heme)208 2185
y(can)e(guaran)o(tee)h(that)f(the)h(probabilit)o(y)e(of)h(an)o(y)f(t)o
(w)o(o)h(distinct)h(states)g(generated)h(b)o(y)e(TLC)208
2234 y(ha)o(ving)h(the)h(same)g(\014ngerprin)o(t)g(is)g(actually)f(2)
949 2219 y FH(\000)p FS(64)1010 2234 y F4(.)22 b(So,)15
b(TLC)g(also)f(prin)o(ts)i(an)f(empirical)208 2284 y(estimate)g(of)g
(the)i(probabilit)o(y)d(that)i(a)g(collision)e(o)q(ccurred.)26
b(It)16 b(is)g(based)h(on)f(the)g(obser-)208 2334 y(v)n(ation)c(that,)i
(if)f(there)i(w)o(as)f(a)g(collision,)e(then)i(it)g(is)g(lik)o(ely)e
(that)i(there)i(w)o(as)e(also)f(a)h(\\near)208 2384 y(miss".)h(The)d
(estimate)e(is)h(the)g(maxim)o(um)6 b(v)n(alue)11 b(of)f(1)p
FQ(=)p F0(j)p FV(f)1104 2390 y FS(1)1126 2384 y F0(\000)s
FV(f)1183 2390 y FS(2)1201 2384 y F0(j)h F4(o)o(v)o(er)g(all)f(pairs)h
F0(h)s FV(f)1505 2390 y FS(1)1523 2384 y FQ(;)c FV(f)1563
2390 y FS(2)1585 2384 y F0(i)k F4(of)208 2434 y(distinct)k
(\014ngerprin)o(ts)h(generated)g(b)o(y)f(TLC.)g(In)g(practice,)h(the)f
(probabilit)o(y)f(of)g(collision)208 2483 y(turns)g(out)g(to)g(b)q(e)g
(v)o(ery)h(small)c(unless)k(TLC)f(is)f(generating)h(billions)f(of)g
(distinct)h(states.)p Black Black eop
%%Page: 245 263
245 262 bop Black 208 275 a FR(14.3.)30 b(HO)o(W)14 b(TLC)g(CHECKS)g
(PR)o(OPER)m(TIES)913 b F4(245)p 208 282 1770 2 v Black
270 391 a(Views)14 b(and)g(\014ngerprin)o(ting)f(apply)h(only)f(to)g
(mo)q(del-c)o(hec)o(king)g(mo)q(de.)k(In)d(sim)o(ulation)208
441 y(mo)q(de,)e(TLC)i(ignores)g(an)o(y)g FO(VIEW)f F4(statemen)o(t.)
208 578 y F3(14.3.4)65 b(T)-6 b(aking)23 b(Adv)l(an)n(tage)g(of)e
(Symmetry)208 669 y F4(The)15 b(memory)f(sp)q(eci\014cations)i(of)f
(Chapter)h(5)f(are)h(symmetric)e(in)h(the)h(set)h FV(Pr)n(o)n(c)g
F4(of)e(pro-)208 719 y(cessors.)30 b(In)o(tuitiv)o(ely)m(,)16
b(this)i(means)e(that)i(p)q(erm)o(uting)e(the)i(pro)q(cessors)i(do)q
(esn't)e(c)o(hange)208 769 y(whether)g(or)g(not)f(a)g(b)q(eha)o(vior)g
(satis\014es)h(a)f(sp)q(eci\014cation.)29 b(T)m(o)17
b(de\014ne)h(symmetry)e(more)208 819 y(precisely)m(,)d(w)o(e)i(\014rst)
f(need)h(some)e(de\014nitions.)270 868 y(A)h FV(p)n(ermutation)i(of)23
b F4(a)14 b(\014nite)g(set)i FV(S)j F4(is)c(a)f(function)g(whose)h
(domain)d(and)i(range)h(b)q(oth)208 918 y(equal)e FV(S)5
b F4(.)18 b(In)c(other)h(w)o(ords,)e FQ(\031)i F4(is)f(a)g(p)q(erm)o
(utation)e(of)i FV(S)19 b F4(i\013)p Black Black 332
1000 a(\()p FV(S)e F4(=)12 b FP(domain)e FQ(\031)q F4(\))21
b F0(^)f F4(\()p F0(8)7 b FV(w)16 b F0(2)11 b FV(S)24
b F4(:)18 b F0(9)7 b FV(v)16 b F0(2)11 b FV(S)24 b F4(:)18
b FQ(\031)q F4([)p FV(v)t F4(])11 b(=)h FV(w)t F4(\))208
1082 y(A)i FV(p)n(ermutation)j F4(is)c(a)h(function)f(that)h(is)g(a)g
(p)q(erm)o(utation)e(of)i(its)f(\(\014nite\))i(domain.)h(If)d
FQ(\031)i F4(is)208 1132 y(a)e(p)q(erm)o(utation)g(of)g(a)g(set)i
FV(S)k F4(of)13 b(v)n(alues)h(and)g FV(s)j F4(is)c(a)h(state,)g(let)g
FV(s)1223 1117 y Fy(\031)1260 1132 y F4(b)q(e)g(the)g(state)h(obtained)
208 1182 y(from)f FV(s)20 b F4(b)o(y)c(replacing)g(eac)o(h)h(v)n(alue)e
FV(v)21 b F4(in)16 b FV(S)22 b F4(with)16 b FQ(\031)q
F4([)p FV(v)t F4(].)25 b(T)m(o)15 b(see)j(what)e FV(s)1391
1167 y Fy(\031)1430 1182 y F4(means,)g(let's)208 1232
y(tak)o(e)11 b(as)h(an)f(example)g(the)h(p)q(erm)o(utation)e
FQ(\031)j F4(of)e F0(f)p F4(\\)p FD(a)p F4(")o FQ(;)j
F4(\\)p FD(b)p F4(")p FQ(;)7 b F4(\\)p FD(c)p F4(")o
F0(g)k F4(suc)o(h)i(that)e FQ(\031)q F4([\\)p FD(a)p
F4("])g(=)g(\\)p FD(b)p F4(",)208 1281 y FQ(\031)q F4([\\)p
FD(b)p F4(")o(])19 b(=)g(\\)p FD(c)p F4(",)g(and)f FQ(\031)q
F4([\\)p FD(c)p F4("])g(=)h(\\)p FD(a)p F4(".)31 b(Supp)q(ose)19
b(that,)g(in)f(state)h FV(s)s F4(,)h(the)e(v)n(alues)h(of)e(the)208
1331 y(v)n(ariables)c FV(x)19 b F4(and)14 b FV(y)j F4(are)p
Black Black 332 1413 a FV(x)28 b F4(=)c F0(h)s F4(\\)p
FD(b)p F4(")p FQ(;)7 b F4(\\)p FD(c)p F4(")p FQ(;)g F4(\\)p
FD(d)p F4(")s F0(i)332 1463 y FV(y)27 b F4(=)d([)p FV(i)15
b F0(2)c(f)p F4(\\)p FD(a)p F4(")o FQ(;)c F4(\\)p FD(b)p
F4(")p F0(g)k(7!)g FP(if)23 b FV(i)18 b F4(=)12 b(\\)p
FD(a)p F4(")7 b FP(then)24 b F4(7)f FP(else)h F4(42)o(])208
1543 y(Then)14 b(in)f(state)i FV(s)486 1528 y Fy(\031)509
1543 y F4(,)e(the)i(v)n(alues)e(of)h(the)g(v)n(ariables)f
FV(x)19 b F4(and)14 b FV(y)k F4(are)p Black Black 332
1625 a FV(x)28 b F4(=)c F0(h)s F4(\\)p FD(c)p F4(")p
FQ(;)7 b F4(\\)p FD(a)p F4(")o FQ(;)g F4(\\)p FD(d)p
F4(")s F0(i)332 1675 y FV(y)27 b F4(=)d([)p FV(i)15 b
F0(2)c(f)p F4(\\)p FD(b)p F4(")p FQ(;)c F4(\\)p FD(c)p
F4(")o F0(g)k(7!)g FP(if)24 b FV(i)17 b F4(=)12 b(\\)p
FD(b)p F4(")c FP(then)24 b F4(7)f FP(else)h F4(42)o(])208
1755 y(This)16 b(example)e(should)i(giv)o(e)g(y)o(ou)f(an)h(in)o
(tuitiv)o(e)f(idea)h(of)f(what)h FV(s)1263 1740 y Fy(\031)1302
1755 y F4(means;)g(I)g(w)o(on't)g(try)208 1805 y(to)g(de\014ne)h(it)g
(rigorously)m(.)24 b(If)16 b FQ(\033)i F4(is)e(the)h(b)q(eha)o(vior)f
FV(s)1037 1811 y FS(1)1056 1805 y FQ(;)e FV(s)1102 1811
y FS(2)1121 1805 y FQ(;)f(:)7 b(:)g(:)f F4(,)16 b(let)h
FQ(\033)1318 1790 y Fy(\031)1357 1805 y F4(b)q(e)g(the)g(b)q(eha)o
(vior)208 1855 y FQ(s)227 1840 y Fy(\031)227 1865 y FS(1)250
1855 y FQ(;)c(s)294 1840 y Fy(\031)294 1865 y FS(2)317
1855 y FQ(;)g(:)7 b(:)g(:)f F4(.)270 1904 y(W)m(e)11
b(can)h(no)o(w)f(de\014ne)h(what)g(symmetry)e(means.)16
b(A)c(sp)q(eci\014cation)g FV(Sp)n(e)n(c)i F4(is)e FV(symmetric)208
1954 y(with)e(r)n(esp)n(e)n(ct)g(to)j F4(a)c(p)q(erm)o(utation)g
FQ(\031)i F4(i\013)e(the)h(follo)o(wing)e(condition)h(holds:)15
b(for)10 b(an)o(y)f(b)q(eha)o(vior)208 2004 y FQ(\033)q
F4(,)k(form)o(ula)e FV(Sp)n(e)n(c)17 b F4(is)d(satis\014ed)g(b)o(y)g
FQ(\033)h F4(i\013)f(it)f(is)h(satis\014ed)h(b)o(y)e
FQ(\033)1178 1989 y Fy(\031)1201 2004 y F4(.)270 2054
y(The)i(memory)d(sp)q(eci\014cations)k(of)f(Chapter)g(5)g(are)g
(symmetric)e(with)i(resp)q(ect)i(to)d(an)o(y)208 2104
y(p)q(erm)o(utation)j(of)h FV(Pr)n(o)n(c)r F4(.)33 b(This)19
b(means)f(that)h(there)h(is)e(no)h(need)h(for)e(TLC)h(to)f(c)o(hec)o(k)
i(a)208 2153 y(b)q(eha)o(vior)13 b FQ(\033)i F4(if)e(it)g(has)h
(already)f(c)o(hec)o(k)o(ed)i(the)f(b)q(eha)o(vior)g
FQ(\033)1133 2138 y Fy(\031)1169 2153 y F4(for)f(some)g(p)q(erm)o
(utation)g FQ(\031)h F4(of)208 2203 y FV(Pr)n(o)n(c)r
F4(.)j(\(An)o(y)c(error)g(rev)o(ealed)g(b)o(y)f FQ(\033)i
F4(w)o(ould)e(also)f(b)q(e)i(rev)o(ealed)h(b)o(y)e FQ(\033)1277
2188 y Fy(\031)1300 2203 y F4(.\))17 b(W)m(e)12 b(can)h(tell)f(TLC)208
2253 y(to)k(tak)o(e)g(adv)n(an)o(tage)f(of)h(this)g(symmetry)f(b)o(y)h
(putting)g(the)h(follo)o(wing)c(statemen)o(t)j(in)g(the)208
2303 y(con\014guration)d(\014le:)p Black Black 332 2385
a FO(SYMMETRY)20 b(Perms)208 2467 y F4(where)c FV(Perms)i
F4(is)d(de\014ned)h(in)f(the)h(mo)q(dule)d(to)i(equal)g
FV(Permutations)s F4(\()p FV(Pr)n(o)n(c)r F4(\),)h(the)f(set)h(of)208
2517 y(all)f(p)q(erm)o(utations)h(of)h FV(Pr)n(o)n(c)r
F4(.)27 b(\(The)17 b FV(Permutations)j F4(op)q(erator)e(is)f(de\014ned)
h(in)e(the)h FV(TLC)p Black Black eop
%%Page: 246 264
246 263 bop Black 208 275 a F4(246)814 b FR(CHAPTER)15
b(14.)31 b(THE)14 b(TLC)g(MODEL)g(CHECKER)p 208 282 1770
2 v Black 208 391 a F4(mo)q(dule,)9 b(describ)q(ed)14
b(in)c(Section)i(14.4)e(b)q(elo)o(w.\))17 b(This)11 b
FO(SYMMETRY)f F4(statemen)o(t)h(causes)i(TLC)208 441
y(to)18 b(mo)q(dify)e(the)k(algorithm)c(describ)q(ed)k(on)f(pages)g
(241{242)e(so)i(that)f(it)h(nev)o(er)g(adds)g(a)208 491
y(state)13 b FV(s)i F4(to)d(its)h(queue)g F0(U)j F4(of)c(unexamined)f
(states)i(and)f(to)h(its)f(state)h(graph)f F0(G)i F4(if)e
F0(G)i F4(already)208 541 y(con)o(tains)f(the)h(state)g
FV(s)562 526 y Fy(\031)585 541 y F4(,)f(for)g(some)g(p)q(erm)o(utation)
f FQ(\031)i F4(of)f FV(Pr)n(o)n(c)r F4(.)18 b(If)13 b(there)i(are)f
FV(n)j F4(pro)q(cesses,)208 591 y(this)d(reduces)h(the)g(n)o(um)o(b)q
(er)e(of)g(states)i(that)f(TLC)g(examines)f(b)o(y)h(a)f(factor)h(of)g
FV(n)7 b F4(!)s(.)270 640 y(The)15 b(memory)d(sp)q(eci\014cations)j(of)
f(Chapter)h(5)f(are)h(also)f(symmetric)e(with)i(resp)q(ect)j(to)208
690 y(an)o(y)12 b(p)q(erm)o(utation)f(of)h(the)h(set)h
FV(A)n(dr)i F4(of)d(memory)d(addresses.)19 b(T)m(o)12
b(tak)o(e)h(adv)n(an)o(tage)f(of)g(this)208 740 y(symmetry)g(as)j(w)o
(ell)f(as)h(the)g(symmetry)e(with)h(resp)q(ect)j(to)d(p)q(erm)o
(utations)g(of)g(pro)q(cessors,)208 790 y(w)o(e)j(de\014ne)i(the)f
(symmetry)e(set)i(\(the)h(set)f(sp)q(eci\014ed)h(b)o(y)e(the)i
FO(SYMMETRY)c F4(statemen)o(t\))j(to)208 840 y(equal)p
Black Black 332 923 a FV(Permutations)s F4(\()p FV(Pr)n(o)n(c)r
F4(\))f F0([)f FV(Permutations)s F4(\()p FV(A)n(dr)t
F4(\))208 1006 y(In)g(general,)h(the)g FO(SYMMETRY)e
F4(statemen)o(t)h(can)h(sp)q(ecify)g(an)g(arbitrary)f(symmetry)f(set)i
(\005,)208 1056 y(eac)o(h)i(elemen)o(t)f(of)g(whic)o(h)g(is)h(a)f(p)q
(erm)o(utation)f(of)h(a)h(set)g(of)f(mo)q(del)f(v)n(alues.)32
b(More)19 b(pre-)208 1105 y(cisely)m(,)12 b(eac)o(h)i(elemen)o(t)f
FQ(\031)h F4(in)f(\005)h(m)o(ust)e(b)q(e)i(a)f(p)q(erm)o(utation)f(suc)
o(h)i(that)f(all)f(the)i(elemen)o(ts)f(of)208 1155 y
FP(domain)c FQ(\031)15 b F4(are)f(assigned)g(mo)q(del)e(v)n(alues)i(b)o
(y)f(the)h(con\014guration)g(\014le's)f FO(CONSTANT)f
F4(state-)208 1205 y(men)o(t.)19 b(\(If)14 b(the)h(con\014guration)g
(has)f(no)h FO(SYMMETRY)e F4(statemen)o(t,)h(w)o(e)h(tak)o(e)f(the)i
(symmetry)208 1255 y(set)e(\005)g(to)g(b)q(e)h(the)f(empt)o(y)f(set.\))
270 1305 y(T)m(o)g(explain)f(what)i(TLC)f(do)q(es)h(when)g(giv)o(en)f
(an)h(arbitrary)f(symmetry)f(set)i(\005,)f(I)h(need)208
1354 y(a)e(few)h(more)f(de\014nitions.)17 b(If)c FQ(\034)18
b F4(is)12 b(a)h(sequence)i F0(h)s FQ(\031)q F4(1)p FQ(;)7
b(:)g(:)g(:)e(;)i(\031)q FV(n)g F0(i)13 b F4(of)f(p)q(erm)o(utations)g
(in)g(\005,)h(let)208 1404 y FV(s)228 1389 y Fy(\034)263
1404 y F4(equal)h(\()p FQ(:)7 b(:)g(:)e F4(\(\()p FV(s)496
1389 y Fy(\031)q FS(1)536 1404 y F4(\))552 1389 y Fy(\031)q
FS(2)591 1404 y F4(\))i FQ(:)g(:)g(:)o F4(\))679 1389
y Fy(\031)q FJ(n)723 1404 y F4(.)19 b(\(If)14 b FQ(\034)19
b F4(is)14 b(the)h(empt)o(y)e(sequence,)j(then)e FV(s)1388
1389 y Fy(\034)1424 1404 y F4(is)g(de\014ned)h(to)208
1454 y(equal)d FV(s)s F4(.\))18 b(De\014ne)13 b(the)h
FV(e)n(quivalenc)n(e)g(class)g FF(b)-21 b FV(s)16 b F4(of)c(a)g(state)i
FV(s)i F4(to)c(b)q(e)i(the)f(set)h(of)e(states)h FV(s)1562
1439 y Fy(\034)1596 1454 y F4(for)208 1504 y(all)g(sequences)j
FQ(\034)j F4(of)14 b(p)q(erm)o(utations)f(in)h(\005.)19
b(F)m(or)14 b(an)o(y)g(state)h FV(s)s F4(,)f(TLC)g(k)o(eeps)i(only)d(a)
h(single)208 1554 y(elemen)o(t)e(of)f FF(b)-22 b FV(s)16
b F4(in)d F0(U)k F4(and)12 b F0(G)r F4(.)18 b(This)13
b(is)g(accomplished)f(b)o(y)g(the)i(follo)o(wing)c(mo)q(di\014cations)h
(to)208 1603 y(the)i(algorithm)d(on)j(pages)g(241{242.)j(In)c(step)i
(2\(b\),)f(TLC)g(adds)g(the)g(state)h FV(s)i F4(to)c
F0(U)17 b F4(and)c F0(G)208 1653 y F4(only)g(if)g F0(U)18
b F4(and)13 b F0(G)j F4(do)e(not)g(already)f(con)o(tain)h(a)f(state)i
(in)d FF(b)-21 b FV(s)s F4(.)18 b(Step)c(3\(d\)ii)f(is)h(c)o(hanged)g
(to)p Black 248 1736 a(A.)p Black 20 w(If)h(no)f(elemen)o(t)g(in)612
1729 y FF(b)615 1736 y FV(t)k F4(is)d(in)f F0(G)r F4(,)g(then)i(add)e
FV(t)k F4(to)d(the)g(tail)e(of)h F0(U)19 b F4(and)c(add)f(the)h(no)q
(de)g FV(t)311 1786 y F4(and)f(the)h(edge)f FV(t)h F0(!)c
FV(t)18 b F4(to)c F0(G)r F4(.)p Black 250 1869 a(B.)p
Black 20 w(Add)e(the)g(edge)g FV(s)j F0(!)c FV(tt)k F4(to)c
F0(G)r F4(,)h(where)h FV(tt)h F4(is)e(the)g(unique)f(elemen)o(t)g(of)
1382 1861 y FF(b)1385 1869 y FV(t)k F4(that)d(is)f(\(no)o(w\))311
1919 y(in)j F0(G)r F4(.)208 2002 y(When)20 b(a)g FO(VIEW)f
F4(statemen)o(t)h(app)q(ears)h(in)e(the)i(con\014guration)f(\014le,)h
(these)h(c)o(hanges)e(are)208 2052 y(mo)q(di\014ed)14
b(as)i(describ)q(ed)i(in)d(Section)h(14.3.3)e(ab)q(o)o(v)o(e)i(so)g
(that)g(views)g(rather)h(than)f(states)208 2102 y(are)e(put)g(in)f
F0(G)r F4(.)270 2151 y(If)h(the)g(sp)q(eci\014cation)h(and)f(the)h
(prop)q(erties)h(b)q(eing)e(c)o(hec)o(k)o(ed)h(are,)f(indeed,)h
(symmetric)208 2201 y(with)i(resp)q(ect)j(to)d(all)g(p)q(erm)o
(utations)g(in)g(the)h(symmetry)e(set,)j(then)g(TLC's)e
FV(Invariant)t F4(,)208 2251 y FV(Implie)n(dInit)t F4(,)f(and)g
FV(Implie)n(dA)n(ction)j F4(c)o(hec)o(king)e(will)e(\014nd)i(and)f
(correctly)i(rep)q(ort)f(an)o(y)f(er-)208 2301 y(ror)k(that)h(they)f(w)
o(ould)g(ha)o(v)o(e)g(found)g(had)g(the)h FO(SYMMETRY)e
F4(statemen)o(t)h(b)q(een)i(omitted.)208 2351 y(Ho)o(w)o(ev)o(er,)12
b(TLC)f(ma)o(y)f(p)q(erform)h FV(Implie)n(dT)m(emp)n(or)n(al)k
F4(c)o(hec)o(king)d(incorrectly|it)f(ma)o(y)f(miss)208
2400 y(errors,)17 b(rep)q(ort)g(an)e(error)i(that)f(do)q(esn't)g
(exist,)h(or)f(rep)q(ort)h(a)e(real)h(error)h(with)e(an)h(incor-)208
2450 y(rect)g(coun)o(terexample.)22 b(So,)15 b(y)o(ou)g(should)g(do)g
FV(Implie)n(dT)m(emp)n(or)n(al)k F4(c)o(hec)o(king)c(when)h(using)208
2500 y(a)d FO(SYMMETRY)f F4(statemen)o(t)i(only)f(if)g(y)o(ou)h
(understand)h(exactly)f(what)g(TLC)f(is)h(doing.)p Black
Black eop
%%Page: 247 265
247 264 bop Black 208 275 a FR(14.3.)30 b(HO)o(W)14 b(TLC)g(CHECKS)g
(PR)o(OPER)m(TIES)913 b F4(247)p 208 282 1770 2 v Black
270 391 a(If)20 b(the)h(sp)q(eci\014cation)h(and)e(prop)q(erties)i(are)
f(not)g(symmetric)d(with)j(resp)q(ect)i(to)d(all)208
441 y(p)q(erm)o(utations)14 b(in)h(the)h(symmetry)e(set,)i(then)g(TLC)f
(ma)o(y)f(b)q(e)i(unable)f(to)g(prin)o(t)h(an)f(error)208
491 y(trace)f(if)f(it)h(do)q(es)h(\014nd)f(an)f(error.)19
b(In)14 b(that)g(case,)h(it)e(will)f(prin)o(t)i(the)h(error)f(message)p
Black Black 332 574 a FO(Failed)21 b(to)g(recover)f(the)i(state)e(from)
h(its)g(fingerprint.)208 657 y F4(The)f(symmetry)e(set)i(is)g(used)h
(only)e(in)g(mo)q(del-c)o(hec)o(king)g(mo)q(de.)34 b(TLC)20
b(ignores)g(it)f(in)208 707 y(sim)o(ulation)11 b(mo)q(de.)208
844 y F3(14.3.5)65 b(Limitations)24 b(of)e(Liv)n(eness)h(Chec)n(king)
208 935 y F4(If)14 b(a)h(sp)q(eci\014cation)g(violates)g(a)f(safet)o(y)
i(prop)q(ert)o(y)m(,)f(then)g(there)i(is)d(a)h(\014nite)g(b)q(eha)o
(vior)g(that)p .95 TeXcolorgray .95 TeXcolorgray 1679
1029 307 125 v .95 TeXcolorgray Black Black 41 w FZ(Safet)o(y)10
b(prop)q(erties)1687 974 y(w)o(ere)i(de\014ned)d(on)1687
1014 y(page)i(87.)p Black .95 TeXcolorgray Black 208
985 a F4(displa)o(ys)j(the)i(violation.)k(That)15 b(b)q(eha)o(vior)g
(can)g(b)q(e)h(generated)g(with)f(a)g(\014nite)g(mo)q(del.)21
b(It)208 1035 y(is)12 b(therefore,)i(in)e(principle,)g(p)q(ossible)h
(to)f(disco)o(v)o(er)h(the)g(violation)e(with)h(TLC.)17
b(It)c(ma)o(y)d(b)q(e)208 1084 y(imp)q(ossible)j(to)j(disco)o(v)o(er)g
(a)f(violation)e(of)i(a)g(liv)o(eness)h(prop)q(ert)o(y)g(with)f(an)o(y)
g(\014nite)h(mo)q(del.)208 1134 y(T)m(o)10 b(see)i(wh)o(y)m(,)e
(consider)i(the)g(follo)o(wing)c(simple)i(sp)q(eci\014cation)i
FV(EvenSp)n(e)n(c)i F4(that)d(starts)h(with)208 1184
y FV(x)19 b F4(equal)13 b(to)h(zero)h(and)e(rep)q(eatedly)i(incremen)o
(ts)g(it)e(b)o(y)h(2:)p Black Black 332 1271 a FV(EvenSp)n(e)n(c)542
1248 y FI(\001)537 1271 y F4(=)35 b(\()p FV(x)17 b F4(=)12
b(0\))d F0(^)g FG(2)p F4([)p FV(x)850 1254 y FH(0)873
1271 y F4(=)j FV(x)i F4(+)c(2])1025 1277 y FJ(x)1055
1271 y F0(^)f F4(WF)1161 1277 y FJ(x)1183 1271 y F4(\()p
FV(x)1223 1254 y FH(0)1246 1271 y F4(=)j FV(x)j F4(+)9
b(2\))208 1354 y(Ob)o(viously)m(,)j FV(x)20 b F4(nev)o(er)15
b(equals)f(1)g(in)f(an)o(y)h(b)q(eha)o(vior)g(satisfying)f
FV(EvenSp)n(e)n(c)r F4(.)21 b(So,)13 b FV(EvenSp)n(e)n(c)208
1404 y F4(do)q(es)i(not)f(satisfy)g(the)h(liv)o(eness)g(prop)q(ert)o(y)
g FG(3)p F4(\()p FV(x)j F4(=)13 b(1\).)19 b(Supp)q(ose)c(w)o(e)g(ask)f
(TLC)h(to)f(c)o(hec)o(k)208 1454 y(if)i FV(EvenSp)n(e)n(c)21
b F4(implies)16 b FG(3)p F4(\()p FV(x)23 b F4(=)18 b(1\).)29
b(T)m(o)17 b(get)h(TLC)f(to)h(terminate,)f(w)o(e)h(m)o(ust)f(pro)o
(vide)g(a)208 1504 y(constrain)o(t)f(that)g(limits)e(it)i(to)g
(generating)g(a)g(\014nite)g(n)o(um)o(b)q(er)g(of)f(reac)o(hable)i
(states.)26 b(All)208 1554 y(the)12 b(in\014nite)f(b)q(eha)o(viors)h
(satisfying)f(\()p FV(x)16 b F4(=)c(0\))5 b F0(^)g FG(2)p
F4([)p FV(x)1019 1539 y FH(0)1041 1554 y F4(=)12 b FV(x)e
F4(+)5 b(2])1184 1560 y FJ(x)1216 1554 y F4(that)12 b(TLC)f(generates)i
(will)208 1603 y(then)g(end)h(in)f(an)g(in\014nite)g(n)o(um)o(b)q(er)g
(of)f(stuttering)i(steps.)20 b(In)13 b(an)o(y)g(suc)o(h)h(b)q(eha)o
(vior,)e(action)208 1653 y FV(x)232 1638 y FH(0)255 1653
y F4(=)g FV(x)g F4(+)7 b(2)13 b(is)g(alw)o(a)o(ys)e(enabled,)i(but)g
(only)f(a)h(\014nite)g(n)o(um)o(b)q(er)f(of)g FV(x)1262
1638 y FH(0)1285 1653 y F4(=)g FV(x)g F4(+)c(2)k(steps)i(o)q(ccur,)208
1703 y(so)f(WF)328 1709 y FJ(x)349 1703 y F4(\()p FV(x)389
1688 y FH(0)413 1703 y F4(=)e FV(x)i F4(+)8 b(2\))13
b(is)g(false.)18 b(TLC)13 b(will)f(therefore)i(not)f(rep)q(ort)h(an)f
(error)h(b)q(ecause)h(the)208 1753 y(form)o(ula)p Black
Black 332 1836 a(WF)402 1842 y FJ(x)423 1836 y F4(\()p
FV(x)463 1819 y FH(0)487 1836 y F4(=)d FV(x)i F4(+)c(2\))23
b F0(\))f FG(3)p F4(\()p FV(x)17 b F4(=)12 b(1\))208
1919 y(is)h(satis\014ed)i(b)o(y)f(all)e(the)j(in\014nite)e(b)q(eha)o
(viors)h(it)g(generates.)270 1969 y(When)i(doing)f(temp)q(oral)f(c)o
(hec)o(king,)i(mak)o(e)e(sure)j(that)f(y)o(our)f(mo)q(del)f(will)h(p)q
(ermit)f(in-)208 2018 y(\014nite)g(b)q(eha)o(viors)h(that)g(satisfy)f
(the)h(sp)q(eci\014cation's)g(liv)o(eness)g(condition.)k(F)m(or)c
(example,)208 2068 y(consider)f(the)g(\014nite)f(mo)q(del)f(of)h(the)h
(alternating)e(bit)h(proto)q(col)h(sp)q(eci\014cation)g(de\014ned)g(b)o
(y)208 2118 y(the)h(con\014guration)f(\014le)h(of)f(Figure)g(14.3)g(on)
g(page)h(227.)k(Y)m(ou)14 b(should)h(con)o(vince)g(y)o(ourself)208
2168 y(that)e(it)h(allo)o(ws)f(in\014nite)g(b)q(eha)o(viors)h(that)g
(satisfy)g(form)o(ula)d FV(ABF)m(airness)s F4(.)270 2218
y(It's)k(a)g(go)q(o)q(d)f(idea)h(to)g(v)o(erify)g(that)g(TLC)g(is)g(p)q
(erforming)f(the)h(liv)o(eness)h(c)o(hec)o(king)f(y)o(ou)208
2268 y(exp)q(ect.)k(Ha)o(v)o(e)14 b(it)f(c)o(hec)o(k)i(a)e(liv)o(eness)
h(prop)q(ert)o(y)h(that)e(the)i(sp)q(eci\014cation)f(do)q(es)h(not)e
(satisfy)208 2317 y(and)g(mak)o(e)g(sure)i(it)e(rep)q(orts)i(an)f
(error.)p Black Black eop
%%Page: 248 266
248 265 bop Black 208 275 a F4(248)814 b FR(CHAPTER)15
b(14.)31 b(THE)14 b(TLC)g(MODEL)g(CHECKER)p 208 282 1770
2 v Black Black Black Black 188 394 2 25 v 190 371 760
2 v 963 378 a FP(module)h FV(TLC)p 1236 371 V 1996 394
2 25 v 208 453 a FP(local)h(inst)m(ance)g FV(Natur)n(als)p
.95 TeXcolorgray .95 TeXcolorgray 761 507 1026 91 v .95
TeXcolorgray Black 82 w FZ(The)11 b(k)o(eyw)o(ord)f Fu(local)i
FZ(means)e(that)h(de\014nitions)d(from)j(the)g(instan)o(tiate)o(d)770
493 y(mo)q(dule)e(are)i(not)g(obtained)e(b)o(y)i(a)g(mo)q(dule)f(that)g
(extends)g FY(TLC)5 b FZ(.)p .95 TeXcolorgray Black 208
516 a FP(local)16 b(inst)m(ance)g FV(Se)n(quenc)n(es)p
188 578 2 25 v 190 567 1806 2 v 1996 578 2 25 v .95 TeXcolorgray
.95 TeXcolorgray 806 653 564 57 v .95 TeXcolorgray Black
814 632 a FZ(OPERA)m(TORS)d(F)o(OR)g(DEBUGGING)p .95
TeXcolorgray Black 208 714 a FV(Print)t F4(\()p FV(out)t
FQ(;)7 b FV(val)t F4(\))514 691 y FI(\001)509 714 y F4(=)35
b FV(val)p .95 TeXcolorgray .95 TeXcolorgray 665 734
706 57 v .95 TeXcolorgray Black 46 w FZ(Causes)11 b(TLC)i(to)e(prin)o
(t)f(the)h(v)n(alues)f FY(out)15 b FZ(and)c FY(val)s
FZ(.)p .95 TeXcolorgray Black 208 787 a FV(Assert)t F4(\()p
FV(val)t FQ(;)c FV(out)t F4(\))533 764 y FI(\001)528
787 y F4(=)35 b FP(if)23 b FV(val)16 b F4(=)c FP(tr)o(ue)23
b(then)h(tr)o(ue)884 837 y(else)36 b(choose)16 b FV(v)23
b F4(:)18 b FP(tr)o(ue)p .95 TeXcolorgray .95 TeXcolorgray
1370 847 499 96 v .95 TeXcolorgray Black 1378 787 a FZ(Causes)11
b(TLC)i(to)e(rep)q(ort)f(an)h(error)1378 827 y(and)g(prin)o(t)f
FY(out)15 b FZ(if)c FY(val)16 b FZ(is)11 b(not)g(true.)p
.95 TeXcolorgray Black 208 894 a FV(JavaTime)429 870
y FI(\001)424 894 y F4(=)35 b FP(choose)17 b FV(n)22
b F4(:)17 b FV(n)f F0(2)11 b FV(Nat)p .95 TeXcolorgray
.95 TeXcolorgray 908 954 973 96 v .95 TeXcolorgray Black
46 w FZ(Causes)g(TLC)i(to)e(prin)o(t)f(the)h(curren)o(t)e(time,)i(in)g
(milliseconds)d(elapsed)916 933 y(since)i(00:00)h(on)g(1)g(Jan)g(1970)f
(UT,)j(mo)q(dulo)c(2)1540 922 y FK(31)1573 933 y FZ(.)p
.95 TeXcolorgray Black 188 992 2 25 v 190 981 1806 2
v 1996 992 2 25 v .95 TeXcolorgray .95 TeXcolorgray 386
1067 1407 57 v .95 TeXcolorgray Black 394 1046 a(OPERA)m(TORS)k(F)o(OR)
g(REPRESENTING)f(FUNCTIONS)h(AND)g(SETS)e(OF)i(PERMUT)m(A)m(TIONS)p
.95 TeXcolorgray Black 208 1128 a FV(d)e F4(:)p FQ(>)c
FV(e)370 1104 y FI(\001)365 1128 y F4(=)35 b([)p FV(x)16
b F0(2)11 b(f)p FV(d)t F0(g)h(7!)f FV(e)s F4(])208 1193
y FV(f)k F4(@@)7 b FV(g)370 1169 y FI(\001)365 1193 y
F4(=)35 b([)p FV(x)16 b F0(2)11 b F4(\()p FP(domain)f
FV(f)f F4(\))g F0([)g F4(\()p FP(domain)h FV(g)t F4(\))i
F0(7!)486 1243 y FP(if)23 b FV(x)17 b F0(2)11 b FP(domain)f
FV(f)31 b FP(then)24 b FV(f)8 b F4([)p FV(x)d F4(])23
b FP(else)h FV(g)t F4([)p FV(x)5 b F4(]])p .95 TeXcolorgray
.95 TeXcolorgray 1259 1259 725 168 v .95 TeXcolorgray
Black 1267 1128 a FZ(The)11 b(function)f FY(f)18 b FZ(with)12
b(domain)d FW(f)p FY(d)1752 1133 y FK(1)1770 1128 y Fw(;)c(:)h(:)g(:)f
(;)h FY(d)1869 1132 y FE(n)1890 1128 y FW(g)1267 1167
y FZ(suc)o(h)k(that)h FY(f)c FZ([)p FY(d)1472 1172 y
FE(i)1486 1167 y FZ(])12 b(=)h FY(e)1566 1172 y FE(i)1581
1167 y FZ(,)e(for)g FY(i)16 b FZ(=)d(1)p Fw(;)5 b(:)h(:)g(:)f(;)h
FY(n)14 b FZ(can)d(b)q(e)1267 1207 y(written)1302 1246
y FY(d)1323 1251 y FK(1)1347 1246 y FZ(:)p Fw(>)6 b FY(e)1408
1251 y FK(1)1442 1246 y FZ(@@)12 b Fw(:)6 b(:)g(:)11
b FZ(@@)k FY(d)1651 1250 y FE(n)1678 1246 y FZ(:)p Fw(>)6
b FY(e)1739 1250 y FE(n)p .95 TeXcolorgray Black 208
1320 a FV(Permutations)s F4(\()p FV(S)f F4(\))555 1296
y FI(\001)550 1320 y F4(=)35 b F0(f)p FV(f)20 b F0(2)11
b F4([)p FV(S)16 b F0(!)11 b FV(S)5 b F4(])19 b(:)f F0(8)7
b FV(w)15 b F0(2)d FV(S)23 b F4(:)18 b F0(9)7 b FV(v)16
b F0(2)c FV(S)23 b F4(:)18 b FV(f)9 b F4([)p FV(v)t F4(])i(=)h
FV(w)t F0(g)p .95 TeXcolorgray .95 TeXcolorgray 1484
1340 475 57 v .95 TeXcolorgray Black 42 w FZ(The)g(set)f(of)g(p)q(erm)o
(utatio)o(ns)e(of)i FY(S)t FZ(.)p .95 TeXcolorgray Black
188 1368 2 25 v 190 1357 1806 2 v 1996 1368 2 25 v .95
TeXcolorgray .95 TeXcolorgray 832 1443 547 57 v .95 TeXcolorgray
Black 840 1423 a(AN)h(OPERA)m(TOR)i(F)o(OR)e(SOR)m(TING)p
.95 TeXcolorgray Black 208 1504 a FV(SortSe)n(q)t F4(\()p
FV(s)s FQ(;)p 415 1504 22 3 v 53 w F0(\036)p 492 1504
V 40 w F4(\))575 1481 y FI(\001)571 1504 y F4(=)p .95
TeXcolorgray .95 TeXcolorgray 672 1525 960 57 v .95 TeXcolorgray
Black 77 w FZ(The)g(result)e(of)h(sorting)f(sequence)f
FY(s)14 b FZ(according)9 b(to)i(the)g(ordering)e FW(\036)p
FZ(.)p .95 TeXcolorgray Black 250 1569 a FP(let)23 b
FV(Perm)483 1546 y FI(\001)479 1569 y F4(=)34 b FP(choose)17
b FV(p)d F0(2)e FV(Permutations)s F4(\(1)i FQ(:)7 b(:)13
b FV(L)n(en)s F4(\()p FV(s)s F4(\)\))19 b(:)630 1619
y F0(8)7 b FV(i)t FQ(;)14 b FV(j)j F0(2)11 b F4(1)j FQ(:)7
b(:)12 b FV(L)n(en)s F4(\()p FV(s)s F4(\))20 b(:)e(\()p
FV(i)e FQ(<)c FV(j)6 b F4(\))22 b F0(\))h F4(\()p FV(s)s
F4([)p FV(p)s F4([)p FV(i)t F4(]])10 b F0(\036)i FV(s)s
F4([)p FV(p)s F4([)p FV(j)6 b F4(]]\))14 b F0(_)i F4(\()p
FV(s)s F4([)p FV(p)s F4([)p FV(i)t F4(]])10 b(=)i FV(s)s
F4([)p FV(p)s F4([)p FV(j)6 b F4(]]\))250 1669 y FP(in)54
b F4([)p FV(i)15 b F0(2)c F4(1)j FQ(:)7 b(:)13 b FV(L)n(en)s
F4(\()p FV(s)s F4(\))f F0(7!)f FV(s)s F4([)p FV(Perm)s
F4([)p FV(i)t F4(]]])p 188 1710 2 25 v 190 1710 1806
2 v 1996 1710 2 25 v Black 708 1800 a FU(Figure)j(14.5:)k
F4(The)d(standard)f(mo)q(dule)e FV(TLC)p F4(.)p Black
Black 208 1925 a FN(14.4)82 b(The)26 b Fl(TLC)38 b FN(Mo)r(dule)208
2016 y F4(The)14 b(standard)h FV(TLC)20 b F4(mo)q(dule,)13
b(in)h(Figure)g(14.5)f(on)h(this)h(page,)f(de\014nes)i(op)q(erators)f
(that)208 2066 y(are)i(handy)f(when)h(using)f(TLC.)27
b(The)17 b(mo)q(dule)e(on)h(whic)o(h)h(y)o(ou)f(run)h(TLC)f(usually)h
FP(ex-)208 2115 y(tends)c F4(the)i FV(TLC)k F4(mo)q(dule,)12
b(whic)o(h)i(is)g(o)o(v)o(erridden)g(b)o(y)g(its)g(Ja)o(v)n(a)f
(implemen)o(tati)o(on.)p .95 TeXcolorgray .95 TeXcolorgray
1679 2203 307 119 v .95 TeXcolorgray Black Black 140
w FZ(Mo)q(dule)e(o)o(v)o(erriding)1687 2155 y(is)h(explained)d(ab)q(o)o
(v)o(e)1687 2194 y(in)j(Section)d(14.2.5.)p Black .95
TeXcolorgray Black 270 2165 a F4(Mo)q(dule)14 b FV(TLC)19
b F4(b)q(egins)14 b(with)g(the)g(statemen)o(t)p Black
Black 332 2248 a FP(local)j(inst)m(ance)f FV(Natur)n(als)208
2331 y F4(As)g(explained)g(on)g(page)g(171,)f(this)i(is)f(lik)o(e)f(an)
h FP(extends)g F4(statemen)o(t,)h(except)g(that)f(the)208
2381 y(de\014nitions)h(included)h(from)e(the)i FV(Natur)n(als)i
F4(mo)q(dule)d(are)h(not)f(obtained)h(b)o(y)f(an)o(y)g(other)208
2431 y(mo)q(dule)10 b(that)i(extends)h(or)f(instan)o(tiates)f(mo)q
(dule)g FV(TLC)6 b F4(.)16 b(Similarly)m(,)8 b(the)13
b(next)f(statemen)o(t)208 2481 y(lo)q(cally)g(instan)o(tiates)i(the)h
FV(Se)n(quenc)n(es)j F4(mo)q(dule.)p Black Black eop
%%Page: 249 267
249 266 bop Black 208 275 a FR(14.4.)30 b(THE)14 b FV(TLC)g
FR(MODULE)1200 b F4(249)p 208 282 1770 2 v Black 270
391 a(Mo)q(dule)20 b FV(TLC)25 b F4(next)c(de\014nes)g(three)g(op)q
(erators)g FV(Print)t F4(,)g FV(Assert)t F4(,)f(and)f
FV(JavaTime)s F4(.)208 441 y(They)13 b(are)h(of)f(no)g(use)h(except)h
(in)e(running)g(TLC,)g(when)h(they)g(can)f(help)h(y)o(ou)f(trac)o(k)g
(do)o(wn)208 491 y(problems.)270 541 y(The)i(op)q(erator)h
FV(Print)j F4(is)14 b(de\014ned)j(so)e(that)g FV(Print)t
F4(\()p FV(out)t FQ(;)7 b FV(val)t F4(\))15 b(equals)g
FV(val)t F4(.)22 b(But)15 b(when)208 591 y(TLC)e(ev)n(aluates)g(this)h
(expression,)g(it)f(prin)o(ts)h(the)g(v)n(alues)f(of)g
FV(out)18 b F4(and)13 b FV(val)t F4(.)18 b(Y)m(ou)13
b(can)h(add)208 640 y FV(Print)h F4(expressions)f(to)f(a)f(sp)q
(eci\014cation)h(to)f(help)g(lo)q(cate)h(an)f(error.)19
b(F)m(or)12 b(example,)f(if)g(y)o(our)208 690 y(sp)q(eci\014cation)j
(con)o(tains)p Black Black 332 773 a F0(^)g FV(Print)t
F4(\(\\)p FD(a)p F4(")o FQ(;)f FP(tr)o(ue)p F4(\))332
823 y F0(^)h FV(P)332 873 y F0(^)g FV(Print)t F4(\(\\)p
FD(b)p F4(")o FQ(;)g FP(tr)o(ue)p F4(\))208 954 y(and)j(TLC)h(prin)o
(ts)g(the)h FO("a")e F4(but)i(not)e(the)i FO("b")e F4(b)q(efore)i(rep)q
(orting)f(an)g(error,)i(then)e(the)208 1004 y(error)12
b(happ)q(ened)h(while)f(TLC)f(w)o(as)h(ev)n(aluating)f
FV(P)t F4(.)17 b(If)12 b(y)o(ou)f(kno)o(w)h(where)h(the)f(error)h(is)f
(but)208 1054 y(don't)h(kno)o(w)g(wh)o(y)h(it's)f(o)q(ccurring,)h(y)o
(ou)g(can)g(add)g FV(Print)j F4(expressions)e(to)f(giv)o(e)f(y)o(ou)h
(more)208 1103 y(information)d(ab)q(out)i(what)h(v)n(alues)g(TLC)f(has)
h(computed.)270 1153 y(T)m(o)f(understand)j(what)e(gets)h(prin)o(ted)f
(when,)g(y)o(ou)g(m)o(ust)f(kno)o(w)h(ho)o(w)g(TLC)g(ev)n(aluates)208
1203 y(expressions,)k(whic)o(h)e(is)h(explained)f(ab)q(o)o(v)o(e)h(in)f
(Sections)h(14.2)f(and)g(14.3.)25 b(TLC)17 b(usually)208
1253 y(ev)n(aluates)12 b(an)h(expression)g(man)o(y)e(times,)h(so)g
(inserting)h(a)f FV(Print)k F4(expression)e(in)e(the)i(sp)q(ec-)208
1303 y(i\014cation)e(can)i(pro)q(duce)g(a)g(lot)e(of)h(output.)18
b(One)c(w)o(a)o(y)f(to)g(limit)e(the)j(amoun)o(t)e(of)g(output)i(is)208
1352 y(to)e(put)i(the)f FV(Print)k F4(expression)d(inside)f(an)f
FP(if)p F4(/)p FP(then)h F4(expression,)h(so)f(it)g(is)g(executed)i
(only)208 1402 y(in)e(in)o(teresting)h(cases.)270 1452
y(The)d FV(TLC)16 b F4(mo)q(dule)9 b(next)i(de\014nes)h(the)f(op)q
(erator)h FV(Assert)h F4(so)e FV(Assert)t F4(\()p FV(val)t
FQ(;)i FV(out)t F4(\))e(equals)208 1502 y FP(tr)o(ue)f
F4(if)g FV(val)15 b F4(equals)c FP(tr)o(ue)p F4(.)17
b(If)10 b FV(val)15 b F4(do)q(es)c(not)g(equal)f FP(tr)o(ue)q
F4(,)g(ev)n(aluating)g FV(Assert)t F4(\()p FV(val)t FQ(;)j
FV(out)t F4(\))208 1552 y(causes)18 b(TLC)g(to)f(prin)o(t)g(the)h(v)n
(alue)f(of)f FV(out)22 b F4(and)17 b(to)g(halt.)28 b(\(In)18
b(this)f(case,)i(the)f(v)n(alue)e(of)208 1602 y FV(Assert)t
F4(\()p FV(val)t FQ(;)c FV(out)t F4(\))j(is)e(irrelev)n(an)o(t.\))270
1651 y(Next,)d(the)h(op)q(erator)f FV(JavaTime)j F4(is)c(de\014ned)i
(to)e(equal)h(an)f(arbitrary)h(natural)f(n)o(um)o(b)q(er.)208
1701 y(Ho)o(w)o(ev)o(er,)19 b(TLC)f(do)q(es)g(not)g(ob)q(ey)h(the)f
(de\014nition)g(of)g FV(JavaTime)i F4(when)f(ev)n(aluating)e(it.)208
1751 y(Instead,)10 b(ev)n(aluating)e FV(JavaTime)k F4(yields)e(the)g
(time)e(at)h(whic)o(h)g(the)h(ev)n(aluation)e(tak)o(es)i(place,)208
1801 y(measured)i(in)f(milliseconds)f(elapsed)j(since)g(00:00)d(Univ)o
(ersal)i(Time)f(on)h(1)f(Jan)o(uary)h(1970,)208 1851
y(mo)q(dulo)i(2)380 1836 y FS(31)415 1851 y F4(.)26 b(If)17
b(TLC)f(is)h(generating)g(states)h(slo)o(wly)m(,)d(using)h(the)i
FV(JavaTime)h F4(op)q(erator)208 1900 y(in)e(conjunction)h(with)f
FV(Print)22 b F4(expressions)d(can)f(help)g(y)o(ou)f(understand)i(wh)o
(y)m(.)30 b(If)17 b(TLC)208 1950 y(is)e(sp)q(ending)g(to)q(o)g(m)o(uc)o
(h)f(time)g(ev)n(aluating)g(an)h(op)q(erator,)h(y)o(ou)f(ma)o(y)e(b)q
(e)j(able)f(to)g(replace)208 2000 y(the)j(op)q(erator's)g(de\014nition)
g(with)f(an)h(equiv)n(alen)o(t)f(one)h(that)g(TLC)f(can)h(ev)n(aluate)g
(more)208 2050 y(e\016cien)o(tly)m(.)f(\(See)e(Section)f(14.2.3)e(on)i
(page)g(234.\))270 2100 y(The)c(TLC)f(mo)q(dule)f(next)j(de\014nes)g
(the)f(op)q(erators)g(:)p FQ(>)g F4(and)f(@@)h(so)g(that)f(the)i
(expression)p Black Black 332 2183 a FV(d)357 2189 y
FS(1)383 2183 y F4(:)p FQ(>)c FV(e)456 2189 y FS(1)493
2183 y F4(@@)19 b FQ(:)7 b(:)g(:)17 b F4(@@)i FV(d)751
2189 y FJ(n)782 2183 y F4(:)p FQ(>)7 b FV(e)855 2189
y FJ(n)208 2266 y F4(is)k(the)g(function)g FV(f)20 b
F4(with)10 b(domain)f F0(f)p FV(d)790 2272 y FS(1)809
2266 y FQ(;)e(:)g(:)g(:)e(;)i FV(d)927 2272 y FJ(n)951
2266 y F0(g)j F4(suc)o(h)i(that)f FV(f)e F4([)p FV(d)1219
2272 y FJ(i)1234 2266 y F4(])i(=)h FV(e)1323 2272 y FJ(i)1339
2266 y F4(,)f(for)g FV(i)k F4(=)d(1)p FQ(;)7 b(:)g(:)g(:)t(;)g
FV(n)s F4(.)208 2316 y(F)m(or)k(example,)g(the)h(sequence)i
F0(h)s F4(\\)p FD(ab)p F4(")q FQ(;)7 b F4(\\)p FD(cd)p
F4(")s F0(i)p F4(,)12 b(whic)o(h)g(is)g(a)f(function)h(with)f(domain)f
F0(f)p F4(1)p FQ(;)j F4(2)p F0(g)p F4(,)208 2365 y(can)h(b)q(e)g
(written)h(as)p Black Black Black Black 332 2448 a FO(1)22
b(:>)f("ab")43 b(@@)g(2)22 b(:>)f("cd")p Black Black
eop
%%Page: 250 268
250 267 bop Black 208 275 a F4(250)814 b FR(CHAPTER)15
b(14.)31 b(THE)14 b(TLC)g(MODEL)g(CHECKER)p 208 282 1770
2 v Black 208 391 a F4(TLC)d(uses)j(these)f(op)q(erators)g(to)f
(represen)o(t)i(function)e(v)n(alues)g(that)g(it)g(prin)o(ts)g(when)h
(ev)n(alu-)208 441 y(ating)e(a)i FV(Print)j F4(expression)d(or)g(rep)q
(orting)g(an)f(error.)19 b(Ho)o(w)o(ev)o(er,)12 b(it)h(usually)e(prin)o
(ts)i(v)n(alues)208 491 y(the)18 b(w)o(a)o(y)f(they)h(app)q(ear)g(in)f
(the)h(sp)q(eci\014cation,)g(so)g(it)f(usually)g(prin)o(ts)h(a)f
(sequence)j(as)d(a)208 541 y(sequence,)e(not)f(in)f(terms)h(of)f(the)i
(:)p FQ(>)e F4(and)h(@@)h(op)q(erators.)270 591 y(Next)j(comes)g(the)h
(de\014nition)e(of)h FV(Permutations)s F4(\()p FV(S)5
b F4(\))19 b(to)e(b)q(e)i(the)g(set)g(of)e(all)g(p)q(erm)o(u-)208
640 y(tations)h(of)f FV(S)5 b F4(,)20 b(if)d FV(S)24
b F4(is)18 b(a)g(\014nite)h(set.)32 b(The)19 b FV(Permutations)i
F4(op)q(erator)e(can)g(b)q(e)g(used)g(to)208 690 y(sp)q(ecify)i(a)g
(set)h(of)e(p)q(erm)o(utations)g(for)h(the)h FO(SYMMETRY)d
F4(statemen)o(t)i(describ)q(ed)i(in)d(Sec-)208 740 y(tion)12
b(14.3.4)f(ab)q(o)o(v)o(e.)17 b(More)c(complicated)f(symmetries)f(can)i
(b)q(e)h(expressed)h(b)o(y)d(de\014ning)h(a)208 790 y(set)i
F0(f)p FQ(\031)319 796 y FS(1)337 790 y FQ(;)f(:)7 b(:)g(:)12
b(;)7 b(\031)469 796 y FJ(n)492 790 y F0(g)14 b F4(of)g(p)q(erm)o
(utations,)f(where)j(eac)o(h)f FQ(\031)1081 796 y FJ(i)1110
790 y F4(is)g(written)f(as)h(an)f(explicit)g(func-)208
840 y(tion)i(using)g(the)i(:)p FQ(>)e F4(and)h(@@)g(op)q(erators.)28
b(F)m(or)16 b(example,)g(consider)h(a)g(sp)q(eci\014cation)g(of)208
889 y(a)d(memory)f(system)i(in)g(whic)o(h)g(eac)o(h)g(address)i(is)e
(in)g(some)f(w)o(a)o(y)g(asso)q(ciated)i(with)f(a)g(pro-)208
939 y(cessor.)k(The)14 b(sp)q(eci\014cation)g(w)o(ould)e(b)q(e)i
(symmetric)e(under)i(t)o(w)o(o)f(kinds)g(of)g(p)q(erm)o(utations:)208
989 y(ones)h(that)g(p)q(erm)o(ute)g(addresses)h(asso)q(ciated)g(with)e
(the)i(same)e(pro)q(cessor,)i(and)e(ones)i(that)208 1039
y(p)q(erm)o(ute)g(the)i(pro)q(cessors)h(along)c(with)h(their)i(asso)q
(ciated)f(addresses.)26 b(Supp)q(ose)16 b(w)o(e)g(tell)208
1089 y(TLC)h(to)h(use)h(t)o(w)o(o)e(pro)q(cessors)j(and)e(four)f
(addresses,)k(where)e(addresses)h FV(a)s F4(11)d(and)h
FV(a)s F4(12)208 1139 y(are)13 b(asso)q(ciated)g(with)f(pro)q(cessor)j
FV(p)s F4(1)d(and)g(addresses)j FV(a)s F4(21)e(and)f
FV(a)s F4(22)h(are)g(asso)q(ciated)g(with)208 1188 y(pro)q(cessor)k
FV(p)s F4(2.)22 b(W)m(e)15 b(can)h(get)g(TLC)f(to)h(tak)o(e)f(adv)n(an)
o(tage)g(of)g(the)h(symmetries)e(b)o(y)h(giving)208 1238
y(it)e(the)i(follo)o(wing)c(set)k(of)e(p)q(erm)o(utations)g(as)h(the)g
(symmetry)e(set:)p Black Black 332 1321 a FV(Permutations)s
F4(\()p F0(f)p FV(a)s F4(11)p FQ(;)7 b FV(a)s F4(12)p
F0(g)p F4(\))20 b F0([)h(f)p FV(p)s F4(1)7 b(:)p FQ(>)f
FV(p)s F4(2)18 b(@@)h FV(p)s F4(2)7 b(:)p FQ(>)f FV(p)s
F4(1)926 1371 y(@@)19 b FV(a)s F4(11)7 b(:)p FQ(>)f FV(a)s
F4(21)19 b(@@)g FV(a)s F4(21)7 b(:)p FQ(>)f FV(a)s F4(11)926
1421 y(@@)19 b FV(a)s F4(12)7 b(:)p FQ(>)f FV(a)s F4(22)19
b(@@)g FV(a)s F4(22)7 b(:)p FQ(>)f FV(a)s F4(12)p F0(g)208
1502 y F4(The)23 b(p)q(erm)o(utation)f FV(p)s F4(1)7
b(:)p FQ(>)f FV(p)s F4(2)13 b(@@)i FQ(:)7 b(:)g(:)12
b F4(@@)c FV(a)s F4(22)f(:)p FQ(>)f FV(a)s F4(12)23 b(in)o(terc)o
(hanges)h(the)g(pro)q(cessors)208 1552 y(and)19 b(their)h(asso)q
(ciated)g(addresses.)38 b(The)20 b(p)q(erm)o(utation)e(that)i(just)f
(in)o(terc)o(hanges)i FV(a)s F4(21)208 1602 y(and)16
b FV(a)s F4(22)h(need)h(not)e(b)q(e)i(sp)q(eci\014ed)g(explicitly)e(b)q
(ecause)j(it)d(is)h(obtained)f(b)o(y)h(in)o(terc)o(hang-)208
1651 y(ing)11 b(the)i(pro)q(cessors,)h(in)o(terc)o(hanging)e
FV(a)s F4(11)g(and)f FV(a)s F4(12,)h(and)g(in)o(terc)o(hanging)g(the)h
(pro)q(cessors)208 1701 y(again.)270 1751 y(The)h(TLC)g(mo)q(dule)e
(ends)j(b)o(y)f(de\014ning)f(the)i(op)q(erator)f FV(SortSe)n(q)t
F4(,)g(whic)o(h)f(can)h(b)q(e)h(used)208 1801 y(to)c(replace)i(op)q
(erator)g(de\014nitions)e(with)h(ones)h(that)e(TLC)h(can)g(ev)n(aluate)
g(more)f(e\016cien)o(tly)m(.)208 1851 y(If)j FV(s)k F4(is)c(a)h
(\014nite)f(sequence)j(and)e F0(\036)f F4(is)h(a)f(total)g(ordering)h
(relation)f(on)g(its)h(elemen)o(ts,)f(then)208 1900 y
FV(SortSe)n(q)t F4(\()p FV(s)s FQ(;)7 b F0(\036)p F4(\))17
b(is)g(the)h(sequence)i(obtained)d(from)f FV(s)k F4(b)o(y)e(sorting)f
(its)g(elemen)o(ts)g(accord-)208 1950 y(ing)i(to)i F0(\036)p
F4(.)38 b(F)m(or)20 b(example,)g FV(SortSe)n(q)t F4(\()p
F0(h)s F4(3)p FQ(;)7 b F4(1)p FQ(;)g F4(3)p FQ(;)g F4(8)s
F0(i)p FQ(;)12 b(>)p F4(\))21 b(equals)f F0(h)s F4(8)p
FQ(;)7 b F4(3)p FQ(;)g F4(3)p FQ(;)g F4(1)s F0(i)p F4(.)37
b(The)21 b(Ja)o(v)n(a)208 2000 y(implem)o(en)o(tation)16
b(of)i FV(SortSe)n(q)23 b F4(allo)o(ws)18 b(TLC)h(to)f(ev)n(aluate)h
(it)f(more)g(e\016cien)o(tly)h(than)g(a)208 2050 y(user-de\014ned)f
(sorting)e(op)q(erator.)26 b(F)m(or)16 b(example,)g(here's)h(ho)o(w)f
(w)o(e)h(can)f(use)i FV(SortSe)n(q)i F4(to)208 2100 y(de\014ne)14
b(an)g(op)q(erator)h FV(F)m(astSort)i F4(to)d(replace)h(the)f
FV(Sort)k F4(op)q(erator)c(de\014ned)h(on)f(page)g(235.)p
Black Black 332 2187 a FV(F)m(astSort)t F4(\()p FV(S)5
b F4(\))588 2163 y FI(\001)583 2187 y F4(=)374 2244 y
FP(let)23 b FV(MakeSe)n(q)t F4([)p FV(SS)17 b F0(2)11
b FP(subset)f FV(S)5 b F4(])963 2220 y FI(\001)958 2244
y F4(=)507 2293 y FP(if)23 b FV(SS)17 b F4(=)12 b F0(fg)21
b FP(then)j F0(h)7 b(i)735 2350 y FP(else)36 b(let)23
b FV(ss)1026 2327 y FI(\001)1021 2350 y F4(=)35 b FP(choose)17
b FV(ss)e F0(2)c FV(SS)24 b F4(:)18 b FP(tr)o(ue)857
2400 y(in)54 b FV(App)n(end)t F4(\()p FV(MakeSe)n(q)t
F4([)p FV(SS)14 b F0(n)7 b(f)p FV(ss)s F0(g)p F4(])p
FQ(;)g FV(ss)s F4(\))374 2450 y FP(in)54 b FV(SortSe)n(q)t
F4(\()p FV(MakeSe)n(q)t F4([)p FV(S)5 b F4(])p FQ(;)i(<)p
F4(\))p Black Black eop
%%Page: 251 269
251 268 bop Black 208 275 a FR(14.5.)30 b(HO)o(W)14 b(TO)g(USE)g(TLC)
1213 b F4(251)p 208 282 1770 2 v Black 208 399 a FN(14.5)82
b(Ho)n(w)27 b(to)h(Use)e(TLC)208 515 y F3(14.5.1)65 b(Running)24
b(TLC)208 606 y F4(Exactly)12 b(ho)o(w)f(y)o(ou)h(run)g(TLC)g(dep)q
(ends)i(on)d(what)h(op)q(erating)g(system)g(y)o(ou)g(are)g(using)g(and)
208 656 y(ho)o(w)h(it)h(is)f(con\014gured.)19 b(Y)m(ou)14
b(will)e(probably)h(t)o(yp)q(e)i(a)e(command)e(of)j(the)g(form)p
Black Black 332 739 a FV(pr)n(o)n(gr)n(am)p 484 739 13
2 v 18 w(name)24 b(options)h(sp)n(e)n(c)p 849 739 V 17
w(\014le)208 822 y F4(where)p Black 208 905 a FV(pr)n(o)n(gr)n(am)p
360 905 15 2 v 19 w(name)p Black 25 w F4(is)13 b(sp)q(eci\014c)j(to)e
(y)o(our)f(system.)18 b(It)c(migh)o(t)e(b)q(e)i FO(java)21
b(tlatk.TLC)n F4(.)p Black 208 988 a FV(sp)n(e)n(c)p
285 988 V 19 w(\014le)p Black 24 w F4(is)14 b(the)h(name)d(of)i(the)g
(\014le)h(con)o(taining)d(the)j(TLA)1147 973 y FS(+)1182
988 y F4(sp)q(eci\014cation.)k(Eac)o(h)14 b(TLA)1625
973 y FS(+)311 1037 y F4(mo)q(dule)f(named)g FV(M)21
b F4(that)15 b(app)q(ears)g(in)e(the)i(sp)q(eci\014cation)g(m)o(ust)e
(b)q(e)i(in)f(a)g(separate)311 1087 y(\014le)g(named)f
FV(M)7 b FO(.tla)p F4(.)17 b(The)d(extension)h FO(.tla)e
F4(ma)o(y)f(b)q(e)i(omitted)f(from)f FV(sp)n(e)n(c)p
1519 1087 13 2 v 18 w(\014le)s F4(.)p Black 208 1170
a FV(options)p Black 24 w F4(is)i(a)g(sequence)i(consisting)d(of)h
(zero)g(or)g(more)f(of)g(the)i(follo)o(wing)c(options:)p
Black 311 1253 a FO(-deadlock)p Black 403 1303 a F4(T)m(ells)j(TLC)g
(not)h(to)f(c)o(hec)o(k)i(for)e(deadlo)q(c)o(k.)20 b(Unless)c(this)e
(option)g(is)h(sp)q(eci\014ed,)403 1353 y(TLC)g(will)f(stop)h(if)g(it)g
(\014nds)h(a)f(deadlo)q(c)o(k|that)g(is,)g(a)g(reac)o(hable)h(state)g
(with)403 1403 y(no)d(successor)k(state.)p Black 311
1469 a FO(-simulate)p Black 403 1519 a F4(T)m(ells)9
b(TLC)i(to)f(run)h(in)f(sim)o(ulation)d(mo)q(de,)j(generating)h
(randomly)d(c)o(hosen)j(b)q(e-)403 1569 y(ha)o(viors,)f(instead)i(of)f
(generating)g(all)f(reac)o(hable)i(states.)18 b(\(See)12
b(Section)g(14.3.2)403 1619 y(ab)q(o)o(v)o(e.\))p Black
311 1685 a FO(-depth)21 b FV(num)p Black 403 1735 a F4(This)12
b(option)f(causes)i(TLC)f(to)g(generate)i(b)q(eha)o(viors)e(of)f
(length)h(at)g(most)f FV(num)403 1785 y F4(in)j(sim)o(ulation)d(mo)q
(de.)18 b(Without)c(this)g(option,)g(TLC)g(will)f(generate)i(runs)g(of)
403 1835 y(length)c(at)g(most)f(100.)16 b(This)11 b(option)f(is)h
(meaningful)e(only)h(when)i(the)f FV(simulate)403 1884
y F4(option)i(is)h(used.)p Black 311 1951 a FO(-seed)21
b FV(num)p Black 403 2001 a F4(In)12 b(sim)o(ulation)e(mo)q(de,)i(the)h
(b)q(eha)o(viors)g(generated)h(b)o(y)e(TLC)h(are)g(determined)403
2050 y(b)o(y)g(the)i(initial)c(seed)16 b(giv)o(en)d(to)h(a)f
(pseudorandom)g(n)o(um)o(b)q(er)g(generator.)19 b(Nor-)403
2100 y(mally)m(,)14 b(the)k(seed)h(is)e(generated)i(randomly)m(.)25
b(This)18 b(option)e(causes)j(TLC)e(to)403 2150 y(let)c(the)h(seed)h(b)
q(e)f FV(num)s F4(,)g(whic)o(h)g(m)o(ust)e(b)q(e)i(an)g(in)o(teger)g
(from)d F0(\000)p F4(2)1409 2135 y FS(63)1458 2150 y
F4(to)i(2)1529 2135 y FS(63)1573 2150 y F0(\000)c F4(1.)403
2200 y(Running)k(TLC)h(t)o(wice)h(in)e(sim)o(ulation)f(mo)q(de)h(with)h
(the)h(same)e(seed)j(and)e(aril)403 2250 y(\(see)f(the)g
FV(aril)i F4(option)d(b)q(elo)o(w\))g(will)e(pro)q(duce)k(iden)o(tical)
d(results.)19 b(This)12 b(option)403 2299 y(is)h(meaningful)f(only)h
(when)h(using)g(the)g FV(simulate)j F4(option.)p Black
311 2366 a FO(-aril)k FV(num)p Black 403 2416 a F4(This)14
b(option)g(causes)j(TLC)d(to)h(use)g FV(num)k F4(as)c(the)g
FV(aril)j F4(in)c(sim)o(ulation)e(mo)q(de.)403 2465 y(The)k(aril)f(is)h
(a)g(mo)q(di\014er)f(of)h(the)h(initial)d(seed.)26 b(When)16
b(TLC)g(\014nds)h(an)f(error)403 2515 y(in)i(sim)o(ulation)d(mo)q(de,)k
(it)f(prin)o(ts)h(out)f(b)q(oth)h(the)g(initial)d(seed)k(and)f(an)f
(aril)p Black Black eop
%%Page: 252 270
252 269 bop Black 208 275 a F4(252)814 b FR(CHAPTER)15
b(14.)31 b(THE)14 b(TLC)g(MODEL)g(CHECKER)p 208 282 1770
2 v Black 403 391 a F4(n)o(um)o(b)q(er.)j(Using)12 b(this)h(initial)e
(seed)j(and)e(aril)g(will)f(cause)j(the)g(\014rst)f(trace)h(gen-)403
441 y(erated)i(to)f(b)q(e)g(that)h(error)g(trace.)22
b(Adding)15 b FV(Print)j F4(expressions)f(will)d(usually)403
491 y(not)f(c)o(hange)h(the)g(order)h(in)e(whic)o(h)h(TLC)f(generates)i
(traces.)20 b(So,)13 b(if)g(the)h(trace)403 541 y(do)q(esn't)e(tell)g
(y)o(ou)f(what)h(w)o(en)o(t)h(wrong,)e(y)o(ou)h(can)g(try)h(running)e
(TLC)h(again)f(on)403 591 y(just)j(that)g(trace)h(to)e(prin)o(t)h(out)g
(additional)e(information.)p Black 311 657 a FO(-coverage)20
b FV(num)p Black 403 707 a F4(This)15 b(option)f(causes)j(TLC)e(to)g
(prin)o(t)h(\\co)o(v)o(erage")f(information)d(ev)o(ery)k
FV(num)403 757 y F4(min)o(utes)f(and)i(at)f(the)h(end)g(of)f(its)h
(execution.)27 b(F)m(or)16 b(ev)o(ery)h(action)f(conjunct)403
806 y(that)d(\\assigns)g(a)g(v)n(alue")f(to)i(a)e(v)n(ariable,)g(TLC)h
(prin)o(ts)h(the)g(n)o(um)o(b)q(er)e(of)h(times)403 856
y(that)d(conjunct)h(has)g(actually)e(b)q(een)i(used)h(in)e
(constructing)h(a)f(new)h(state.)17 b(The)403 906 y(v)n(alues)11
b(it)f(prin)o(ts)i(ma)o(y)d(not)i(b)q(e)h(accurate,)g(but)g(their)f
(magnitude)f(can)h(pro)o(vide)403 956 y(useful)16 b(information.)24
b(In)16 b(particular,)h(a)f(v)n(alue)g(of)g(0)h(indicates)f(part)h(of)f
(the)403 1006 y(next-state)f(action)e(that)h(w)o(as)g(nev)o(er)g
(\\executed".)20 b(This)14 b(migh)o(t)d(indicate)j(an)403
1056 y(error)k(in)e(the)i(sp)q(eci\014cation,)g(or)f(it)g(migh)o(t)e
(mean)h(that)h(the)h(mo)q(del)d(TLC)i(is)403 1105 y(c)o(hec)o(king)d
(is)g(to)q(o)f(small)f(to)i(exercise)h(that)f(part)g(of)g(the)g
(action.)p Black 311 1172 a FO(-recover)20 b FV(run)p
576 1172 14 2 v 19 w(id)p Black 403 1222 a F4(This)12
b(option)h(causes)h(TLC)f(to)f(start)i(executing)g(the)f(sp)q
(eci\014cation)h(not)f(from)403 1271 y(the)f(b)q(eginning,)e(but)i
(from)e(where)i(it)f(left)g(o\013)h(at)f(the)h(last)f(c)o(hec)o(kp)q
(oin)o(t.)18 b(When)403 1321 y(TLC)c(tak)o(es)h(a)f(c)o(hec)o(kp)q(oin)
o(t,)g(it)g(prin)o(ts)h(the)g(run)f(iden)o(ti\014er.)20
b(\(That)15 b(iden)o(ti\014er)403 1371 y(is)g(the)i(same)e(throughout)h
(an)g(execution)h(of)e(TLC.\))24 b(The)17 b(v)n(alue)e(of)g
FV(run)p 1595 1371 13 2 v 19 w(id)403 1421 y F4(should)e(b)q(e)i(that)f
(run)g(iden)o(ti\014er.)p Black 311 1487 a FO(-cleanup)p
Black 403 1537 a F4(TLC)i(creates)i(a)e(n)o(um)o(b)q(er)g(of)g(\014les)
h(when)g(it)f(runs.)26 b(When)17 b(it)f(completes,)g(it)403
1587 y(erases)h(all)e(of)g(them.)23 b(If)15 b(TLC)h(\014nds)g(an)g
(error,)g(or)g(if)f(y)o(ou)g(stop)h(it)g(b)q(efore)g(it)403
1637 y(\014nishes,)f(TLC)f(can)h(lea)o(v)o(e)g(some)f(large)g(\014les)h
(around.)20 b(The)c FV(cle)n(anup)i F4(option)403 1686
y(causes)f(TLC)f(to)g(delete)h(all)e(\014les)h(created)h(b)o(y)f
(previous)h(runs.)25 b(Do)15 b(not)h(use)403 1736 y(this)f(option)f(if)
g(y)o(ou)g(are)i(curren)o(tly)g(running)e(another)i(cop)o(y)f(of)f(TLC)
h(in)f(the)403 1786 y(same)f(directory;)h(if)f(y)o(ou)g(do,)g(it)h(can)
g(cause)h(the)g(other)f(cop)o(y)g(to)g(fail.)p Black
311 1853 a FO(-difftrace)20 b FV(num)p Black 403 1902
a F4(When)d(TLC)g(\014nds)h(an)f(error,)i(it)d(prin)o(ts)i(an)f(error)h
(trace.)29 b(Normally)m(,)15 b(that)403 1952 y(trace)h(is)f(prin)o(ted)
g(as)h(a)e(sequence)k(of)c(complete)h(states,)h(where)g(a)f(state)h
(lists)403 2002 y(the)e(v)n(alues)g(of)f(all)g(declared)i(v)n
(ariables.)i(The)e FV(di\013tr)n(ac)n(e)h F4(option)e(causes)h(TLC)403
2052 y(to)g(prin)o(t)h(an)f(abridged)h(v)o(ersion)g(of)f(eac)o(h)h
(state,)h(listing)d(only)h(the)i(v)n(ariables)403 2102
y(whose)d(v)n(alues)f(are)h(di\013eren)o(t)g(than)f(in)g(the)h
(preceding)h(state.)k(This)13 b(mak)o(es)f(it)403 2151
y(easier)k(to)f(see)i(what)f(is)f(happ)q(ening)g(in)h(eac)o(h)g(step,)g
(but)g(harder)g(to)g(\014nd)f(the)403 2201 y(complete)e(state.)p
Black 311 2268 a FO(-terse)p Black 403 2317 a F4(Normally)m(,)d(TLC)k
(completely)e(expands)j(v)n(alues)e(that)h(app)q(ear)h(in)e(error)i
(mes-)403 2367 y(sages)g(or)g(in)g(the)h(output)f(from)e(ev)n(aluating)
h FV(Print)19 b F4(expressions.)k(The)15 b FV(terse)403
2417 y F4(option)f(causes)j(TLC)f(instead)g(to)f(prin)o(t)h(partially)e
(ev)n(aluated,)h(shorter)i(v)o(er-)403 2467 y(sions)d(of)f(these)i(v)n
(alues.)p Black Black eop
%%Page: 253 271
253 270 bop Black 208 275 a FR(14.5.)30 b(HO)o(W)14 b(TO)g(USE)g(TLC)
1213 b F4(253)p 208 282 1770 2 v Black Black 311 391
a FO(-workers)20 b FV(num)p Black 403 441 a F4(Steps)e(3\(b\){\(d\))g
(of)f(the)h(TLC)f(execution)h(algorithm)d(describ)q(ed)k(on)f(pages)403
491 y(241{242)g(can)j(b)q(e)g(sp)q(eeded)i(up)d(on)h(a)f(m)o(ultipro)q
(cessor)g(computer)g(b)o(y)g(the)403 541 y(use)14 b(of)e(m)o(ultiple)f
(threads.)19 b(This)13 b(option)g(causes)i(TLC)e(to)g(use)h
FV(num)j F4(threads)403 591 y(when)11 b(\014nding)g(reac)o(hable)g
(states.)18 b(There)12 b(is)f(no)g(reason)g(to)g(use)h(more)e(threads)
403 640 y(than)15 b(there)j(are)e(actual)f(pro)q(cessors)j(on)e(y)o
(our)g(computer.)23 b(If)16 b(the)g(option)f(is)403 690
y(omitted,)d(TLC)h(uses)j(a)d(single)h(thread.)p Black
311 757 a FO(-config)21 b FV(c)n(on\014g)p 595 757 14
2 v 20 w(\014le)p Black 403 806 a F4(Sp)q(eci\014es)16
b(that)f(the)g(con\014guration)g(\014le)g(is)f(named)g
FV(c)n(on\014g)p 1341 806 13 2 v 19 w(\014le)s F4(,)h(whic)o(h)g(m)o
(ust)403 856 y(b)q(e)i(a)f(\014le)g(with)g(extension)h
FO(.cfg)p F4(.)25 b(The)17 b(extension)g FO(.cfg)f F4(ma)o(y)e(b)q(e)j
(omitted)403 906 y(from)g FV(c)n(on\014g)p 615 906 V
19 w(\014le)s F4(.)33 b(If)18 b(this)h(option)f(is)h(omitted,)f(the)h
(con\014guration)f(\014le)h(is)403 956 y(assumed)9 b(to)h(ha)o(v)o(e)f
(the)i(same)e(name)f(as)i FV(sp)n(e)n(c)p 1101 956 V
18 w(\014le)s F4(,)g(except)h(with)f(the)g(extension)403
1006 y FO(.cfg)p F4(.)p Black 311 1072 a FO(-nowarning)p
Black 403 1122 a F4(There)h(are)g(TLA)672 1107 y FS(+)703
1122 y F4(expressions)h(that)e(are)h(legal)e(but)i(are)g(su\016cien)o
(tly)f(unlik)o(ely)403 1172 y(that)19 b(their)g(presence)j(probably)c
(indicates)i(an)e(error.)35 b(F)m(or)19 b(example,)f(the)403
1222 y(expression)g([)p FV(f)24 b FP(ex)o(cept)19 b F4(!)s([)p
FV(v)t F4(])e(=)h FV(e)s F4(])f(is)g(probably)g(incorrect)i(if)e
FV(v)k F4(is)d(not)f(an)403 1271 y(elemen)o(t)9 b(of)g(the)h(domain)d
(of)i FV(f)g F4(.)16 b(\(In)10 b(this)f(case,)i(the)g(expression)f
(just)g(equals)g FV(f)e F4(.\))403 1321 y(TLC)14 b(normally)f(issues)j
(a)f(w)o(arning)f(when)h(it)g(encoun)o(ters)i(suc)o(h)e(an)g(unlik)o
(ely)403 1371 y(expression;)f(this)g(option)f(suppresses)k(these)e(w)o
(arnings.)208 1508 y F3(14.5.2)65 b(Debugging)22 b(a)g(Sp)r
(eci\014cation)208 1599 y F4(When)14 b(y)o(ou)g(write)g(a)g(sp)q
(eci\014cation,)h(it)e(usually)h(con)o(tains)g(errors.)20
b(The)15 b(purp)q(ose)g(of)f(run-)208 1649 y(ning)h(TLC)h(is)h(to)f
(\014nd)g(as)h(man)o(y)d(of)i(those)h(errors)g(as)g(p)q(ossible.)25
b(W)m(e)16 b(hop)q(e)h(an)f(error)h(in)208 1699 y(the)c(sp)q
(eci\014cation)h(will)e(cause)j(TLC)e(to)g(rep)q(ort)h(an)f(error.)19
b(The)14 b(c)o(hallenge)f(of)f(debugging)208 1749 y(is)i(to)h(\014nd)g
(the)g(error)h(in)e(the)i(sp)q(eci\014cation)f(that)g(caused)h(the)g
(error)f(rep)q(orted)i(b)o(y)d(TLC.)208 1798 y(Before)g(addressing)h
(this)e(c)o(hallenge,)h(let's)f(\014rst)i(examine)d(TLC's)i(output)g
(when)g(it)f(\014nds)208 1848 y(no)g(error.)208 1964
y FT(TLC's)18 b(Normal)f(Output)208 2041 y F4(When)c(y)o(ou)g(run)h
(TLC,)f(the)h(\014rst)g(thing)f(it)g(prin)o(ts)h(is)f(the)h(v)o(ersion)
g(n)o(um)o(b)q(er)e(and)i(creation)208 2091 y(date:)p
.95 TeXcolorgray .95 TeXcolorgray 1679 2217 307 158 v
.95 TeXcolorgray Black Black 1389 w FZ(TLC's)f(messages)1687
2130 y(ma)o(y)e(di\013er)f(in)h(for-)1687 2170 y(mat)g(from)f(the)h
(ones)1687 2209 y(describ)q(ed)e(here.)p Black .95 TeXcolorgray
Black Black Black 332 2174 a FO(TLC)21 b(Version)g(2.12)g(of)g(26)g
(May)h(2003)208 2257 y F4(Alw)o(a)o(ys)12 b(include)h(this)g
(information)d(when)j(rep)q(orting)g(an)o(y)g(problems)f(with)g(TLC.)18
b(Next,)208 2307 y(TLC)13 b(describ)q(es)j(the)f(mo)q(de)e(in)g(whic)o
(h)h(it's)f(b)q(eing)h(run.)k(The)d(p)q(ossibilities)e(are)p
Black Black 332 2390 a FO(Model-checking)208 2473 y F4(in)g(whic)o(h)h
(it)f(is)h(exhaustiv)o(ely)g(c)o(hec)o(king)g(all)f(reac)o(hable)h
(states,)h(or)p Black Black eop
%%Page: 254 272
254 271 bop Black 208 275 a F4(254)814 b FR(CHAPTER)15
b(14.)31 b(THE)14 b(TLC)g(MODEL)g(CHECKER)p 208 282 1770
2 v Black Black Black 332 391 a FO(Running)20 b(Random)h(Simulation)f
(with)h(seed)g(1901803014088851)o(111.)208 474 y F4(in)d(whic)o(h)i(it)
f(is)g(running)g(in)g(sim)o(ulation)d(mo)q(de,)j(using)g(the)h
(indicated)g(seed.)35 b(\(Seeds)208 524 y(are)15 b(describ)q(ed)i(on)e
(pages)h(251{252.\))k(Let's)15 b(supp)q(ose)i(it's)e(running)f(in)h(mo)
q(del-c)o(hec)o(king)208 574 y(mo)q(de.)26 b(If)16 b(y)o(ou)h(ask)o(ed)
g(TLC)g(to)f(do)h(liv)o(eness)g(c)o(hec)o(king,)h(it)e(will)g(no)o(w)g
(prin)o(t)h(something)208 624 y(lik)o(e)p Black Black
332 707 a FO(Implied-temporal)i(checking--relat)o(ive)g(complexity)g(=)
j(8.)208 790 y F4(The)15 b(time)e(TLC)i(tak)o(es)g(for)f(liv)o(eness)h
(c)o(hec)o(king)g(is)g(appro)o(ximately)d(prop)q(ortional)i(to)g(the)
208 840 y(relativ)o(e)c(complexit)o(y)m(.)15 b(Ev)o(en)d(with)e(a)h
(relativ)o(e)g(complexit)o(y)e(of)i(1,)g(c)o(hec)o(king)g(liv)o(eness)g
(tak)o(es)208 889 y(longer)h(than)g(c)o(hec)o(king)g(safet)o(y)m(.)17
b(So,)12 b(if)g(the)h(relativ)o(e)f(complexit)o(y)e(is)i(not)g(small,)e
(TLC)i(will)208 939 y(probably)18 b(tak)o(e)h(a)g(v)o(ery)h(long)e
(time)g(to)g(complete,)i(unless)g(the)g(mo)q(del)d(is)i(v)o(ery)h
(small.)208 989 y(In)e(sim)o(ulation)e(mo)q(de,)j(a)f(large)g
(complexit)o(y)f(means)h(that)h(TLC)f(will)g(not)g(b)q(e)i(able)e(to)
208 1039 y(sim)o(ulate)11 b(v)o(ery)j(man)o(y)e(b)q(eha)o(viors.)18
b(The)13 b(relativ)o(e)h(complexit)o(y)d(dep)q(ends)k(on)f(the)g(n)o
(um)o(b)q(er)208 1089 y(of)f(terms)g(and)h(the)h(size)f(of)g(sets)h(b)q
(eing)f(quan)o(ti\014ed)f(o)o(v)o(er)h(in)g(the)g(temp)q(oral)f(form)o
(ulas.)270 1139 y(TLC)h(next)g(prin)o(ts)g(a)g(message)f(lik)o(e)p
Black Black 332 1222 a FO(Finished)20 b(computing)g(initial)h(states:)
332 1271 y(4)h(states)e(generated,)g(with)h(2)h(of)f(them)g(distinct.)
208 1354 y F4(This)f(indicates)h(that,)g(when)g(ev)n(aluating)e(the)i
(initial)e(predicate,)j(TLC)e(generated)i(4)208 1404
y(states,)17 b(among)c(whic)o(h)j(there)h(w)o(ere)g(2)f(distinct)g
(ones.)25 b(TLC)15 b(then)i(prin)o(ts)f(one)g(or)g(more)208
1454 y(messages)e(suc)o(h)g(as)p Black Black 332 1537
a FO(Progress\(9\):)41 b(2846)21 b(states)g(generated,)e(984)j
(distinct)e(states)332 1587 y(found.)42 b(856)22 b(states)e(left)h(on)h
(queue.)208 1670 y F4(This)16 b(message)h(indicates)g(that)g(TLC)g(has)
g(th)o(us)h(far)e(constructed)j(a)e(state)h(graph)e F0(G)j
F4(of)p .95 TeXcolorgray .95 TeXcolorgray 1679 1803 307
165 v .95 TeXcolorgray Black Black 41 w FW(G)14 b FZ(and)d
FW(U)k FZ(are)c(de-)1687 1709 y(scrib)q(ed)f(in)h(Sec-)1687
1749 y(tion)g(14.3.1)f(on)1687 1788 y(page)h(241.)p Black
.95 TeXcolorgray Black 208 1720 a F4(diameter)368 1705
y FS(2)396 1720 y F4(9,)g(that)f(it)g(has)h(generated)h(and)f(examined)
e(2846)h(states,)i(\014nding)e(984)g(distinct)208 1769
y(ones,)21 b(and)e(that)h(the)g(queue)h F0(U)j F4(of)19
b(unexplored)h(states)h(con)o(tains)f(856)f(states.)36
b(After)208 1819 y(running)12 b(for)h(a)f(while,)g(TLC)h(generates)h
(these)h(progress)f(rep)q(orts)g(ab)q(out)f(once)g(ev)o(ery)h(\014v)o
(e)208 1869 y(min)o(utes.)23 b(F)m(or)16 b(most)f(sp)q(eci\014cations,)
i(the)g(n)o(um)o(b)q(er)f(of)f(states)j(on)d(the)i(queue)g(increases)
208 1919 y(monotonicall)o(y)e(at)j(the)h(b)q(eginning)e(of)g(the)i
(execution)g(and)f(decreases)i(monotonically)208 1969
y(at)14 b(the)h(end.)21 b(The)15 b(progress)h(rep)q(orts)g(therefore)g
(pro)o(vide)f(a)f(useful)h(guide)f(to)h(ho)o(w)f(m)o(uc)o(h)208
2019 y(longer)f(the)i(execution)f(is)g(lik)o(ely)f(to)g(tak)o(e.)270
2068 y(When)h(TLC)g(successfully)h(completes,)e(it)g(prin)o(ts)p
Black Black 332 2151 a FO(Model)21 b(checking)f(completed.)42
b(No)21 b(error)g(has)g(been)g(found.)208 2234 y F4(It)14
b(then)g(prin)o(ts)g(something)f(lik)o(e)p Black 208
2269 576 2 v 254 2296 a FK(2)271 2308 y FZ(The)d(diameter)d(of)i
FW(G)i FZ(is)f(the)e(smallest)g(n)o(um)o(b)q(er)f FY(d)13
b FZ(suc)o(h)c(that)f(ev)o(ery)g(state)h(in)g FW(G)i
FZ(can)e(b)q(e)g(reac)o(hed)e(from)208 2347 y(an)k(initial)f(state)g(b)
o(y)h(a)h(path)e(con)o(taining)f(at)i(most)g FY(d)k FZ(states.)g(It)c
(is)h(the)f(depth)f(TLC)j(has)e(reac)o(hed)e(in)i(its)208
2386 y(breadth-\014r)o(st)d(exploration)g(of)j(the)f(set)h(of)f
(states.)k(When)d(using)f(m)o(ultiple)e(threads)h(\(sp)q(eci\014ed)g
(with)i(the)208 2426 y FY(workers)j FZ(option\),)c(the)g(diameter)f
(TLC)k(rep)q(orts)d(ma)o(y)g(not)h(b)q(e)g(quite)f(correct.)p
Black Black Black eop
%%Page: 255 273
255 272 bop Black 208 275 a FR(14.5.)30 b(HO)o(W)14 b(TO)g(USE)g(TLC)
1213 b F4(255)p 208 282 1770 2 v Black Black Black 332
391 a FO(Estimates)20 b(of)h(the)h(probability)d(that)i(TLC)g(did)g
(not)h(check)e(all)332 441 y(reachable)g(states)h(because)f(two)h
(distinct)f(states)h(had)g(the)g(same)332 491 y(fingerprint:)376
541 y(calculated)e(\(optimistic\):)41 b(.000003)376 591
y(based)20 b(on)i(the)f(actual)g(fingerprints:)40 b(.00007)208
674 y F4(As)13 b(explained)f(on)h(page)g(244,)f(these)i(are)f(TLC's)g
(t)o(w)o(o)f(estimates)h(of)f(the)i(probabilit)o(y)d(of)h(a)208
723 y(\014ngerprin)o(t)i(collision.)i(Finally)m(,)c(TLC)h(prin)o(ts)i
(a)e(message)h(lik)o(e)p Black Black 332 806 a FO(2846)21
b(states)g(generated,)e(984)j(distinct)e(states)g(found,)332
856 y(0)i(states)e(left)h(on)h(queue.)332 906 y(The)f(state)g(graph)g
(has)g(diameter)f(15.)208 989 y F4(with)13 b(the)i(total)e(n)o(um)o(b)q
(er)g(of)g(states)i(and)f(the)g(diameter)g(of)f(the)h(state)h(graph.)
270 1039 y(While)e(TLC)h(is)f(running,)h(it)f(ma)o(y)f(also)h(prin)o(t)
h(a)g(message)f(suc)o(h)i(as)p Black Black Black Black
332 1122 a FO(--)21 b(Checkpointing)f(run)h(states/99-05-20-)o(15-47)o
(-55)e(completed)208 1205 y F4(This)13 b(indicates)g(that)h(it)f(has)g
(written)h(a)f(c)o(hec)o(kp)q(oin)o(t)h(that)f(y)o(ou)g(can)g(use)h(to)
f(restart)i(TLC)208 1255 y(in)d(the)i(ev)o(en)o(t)g(of)f(a)g(computer)g
(failure.)k(\(As)d(explained)g(in)e(Section)i(14.5.3)e(on)h(page)g
(260,)208 1305 y(c)o(hec)o(kp)q(oin)o(ts)h(ha)o(v)o(e)g(other)h(uses)g
(as)f(w)o(ell.\))j(The)d(run)h(iden)o(ti\014er)p Black
Black 332 1388 a FO(states/99-05-20-15)o(-47-5)o(5)208
1471 y F4(is)f(used)i(with)f(the)h FV(r)n(e)n(c)n(over)j
F4(option)14 b(to)h(restart)h(TLC)f(from)e(where)k(the)e(c)o(hec)o(kp)q
(oin)o(t)h(w)o(as)208 1520 y(tak)o(en.)35 b(If)19 b(only)g(part)g(of)g
(this)h(message)f(w)o(as)h(prin)o(ted|for)f(example,)g(b)q(ecause)i(y)o
(our)208 1570 y(computer)10 b(crashed)i(while)f(TLC)f(w)o(as)h(taking)f
(the)h(c)o(hec)o(kp)q(oin)o(t|there)i(is)d(a)h(sligh)o(t)f(c)o(hance)
208 1620 y(that)k(all)g(the)h(c)o(hec)o(kp)q(oin)o(ts)h(are)f
(corrupted)h(and)e(y)o(ou)g(m)o(ust)g(start)h(TLC)g(again)e(from)g(the)
208 1670 y(b)q(eginning.)208 1786 y FT(Error)18 b(Rep)r(orts)208
1863 y F4(The)13 b(\014rst)h(problems)e(y)o(ou)h(\014nd)g(in)g(y)o(our)
f(sp)q(eci\014cation)i(will)e(probably)g(b)q(e)i(syn)o(tax)f(errors.)
208 1913 y(TLC)g(rep)q(orts)j(them)d(with)p Black Black
332 1996 a FO(ParseException)19 b(in)i(parseSpec:)208
2079 y F4(follo)o(w)o(ed)11 b(b)o(y)i(the)h(error)g(message)f
(generated)h(b)o(y)f(the)h(Syn)o(tactic)f(Analyzer.)19
b(Chapter)13 b(12)208 2128 y(explains)k(ho)o(w)g(to)g(in)o(terpret)i
(the)f(analyzer's)g(error)g(messages.)29 b(Running)17
b(y)o(our)g(sp)q(eci-)208 2178 y(\014cation)g(through)h(the)g(analyzer)
g(as)g(y)o(ou)f(write)h(it)g(will)e(catc)o(h)i(a)g(lot)f(of)g(simple)g
(errors)208 2228 y(quic)o(kly)m(.)270 2278 y(As)f(explained)g(in)f
(Section)h(14.3.1)e(ab)q(o)o(v)o(e,)h(TLC)h(executes)i(three)f(basic)f
(phases.)25 b(In)208 2328 y(the)19 b(\014rst)h(phase,)h(it)d(c)o(hec)o
(ks)j(assumptions;)f(in)f(the)g(second,)i(it)e(computes)g(the)h
(initial)208 2377 y(states;)14 b(and)g(in)g(the)g(third,)g(it)f
(generates)j(the)f(successor)h(states)f(of)f(states)h(on)e(the)i(queue)
208 2427 y F0(U)h F4(of)11 b(unexplored)h(states.)19
b(Y)m(ou)11 b(can)i(tell)e(if)g(it)h(has)g(en)o(tered)i(the)e(third)g
(phase)h(b)o(y)f(whether)208 2477 y(or)h(not)h(it)g(has)g(prin)o(ted)g
(the)g(\\initial)e(states)j(computed")e(message.)p Black
Black eop
%%Page: 256 274
256 273 bop Black 208 275 a F4(256)814 b FR(CHAPTER)15
b(14.)31 b(THE)14 b(TLC)g(MODEL)g(CHECKER)p 208 282 1770
2 v Black 270 391 a F4(TLC's)e(most)f(straigh)o(tforw)o(ard)g(error)i
(rep)q(ort)g(o)q(ccurs)h(when)e(it)g(\014nds)g(that)h(one)f(of)f(the)
208 441 y(prop)q(erties)k(it)f(is)g(c)o(hec)o(king)h(do)q(es)f(not)h
(hold.)j(Supp)q(ose)d(w)o(e)f(in)o(tro)q(duce)h(an)f(error)h(in)o(to)f
(our)208 491 y(alternating)d(bit)h(sp)q(eci\014cation)g(\(Figure)h
(14.1)d(on)i(pages)g(223)g(and)f(224\))h(b)o(y)f(replacing)h(the)208
541 y(\014rst)i(conjunct)h(of)e(the)i(in)o(v)n(arian)o(t)d
FV(ABT)m(yp)n(eInv)18 b F4(with)p Black Black 332 614
a F0(^)c FV(msgQ)h F0(2)c FV(Se)n(q)t F4(\()p FV(Data)s
F4(\))208 688 y(TLC)i(quic)o(kly)g(\014nds)i(the)f(error)h(and)f(prin)o
(ts)p Black Black 332 762 a FO(Invariant)20 b(ABTypeInv)g(is)h
(violated)208 836 y F4(It)14 b(next)h(prin)o(ts)g(a)f(minim)o(al-)o
(length)779 821 y FS(3)809 836 y F4(b)q(eha)o(vior)h(that)f(leads)h(to)
f(the)h(state)g(not)g(satisfying)208 885 y(the)f(in)o(v)n(arian)o(t:)p
.95 TeXcolorgray .95 TeXcolorgray 1679 1101 307 237 v
.95 TeXcolorgray Black Black 1687 895 a FZ(Note)e(that)e(TLC)j(in-)1687
935 y(dicates)d(whic)o(h)h(part)1687 974 y(of)h(the)e(next-state)1687
1013 y(action)g(allo)o(ws)h(the)1687 1053 y(step)g(that)g(pro)q(duces)
1687 1092 y(eac)o(h)g(state.)p Black .95 TeXcolorgray
Black Black Black Black Black 332 959 a FO(The)21 b(behavior)f(up)i(to)
f(this)g(point)g(is:)332 1009 y(STATE)g(1:)g(<Initial)f(predicate>)332
1059 y(/\\)h(rBit)g(=)h(0)332 1109 y(/\\)f(sBit)g(=)h(0)332
1158 y(/\\)f(ackQ)g(=)h(<<)43 b(>>)332 1208 y(/\\)21
b(rcvd)g(=)h(d1)332 1258 y(/\\)f(sent)g(=)h(d1)332 1308
y(/\\)f(sAck)g(=)h(0)332 1358 y(/\\)f(msgQ)g(=)h(<<)43
b(>>)332 1457 y(STATE)21 b(2:)g(<Action)g(at)g(line)g(66)g(in)h
(AlternatingBit>)332 1507 y(/\\)f(rBit)g(=)h(0)332 1557
y(/\\)f(sBit)g(=)h(1)332 1607 y(/\\)f(ackQ)g(=)h(<<)43
b(>>)332 1657 y(/\\)21 b(rcvd)g(=)h(d1)332 1706 y(/\\)f(sent)g(=)h(d1)
332 1756 y(/\\)f(sAck)g(=)h(0)332 1806 y(/\\)f(msgQ)g(=)h(<<)f(<<)h(1,)
f(d1)h(>>)f(>>)208 1880 y F4(TLC)16 b(prin)o(ts)h(eac)o(h)h(state)f(as)
g(a)f(TLA)811 1865 y FS(+)849 1880 y F4(predicate)i(that)f(determines)g
(the)g(state.)28 b(When)208 1930 y(prin)o(ting)10 b(a)h(state,)h(TLC)f
(describ)q(es)i(functions)e(using)g(the)g(op)q(erators)h(:)p
FQ(>)f F4(and)g(@@)h(de\014ned)208 1979 y(in)h(the)h(TLC)g(mo)q(dule.)j
(\(See)e(Section)f(14.4)f(on)g(page)h(248.\))270 2029
y(The)c(hardest)i(errors)f(to)f(lo)q(cate)h(are)f(usually)g(the)g(ones)
h(detected)h(when)f(TLC)f(is)g(forced)208 2079 y(to)j(ev)n(aluate)h(an)
g(expression)h(that)f(it)g(can't)g(handle,)f(or)h(one)h(that)f(is)g
(\\silly")e(b)q(ecause)k(its)208 2129 y(v)n(alue)c(is)i(not)f(sp)q
(eci\014ed)i(b)o(y)e(the)h(seman)o(tics)f(of)g(TLA)1046
2114 y FS(+)1066 2129 y F4(.)18 b(As)c(an)f(example,)f(let's)h(in)o
(tro)q(duce)208 2179 y(a)k(t)o(ypical)g(\\o\013-b)o(y-one")g(error)i
(in)o(to)e(the)i(alternating)e(bit)g(proto)q(col)h(b)o(y)g(replacing)f
(the)208 2228 y(second)e(conjunct)f(in)f(the)i(de\014nition)e(of)h
FV(L)n(ose)j F4(with)p Black Black 332 2302 a F0(9)7
b FV(i)16 b F0(2)11 b F4(1)i FQ(:)7 b(:)13 b FV(L)n(en)s
F4(\()p FV(q)t F4(\))19 b(:)374 2352 y FV(q)397 2337
y FH(0)420 2352 y F4(=)11 b([)p FV(j)17 b F0(2)11 b F4(1)j
FQ(:)7 b(:)13 b F4(\()p FV(L)n(en)s F4(\()p FV(q)t F4(\))d
F0(\000)f F4(1\))j F0(7!)f FP(if)23 b FV(j)17 b FQ(<)12
b FV(i)25 b FP(then)f FV(q)t F4([)p FV(j)15 b F0(\000)9
b F4(1])1086 2402 y FP(else)36 b FV(q)t F4([)p FV(j)6
b F4(]])p Black 208 2439 576 2 v 254 2466 a FK(3)271
2477 y FZ(When)15 b(using)g(m)o(ultiple)e(threads,)i(it)g(is)h(p)q
(ossible,)e(though)g(unlik)o(ely)m(,)g(for)h(there)g(to)g(b)q(e)g(a)h
(shorter)208 2517 y(b)q(eha)o(vior)9 b(that)h(also)h(violates)e(the)i
(in)o(v)n(arian)o(t.)p Black Black Black eop
%%Page: 257 275
257 274 bop Black 208 275 a FR(14.5.)30 b(HO)o(W)14 b(TO)g(USE)g(TLC)
1213 b F4(257)p 208 282 1770 2 v Black 208 391 a(If)14
b FV(q)k F4(has)d(length)f(greater)i(than)e(1,)g(then)h(this)g
(de\014nes)h FV(L)n(ose)s F4(\()p FV(q)t F4(\)[1])e(to)g(equal)g
FV(q)t F4([0],)f(whic)o(h)208 441 y(is)k(a)f(nonsensical)i(v)n(alue)f
(if)f FV(q)21 b F4(is)c(a)g(sequence.)30 b(\(The)18 b(domain)d(of)h(a)h
(sequence)i FV(q)i F4(is)c(the)208 491 y(set)g(1)7 b
FQ(:)g(:)g(:)e FV(L)n(en)s F4(\()p FV(q)t F4(\),)18 b(whic)o(h)f(do)q
(es)g(not)g(con)o(tain)f(0.\))27 b(Running)16 b(TLC)g(pro)q(duces)j
(the)e(error)208 541 y(message)p Black Black Black Black
332 624 a FO(Error:)k(Applying)f(tuple)332 674 y(<<)h(<<)h(1,)f(d1)h
(>>,)f(<<)g(1,)h(d1)f(>>)g(>>)332 723 y(to)g(integer)g(0)g(which)g(is)h
(out)f(of)g(domain.)208 806 y F4(It)15 b(then)h(prin)o(ts)g(a)g(b)q
(eha)o(vior)f(leading)g(to)g(the)h(error.)24 b(TLC)16
b(\014nds)g(the)g(error)h(when)f(ev)n(al-)208 856 y(uating)f(the)i
(next-state)h(action)e(to)g(compute)g(the)h(successor)i(states)e(for)f
(some)g(state)h FV(s)s F4(,)208 906 y(and)12 b FV(s)j
F4(is)e(the)g(last)f(state)h(in)f(that)g(b)q(eha)o(vior.)18
b(Had)12 b(the)h(error)g(o)q(ccurred)h(when)f(ev)n(aluating)208
956 y(the)i(in)o(v)n(arian)o(t)f(or)h(the)h(implied-action,)c(TLC)j(w)o
(ould)f(ha)o(v)o(e)h(b)q(een)i(ev)n(aluating)d(it)g(on)h(the)208
1006 y(last)e(state)i(or)f(step)h(of)e(the)h(b)q(eha)o(vior.)270
1056 y(Finally)m(,)d(TLC)j(prin)o(ts)g(the)g(lo)q(cation)f(of)h(the)g
(error:)p Black Black Black Black 332 1126 a FO(The)21
b(error)g(occurred)f(when)h(TLC)g(was)g(evaluating)f(the)h(nested)332
1176 y(expressions)f(at)h(the)g(following)f(positions:)332
1226 y(0.)h(Line)g(57,)h(column)e(7)i(to)f(line)g(59,)g(column)g(60)g
(in)h(AlternatingBit)332 1276 y(1.)f(Line)g(58,)h(column)e(55)i(to)f
(line)g(58,)g(column)g(60)g(in)g(AlternatingBit)208 1351
y F4(The)c(\014rst)h(p)q(osition)f(iden)o(ti\014es)h(the)f(second)i
(conjunct)f(of)e(the)i(de\014nition)f(of)g FV(L)n(ose)s
F4(;)h(the)208 1401 y(second)d(iden)o(ti\014es)h(the)f(expression)h
FV(q)t F4([)p FV(j)f F0(\000)10 b F4(1].)20 b(This)14
b(tells)h(y)o(ou)f(that)h(the)g(error)h(o)q(ccurred)208
1451 y(while)c(TLC)i(w)o(as)f(ev)n(aluating)f FV(q)t
F4([)p FV(j)h F0(\000)8 b F4(1],)13 b(whic)o(h)g(it)g(w)o(as)g(doing)g
(as)g(part)h(of)e(the)i(ev)n(aluation)208 1501 y(of)c(the)i(second)h
(conjunct)f(of)f(the)h(de\014nition)f(of)g FV(L)n(ose)s
F4(.)17 b(Y)m(ou)11 b(m)o(ust)f(infer)i(from)d(the)j(prin)o(ted)208
1550 y(trace)17 b(that)g(it)f(w)o(as)g(ev)n(aluating)g(the)h
(de\014nition)f(of)g FV(L)n(ose)k F4(while)c(ev)n(aluating)f(the)i
(action)208 1600 y FV(L)n(oseMsg)t F4(.)g(In)c(general,)f(TLC)g(prin)o
(ts)h(a)f(tree)i(of)d(nested)j(expressions|higher-lev)o(el)f(ones)208
1650 y(\014rst.)31 b(It)18 b(seldom)f(lo)q(cates)h(the)h(error)g(as)f
(precisely)h(as)f(y)o(ou)g(w)o(ould)f(lik)o(e;)i(often)f(it)g(just)208
1700 y(narro)o(ws)13 b(it)g(do)o(wn)g(to)g(a)g(conjunct)h(or)g
(disjunct)f(of)g(a)g(form)o(ula.)i(Y)m(ou)e(ma)o(y)f(need)i(to)f
(insert)208 1750 y FV(Print)22 b F4(expressions)e(to)f(lo)q(cate)f(the)
i(problem.)31 b(See)20 b(the)f(discussion)g(on)g(page)f(259)g(for)208
1799 y(further)c(advice)g(on)g(lo)q(cating)f(errors.)208
1937 y F3(14.5.3)65 b(Hin)n(ts)23 b(on)f(Using)g(TLC)g(E\013ectiv)n
(ely)208 2036 y FT(Start)c(Small)208 2113 y F4(The)d(constrain)o(t)g
(and)g(the)g(assignmen)o(t)f(of)g(v)n(alues)h(to)f(the)i(constan)o(t)f
(parameters)g(de\014ne)208 2162 y(a)i(mo)q(del)f(of)h(the)h(sp)q
(eci\014cation.)31 b(Ho)o(w)17 b(long)g(it)g(tak)o(es)h(TLC)g(to)f(c)o
(hec)o(k)i(a)e(sp)q(eci\014cation)208 2212 y(dep)q(ends)f(on)e(the)i
(sp)q(eci\014cation)f(and)f(the)i(size)f(of)f(the)i(mo)q(del.)i
(Running)c(on)h(a)f(600MHz)208 2262 y(w)o(ork)g(station,)h(TLC)f
(\014nds)i(ab)q(out)f(700)f(distinct)h(reac)o(hable)h(states)g(p)q(er)g
(second)g(for)e(the)208 2312 y(alternating)f(bit)h(proto)q(col)g(sp)q
(eci\014cation.)19 b(F)m(or)14 b(some)f(sp)q(eci\014cations,)i(the)g
(time)e(it)g(tak)o(es)208 2362 y(TLC)i(to)g(generate)i(a)f(state)g(gro)
o(ws)f(with)h(the)g(size)g(of)f(the)h(mo)q(del;)f(it)g(can)h(also)f
(increase)208 2411 y(as)g(the)h(generated)g(states)g(b)q(ecome)f(more)g
(complicated.)20 b(F)m(or)15 b(some)f(sp)q(eci\014cations)j(run)208
2461 y(on)c(larger)h(mo)q(dels,)e(TLC)i(\014nds)g(few)o(er)h(than)f
(one)g(reac)o(hable)g(state)h(p)q(er)g(second.)p Black
Black eop
%%Page: 258 276
258 275 bop Black 208 275 a F4(258)814 b FR(CHAPTER)15
b(14.)31 b(THE)14 b(TLC)g(MODEL)g(CHECKER)p 208 282 1770
2 v Black 270 391 a F4(Y)m(ou)k(should)g(alw)o(a)o(ys)g(b)q(egin)g
(testing)h(a)f(sp)q(eci\014cation)i(with)e(a)g(tin)o(y)g(mo)q(del,)g
(whic)o(h)208 441 y(TLC)c(can)i(c)o(hec)o(k)g(quic)o(kly)m(.)j(Let)d
(sets)g(of)f(pro)q(cesses)i(and)e(of)f(data)h(v)n(alues)g(ha)o(v)o(e)f
(only)h(one)208 491 y(elemen)o(t;)g(let)h(queues)h(b)q(e)g(of)e(length)
h(one.)24 b(A)15 b(sp)q(eci\014cation)i(that)f(has)g(not)f(b)q(een)i
(tested)208 541 y(probably)12 b(has)h(lots)f(of)h(errors.)18
b(A)13 b(small)e(mo)q(del)g(will)h(quic)o(kly)g(catc)o(h)h(most)f(of)g
(the)h(simple)208 591 y(ones.)20 b(When)15 b(a)g(v)o(ery)f(small)f(mo)q
(del)g(rev)o(eals)i(no)f(more)g(errors,)i(y)o(ou)e(can)h(then)g(run)g
(TLC)208 640 y(with)e(larger)h(mo)q(dels)f(to)g(try)i(to)e(catc)o(h)i
(more)e(subtle)h(errors.)270 690 y(One)19 b(w)o(a)o(y)f(to)g(\014gure)h
(out)f(ho)o(w)g(large)h(a)f(mo)q(del)f(TLC)h(can)h(handle)f(is)g(to)g
(estimate)208 740 y(the)g(appro)o(ximate)f(n)o(um)o(b)q(er)g(of)h(reac)
o(hable)g(states)i(as)e(a)g(function)g(of)f(the)i(parameters.)208
790 y(Ho)o(w)o(ev)o(er,)h(this)g(can)f(b)q(e)h(hard.)35
b(If)19 b(y)o(ou)g(can't)g(do)g(it,)h(increase)h(the)f(mo)q(del)d(size)
k(v)o(ery)208 840 y(gradually)m(.)f(The)c(n)o(um)o(b)q(er)e(of)h(reac)o
(hable)h(states)g(is)f(t)o(ypically)f(an)h(exp)q(onen)o(tial)g
(function)208 889 y(of)f(the)h(mo)q(del's)f(parameters;)h(and)g(the)g
(v)n(alue)g(of)f FV(a)1044 874 y FJ(b)1079 889 y F4(gro)o(ws)h(v)o(ery)
g(fast)g(with)g(increasing)208 939 y(v)n(alues)e(of)g
FV(b)s F4(.)270 989 y(Man)o(y)k(systems)h(ha)o(v)o(e)f(errors)i(that)f
(will)e(sho)o(w)h(up)h(only)f(on)g(mo)q(dels)g(to)q(o)g(large)g(for)208
1039 y(TLC)f(to)g(c)o(hec)o(k)i(exhaustiv)o(ely)m(.)25
b(After)17 b(ha)o(ving)e(TLC)i(mo)q(del)d(c)o(hec)o(k)k(y)o(our)e(sp)q
(eci\014cation)208 1089 y(on)e(as)g(large)g(a)g(mo)q(del)e(as)j(y)o
(our)f(patience)h(allo)o(ws,)d(y)o(ou)i(can)g(run)h(it)f(in)g(sim)o
(ulation)d(mo)q(de)208 1139 y(on)17 b(larger)g(mo)q(dels.)28
b(Random)16 b(sim)o(ulation)e(is)k(not)f(an)h(e\013ectiv)o(e)h(w)o(a)o
(y)e(to)g(catc)o(h)h(subtle)208 1188 y(errors,)c(but)g(it's)g(w)o(orth)
g(trying;)f(y)o(ou)g(migh)o(t)f(get)i(luc)o(ky)m(.)208
1305 y FT(Be)k(Suspicious)g(of)h(Success)208 1381 y F4(Section)c
(14.3.5)e(on)i(page)g(247)f(explains)h(wh)o(y)g(y)o(ou)g(should)g(b)q
(e)g(suspicious)h(if)e(TLC)h(do)q(es)208 1431 y(not)i(\014nd)g(a)g
(violation)f(of)h(a)g(liv)o(eness)h(prop)q(ert)o(y;)h(the)f(\014nite)g
(mo)q(del)e(ma)o(y)f(mask)h(errors.)208 1481 y(Y)m(ou)d(should)g(also)h
(b)q(e)g(suspicious)g(if)f(TLC)h(\014nds)g(no)g(error)h(when)f(c)o(hec)
o(king)g(safet)o(y)g(prop-)208 1531 y(erties.)22 b(It's)15
b(v)o(ery)h(easy)f(to)g(satisfy)g(a)f(safet)o(y)i(prop)q(ert)o(y)f(b)o
(y)g(simply)e(doing)h(nothing.)21 b(F)m(or)208 1580 y(example,)11
b(supp)q(ose)k(w)o(e)f(forgot)f(to)g(include)h(the)g
FV(SndNewV)m(alue)j F4(action)c(in)g(the)h(alternat-)208
1630 y(ing)g(bit)h(proto)q(col)g(sp)q(eci\014cation's)g(next-state)i
(action.)k(The)15 b(sender)i(w)o(ould)d(then)i(nev)o(er)208
1680 y(try)i(to)f(send)i(an)o(y)f(v)n(alues.)29 b(But)19
b(the)f(resulting)g(sp)q(eci\014cation)h(w)o(ould)e(still)g(satisfy)g
(the)208 1730 y(proto)q(col's)g(correctness)j(condition,)d(form)o(ula)e
FV(ABCSp)n(e)n(c)20 b F4(of)d(mo)q(dule)f FV(ABCorr)n(e)n(ctness)s
F4(.)208 1780 y(\(The)e(sp)q(eci\014cation)h(do)q(esn't)f(require)h
(that)f(v)n(alues)f(m)o(ust)g(b)q(e)i(sen)o(t.\))270
1829 y(The)g FV(c)n(over)n(age)k F4(option)14 b(describ)q(ed)j(on)e
(page)g(252)f(pro)o(vides)i(one)f(w)o(a)o(y)f(to)h(catc)o(h)h(suc)o(h)
208 1879 y(problems.)32 b(Another)20 b(w)o(a)o(y)e(is)h(to)g(mak)o(e)e
(sure)j(that)f(TLC)g(\014nds)h(errors)g(in)e(prop)q(erties)208
1929 y(that)c(should)h(b)q(e)g(violated.)k(F)m(or)14
b(example,)f(if)h(the)h(alternating)f(bit)h(proto)q(col)f(is)h(sending)
208 1979 y(messages,)j(then)h(the)g(v)n(alue)f(of)f FV(sent)23
b F4(should)18 b(c)o(hange.)31 b(Y)m(ou)18 b(can)g(v)o(erify)g(that)g
(it)g(do)q(es)208 2029 y(c)o(hange)c(b)o(y)f(c)o(hec)o(king)i(that)f
(TLC)f(rep)q(orts)j(a)d(violation)f(of)h(the)i(prop)q(ert)o(y)p
Black Black 332 2112 a F0(8)7 b FV(d)16 b F0(2)11 b FV(Data)23
b F4(:)17 b(\()p FV(sent)f F4(=)c FV(d)t F4(\))g F0(\))f
FG(2)p F4(\()p FV(sent)16 b F4(=)c FV(d)t F4(\))270 2195
y(A)h(go)q(o)q(d)g(sanit)o(y)g(c)o(hec)o(k)h(is)g(to)f(v)o(erify)g
(that)g(TLC)g(\014nds)h(states)h(that)e(are)h(reac)o(hed)h(only)208
2245 y(b)o(y)9 b(p)q(erforming)g(a)h(n)o(um)o(b)q(er)f(of)h(op)q
(erations.)17 b(F)m(or)10 b(example,)f(the)h(cac)o(hing)g(memory)e(sp)q
(eci\014-)208 2294 y(cation)i(of)g(Section)i(5.6)e(should)g(ha)o(v)o(e)
h(reac)o(hable)g(states)i(in)d(whic)o(h)h(a)f(particular)h(pro)q
(cessor)208 2344 y(has)k(b)q(oth)g(a)g(read)h(and)f(t)o(w)o(o)g(write)h
(op)q(erations)f(in)g(the)h FV(memQ)j F4(queue.)k(Reac)o(hing)15
b(suc)o(h)208 2394 y(a)f(state)h(requires)g(a)g(pro)q(cessor)h(to)e(p)q
(erform)g(t)o(w)o(o)g(writes)h(follo)o(w)o(ed)d(b)o(y)j(a)f(read)h(to)f
(an)g(un-)208 2444 y(cac)o(hed)e(address.)19 b(W)m(e)11
b(can)h(v)o(erify)f(that)h(suc)o(h)g(a)g(state)g(is)g(reac)o(hable)g(b)
o(y)g(ha)o(ving)e(TLC)i(\014nd)208 2494 y(a)h(violation)f(of)h(an)h(in)
o(v)n(arian)o(t)e(declaring)i(that)g(there)h(aren't)f(a)g(read)g(and)g
(t)o(w)o(o)g(writes)g(for)p Black Black eop
%%Page: 259 277
259 276 bop Black 208 275 a FR(14.5.)30 b(HO)o(W)14 b(TO)g(USE)g(TLC)
1213 b F4(259)p 208 282 1770 2 v Black 208 391 a(the)13
b(same)e(pro)q(cessor)j(in)e FV(memQ)t F4(.)17 b(\(Of)c(course,)g(this)
g(requires)g(a)f(mo)q(del)f(in)h(whic)o(h)g FV(memQ)208
441 y F4(can)f(b)q(e)h(large)f(enough.\))18 b(Another)12
b(w)o(a)o(y)f(to)g(c)o(hec)o(k)h(that)g(certain)g(states)g(are)g(reac)o
(hed)h(is)e(b)o(y)208 491 y(using)j(the)i FV(Print)i
F4(op)q(erator)e(inside)f(an)g FP(if)p F4(/)p FP(then)g
F4(expression)h(in)f(an)g(in)o(v)n(arian)o(t)e(to)i(prin)o(t)208
541 y(a)e(message)h(when)g(a)g(suitable)f(state)i(is)f(reac)o(hed.)208
657 y FT(Let)j(TLC)i(Help)f(Y)-5 b(ou)19 b(Figure)f(Out)h(What)g(W)-5
b(en)n(t)19 b(W)-5 b(rong)208 733 y F4(When)17 b(TLC)f(rep)q(orts)j
(that)e(an)f(in)o(v)n(arian)o(t)g(is)h(violated,)f(it)g(ma)o(y)f(not)i
(b)q(e)h(ob)o(vious)e(what)208 783 y(part)i(of)f(the)i(in)o(v)n(arian)o
(t)d(is)i(false.)30 b(If)18 b(y)o(ou)f(giv)o(e)h(separate)h(names)e(to)
h(the)g(conjuncts)h(of)208 833 y(y)o(our)g(in)o(v)n(arian)o(t)e(and)i
(list)g(them)f(separately)i(in)f(the)h(con\014guration)f(\014le's)g
FO(INVARIANT)208 883 y F4(statemen)o(t,)14 b(TLC)h(will)e(tell)i(y)o
(ou)f(whic)o(h)h(conjunct)h(is)f(false.)21 b(Ho)o(w)o(ev)o(er,)15
b(it)f(ma)o(y)f(b)q(e)j(hard)208 933 y(to)11 b(see)i(wh)o(y)f(ev)o(en)h
(an)e(individual)f(conjunct)j(is)f(false.)17 b(Instead)12
b(of)g(sp)q(ending)g(a)g(lot)f(of)g(time)208 982 y(trying)16
b(to)g(\014gure)h(it)f(out)h(b)o(y)f(y)o(ourself,)g(it's)g(easier)i(to)
e(add)g FV(Print)k F4(expressions)e(and)f(let)208 1032
y(TLC)c(tell)h(y)o(ou)f(what's)h(going)f(wrong.)270 1082
y(If)g(y)o(ou)h(rerun)h(TLC)e(from)f(the)j(b)q(eginning)e(with)h(a)f
(lot)g(of)h FV(Print)j F4(expressions,)e(it)e(will)208
1132 y(prin)o(t)h(output)h(for)g(ev)o(ery)h(state)f(it)g(c)o(hec)o(ks.)
22 b(Instead,)16 b(y)o(ou)e(should)h(start)g(TLC)g(from)e(the)208
1182 y(state)18 b(in)f(whic)o(h)g(the)h(in)o(v)n(arian)o(t)d(is)j
(false.)28 b(De\014ne)18 b(a)f(predicate,)i(sa)o(y)e
FV(Err)n(orState)s F4(,)g(that)208 1231 y(describ)q(es)g(this)e(state,)
i(and)e(mo)q(dify)e(the)j(con\014guration)f(\014le)g(to)g(use)h
FV(Err)n(orState)i F4(as)d(the)208 1281 y(initial)10
b(predicate.)18 b(W)m(riting)11 b(the)i(de\014nition)f(of)f
FV(Err)n(orState)k F4(is)d(easy|just)g(cop)o(y)g(the)h(last)208
1331 y(state)h(in)g(TLC's)f(error)i(trace.)688 1316 y
FS(4)270 1381 y F4(Y)m(ou)9 b(can)h(use)g(the)g(same)f(tric)o(k)h(if)f
(an)o(y)g(safet)o(y)h(prop)q(ert)o(y)g(is)g(violated,)f(or)g(if)g(TLC)g
(rep)q(orts)208 1431 y(an)16 b(error)i(when)f(ev)n(aluating)f(the)h
(next-state)h(action.)26 b(F)m(or)17 b(an)f(error)i(in)e(a)h(prop)q
(ert)o(y)g(of)208 1480 y(the)c(form)e FG(2)p F4([)p FV(A)p
F4(])461 1486 y FJ(v)481 1480 y F4(,)i(rerun)h(TLC)f(using)g(the)g
(next-to-last)g(state)h(in)f(the)g(error)h(trace)g(as)f(the)208
1530 y(initial)g(predicate,)j(and)e(using)h(the)h(last)f(state)g(in)g
(the)h(trace,)f(with)g(the)h(v)n(ariable)e(names)208
1580 y(primed,)f(as)i(the)g(next-state)h(action.)k(T)m(o)14
b(\014nd)h(an)f(error)i(that)f(o)q(ccurs)h(when)f(ev)n(aluating)208
1630 y(the)d(next-state)g(action,)f(use)i(the)f(last)f(state)h(in)f
(the)h(error)h(trace)f(as)g(the)g(initial)d(predicate.)208
1680 y(\(In)k(this)g(case,)h(TLC)f(ma)o(y)e(\014nd)i(sev)o(eral)h
(successor)i(states)e(b)q(efore)g(rep)q(orting)f(the)h(error.\))270
1730 y(If)h(y)o(ou)h(ha)o(v)o(e)f(in)o(tro)q(duced)i(mo)q(del)d(v)n
(alues)i(in)f(the)i(con\014guration)e(\014le,)h(they)h(will)d(un-)208
1779 y(doubtedly)j(app)q(ear)g(in)g(the)h(states)g(prin)o(ted)g(b)o(y)f
(TLC.)27 b(So,)17 b(if)g(y)o(ou)f(are)i(to)f(cop)o(y)g(those)208
1829 y(states)h(in)o(to)e(the)h(mo)q(dule,)f(y)o(ou)g(will)g(ha)o(v)o
(e)g(to)h(declare)h(the)f(mo)q(del)f(v)n(alues)g(as)h(constan)o(t)208
1879 y(parameters)d(and)g(then)h(assign)f(to)g(eac)o(h)h(of)f(these)i
(parameters)e(the)h(mo)q(del)e(v)n(alue)h(of)f(the)208
1929 y(same)19 b(name.)34 b(F)m(or)20 b(example,)g(the)g
(con\014guration)g(\014le)f(w)o(e)i(used)f(for)g(the)g(alternating)208
1979 y(bit)15 b(proto)q(col)h(in)o(tro)q(duces)h(mo)q(del)d(v)n(alues)i
FV(d)t F4(1)g(and)g FV(d)t F4(2.)24 b(So,)16 b(w)o(e)g(w)o(ould)f(add)h
(to)f(mo)q(dule)208 2028 y FV(MCA)o(lternatingBit)h F4(the)f
(declaration)p Black Black 332 2110 a FP(const)m(ants)h
FV(d)t F4(1)p FQ(;)j FV(d)t F4(2)208 2192 y(and)13 b(add)h(to)g(the)g
FO(CONSTANT)e F4(statemen)o(t)i(of)f(the)i(con\014guration)e(\014le)h
(the)h(assignmen)o(ts)p Black Black 332 2273 a FO(d1)21
b(=)h(d1)87 b(d2)21 b(=)h(d2)208 2355 y F4(whic)o(h)12
b(assign)g(to)g(the)h(constan)o(t)g(parameters)g FV(d)t
F4(1)g(and)f FV(d)t F4(2)g(the)h(mo)q(del)e(v)n(alues)i
FO(d1)f F4(and)g FO(d2)p F4(,)208 2405 y(resp)q(ectiv)o(ely)m(.)p
Black 208 2439 576 2 v 254 2466 a FK(4)271 2477 y FZ(De\014ning)c
FY(Err)n(orState)14 b FZ(is)c(not)f(so)h(easy)g(if)g(y)o(ou)f(use)g
(the)h FY(di\013tr)n(ac)n(e)k FZ(option,)8 b(whic)o(h)i(is)g(a)g
(reason)e(for)i(not)208 2517 y(using)g(that)g(option.)p
Black Black Black eop
%%Page: 260 278
260 277 bop Black 208 275 a F4(260)814 b FR(CHAPTER)15
b(14.)31 b(THE)14 b(TLC)g(MODEL)g(CHECKER)p 208 282 1770
2 v Black 208 391 a FT(Don't)k(Start)g(Ov)n(er)g(After)h(Ev)n(ery)e
(Error)208 468 y F4(After)e(y)o(ou'v)o(e)f(eliminated)f(the)i(errors)i
(that)e(are)g(easy)g(to)g(\014nd,)g(TLC)f(ma)o(y)f(ha)o(v)o(e)i(to)g
(run)208 518 y(for)f(a)h(long)g(time)f(b)q(efore)i(\014nding)e(an)h
(error.)23 b(V)m(ery)16 b(often,)f(it)g(tak)o(es)h(more)e(than)h(one)h
(try)208 568 y(to)11 b(\014x)h(an)g(error)h(prop)q(erly)m(.)18
b(If)11 b(y)o(ou)h(start)g(TLC)g(from)f(the)h(b)q(eginning)g(after)g
(correcting)h(an)208 617 y(error,)j(it)f(ma)o(y)f(run)i(for)f(a)g(long)
g(time)f(only)h(to)h(rep)q(ort)g(that)g(y)o(ou)f(made)g(a)g(silly)f
(mistak)o(e)208 667 y(in)f(the)h(correction.)19 b(If)13
b(the)i(error)f(w)o(as)g(disco)o(v)o(ered)h(when)f(taking)f(a)g(step)i
(from)d(a)h(correct)208 717 y(state,)h(then)g(it's)g(a)f(go)q(o)q(d)h
(idea)f(to)h(c)o(hec)o(k)h(y)o(our)f(correction)g(b)o(y)g(starting)g
(TLC)g(from)e(that)208 767 y(state.)22 b(As)15 b(explained)g(ab)q(o)o
(v)o(e,)f(y)o(ou)h(do)g(this)g(b)o(y)g(de\014ning)g(a)f(new)i(initial)d
(predicate)j(that)208 817 y(equals)d(the)i(state)g(prin)o(ted)f(b)o(y)g
(TLC.)270 866 y(Another)g(w)o(a)o(y)f(to)h(a)o(v)o(oid)e(starting)h
(from)f(scratc)o(h)j(after)f(an)f(error)i(is)e(b)o(y)h(using)f(c)o(hec)
o(k-)208 916 y(p)q(oin)o(ts.)k(A)12 b(c)o(hec)o(kp)q(oin)o(t)g(sa)o(v)o
(es)g(the)h(curren)o(t)g(state)f(graph)g F0(G)i F4(and)e(queue)g
F0(U)k F4(of)11 b(unexplored)208 966 y(states.)19 b(It)14
b(do)q(es)g(not)g(sa)o(v)o(e)g(an)o(y)g(other)g(information)d(ab)q(out)
j(the)h(sp)q(eci\014cation.)j(Y)m(ou)c(can)208 1016 y(restart)k(TLC)f
(from)f(a)h(c)o(hec)o(kp)q(oin)o(t)h(ev)o(en)g(if)e(y)o(ou)h(ha)o(v)o
(e)g(c)o(hanged)h(the)f(sp)q(eci\014cation,)i(as)208
1066 y(long)11 b(as)h(the)g(sp)q(eci\014cation's)h(v)n(ariables)e(and)h
(the)h(v)n(alues)f(that)g(they)g(can)h(assume)e(ha)o(v)o(en't)208
1116 y(c)o(hanged.)22 b(More)16 b(precisely)m(,)f(y)o(ou)g(can)g
(restart)i(from)c(a)i(c)o(hec)o(kp)q(oin)o(t)h(i\013)f(the)h(view)f(of)
f(an)o(y)p .95 TeXcolorgray .95 TeXcolorgray 1679 1288
307 204 v .95 TeXcolorgray Black Black 41 w FZ(The)e(view)f(and)1687
1155 y(symmetry)e(set)i(are)1687 1194 y(de\014ned)f(in)h(Sections)1687
1234 y(14.3.3)f(and)h(14.3.4,)1687 1273 y(resp)q(ectiv)o(ely)m(.)p
Black .95 TeXcolorgray Black 208 1165 a F4(state)18 b(computed)e(b)q
(efore)j(the)e(c)o(hec)o(kp)q(oin)o(t)h(has)g(not)f(c)o(hanged)g(and)h
(the)f(symmetry)f(set)208 1215 y(is)h(the)i(same.)29
b(When)18 b(y)o(ou)g(correct)h(an)f(error)h(that)f(TLC)f(found)h(after)
g(running)g(for)f(a)208 1265 y(long)12 b(time,)g(y)o(ou)h(ma)o(y)f(w)o
(an)o(t)h(to)h(use)g(the)h FV(r)n(e)n(c)n(over)i F4(option)c(\(page)h
(252\))f(to)g(con)o(tin)o(ue)h(TLC)208 1315 y(from)c(the)j(last)f(c)o
(hec)o(kp)q(oin)o(t)g(instead)h(of)e(ha)o(ving)g(it)h(rec)o(hec)o(k)i
(all)d(the)i(states)g(it)f(has)g(already)208 1365 y(c)o(hec)o(k)o(ed.)
357 1350 y FS(5)208 1481 y FT(Chec)n(k)18 b(Ev)n(erything)g(Y)-5
b(ou)19 b(Can)208 1557 y F4(V)m(erify)f(that)h(y)o(our)g(sp)q
(eci\014cation)h(satis\014es)h(all)d(the)h(prop)q(erties)i(y)o(ou)e
(think)g(it)g(should.)208 1607 y(F)m(or)e(example,)g(y)o(ou)h
(shouldn't)f(b)q(e)i(con)o(ten)o(t)g(to)e(c)o(hec)o(k)i(that)f(the)h
(alternating)e(bit)h(pro-)208 1657 y(to)q(col)i(sp)q(eci\014cation)h
(satis\014es)g(the)g(higher-lev)o(el)f(sp)q(eci\014cation)i
FV(ABCSp)n(e)n(c)g F4(of)e(mo)q(dule)208 1707 y FV(ABCorr)n(e)n(ctness)
s F4(.)d(Y)m(ou)c(should)g(also)g(c)o(hec)o(k)i(lo)o(w)o(er-lev)o(el)d
(prop)q(erties)j(that)f(y)o(ou)f(exp)q(ect)i(it)208 1757
y(to)e(satisfy)m(.)18 b(One)d(suc)o(h)f(prop)q(ert)o(y)m(,)g(rev)o
(ealed)h(b)o(y)f(studying)f(the)i(algorithm,)c(is)j(that)g(there)208
1806 y(should)h(nev)o(er)i(b)q(e)f(more)f(than)h(t)o(w)o(o)f
(di\013eren)o(t)i(messages)f(in)f(the)i FV(msgQ)i F4(queue.)25
b(So,)16 b(w)o(e)208 1856 y(can)e(c)o(hec)o(k)h(that)e(the)i(follo)o
(wing)c(predicate)k(is)f(an)g(in)o(v)n(arian)o(t:)p Black
Black 332 1939 a FV(Car)n(dinality)t F4(\()7 b F0(f)p
FV(msgQ)t F4([)p FV(i)t F4(])16 b(:)i FV(i)d F0(2)d F4(1)h
FQ(:)7 b(:)13 b FV(L)n(en)s F4(\()p FV(msgQ)t F4(\))7
b F0(g)g F4(\))12 b F0(\024)g F4(2)208 2022 y(\(W)m(e)19
b(m)o(ust)g(add)g(the)i(de\014nition)e(of)g FV(Car)n(dinality)k
F4(to)c(mo)q(dule)f FV(MCA)o(lternatingBit)23 b F4(b)o(y)208
2072 y(adding)13 b FV(FiniteSets)k F4(to)d(its)f FP(extends)i
F4(statemen)o(t.\))270 2122 y(It's)h(a)g(go)q(o)q(d)f(idea)h(to)g(c)o
(hec)o(k)h(as)f(man)o(y)e(in)o(v)n(ariance)h(prop)q(erties)j(as)e(y)o
(ou)f(can.)25 b(If)15 b(y)o(ou)208 2172 y(think)i(that)i(some)e(state)i
(predicate)g(should)g(b)q(e)f(an)g(in)o(v)n(arian)o(t,)g(let)g(TLC)g
(test)h(if)f(it)f(is.)208 2222 y(Disco)o(v)o(ering)12
b(that)i(the)f(predicate)i(isn't)e(an)g(in)o(v)n(arian)o(t)e(ma)o(y)g
(not)j(rev)o(eal)f(an)g(error,)h(but)f(it)208 2271 y(will)f(probably)h
(teac)o(h)i(y)o(ou)e(something)g(ab)q(out)g(y)o(our)h(sp)q
(eci\014cation.)p Black 208 2306 576 2 v 254 2333 a FK(5)271
2345 y FZ(Some)8 b(states)g(in)h(the)g(graph)f FW(G)j
FZ(ma)o(y)e(not)f(b)q(e)h(sa)o(v)o(ed)f(b)o(y)h(a)g(c)o(hec)o(kp)q(oin)
o(t;)e(they)h(will)i(b)q(e)f(rec)o(hec)o(k)o(ed)e(when)208
2384 y(restarting)i(from)h(the)h(c)o(hec)o(kp)q(oin)o(t)o(.)p
Black Black Black eop
%%Page: 261 279
261 278 bop Black 208 275 a FR(14.5.)30 b(HO)o(W)14 b(TO)g(USE)g(TLC)
1213 b F4(261)p 208 282 1770 2 v Black 208 391 a FT(Be)18
b(Creativ)n(e)208 468 y F4(Ev)o(en)12 b(if)f(a)h(sp)q(eci\014cation)g
(seems)g(to)g(lie)f(outside)i(the)f(realm)f(of)g(what)h(it)f(can)h
(handle,)g(TLC)208 518 y(ma)o(y)g(b)q(e)j(able)g(to)f(help)g(c)o(hec)o
(k)i(it.)j(F)m(or)c(example,)e(supp)q(ose)i(a)f(sp)q(eci\014cation's)i
(next-state)208 568 y(action)c(has)g(the)i(form)c F0(9)d
FV(n)15 b F0(2)d FV(Nat)22 b F4(:)c FV(A)p F4(\()p FV(n)s
F4(\).)g(TLC)12 b(cannot)h(ev)n(aluate)f(quan)o(ti\014cation)g(o)o(v)o
(er)208 617 y(an)i(in\014nite)h(set,)h(so)f(it)g(apparen)o(tly)g(can't)
g(deal)g(with)g(this)g(sp)q(eci\014cation.)22 b(Ho)o(w)o(ev)o(er,)16
b(w)o(e)208 667 y(can)g(enable)h(TLC)f(to)g(ev)n(aluate)g(the)h(quan)o
(ti\014ed)f(form)o(ula)e(b)o(y)i(using)g(the)h(con\014guration)208
717 y(\014le's)d FO(CONSTANT)g F4(statemen)o(t)h(to)f(replace)i
FV(Nat)j F4(with)c(the)g(\014nite)h(set)f(0)f FQ(:)7
b(:)13 b FV(n)s F4(,)i(for)g(some)f FV(n)s F4(.)p .95
TeXcolorgray .95 TeXcolorgray 1679 804 307 119 v .95
TeXcolorgray Black Black 41 w FZ(Replacemen)o(t)9 b(is)1687
756 y(explained)g(in)i(Sec-)1687 796 y(tion)g(14.2.3.)p
Black .95 TeXcolorgray Black 208 767 a F4(This)16 b(replacemen)o(t)g
(profoundly)f(c)o(hanges)i(the)g(sp)q(eci\014cation's)g(meaning.)23
b(Ho)o(w)o(ev)o(er,)16 b(it)208 817 y(migh)o(t)c(nonetheless)k(allo)o
(w)d(TLC)h(to)g(rev)o(eal)h(errors)h(in)e(the)h(sp)q(eci\014cation.)20
b(Nev)o(er)c(forget)208 866 y(that)d(y)o(our)h(ob)r(jectiv)o(e)h(in)e
(using)h(TLC)f(is)h(not)g(to)f(v)o(erify)h(that)g(a)f(sp)q
(eci\014cation)i(is)f(correct;)208 916 y(it's)f(to)h(\014nd)g(errors.)
208 1032 y FT(Use)k(TLC)h(as)g(a)g(TLA)678 1014 y FZ(+)718
1032 y FT(Calculator)208 1109 y F4(Misunderstanding)13
b(some)f(asp)q(ect)i(of)e(TLA)908 1094 y FS(+)942 1109
y F4(can)h(lead)g(to)f(errors)j(in)d(y)o(our)h(sp)q(eci\014cation.)208
1159 y(Use)f(TLC)e(to)h(c)o(hec)o(k)h(y)o(our)f(understanding)h(of)e
(TLA)1031 1144 y FS(+)1063 1159 y F4(b)o(y)h(running)g(it)g(on)f(small)
f(examples.)208 1209 y(TLC)14 b(c)o(hec)o(ks)j(assumptions,)c(so)i(y)o
(ou)g(can)g(turn)h(it)e(in)o(to)g(a)h(TLA)1239 1194 y
FS(+)1275 1209 y F4(calculator)f(b)o(y)h(ha)o(ving)208
1259 y(it)e(c)o(hec)o(k)h(a)f(mo)q(dule)f(with)h(no)h(sp)q
(eci\014cation,)f(only)g FP(assume)h F4(statemen)o(ts.)19
b(F)m(or)13 b(example,)208 1308 y(if)g FV(g)k F4(equals)p
Black Black 332 1391 a([)p FV(f)24 b FP(ex)o(cept)19
b F4(!)s([)p FV(d)t F4(])11 b(=)h FV(e)684 1397 y FS(1)703
1391 y FQ(;)21 b F4(!)s([)p FV(d)t F4(])11 b(=)h FV(e)877
1397 y FS(2)896 1391 y F4(])208 1474 y(what)20 b(is)g(the)i(v)n(alue)e
(of)g FV(g)t F4([)p FV(d)t F4(]?)37 b(Y)m(ou)20 b(can)h(ask)f(TLC)h(b)o
(y)f(letting)g(it)g(c)o(hec)o(k)i(a)e(mo)q(dule)208 1524
y(con)o(taining)p Black Black 332 1611 a FP(assume)31
b(let)23 b FV(f)658 1588 y FI(\001)653 1611 y F4(=)35
b([)p FV(i)15 b F0(2)c F4(1)j FQ(:)7 b(:)12 b F4(10)f
F0(7!)g F4(1])597 1671 y FV(g)659 1648 y FI(\001)654
1671 y F4(=)35 b([)p FV(f)24 b FP(ex)o(cept)19 b F4(!)s([2])10
b(=)i(3)p FQ(;)21 b F4(!)s([2])11 b(=)g(4])505 1733 y
FP(in)54 b FV(Print)t F4(\()p FV(g)t F4([2])p FQ(;)11
b FP(tr)o(ue)q F4(\))208 1816 y(Y)m(ou)i(can)h(ha)o(v)o(e)g(it)f(v)o
(erify)h(that)g(\()p FV(F)j F0(\))11 b FV(G)t F4(\))g
F0(\021)h F4(\()p F0(:)p FV(F)j F0(_)9 b FV(G)t F4(\))k(is)h(a)g
(tautology)e(b)o(y)i(c)o(hec)o(king)p Black Black 332
1899 a FP(assume)31 b F0(8)7 b FV(F)f FQ(;)13 b FV(G)i
F0(2)c FP(boolean)21 b F4(:)d(\()p FV(F)f F0(\))11 b
FV(G)t F4(\))h F0(\021)f F4(\()p F0(:)p FV(F)k F0(_)9
b FV(G)t F4(\))208 1982 y(TLC)g(can)h(ev)o(en)h(lo)q(ok)d(for)i(coun)o
(terexamples)g(to)f(a)h(conjecture.)18 b(Can)10 b(ev)o(ery)g(set)h(b)q
(e)f(written)208 2032 y(as)k(the)g(disjunction)g(of)f(t)o(w)o(o)g
(di\013eren)o(t)i(sets?)k(Chec)o(k)c(it)f(for)f(all)g(subsets)i(of)f(1)
f FQ(:)7 b(:)13 b F4(4)h(with)p Black Black 332 2115
a FP(assume)31 b F0(8)7 b FV(S)16 b F0(2)c FP(subset)d
F4(\(1)14 b FQ(:)7 b(:)13 b F4(4\))18 b(:)546 2168 y
FP(if)23 b F0(9)7 b FV(T)f FQ(;)h FV(U)17 b F0(2)11 b
FP(subset)f F4(\(1)j FQ(:)7 b(:)13 b F4(4\))19 b(:)f(\()p
FV(T)f F0(6)p F4(=)11 b FV(U)c F4(\))i F0(^)g F4(\()p
FV(S)17 b F4(=)12 b FV(T)j F0([)8 b FV(U)f F4(\))579
2221 y FP(then)24 b(tr)o(ue)579 2275 y(else)36 b FV(Print)t
F4(\()p FV(S)5 b FQ(;)13 b FP(tr)o(ue)p F4(\))208 2356
y(When)i(TLC)f(is)h(run)g(just)g(to)g(c)o(hec)o(k)g(assumptions,)f(it)h
(ma)o(y)d(need)k(no)f(information)d(from)208 2406 y(the)g
(con\014guration)g(\014le.)18 b(But)13 b(y)o(ou)f(m)o(ust)f(pro)o(vide)
h(a)g(con\014guration)g(\014le,)g(ev)o(en)h(if)f(that)g(\014le)208
2455 y(is)h(empt)o(y)m(.)p Black Black eop
%%Page: 262 280
262 279 bop Black 208 275 a F4(262)814 b FR(CHAPTER)15
b(14.)31 b(THE)14 b(TLC)g(MODEL)g(CHECKER)p 208 282 1770
2 v Black 208 400 a FN(14.6)82 b(What)27 b(TLC)h(Do)r(esn't)g(Do)208
491 y F4(W)m(e)10 b(w)o(ould)g(lik)o(e)g(TLC)h(to)f(generate)j(all)c
(the)j(b)q(eha)o(viors)f(that)f(satisfy)h(a)g(sp)q(eci\014cation.)17
b(But)208 540 y(no)12 b(program)g(can)h(do)g(this)g(for)f(an)h
(arbitrary)g(sp)q(eci\014cation.)19 b(I)12 b(ha)o(v)o(e)h(already)g
(men)o(tioned)208 590 y(some)f(limitati)o(ons)e(of)j(TLC.)k(There)d
(are)f(other)h(limitatio)o(ns)d(that)h(y)o(ou)h(ma)o(y)e(stum)o(ble)h
(on.)208 640 y(One)18 b(of)f(them)g(is)h(that)g(the)g(Ja)o(v)n(a)f
(classes)i(that)f(o)o(v)o(erride)g(the)h FV(Natur)n(als)h
F4(and)e FV(Inte)n(gers)208 690 y F4(mo)q(dules)13 b(handle)h(only)f(n)
o(um)o(b)q(ers)h(in)g(the)g(in)o(terv)n(al)g F0(\000)p
F4(2)1088 675 y FS(31)1130 690 y FQ(:)7 b(:)13 b F4(\(2)1211
675 y FS(31)1255 690 y F0(\000)d F4(1\);)j(TLC)i(rep)q(orts)g(an)208
740 y(error)f(if)f(an)o(y)h(computation)e(generates)k(a)d(v)n(alue)g
(outside)i(this)f(in)o(terv)n(al.)270 789 y(TLC)f(can't)g(generate)h
(all)e(b)q(eha)o(viors)h(satisfying)f(an)h(arbitrary)g(sp)q
(eci\014cation,)g(but)g(it)208 839 y(migh)o(t)h(ac)o(hiev)o(e)j(the)g
(easier)g(goal)e(of)h(ensuring)h(that)f(ev)o(ery)h(b)q(eha)o(vior)f(it)
g(do)q(es)i(generate)208 889 y(satis\014es)12 b(the)g(sp)q
(eci\014cation.)17 b(Ho)o(w)o(ev)o(er,)12 b(for)f(reasons)h(of)f
(e\016ciency)m(,)g(TLC)g(do)q(esn't)h(alw)o(a)o(ys)208
939 y(meet)h(this)h(goal.)j(It)d(deviates)g(from)e(the)j(seman)o(tics)e
(of)h(TLA)1192 924 y FS(+)1226 939 y F4(in)g(t)o(w)o(o)f(w)o(a)o(ys.)
270 989 y(The)19 b(\014rst)h(deviation)e(is)h(that)g(TLC)g(do)q(esn't)h
(preserv)o(e)h(the)e(precise)i(seman)o(tics)d(of)208
1038 y FP(choose)p F4(.)27 b(As)17 b(explained)g(in)f(Section)h(16.1,)f
(if)g FV(S)22 b F4(equals)16 b FV(T)6 b F4(,)17 b(then)g
FP(choose)g FV(x)f F0(2)c FV(S)h F4(:)7 b FV(P)208 1088
y F4(should)12 b(equal)f FP(choose)17 b FV(x)g F0(2)11
b FV(T)i F4(:)8 b FV(P)t F4(.)18 b(Ho)o(w)o(ev)o(er,)12
b(TLC)g(guaran)o(tees)h(this)f(only)g(if)f FV(S)18 b
F4(and)12 b FV(T)208 1138 y F4(are)k(syn)o(tactically)g(the)g(same.)24
b(F)m(or)16 b(example,)f(TLC)h(migh)o(t)e(compute)h(di\013eren)o(t)i(v)
n(alues)208 1188 y(for)c(the)i(t)o(w)o(o)e(expressions)p
Black Black 332 1266 a FP(choose)k FV(x)f F0(2)c(f)p
F4(1)p FQ(;)7 b F4(2)p FQ(;)g F4(3)p F0(g)16 b F4(:)i
FV(x)f FQ(<)11 b F4(3)125 b FP(choose)16 b FV(x)h F0(2)11
b(f)p F4(3)p FQ(;)c F4(2)p FQ(;)g F4(1)p F0(g)16 b F4(:)i
FV(x)f FQ(<)12 b F4(3)208 1344 y(A)e(similar)e(violation)g(of)i(the)g
(seman)o(tics)g(of)g(TLA)977 1329 y FS(+)1008 1344 y
F4(exists)h(with)f FP(case)g F4(expressions,)i(whose)208
1394 y(seman)o(tics)h(are)h(de\014ned)h(\(in)f(Section)g(16.1.4\))e(in)
i(terms)f(of)k FP(choose)p F4(.)270 1444 y(The)h(second)g(part)f(of)g
(the)h(seman)o(tics)f(of)f(TLA)1044 1429 y FS(+)1082
1444 y F4(that)h(TLC)h(do)q(es)g(not)f(preserv)o(e)i(is)208
1493 y(the)h(represen)o(tation)i(of)e(strings.)38 b(In)20
b(TLA)932 1478 y FS(+)953 1493 y F4(,)h(the)g(string)f(\\)p
FD(ab)q(c)p F4(")h(is)f(a)g(three-elemen)o(t)208 1543
y(sequence|that)i(is,)g(a)e(function)g(with)h(domain)d
F0(f)p F4(1)p FQ(;)13 b F4(2)p FQ(;)g F4(3)p F0(g)p F4(.)38
b(TLC)20 b(treats)i(strings)f(as)208 1593 y(primitiv)o(e)12
b(v)n(alues,)j(not)g(as)g(functions.)22 b(It)15 b(th)o(us)g(considers)h
(the)g(legal)e(TLA)1424 1578 y FS(+)1460 1593 y F4(expression)208
1643 y(\\)p FD(ab)q(c)p F4("[2])f(to)g(b)q(e)i(an)f(error.)208
1800 y FN(14.7)82 b(The)26 b(Fine)g(Prin)n(t)208 1891
y F4(This)15 b(section)i(describ)q(es)h(in)e(detail)f(t)o(w)o(o)h(asp)q
(ects)i(of)d(TLC)h(that)g(w)o(ere)h(sk)o(etc)o(hed)h(ab)q(o)o(v)o(e:)
208 1941 y(the)c(grammar)d(of)i(the)h(con\014guration)g(\014le,)f(and)h
(the)g(precise)h(de\014nition)f(of)f(TLC)h(v)n(alues.)208
2077 y F3(14.7.1)65 b(The)22 b(Grammar)h(of)e(the)i(Con\014guration)g
(File)208 2168 y F4(The)e(grammar)e(of)h(TLC's)i(con\014guration)f
(\014le)g(is)g(describ)q(ed)i(in)e(the)h(TLA)1471 2153
y FS(+)1513 2168 y F4(mo)q(dule)208 2218 y FV(Con\014gFileGr)n(ammar)17
b F4(in)d(Figure)g(14.6)f(on)g(the)i(next)f(page.)19
b(More)14 b(precisely)m(,)g(the)h(set)f(of)208 2268 y(sen)o(tences)e
FV(Con\014gGr)n(ammar)t FQ(:)p FV(File)s F4(,)f(where)g
FV(Con\014gGr)n(ammar)k F4(is)10 b(de\014ned)h(in)f(the)h(mo)q(dule,)
208 2317 y(describ)q(es)k(all)d(syn)o(tactically)h(correct)i
(con\014guration)e(\014les)h(from)d(whic)o(h)i(commen)o(ts)f(ha)o(v)o
(e)208 2367 y(b)q(een)19 b(remo)o(v)o(ed.)32 b(The)19
b FV(Con\014gFileGr)n(ammar)k F4(mo)q(dule)17 b(extends)j(the)f
FV(BNF)o(Gr)n(ammars)208 2417 y F4(mo)q(dule,)12 b(whic)o(h)h(is)h
(explained)g(ab)q(o)o(v)o(e)f(in)h(Section)g(11.1.4)e(\(page)i(179\).)
270 2467 y(Here)j(are)g(some)f(additional)e(restrictions)k(on)e(the)h
(con\014guration)f(\014le)g(that)g(are)h(not)208 2517
y(sp)q(eci\014ed)g(b)o(y)e(mo)q(dule)f FV(Con\014gFileGr)n(ammar)t
F4(.)23 b(There)17 b(can)f(b)q(e)g(at)f(most)g(one)g
FO(INIT)g F4(and)p Black Black eop
%%Page: 263 281
263 280 bop Black 208 275 a FR(14.7.)30 b(THE)14 b(FINE)h(PRINT)1236
b F4(263)p 208 282 1770 2 v Black Black Black Black 188
497 2 25 v 190 475 623 2 v 826 482 a FP(module)15 b FV(Con\014gFileGr)n
(ammar)p 1373 475 V 1996 497 2 25 v 208 540 a FP(extends)h
FV(BNF)o(Gr)n(ammars)p 188 602 V 190 591 1806 2 v 1996
601 2 25 v .95 TeXcolorgray .95 TeXcolorgray 708 659
189 64 v .95 TeXcolorgray Black 717 639 a FZ(LEXEMES)p
.95 TeXcolorgray Black 208 702 a FV(L)n(etter)347 678
y FI(\001)342 702 y F4(=)24 b FV(OneOf)8 b F4(\(\\)p
FD(ab)q(cdefghijklmnop)q(qrstuvwx)q(yz)p FO(_)s FD(ABCDEF)o
(GHIJKLMNOPQR)o(STUVWXY)o(Z)p F4(")n(\))208 769 y FV(Num)347
745 y FI(\001)342 769 y F4(=)24 b FV(OneOf)8 b F4(\(\\)p
FD(0123456789)p F4(")m(\))208 840 y FV(L)n(etterOrNum)482
816 y FI(\001)477 840 y F4(=)24 b FV(L)n(etter)g F0([)d
FV(Num)208 907 y(A)o(nyChar)482 883 y FI(\001)477 907
y F4(=)j FV(L)n(etterOrNum)e F0([)f FV(OneOf)8 b F4(\(\\)f
F0(\030)k F4(!)f FD(@)c(#)h FO(\\)g FD($)f(\045)h FO(^)f
FD(&)i F0(\003)f(\000)g FD(+)g(=)g F0(j)g FD(\()g(\))g
F0(f)f(g)h FD([)g(])g(,)f F4(:)h FD(;)f(`)h(')f FQ(<)h(>)h
FD(.)e(?)g(/)h F4("\))208 973 y FV(SingularKW)482 950
y FI(\001)477 973 y F4(=)24 b F0(f)p F4(\\)p FD(SPECIFIC)o(A)m(TI)o(ON)
p F4(")m FQ(;)13 b F4(\\)p FD(INIT)p F4(")p FQ(;)g F4(\\)p
FD(NEXT)p F4(")p FQ(;)g F4(\\)p FD(VIEW)p F4(")o FQ(;)g
F4(\\)p FD(SYMMETRY)p F4(")p F0(g)208 1040 y FV(Plur)n(alKW)482
1017 y FI(\001)477 1040 y F4(=)265 1094 y F0(f)p F4(\\)p
FD(CONSTRAINT)p F4(")o FQ(;)g F4(\\)p FD(CONSTRAINTS)p
F4(")o FQ(;)g F4(\\)p FD(A)o(CTION)p FO(-)o FD(CONSTRAINT)p
F4(")o FQ(;)g F4(\\)p FD(A)o(CTION)p FO(-)o FD(CONSTRAINTS)p
F4(")o FQ(;)286 1150 y F4(\\)p FD(INV)m(ARIANT)p F4(")n
FQ(;)g F4(\\)p FD(INV)m(ARIANTS)p F4(")n FQ(;)g F4(\\)p
FD(PROPERTY)p F4(")n FQ(;)g F4(\\)p FD(PROPERTIES)p F4(")m
F0(g)208 1221 y FV(Keywor)n(d)406 1197 y FI(\001)401
1221 y F4(=)24 b FV(SingularKW)29 b F0([)20 b FV(Plur)n(alKW)28
b F0([)20 b(f)p F4(\\)p FD(CONST)m(ANT)p F4(")o FQ(;)14
b F4(\\)p FD(CONST)m(ANTS)p F4(")o F0(g)208 1288 y FV(A)o(nyIdent)406
1264 y FI(\001)401 1288 y F4(=)24 b FV(L)n(etterOrNum)705
1273 y FH(\003)741 1288 y F4(&)14 b FV(L)n(etter)23 b
F4(&)14 b FV(L)n(etterOrNum)1212 1273 y FH(\003)208 1355
y FV(Ident)406 1331 y FI(\001)401 1355 y F4(=)24 b FV(A)o(nyIdent)11
b F0(n)c FV(Keywor)n(d)p 188 1387 2 25 v 190 1376 1806
2 v 1996 1386 2 25 v 208 1424 a(Con\014gGr)n(ammar)543
1401 y FI(\001)539 1424 y F4(=)p .95 TeXcolorgray .95
TeXcolorgray 682 1444 388 57 v .95 TeXcolorgray Black
119 w FZ(THE)13 b(BNF)f(GRAMMAR)p .95 TeXcolorgray Black
250 1491 a FP(let)23 b FV(P)t F4(\()p FV(G)t F4(\))482
1467 y FI(\001)477 1491 y F4(=)384 1541 y F0(^)15 b FV(G)t
FQ(:)p FV(File)e F4(::=)e FV(G)t FQ(:)p FV(Statement)858
1526 y FS(+)384 1601 y F0(^)k FV(G)t FQ(:)p FV(Statement)g
F4(::=)46 b FV(T)m(ok)t F4(\()p FV(SingularKW)8 b F4(\))19
b(&)14 b FV(T)m(ok)t F4(\()p FV(Ident)t F4(\))738 1656
y F0(j)23 b FV(T)m(ok)t F4(\()p FV(Plur)n(alKW)7 b F4(\))19
b(&)14 b FV(T)m(ok)t F4(\()p FV(Ident)t F4(\))1330 1641
y FH(\003)738 1712 y F0(j)78 b FV(T)m(ok)t F4(\()p F0(f)p
F4(\\)p FD(CONST)m(ANT)p F4(")o FQ(;)7 b F4(\\)p FD(CONST)m(ANTS)p
F4(")o F0(g)p F4(\))773 1768 y(&)23 b(\()p FV(G)t FQ(:)p
FV(R)n(eplac)n(ement)k F0(j)16 b FV(G)t FQ(:)p FV(Assignment)t
F4(\))1451 1753 y FH(\003)384 1828 y F0(^)f FV(G)t FQ(:)p
FV(R)n(eplac)n(ement)g F4(::=)c FV(T)m(ok)t F4(\()p FV(Ident)t
F4(\))20 b(&)14 b FV(tok)t F4(\(\\)p FQ(<)p F0(\000)p
F4(")q(\))k(&)d FV(T)m(ok)t F4(\()p FV(A)o(nyIdent)t
F4(\))384 1888 y F0(^)g FV(G)t FQ(:)p FV(Assignment)31
b F4(::=)11 b FV(T)m(ok)t F4(\()p FV(Ident)t F4(\))20
b(&)14 b FV(tok)t F4(\(\\)p FD(=)p F4(")q(\))k(&)d FV(G)t
FQ(:)p FV(IdentV)m(alue)384 1948 y F0(^)g FV(G)t FQ(:)p
FV(IdentV)m(alue)47 b F4(::=)f FV(T)m(ok)t F4(\()p FV(A)o(nyIdent)t
F4(\))24 b F0(j)16 b FV(G)t FQ(:)p FV(Numb)n(er)27 b
F0(j)16 b FV(G)t FQ(:)p FV(String)783 2003 y F0(j)97
b FV(tok)t F4(\(\\)p F0(f)p F4("\))829 2059 y(&)31 b(\()p
FV(Nil)c F0(j)16 b FV(G)t FQ(:)p FV(IdentV)m(alue)21
b F4(&)8 b(\()p FV(tok)t F4(\(\\)p FD(,)p F4(")o(\))19
b(&)c FV(G)t FQ(:)p FV(IdentV)m(alue)s F4(\))1807 2044
y FH(\003)1825 2059 y F4(\))829 2115 y(&)31 b FV(tok)t
F4(\(\\)p F0(g)p F4("\))384 2175 y F0(^)15 b FV(G)t FQ(:)p
FV(Numb)n(er)g F4(::=)c(\()p FV(Nil)26 b F0(j)17 b FV(tok)t
F4(\(\\)p F0(\000)p F4("\)\))i(&)14 b FV(T)m(ok)t F4(\()p
FV(Num)1246 2160 y FS(+)1275 2175 y F4(\))384 2235 y
F0(^)h FV(G)t FQ(:)p FV(String)46 b F4(::=)11 b FV(tok)t
F4(\(\\)c FO(")g F4("\))18 b(&)d FV(T)m(ok)t F4(\()p
FV(A)o(nyChar)1185 2220 y FH(\003)1205 2235 y F4(\))j(&)d
FV(tok)t F4(\(\\)7 b FO(")g F4("\))250 2295 y FP(in)54
b FV(L)n(e)n(astGr)n(ammar)t F4(\()p FV(P)t F4(\))p 188
2316 2 25 v 190 2316 1806 2 v 1996 2316 2 25 v Black
559 2406 a FU(Figure)14 b(14.6:)19 b F4(The)14 b(BNF)g(grammar)d(of)i
(the)i(con\014guration)e(\014le.)p Black Black Black
Black eop
%%Page: 264 282
264 281 bop Black 208 275 a F4(264)814 b FR(CHAPTER)15
b(14.)31 b(THE)14 b(TLC)g(MODEL)g(CHECKER)p 208 282 1770
2 v Black 208 391 a F4(one)19 b FO(NEXT)g F4(statemen)o(t.)35
b(There)20 b(can)g(b)q(e)g(one)g FO(SPECIFICATION)d F4(statemen)o(t,)j
(but)g(only)208 441 y(if)f(there)j(is)f(no)f FO(INIT)g
F4(or)g FO(NEXT)g F4(statemen)o(t.)38 b(\(See)21 b(page)g(243)f(in)g
(Section)h(14.3.1)d(for)208 491 y(conditions)c(on)h(when)h(these)h
(statemen)o(ts)e(m)o(ust)f(app)q(ear.\))23 b(There)16
b(can)g(b)q(e)g(at)f(most)f(one)208 541 y FO(VIEW)k F4(statemen)o(t)g
(and)h(at)g(most)e(one)i FO(SYMMETRY)f F4(statemen)o(t.)32
b(Multiple)18 b(instances)i(of)208 591 y(other)14 b(statemen)o(ts)g
(are)h(allo)o(w)o(ed.)h(F)m(or)e(example,)e(the)i(t)o(w)o(o)g(statemen)
o(ts)p Black Black 332 674 a FO(INVARIANT)20 b(Inv1)332
723 y(INVARIANT)g(Inv2)h(Inv3)208 806 y F4(sp)q(ecify)15
b(that)h(TLC)f(is)g(to)g(c)o(hec)o(k)h(the)f(three)i(in)o(v)n(arian)o
(ts)d FV(Inv)t F4(1,)h FV(Inv)t F4(2,)h(and)f FV(Inv)t
F4(3.)23 b(These)208 856 y(statemen)o(ts)14 b(are)g(equiv)n(alen)o(t)f
(to)h(the)g(single)g(statemen)o(t)p Black Black 332 939
a FO(INVARIANT)20 b(Inv1)h(Inv2)g(Inv3)208 1077 y F3(14.7.2)65
b(Comparable)22 b(TLC)g(V)-6 b(alues)208 1167 y F4(Section)14
b(14.2.1)d(\(page)j(230\))f(describ)q(es)j(TLC)d(v)n(alues.)18
b(That)13 b(description)h(is)g(incomplete)208 1217 y(b)q(ecause)20
b(it)f(do)q(es)h(not)e(de\014ne)i(exactly)f(when)h(v)n(alues)f(are)g
(comparable.)32 b(The)19 b(precise)208 1267 y(de\014nition)d(is)g(that)
h(t)o(w)o(o)f(TLC)g(v)n(alues)g(are)h(comparable)e(i\013)h(the)h(follo)
o(wing)d(rules)j(imply)208 1317 y(that)c(they)i(are:)p
Black 258 1400 a(1.)p Black 20 w(Tw)o(o)f(primitiv)o(e)d(v)n(alues)j
(are)g(comparable)f(i\013)g(they)i(ha)o(v)o(e)f(the)g(same)f(v)n(alue)g
(t)o(yp)q(e.)311 1466 y(This)f(rule)g(implies)d(that)j(\\)p
FD(ab)q(c)p F4(")g(and)g(\\)p FD(123)p F4(")e(are)i(comparable,)e(but)i
(\\)p FD(ab)q(c)p F4(")g(and)g(123)311 1516 y(are)j(not.)p
Black 258 1599 a(2.)p Black 20 w(A)f(mo)q(del)f(v)n(alue)g(is)h
(comparable)e(with)i(an)o(y)f(v)n(alue.)18 b(\(It)c(is)f(equal)h(only)f
(to)h(itself.\))p Black 258 1682 a(3.)p Black 20 w(Tw)o(o)g(sets)i(are)
f(comparable)e(if)h(they)h(ha)o(v)o(e)f(di\013eren)o(t)h(n)o(um)o(b)q
(ers)f(of)g(elemen)o(ts,)g(or)h(if)311 1732 y(they)i(ha)o(v)o(e)f(the)h
(same)e(n)o(um)o(b)q(ers)h(of)g(elemen)o(ts)g(and)g(all)f(the)i(elemen)
o(ts)f(in)g(one)g(set)311 1782 y(are)f(comparable)d(with)i(all)e(the)j
(elemen)o(ts)f(in)f(the)h(other.)311 1848 y(This)h(rule)g(implies)d
(that)j F0(f)p F4(1)p F0(g)f F4(and)g F0(f)p F4(\\)p
FD(a)p F4(")o FQ(;)7 b F4(\\)p FD(b)p F4(")p F0(g)14
b F4(are)h(comparable)e(and)i(that)f F0(f)p F4(1)p FQ(;)7
b F4(2)p F0(g)311 1898 y F4(and)16 b F0(f)p F4(2)p FQ(;)7
b F4(3)p F0(g)15 b F4(are)h(comparable.)24 b(Ho)o(w)o(ev)o(er,)17
b F0(f)p F4(1)p FQ(;)7 b F4(2)p F0(g)14 b F4(and)i F0(f)p
F4(\\)p FD(a)p F4(")o FQ(;)7 b F4(\\)p FD(b)p F4(")p
F0(g)16 b F4(are)g(not)g(com-)311 1948 y(parable.)p Black
258 2031 a(4.)p Black 20 w(Tw)o(o)11 b(functions)h FV(f)20
b F4(and)11 b FV(g)k F4(are)d(comparable)e(i\013)i(\(i\))f(their)h
(domains)d(are)j(comparable)311 2081 y(and)j(\(ii\))f(if)g(their)h
(domains)e(are)i(equal,)f(then)h FV(f)9 b F4([)p FV(x)c
F4(])14 b(and)g FV(g)t F4([)p FV(x)5 b F4(])14 b(are)h(comparable)e
(for)311 2131 y(ev)o(ery)i(elemen)o(t)e FV(x)19 b F4(in)14
b(their)g(domain.)311 2197 y(This)g(rule)g(implies)e(that)i
F0(h)s F4(1)p FQ(;)7 b F4(2)s F0(i)13 b F4(and)h F0(h)s
F4(\\)p FD(a)p F4(")p FQ(;)7 b F4(\\)p FD(b)p F4(")o
FQ(;)g F4(\\)p FD(c)p F4(")s F0(i)14 b F4(are)g(comparable,)e(and)i
(that)311 2247 y F0(h)s F4(1)p FQ(;)7 b F4(\\)p FD(a)p
F4(")s F0(i)13 b F4(and)g F0(h)s F4(2)p FQ(;)7 b F4(\\)p
FD(b)q(c)p F4(")t F0(i)14 b F4(are)f(comparable.)k(Ho)o(w)o(ev)o(er,)c
F0(h)s F4(1)p FQ(;)7 b F4(2)s F0(i)13 b F4(and)g F0(h)s
F4(\\)p FD(a)p F4(")p FQ(;)7 b F4(\\)p FD(b)p F4(")s
F0(i)13 b F4(are)311 2297 y(not)h(comparable.)p Black
Black eop
%%Page: 265 283
265 282 bop Black Black 762 1093 a FL(P)m(art)32 b(IV)406
1301 y F5(The)38 b(TLA)882 1263 y Fk(+)967 1301 y F5(Language)p
Black 1915 2622 a F4(265)p Black eop
%%Page: 266 284
266 283 bop Black Black Black Black eop
%%Page: 267 285
267 284 bop Black 1915 275 a F4(267)p 208 282 1770 2
v Black 270 391 a(This)18 b(part)g(of)f(the)i(b)q(o)q(ok)e(describ)q
(es)j(TLA)964 376 y FS(+)1003 391 y F4(in)d(detail.)30
b(Chapter)18 b(15)g(explains)f(the)208 441 y(syn)o(tax;)k(Chapters)f
(16)e(and)h(17)g(explain)f(the)i(seman)o(tics;)h(and)e(Chapter)g(18)g
(con)o(tains)208 491 y(the)i(standard)h(mo)q(dules.)39
b(Almost)19 b(all)h(of)h(the)h(TLA)1105 476 y FS(+)1146
491 y F4(language)f(has)g(already)g(b)q(een)208 541 y(describ)q
(ed|mainly)c(through)i(examples.)33 b(In)19 b(fact,)h(most)e(of)h(the)g
(language)g(w)o(as)g(de-)208 591 y(scrib)q(ed)14 b(in)e(Chapters)i
(1{6.)j(This)c(part)g(giv)o(es)g(complete)f(sp)q(eci\014cation)h(of)g
(the)g(language.)270 640 y(A)18 b(completely)f(formal)f(sp)q
(eci\014cation)j(of)f(TLA)1047 625 y FS(+)1086 640 y
F4(w)o(ould)f(consist)i(of)f(a)g(formal)e(def-)208 690
y(inition)f(of)i(the)g(set)h(of)f(legal)f(\(syn)o(tactically)h(w)o
(ell-formed\))e(mo)q(dules,)h(and)h(a)g(precisely)208
740 y(de\014ned)12 b(meaning)d(op)q(erator)i(that)g(assigns)g(to)g(ev)o
(ery)g(legal)f(mo)q(dule)f FV(M)18 b F4(its)11 b(mathematical)208
790 y(meaning)h([)-7 b([)p FV(M)7 b F4(])-7 b(].)18 b(Suc)o(h)d(a)f(sp)
q(eci\014cation)h(w)o(ould)e(b)q(e)i(quite)g(long)e(and)h(of)g(limited)
e(in)o(terest.)208 840 y(Instead,)18 b(I)f(ha)o(v)o(e)g(tried)g(to)g
(pro)o(vide)g(a)f(fairly)g(informal)e(sp)q(eci\014cation)k(that)f(is)g
(detailed)208 889 y(enough)g(to)h(sho)o(w)f(mathematically)d
(sophisticated)k(readers)h(ho)o(w)f(they)g(could)f(write)h(a)208
939 y(completely)12 b(formal)g(one.)270 989 y(These)21
b(c)o(hapters)h(are)f(hea)o(vy)f(going,)g(and)h(few)f(p)q(eople)h(will)
e(w)o(an)o(t)h(to)g(read)h(them)208 1039 y(completely)m(.)j(Ho)o(w)o
(ev)o(er,)18 b(I)e(hop)q(e)h(they)h(can)e(serv)o(e)i(as)f(a)g
(reference)i(man)o(ual)14 b(for)i(an)o(y)o(one)208 1089
y(who)c(reads)j(or)e(writes)h(TLA)662 1074 y FS(+)695
1089 y F4(sp)q(eci\014cations.)19 b(If)13 b(y)o(ou)g(ha)o(v)o(e)g(a)g
(question)g(ab)q(out)g(the)h(\014ner)208 1139 y(details)h(of)g(the)h
(syn)o(tax)g(or)g(the)g(meaning)e(of)h(some)g(part)h(of)f(the)h
(language,)f(y)o(ou)g(should)208 1188 y(b)q(e)f(able)g(to)f(\014nd)h
(the)h(answ)o(er)g(here.)270 1238 y(T)m(ables)d(1{8)g(on)h(the)g(next)h
(page)e(through)h(page)g(273)f(pro)o(vide)h(a)f(tin)o(y)g(reference)k
(man-)208 1288 y(ual.)g(T)m(ables)d(1{4)f(v)o(ery)h(brie\015y)g
(describ)q(e)h(all)e(the)h(built-in)e(op)q(erators)j(of)e(TLA)1462
1273 y FS(+)1483 1288 y F4(.)17 b(T)m(able)12 b(5)208
1338 y(lists)e(all)g(the)i(user-de\014nable)g(op)q(erator)f(sym)o(b)q
(ols)f(and)g(indicates)i(whic)o(h)e(ones)i(are)f(already)208
1388 y(used)h(b)o(y)g(the)h(standard)f(mo)q(dules.)17
b(It's)12 b(a)g(go)q(o)q(d)f(place)h(to)g(lo)q(ok)f(when)i(c)o(ho)q
(osing)f(notation)208 1437 y(for)k(y)o(our)g(sp)q(eci\014cation.)28
b(T)m(able)16 b(6)g(giv)o(es)h(the)g(precedence)j(of)c(the)h(op)q
(erators;)i(it)d(is)h(ex-)208 1487 y(plained)c(in)g(Section)h(15.2.1)e
(on)i(page)f(283.)k(T)m(able)d(7)f(lists)h(all)e(op)q(erators)j
(de\014ned)g(b)o(y)e(the)208 1537 y(standard)h(mo)q(dules.)i(Finally)m
(,)c(T)m(able)h(8)g(sho)o(ws)h(ho)o(w)f(to)h(t)o(yp)q(e)g(an)o(y)f(sym)
o(b)q(ol)f(that)h(do)q(esn't)208 1587 y(ha)o(v)o(e)g(an)h(ob)o(vious)f
FP(asci)q(i)g F4(equiv)n(alen)o(t.)p Black Black eop
%%Page: 268 286
268 285 bop Black 208 275 a F4(268)p 208 282 1770 2 v
Black Black Black Black 202 422 a FU(Logic)249 472 y
F0(^)41 b(_)g(:)h(\))f(\021)249 522 y FP(tr)o(ue)56 b(f)l(alse)g
(boolean)17 b FC([the)12 b(set)h Fj(f)p Fi(tr)o(ue)q
Fh(;)f Fi(f)m(alse)p Fj(g)p FC(])249 572 y F0(8)7 b FV(x)24
b F4(:)18 b FV(p)72 b F0(9)7 b FV(x)23 b F4(:)18 b FV(p)72
b F0(8)7 b FV(x)17 b F0(2)11 b FV(S)24 b F4(:)18 b FV(p)874
556 y FI(\(1\))982 572 y F0(9)7 b FV(x)16 b F0(2)11 b
FV(S)24 b F4(:)18 b FV(p)1215 556 y FI(\(1\))249 621
y FP(choose)f FV(x)23 b F4(:)18 b FV(p)31 b FC([An)12
b FB(x)17 b FC(satisfying)f FB(p)r FC(])68 b FP(choose)17
b FV(x)g F0(2)11 b FV(S)24 b F4(:)18 b FV(p)30 b FC([An)13
b FB(x)k FC(in)d FB(S)i FC(satisfying)f FB(p)r FC(])202
715 y FU(Sets)249 765 y F4(=)42 b F0(6)p F4(=)g F0(2)j
FQ(=)-25 b F0(2)41 b([)g(\\)g(\022)49 b(n)21 b FC([set)12
b(di\013erence])249 814 y F0(f)p FV(e)292 820 y FS(1)311
814 y FQ(;)7 b(:)g(:)g(:)t(;)g FV(e)425 820 y FJ(n)449
814 y F0(g)95 b FC([Set)13 b(consisting)j(of)c(elemen)o(ts)j
FB(e)1042 818 y FE(i)1054 814 y FC(])249 864 y F0(f)p
FV(x)i F0(2)11 b FV(S)24 b F4(:)18 b FV(p)s F0(g)480
849 y FI(\(2\))565 864 y FC([Set)13 b(of)g(elemen)o(ts)h
FB(x)j FC(in)d FB(S)j FC(satisfying)e FB(p)r FC(])249
914 y F0(f)p FV(e)21 b F4(:)d FV(x)f F0(2)11 b FV(S)5
b F0(g)478 899 y FI(\(1\))565 914 y FC([Set)13 b(of)g(elemen)o(ts)h
FB(e)h FC(suc)o(h)f(that)f FB(x)k FC(in)d FB(S)t FC(])249
964 y FP(subset)9 b FV(S)149 b FC([Set)13 b(of)g(subsets)h(of)f
FB(S)t FC(])249 1014 y FP(union)k FV(S)162 b FC([Union)14
b(of)f(all)h(elemen)o(ts)g(of)f FB(S)t FC(])202 1107
y FU(F)l(unctions)249 1157 y FV(f)c F4([)p FV(e)s F4(])431
b FC([F)m(unction)14 b(application])249 1207 y FP(domain)c
FV(f)330 b FC([Domain)14 b(of)e(function)j FB(f)8 b FC(])249
1256 y F4([)p FV(x)16 b F0(2)c FV(S)19 b F0(7!)6 b FV(e)s
F4(])474 1241 y FI(\(1\))748 1256 y FC([F)m(unction)14
b FB(f)20 b FC(suc)o(h)14 b(that)f FB(f)8 b FC([)p FB(x)d
FC(])k(=)i FB(e)k FC(for)e FB(x)h Fj(2)d FB(S)t FC(])249
1306 y F4([)p FV(S)19 b F0(!)13 b FV(T)6 b F4(])342 b
FC([Set)12 b(of)h(functions)i FB(f)20 b FC(with)14 b
FB(f)7 b FC([)p FB(x)e FC(])10 b Fj(2)g FB(T)18 b FC(for)13
b FB(x)i Fj(2)10 b FB(S)t FC(])249 1359 y F4([)p FV(f)24
b FP(ex)o(cept)19 b F4(!)s([)p FV(e)509 1365 y FS(1)527
1359 y F4(])f(=)h FV(e)630 1365 y FS(2)649 1359 y F4(])674
1344 y FI(\(3\))748 1359 y FC([F)m(unction)917 1351 y
FF(b)919 1359 y FB(f)h FC(equal)15 b(to)e FB(f)20 b FC(except)1251
1351 y FF(b)1253 1359 y FB(f)7 b FC([)p FB(e)1304 1363
y FK(1)1321 1359 y FC(])j(=)h FB(e)1404 1363 y FK(2)1420
1359 y FC(])202 1453 y FU(Records)249 1503 y FV(e)s FQ(:)p
FV(h)402 b FC([The)13 b FB(h)s FC(-\014eld)g(of)g(record)g
FB(e)s FC(])249 1552 y F4([)p FV(h)285 1558 y FS(1)315
1552 y F0(7!)e FV(e)390 1558 y FS(1)409 1552 y FQ(;)c(:)g(:)g(:)e(;)i
FV(h)526 1558 y FJ(n)561 1552 y F0(7!)k FV(e)636 1558
y FJ(n)660 1552 y F4(])34 b FC([The)13 b(record)g(whose)g
FB(h)1049 1556 y FE(i)1075 1552 y FC(\014eld)h(is)g FB(e)1218
1556 y FE(i)1231 1552 y FC(])249 1602 y F4([)p FV(h)285
1608 y FS(1)322 1602 y F4(:)k FV(S)380 1608 y FS(1)399
1602 y FQ(;)7 b(:)g(:)g(:)e(;)i FV(h)516 1608 y FJ(n)558
1602 y F4(:)18 b FV(S)616 1608 y FJ(n)640 1602 y F4(])54
b FC([Set)13 b(of)f(all)j(records)e(with)h FB(h)1123
1606 y FE(i)1149 1602 y FC(\014eld)g(in)g FB(S)1303 1606
y FE(i)1316 1602 y FC(])249 1652 y F4([)p FV(r)19 b FP(ex)o(cept)g
F4(!)s FQ(:)p FV(h)c F4(=)d FV(e)s F4(])614 1637 y FI(\(3\))706
1652 y FC([Record)g FF(b)-22 b FB(r)17 b FC(equal)e(to)e
FB(r)k FC(except)12 b FF(b)-22 b FB(r)t Fh(:)p FB(h)13
b FC(=)e FB(e)s FC(])202 1745 y FU(T)l(uples)249 1795
y FV(e)s F4([)p FV(i)t F4(])221 b FC([The)12 b FB(i)638
1779 y FK(th)681 1795 y FC(comp)q(onen)o(t)j(of)d(tuple)j
FB(e)s FC(])249 1845 y F0(h)s FV(e)290 1851 y FS(1)310
1845 y FQ(;)7 b(:)g(:)g(:)t(;)g FV(e)424 1851 y FJ(n)451
1845 y F0(i)66 b FC([The)12 b FB(n)s FC(-tuple)i(whose)f
FB(i)887 1829 y FK(th)930 1845 y FC(comp)q(onen)o(t)h(is)g
FB(e)1186 1849 y FE(i)1199 1845 y FC(])249 1895 y FV(S)277
1901 y FS(1)305 1895 y F0(\002)c FQ(:)d(:)g(:)g F0(\002)j
FV(S)474 1901 y FJ(n)533 1895 y FC([The)i(set)h(of)g(all)h
FB(n)s FC(-tuples)g(with)f FB(i)1033 1879 y FK(th)1076
1895 y FC(comp)q(onen)o(t)i(in)f FB(S)1344 1899 y FE(i)1357
1895 y FC(])202 1988 y FU(Strings)e(and)k(Num)o(b)q(ers)249
2038 y F4(\\)p FD(c)288 2044 y FS(1)321 2038 y FD(.)6
b(.)h(.)f(c)394 2044 y FJ(n)418 2038 y F4(")421 b FC([A)12
b(literal)j(string)f(of)f FB(n)i FC(c)o(haracters])249
2088 y FP(String)471 b FC([The)12 b(set)h(of)g(all)h(strings])249
2138 y FV(d)274 2144 y FS(1)300 2138 y FQ(:)7 b(:)g(:)e
FV(d)380 2144 y FJ(n)446 2138 y FV(d)471 2144 y FS(1)497
2138 y FQ(:)i(:)g(:)f FV(d)578 2144 y FJ(n)609 2138 y
FQ(:)h FV(d)653 2144 y FJ(n)s FS(+1)726 2138 y FQ(:)g(:)g(:)e
FV(d)806 2144 y FJ(m)860 2138 y FC([Num)o(b)q(ers)13
b(\(where)g(the)g FB(d)1250 2142 y FE(i)1276 2138 y FC(are)g(digits\)])
p 208 2179 288 2 v 208 2229 a FZ(\(1\))d FY(x)18 b FW(2)12
b FY(S)18 b FZ(ma)o(y)12 b(b)q(e)h(replaced)e(b)o(y)i(a)g(comma-separ)o
(ated)d(list)j(of)g(items)f FY(v)17 b FW(2)12 b FY(S)t
FZ(,)i(where)f FY(v)18 b FZ(is)13 b(either)f(a)264 2268
y(comma-separa)o(ted)c(list)j(or)g(a)h(tuple)e(of)h(iden)o(ti\014ers.)
208 2306 y(\(2\))f FY(x)17 b FZ(ma)o(y)10 b(b)q(e)h(an)g(iden)o
(ti\014er)e(or)i(tuple)f(of)i(iden)o(ti\014ers.)208 2349
y(\(3\))h(!)s([)p FY(e)308 2354 y FK(1)326 2349 y FZ(])f(or)j(!)s
Fw(:)p FY(h)g FZ(ma)o(y)d(b)q(e)f(replaced)f(b)o(y)i(a)g(comma)f
(separated)e(list)j(of)g(items)i(!)s FY(a)1312 2354 y
FK(1)1335 2349 y FW(\001)6 b(\001)f(\001)h FY(a)1403
2353 y FE(n)1424 2349 y FZ(,)12 b(where)g(eac)o(h)264
2388 y FY(a)285 2393 y FE(i)311 2388 y FZ(is)f([)p FY(e)374
2393 y FE(i)388 2388 y FZ(])h(or)f Fw(:)p FY(h)484 2393
y FE(i)503 2388 y FZ(.)p Black 617 2471 a FU(T)l(able)k(1:)j
F4(The)d(constan)o(t)f(op)q(erators.)p Black Black Black
Black eop
%%Page: 269 287
269 286 bop Black 1915 275 a F4(269)p 208 282 1770 2
v Black Black Black Black 208 497 a FP(if)13 b FV(p)k
FP(then)d FV(e)428 503 y FS(1)461 497 y FP(else)g FV(e)583
503 y FS(2)1090 497 y FC([)p FB(e)1122 501 y FK(1)1151
497 y FC(if)f FB(p)i FC(true,)e(else)h FB(e)1407 501
y FK(2)1424 497 y FC(])208 555 y FP(case)g FV(p)338 561
y FS(1)368 555 y F0(!)d FV(e)443 561 y FS(1)473 555 y
FG(2)18 b FQ(:)7 b(:)g(:)17 b FG(2)12 b FV(p)656 561
y FJ(n)691 555 y F0(!)f FV(e)766 561 y FJ(n)1090 555
y FC([Some)i FB(e)1224 559 y FE(i)1250 555 y FC(suc)o(h)g(that)h
FB(p)1442 559 y FE(i)1468 555 y FC(true])208 613 y FP(case)g
FV(p)338 619 y FS(1)368 613 y F0(!)d FV(e)443 619 y FS(1)473
613 y FG(2)18 b FQ(:)7 b(:)g(:)17 b FG(2)12 b FV(p)656
619 y FJ(n)691 613 y F0(!)f FV(e)766 619 y FJ(n)802 613
y FG(2)g FP(other)h F0(!)f FV(e)38 b FC([Some)13 b FB(e)1224
617 y FE(i)1250 613 y FC(suc)o(h)g(that)h FB(p)1442 617
y FE(i)1468 613 y FC(true,)1101 659 y(or)f FB(e)i FC(if)e(all)i
FB(p)1292 663 y FE(i)1318 659 y FC(are)e(false])208 730
y FP(let)20 b FV(d)322 736 y FS(1)358 706 y FI(\001)353
730 y F4(=)12 b FV(e)419 736 y FS(1)463 730 y FQ(:)7
b(:)g(:)24 b FV(d)562 736 y FJ(n)602 706 y FI(\001)598
730 y F4(=)11 b FV(e)663 736 y FJ(n)708 730 y FP(in)21
b FV(e)52 b FC([)p FB(e)15 b FC(in)e(the)h(con)o(text)f(of)g(the)g
(de\014nitions])208 804 y F0(^)22 b FV(p)282 810 y FS(1)275
849 y F4(.)275 865 y(.)275 882 y(.)208 932 y F0(^)g FV(p)282
938 y FJ(n)327 804 y FC([the)13 b(conjunction)h FB(p)633
808 y FK(1)659 804 y Fj(^)8 b Fh(:)e(:)h(:)h Fj(^)g FB(p)803
808 y FE(n)824 804 y FC(])110 b F0(_)23 b FV(p)1020 810
y FS(1)1012 849 y F4(.)1012 865 y(.)1012 882 y(.)945
932 y F0(_)g FV(p)1020 938 y FJ(n)1064 804 y FC([the)13
b(disjunction)i FB(p)1360 808 y FK(1)1386 804 y Fj(_)8
b Fh(:)e(:)g(:)j Fj(_)f FB(p)1530 808 y FE(n)1550 804
y FC(])p Black 605 1038 a FU(T)l(able)15 b(2:)j F4(Miscellaneous)c
(constructs.)p Black Black Black Black Black 249 1330
a FV(e)271 1315 y FH(0)563 1330 y FC([The)f(v)n(alue)h(of)e
FB(e)k FC(in)e(the)f(\014nal)h(state)f(of)g(a)g(step])249
1380 y F4([)p FV(A)p F4(])304 1386 y FJ(e)563 1380 y
FC([)p FB(A)8 b Fj(_)g FC(\()p FB(e)681 1364 y FX(0)702
1380 y FC(=)j FB(e)s FC(\)])249 1430 y F0(h)s FV(A)s
F0(i)318 1436 y FJ(e)563 1430 y FC([)p FB(A)d Fj(^)g
FC(\()p FB(e)681 1414 y FX(0)702 1430 y Fj(6)p FC(=)j
FB(e)s FC(\)])249 1480 y FP(enabled)g FV(A)105 b FC([An)13
b FB(A)f FC(step)h(is)h(p)q(ossible])249 1529 y FP(unchanged)j
FV(e)52 b FC([)p FB(e)595 1514 y FX(0)616 1529 y FC(=)10
b FB(e)s FC(])249 1579 y FV(A)f F0(\001)g FV(B)224 b
FC([Comp)q(osition)15 b(of)e(actions])p Black 676 1662
a FU(T)l(able)i(3:)j F4(Action)c(op)q(erators.)p Black
Black Black Black Black 208 1963 a FG(2)p FV(F)123 b
FC([)p FB(F)17 b FC(is)d(alw)o(a)o(ys)g(true])208 2013
y FG(3)p FV(F)121 b FC([)p FB(F)17 b FC(is)d(ev)o(en)o(tually)h(true])
208 2063 y F4(WF)278 2069 y FJ(e)297 2063 y F4(\()p FV(A)p
F4(\))29 b FC([W)m(eak)13 b(fairness)h(for)f(action)h
FB(A)p FC(])208 2112 y F4(SF)258 2118 y FJ(e)278 2112
y F4(\()p FV(A)p F4(\))48 b FC([Strong)13 b(fairness)i(for)d(action)i
FB(A)p FC(])208 2162 y FV(F)j FG(;)11 b FV(G)52 b FC([)p
FB(F)17 b FC(leads)e(to)d FB(G)s FC(])208 2214 y FV(F)257
2194 y FI(+)252 2214 y F0(\000)-7 b FQ(.)12 b FV(G)47
b FC([)p FB(F)17 b FC(guaran)o(tees)e FB(G)s FC(])208
2262 y F0(9)-21 b(9)g(9)208 2264 y(9)g(9)g(9)6 b FV(x)23
b F4(:)18 b FV(F)49 b FC([T)m(emp)q(oral)13 b(existen)o(tial)j(quan)o
(ti\014cation)g(\(hiding\)])208 2311 y F0(8)-21 b(8)g(8)208
2313 y(8)g(8)g(8)6 b FV(x)23 b F4(:)18 b FV(F)49 b FC([T)m(emp)q(oral)
13 b(univ)o(ersal)j(quan)o(ti\014cation])p Black 650
2396 a FU(T)l(able)f(4:)j F4(T)m(emp)q(oral)12 b(op)q(erators.)p
Black Black Black Black eop
%%Page: 270 288
270 287 bop Black 208 275 a F4(270)p 208 282 1770 2 v
Black Black 208 643 a FU(In\014x)15 b(Op)q(erators)249
707 y F4(+)307 692 y FI(\(1\))428 707 y F0(\000)484 692
y FI(\(1\))605 707 y F0(\003)663 692 y FI(\(1\))807 707
y FQ(=)865 692 y FI(\(2\))987 707 y F0(\016)1021 692
y FI(\(3\))1182 707 y FC(++)249 761 y F0(\004)307 746
y FI(\(1\))428 761 y FD(\045)484 746 y FI(\(1\))605 761
y FO(^)663 746 y FI(\(1,4\))807 761 y FQ(:)7 b(:)865
746 y FI(\(1\))987 761 y FQ(:)g(:)g(:)145 b Fj(\000\000)249
815 y F0(\010)307 800 y FI(\(5\))428 815 y F0(\011)484
800 y FI(\(5\))605 815 y F0(\012)170 b(\013)148 b(\014)163
b(\003\003)249 869 y FQ(<)307 854 y FI(\(1\))428 869
y FQ(>)484 854 y FI(\(1\))605 869 y F0(\024)663 854 y
FI(\(1\))807 869 y F0(\025)865 854 y FI(\(1\))987 869
y F0(u)k Fh(==)249 923 y F0(\036)147 b(\037)e(\026)170
b(\027)148 b(t)167 b FO(^^)249 977 y F0(\034)137 b(\035)e
FQ(<)7 b F4(:)158 b(:)7 b FQ(>)865 962 y FI(\(6\))987
977 y FC(&)165 b(&&)249 1031 y FG(<)147 b(=)e F0(v)663
1016 y FI(\(5\))807 1031 y F0(w)j(j)183 b(jj)249 1085
y(\032)147 b(\033)347 b(\023)148 b FQ(?)174 b FD(\045)o(\045)249
1139 y F0(`)154 b(a)e(j)-7 b F4(=)165 b(=)-7 b F0(j)143
b(\017)174 b FC(##)249 1193 y F0(\030)147 b(')e(\031)807
1182 y(\030)807 1195 y F4(=)987 1193 y($)174 b($$)256
1247 y(:)7 b(=)121 b(::=)g F0(\020)818 1223 y FQ(:)807
1247 y F4(=)148 b FC(??)162 b F4(!)7 b(!)249 1301 y F0(/)147
b(o)165 b(])174 b(\015)138 b F4(@@)1060 1286 y FI(\(6\))208
1475 y FU(P)o(ost\014x)14 b(Op)q(erators)591 1460 y FI(\(7\))249
1541 y FO(^)p F4(+)83 b FO(^)p F0(\003)97 b FO(^)p F4(#)208
1691 y FU(Pre\014x)14 b(Op)q(erator)249 1757 y F0(\000)295
1742 y FI(\(8\))p 208 1807 288 2 v 208 1857 a FZ(\(1\))c(De\014ned)g(b)
o(y)h(the)g FY(Natur)n(als)s FZ(,)h FY(Inte)n(gers)s
FZ(,)g(and)e FY(R)n(e)n(als)15 b FZ(mo)q(dules.)208 1900
y(\(2\))10 b(De\014ned)g(b)o(y)h(the)g FY(R)n(e)n(als)k
FZ(mo)q(dule.)208 1943 y(\(3\))10 b(De\014ned)g(b)o(y)h(the)g
FY(Se)n(quenc)n(es)17 b FZ(mo)q(dule.)208 1986 y(\(4\))10
b FY(x)t Fn(^)p FY(y)15 b FZ(is)d(prin)o(ted)e(as)h FY(x)556
1974 y FE(y)575 1986 y FZ(.)208 2029 y(\(5\))f(De\014ned)g(b)o(y)h(the)
g FY(Bags)k FZ(mo)q(dule.)208 2072 y(\(6\))10 b(De\014ned)g(b)o(y)h
(the)g FY(TLC)16 b FZ(mo)q(dule.)208 2115 y(\(7\))10
b FY(e)r Fn(^)p FZ(+)j(is)f(prin)o(ted)d(as)i FY(e)559
2103 y FK(+)579 2115 y FZ(,)g(and)g(similarly)e(for)i
Fn(^)p FW(\003)g FZ(and)g Fn(^)p FZ(#.)208 2158 y(\(8\))f(De\014ned)g
(b)o(y)h(the)g FY(Inte)n(gers)k FZ(and)c FY(R)n(e)n(als)k
FZ(mo)q(dules.)p Black 537 2244 a FU(T)l(able)g(5:)j
F4(User-de\014nable)d(op)q(erator)g(sym)o(b)q(ols.)p
Black Black Black Black eop
%%Page: 271 289
271 288 bop Black 1915 275 a F4(271)p 208 282 1770 2
v Black Black 744 478 a FU(Pre\014x)15 b(Op)q(erators)460
538 y F0(:)157 b F4(4{4)385 587 y FP(enabled)93 b F4(4{15)352
637 y FP(unchanged)67 b F4(4{15)875 538 y FG(2)106 b
F4(4{15)874 587 y FG(3)f F4(4{15)818 637 y FP(subset)59
b F4(8{8)1198 538 y FP(union)79 b F4(8{8)1185 587 y FP(domain)60
b F4(9{9)1247 637 y F0(\000)112 b F4(12{12)759 775 y
FU(In\014x)15 b(Op)q(erators)250 834 y F0(\))57 b F4(1{1)253
866 y FI(+)248 886 y F0(\000)-7 b FQ(.)55 b F4(2{2)255
936 y F0(\021)62 b F4(2{2)250 986 y FG(;)57 b F4(2{2)257
1036 y F0(^)64 b F4(3{3)7 b FC(\(a\))257 1085 y F0(_)64
b F4(3{3)7 b FC(\(a\))255 1135 y F0(6)p F4(=)62 b(5{5)258
1185 y F0(a)k F4(5{5)243 1235 y(::=)50 b(5{5)249 1285
y(:)7 b(=)49 b(5{5)255 1334 y FQ(<)62 b F4(5{5)255 1384
y(=)g(5{5)252 1434 y(=)-7 b F0(j)60 b F4(5{5)255 1484
y FQ(>)i F4(5{5)255 1534 y F0(\031)g F4(5{5)255 1583
y F0(\020)g F4(5{5)255 1622 y F0(\030)255 1635 y F4(=)349
1633 y(5{5)265 1660 y FQ(:)255 1683 y F4(=)g(5{5)255
1733 y F0(\025)g F4(5{5)250 1783 y F0(\035)57 b F4(5{5)257
1833 y F0(2)64 b F4(5{5)262 1882 y FQ(=)-26 b F0(2)64
b F4(5{5)567 834 y F0(\024)i F4(5{5)562 884 y F0(\034)61
b F4(5{5)567 934 y F0(\036)66 b F4(5{5)567 984 y F0(\026)g
F4(5{5)567 1034 y F0(/)g F4(5{5)567 1084 y F0(\030)g
F4(5{5)567 1133 y F0(')g F4(5{5)567 1183 y FG(<)g F4(5{5)567
1233 y F0(v)g F4(5{5)567 1283 y FG(=)g F4(5{5)567 1333
y F0(w)g F4(5{5)567 1382 y F0(\032)g F4(5{5)567 1432
y F0(\022)g F4(5{5)567 1482 y F0(\037)g F4(5{5)567 1532
y F0(\027)g F4(5{5)567 1582 y F0(\033)g F4(5{5)567 1631
y F0(\023)g F4(5{5)570 1681 y F0(`)k F4(5{5)564 1731
y F0(j)-7 b F4(=)64 b(5{5)558 1781 y F0(\001)570 1766
y FI(\(1\))665 1781 y F4(5{14)6 b FC(\(a\))551 1831 y
F4(@@)50 b(6{6)27 b FC(\(a\))561 1881 y F4(:)7 b FQ(>)53
b F4(7{7)932 834 y FQ(<)7 b F4(:)62 b(7{7)950 884 y F0(n)74
b F4(8{8)947 934 y F0(\\)c F4(8{8)48 b FC(\(a\))947 984
y F0([)70 b F4(8{8)48 b FC(\(a\))949 1034 y FQ(:)7 b(:)65
b F4(9{9)936 1084 y FQ(:)7 b(:)g(:)59 b F4(9{9)945 1133
y(!)7 b(!)69 b(9{13)926 1183 y(##)49 b(9{13)27 b FC(\(a\))950
1233 y F4($)74 b(9{13)27 b FC(\(a\))940 1283 y F4($$)63
b(9{13)27 b FC(\(a\))941 1333 y F4(??)64 b(9{13)27 b
FC(\(a\))947 1382 y F0(u)70 b F4(9{13)27 b FC(\(a\))947
1432 y F0(t)70 b F4(9{13)27 b FC(\(a\))947 1482 y F0(])70
b F4(9{13)27 b FC(\(a\))955 1532 y F0(o)78 b F4(9{14)944
1582 y F0(\010)69 b F4(10{10)6 b FC(\(a\))944 1631 y
F4(+)69 b(10{10)6 b FC(\(a\))928 1681 y F4(++)53 b(10{10)6
b FC(\(a\))943 1731 y FD(\045)67 b F4(10{11)926 1781
y FD(\045)o(\045)50 b F4(10{11)6 b FC(\(a\))955 1831
y F0(j)78 b F4(10{11)6 b FC(\(a\))949 1881 y F0(jj)72
b F4(10{11)6 b FC(\(a\))1329 834 y F0(\011)66 b F4(11{11)6
b FC(\(a\))1329 884 y F0(\000)66 b F4(11{11)6 b FC(\(a\))1312
934 y F0(\000\000)51 b F4(11{11)6 b FC(\(a\))1329 984
y F4(&)66 b(13{13)6 b FC(\(a\))1312 1034 y F4(&&)51 b(13{13)6
b FC(\(a\))1329 1084 y F0(\014)66 b F4(13{13)6 b FC(\(a\))1329
1133 y F0(\013)66 b F4(13{13)1329 1183 y F0(\012)g F4(13{13)6
b FC(\(a\))1334 1233 y F0(\003)72 b F4(13{13)6 b FC(\(a\))1324
1283 y F0(\003\003)61 b F4(13{13)6 b FC(\(a\))1334 1333
y FQ(=)72 b F4(13{13)1324 1382 y FQ(==)61 b F4(13{13)1324
1432 y F0(\015)g F4(13{13)6 b FC(\(a\))1334 1482 y F0(\017)72
b F4(13{13)6 b FC(\(a\))1329 1532 y F0(\004)66 b F4(13{13)1334
1582 y F0(\016)72 b F4(13{13)6 b FC(\(a\))1334 1631 y
FQ(?)72 b F4(13{13)6 b FC(\(a\))1334 1681 y FO(^)71 b
F4(14{14)1323 1731 y FO(^^)60 b F4(14{14)1320 1781 y(.)1332
1766 y FI(\(2\))1427 1781 y F4(17{17)6 b FC(\(a\))735
2020 y FU(P)o(ost\014x)14 b(Op)q(erators)410 2080 y FO(^+)49
b F4(15{15)89 b FO(^*)49 b F4(15{15)89 b FO(^#)50 b F4(15{15)1271
2065 y FH(0)1333 2080 y F4(15{15)p 208 2130 288 2 v 208
2179 a FZ(\(1\))10 b(Action)h(comp)q(osition)d(\()p Fn(\\cdot)p
FZ(\).)208 2222 y(\(2\))i(Record)g(\014eld)h(\(p)q(erio)q(d\).)208
2309 y FU(T)l(able)17 b(6:)22 b F4(The)16 b(precedence)j(ranges)d(of)f
(op)q(erators.)25 b(The)16 b(relativ)o(e)f(precedence)k(of)c(t)o(w)o(o)
208 2358 y(op)q(erators)j(is)f(unsp)q(eci\014ed)i(if)e(their)h(ranges)g
(o)o(v)o(erlap.)28 b(Left-asso)q(ciativ)o(e)17 b(op)q(erators)h(are)208
2408 y(indicated)13 b(b)o(y)h FC(\(a\))p F4(.)p Black
Black Black eop
%%Page: 272 290
272 289 bop Black 208 275 a F4(272)p 208 282 1770 2 v
Black Black 208 635 a FU(Mo)q(dules)12 b FV(Natur)n(als)s
F4(,)h FV(Inte)n(gers)s F4(,)h FV(R)n(e)n(als)291 695
y F4(+)83 b F0(\000)442 680 y FI(\(1\))564 695 y F0(\003)94
b FQ(=)704 680 y FI(\(2\))826 695 y FO(^)852 680 y FI(\(3\))987
695 y FQ(:)7 b(:)89 b FV(Nat)97 b(R)n(e)n(al)1355 680
y FI(\(2\))291 748 y F0(\004)83 b FD(\045)123 b F0(\024)83
b(\025)115 b FQ(<)h(>)101 b FV(Int)1169 733 y FI(\(4\))1270
748 y FV(In\014nity)1410 733 y FI(\(2\))p 291 771 174
2 v 291 821 a FZ(\(1\))10 b(Only)i(in\014x)e FW(\000)i
FZ(is)g(de\014ned)d(in)i FY(Natur)n(als)s FZ(.)291 861
y(\(2\))f(De\014ned)g(only)h(in)g FY(R)n(e)n(als)k FZ(mo)q(dule.)291
900 y(\(3\))10 b(Exp)q(onen)o(tiation)o(.)291 940 y(\(4\))g(Not)i
(de\014ned)e(in)h FY(Natur)n(als)k FZ(mo)q(dule.)208
1068 y FU(Mo)q(dule)d FV(Se)n(quenc)n(es)291 1127 y F0(\016)201
b FV(He)n(ad)87 b(Sele)n(ctSe)n(q)g(SubSe)n(q)291 1181
y(App)n(end)h(L)n(en)111 b(Se)n(q)190 b(T)m(ail)208 1312
y FU(Mo)q(dule)12 b FV(FiniteSets)291 1374 y(IsFiniteSet)87
b(Car)n(dinality)208 1507 y FU(Mo)q(dule)14 b FV(Bags)291
1567 y F0(\010)326 b FV(BagIn)159 b(CopiesIn)114 b(SubBag)291
1620 y F0(\011)326 b FV(BagOfA)o(l)r(l)99 b(EmptyBag)291
1673 y F0(v)326 b FV(BagT)m(oSet)94 b(IsABag)291 1726
y(BagCar)n(dinality)86 b(BagUnion)h(SetT)m(oBag)208 1858
y FU(Mo)q(dule)14 b FV(R)n(e)n(alTime)291 1920 y(R)m(TBound)88
b(R)m(Tnow)f(now)17 b FZ(\(declared)8 b(to)k(b)q(e)f(a)g(v)n(ariable\))
208 2053 y FU(Mo)q(dule)j FV(TLC)291 2116 y F4(:)p FQ(>)131
b F4(@@)90 b FV(Print)d(Assert)f(JavaTime)g(Permutations)291
2170 y(SortSe)n(q)p Black 438 2252 a FU(T)l(able)15 b(7:)j
F4(Op)q(erators)e(de\014ned)f(in)e(the)i(standard)f(mo)q(dules.)p
Black Black Black Black eop
%%Page: 273 291
273 290 bop Black 1915 275 a F4(273)p 208 282 1770 2
v Black Black 208 601 a F0(^)112 b FO(/\\)27 b FC(or)h
FO(\\land)208 651 y F0(:)112 b FO(~)28 b FC(or)g FO(\\lnot)e
FC(or)i FO(\\neg)208 701 y F0(2)112 b FO(\\in)208 751
y F0(h)124 b FO(<<)208 801 y FQ(<)108 b FO(<)208 850
y F0(\024)g FO(\\leq)27 b FC(or)h FO(=<)f FC(or)h FO(<=)208
900 y F0(\034)98 b FO(\\ll)208 950 y F0(\036)108 b FO(\\prec)208
1000 y F0(\026)g FO(\\preceq)208 1050 y F0(\022)g FO(\\subseteq)208
1099 y F0(\032)g FO(\\subset)208 1149 y FG(<)g FO(\\sqsubset)208
1199 y F0(v)g FO(\\sqsubseteq)208 1249 y F0(`)115 b FO(|-)208
1299 y F0(j)-7 b F4(=)103 b FO(|=)208 1349 y F0(!)98
b FO(->)208 1398 y F0(\\)112 b FO(\\cap)27 b FC(or)h
FO(\\intersect)208 1448 y F0(u)112 b FO(\\sqcap)208 1498
y F0(\010)c FO(\(+\))27 b FC(or)h FO(\\oplus)208 1548
y F0(\011)108 b FO(\(-\))27 b FC(or)h FO(\\ominus)208
1598 y F0(\014)108 b FO(\(.\))27 b FC(or)h FO(\\odot)208
1647 y F0(\012)108 b FO(\(\\X\))27 b FC(or)h FO(\\otimes)208
1697 y F0(\013)108 b FO(\(/\))27 b FC(or)h FO(\\oslash)208
1747 y F0(9)117 b FO(\\E)208 1795 y F0(9)-21 b(9)g(9)208
1797 y(9)g(9)g(9)113 b FO(\\EE)208 1847 y F4(])220 1853
y FJ(v)348 1847 y FO(]_)p FV(v)208 1896 y F4(WF)277 1902
y FJ(v)348 1896 y FO(WF_)p FV(v)821 601 y F0(_)93 b FO(\\/)28
b FC(or)f FO(\\lor)821 651 y F0(\021)89 b FO(<=>)27 b
FC(or)h FO(\\equiv)826 701 y FQ(=)-26 b F0(2)93 b FO(\\notin)825
751 y F0(i)101 b FO(>>)821 801 y FQ(>)89 b FO(>)821 850
y F0(\025)g FO(\\geq)27 b FC(or)h FO(>=)821 900 y F0(\035)79
b FO(\\gg)821 950 y F0(\037)89 b FO(\\succ)821 1000 y
F0(\027)g FO(\\succeq)821 1050 y F0(\023)g FO(\\supseteq)821
1099 y F0(\033)g FO(\\supset)821 1149 y FG(=)g FO(\\sqsupset)821
1199 y F0(w)g FO(\\sqsupseteq)821 1249 y F0(a)96 b FO(-|)821
1299 y F4(=)-7 b F0(j)84 b FO(=|)821 1349 y F0( )79 b
FO(<-)821 1398 y F0([)93 b FO(\\cup)27 b FC(or)h FO(\\union)821
1448 y F0(t)93 b FO(\\sqcup)821 1498 y F0(])g FO(\\uplus)821
1548 y F0(\002)c FO(\\X)28 b FC(or)f FO(\\times)821 1598
y F0(o)109 b FO(\\wr)821 1647 y F0(/)89 b FO(\\propto)821
1697 y F4(\\)p FD(s)p F4(")63 b FO("s")1022 1682 y FI(\(1\))821
1747 y F0(8)98 b FO(\\A)821 1795 y F0(8)-21 b(8)g(8)821
1797 y(8)g(8)g(8)94 b FO(\\AA)825 1847 y F0(i)841 1853
y FJ(v)942 1847 y FO(>>_)p FV(v)821 1896 y F4(SF)871
1902 y FJ(v)942 1896 y FO(SF_)p FV(v)1326 601 y F0(\))61
b FO(=>)1331 635 y FI(\001)1326 658 y F4(=)71 b FO(==)1326
708 y F0(6)p F4(=)g FO(#)27 b FC(or)h FO(/=)1326 758
y FG(2)72 b FO([])1326 808 y FG(3)e FO(<>)1326 857 y
FG(;)61 b FO(~>)1332 889 y FI(+)1326 909 y F0(\000)-7
b FQ(.)57 b FO(-+->)1326 959 y F0(7!)k FO(|->)1326 1009
y F0(\004)71 b FO(\\div)1326 1058 y F0(\001)91 b FO(\\cdot)1326
1108 y F0(\016)82 b FO(\\o)27 b FC(or)h FO(\\circ)1326
1158 y F0(\017)82 b FO(\\bullet)1326 1208 y FQ(?)g FO(\\star)1326
1258 y F0(\015)61 b FO(\\bigcirc)1326 1307 y F0(\030)71
b FO(\\sim)1326 1357 y F0(')g FO(\\simeq)1326 1407 y
F0(\020)g FO(\\asymp)1326 1457 y F0(\031)g FO(\\approx)1326
1496 y F0(\030)1326 1509 y F4(=)1429 1507 y FO(\\cong)1336
1533 y FQ(:)1326 1557 y F4(=)g FO(\\doteq)1326 1606 y
FV(x)1350 1591 y FJ(y)1429 1606 y FO(x^y)1508 1591 y
FI(\(2\))1326 1656 y FV(x)1350 1641 y FS(+)1429 1656
y FO(x^+)1508 1641 y FI(\(2\))1326 1706 y FV(x)1350 1691
y FH(\003)1429 1706 y FO(x^*)1508 1691 y FI(\(2\))1326
1756 y FQ(x)1350 1741 y FS(#)1429 1756 y FO(x^#)1508
1741 y FI(\(2\))1326 1791 y FH(0)1429 1806 y FO(')p Black
Black 208 1972 2 25 v 210 1949 258 2 v 522 1962 a(--------)710
1947 y FI(\(3\))p Black Black 859 1949 255 2 v 1114 1972
2 25 v 1171 1962 a FO(--------)1359 1947 y FI(\(3\))p
Black Black 208 2022 V 210 2011 252 2 v 462 2022 2 25
v 518 2020 a FO(--------)706 2005 y FI(\(3\))p Black
Black 855 2016 V 857 2016 252 2 v 1109 2016 2 25 v 1166
2020 a FO(========)1354 2005 y FI(\(3\))p 208 2070 288
2 v 208 2120 a FZ(\(1\))10 b FY(s)k FZ(is)e(a)f(sequence)f(of)h(c)o
(haracters.)h(See)f(Section)f(16.1.10)f(on)i(page)f(307.)208
2163 y(\(2\))g FY(x)17 b FZ(and)10 b FY(y)15 b FZ(are)c(an)o(y)g
(expressions.)208 2206 y(\(3\))f(a)i(sequence)d(of)i(four)g(or)g(more)f
Fn(-)i FZ(or)f Fn(=)g FZ(c)o(haracters.)p Black 419 2292
a FU(T)l(able)k(8:)k F4(The)14 b FP(asci)q(i)f F4(represen)o(tations)j
(of)d(t)o(yp)q(eset)i(sym)o(b)q(ols.)p Black Black Black
Black eop
%%Page: 274 292
274 291 bop Black 208 275 a F4(274)p 208 282 1770 2 v
Black Black Black eop
%%Page: 275 293
275 292 bop Black Black 208 703 a FL(Chapter)31 b(15)208
910 y F5(The)38 b(Syn)m(tax)h(of)f(TLA)1205 873 y Fk(+)208
1134 y F4(This)20 b(b)q(o)q(ok)h(uses)h(the)f FP(asci)q(i)f
F4(v)o(ersion)h(of)f(TLA)997 1118 y FS(+)1018 1134 y
F4(|the)h(v)o(ersion)g(based)g(on)g(the)g FP(asci)q(i)208
1183 y F4(c)o(haracter)16 b(set.)22 b(One)16 b(can)g(de\014ne)g(other)f
(v)o(ersions)h(of)e(TLA)1165 1168 y FS(+)1201 1183 y
F4(that)h(use)h(di\013eren)o(t)g(sets)g(of)208 1233 y(c)o(haracters.)i
(A)11 b(di\013eren)o(t)g(v)o(ersion)f(migh)o(t)e(allo)o(w)h(an)h
(expression)i(lik)o(e)d(\012[)-7 b FV(\027)-28 b(a)s
F4(])r F0(\016)r(h)s F4(\\)p FD(\030)-18 b(ca)p F4(")s
F0(i)p F4(.)17 b(Since)208 1283 y(mathematical)10 b(form)o(ulas)h(lo)q
(ok)i(prett)o(y)h(m)o(uc)o(h)e(the)i(same)f(in)g(most)f(languages,)h
(the)h(basic)208 1333 y(syn)o(tax)j(of)h(all)f(v)o(ersions)h(of)g(TLA)
758 1318 y FS(+)796 1333 y F4(should)g(b)q(e)h(the)f(same.)30
b(Di\013eren)o(t)18 b(v)o(ersions)h(w)o(ould)208 1383
y(di\013er)12 b(in)g(their)g(lexemes)g(and)g(in)f(the)i(iden)o
(ti\014ers)f(and)g(strings)h(they)f(allo)o(w.)k(This)c(c)o(hapter)208
1432 y(describ)q(es)k(the)e(syn)o(tax)g(of)f(the)i FP(asci)q(i)d
F4(v)o(ersion,)i(the)h(only)e(one)h(that)g(no)o(w)f(exists.)270
1482 y(The)j(term)g FV(syntax)22 b F4(has)16 b(t)o(w)o(o)g(di\013eren)o
(t)h(usages,)g(whic)o(h)f(I)g(will)f(somewhat)g(arbitrar-)208
1532 y(ily)f(attribute)i(to)f(mathematicians)e(and)j(computer)f(scien)o
(tists.)24 b(A)16 b(computer)f(scien)o(tist)208 1582
y(w)o(ould)c(sa)o(y)g(that)h F0(h)s FV(a)s FQ(;)j FV(a)7
b F0(i)12 b F4(is)f(a)h(syn)o(tactically)f(correct)j(TLA)1145
1567 y FS(+)1177 1582 y F4(expression.)19 b(A)12 b(mathemati-)208
1632 y(cian)18 b(w)o(ould)g(sa)o(y)g(that)h(the)g(expression)h(is)e
(syn)o(tactically)g(correct)i(i\013)e(it)h(app)q(ears)g(in)f(a)208
1681 y(con)o(text)d(in)g(whic)o(h)f FV(a)19 b F4(is)14
b(de\014ned)i(or)f(declared.)22 b(A)15 b(computer)g(scien)o(tist)h(w)o
(ould)e(call)g(this)208 1731 y(requiremen)o(t)k(a)g FV(semantic)j
F4(rather)f(than)e(a)h(syn)o(tactic)g(condition.)31 b(A)19
b(mathematician)208 1781 y(w)o(ould)11 b(sa)o(y)g(that)h
F0(h)s FV(a)s FQ(;)j FV(a)7 b F0(i)12 b F4(is)g(meaningless)e(if)h
FV(a)16 b F4(isn't)11 b(de\014ned)i(or)f(declared,)h(and)f(one)g(can't)
208 1831 y(talk)e(ab)q(out)h(the)g(seman)o(tics)g(of)f(a)h(meaningless)
f(expression.)18 b(This)11 b(c)o(hapter)h(describ)q(es)h(the)208
1881 y(syn)o(tax)k(of)f(TLA)481 1866 y FS(+)502 1881
y F4(,)i(in)e(the)i(computer)f(scien)o(tist's)h(sense)h(of)e(syn)o
(tax.)28 b(The)17 b(\\seman)o(tic")208 1931 y(part)d(of)f(the)h(syn)o
(tax)g(is)g(sp)q(eci\014ed)h(in)f(Chapters)h(16)e(and)h(17.)270
1980 y(TLA)357 1965 y FS(+)397 1980 y F4(is)20 b(designed)g(to)g(b)q(e)
g(easy)g(for)g(h)o(umans)e(to)i(read)g(and)f(write.)36
b(In)20 b(particu-)208 2030 y(lar,)14 b(its)i(syn)o(tax)f(for)g
(expressions)i(tries)f(to)g(capture)g(some)f(of)g(the)h(ric)o(hness)g
(of)f(ordinary)208 2080 y(mathematical)c(notation.)18
b(This)d(mak)o(es)e(a)h(precise)i(sp)q(eci\014cation)f(of)f(the)h(syn)o
(tax)f(rather)208 2130 y(complicated.)20 b(Suc)o(h)15
b(a)g(sp)q(eci\014cation)g(has)g(b)q(een)h(written)g(in)e(TLA)1289
2115 y FS(+)1310 2130 y F4(,)h(but)g(it's)g(quite)g(de-)208
2180 y(tailed)d(and)h(y)o(ou)g(probably)f(don't)g(w)o(an)o(t)h(to)g(lo)
q(ok)f(at)h(it)g(unless)h(y)o(ou)e(are)i(writing)e(a)h(parser)208
2229 y(for)f(the)h(language.)k(This)c(c)o(hapter)h(giv)o(es)e(a)h(less)
h(formal)c(description)j(of)g(the)g(syn)o(tax)g(that)208
2279 y(should)k(answ)o(er)i(an)o(y)e(questions)h(lik)o(ely)f(to)g
(arise)h(in)g(practice.)30 b(Section)18 b(15.1)f(sp)q(eci\014es)208
2329 y(precisely)d(a)f(simple)f(grammar)e(that)k(ignores)f(some)g(asp)q
(ects)i(of)d(the)i(syn)o(tax)g(suc)o(h)g(as)f(op-)208
2379 y(erator)18 b(precedence,)j(inden)o(tation)c(rules)i(for)e
F0(^)g F4(and)h F0(_)f F4(lists,)h(and)g(commen)o(ts.)28
b(These)208 2429 y(other)16 b(asp)q(ects)i(are)f(explained)f
(informally)d(in)j(Section)g(15.2.)24 b(Sections)17 b(15.1)e(and)h
(15.2)208 2478 y(describ)q(e)d(the)e(grammar)e(of)h(a)h(TLA)773
2463 y FS(+)805 2478 y F4(mo)q(dule)f(view)o(ed)h(as)h(a)f(sequence)i
(of)e(lexemes,)g(where)p Black 1915 2622 a(275)p Black
eop
%%Page: 276 294
276 293 bop Black 208 275 a F4(276)926 b FR(CHAPTER)14
b(15.)31 b(THE)15 b(SYNT)m(AX)e(OF)i(TLA)1957 260 y FS(+)p
208 282 1770 2 v Black 208 391 a F4(a)c(lexeme)f(is)h(a)g(sequence)j
(of)d(c)o(haracters)i(suc)o(h)f(as)f FO(|->)g F4(that)g(forms)f(an)h
(atomic)f(unit)h(of)f(the)208 441 y(gramma)o(r.)15 b(Section)g(15.3)d
(describ)q(es)k(ho)o(w)d(the)i(sequence)h(of)d(c)o(haracters)j(that)d
(y)o(ou)h(actu-)208 491 y(ally)g(t)o(yp)q(e)i(are)f(turned)i(in)o(to)e
(a)g(sequence)i(of)e(lexemes.)23 b(It)15 b(includes)h(the)g(precise)h
(syn)o(tax)208 541 y(for)c(commen)o(ts.)270 591 y(This)18
b(c)o(hapter)g(describ)q(es)i(the)f FP(asci)q(i)e F4(syn)o(tax)g(for)h
(TLA)1182 576 y FS(+)1220 591 y F4(sp)q(eci\014cations.)32
b(T)o(yp)q(eset)208 640 y(v)o(ersions)16 b(of)f(sp)q(eci\014cations)j
(app)q(ear)e(in)g(this)g(b)q(o)q(ok.)24 b(F)m(or)15 b(example,)g(the)i
(in\014x)e(op)q(erator)208 690 y(t)o(yp)q(eset)j(as)f
F0(\036)g F4(is)f(represen)o(ted)k(in)c FP(asci)q(i)g
F4(as)h FO(\\prec)p F4(.)25 b(T)m(able)16 b(8)h(on)f(page)h(273)f(giv)o
(es)g(the)208 740 y(corresp)q(ondence)g(b)q(et)o(w)o(een)e(the)g
FP(asci)q(i)e F4(and)h(t)o(yp)q(eset)h(v)o(ersions)g(of)e(all)g(TLA)
1405 725 y FS(+)1439 740 y F4(sym)o(b)q(ols)f(for)208
790 y(whic)o(h)i(the)i(corresp)q(ondence)i(ma)o(y)12
b(not)h(b)q(e)i(ob)o(vious.)208 948 y FN(15.1)82 b(The)26
b(Simple)g(Grammar)208 1039 y F4(The)11 b(simple)e(grammar)f(of)i(TLA)
722 1024 y FS(+)754 1039 y F4(is)h(describ)q(ed)h(in)f(BNF.)17
b(More)12 b(precisely)m(,)f(it)g(is)f(sp)q(eci\014ed)208
1089 y(b)q(elo)o(w)17 b(in)g(the)h(TLA)543 1074 y FS(+)581
1089 y F4(mo)q(dule)e FV(TLAPlusGr)n(ammar)t F4(.)28
b(This)18 b(mo)q(dule)e(uses)j(the)f(op)q(era-)208 1139
y(tors)e(for)g(represen)o(ting)i(BNF)f(gramma)o(rs)d(de\014ned)j(in)f
(the)h FV(BNF)o(Gr)n(ammars)i F4(mo)q(dule)14 b(of)208
1189 y(Section)j(11.1.4)e(\(page)i(179\).)26 b(Mo)q(dule)17
b FV(TLAPlusGr)n(ammar)k F4(con)o(tains)16 b(commen)o(ts)g(de-)208
1238 y(scribing)e(ho)o(w)f(to)h(read)h(the)f(sp)q(eci\014cation)h(as)f
(an)g(ordinary)g(BNF)g(grammar.)i(So,)d(if)g(y)o(ou)208
1288 y(are)k(famili)o(ar)d(with)i(BNF)h(grammars)d(and)j(just)g(w)o(an)
o(t)f(to)g(learn)h(the)g(syn)o(tax)g(of)f(TLA)1614 1273
y FS(+)1634 1288 y F4(,)208 1338 y(y)o(ou)g(don't)h(ha)o(v)o(e)g(to)h
(understand)g(ho)o(w)f(the)h(TLA)1027 1323 y FS(+)1065
1338 y F4(op)q(erators)g(for)f(writing)g(gramma)o(rs)208
1388 y(are)c(de\014ned.)18 b(Otherwise,)c(y)o(ou)e(should)h(read)g
(Section)g(11.1.4)d(b)q(efore)k(trying)e(to)g(read)h(the)208
1438 y(follo)o(wing)e(mo)q(dule.)p Black Black 188 1545
2 25 v 190 1522 467 2 v 670 1529 a FP(module)17 b FV(TLAPlusGr)n(ammar)
p 1198 1522 V 1665 1545 2 25 v 208 1587 a FP(extends)f
FV(Natur)n(als,)e(Se)n(quenc)n(es,)i(BNF)o(Gr)n(ammars)p
188 1641 V 190 1630 1475 2 v 1665 1641 2 25 v .95 TeXcolorgray
.95 TeXcolorgray 199 2219 1460 560 v .95 TeXcolorgray
Black 208 1695 a FZ(This)11 b(mo)q(dule)f(de\014nes)f(a)j(simple)e
(grammar)f(for)i(TLA)946 1684 y FK(+)978 1695 y FZ(that)f(ignores)g
(man)o(y)g(asp)q(ects)g(of)h(the)g(language,)208 1735
y(suc)o(h)f(as)h(op)q(erator)f(precedence)e(and)j(inden)o(tatio)o(n)e
(rules.)16 b(I)c(use)e(the)h(term)g FY(sentenc)n(e)k
FZ(to)c(mean)f(a)i(se-)208 1774 y(quence)d(of)i(lexemes,)f(where)h(a)g
(lexeme)f(is)h(just)g(a)g(string.)16 b(The)c FY(BNF)o(Gr)n(ammars)j
FZ(mo)q(dule)10 b(de\014nes)g(the)208 1814 y(follo)o(wing)g(standard)f
(con)o(v)o(en)o(tion)o(s)g(for)i(writing)g(sets)g(of)g(sen)o(tences:)k
FY(L)j FW(j)f FY(M)g FZ(means)10 b(an)h FY(L)h FZ(or)f(an)g
FY(M)5 b FZ(,)208 1853 y FY(L)230 1841 y FX(\003)260
1853 y FZ(means)10 b(the)g(concatenatio)o(n)f(of)i(zero)g(or)g(more)f
FY(L)p FZ(s,)i(and)e FY(L)1048 1841 y FK(+)1086 1853
y FZ(means)g(the)h(concatenat)o(ion)d(of)j(one)g(or)208
1893 y(more)f FY(L)p FZ(s.)17 b(The)12 b(concatenati)o(on)c(of)k(an)f
FY(L)h FZ(and)e(an)h FY(M)17 b FZ(is)12 b(denoted)d(b)o(y)i
FY(L)16 b FZ(&)d FY(M)j FZ(rather)10 b(than)h(the)f(cus-)208
1932 y(tomary)f(juxtap)q(osition)f FY(L)e(M)f FZ(.)18
b FY(Nil)d FZ(is)d(the)e(n)o(ull)h(sen)o(tence,)e(so)i
FY(Nil)20 b FZ(&)13 b FY(L)f FZ(equals)e FY(L)i FZ(for)f(an)o(y)f
FY(L)p FZ(.)208 1989 y(A)i FY(token)j FZ(is)d(a)f(one-lexeme)d(sen)o
(tence.)15 b(There)c(are)g(t)o(w)o(o)h(op)q(erators)d(for)i(de\014ning)
e(sets)i(of)g(tok)o(ens:)16 b(if)11 b FY(s)j FZ(is)208
2028 y(a)d(lexeme,)e(then)i FY(tok)t FZ(\()p FY(s)s FZ(\))f(is)i(the)e
(set)i(con)o(taining)c(the)j(single)f(tok)o(en)g FW(h)s
FY(s)5 b FW(i)p FZ(;)11 b(and)g(if)g FY(S)16 b FZ(is)11
b(a)h(set)f(of)g(lexemes,)208 2068 y(then)f FY(T)m(ok)t
FZ(\()p FY(S)t FZ(\))h(is)g(the)g(set)g(con)o(taining)e(all)i(tok)o
(ens)f FW(h)s FY(s)5 b FW(i)11 b FZ(for)g FY(s)18 b FW(2)e
FY(S)t FZ(.)h(In)11 b(commen)o(ts,)e(I)i(will)h(not)f(distin-)208
2107 y(guish)f(b)q(et)o(w)o(een)g(the)h(tok)o(en)f FW(h)s
FY(s)5 b FW(i)11 b FZ(and)g(the)g(string)f FY(s)s FZ(.)208
2164 y(W)m(e)h(b)q(egin)f(b)o(y)h(de\014ning)f(t)o(w)o(o)h(useful)f(op)
q(erators.)15 b(First,)c(a)g FY(CommaList)s FZ(\()p FY(L)p
FZ(\))h(is)f(de\014ned)f(to)h(b)q(e)g(an)g FY(L)h FZ(or)f(a)208
2204 y(sequence)e(of)i FY(L)p FZ(s)h(separated)d(b)o(y)i(commas.)p
.95 TeXcolorgray Black 208 2263 a FV(CommaList)t F4(\()p
FV(L)p F4(\))519 2239 y FI(\001)514 2263 y F4(=)35 b
FV(L)18 b F4(&)8 b(\()p FV(tok)t F4(\(\\)p FD(,)p F4("\))18
b(&)d FV(L)p F4(\))932 2248 y FH(\003)p .95 TeXcolorgray
.95 TeXcolorgray 199 2386 1460 84 v .95 TeXcolorgray
Black 208 2338 a FZ(Next,)c(if)g FY(c)j FZ(is)d(a)h(c)o(haracter,)c
(then)j(w)o(e)h(de\014ne)e FY(A)o(tL)n(e)n(ast)s FZ(4\(\\)p
Fv(c)p FZ(")o(\))i(to)f(b)q(e)g(the)g(set)g(of)g(tok)o(ens)f
(consisting)f(of)i(4)208 2378 y(or)g(more)f FY(c)r FZ('s.)p
.95 TeXcolorgray Black 208 2439 a FV(A)o(tL)n(e)n(ast)t
F4(4\()p FV(s)s F4(\))461 2415 y FI(\001)456 2439 y F4(=)35
b FV(T)m(ok)t F4(\()p F0(f)p FV(s)13 b F0(\016)c FV(s)j
F0(\016)d FV(s)s F0(g)19 b F4(&)7 b F0(f)p FV(s)s F0(g)911
2424 y FS(+)939 2439 y F4(\))p 188 2493 2 25 v 190 2482
1475 2 v 1665 2492 2 25 v Black Black eop
%%Page: 277 295
277 294 bop Black 208 275 a FR(15.1.)30 b(THE)14 b(SIMPLE)h(GRAMMAR)
1081 b F4(277)p 208 282 1770 2 v Black .95 TeXcolorgray
.95 TeXcolorgray 199 487 1460 132 v .95 TeXcolorgray
Black 208 391 a FZ(W)m(e)11 b(no)o(w)h(de\014ne)e(some)g(sets)h(of)g
(lexemes.)16 b(First)11 b(is)g FY(R)n(eserve)n(dWor)n(d)s
FZ(,)j(the)d(set)g(of)g(w)o(ords)g(that)f(can't)h(b)q(e)208
431 y(used)f(as)h(iden)o(ti\014ers.)k(\(Note)c(that)f
Fu(boolean)q FZ(,)i Fu(tr)o(ue)p FZ(,)f Fu(f)m(alse)p
FZ(,)h(and)e Fu(string)j FZ(are)d(iden)o(ti\014ers)f(that)i(are)208
470 y(prede\014ned)o(.\))p .95 TeXcolorgray Black 208
534 a FV(R)n(eserve)n(dWor)n(d)509 511 y FI(\001)504
534 y F4(=)250 584 y F0(f)p F4(\\)p FD(ASSUME)p F4(")o
FQ(;)124 b F4(\\)p FD(ELSE)p F4(")o FQ(;)h F4(\\)p FD(LOCAL)p
F4(")o FQ(;)135 b F4(\\)p FD(UNION)p F4(")o FQ(;)271
634 y F4(\\)p FD(ASSUMPTION)p F4(")n FQ(;)23 b F4(\\)p
FD(ENABLED)p F4(")o FQ(;)33 b F4(\\)p FD(MODULE)p F4(")o
FQ(;)92 b F4(\\)p FD(V)m(ARIABLE)p F4(")m FQ(;)271 684
y F4(\\)p FD(AXIOM)p F4(")n FQ(;)154 b F4(\\)p FD(EX)o(CEPT)p
F4(")n FQ(;)62 b F4(\\)p FD(OTHER)p F4(")o FQ(;)125 b
F4(\\)p FD(V)m(ARIABLES)p F4(")m FQ(;)271 734 y F4(\\)p
FD(CASE)p F4(")n FQ(;)186 b F4(\\)p FD(EXTENDS)p F4(")o
FQ(;)32 b F4(\\)p FD(SF)p FO(_)o F4(")p FQ(;)196 b F4(\\)p
FD(WF)p FO(_)o F4(")p FQ(;)271 784 y F4(\\)p FD(CHOOSE)p
F4(")n FQ(;)123 b F4(\\)p FD(IF)p F4(")n FQ(;)185 b F4(\\)p
FD(SUBSET)p F4(")o FQ(;)109 b F4(\\)p FD(WITH)p F4(")p
FQ(;)271 833 y F4(\\)p FD(CONST)m(ANT)p F4(")o FQ(;)68
b F4(\\)p FD(IN)p F4(")o FQ(;)179 b F4(\\)p FD(THEN)p
F4(")p FQ(;)271 883 y F4(\\)p FD(CONST)m(ANTS)p F4(")o
FQ(;)45 b F4(\\)p FD(INST)m(ANCE)p F4(")n FQ(;)23 b F4(\\)p
FD(THEOREM)p F4(")o FQ(;)271 933 y F4(\\)p FD(DOMAIN)p
F4(")o FQ(;)122 b F4(\\)p FD(LET)p F4(")p FQ(;)144 b
F4(\\)p FD(UNCHANGED)p F4(")319 b F0(g)p .95 TeXcolorgray
.95 TeXcolorgray 199 1057 1460 91 v .95 TeXcolorgray
Black 208 1002 a FZ(Next)11 b(are)g(three)f(sets)h(of)g(c)o
(haracters|mo)o(re)e(precisely)m(,)g(sets)i(of)g(1-c)o(haracter)d
(lexemes.)16 b(They)11 b(are)g(the)208 1042 y(sets)g(of)g(letters,)f(n)
o(um)o(b)q(ers,)f(and)h(c)o(haracters)f(that)i(can)f(app)q(ear)g(in)h
(an)g(iden)o(ti\014er.)p .95 TeXcolorgray Black 208 1103
a FV(L)n(etter)359 1080 y FI(\001)354 1103 y F4(=)250
1153 y FV(OneOf)e F4(\(\\)p FD(ab)q(cdefghijklmnop)q(qrstuvwxyzABCDEF)o
(GHIJKLMNOPQRSTUVWXYZ)p F4(")o(\))208 1214 y FV(Numer)n(al)435
1190 y FI(\001)430 1214 y F4(=)23 b FV(OneOf)9 b F4(\(\\)p
FD(0123456789)p F4(")m(\))208 1271 y FV(NameChar)435
1247 y FI(\001)430 1271 y F4(=)23 b FV(L)n(etter)d F0([)c
FV(Numer)n(al)k F0([)15 b(f)p F4(\\)p FO(_)p F4(")o F0(g)p
.95 TeXcolorgray .95 TeXcolorgray 199 1473 1460 169 v
.95 TeXcolorgray Black 208 1340 a FZ(W)m(e)c(no)o(w)h(de\014ne)e(some)g
(sets)h(of)g(tok)o(ens.)16 b(A)c FY(Name)k FZ(is)11 b(a)h(tok)o(en)e
(comp)q(osed)e(of)k(letters,)e(n)o(um)o(b)q(ers,)f(and)208
1380 y Fn(_)i FZ(c)o(haracters)e(that)h(con)o(tains)g(at)h(least)f(one)
h(letter,)f(but)h(do)q(es)f(not)h(b)q(egin)f(with)h(\\)p
Fv(WF)p Fn(_)p FZ(")h(or)f(\\)p Fv(SF)p Fn(_)o FZ(")g(\(see)208
1419 y(page)f(290)h(for)g(an)g(explanatio)o(n)e(of)i(this)g
(restriction\))o(.)k(It)c(can)g(b)q(e)g(used)f(as)i(the)e(name)h(of)g
(a)g(record)f(\014eld)208 1458 y(or)h(a)g(mo)q(dule.)k(An)d
FY(Identi\014er)k FZ(is)11 b(a)h FY(Name)j FZ(that)c(isn't)f(a)i
(reserv)o(ed)d(w)o(ord.)p .95 TeXcolorgray Black 208
1526 a FV(Name)406 1502 y FI(\001)401 1526 y F4(=)24
b FV(T)m(ok)t F4(\()7 b(\()p FV(NameChar)766 1511 y FH(\003)804
1526 y F4(&)14 b FV(L)n(etter)22 b F4(&)15 b FV(NameChar)1226
1511 y FH(\003)1245 1526 y F4(\))643 1576 y F0(n)j F4(\()p
F0(f)p F4(\\)p FD(WF)p FO(_)o F4(")p FQ(;)13 b F4(\\)p
FD(SF)p FO(_)p F4(")o F0(g)19 b F4(&)14 b FV(NameChar)1265
1561 y FS(+)1293 1576 y F4(\))7 b(\))208 1632 y FV(Identi\014er)406
1609 y FI(\001)401 1632 y F4(=)24 b FV(Name)10 b F0(n)d
FV(T)m(ok)t F4(\()p FV(R)n(eserve)n(dWor)n(d)t F4(\))p
.95 TeXcolorgray .95 TeXcolorgray 199 1750 1460 84 v
.95 TeXcolorgray Black 208 1702 a FZ(An)k FY(Identi\014erOrT)m(uple)16
b FZ(is)c(either)e(an)h(iden)o(ti\014er)e(or)i(a)g(tuple)f(of)i(iden)o
(ti\014ers.)i(Note)d(that)g FW(h)g(i)h FZ(is)f(t)o(yp)q(ed)f(as)208
1741 y Fn(<<)h(>>)p FZ(.)p .95 TeXcolorgray Black 208
1803 a FV(Identi\014erOrT)m(uple)565 1779 y FI(\001)560
1803 y F4(=)265 1852 y FV(Identi\014er)27 b F0(j)17 b
FV(tok)t F4(\(\\)p FO(<<)p F4("\))h(&)d FV(CommaList)t
F4(\()p FV(Identi\014er)t F4(\))j(&)d FV(tok)t F4(\(\\)p
FO(>>)p F4("\))p .95 TeXcolorgray .95 TeXcolorgray 199
2019 1460 132 v .95 TeXcolorgray Black 208 1923 a FZ(A)d
FY(Numb)n(er)17 b FZ(is)11 b(a)h(tok)o(en)e(represen)o(ting)e(a)j(n)o
(um)o(b)q(er.)k(Y)m(ou)d(can)f(write)g(the)g(in)o(teger)e(63)i(in)h
(the)e(follo)o(wing)208 1963 y(w)o(a)o(ys:)17 b Fn(63)p
FZ(,)11 b Fn(63.00)p FZ(,)e Fn(\\b111111)g FZ(or)i Fn(\\B111111)e
FZ(\(binary\),)g Fn(\\o77)i FZ(or)g Fn(\\)o(O77)g FZ(\(o)q(ctal\),)f
(or)h Fn(\\)o(h3f)p FZ(,)g Fn(\\H3f)p FZ(,)f Fn(\\h3F)p
FZ(,)208 2002 y(or)h Fn(\\)o(H3F)g FZ(\(hexadecim)o(al\).)p
.95 TeXcolorgray Black 208 2075 a FV(Numb)n(erL)n(exeme)525
2052 y FI(\001)520 2075 y F4(=)110 b FV(Numer)n(al)820
2060 y FS(+)610 2125 y F0(j)40 b F4(\()p FV(Numer)n(al)836
2110 y FH(\003)873 2125 y F4(&)7 b F0(f)p F4(\\)p FD(.)p
F4(")o F0(g)18 b F4(&)d FV(Numer)n(al)1230 2110 y FS(+)1257
2125 y F4(\))610 2175 y F0(j)40 b(f)p F4(\\)p FO(\\)o
FD(b)p F4(")p FQ(;)7 b F4(\\)p FO(\\)o FD(B)p F4(")o
F0(g)19 b F4(&)14 b FV(OneOf)9 b F4(\(\\)p FD(01)p F4(")o(\))1205
2160 y FS(+)610 2224 y F0(j)40 b(f)p F4(\\)p FO(\\)o
FD(o)p F4(")o FQ(;)7 b F4(\\)p FO(\\)o FD(O)p F4(")p
F0(g)18 b F4(&)c FV(OneOf)9 b F4(\(\\)p FD(01234567)p
F4(")n(\))1332 2209 y FS(+)610 2274 y F0(j)40 b(f)p F4(\\)p
FO(\\)o FD(h)p F4(")p FQ(;)7 b F4(\\)p FO(\\)o FD(H)p
F4(")p F0(g)18 b F4(&)d FV(OneOf)9 b F4(\(\\)p FD(0123456789ab)q
(cdefABCDEF)p F4(")m(\))1647 2259 y FS(+)208 2356 y FV(Numb)n(er)392
2332 y FI(\001)387 2356 y F4(=)35 b FV(T)m(ok)t F4(\()p
FV(Numb)n(erL)n(exeme)s F4(\))p .95 TeXcolorgray .95
TeXcolorgray 199 2481 1460 91 v .95 TeXcolorgray Black
208 2427 a FZ(A)12 b FY(String)j FZ(tok)o(en)10 b(represen)o(ts)f(a)i
(literal)f(string.)16 b(See)11 b(Section)e(16.1.10)h(on)h(page)f(307)h
(to)g(\014nd)g(out)f(ho)o(w)208 2466 y(sp)q(ecial)f(c)o(haracters)g
(are)i(t)o(yp)q(ed)f(in)h(a)h(string.)p .95 TeXcolorgray
Black Black Black eop
%%Page: 278 296
278 295 bop Black 208 275 a F4(278)926 b FR(CHAPTER)14
b(15.)31 b(THE)15 b(SYNT)m(AX)e(OF)i(TLA)1957 260 y FS(+)p
208 282 1770 2 v Black 208 392 a FV(String)360 368 y
FI(\001)356 392 y F4(=)34 b FV(T)m(ok)t F4(\()7 b F0(f)p
F4(\\)g FO(")g F4(")p F0(g)18 b F4(&)c FP(string)k F4(&)8
b F0(f)p F4(\\)e FO(")h F4(")p F0(g)g F4(\))p .95 TeXcolorgray
.95 TeXcolorgray 199 556 1460 130 v .95 TeXcolorgray
Black 208 463 a FZ(W)m(e)k(next)g(de\014ne)f(the)g(sets)h(of)h(tok)o
(ens)e(that)g(represen)o(t)f(pre\014x)h(op)q(erators)f(\(lik)o(e)i
Fs(2)p FZ(\),)g(in\014x)g(op)q(erators)208 502 y(\(lik)o(e)f(+\),)i
(and)e(p)q(ost\014x)g(op)q(erators)f(\(lik)o(e)i(prime)f(\()882
490 y FX(0)893 502 y FZ(\)\).)16 b(See)11 b(T)m(able)g(8)h(on)f(page)f
(273)h(to)g(\014nd)f(out)h(what)208 542 y(sym)o(b)q(ols)e(these)i
Fu(asci)q(i)g FZ(strings)f(represen)o(t.)p .95 TeXcolorgray
Black 208 614 a FV(Pr)n(e\014xOp)408 591 y FI(\001)403
614 y F4(=)35 b FV(T)m(ok)t F4(\()p F0(f)p Black 14 w
F4(\\)p FO(-)p F4(",)13 b(\\)p FO(~)p F4(",)f(\\)p FO(\\lnot)p
F4(",)g(\\)p FO(\\neg)p F4(",)g(\\)p FO([)7 b(])p F4(",)13
b(\\)p FO(<)6 b(>)p F4(",)p Black 14 w(\\)p FD(DOMAIN)p
F4(")o FQ(;)578 664 y F4(\\)p FD(ENABLED)p F4(")o FQ(;)22
b F4(\\)p FD(SUBSET)p F4(")o FQ(;)f F4(\\)p FD(UNCHANGED)p
F4(")o FQ(;)g F4(\\)p FD(UNION)p F4(")o F0(g)p F4(\))208
725 y FV(In\014xOp)385 701 y FI(\001)380 725 y F4(=)250
775 y FV(T)m(ok)t F4(\()7 b F0(f)12 b F4(\\)p FO(!!)p
F4(",)70 b(\\)p FO(#)p F4(",)g(\\)p FO(##)p F4(",)h(\\)p
FO($)p F4(",)92 b(\\)p FO($$)p F4(",)70 b(\\)p FO(\045)p
F4(",)114 b(\\)p FO(\045\045)p F4(",)377 825 y(\\)p FO(&)p
F4(",)92 b(\\)p FO(&&)p F4(",)48 b(\\)p FO(\(+\))p F4(",)h(\\)p
FO(\(-\))p F4(",)f(\\)p FO(\(.\))p F4(",)g(\\)p FO(\(/\))p
F4(",)70 b(\\)p FO(\(\\X\))p F4(",)377 874 y(\\)p FO(*)p
F4(",)92 b(\\)p FO(**)p F4(",)48 b(\\)p FO(+)p F4(",)93
b(\\)p FO(++)p F4(",)70 b(\\)p FO(-)p F4(",)92 b(\\)p
FO(-+->)p F4(",)48 b(\\)p FO(--)p F4(",)377 924 y(\\)p
FO(-|)p F4(",)70 b(\\)p FO(..)p F4(",)48 b(\\)p FO(...)p
F4(",)h(\\)p FO(/)p F4(",)92 b(\\)p FO(//)p F4(",)70
b(\\)p FO(/=)p F4(",)92 b(\\)p FO(/\\)p F4(",)377 974
y(\\)p FO(::=)p F4(",)48 b(\\)p FO(:=)p F4(",)g(\\)p
FO(:>)p F4(",)71 b(\\)p FO(<)p F4(",)92 b(\\)p FO(<:)p
F4(",)70 b(\\)p FO(<=>)p F4(",)g(\\)p FO(=)p F4(",)377
1024 y(\\)p FO(=<)p F4(",)g(\\)p FO(=>)p F4(",)48 b(\\)p
FO(=|)p F4(",)71 b(\\)p FO(>)p F4(",)92 b(\\)p FO(>=)p
F4(",)70 b(\\)p FO(?)p F4(",)114 b(\\)p FO(??)p F4(",)377
1074 y(\\)p FO(@@)p F4(",)70 b(\\)p FO(\\)p F4(",)g(\\)p
FO(\\/)p F4(",)h(\\)p FO(^)p F4(",)92 b(\\)p FO(^^)p
F4(",)70 b(\\)p FO(|)p F4(",)114 b(\\)p FO(|-)p F4(",)377
1123 y(\\)p FO(|=)p F4(",)70 b(\\)p FO(||)p F4(",)48
b(\\)p FO(~>)p F4(",)71 b(\\)p FO(.)p F4(",)377 1173
y(\\)p FO(\\)o FD(app)o(ro)o(x)p F4(")p FV(,)85 b F4(\\)p
FO(\\)p FD(geq)p F4(")p FV(,)171 b F4(\\)p FO(\\)o FD(oslash)p
F4(")p FV(,)166 b F4(\\)p FO(\\)p FD(sqsupseteq)p F4(")p
FV(,)377 1223 y F4(\\)p FO(\\)o FD(asymp)p F4(")p FV(,)89
b F4(\\)p FO(\\)p FD(gg)q F4(")p FV(,)188 b F4(\\)p FO(\\)o
FD(otimes)p F4(")p FV(,)156 b F4(\\)p FO(\\)p FD(sta)o(r)q
F4(")p FV(,)377 1273 y F4(\\)p FO(\\)o FD(bigcirc)p F4(")p
FV(,)87 b F4(\\)p FO(\\)p FD(in)p F4(")p FV(,)200 b F4(\\)p
FO(\\)o FD(p)o(rec)p F4(")p FV(,)g F4(\\)p FO(\\)p FD(subset)p
F4(")p FV(,)377 1323 y F4(\\)p FO(\\)o FD(bullet)p F4(")p
FV(,)104 b F4(\\)p FO(\\)p FD(intersect)p F4(")p FV(,)86
b F4(\\)p FO(\\)o FD(p)o(receq)p F4(")p FV(,)161 b F4(\\)p
FO(\\)p FD(subseteq)p F4(")p FV(,)377 1373 y F4(\\)p
FO(\\)o FD(cap)p F4(")p FV(,)140 b F4(\\)p FO(\\)p FD(land)p
F4(")p FV(,)159 b F4(\\)p FO(\\)o FD(p)o(ropto)p F4(")p
FV(,)f F4(\\)p FO(\\)p FD(succ)p F4(")p FV(,)377 1422
y F4(\\)p FO(\\)o FD(cdot)p F4(")p FV(,)124 b F4(\\)p
FO(\\)p FD(leq)p F4(")p FV(,)182 b F4(\\)p FO(\\)o FD(sim)p
F4(")p FV(,)210 b F4(\\)p FO(\\)p FD(succeq)p F4(")p
FV(,)377 1472 y F4(\\)p FO(\\)o FD(circ)p F4(")p FV(,)139
b F4(\\)p FO(\\)p FD(ll)p F4(")p FV(,)211 b F4(\\)p FO(\\)o
FD(simeq)p F4(")p FV(,)171 b F4(\\)p FO(\\)p FD(supset)p
F4(")p FV(,)377 1522 y F4(\\)p FO(\\)o FD(cong)q F4(")p
FV(,)117 b F4(\\)p FO(\\)p FD(lo)o(r)q F4(")p FV(,)186
b F4(\\)p FO(\\)o FD(sqcap)p F4(")p FV(,)174 b F4(\\)p
FO(\\)p FD(supseteq)p F4(")p FV(,)377 1572 y F4(\\)p
FO(\\)o FD(cup)p F4(")p FV(,)139 b F4(\\)p FO(\\)p FD(o)p
F4(")p FV(,)210 b F4(\\)p FO(\\)o FD(sqcup)p F4(")p FV(,)173
b F4(\\)p FO(\\)p FD(union)p F4(")p FV(,)377 1622 y F4(\\)p
FO(\\)o FD(div)q F4(")p FV(,)148 b F4(\\)p FO(\\)p FD(o)q(dot)p
F4(")p FV(,)k F4(\\)p FO(\\)o FD(sqsubset)p F4(")p FV(,)126
b F4(\\)p FO(\\)p FD(uplus)p F4(")p FV(,)377 1671 y F4(\\)p
FO(\\)o FD(doteq)p F4(")p FV(,)103 b F4(\\)p FO(\\)p
FD(ominus)p F4(")p FV(,)108 b F4(\\)p FO(\\)o FD(sqsubseteq)p
F4(")p FV(,)87 b F4(\\)p FO(\\)p FD(wr)q F4(")p FV(,)377
1721 y F4(\\)p FO(\\)o FD(equiv)q F4(")p FV(,)109 b F4(\\)p
FO(\\)p FD(oplus)p F4(")p FV(,)142 b F4(\\)p FO(\\)o
FD(sqsupset)p F4(")394 b F0(g)7 b F4(\))208 1833 y FV(Post\014xOp)425
1809 y FI(\001)421 1833 y F4(=)34 b FQ(T)6 b(ok)q F4(\()p
F0(f)p F4(\\)p FO(^+)p F4(",)13 b(\\)p FO(^*)p F4(",)f(\\)p
FO(^#)p F4(",)h(\\)p FO(')p F4(")o F0(g)p F4(\))p 188
1886 2 25 v 190 1875 1475 2 v 1665 1886 2 25 v .95 TeXcolorgray
.95 TeXcolorgray 199 1995 1460 91 v .95 TeXcolorgray
Black 208 1941 a FZ(F)m(ormally)m(,)c(the)i(grammar)e
FY(TLAPlusGr)n(ammar)16 b FZ(of)11 b(TLA)995 1929 y FK(+)1027
1941 y FZ(is)h(the)e(smallest)g(grammar)f(satisfying)g(the)208
1980 y(BNF)j(pro)q(duction)o(s)d(b)q(elo)o(w.)p .95 TeXcolorgray
Black 208 2041 a FV(TLAPlusGr)n(ammar)591 2018 y FI(\001)587
2041 y F4(=)250 2098 y FP(let)15 b FV(P)t F4(\()p FV(G)t
F4(\))474 2075 y FI(\001)469 2098 y F4(=)p .95 TeXcolorgray
.95 TeXcolorgray 199 2244 1460 130 v .95 TeXcolorgray
Black 208 2151 a FZ(Here)c(is)g(the)g(BNF)h(grammar.)j(T)m(erms)c(that)
f(b)q(egin)h(with)g(\\)p FY(G)s Fw(:)p FZ(",)f(lik)o(e)h
FY(G)s Fw(:)p FY(Mo)n(dule)r FZ(,)h(represen)o(t)d(non)o(termi-)208
2190 y(nals.)16 b(The)11 b(terminals)f(are)g(sets)h(of)h(tok)o(ens,)d
(either)h(de\014ned)g(ab)q(o)o(v)o(e)g(or)h(describ)q(ed)e(with)i(the)g
(op)q(erators)208 2230 y FY(tok)k FZ(and)c FY(T)m(ok)t
FZ(.)17 b(The)12 b(op)q(erators)d FY(A)o(tL)n(e)n(ast)s
FZ(4)k(and)d FY(CommaList)15 b FZ(are)c(de\014ned)e(ab)q(o)o(v)o(e.)p
.95 TeXcolorgray Black 208 2294 a F0(^)14 b FV(G)t FQ(:)p
FV(Mo)n(dule)26 b F4(::=)85 b FV(A)o(tL)n(e)n(ast)t F4(4\(\\)p
FO(-)p F4(")o(\))18 b(&)d FV(tok)t F4(\(\\)p FD(MODULE)p
F4("\))j(&)d FV(Name)21 b F4(&)15 b FV(A)o(tL)n(e)n(ast)t
F4(4\(\\)p FO(-)p F4(")o(\))531 2344 y(&)31 b(\()p FV(Nil)c
F0(j)16 b F4(\()p FV(tok)t F4(\(\\)p FD(EXTENDS)p F4("\))j(&)14
b FV(CommaList)t F4(\()p FV(Name)s F4(\)\)\))531 2393
y(&)31 b(\()p FV(G)t FQ(:)p FV(Unit)t F4(\))759 2378
y FH(\003)531 2443 y F4(&)g FV(A)o(tL)n(e)n(ast)t F4(4\(\\)p
FO(=)p F4(")o(\))p Black Black eop
%%Page: 279 297
279 296 bop Black 208 275 a FR(15.1.)30 b(THE)14 b(SIMPLE)h(GRAMMAR)
1081 b F4(279)p 208 282 1770 2 v Black 208 391 a F0(^)14
b FV(G)t FQ(:)p FV(Unit)26 b F4(::=)85 b FV(G)t FQ(:)p
FV(V)m(ariableDe)n(clar)n(ation)495 441 y F0(j)39 b FV(G)t
FQ(:)p FV(ConstantDe)n(clar)n(ation)495 491 y F0(j)g
F4(\()p FV(Nil)27 b F0(j)16 b FV(tok)t F4(\(\\)p FD(LOCAL)p
F4("\)\))j(&)14 b FV(G)t FQ(:)p FV(Op)n(er)n(atorDe\014nition)495
541 y F0(j)39 b F4(\()p FV(Nil)27 b F0(j)16 b FV(tok)t
F4(\(\\)p FD(LOCAL)p F4("\)\))j(&)14 b FV(G)t FQ(:)p
FV(F)m(unctionDe\014nition)495 591 y F0(j)39 b F4(\()p
FV(Nil)27 b F0(j)16 b FV(tok)t F4(\(\\)p FD(LOCAL)p F4("\)\))j(&)14
b FV(G)t FQ(:)p FV(Instanc)n(e)495 640 y F0(j)39 b F4(\()p
FV(Nil)27 b F0(j)16 b FV(tok)t F4(\(\\)p FD(LOCAL)p F4("\)\))j(&)14
b FV(G)t FQ(:)p FV(Mo)n(duleDe\014nition)495 690 y F0(j)39
b FV(G)t FQ(:)p FV(Assumption)495 740 y F0(j)g FV(G)t
FQ(:)p FV(The)n(or)n(em)495 790 y F0(j)g FV(G)t FQ(:)p
FV(Mo)n(dule)495 840 y F0(j)g FV(A)o(tL)n(e)n(ast)t F4(4\(\\)p
FO(-)p F4(")o(\))208 936 y F0(^)14 b FV(G)t FQ(:)p FV(V)m(ariableDe)n
(clar)n(ation)25 b F4(::=)335 985 y FV(T)m(ok)t F4(\()p
F0(f)p F4(\\)p FD(V)m(ARIABLE)p F4(")n FQ(;)7 b F4(\\)p
FD(V)m(ARIAB)o(LES)p F4(")m F0(g)p F4(\))19 b(&)14 b
FV(CommaList)t F4(\()p FV(Identi\014er)t F4(\))208 1081
y F0(^)g FV(G)t FQ(:)p FV(ConstantDe)n(clar)n(ation)26
b F4(::=)335 1131 y FV(T)m(ok)t F4(\()p F0(f)p F4(\\)p
FD(CONST)m(ANT)p F4(")o FQ(;)7 b F4(\\)p FD(CONST)m(ANTS)p
F4(")o F0(g)p F4(\))18 b(&)d FV(CommaList)t F4(\()p FV(G)t
FQ(:)p FV(OpDe)n(cl)t F4(\))208 1227 y F0(^)f FV(G)t
FQ(:)p FV(OpDe)n(cl)27 b F4(::=)85 b FV(Identi\014er)546
1277 y F0(j)39 b FV(Identi\014er)23 b F4(&)15 b FV(tok)t
F4(\(\\)p FD(\()p F4("\))j(&)d FV(CommaList)t F4(\()7
b FV(tok)t F4(\(\\)p FO(_)p F4("\))g(\))18 b(&)d FV(tok)t
F4(\(\\)p FD(\))p F4("\))546 1327 y F0(j)39 b FV(Pr)n(e\014xOp)21
b F4(&)15 b FV(tok)t F4(\(\\)p FO(_)p F4("\))546 1377
y F0(j)39 b FV(tok)t F4(\(\\)p FO(_)p F4("\))19 b(&)14
b FV(In\014xOp)22 b F4(&)15 b FV(tok)t F4(\(\\)p FO(_)p
F4("\))546 1426 y F0(j)39 b FV(tok)t F4(\(\\)p FO(_)p
F4("\))19 b(&)14 b FV(Post\014xOp)208 1522 y F0(^)g FV(G)t
FQ(:)p FV(Op)n(er)n(atorDe\014nition)26 b F4(::=)85 b(\()74
b FV(G)t FQ(:)p FV(NonFixLHS)844 1572 y F0(j)39 b FV(Pr)n(e\014xOp)22
b F4(&)14 b FV(Identi\014er)844 1622 y F0(j)39 b FV(Identi\014er)23
b F4(&)15 b FV(In\014xOp)22 b F4(&)14 b FV(Identi\014er)844
1672 y F0(j)39 b FV(Identi\014er)23 b F4(&)15 b FV(Post\014xOp)j
F4(\))742 1722 y(&)31 b FV(tok)t F4(\(\\)p FO(==)p F4(")o(\))742
1771 y(&)g FV(G)t FQ(:)p FV(Expr)n(ession)208 1867 y
F0(^)14 b FV(G)t FQ(:)p FV(NonFixLHS)26 b F4(::=)409
1917 y FV(Identi\014er)346 1967 y F4(&)31 b(\()86 b FV(Nil)460
2017 y F0(j)39 b FV(tok)t F4(\(\\)p FD(\()p F4(")q(\))18
b(&)d FV(CommaList)t F4(\()7 b FV(Identi\014er)27 b F0(j)16
b FV(G)t FQ(:)p FV(OpDe)n(cl)11 b F4(\))18 b(&)d FV(tok)t
F4(\(\\)p FD(\))p F4("\))d(\))208 2113 y F0(^)i FV(G)t
FQ(:)p FV(F)m(unctionDe\014nition)27 b F4(::=)409 2163
y FV(Identi\014er)346 2212 y F4(&)k FV(tok)t F4(\(\\)p
FO([)p F4("\))19 b(&)14 b FV(CommaList)t F4(\()p FV(G)t
FQ(:)p FV(Quanti\014erBound)t F4(\))19 b(&)c FV(tok)t
F4(\(\\)p FO(])p F4("\))346 2262 y(&)31 b FV(tok)t F4(\(\\)p
FO(==)p F4("\))346 2312 y(&)g FV(G)t FQ(:)p FV(Expr)n(ession)p
Black Black eop
%%Page: 280 298
280 297 bop Black 208 275 a F4(280)926 b FR(CHAPTER)14
b(15.)31 b(THE)15 b(SYNT)m(AX)e(OF)i(TLA)1957 260 y FS(+)p
208 282 1770 2 v Black 208 391 a F0(^)f FV(G)t FQ(:)p
FV(Quanti\014erBound)28 b F4(::=)85 b(\()12 b FV(Identi\014erOrT)m
(uple)25 b F0(j)16 b FV(CommaList)t F4(\()p FV(Identi\014er)t
F4(\))c(\))705 441 y(&)31 b FV(tok)t F4(\(\\)p FO(\\)p
FD(in)p F4(")q(\))705 491 y(&)g FV(G)t FQ(:)p FV(Expr)n(ession)208
587 y F0(^)14 b FV(G)t FQ(:)p FV(Instanc)n(e)26 b F4(::=)85
b FV(tok)t F4(\(\\)p FD(INST)m(ANCE)p F4("\))553 637
y(&)30 b FV(Name)553 687 y F4(&)g(\()7 b FV(Nil)27 b
F0(j)16 b FV(tok)t F4(\(\\)p FD(WITH)p F4(")q(\))i(&)d
FV(CommaList)t F4(\()p FV(G)t FQ(:)p FV(Substitution)s
F4(\))7 b(\))208 783 y F0(^)14 b FV(G)t FQ(:)p FV(Substitution)26
b F4(::=)85 b(\()7 b FV(Identi\014er)28 b F0(j)16 b FV(Pr)n(e\014xOp)26
b F0(j)16 b FV(In\014xOp)27 b F0(j)16 b FV(Post\014xOp)10
b F4(\))617 832 y(&)31 b FV(tok)t F4(\(\\)p FO(<-)p F4("\))617
882 y(&)g FV(G)t FQ(:)p FV(A)o(r)n(gument)208 978 y F0(^)14
b FV(G)t FQ(:)p FV(A)o(r)n(gument)26 b F4(::=)85 b FV(G)t
FQ(:)p FV(Expr)n(ession)591 1028 y F0(j)39 b FV(G)t FQ(:)p
FV(Gener)n(alPr)n(e\014xOp)591 1078 y F0(j)g FV(G)t FQ(:)p
FV(Gener)n(alIn\014xOp)591 1128 y F0(j)g FV(G)t FQ(:)p
FV(Gener)n(alPost\014xOp)208 1224 y F0(^)14 b FV(G)t
FQ(:)p FV(Instanc)n(ePr)n(e\014x)28 b F4(::=)293 1273
y(\()74 b FV(Identi\014er)320 1323 y F4(&)31 b(\()74
b FV(Nil)422 1373 y F0(j)39 b FV(tok)t F4(\(\\)p FD(\()p
F4(")q(\))18 b(&)d FV(CommaList)t F4(\()p FV(G)t FQ(:)p
FV(Expr)n(ession)s F4(\))j(&)c FV(tok)t F4(\(\\)p FD(\))p
F4(")q(\))h(\))320 1423 y(&)31 b FV(tok)t F4(\(\\)s(!)s("\))86
b(\))635 1408 y FH(\003)208 1519 y F0(^)14 b FV(G)t FQ(:)p
FV(Gener)n(alIdenti\014er)30 b F4(::=)18 b FV(G)t FQ(:)p
FV(Instanc)n(ePr)n(e\014x)24 b F4(&)14 b FV(Identi\014er)208
1577 y F0(^)g FV(G)t FQ(:)p FV(Gener)n(alPr)n(e\014xOp)38
b F4(::=)18 b FV(G)t FQ(:)p FV(Instanc)n(ePr)n(e\014x)24
b F4(&)14 b FV(Pr)n(e\014xOp)208 1634 y F0(^)g FV(G)t
FQ(:)p FV(Gener)n(alIn\014xOp)62 b F4(::=)18 b FV(G)t
FQ(:)p FV(Instanc)n(ePr)n(e\014x)24 b F4(&)14 b FV(In\014xOp)208
1692 y F0(^)g FV(G)t FQ(:)p FV(Gener)n(alPost\014xOp)21
b F4(::=)d FV(G)t FQ(:)p FV(Instanc)n(ePr)n(e\014x)24
b F4(&)14 b FV(Post\014xOp)208 1788 y F0(^)g FV(G)t FQ(:)p
FV(Mo)n(duleDe\014nition)27 b F4(::=)11 b FV(G)t FQ(:)p
FV(NonFixLHS)23 b F4(&)15 b FV(tok)t F4(\(\\)p FO(==)p
F4("\))j(&)d FV(G)t FQ(:)p FV(Instanc)n(e)208 1884 y
F0(^)f FV(G)t FQ(:)p FV(Assumption)26 b F4(::=)293 1934
y FV(T)m(ok)t F4(\()p F0(f)p F4(\\)p FD(ASSUME)p F4(")o
FQ(;)13 b F4(\\)p FD(ASSUMPTION)p F4(")n FQ(;)h F4(\\)p
FD(AXIOM)p F4(")n F0(g)p F4(\))k(&)d FV(G)t FQ(:)p FV(Expr)n(ession)208
2030 y F0(^)f FV(G)t FQ(:)p FV(The)n(or)n(em)25 b F4(::=)18
b FV(tok)t F4(\(\\)p FD(THEOREM)p F4("\))h(&)14 b FV(G)t
FQ(:)p FV(Expr)n(ession)p .95 TeXcolorgray .95 TeXcolorgray
199 2121 1460 57 v .95 TeXcolorgray Black 208 2101 a
FZ(The)d(commen)o(ts)e(giv)o(e)h(examples)g(of)h(eac)o(h)f(of)h(the)g
(di\013eren)o(t)e(t)o(yp)q(es)i(of)g(expression.)p .95
TeXcolorgray Black 208 2168 a F0(^)j FV(G)t FQ(:)p FV(Expr)n(ession)26
b F4(::=)369 2230 y FV(G)t FQ(:)p FV(Gener)n(alIdenti\014er)p
.95 TeXcolorgray .95 TeXcolorgray 761 2250 247 57 v .95
TeXcolorgray Black 46 w FY(A)p FZ(\()p FY(x)12 b FZ(+)c(7\))s(!)s
FY(B)e FZ(!)s FY(Id)p .95 TeXcolorgray Black 315 2326
a F0(j)40 b FV(G)t FQ(:)p FV(Gener)n(alIdenti\014er)22
b F4(&)14 b FV(tok)t F4(\(\\)p FD(\()p F4(")q(\))463
2376 y(&)h FV(CommaList)t F4(\()p FV(G)t FQ(:)p FV(A)o(r)n(gument)t
F4(\))i(&)d FV(tok)t F4(\(\\)p FD(\))p F4(")q(\))p .95
TeXcolorgray .95 TeXcolorgray 1231 2346 251 57 v .95
TeXcolorgray Black 1239 2326 a FY(A)s FZ(!)s FY(Op)r
FZ(\()p FY(x)f FZ(+)8 b(1)p Fw(;)e FY(y)s FZ(\))p .95
TeXcolorgray Black 315 2451 a F0(j)40 b FV(G)t FQ(:)p
FV(Gener)n(alPr)n(e\014xOp)20 b F4(&)15 b FV(G)t FQ(:)p
FV(Expr)n(ession)p .95 TeXcolorgray .95 TeXcolorgray
1060 2471 214 57 v .95 TeXcolorgray Black 45 w Fu(subset)7
b FY(S)t Fw(:)p FY(fo)n(o)p .95 TeXcolorgray Black Black
Black eop
%%Page: 281 299
281 298 bop Black 208 275 a FR(15.1.)30 b(THE)14 b(SIMPLE)h(GRAMMAR)
1081 b F4(281)p 208 282 1770 2 v Black 315 391 a F0(j)40
b FV(G)t FQ(:)p FV(Expr)n(ession)21 b F4(&)15 b FV(G)t
FQ(:)p FV(Gener)n(alIn\014xOp)21 b F4(&)14 b FV(G)t FQ(:)p
FV(Expr)n(ession)p .95 TeXcolorgray .95 TeXcolorgray
1346 411 100 57 v .95 TeXcolorgray Black 45 w FY(a)d
FZ(+)d FY(b)p .95 TeXcolorgray Black 315 462 a F0(j)40
b FV(G)t FQ(:)p FV(Expr)n(ession)21 b F4(&)15 b FV(G)t
FQ(:)p FV(Gener)n(alPost\014xOp)p .95 TeXcolorgray .95
TeXcolorgray 1077 483 86 57 v .95 TeXcolorgray Black
44 w FY(x)t FZ([1])1143 451 y FX(0)p .95 TeXcolorgray
Black 315 533 a F0(j)40 b FV(tok)t F4(\(\\)p FD(\()p
F4("\))19 b(&)14 b FV(G)t FQ(:)p FV(Expr)n(ession)21
b F4(&)15 b FV(tok)t F4(\(\\)p FD(\))p F4("\))p .95 TeXcolorgray
.95 TeXcolorgray 1073 554 126 57 v .95 TeXcolorgray Black
43 w FZ(\()p FY(x)d FZ(+)c(1\))p .95 TeXcolorgray Black
315 605 a F0(j)40 b FV(T)m(ok)t F4(\()p F0(f)p F4(\\)p
FO(\\)p FD(A)p F4(")o FQ(;)7 b F4(\\)p FO(\\)o FD(E)p
F4(")o F0(g)p F4(\))19 b(&)14 b FV(CommaList)t F4(\()p
FV(G)t FQ(:)p FV(Quanti\014erBound)t F4(\))463 654 y(&)h
FV(tok)t F4(\(\\:")o(\))k(&)14 b FV(G)t FQ(:)p FV(Expr)n(ession)p
.95 TeXcolorgray .95 TeXcolorgray 1408 625 500 57 v .95
TeXcolorgray Black 1416 605 a FW(8)5 b FY(x)14 b FW(2)c
FY(S)t Fw(;)h FW(h)s FY(y)s Fw(;)6 b FY(z)g FW(i)k(2)f
FY(T)20 b FZ(:)15 b FY(F)t FZ(\()p FY(x)t Fw(;)7 b FY(y)s
Fw(;)e FY(z)t FZ(\))p .95 TeXcolorgray Black 315 750
a F0(j)40 b FV(T)m(ok)t F4(\()p F0(f)p F4(\\)p FO(\\)p
FD(A)p F4(")o FQ(;)7 b F4(\\)p FO(\\)o FD(E)p F4(")o
FQ(;)g F4(\\)p FO(\\)o FD(AA)p F4(")p FQ(;)g F4(\\)p
FO(\\)o FD(EE)p F4(")o F0(g)p F4(\))18 b(&)d FV(CommaList)t
F4(\()p FV(Identi\014er)t F4(\))463 800 y(&)g FV(tok)t
F4(\(\\:")o(\))k(&)14 b FV(G)t FQ(:)p FV(Expr)n(ession)p
.95 TeXcolorgray .95 TeXcolorgray 1493 770 289 57 v .95
TeXcolorgray Black 1502 750 a FW(9)5 b FY(x)t Fw(;)h
FY(y)19 b FZ(:)d FY(x)c FZ(+)c FY(y)13 b Fw(>)d FZ(0)p
.95 TeXcolorgray Black 315 896 a F0(j)114 b FV(tok)t
F4(\(\\)p FD(CHOOSE)p F4(")o(\))378 946 y(&)31 b FV(Identi\014erOrT)m
(uple)378 996 y F4(&)g(\()p FV(Nil)c F0(j)16 b FV(tok)t
F4(\(\\)p FO(\\)p FD(in)p F4("\))j(&)14 b FV(G)t FQ(:)p
FV(Expr)n(ession)s F4(\))378 1046 y(&)31 b FV(tok)t F4(\(\\:"\))378
1095 y(&)g FV(G)t FQ(:)p FV(Expr)n(ession)p .95 TeXcolorgray
.95 TeXcolorgray 1112 916 455 57 v .95 TeXcolorgray Black
1121 896 a Fu(choose)12 b FW(h)s FY(x)t Fw(;)6 b FY(y)g
FW(i)k(2)f FY(S)20 b FZ(:)15 b FY(F)t FZ(\()p FY(x)t
Fw(;)6 b FY(y)s FZ(\))p .95 TeXcolorgray Black 315 1191
a F0(j)40 b FV(tok)t F4(\(\\)p F0(f)p F4("\))18 b(&)8
b(\()p FV(Nil)27 b F0(j)16 b FV(CommaList)t F4(\()p FV(G)t
FQ(:)p FV(Expr)n(ession)s F4(\)\))i(&)c FV(tok)t F4(\(\\)p
F0(g)p F4("\))p .95 TeXcolorgray .95 TeXcolorgray 1463
1211 209 57 v .95 TeXcolorgray Black 43 w FW(f)p FZ(1)p
Fw(;)d FZ(2)p Fw(;)g FZ(2)d(+)g(2)p FW(g)p .95 TeXcolorgray
Black 315 1287 a F0(j)114 b FV(tok)t F4(\(\\)p F0(f)p
F4("\))378 1337 y(&)31 b FV(Identi\014erOrT)m(uple)21
b F4(&)14 b FV(tok)t F4(\(\\)p FO(\\)p FD(in)p F4(")q(\))k(&)d
FV(G)t FQ(:)p FV(Expr)n(ession)378 1387 y F4(&)31 b FV(tok)t
F4(\(\\:"\))378 1437 y(&)g FV(G)t FQ(:)p FV(Expr)n(ession)378
1487 y F4(&)g FV(tok)t F4(\(\\)p F0(g)p F4("\))p .95
TeXcolorgray .95 TeXcolorgray 1354 1307 302 57 v .95
TeXcolorgray Black 1362 1287 a FW(f)p FY(x)14 b FW(2)9
b FY(Nat)19 b FZ(:)d FY(x)e Fw(>)c FZ(0)p FW(g)p .95
TeXcolorgray Black 315 1583 a F0(j)114 b FV(tok)t F4(\(\\)p
F0(f)p F4("\))378 1632 y(&)31 b FV(G)t FQ(:)p FV(Expr)n(ession)378
1682 y F4(&)g FV(tok)t F4(\(\\:"\))378 1732 y(&)g FV(CommaList)t
F4(\()p FV(G)t FQ(:)p FV(Quanti\014erBound)t F4(\))378
1782 y(&)g FV(tok)t F4(\(\\)p F0(g)p F4("\))p .95 TeXcolorgray
.95 TeXcolorgray 1075 1603 476 57 v .95 TeXcolorgray
Black 1083 1583 a FW(f)p FY(F)t FZ(\()p FY(x)t Fw(;)6
b FY(y)s Fw(;)g FY(z)t FZ(\))15 b(:)h FY(x)t Fw(;)6 b
FY(y)13 b FW(2)c FY(S)t Fw(;)j FY(z)h FW(2)d FY(T)t FW(g)p
.95 TeXcolorgray Black 315 1878 a F0(j)40 b FV(G)t FQ(:)p
FV(Expr)n(ession)21 b F4(&)15 b FV(tok)t F4(\(\\)p FO([)p
F4("\))j(&)d FV(CommaList)t F4(\()p FV(G)t FQ(:)p FV(Expr)n(ession)s
F4(\))j(&)c FV(tok)t F4(\(\\)p FO(])p F4("\))p .95 TeXcolorgray
.95 TeXcolorgray 1639 1898 167 57 v .95 TeXcolorgray
Black 43 w FY(f)7 b FZ([)p FY(i)k FZ(+)d(1)p Fw(;)j FY(j)5
b FZ(])p .95 TeXcolorgray Black 315 1974 a F0(j)114 b
FV(tok)t F4(\(\\)p FO([)p F4("\))378 2024 y(&)31 b FV(CommaList)t
F4(\()p FV(G)t FQ(:)p FV(Quanti\014erBound)t F4(\))378
2073 y(&)g FV(tok)t F4(\(\\)p FO(|->)p F4("\))378 2123
y(&)g FV(G)t FQ(:)p FV(Expr)n(ession)378 2173 y F4(&)g
FV(tok)t F4(\(\\)p FO(])p F4("\))p .95 TeXcolorgray .95
TeXcolorgray 1075 1994 559 57 v .95 TeXcolorgray Black
1083 1974 a FZ([)p FY(i)s Fw(;)6 b FY(j)14 b FW(2)c FY(S)t
Fw(;)h FW(h)s FY(p)r Fw(;)6 b FY(q)g FW(i)j(2)h FY(T)j
FW(7!)d FY(F)t FZ(\()p FY(i)s Fw(;)c FY(j)f Fw(;)h FY(p)r
Fw(;)g FY(q)s FZ(\)])p .95 TeXcolorgray Black 315 2269
a F0(j)40 b FV(tok)t F4(\(\\)p FO([)p F4("\))18 b(&)d
FV(G)t FQ(:)p FV(Expr)n(ession)21 b F4(&)15 b FV(tok)t
F4(\(\\)p FO(->)p F4(")o(\))k(&)14 b FV(G)t FQ(:)p FV(Expr)n(ession)22
b F4(&)14 b FV(tok)t F4(\(\\)p FO(])p F4("\))p .95 TeXcolorgray
.95 TeXcolorgray 1635 2289 244 57 v .95 TeXcolorgray
Black 43 w FZ([\()p FY(S)d FW([)c FY(T)t FZ(\))j FW(!)g
FY(U)5 b FZ(])p .95 TeXcolorgray Black 315 2390 a F0(j)40
b FV(tok)t F4(\(\\)p FO([)p F4("\))18 b(&)d FV(CommaList)t
F4(\()7 b FV(Name)21 b F4(&)15 b FV(tok)t F4(\(\\)p FO(|->)o
F4("\))k(&)14 b FV(G)t FQ(:)p FV(Expr)n(ession)c F4(\))463
2440 y(&)15 b FV(tok)t F4(\(\\)p FO(])p F4("\))p .95
TeXcolorgray .95 TeXcolorgray 1560 2410 309 57 v .95
TeXcolorgray Black 1569 2390 a FZ([)p FY(a)d FW(7!)e
FY(x)j FZ(+)8 b(1)p Fw(;)j FY(b)h FW(7!)e FY(y)s FZ(])p
.95 TeXcolorgray Black Black Black eop
%%Page: 282 300
282 299 bop Black 208 275 a F4(282)926 b FR(CHAPTER)14
b(15.)31 b(THE)15 b(SYNT)m(AX)e(OF)i(TLA)1957 260 y FS(+)p
208 282 1770 2 v Black 315 391 a F0(j)40 b FV(tok)t F4(\(\\)p
FO([)p F4("\))18 b(&)d FV(CommaList)t F4(\()7 b FV(Name)21
b F4(&)15 b FV(tok)t F4(\(\\:")o(\))k(&)14 b FV(G)t FQ(:)p
FV(Expr)n(ession)c F4(\))463 441 y(&)15 b FV(tok)t F4(\(\\)p
FO(])p F4("\))p .95 TeXcolorgray .95 TeXcolorgray 1506
411 297 57 v .95 TeXcolorgray Black 1515 391 a FZ([)p
FY(a)9 b FZ(:)e FY(Nat)s Fw(;)12 b FY(b)d FZ(:)e FY(S)12
b FW([)7 b FY(T)t FZ(])p .95 TeXcolorgray Black 315 537
a F0(j)114 b FV(tok)t F4(\(\\)p FO([)p F4("\))p .95 TeXcolorgray
.95 TeXcolorgray 841 557 590 57 v .95 TeXcolorgray Black
255 w FZ([)p FY(f)19 b Fu(ex)o(cept)14 b FZ(!)s([1)p
Fw(;)5 b FY(x)t FZ(])p Fw(:)p FY(r)13 b FZ(=)e(4)p Fw(;)18
b FZ(!)s([)p FW(h)s FZ(2)p Fw(;)t FY(y)6 b FW(i)p FZ(])k(=)g
FY(e)r FZ(])p .95 TeXcolorgray Black 378 587 a F4(&)31
b FV(G)t FQ(:)p FV(Expr)n(ession)378 637 y F4(&)g FV(tok)t
F4(\(\\)p FD(EX)o(CEPT)p F4(")o(\))378 687 y(&)g FV(CommaList)t
F4(\()74 b FV(tok)t F4(\(\\)s(!)s("\))682 736 y(&)31
b(\()74 b FV(tok)t F4(\(\\)p FD(.)p F4("\))19 b(&)14
b FV(Name)784 786 y F0(j)39 b FV(tok)t F4(\(\\)p FO([)p
F4("\))19 b(&)14 b FV(CommaList)t F4(\()p FV(G)t FQ(:)p
FV(Expr)n(ession)s F4(\))k(&)d FV(tok)t F4(\(\\)p FO(])p
F4("\))g(\))1795 771 y FS(+)682 836 y F4(&)31 b FV(tok)t
F4(\(\\)p FD(=)p F4("\))j(&)14 b FV(G)t FQ(:)p FV(Expr)n(ession)c
F4(\))378 886 y(&)31 b FV(tok)t F4(\(\\)p FO(])p F4("\))315
982 y F0(j)40 b FV(tok)t F4(\(\\)p FO(<<)p F4("\))18
b(&)d FV(CommaList)t F4(\()p FV(G)t FQ(:)p FV(Expr)n(ession)s
F4(\))j(&)c FV(tok)t F4(\(\\)p FO(>>)p F4("\))p .95 TeXcolorgray
.95 TeXcolorgray 1373 1002 207 57 v .95 TeXcolorgray
Black 43 w FW(h)s FZ(1)p Fw(;)c FZ(2)p Fw(;)i FZ(1)7
b(+)h(2)s FW(i)p .95 TeXcolorgray Black 315 1078 a F0(j)40
b FV(G)t FQ(:)p FV(Expr)n(ession)21 b F4(&)8 b(\()p FV(T)m(ok)t
F4(\()p F0(f)p F4(\\)p FO(\\)o FD(X)p F4(")p FQ(;)f F4(\\)p
FO(\\)o FD(times)p F4(")o F0(g)p F4(\))18 b(&)d FV(G)t
FQ(:)p FV(Expr)n(ession)s F4(\))1422 1063 y FS(+)p .95
TeXcolorgray .95 TeXcolorgray 1483 1098 344 57 v .95
TeXcolorgray Black 1492 1078 a FY(Nat)c FW(\002)d FZ(\(1)k
Fw(:)5 b(:)12 b FZ(3\))7 b FW(\002)h FY(R)n(e)n(al)p
.95 TeXcolorgray Black 315 1174 a F0(j)40 b FV(tok)t
F4(\(\\)p FO([)p F4("\))18 b(&)d FV(G)t FQ(:)p FV(Expr)n(ession)21
b F4(&)15 b FV(tok)t F4(\(\\)p FO(]_)p F4(")o(\))k(&)14
b FV(G)t FQ(:)p FV(Expr)n(ession)p .95 TeXcolorgray .95
TeXcolorgray 1415 1195 206 58 v .95 TeXcolorgray Black
46 w FZ([)p FY(A)8 b FW(_)f FY(B)s FZ(])1537 1181 y FX(h)s
FE(x)s Fr(;)p FE(y)e FX(i)p .95 TeXcolorgray Black 315
1270 a F0(j)40 b FV(tok)t F4(\(\\)p FO(<<)p F4("\))18
b(&)d FV(G)t FQ(:)p FV(Expr)n(ession)21 b F4(&)14 b FV(tok)t
F4(\(\\)p FO(>>_)p F4("\))19 b(&)14 b FV(G)t FQ(:)p FV(Expr)n(ession)p
.95 TeXcolorgray .95 TeXcolorgray 1459 1291 285 58 v
.95 TeXcolorgray Black 45 w FW(h)s FY(x)1504 1258 y FX(0)1525
1270 y FZ(=)d FY(y)g FZ(+)d(1)s FW(i)1661 1277 y FK(\()p
FE(x)s FX(\003)p FE(y)r FK(\))p .95 TeXcolorgray Black
315 1366 a F0(j)40 b FV(T)m(ok)t F4(\()p F0(f)p F4(\\)p
FD(WF)p FO(_)o F4(")p FQ(;)7 b F4(\\)p FD(SF)p FO(_)o
F4(")p F0(g)p F4(\))18 b(&)c FV(G)t FQ(:)p FV(Expr)n(ession)463
1415 y F4(&)h FV(tok)t F4(\(\\)p FD(\()p F4("\))k(&)14
b FV(G)t FQ(:)p FV(Expr)n(ession)21 b F4(&)15 b FV(tok)t
F4(\(\\)p FD(\))p F4("\))p .95 TeXcolorgray .95 TeXcolorgray
1215 1386 235 57 v .95 TeXcolorgray Black 1224 1366 a
FZ(WF)1283 1370 y FE(vars)1340 1366 y FZ(\()p FY(Next)s
FZ(\))p .95 TeXcolorgray Black 315 1511 a F0(j)40 b FV(tok)t
F4(\(\\)p FD(IF)p F4(")o(\))19 b(&)14 b FV(G)t FQ(:)p
FV(Expr)n(ession)21 b F4(&)15 b FV(tok)t F4(\(\\)p FD(THEN)p
F4(")q(\))463 1561 y(&)g FV(G)t FQ(:)p FV(Expr)n(ession)21
b F4(&)14 b FV(tok)t F4(\(\\)p FD(ELSE)p F4(")q(\))k(&)d
FV(G)t FQ(:)p FV(Expr)n(ession)p .95 TeXcolorgray .95
TeXcolorgray 1391 1532 361 57 v .95 TeXcolorgray Black
1399 1511 a Fu(if)k FY(p)h Fu(then)e FY(A)h Fu(else)f
FY(B)p .95 TeXcolorgray Black 315 1657 a F0(j)114 b FV(tok)t
F4(\(\\)p FD(CASE)p F4(")o(\))p .95 TeXcolorgray .95
TeXcolorgray 1473 1756 368 135 v .95 TeXcolorgray Black
807 w Fu(case)22 b FY(p)r FZ(1)103 b FW(!)42 b FY(e)r
FZ(1)1543 1697 y Fs(2)10 b FY(p)r FZ(2)103 b FW(!)42
b FY(e)r FZ(2)1543 1736 y Fs(2)10 b Fu(other)41 b FW(!)h
FY(e)r FZ(3)p .95 TeXcolorgray Black 378 1714 a F4(&)31
b(\()12 b FP(let)23 b FV(CaseA)o(rm)771 1690 y FI(\001)767
1714 y F4(=)603 1764 y FV(G)t FQ(:)p FV(Expr)n(ession)e
F4(&)15 b FV(tok)t F4(\(\\)p FO(->)p F4("\))j(&)d FV(G)t
FQ(:)p FV(Expr)n(ession)469 1814 y FP(in)54 b FV(CaseA)o(rm)21
b F4(&)7 b(\()p FV(tok)t F4(\(\\)p FO([)g(])p F4("\))19
b(&)14 b FV(CaseA)o(rm)s F4(\))1242 1798 y FH(\003)1284
1814 y F4(\))378 1863 y(&)31 b(\()74 b FV(Nil)480 1913
y F0(j)39 b F4(\()7 b FV(tok)t F4(\(\\)p FO([)h(])p F4(")o(\))19
b(&)14 b FV(tok)t F4(\(\\)p FD(OTHER)p F4("\))19 b(&)14
b FV(tok)t F4(\(\\)p FO(->)p F4("\))19 b(&)14 b FV(G)t
FQ(:)p FV(Expr)n(ession)s F4(\))7 b(\))330 1988 y F0(j)114
b FV(tok)t F4(\(\\)p FD(LET)p F4(")q(\))393 2038 y(&)31
b(\()86 b FV(G)t FQ(:)p FV(Op)n(er)n(atorDe\014nition)507
2088 y F0(j)39 b FV(G)t FQ(:)p FV(F)m(unctionDe\014nition)507
2138 y F0(j)g FV(G)t FQ(:)p FV(Mo)n(duleDe\014nition)15
b F4(\))946 2123 y FS(+)393 2188 y F4(&)31 b FV(tok)t
F4(\(\\)p FD(IN)p F4("\))393 2237 y(&)g FV(G)t FQ(:)p
FV(Expr)n(ession)p .95 TeXcolorgray .95 TeXcolorgray
1008 2099 346 158 v .95 TeXcolorgray Black 1016 1988
a Fu(let)19 b FY(x)1134 1968 y FI(\001)1131 1988 y FZ(=)h
FY(y)11 b FZ(+)e(1)1091 2039 y FY(f)e FZ([)p FY(t)13
b FW(2)c FY(Nat)s FZ(])1268 2018 y FI(\001)1266 2039
y FZ(=)20 b FY(t)1328 2028 y FK(2)1016 2079 y Fu(in)45
b FY(x)12 b FZ(+)d FY(f)e FZ([)p FY(y)s FZ(])p .95 TeXcolorgray
Black 315 2313 a F0(j)40 b F4(\()p FV(tok)t F4(\(\\)p
FO(/\\)p F4("\))18 b(&)d FV(G)t FQ(:)p FV(Expr)n(ession)s
F4(\))885 2298 y FS(+)p .95 TeXcolorgray .95 TeXcolorgray
946 2372 138 96 v .95 TeXcolorgray Black 955 2313 a FW(^)c
FY(x)j FZ(=)d(1)955 2352 y FW(^)g FY(y)i FZ(=)d(2)p .95
TeXcolorgray Black 315 2430 a F0(j)40 b F4(\()p FV(tok)t
F4(\(\\)p FO(\\/)p F4("\))18 b(&)d FV(G)t FQ(:)p FV(Expr)n(ession)s
F4(\))885 2415 y FS(+)p .95 TeXcolorgray .95 TeXcolorgray
946 2490 V .95 TeXcolorgray Black 955 2430 a FW(_)c FY(x)j
FZ(=)d(1)955 2470 y FW(_)g FY(y)i FZ(=)d(2)p .95 TeXcolorgray
Black Black Black eop
%%Page: 283 301
283 300 bop Black 208 275 a FR(15.2.)30 b(THE)14 b(COMPLETE)h(GRAMMAR)
999 b F4(283)p 208 282 1770 2 v Black 315 391 a F0(j)40
b FV(Numb)n(er)p .95 TeXcolorgray .95 TeXcolorgray 546
411 105 57 v .95 TeXcolorgray Black 46 w FZ(09001)p .95
TeXcolorgray Black 315 487 a F0(j)g FV(String)p .95 TeXcolorgray
.95 TeXcolorgray 514 507 99 57 v .95 TeXcolorgray Black
46 w FZ(\\)p Fv(fo)q(o)p FZ(")p .95 TeXcolorgray Black
315 583 a F0(j)g FV(tok)t F4(\(\\)p FD(@)p F4("\))p .95
TeXcolorgray .95 TeXcolorgray 561 603 760 57 v .95 TeXcolorgray
Black 42 w FZ(@)24 b(\(Can)11 b(b)q(e)g(used)g(only)f(in)i(an)f
Fu(ex)o(cept)f FZ(expression.\))p .95 TeXcolorgray Black
208 665 a FP(in)k FV(L)n(e)n(astGr)n(ammar)t F4(\()p
FV(P)t F4(\))p 188 708 2 25 v 190 708 1475 2 v 1665 708
2 25 v 208 873 a FN(15.2)82 b(The)26 b(Complete)h(Grammar)208
964 y F4(W)m(e)19 b(no)o(w)h(complete)f(our)h(explanation)f(of)g(the)h
(syn)o(tax)g(of)f(TLA)1279 949 y FS(+)1320 964 y F4(b)o(y)h(giving)e
(the)j(de-)208 1014 y(tails)13 b(that)i(are)g(not)f(describ)q(ed)j(b)o
(y)d(the)h(BNF)g(grammar)c(in)k(the)g(previous)g(section.)20
b(Sec-)208 1064 y(tion)15 b(15.2.1)f(giv)o(es)h(the)i(precedence)i
(rules,)d(Section)h(15.2.2)d(giv)o(es)h(the)i(alignmen)o(t)c(rules)208
1113 y(for)18 b(conjunction)g(and)g(disjunction)h(lists,)g(and)f
(Section)h(15.2.3)e(describ)q(es)j(commen)o(ts.)208 1163
y(Section)f(15.2.4)d(brie\015y)j(discusses)i(the)e(syn)o(tax)g(of)f
(temp)q(oral)g(form)o(ulas.)30 b(Finally)m(,)17 b(for)208
1213 y(completeness,)c(Section)i(15.2.5)c(explains)j(the)g(handling)e
(of)h(t)o(w)o(o)h(anomalous)d(cases)k(that)208 1263 y(y)o(ou're)e
(unlik)o(ely)g(ev)o(er)i(to)e(encoun)o(ter.)208 1400
y F3(15.2.1)65 b(Precedence)22 b(and)h(Asso)r(ciativit)n(y)208
1491 y F4(The)12 b(expression)i FV(a)9 b F4(+)d FV(b)k
F0(\003)c FV(c)15 b F4(is)d(in)o(terpreted)i(as)e FV(a)e
F4(+)c(\()p FV(b)j F0(\003)d FV(c)r F4(\))13 b(rather)h(than)e(\()p
FV(a)e F4(+)c FV(b)s F4(\))g F0(\003)g FV(c)r F4(.)18
b(This)208 1541 y(con)o(v)o(en)o(tion)11 b(is)g(describ)q(ed)i(b)o(y)e
(sa)o(ying)g(that)g(the)h(op)q(erator)g F0(\003)f F4(has)h
FV(higher)g(pr)n(e)n(c)n(e)n(denc)n(e)j F4(than)208 1591
y(the)e(op)q(erator)g(+.)18 b(In)13 b(general,)g(op)q(erators)h(with)f
(higher)g(precedence)i(are)f(applied)e(b)q(efore)208
1640 y(op)q(erators)17 b(of)g(lo)o(w)o(er)f(precedence.)30
b(This)17 b(applies)f(to)h(pre\014x)g(op)q(erators)h(\(lik)o(e)e
FP(subset)10 b F4(\))208 1690 y(and)15 b(p)q(ost\014x)h(op)q(erators)h
(\(lik)o(e)708 1675 y FH(0)720 1690 y F4(\))f(as)g(w)o(ell)f(as)h(to)g
(in\014x)f(op)q(erators)i(lik)o(e)e(+)h(and)f F0(\003)p
F4(.)24 b(Th)o(us,)208 1740 y FV(a)14 b F4(+)d FV(b)308
1725 y FH(0)335 1740 y F4(is)16 b(in)o(terpreted)i(as)f
FV(a)d F4(+)d(\()p FV(b)765 1725 y FH(0)776 1740 y F4(\),)17
b(rather)g(than)f(as)g(\()p FV(a)f F4(+)c FV(b)s F4(\))1233
1725 y FH(0)1244 1740 y F4(,)17 b(b)q(ecause)1429 1725
y FH(0)1456 1740 y F4(has)g(higher)208 1790 y(precedence)h(than)d(+.)21
b(Application)14 b(order)i(can)f(also)f(b)q(e)i(determined)f(b)o(y)g
(asso)q(ciativit)o(y)m(.)208 1840 y(The)10 b(expression)i
FV(a)6 b F0(\000)r FV(b)f F0(\000)r FV(c)14 b F4(is)c(in)o(terpreted)i
(as)f(\()p FV(a)6 b F0(\000)r FV(b)s F4(\))r F0(\000)r
FV(c)14 b F4(b)q(ecause)e F0(\000)f F4(is)f(a)g(left-asso)q(ciativ)o(e)
208 1890 y(in\014x)j(op)q(erator.)270 1939 y(In)e(TLA)406
1924 y FS(+)426 1939 y F4(,)g(the)h(precedence)i(of)c(an)h(op)q(erator)
g(is)g(a)f(range)h(of)g(n)o(um)o(b)q(ers,)f(lik)o(e)g(9{13.)16
b(The)208 1989 y(op)q(erator)f($)g(has)g(higher)f(precedence)k(than)d
(the)h(op)q(erator)f(:)p FQ(>)g F4(b)q(ecause)h(the)g(precedence)208
2039 y(of)f($)h(is)h(9{13,)e(and)h(this)h(en)o(tire)g(range)g(is)f
(greater)h(than)g(the)g(precedence)i(range)e(of)f(:)p
FQ(>)o F4(,)208 2089 y(whic)o(h)k(is)h(7{7.)38 b(An)20
b(expression)i(is)f(illegal)e(\(not)h(syn)o(tactically)h(w)o
(ell-formed\))d(if)i(the)208 2139 y(order)12 b(of)f(application)g(of)g
(t)o(w)o(o)g(op)q(erators)i(is)f(not)f(determined)h(b)q(ecause)i(their)
e(precedence)208 2188 y(ranges)k(o)o(v)o(erlap)f(and)g(they)h(are)g
(not)g(t)o(w)o(o)f(instances)i(of)e(an)g(asso)q(ciativ)o(e)h(in\014x)f
(op)q(erator.)208 2238 y(F)m(or)h(example,)g(the)i(expression)h
FV(a)14 b F4(+)e FV(b)i F0(\003)d FV(c)907 2223 y FH(0)936
2238 y FD(\045)17 b FV(d)k F4(is)c(illegal)f(for)g(the)i(follo)o(wing)d
(reason.)208 2288 y(The)i(precedence)j(range)e(of)676
2273 y FH(0)705 2288 y F4(is)f(higher)g(than)h(that)f(of)f
F0(\003)p F4(,)i(and)f(the)g(precedence)k(range)208 2338
y(of)14 b F0(\003)h F4(is)g(higher)g(than)g(that)g(of)g(b)q(oth)g(+)h
(and)f FD(\045)o F4(,)g(so)g(this)h(expression)g(can)f(b)q(e)h(written)
g(as)208 2388 y FV(a)7 b F4(+)s(\()p FV(b)f F0(\003)s
F4(\()p FV(c)373 2373 y FH(0)386 2388 y F4(\)\))12 b
FD(\045)f FV(d)t F4(.)17 b(Ho)o(w)o(ev)o(er,)12 b(the)f(precedence)q(s)
j(of)c(+)i(\(10{10\))e(and)g FD(\045)h F4(\(10{11\))f(o)o(v)o(erlap,)
208 2438 y(so)j(w)o(e)g(don't)g(kno)o(w)g(if)f(the)i(expression)g(is)g
(to)f(b)q(e)h(in)o(terpreted)g(as)g(\()p FV(a)d F4(+)d(\()p
FV(b)j F0(\003)d F4(\()p FV(c)1452 2422 y FH(0)1464 2438
y F4(\)\)\))k FD(\045)f FV(d)18 b F4(or)208 2487 y FV(a)12
b F4(+)e(\(\()p FV(b)i F0(\003)d F4(\()p FV(c)413 2472
y FH(0)425 2487 y F4(\)\))j FD(\045)f FV(d)t F4(\),)j(and)g(it)f(is)h
(therefore)h(illegal.)p Black Black eop
%%Page: 284 302
284 301 bop Black 208 275 a F4(284)926 b FR(CHAPTER)14
b(15.)31 b(THE)15 b(SYNT)m(AX)e(OF)i(TLA)1957 260 y FS(+)p
208 282 1770 2 v Black 270 391 a F4(TLA)357 376 y FS(+)393
391 y F4(em)o(b)q(o)q(dies)g(the)g(philosoph)o(y)g(that)g(it's)g(b)q
(etter)i(to)e(require)h(paren)o(theses)i(than)208 441
y(to)f(allo)o(w)f(expressions)j(that)e(could)h(easily)f(b)q(e)h(misin)o
(terpreted.)29 b(Th)o(us,)18 b F0(\003)f F4(and)h FQ(=)f
F4(ha)o(v)o(e)208 491 y(o)o(v)o(erlapping)g(precedence,)22
b(making)16 b(an)i(expression)h(lik)o(e)f FV(a)s FQ(=)p
FV(b)d F0(\003)d FV(c)21 b F4(illegal.)29 b(\(This)18
b(also)208 541 y(mak)o(es)c FV(a)g F0(\003)c FV(b)s FQ(=)p
FV(c)18 b F4(illegal,)c(ev)o(en)i(though)g(\()p FV(a)e
F0(\003)c FV(b)s F4(\))p FQ(=)p FV(c)17 b F4(and)f FV(a)e
F0(\003)c F4(\()p FV(b)s FQ(=)p FV(c)r F4(\))16 b(happ)q(en)g(to)g(b)q
(e)g(equal)208 591 y(when)c F0(\003)f F4(and)g FQ(=)g
F4(ha)o(v)o(e)h(their)f(usual)h(de\014nitions.\))17 b(Uncon)o(v)o(en)o
(tional)11 b(op)q(erators)h(lik)o(e)f($)g(ha)o(v)o(e)208
640 y(wide)k(precedence)k(ranges)e(for)e(safet)o(y)m(.)24
b(But,)16 b(ev)o(en)h(when)f(the)h(precedence)i(rules)d(imply)208
690 y(that)c(paren)o(theses)i(aren't)f(needed,)g(it's)f(often)g(a)g(go)
q(o)q(d)g(idea)g(to)g(use)h(them)f(an)o(yw)o(a)o(y)f(if)g(y)o(ou)208
740 y(think)h(there's)i(an)o(y)f(c)o(hance)h(that)f(a)g(reader)h(migh)o
(t)d(not)i(understand)h(ho)o(w)f(an)g(expression)208
790 y(is)g(parsed.)270 840 y(T)m(able)j(6)h(on)g(page)g(271)f(giv)o(es)
h(the)g(precedence)j(ranges)e(of)e(all)g(op)q(erators)i(and)f(tells)208
889 y(whic)o(h)f(in\014x)g(op)q(erators)h(are)g(left)f(asso)q(ciativ)o
(e.)25 b(\(No)17 b(TLA)1160 874 y FS(+)1197 889 y F4(op)q(erators)g
(are)g(righ)o(t)f(asso-)208 939 y(ciativ)o(e.\))23 b(Note)16
b(that)g(the)h(sym)o(b)q(ols)d F0(2)p F4(,)i(=,)g(and)g(\\.")23
b(are)16 b(used)h(b)q(oth)f(as)g(\014xed)g(parts)g(of)208
989 y(constructs)g(and)e(as)g(in\014x)g(op)q(erators.)20
b(They)15 b(are)g(not)f(in\014x)g(op)q(erators)h(in)f(the)g(follo)o
(wing)208 1039 y(t)o(w)o(o)f(expressions:)p Black Black
332 1116 a F0(f)p FV(x)k F0(2)11 b FV(S)24 b F4(:)18
b FV(p)s F4(\()p FV(x)5 b F4(\))p F0(g)124 b F4([)p FV(f)24
b FP(ex)o(cept)19 b F4(!)s FQ(:)p FV(a)c F4(=)c FV(e)s
F4(])208 1193 y(so)k(the)h(precedence)j(of)14 b(the)i(corresp)q(onding)
h(in\014x)e(op)q(erators)h(pla)o(ys)f(no)g(role)g(in)g(parsing)208
1242 y(these)i(expressions.)28 b(Belo)o(w)16 b(are)h(some)f(additional)
e(precedence)20 b(rules)d(not)g(co)o(v)o(ered)g(b)o(y)208
1292 y(the)d(op)q(erator)g(precedence)j(ranges.)208 1407
y FT(F)-5 b(unction)18 b(Application)208 1484 y F4(F)m(unction)e
(application)g(is)h(treated)h(lik)o(e)e(an)h(op)q(erator)h(with)e
(precedence)k(range)e(16{16,)208 1534 y(giving)c(it)i(higher)g
(precedence)j(than)d(an)o(y)g(op)q(erator)h(except)g(p)q(erio)q(d)g
(\(\\."\),)e(the)i(record-)208 1583 y(\014eld)c(op)q(erator.)19
b(Th)o(us,)14 b FV(a)e F4(+)e FV(b)s FQ(:)p FV(c)r F4([)p
FV(d)t F4(])777 1568 y FH(0)802 1583 y F4(is)j(in)o(terpreted)j(as)e
FV(a)f F4(+)c(\(\(\()p FV(b)s FQ(:)p FV(c)r F4(\)[)p
FV(d)t F4(]\))1367 1568 y FH(0)1379 1583 y F4(\).)208
1698 y FT(Cartesian)18 b(Pro)r(ducts)208 1775 y F4(In)d(the)g
(Cartesian)g(pro)q(duct)h(construct,)h F0(\002)e F4(\(t)o(yp)q(ed)h(as)
f FO(\\X)f F4(or)h FO(\\times)p F4(\))f(acts)i(somewhat)208
1825 y(lik)o(e)10 b(an)h(asso)q(ciativ)o(e)g(in\014x)f(op)q(erator)i
(with)e(precedence)15 b(range)c(10{13.)16 b(Th)o(us,)11
b FV(A)t F0(\002)t FV(B)k F0(\022)d FV(C)208 1874 y F4(is)17
b(in)o(terpreted)i(as)e(\()p FV(A)12 b F0(\002)f FV(B)t
F4(\))18 b F0(\022)g FV(C)6 b F4(,)17 b(rather)h(than)f(as)h
FV(A)11 b F0(\002)h F4(\()p FV(B)22 b F0(\022)17 b FV(C)6
b F4(\).)28 b(Ho)o(w)o(ev)o(er,)18 b F0(\002)g F4(is)208
1924 y(part)e(of)f(a)h(sp)q(ecial)h(construct,)h(not)e(an)g(in\014x)f
(op)q(erator.)26 b(F)m(or)15 b(example,)g(the)i(three)h(sets)208
1974 y FV(A)9 b F0(\002)g FV(B)14 b F0(\002)9 b FV(C)d
F4(,)13 b(\()p FV(A)d F0(\002)f FV(B)t F4(\))h F0(\002)g
FV(C)c F4(,)13 b(and)g FV(A)c F0(\002)h F4(\()p FV(B)k
F0(\002)9 b FV(C)d F4(\))14 b(are)g(all)f(di\013eren)o(t:)p
Black Black 332 2051 a FV(A)c F0(\002)h FV(B)j F0(\002)d
FV(C)61 b F4(=)23 b F0(fh)s FV(a)s FQ(;)7 b FV(b)s FQ(;)g
FV(c)f F0(i)18 b F4(:)g FV(a)d F0(2)c FV(A)p FQ(;)j FV(b)g
F0(2)d FV(B)t FQ(;)j FV(c)g F0(2)d FV(C)6 b F0(g)332
2101 y F4(\()p FV(A)j F0(\002)h FV(B)t F4(\))g F0(\002)f
FV(C)29 b F4(=)23 b F0(fh)s(h)s FV(a)s FQ(;)7 b FV(b)f
F0(i)p FQ(;)h FV(c)f F0(i)19 b F4(:)f FV(a)d F0(2)d FV(A)p
FQ(;)h FV(b)h F0(2)d FV(B)t FQ(;)j FV(c)g F0(2)d FV(C)6
b F0(g)332 2151 y FV(A)j F0(\002)h F4(\()p FV(B)k F0(\002)9
b FV(C)d F4(\))23 b(=)g F0(fh)s FV(a)s FQ(;)7 b F0(h)s
FV(b)s FQ(;)g FV(c)f F0(i)s(i)19 b F4(:)f FV(a)d F0(2)d
FV(A)p FQ(;)h FV(b)h F0(2)d FV(B)t FQ(;)j FV(c)g F0(2)d
FV(C)6 b F0(g)208 2226 y F4(The)14 b(\014rst)h(is)e(a)h(set)h(of)e
(triples;)h(the)g(last)g(t)o(w)o(o)f(are)i(sets)g(of)e(pairs.)208
2340 y FT(Undelimite)o(d)j(Constructs)208 2417 y F4(TLA)295
2402 y FS(+)328 2417 y F4(has)e(sev)o(eral)f(expression-making)f
(constructs)j(with)e(no)g(explicit)g(righ)o(t-hand)f(ter-)208
2467 y(minator.)k(They)e(are:)19 b FP(choose)p F4(,)14
b FP(if)p F4(/)p FP(then)p F4(/)p FP(else)p F4(,)g FP(case)p
F4(,)g FP(let)p F4(/)p FP(in)p F4(,)f(and)h(quan)o(ti\014er)g(con-)208
2517 y(structs.)k(These)13 b(constructs)g(are)e(treated)h(as)f
(pre\014x)h(op)q(erators)g(with)e(the)i(lo)o(w)o(est)f(p)q(ossible)p
Black Black eop
%%Page: 285 303
285 302 bop Black 208 275 a FR(15.2.)30 b(THE)14 b(COMPLETE)h(GRAMMAR)
999 b F4(285)p 208 282 1770 2 v Black 208 391 a(precedence,)16
b(so)f(an)e(expression)j(made)d(with)g(one)i(of)e(them)g(extends)j(as)e
(far)g(as)g(p)q(ossible.)208 441 y(More)g(precisely)m(,)g(the)g
(expression)h(is)f(ended)h(only)e(b)o(y)h(one)g(of)f(the)i(follo)o
(wing:)p Black 270 524 a F0(\017)p Black 20 w F4(The)i(b)q(eginning)f
(of)g(the)h(next)g(mo)q(dule)d(unit.)26 b(\(Mo)q(dule)16
b(units)h(are)f(pro)q(duced)i(b)o(y)311 574 y(the)c FV(Unit)i
F4(non)o(terminal)11 b(in)h(the)h(BNF)g(grammar)d(of)i(Section)h
(11.1.4;)e(they)i(include)311 624 y(de\014nition)h(and)g(declaration)f
(statemen)o(ts.\))p Black 270 707 a F0(\017)p Black 20
w F4(A)d(righ)o(t)g(delimiter)f(whose)h(matc)o(hing)e(left)i(delimiter)
f(o)q(ccurs)i(b)q(efore)g(the)f(b)q(eginning)311 757
y(of)k(the)g(construct.)20 b(Delimiter)12 b(pairs)i(are)g(\()e(\),)h([)
e(],)i F0(f)e(g)p F4(,)i(and)h F0(h)19 b(i)p F4(.)p Black
270 840 a F0(\017)p Black 20 w F4(An)o(y)10 b(of)f(the)i(follo)o(wing)c
(lexemes,)j(if)f(they)h(are)g(not)g(part)g(of)f(a)h(sub)q(expression:)
18 b FP(then)p F4(,)311 889 y FP(else)p F4(,)g FP(in)p
F4(,)g(comma)c(\(,\),)k(colon)e(\(:\),)i(and)f F0(!)p
F4(.)27 b(F)m(or)17 b(example,)f(the)i(sub)q(expression)311
939 y F0(8)7 b FV(x)14 b F4(:)7 b FV(P)18 b F4(is)c(ended)h(b)o(y)f
(the)g FP(then)h F4(in)e(the)i(expression)p Black Black
436 1006 a FP(if)23 b F0(8)7 b FV(x)13 b F4(:)8 b FV(P)26
b FP(then)e F4(0)f FP(else)h F4(1)p Black 270 1089 a
F0(\017)p Black 20 w F4(The)14 b FP(case)f F4(separator)g
FG(2)g F4(\(not)g(the)h(pre\014x)f(temp)q(oral)f(op)q(erator)h(that)g
(is)g(t)o(yp)q(ed)g(the)311 1139 y(same\))18 b(ends)h(all)e(of)g(these)
j(constructs)g(except)g(a)e FP(case)g F4(statemen)o(t)g(without)g(an)
311 1188 y FP(other)f F4(clause.)26 b(That)16 b(is,)g(the)h
FG(2)f F4(acts)h(as)g(a)f(delimiter)e(except)k(when)f(it)f(can)g(b)q(e)
311 1238 y(part)e(of)g(a)f FP(case)h F4(statemen)o(t.)p
Black 270 1321 a F0(\017)p Black 20 w F4(An)o(y)h(sym)o(b)q(ol)d(not)i
(to)h(the)g(righ)o(t)f(of)f(the)i F0(^)f F4(or)h F0(_)f
F4(pre\014xing)g(a)g(conjunction)h(or)f(dis-)311 1371
y(junction)g(list)g(elemen)o(t)g(con)o(taining)g(the)h(construct.)21
b(\(See)16 b(Section)f(15.2.2)d(on)i(the)311 1421 y(next)h(page.\))208
1504 y(Here)g(is)e(ho)o(w)h(some)f(expressions)i(are)g(in)o(terpreted)g
(under)g(this)f(rule:)p Black Black Black 387 1584 a
FP(if)24 b FV(x)16 b FQ(>)c F4(0)21 b FP(then)j FV(y)13
b F4(+)d(1)567 1634 y FP(else)36 b FV(y)13 b F0(\000)d
F4(1)332 1684 y(+)23 b(2)p Black 847 1634 a(means)p Black
1033 1609 a FP(if)g FV(x)17 b FQ(>)12 b F4(0)21 b FP(then)j
FV(y)13 b F4(+)c(1)1213 1659 y FP(else)36 b F4(\()p FV(y)13
b F0(\000)d F4(1)f(+)g(2\))p Black Black 383 1779 a F0(8)e
FV(x)17 b F0(2)11 b FV(S)24 b F4(:)18 b FV(P)t F4(\()p
FV(x)5 b F4(\))332 1829 y F0(_)23 b FV(Q)p Black 716
1804 a F4(means)p Black 84 w F0(8)7 b FV(x)17 b F0(2)11
b FV(S)24 b F4(:)18 b(\()p FV(P)t F4(\()p FV(x)5 b F4(\))10
b F0(_)f FV(Q)t F4(\))p Black 208 1910 a(As)k(these)h(examples)e(sho)o
(w,)h(inden)o(tation)f(is)h(ignored|except)h(in)e(conjunction)h(and)g
(dis-)208 1960 y(junction)c(lists,)h(discussed)h(b)q(elo)o(w.)17
b(The)10 b(absence)h(of)e(a)g(terminating)f(lexeme)h(\(an)h
FP(end)p F4(\))g(for)208 2010 y(an)i FP(if)p F4(/)p FP(then)p
F4(/)p FP(else)i F4(or)f FP(case)g F4(construct)i(usually)d(mak)o(es)g
(an)h(expression)h(less)g(cluttered,)208 2060 y(but)g(sometimes)e(it)h
(do)q(es)i(require)g(y)o(ou)e(to)h(add)g(paren)o(theses.)208
2176 y FT(Subscripts)208 2252 y F4(TLA)h(uses)h(subscript)h(notation)d
(in)h(the)h(follo)o(wing)d(constructs:)22 b([)p FV(A)p
F4(])1318 2258 y FJ(e)1337 2252 y F4(,)15 b F0(h)s FV(A)s
F0(i)1433 2258 y FJ(e)1454 2252 y F4(,)g(WF)1551 2258
y FJ(e)1571 2252 y F4(\()p FV(A)p F4(\),)208 2302 y(and)g(SF)340
2308 y FJ(e)360 2302 y F4(\()p FV(A)p F4(\).)23 b(In)16
b(TLA)599 2287 y FS(+)619 2302 y F4(,)g(these)h(are)f(written)g(with)f
(a)g(\\)p FO(_)p F4(")g(c)o(haracter,)i(as)f(in)f FO(<<A>>_e)p
F4(.)208 2352 y(This)10 b(notation)f(is,)i(in)f(principle,)g
(problematic.)15 b(The)c(expression)h FO(<<A>>_x)20 b(/\\)h(B)p
F4(,)10 b(whic)o(h)208 2402 y(w)o(e)16 b(exp)q(ect)h(to)f(mean)f(\()p
F0(h)s FV(A)s F0(i)655 2408 y FJ(x)678 2402 y F4(\))10
b F0(^)h FV(B)t F4(,)16 b(could)g(conceiv)n(ably)f(b)q(e)i(in)o
(terpreted)h(as)e F0(h)s FV(A)s F0(i)1537 2409 y FS(\()p
FJ(x)t FH(^)p FJ(B)s FS(\))1634 2402 y F4(.)208 2452
y(The)i(precise)h(rule)g(for)e(parsing)h(these)h(constructs)h(isn't)e
(imp)q(ortan)o(t;)f(y)o(ou)h(should)g(put)208 2501 y(paren)o(theses)e
(around)d(the)i(subscript)g(except)g(in)f(the)g(follo)o(wing)e(t)o(w)o
(o)h(cases:)p Black Black eop
%%Page: 286 304
286 303 bop Black 208 275 a F4(286)926 b FR(CHAPTER)14
b(15.)31 b(THE)15 b(SYNT)m(AX)e(OF)i(TLA)1957 260 y FS(+)p
208 282 1770 2 v Black Black 270 391 a F0(\017)p Black
20 w F4(The)g(subscript)g(is)f(a)f FV(Gener)n(alIdenti\014er)18
b F4(in)c(the)g(BNF)h(grammar.)p Black 270 474 a F0(\017)p
Black 20 w F4(The)h(subscript)g(is)f(an)g(expression)h(enclosed)g(b)o
(y)f(one)g(of)g(the)g(follo)o(wing)e(matc)o(hing)311
524 y(delimiter)g(pairs:)18 b(\()11 b(\),)j([)d(],)i
F0(h)18 b(i)p F4(,)c(or)g F0(f)d(g)p F4(|for)i(example,)f
F0(h)s FV(x)5 b FQ(;)i FV(y)h F0(i)14 b F4(or)f(\()p
FV(x)i F4(+)10 b FV(y)t F4(\).)208 607 y(Although)i FO([A]_f[x])e
F4(is)j(in)o(terpreted)h(correctly)f(as)g([)p FV(A)p
F4(])1104 614 y FJ(f)5 b FS([)p FJ(x)t FS(])1160 607
y F4(,)12 b(it)h(will)e(b)q(e)i(easier)g(to)f(read)h(in)208
657 y(the)j FP(asci)q(i)f F4(text)i(\(and)f(will)f(b)q(e)h(formatted)f
(prop)q(erly)i(b)o(y)f(TLA)m(T)1250 666 y(E)1272 657
y(X\))h(if)e(y)o(ou)h(write)g(it)g(as)208 707 y FO([A]_\(f[x]\))p
F4(.)208 844 y F3(15.2.2)65 b(Alignmen)n(t)208 935 y
F4(The)10 b(most)f(no)o(v)o(el)g(asp)q(ect)i(of)f(TLA)745
920 y FS(+)775 935 y F4(syn)o(tax)g(is)g(the)g(aligned)g(conjunction)f
(and)h(disjunction)208 985 y(lists.)17 b(If)10 b(y)o(ou)h(write)g(suc)o
(h)h(a)f(list)g(in)f(a)h(straigh)o(tforw)o(ard)g(manner,)f(then)i(it)e
(will)g(mean)g(what)208 1035 y(y)o(ou)k(exp)q(ect)j(it)d(to.)22
b(Ho)o(w)o(ev)o(er,)15 b(y)o(ou)f(migh)o(t)f(wind)i(up)g(doing)f
(something)g(w)o(eird)h(through)208 1084 y(a)e(t)o(yping)g(error.)19
b(So,)13 b(it's)h(a)f(go)q(o)q(d)h(idea)f(to)h(kno)o(w)f(what)h(the)g
(exact)h(syn)o(tax)f(rules)g(are)g(for)208 1134 y(these)j(lists.)25
b(I)16 b(giv)o(e)f(the)i(rules)g(here)g(for)f(conjunction)g(lists;)h
(the)g(rules)f(for)g(disjunction)208 1184 y(lists)d(are)i(analogous.)
270 1234 y(A)e(conjunction)g(list)g(is)f(an)h(expression)i(that)e(b)q
(egins)g(with)g F0(^)p F4(,)f(whic)o(h)h(is)g(t)o(yp)q(ed)h(as)f
FO(/\\)p F4(.)208 1284 y(Let)j FV(c)i F4(b)q(e)f(the)g(column)d(in)i
(whic)o(h)g(the)g FO(/)g F4(o)q(ccurs.)26 b(The)16 b(conjunction)g
(list)g(consists)h(of)e(a)208 1334 y(sequence)f(of)d(conjuncts,)i(eac)o
(h)g(b)q(eginning)e(with)h(a)g F0(^)p F4(.)17 b(A)12
b(conjunct)h(is)f(ended)h(b)o(y)f(an)o(y)g(one)208 1383
y(of)h(the)h(follo)o(wing)e(that)i(o)q(ccurs)h(after)f(the)g
FO(/\\)p F4(:)p Black 258 1466 a(1.)p Black 20 w(Another)20
b FO(/\\)e F4(whose)h FO(/)f F4(c)o(haracter)i(is)f(in)f(column)f
FV(c)k F4(and)d(is)g(the)i(\014rst)f(nonspace)311 1516
y(c)o(haracter)d(on)d(the)i(line.)p Black 258 1599 a(2.)p
Black 20 w(An)o(y)f(nonspace)h(c)o(haracter)g(in)f(column)e
FV(c)k F4(or)e(a)g(column)e(to)i(the)g(left)g(of)f(column)f
FV(c)r F4(.)p Black 258 1682 a(3.)p Black 20 w(A)e(righ)o(t)g
(delimiter)f(whose)h(matc)o(hing)e(left)i(delimiter)f(o)q(ccurs)i(b)q
(efore)g(the)f(b)q(eginning)311 1732 y(of)k(the)g(conjunction)g(list.)k
(Delimiter)12 b(pairs)h(are)i(\()c(\),)j([)d(],)i F0(f)e(g)p
F4(,)i(and)h F0(h)19 b(i)p F4(.)p Black 258 1815 a(4.)p
Black 20 w(The)e(b)q(eginning)f(of)g(the)h(next)g(mo)q(dule)d(unit.)26
b(\(Mo)q(dule)16 b(units)h(are)f(pro)q(duced)i(b)o(y)311
1865 y(the)g FV(Unit)j F4(non)o(terminal)15 b(in)i(the)g(BNF)h
(grammar;)d(they)j(include)f(de\014nition)g(and)311 1915
y(declaration)d(statemen)o(ts.\))208 1998 y(In)g(case)i(1,)f(the)g
FO(/\\)g F4(b)q(egins)g(the)g(next)h(conjunct)f(in)g(the)g(same)f
(conjunction)h(list.)20 b(In)15 b(the)208 2047 y(other)c(three)h
(cases,)g(the)f(end)g(of)f(the)h(conjunct)g(is)g(the)g(end)g(of)f(the)h
(en)o(tire)g(conjunction)g(list.)208 2097 y(In)i(all)f(cases,)j(the)f
(c)o(haracter)h(ending)f(the)g(conjunct)g(do)q(es)g(not)g(b)q(elong)f
(to)h(the)g(conjunct.)208 2147 y(With)19 b(these)j(rules,)g(inden)o
(tation)e(prop)q(erly)h(delimits)d(expressions)k(in)e(a)g(conjunction)
208 2197 y(list|for)12 b(example:)p Black Black 332 2277
a FO(/\\)21 b(IF)h(e)f(THEN)g(P)506 2327 y(ELSE)g(Q)332
2377 y(/\\)g(R)734 2327 y F4(means)p Black 930 2278 a
F0(^)14 b F4(\()p FP(if)23 b FV(e)i FP(then)f FV(P)1090
2328 y FP(else)36 b FV(Q)t F4(\))930 2377 y F0(^)14 b
FV(R)p Black 208 2459 a F4(It's)k(b)q(est)i(to)e(inden)o(t)h(eac)o(h)g
(conjunction)g(completely)e(to)i(the)g(righ)o(t)f(of)g(its)h
F0(^)f F4(sym)o(b)q(ol.)208 2508 y(These)d(examples)e(illustrate)g
(precisely)i(what)f(happ)q(ens)h(if)e(y)o(ou)g(don't:)p
Black Black eop
%%Page: 287 305
287 304 bop Black 208 275 a FR(15.2.)30 b(THE)14 b(COMPLETE)h(GRAMMAR)
999 b F4(287)p 208 282 1770 2 v Black Black Black 332
385 a FO(/\\)21 b(x')354 434 y(=)g(y)332 484 y(/\\)g(y'=x)511
435 y F4(means)p Black 666 410 a F0(^)13 b FV(x)731 395
y FH(0)755 410 y F4(=)e FV(y)666 460 y F0(^)i FV(y)731
445 y FH(0)754 460 y F4(=)f FV(x)p Black 1030 385 a FO(/\\)21
b(x')1030 434 y(=)g(y)1030 484 y(/\\)g(y'=x)1209 435
y F4(means)p Black 1363 385 a(\(\()p F0(^)12 b FV(x)1459
370 y FH(0)1471 385 y F4(\))1363 435 y(=)g FV(y)t F4(\))1446
485 y F0(^)g F4(\()p FV(y)1526 470 y FH(0)1549 485 y
F4(=)g FV(x)5 b F4(\))p Black 208 558 a(In)14 b(the)h(second)h
(example,)d F0(^)7 b FV(x)701 543 y FH(0)727 558 y F4(is)14
b(in)o(terpreted)j(as)d(a)h(conjunction)f(list)g(con)o(taining)g(only)
208 607 y(one)g(conjunct,)g(and)f(the)i(second)g FO(/\\)e
F4(is)h(in)o(terpreted)i(as)e(an)f(in\014x)h(op)q(erator.)270
657 y(Y)m(ou)e(can't)g(use)h(paren)o(theses)i(to)e(circum)o(v)o(en)o(t)
e(the)j(inden)o(tation)d(rules.)19 b(F)m(or)12 b(example,)208
707 y(this)i(is)f(illegal:)p Black Black 332 777 a FO(/\\)21
b(\(x')332 827 y(=)h(y\))332 876 y(/\\)f(y'=x)208 947
y F4(The)15 b(rules)g(imply)e(that)i(the)g(\014rst)h
FO(/\\)e F4(b)q(egins)h(a)g(conjunction)f(list)h(that)g(is)f(ended)i(b)
q(efore)208 997 y(the)j FO(=)p F4(.)31 b(That)19 b(conjunction)f(list)g
(is)h(therefore)h F0(^)7 b F4(\()p FV(x)1062 982 y FH(0)1074
997 y F4(,)19 b(whic)o(h)f(has)h(an)f(unmatc)o(hed)g(left)208
1046 y(paren)o(thesis.)270 1096 y(The)d(conjunction/disjunction)f(list)
h(notation)f(is)g(quite)h(robust.)22 b(Ev)o(en)15 b(if)f(y)o(ou)g(mess)
208 1146 y(up)i(the)g(alignmen)o(t)e(b)o(y)i(t)o(yping)f(one)i(space)g
(to)q(o)e(few)i(or)f(to)q(o)f(man)o(y|something)e(that's)208
1196 y(easy)f(to)h(do)f(when)h(the)f(conjuncts)i(are)f(long|the)e(form)
o(ula)f(is)i(still)g(lik)o(ely)f(to)h(mean)f(what)208
1246 y(y)o(ou)i(in)o(tended.)19 b(Here's)c(an)e(example)g(of)g(what)h
(happ)q(ens)h(if)e(y)o(ou)g(misalign)e(a)j(conjunct:)p
Black Black 354 1315 a FO(/\\)21 b(A)332 1373 y(/\\)g(B)332
1432 y(/\\)g(C)496 1374 y F4(means)p Black 672 1317 a(\()12
b(\()p F0(^)f FV(A)p F4(\))p .95 TeXcolorgray .95 TeXcolorgray
817 1337 789 57 v .95 TeXcolorgray Black 23 w FZ(The)h(bulleted)d(list)
i FW(^)5 b FY(A)12 b FZ(of)g(one)e(conjunct;)f(it)i(equals)f
FY(A)p FZ(.)p .95 TeXcolorgray Black 699 1374 a F0(^)h
FV(B)t F4(\))p .95 TeXcolorgray .95 TeXcolorgray 817
1394 662 57 v .95 TeXcolorgray Black 38 w FZ(This)h FW(^)f
FZ(is)g(in)o(terpreted)e(as)i(an)g(in\014x)f(op)q(erator.)p
.95 TeXcolorgray Black 672 1431 a F0(^)h FV(C)p .95 TeXcolorgray
.95 TeXcolorgray 817 1451 V .95 TeXcolorgray Black 84
w FZ(This)h FW(^)f FZ(is)g(in)o(terpreted)e(as)i(an)g(in\014x)f(op)q
(erator.)p .95 TeXcolorgray Black Black 208 1502 a F4(While)k(not)i(in)
o(terpreted)h(the)f(w)o(a)o(y)f(y)o(ou)g(exp)q(ected,)i(this)f(form)o
(ula)d(is)i(equiv)n(alen)o(t)g(to)g FV(A)10 b F0(^)208
1552 y FV(B)j F0(^)c FV(C)d F4(,)13 b(whic)o(h)h(is)g(what)g(y)o(ou)f
(mean)o(t)g(in)g(the)i(\014rst)f(place.)270 1602 y(Most)e(k)o(eyb)q
(oards)f(con)o(tain)g(one)h(k)o(ey)g(that)f(is)g(the)h(source)h(of)e(a)
g(lot)g(of)g(trouble:)17 b(the)12 b(tab)208 1651 y(k)o(ey)i
(\(sometimes)e(mark)o(ed)h(on)h(the)g(k)o(eyb)q(oard)g(with)g(a)g(righ)
o(t)f(arro)o(w\).)19 b(On)14 b(m)o(y)e(computer)208 1701
y(screen,)j(I)f(can)g(pro)q(duce)p Black Black Black
Black 332 1774 a FO(A)22 b(==)506 1823 y(/\\)g(x')f(=)h(1)506
1873 y(/\\)g(y')f(=)h(2)208 1946 y F4(b)o(y)12 b(b)q(eginning)h(the)g
(second)h(line)f(with)f(eigh)o(t)h(space)h(c)o(haracters)h(and)e(the)g
(third)g(with)g(one)208 1995 y(tab)f(c)o(haracter.)19
b(In)13 b(this)g(case,)g(it)g(is)f(unsp)q(eci\014ed)j(whether)f(or)e
(not)h(the)g(t)o(w)o(o)g FO(/)f F4(c)o(haracters)208
2045 y(o)q(ccur)18 b(in)e(the)i(same)e(column.)26 b(T)m(ab)17
b(c)o(haracters)i(are)e(an)g(anac)o(hronism)f(left)g(o)o(v)o(er)i(from)
208 2095 y(the)g(da)o(ys)f(of)g(t)o(yp)q(ewriters)i(and)e(of)g
(computers)g(with)h(memory)d(capacit)o(y)i(measured)g(in)208
2145 y(kilob)o(ytes.)k(I)16 b(strongly)f(advise)g(y)o(ou)g(nev)o(er)h
(to)g(use)g(them.)21 b(But,)16 b(if)f(y)o(ou)g(insist)g(on)g(using)208
2195 y(them,)d(here)j(are)g(the)f(rules:)p Black 270
2267 a F0(\017)p Black 20 w F4(A)g(tab)g(c)o(haracter)i(is)e
(considered)h(to)f(b)q(e)g(equiv)n(alen)o(t)g(to)g(one)g(or)g(more)f
(space)i(c)o(har-)311 2317 y(acters,)g(so)f(it)g(o)q(ccupies)h(one)f
(or)g(more)f(columns.)p Black 270 2395 a F0(\017)p Black
20 w F4(Iden)o(tical)e(sequences)i(of)d(space)i(and)e(tab)h(c)o
(haracters)h(that)f(o)q(ccur)h(at)e(the)h(b)q(eginning)311
2444 y(of)j(a)f(line)h(o)q(ccup)o(y)g(the)h(same)e(n)o(um)o(b)q(er)g
(of)g(columns.)208 2517 y(There)i(are)f(no)g(other)g(guaran)o(tees)h
(if)e(y)o(ou)g(use)i(tab)f(c)o(haracters.)p Black Black
eop
%%Page: 288 306
288 305 bop Black 208 275 a F4(288)926 b FR(CHAPTER)14
b(15.)31 b(THE)15 b(SYNT)m(AX)e(OF)i(TLA)1957 260 y FS(+)p
208 282 1770 2 v Black 208 391 a F3(15.2.3)65 b(Commen)n(ts)208
482 y F4(Comm)o(en)o(ts)16 b(are)i(describ)q(ed)i(in)d(Section)i(3.5)d
(on)i(page)g(32.)29 b(A)18 b(commen)o(t)e(ma)o(y)f(app)q(ear)208
532 y(b)q(et)o(w)o(een)g(an)o(y)e(t)o(w)o(o)h(lexemes)f(in)h(a)f(sp)q
(eci\014cation.)19 b(There)c(are)f(t)o(w)o(o)g(t)o(yp)q(es)h(of)e
(commen)o(ts:)p Black 270 614 a F0(\017)p Black 20 w
F4(A)j(delimited)e(commen)o(t)g(is)h(a)g(string)h(of)f(the)i(form)d(\\)
6 b FD(\()p F0(\003)h F4(")j F0(\016)g FV(s)k F0(\016)c
F4(\\)d F0(\003)p FD(\))g F4(",)15 b(where)i FV(s)i F4(is)311
664 y(an)o(y)14 b(string)h(in)f(whic)o(h)h(o)q(ccurrences)i(of)d(\\)7
b FD(\()p F0(\003)g F4(")14 b(and)g(\\)7 b F0(\003)p
FD(\))g F4(")14 b(are)h(prop)q(erly)g(matc)o(hed.)311
714 y(More)h(precisely)m(,)f(a)f(delimited)f(commen)o(t)g(is)h
(de\014ned)i(inductiv)o(ely)e(to)h(b)q(e)g(a)g(string)311
763 y(of)f(the)g(form)e(\\)7 b FD(\()p F0(\003)g F4(")i
F0(\016)g FV(s)680 769 y FS(1)708 763 y F0(\016)g(\001)e(\001)g(\001)h
(\016)h FV(s)846 769 y FJ(n)879 763 y F0(\016)g F4(\\)e
F0(\003)p FD(\))g F4(")o(,)14 b(where)h(eac)o(h)f FV(s)1260
769 y FJ(i)1290 763 y F4(is)g(either)g(\(i\))g(a)g(string)311
813 y(con)o(taining)k(neither)h(the)g(substring)g(\\)6
b FD(\()p F0(\003)h F4(")18 b(nor)g(the)h(substring)g(\\)7
b F0(\003)p FD(\))g F4(")o(,)19 b(or)g(\(ii\))e(a)311
863 y(delimited)c(commen)o(t.)i(\(In)f(particular,)g(\\)6
b FD(\()p F0(\003)h(\003)p FD(\))g F4(")13 b(is)h(a)g(delimited)e
(commen)o(t.\))p Black 270 946 a F0(\017)p Black 20 w
F4(An)i(end-of-line)e(commen)o(t)f(is)i(a)g(string)g(of)f(the)i(form)e
(\\)6 b FO(\\)p F0(\003)h F4(")g F0(\016)h FV(s)j F0(\016)c
F4(\\)p F0(h)s FP(lf)s F0(i)p F4(")q(,)13 b(where)i FV(s)311
995 y F4(is)f(an)o(y)f(string)h(not)g(con)o(taining)f(an)h(end-of-line)
f(c)o(haracter)i F0(h)s FP(lf)5 b F0(i)p F4(.)208 1077
y(I)13 b(lik)o(e)g(to)h(write)g(commen)o(ts)f(as)g(sho)o(wn)h(here:)p
Black Black Black Black 332 1143 a FO(BufRcv)21 b(==)g(/\\)g
(InChan!Rcv)303 b(\(*******************)o(****)o(*****)o(*****)o(\))550
1192 y(/\\)21 b(q')h(=)f(Append\(q,)f(in.val\))42 b(\(*)22
b(Receive)e(message)h(from)f(channel)43 b(*\))550 1242
y(/\\)21 b(out)457 b(\(*)22 b(`in')f(and)g(append)g(to)g(tail)g(of)g
(q.)h(*\))1138 1292 y(\(*******************)o(****)o(*****)o(*****)o
(\))208 1361 y F4(Gramm)o(atical)o(ly)l(,)13 b(this)i(piece)h(of)f(sp)q
(eci\014cation)h(has)g(four)f(distinct)h(commen)o(ts,)d(the)j(\014rst)
208 1410 y(and)h(last)h(consisting)f(of)h(the)g(same)f(string)h
FO(\(***)7 b F0(\001)g(\001)g(\001)t FO(***\))p F4(.)29
b(But)18 b(a)g(p)q(erson)h(reading)e(it)208 1460 y(w)o(ould)f(regard)i
(them)e(as)h(a)g(single)g(commen)o(t,)f(spread)i(o)o(v)o(er)f(four)g
(lines.)28 b(This)17 b(kind)f(of)208 1510 y(commen)o(ting)d(con)o(v)o
(en)o(tion)i(is)h(not)g(part)g(of)g(the)g(TLA)1075 1495
y FS(+)1112 1510 y F4(language,)f(but)h(it)g(is)g(supp)q(orted)208
1560 y(b)o(y)d(the)h(TLA)m(T)443 1569 y(E)466 1560 y(X)g(t)o(yp)q
(esetting)g(program,)e(as)h(describ)q(ed)j(in)d(Section)h(13.4)e(on)i
(page)f(214.)208 1697 y F3(15.2.4)65 b(T)-6 b(emp)r(oral)23
b(F)-6 b(orm)n(ulas)208 1788 y F4(The)19 b(BNF)g(gramma)o(r)d(treats)k
FG(2)f F4(and)f FG(3)g F4(simply)f(as)i(pre\014x)g(op)q(erators.)33
b(Ho)o(w)o(ev)o(er,)20 b(as)208 1838 y(explained)c(in)f(Section)i(8.1)e
(\(page)h(88\),)g(the)h(syn)o(tax)f(of)g(temp)q(oral)f(form)o(ulas)f
(places)i(re-)208 1888 y(strictions)11 b(on)f(their)i(use.)17
b(F)m(or)11 b(example,)f FG(2)p F4(\()p FV(x)937 1872
y FH(0)960 1888 y F4(=)i FV(x)c F4(+)s(1\))j(is)g(not)f(a)h(legal)f
(form)o(ula.)k(It's)d(not)208 1937 y(hard)h(to)g(write)h(a)f(BNF)h
(grammar)d(that)i(sp)q(eci\014es)j(legal)c(temp)q(oral)g(form)o(ulas)f
(made)i(from)208 1987 y(the)h(temp)q(oral)f(op)q(erators)j(and)e
(ordinary)g(Bo)q(olean)g(op)q(erators)h(lik)o(e)e F0(:)h
F4(and)g F0(^)p F4(.)18 b(Ho)o(w)o(ev)o(er,)208 2037
y(suc)o(h)c(a)g(BNF)g(grammar)d(w)o(on't)i(tell)h(y)o(ou)f(whic)o(h)h
(of)f(these)i(t)o(w)o(o)f(expressions)h(is)f(legal:)p
Black Black 332 2123 a FP(let)23 b FV(F)6 b F4(\()p FV(P)t
FQ(;)h FV(Q)t F4(\))603 2100 y FI(\001)599 2123 y F4(=)23
b FV(P)14 b F0(^)9 b FG(2)p FV(Q)332 2173 y FP(in)54
b FV(F)6 b F4(\()p FV(x)17 b F4(=)12 b(1)p FQ(;)17 b
FV(x)g F4(=)12 b FV(y)h F4(+)c(1\))1007 2123 y FP(let)23
b FV(F)6 b F4(\()p FV(P)t FQ(;)h FV(Q)t F4(\))1278 2100
y FI(\001)1274 2123 y F4(=)23 b FV(P)14 b F0(^)8 b FG(2)p
FV(Q)1007 2173 y FP(in)54 b FV(F)6 b F4(\()p FV(x)17
b F4(=)11 b(1)p FQ(;)18 b FV(x)1302 2158 y FH(0)1325
2173 y F4(=)12 b FV(y)h F4(+)d(1\))208 2253 y(The)k(\014rst)h(is)e
(legal;)g(the)h(second)h(isn't)f(b)q(ecause)h(it)f(represen)o(ts)i(the)
f(illegal)d(form)o(ula)p Black Black 332 2335 a(\()p
FV(x)17 b F4(=)12 b(1\))20 b F0(^)h FG(2)p F4(\()p FV(x)605
2318 y FH(0)629 2335 y F4(=)11 b FV(y)i F4(+)d(1\))p
.95 TeXcolorgray .95 TeXcolorgray 859 2355 363 57 v .95
TeXcolorgray Black 83 w FZ(This)h(form)o(ula)f(is)h(illegal.)p
.95 TeXcolorgray Black 208 2417 a F4(The)19 b(precise)h(rules)g(for)e
(determining)g(if)g(a)g(temp)q(oral)g(form)o(ula)e(is)j(syn)o
(tactically)f(w)o(ell-)208 2467 y(formed)10 b(in)o(v)o(olv)o(e)g
(\014rst)j(replacing)e(all)g(de\014ned)h(op)q(erators)h(b)o(y)e(their)h
(de\014nitions,)g(using)f(the)208 2517 y(pro)q(cedure)i(describ)q(ed)g
(in)e(Section)h(17.4)e(b)q(elo)o(w.)17 b(I)11 b(w)o(on't)g(b)q(other)h
(sp)q(ecifying)g(these)h(rules.)p Black Black eop
%%Page: 289 307
289 306 bop Black 208 275 a FR(15.3.)30 b(THE)14 b(LEXEMES)h(OF)f(TLA)
805 260 y FS(+)1915 275 y F4(289)p 208 282 1770 2 v Black
270 391 a(In)i(practice,)g(temp)q(oral)f(op)q(erators)h(are)g(not)g
(used)h(v)o(ery)f(m)o(uc)o(h)e(in)h(TLA)1444 376 y FS(+)1481
391 y F4(sp)q(eci\014ca-)208 441 y(tions,)e(and)h(one)g(rarely)g
(writes)g(de\014nitions)g(of)f(new)i(ones)f(suc)o(h)h(as)p
Black Black 332 524 a FV(F)6 b F4(\()p FV(P)t FQ(;)h
FV(Q)t F4(\))523 500 y FI(\001)518 524 y F4(=)35 b FV(P)25
b F0(^)c FG(2)p FV(Q)208 602 y F4(The)f(syn)o(tactic)g(rules)h(for)f
(expressions)h(in)o(v)o(olving)d(suc)o(h)i(op)q(erators)h(are)g(of)e
(academic)208 652 y(in)o(terest)c(only)m(.)208 788 y
F3(15.2.5)65 b(Tw)n(o)21 b(Anomalies)208 879 y F4(There)14
b(are)f(t)o(w)o(o)g(sources)h(of)f(p)q(oten)o(tial)f(am)o(biguit)o(y)e
(in)j(the)g(grammar)d(of)j(TLA)1459 864 y FS(+)1492 879
y F4(that)g(y)o(ou)208 929 y(are)j(unlik)o(ely)g(to)g(encoun)o(ter)i
(and)e(that)h(ha)o(v)o(e)f FV(ad)h(ho)n(c)j F4(resolutions.)26
b(The)16 b(\014rst)i(of)d(these)208 979 y(arises)j(from)e(the)i(use)h
(of)e F0(\000)h F4(as)g(b)q(oth)g(an)f(in\014x)g(op)q(erator)i(\(as)f
(in)f(2)11 b F0(\000)i F4(2\))k(and)h(a)f(pre\014x)208
1029 y(op)q(erator)e(\(as)f(in)g(2)c(+)g F0(\000)p F4(2\).)19
b(This)c(p)q(oses)g(no)g(problem)e(when)i F0(\000)f F4(is)h(used)g(in)f
(an)g(ordinary)208 1079 y(expression.)22 b(Ho)o(w)o(ev)o(er,)16
b(there)g(are)g(t)o(w)o(o)e(places)i(in)f(whic)o(h)g(an)g(op)q(erator)g
(can)h(app)q(ear)f(b)o(y)208 1128 y(itself:)p Black 270
1207 a F0(\017)p Black 20 w F4(As)g(the)f(argumen)o(t)f(of)g(a)h
(higher-order)g(op)q(erator,)g(as)g(in)g FV(HOp)s F4(\(+)p
FQ(;)f F0(\000)p F4(\).)p Black 270 1288 a F0(\017)p
Black 20 w F4(In)h(an)g FP(inst)m(ance)g F4(substitution,)g(suc)o(h)g
(as)p Black Black 436 1353 a FP(inst)m(ance)i FV(M)23
b FP(with)15 b FV(Plus)g F0( )c F4(+)c FQ(;)18 b FV(Minus)d
F0( )c(\000)208 1431 y F4(In)i(b)q(oth)g(these)h(cases,)g(the)g(sym)o
(b)q(ol)d FO(-)i F4(is)f(in)o(terpreted)j(as)e(the)h(in\014x)e(op)q
(erator.)18 b(Y)m(ou)13 b(m)o(ust)208 1481 y(t)o(yp)q(e)j
FO(-.)f F4(to)h(denote)g(the)h(pre\014x)f(op)q(erator.)24
b(Y)m(ou)15 b(also)g(ha)o(v)o(e)h(to)f(t)o(yp)q(e)i FO(-.)e
F4(if)g(y)o(ou)g(should)208 1531 y(ev)o(er)f(w)o(an)o(t)g(to)g
(de\014ne)g(the)h(pre\014x)g F0(\000)f F4(op)q(erator,)g(as)g(in)p
Black Black 332 1614 a F0(\000)n FQ(:)d FV(a)449 1590
y FI(\001)444 1614 y F4(=)35 b FV(UMinus)s F4(\()p FV(a)s
F4(\))208 1692 y(In)13 b(ordinary)h(expressions,)h(y)o(ou)e(just)h(t)o
(yp)q(e)h FO(-)e F4(as)h(usual)g(for)f(b)q(oth)i(op)q(erators.)270
1742 y(The)d(second)g(source)h(of)e(am)o(biguit)o(y)e(in)i(the)h(TLA)
1049 1727 y FS(+)1081 1742 y F4(syn)o(tax)g(is)f(an)g(unlik)o(ely)g
(expression)208 1792 y(of)17 b(the)i(form)e F0(f)p FV(x)24
b F0(2)19 b FV(S)32 b F4(:)25 b FV(y)e F0(2)c FV(T)6
b F0(g)p F4(,)18 b(whic)o(h)g(migh)o(t)f(b)q(e)i(tak)o(en)f(to)h(mean)e
(either)i(of)f(the)208 1842 y(follo)o(wing:)p Black Black
332 1924 a FP(let)j FV(p)s F4(\()p FV(x)5 b F4(\))530
1901 y FI(\001)525 1924 y F4(=)24 b FV(y)15 b F0(2)c
FV(T)26 b FP(in)21 b F0(f)p FV(x)16 b F0(2)c FV(S)h F4(:)8
b FV(p)s F4(\()p FV(x)d F4(\))p F0(g)p .95 TeXcolorgray
.95 TeXcolorgray 1056 1944 345 57 v .95 TeXcolorgray
Black 41 w FZ(This)12 b(is)f(a)h(subset)e(of)h FY(S)t
FZ(.)p .95 TeXcolorgray Black 332 1993 a FP(let)21 b
FV(p)s F4(\()p FV(y)t F4(\))530 1969 y FI(\001)525 1993
y F4(=)i FV(x)17 b F0(2)11 b FV(S)26 b FP(in)21 b F0(f)p
FV(p)s F4(\()p FV(y)t F4(\))8 b(:)f FV(y)16 b F0(2)11
b FV(T)6 b F0(g)p .95 TeXcolorgray .95 TeXcolorgray 1055
2013 834 57 v .95 TeXcolorgray Black 40 w FZ(This)12
b(is)g(a)f(subset)f(of)h Fu(boolean)i FZ(\(the)d(set)h
FW(f)p Fu(tr)o(ue)p Fw(;)g Fu(f)m(alse)p FW(g)p FZ(\).)p
.95 TeXcolorgray Black 208 2069 a F4(It)j(is)f(in)o(terpreted)j(as)e
(the)g(\014rst)h(form)o(ula.)208 2227 y FN(15.3)82 b(The)26
b(Lexemes)h(of)g(TLA)1181 2200 y FM(+)208 2317 y F4(So)16
b(far,)i(this)f(c)o(hapter)h(has)f(describ)q(ed)i(the)f(sequences)i(of)
c(lexemes)h(that)g(form)f(syn)o(tac-)208 2367 y(tically)e(correct)k
(TLA)563 2352 y FS(+)600 2367 y F4(mo)q(dules.)23 b(More)17
b(precisely)m(,)f(b)q(ecause)i(of)d(the)i(alignmen)o(t)d(rules,)208
2417 y(syn)o(tactic)h(correctness)k(dep)q(ends)e(not)e(just)g(on)g(the)
h(sequence)h(of)e(lexemes,)g(but)g(also)g(on)208 2467
y(the)e(p)q(osition)e(of)h(eac)o(h)h(lexeme|that)e(is,)h(on)g(the)h(ro)
o(w)f(and)h(columns)e(in)h(whic)o(h)g(the)h(c)o(har-)208
2517 y(acters)i(of)e(the)h(lexeme)f(app)q(ear.)19 b(T)m(o)13
b(complete)g(the)h(de\014nition)f(of)h(the)g(syn)o(tax)g(of)f(TLA)1614
2502 y FS(+)1634 2517 y F4(,)p Black Black eop
%%Page: 290 308
290 307 bop Black 208 275 a F4(290)926 b FR(CHAPTER)14
b(15.)31 b(THE)15 b(SYNT)m(AX)e(OF)i(TLA)1957 260 y FS(+)p
208 282 1770 2 v Black 208 391 a F4(this)g(section)h(explains)f(ho)o(w)
g(a)h(sequence)h(of)e(c)o(haracters)i(is)f(turned)g(in)o(to)f(a)g
(sequence)i(of)208 441 y(lexemes.)270 491 y(All)9 b(c)o(haracters)j
(that)e(precede)i(the)e(b)q(eginning)f(of)h(the)g(mo)q(dule)f(are)h
(ignored.)17 b(Ignoring)208 541 y(a)g(c)o(haracter)h(do)q(es)h(not)e(c)
o(hange)h(the)g(ro)o(w)f(or)g(column)f(of)h(an)o(y)g(other)h(c)o
(haracter)g(in)f(the)208 591 y(sequence.)39 b(The)20
b(mo)q(dule)f(b)q(egins)i(with)f(a)g(sequence)i(of)e(four)g(or)g(more)f
(dashes)i(\(\\)p FO(-)p F4(")208 640 y(c)o(haracters\),)j(follo)o(w)o
(ed)19 b(b)o(y)h(zero)i(or)f(more)e(space)j(c)o(haracters,)i(follo)o(w)
o(ed)19 b(b)o(y)i(the)g(six-)208 690 y(c)o(haracter)c(string)g(\\)p
FD(MODULE)p F4(")o(.)25 b(\(This)16 b(sequence)j(of)c(c)o(haracters)j
(yields)e(the)h(\014rst)g(t)o(w)o(o)208 740 y(lexemes)11
b(of)h(the)g(mo)q(dule.\))k(The)d(remaining)d(sequence)k(of)d(c)o
(haracters)j(is)e(then)h(con)o(v)o(erted)208 790 y(to)19
b(a)h(sequence)h(of)f(lexemes)f(b)o(y)g(iterativ)o(ely)h(applying)e
(the)i(follo)o(wing)d(rule)j(un)o(til)f(the)208 840 y(mo)q(dule-ending)
12 b FO(==)7 b F0(\001)g(\001)g(\001)e FO(==)13 b F4(tok)o(en)h(is)g
(found:)p Black Black 332 923 a(The)i(next)g(lexeme)f(b)q(egins)h(at)f
(the)h(next)g(text)g(c)o(haracter)h(that)f(is)f(not)h(part)f(of)g(a)332
972 y(commen)o(t,)e(and)j(consists)g(of)f(the)h(largest)g(sequence)h
(of)e(consecutiv)o(e)i(c)o(haracters)332 1022 y(that)d(form)e(a)i
(legal)f(TLA)739 1007 y FS(+)773 1022 y F4(lexeme.)18
b(\(It)c(is)f(an)h(error)h(if)e(no)h(suc)o(h)g(lexeme)f(exists.\))208
1105 y(Space,)f(tab,)g(and)g(the)h(end-of-line)e(c)o(haracter)j(are)e
(not)g(text)h(c)o(haracters.)19 b(It)13 b(is)f(unde\014ned)208
1155 y(whether)f(c)o(haracters)h(suc)o(h)e(as)h(form)d(feed)i(are)h
(considered)g(text)g(c)o(haracters.)18 b(\(Y)m(ou)10
b(should)208 1205 y(not)j(use)i(suc)o(h)g(c)o(haracters)g(outside)g
(commen)o(ts.\))270 1255 y(In)d(the)h(BNF)g(grammar,)c(a)j
FV(Name)j F4(is)e(a)f(lexeme)f(that)i(can)f(b)q(e)h(used)g(as)f(the)h
(name)e(of)h(a)208 1305 y(record)i(\014eld.)k(The)c(seman)o(tics)f(of)g
(TLA)847 1290 y FS(+)867 1305 y F4(,)g(in)g(whic)o(h)h
FV(r)t FQ(:)p FV(c)h F4(is)e(an)h(abbreviation)e(for)h
FV(r)t F4([\\)p FD(c)p F4("],)208 1354 y(w)o(ould)f(allo)o(w)g(an)o(y)h
(string)g(to)h(b)q(e)g(a)f FV(Name)s F4(.)18 b(Ho)o(w)o(ev)o(er,)13
b(some)g(restriction)h(is)f(needed|for)208 1404 y(example,)h(allo)o
(wing)f(a)i(string)g(lik)o(e)g(\\)p FD(a+b)p F4(")h(to)f(b)q(e)h(a)f
FV(Name)k F4(w)o(ould)14 b(mak)o(e)g(it)h(imp)q(ossible)208
1454 y(in)g(practice)i(to)f(decide)h(if)f FO(r.a+b)f
F4(mean)o(t)f FV(r)t F4([\\)p FD(a+b)p F4("])i(or)g FV(r)t
F4([\\)p FD(a)p F4(")o(])10 b(+)h FV(b)s F4(.)24 b(The)17
b(one)f(un)o(usual)208 1504 y(restriction)k(in)f(the)i(de\014nition)e
(of)g FV(Name)k F4(on)c(page)h(277)f(is)g(the)i(exclusion)e(of)g
(strings)208 1554 y(b)q(eginning)d(with)h(\(but)h(not)f(consisting)g
(en)o(tirely)h(of)s(\))f(\\)p FD(WF)p FO(_)o F4(")g(and)g(\\)p
FD(SF)p FO(_)o F4(".)28 b(With)17 b(this)208 1603 y(restriction,)11
b(suc)o(h)g(strings)f(are)g(not)g(legal)f(TLA)950 1588
y FS(+)981 1603 y F4(lexemes.)16 b(Hence,)c(the)f(input)f
FO(WF_x\(A\))e F4(is)208 1653 y(brok)o(en)k(in)o(to)f(the)h(\014v)o(e)h
(lexemes)e(\\)p FD(WF)p FO(_)p F4(")o(,)h(\\)p FD(x)p
F4(",)g(\\)p FD(\()p F4(")o(,)g(\\)p FD(A)p F4(")o(,)g(and)g(\\)p
FD(\))p F4(")o(,)g(and)g(it)f(is)h(in)o(terpreted)208
1703 y(as)i(the)g(expression)h(WF)600 1709 y FJ(x)621
1703 y F4(\()p FV(A)p F4(\).)p Black Black eop
%%Page: 291 309
291 308 bop Black Black 208 703 a FL(Chapter)31 b(16)208
910 y F5(The)38 b(Op)s(erators)i(of)e(TLA)1363 873 y
Fk(+)208 1134 y F4(This)13 b(c)o(hapter)i(describ)q(es)h(the)f
(built-in)e(op)q(erators)i(of)e(TLA)1166 1118 y FS(+)1187
1134 y F4(.)18 b(Most)c(of)g(these)h(op)q(erators)208
1183 y(ha)o(v)o(e)10 b(b)q(een)i(describ)q(ed)g(in)e(P)o(art)h(I.)17
b(Here,)12 b(y)o(ou)e(can)g(\014nd)h(brief)g(explanations)f(of)f(the)j
(op)q(era-)208 1233 y(tors,)f(along)g(with)g(references)j(to)d(the)h
(longer)f(descriptions)h(in)f(P)o(art)h(I.)17 b(The)12
b(explanations)208 1283 y(co)o(v)o(er)j(some)f(subtle)i(p)q(oin)o(ts)f
(not)g(men)o(tioned)f(elsewhere.)24 b(The)15 b(c)o(hapter)h(can)g(serv)
o(e)g(as)f(a)208 1333 y(reference)e(man)o(ual)8 b(for)i(readers)i(who)f
(ha)o(v)o(e)f(\014nished)h(P)o(art)g(I)g(or)f(who)h(are)g(already)f
(familiar)208 1383 y(enough)j(with)g(the)h(mathematical)c(concepts)16
b(that)d(the)h(brief)f(explanations)g(are)h(all)e(they)208
1432 y(need.)270 1482 y(The)21 b(c)o(hapter)g(includes)g(a)f(formal)e
(seman)o(tics)i(of)g(the)h(op)q(erators.)39 b(The)21
b(rigorous)208 1532 y(description)13 b(of)g(TLA)553 1517
y FS(+)587 1532 y F4(that)g(a)g(formal)e(seman)o(tics)i(pro)o(vides)g
(is)g(usually)g(needed)i(only)d(b)o(y)208 1582 y(p)q(eople)e(building)e
(TLA)578 1567 y FS(+)609 1582 y F4(to)q(ols.)16 b(If)10
b(y)o(ou're)g(not)g(building)e(a)i(to)q(ol)f(and)h(don't)f(ha)o(v)o(e)h
(a)g(sp)q(ecial)208 1632 y(fondness)j(for)g(formalism)o(,)d(y)o(ou)i
(will)g(probably)g(w)o(an)o(t)h(to)f(skip)h(all)f(the)h(subsections)i
(titled)208 1681 y FV(F)m(ormal)f(Semantics)p F4(.)19
b(Ho)o(w)o(ev)o(er,)14 b(y)o(ou)g(ma)o(y)e(some)h(da)o(y)h(encoun)o
(ter)h(an)f(obscure)i(question)208 1731 y(ab)q(out)i(the)i(meaning)d
(of)h(a)g(TLA)757 1716 y FS(+)797 1731 y F4(op)q(erator)h(that)g(is)f
(answ)o(ered)i(only)e(b)o(y)h(the)g(formal)208 1781 y(seman)o(tics.)270
1831 y(This)d(c)o(hapter)i(also)e(de\014nes)i(some)e(of)g(the)h
(\\seman)o(tic")e(conditions)h(on)h(the)g(syn)o(tax)208
1881 y(of)f(TLA)345 1866 y FS(+)383 1881 y F4(that)h(are)h(omitted)e
(from)g(the)i(gramm)o(ar)d(of)h(Chapter)i(15.)28 b(F)m(or)17
b(example,)f(it)208 1931 y(tells)j(y)o(ou)g(that)g([)p
FV(a)11 b F4(:)d FV(Nat)t FQ(;)13 b FV(a)e F4(:)d FP(boolean)r
F4(])19 b(is)g(an)g(illegal)f(expression.)35 b(Other)21
b(seman)o(tic)208 1980 y(conditions)e(on)g(expressions)j(arise)e(from)e
(a)h(com)o(bination)e(of)i(the)i(de\014nitions)f(in)f(this)208
2030 y(c)o(hapter)h(and)e(the)i(conditions)f(stated)h(in)e(Chapter)i
(17.)33 b(F)m(or)18 b(example,)h(this)g(c)o(hapter)208
2080 y(de\014nes)d F0(9)7 b FV(x)e FQ(;)i FV(x)13 b F4(:)7
b FV(p)18 b F4(to)c(equal)h F0(9)7 b FV(x)13 b F4(:)7
b(\()p F0(9)g FV(x)14 b F4(:)8 b FV(p)s F4(\))o(,)15
b(and)f(Chapter)i(17)e(tells)g(y)o(ou)h(that)f(the)i(latter)208
2130 y(expression)f(is)e(illegal.)208 2288 y FN(16.1)82
b(Constan)n(t)27 b(Op)r(erators)208 2379 y F4(W)m(e)18
b(\014rst)i(de\014ne)h(the)f(constan)o(t)f(op)q(erators)i(of)d(TLA)1079
2364 y FS(+)1100 2379 y F4(.)34 b(These)21 b(are)e(the)h(op)q(erators)g
(of)208 2429 y(ordinary)15 b(mathematics,)f(ha)o(ving)h(nothing)h(to)g
(do)g(with)g(TLA)g(or)g(temp)q(oral)f(logic.)24 b(All)p
Black 1915 2622 a(291)p Black eop
%%Page: 292 310
292 309 bop Black 208 275 a F4(292)837 b FR(CHAPTER)14
b(16.)32 b(THE)14 b(OPERA)m(TORS)f(OF)i(TLA)1957 260
y FS(+)p 208 282 1770 2 v Black 208 391 a F4(the)h(constan)o(t)g(op)q
(erators)g(of)f(TLA)771 376 y FS(+)807 391 y F4(are)h(listed)f(in)g(T)m
(able)g(1)g(on)g(page)h(268)e(and)h(T)m(able)g(2)208
441 y(on)e(page)h(269.)270 491 y(An)k(op)q(erator)g(com)o(bines)f(one)h
(or)f(more)g(expressions)i(in)o(to)f(a)f(\\larger")g(expression.)208
541 y(F)m(or)j(example,)g(the)h(set)g(union)f(op)q(erator)h
F0([)f F4(com)o(bines)f(t)o(w)o(o)h(expressions)i FV(e)1479
547 y FS(1)1518 541 y F4(and)e FV(e)1627 547 y FS(2)208
591 y F4(in)o(to)c(the)h(expression)h FV(e)594 597 y
FS(1)624 591 y F0([)11 b FV(e)685 597 y FS(2)703 591
y F4(.)27 b(Some)15 b(op)q(erators)j(don't)e(ha)o(v)o(e)h(simple)e
(names)h(lik)o(e)23 b F0([)6 b F4(.)208 640 y(There's)17
b(no)f(name)e(for)i(the)h(op)q(erator)f(that)h(com)o(bines)e(the)h
FV(n)k F4(expressions)e FV(e)1470 646 y FS(1)1488 640
y F4(,)e(.)7 b(.)f(.)h(,)16 b FV(e)1622 646 y FJ(n)208
690 y F4(to)d(form)f(the)j(expression)g F0(f)p FV(e)671
696 y FS(1)689 690 y FQ(;)7 b(:)g(:)g(:)e(;)i FV(e)804
696 y FJ(n)828 690 y F0(g)o F4(.)18 b(W)m(e)c(could)f(name)g(it)g
F0(f)7 b FQ(;)g(:)g(:)g(:)e(;)13 b F0(g)h F4(or)g F0(f)p
1453 690 21 3 v 34 w FQ(;)7 b(:)g(:)g(:)e(;)p 1579 690
V 48 w F0(g)o F4(,)208 740 y(but)15 b(that)g(w)o(ould)f(b)q(e)i(a)o
(wkw)o(ard.)k(Instead)c(of)f(explicitly)f(men)o(tioning)e(the)k(op)q
(erator,)f(I'll)208 790 y(refer)k(to)e(the)i FV(c)n(onstruct)j
F0(f)p FV(e)668 796 y FS(1)686 790 y FQ(;)7 b(:)g(:)g(:)e(;)i
FV(e)801 796 y FJ(n)824 790 y F0(g)p F4(.)30 b(The)19
b(distinction)e(b)q(et)o(w)o(een)i(an)f(op)q(erator)h(lik)o(e)208
840 y F0([)i F4(and)15 b(the)h(nameless)e(one)h(used)h(in)f(the)g
(construct)i F0(f)p FV(e)1108 846 y FS(1)1127 840 y FQ(;)7
b(:)g(:)g(:)t(;)g FV(e)1241 846 y FJ(n)1265 840 y F0(g)15
b F4(is)f(purely)i(syn)o(tactic,)208 889 y(with)11 b(no)h(mathematical)
d(signi\014cance.)18 b(In)13 b(Chapter)f(17,)g(w)o(e'll)f(abstract)i(a)
o(w)o(a)o(y)e(from)g(this)208 939 y(syn)o(tactic)i(di\013erence)j(and)d
(treat)h(all)e(op)q(erators)i(uniformly)m(.)g(F)m(or)f(no)o(w,)g(w)o
(e'll)f(sta)o(y)h(closer)208 989 y(to)g(the)i(syn)o(tax.)208
1105 y FT(F)-5 b(ormal)17 b(Seman)n(tics)208 1181 y F4(A)12
b(formal)e(seman)o(tics)i(for)g(a)g(language)g(is)g(a)g(translation)g
(from)f(that)h(language)g(in)o(to)g(some)208 1231 y(form)c(of)i
(mathematics.)k(W)m(e)c(assign)g(a)g(mathematical)d(expression)12
b([)-7 b([)p FV(e)s F4(])g(],)9 b(called)h(the)h FV(me)n(an-)208
1281 y(ing)19 b F4(of)c FV(e)s F4(,)g(to)h(certain)g(terms)f
FV(e)k F4(in)c(the)h(language.)22 b(Since)16 b(w)o(e)g(presumably)f
(understand)208 1331 y(the)f(mathematics,)d(w)o(e)j(kno)o(w)g(what)g([)
-7 b([)p FV(e)s F4(])g(])12 b(means,)g(and)i(that)g(tells)g(us)g(what)g
FV(e)j F4(means.)270 1381 y(Meaning)11 b(is)h(generally)f(de\014ned)i
(inductiv)o(ely)m(.)j(F)m(or)11 b(example,)g(the)h(meaning)e([)-7
b([)p FV(e)1534 1387 y FS(1)1556 1381 y F0([)5 b FV(e)1611
1387 y FS(2)1630 1381 y F4(])-7 b(])208 1431 y(of)15
b(the)j(expression)f FV(e)556 1437 y FS(1)586 1431 y
F0([)11 b FV(e)647 1437 y FS(2)682 1431 y F4(w)o(ould)16
b(b)q(e)h(de\014ned)h(in)e(terms)g(of)g(the)h(meanings)e([)-7
b([)p FV(e)1528 1437 y FS(1)1546 1431 y F4(])g(])16 b(and)208
1480 y([)-7 b([)p FV(e)247 1486 y FS(2)265 1480 y F4(])g(])13
b(of)h(its)g(sub)q(expressions.)22 b(This)14 b(de\014nition)g(is)h
(said)f(to)g(de\014ne)h(the)h(seman)o(tics)d(of)h(the)208
1530 y(op)q(erator)21 b F0([)7 b F4(.)270 1580 y(Because)22
b(m)o(uc)o(h)c(of)h(TLA)691 1565 y FS(+)732 1580 y F4(is)g(a)h
(language)f(for)g(expressing)i(ordinary)f(mathemat-)208
1630 y(ics,)d(m)o(uc)o(h)f(of)g(its)h(seman)o(tics)g(is)g(trivial.)26
b(F)m(or)16 b(example,)g(the)i(seman)o(tics)e(of)24 b
F0([)f F4(can)17 b(b)q(e)208 1680 y(de\014ned)e(b)o(y)p
Black Black 332 1765 a([)-7 b([)p FV(e)371 1771 y FS(1)398
1765 y F0([)9 b FV(e)457 1771 y FS(2)476 1765 y F4(])-7
b(])532 1741 y FI(\001)527 1765 y F4(=)35 b([)-7 b([)p
FV(e)633 1771 y FS(1)651 1765 y F4(])g(])15 b F0([)h
F4([)-7 b([)p FV(e)766 1771 y FS(2)784 1765 y F4(])g(])208
1852 y(In)12 b(this)h(de\014nition,)f(the)20 b F0([)f
F4(to)12 b(the)i(left)e(of)g(the)976 1829 y FI(\001)971
1852 y F4(=)20 b(is)12 b(the)i(TLA)1221 1837 y FS(+)1254
1852 y F4(sym)o(b)q(ol,)c(while)i(the)i(one)208 1902
y(to)f(the)i(righ)o(t)f(is)g(the)g(set-union)h(op)q(erator)f(of)g
(ordinary)f(mathematics.)k(W)m(e)c(could)h(mak)o(e)208
1952 y(the)g(distinction)g(b)q(et)o(w)o(een)h(the)f(t)o(w)o(o)g(uses)h
(of)e(the)i(sym)o(b)q(ol)k F0([)h F4(more)13 b(ob)o(vious)g(b)o(y)h
(writing)p Black Black 332 2037 a([)-7 b([)p FV(e)371
2043 y FS(1)401 2037 y FO(\\)f(cup)11 b FV(e)514 2043
y FS(2)533 2037 y F4(])-7 b(])589 2014 y FI(\001)584
2037 y F4(=)35 b([)-7 b([)p FV(e)690 2043 y FS(1)708
2037 y F4(])g(])15 b F0([)h F4([)-7 b([)p FV(e)823 2043
y FS(2)841 2037 y F4(])g(])208 2118 y(But)14 b(that)g(w)o(ouldn't)f
(mak)o(e)f(the)j(de\014nition)e(an)o(y)h(less)g(trivial.)270
2168 y(Instead)k(of)f(trying)g(to)g(main)o(tain)e(a)i(distinction)g(b)q
(et)o(w)o(een)h(the)g(TLA)1402 2153 y FS(+)1440 2168
y F4(op)q(erator)25 b F0([)208 2218 y F4(and)13 b(the)i(op)q(erator)g
(of)e(set)i(theory)f(that's)g(written)h(the)f(same,)f(w)o(e)h(simply)e
(use)j(TLA)1574 2203 y FS(+)1609 2218 y F4(as)208 2268
y(the)h(language)f(of)h(mathematics)d(in)j(whic)o(h)g(to)g(de\014ne)h
(the)f(seman)o(tics)g(of)f(TLA)1499 2253 y FS(+)1520
2268 y F4(.)24 b(That)208 2317 y(is,)c(w)o(e)f(tak)o(e)g(as)h(primitiv)
o(e)d(certain)j(TLA)900 2302 y FS(+)940 2317 y F4(op)q(erators)g(that,)
g(lik)o(e)25 b F0([)7 b F4(,)20 b(corresp)q(ond)h(to)208
2367 y(w)o(ell-kno)o(wn)15 b(mathematical)f(op)q(erators.)29
b(W)m(e)16 b(describ)q(e)j(the)f(formal)c(seman)o(tics)j(of)f(the)208
2417 y(constan)o(t)i(op)q(erators)g(of)f(TLA)704 2402
y FS(+)743 2417 y F4(b)o(y)g(de\014ning)g(them)g(in)g(terms)h(of)f
(these)i(primitiv)o(e)c(op-)208 2467 y(erators.)26 b(W)m(e)15
b(also)h(describ)q(e)i(the)f(seman)o(tics)f(of)f(some)g(of)h(the)h
(primitiv)o(e)d(op)q(erators)j(b)o(y)208 2517 y(stating)c(the)i(axioms)
c(that)j(they)h(satisfy)m(.)p Black Black eop
%%Page: 293 311
293 310 bop Black 208 275 a FR(16.1.)30 b(CONST)m(ANT)14
b(OPERA)m(TORS)1078 b F4(293)p 208 282 1770 2 v Black
208 391 a F3(16.1.1)65 b(Bo)r(olean)21 b(Op)r(erators)208
482 y F4(The)13 b(truth)h(v)n(alues)f(of)g(logic)f(are)i(written)g(in)f
(TLA)1015 467 y FS(+)1049 482 y F4(as)g FP(tr)o(ue)h
F4(and)f FP(f)l(alse)r F4(.)k(The)d(built-in)208 532
y(constan)o(t)g FP(boolean)i F4(is)e(the)g(set)h(consisting)f(of)f
(those)i(t)o(w)o(o)e(v)n(alues:)p Black Black 332 619
a FP(boolean)544 596 y FI(\001)539 619 y F4(=)35 b F0(f)p
FP(tr)o(ue)p FQ(;)13 b FP(f)l(alse)r F0(g)208 702 y F4(TLA)295
687 y FS(+)329 702 y F4(pro)o(vides)h(the)h(usual)e(op)q(erators)842
687 y FS(1)876 702 y F4(of)27 b(prop)q(ositional)12 b(logic:)p
Black Black 332 785 a F0(^)92 b(_)g(:)i(\))23 b F4(\(implication\))92
b F0(\021)i FP(tr)o(ue)84 b(f)l(alse)208 868 y F4(They)16
b(are)h(explained)g(in)f(Section)h(1.1.)24 b(Conjunctions)17
b(and)f(disjunctions)h(can)f(also)g(b)q(e)208 918 y(written)e(as)g
(aligned)f(lists:)p Black Black Black 332 998 a F0(^)23
b FV(p)407 1004 y FS(1)399 1043 y F4(.)399 1059 y(.)399
1076 y(.)332 1126 y F0(^)g FV(p)407 1132 y FJ(n)p Black
470 1038 a FI(\001)465 1062 y F4(=)35 b FV(p)556 1068
y FS(1)584 1062 y F0(^)9 b FQ(:)e(:)g(:)g F0(^)i FV(p)739
1068 y FJ(n)p Black 929 998 a F0(_)23 b FV(p)1004 1004
y FS(1)996 1043 y F4(.)996 1059 y(.)996 1076 y(.)929
1126 y F0(_)g FV(p)1004 1132 y FJ(n)p Black 1066 1038
a FI(\001)1062 1062 y F4(=)35 b FV(p)1153 1068 y FS(1)1180
1062 y F0(_)9 b FQ(:)e(:)g(:)h F0(_)h FV(p)1336 1068
y FJ(n)270 1211 y F4(The)14 b(standard)g(quan)o(ti\014ed)f(form)o(ulas)
e(of)27 b(predicate)14 b(logic)f(are)h(written)g(in)f(TLA)1575
1196 y FS(+)1609 1211 y F4(as)p Black Black 332 1294
a F0(8)7 b FV(x)24 b F4(:)18 b FV(p)127 b F0(9)7 b FV(x)24
b F4(:)18 b FV(p)208 1377 y F4(I)e(call)g(these)i(the)f
FV(unb)n(ounde)n(d)23 b F4(quan)o(ti\014er)16 b(constructions.)27
b(The)17 b FV(b)n(ounde)n(d)22 b F4(v)o(ersions)17 b(are)208
1427 y(written)d(as)p Black Black 332 1510 a F0(8)7 b
FV(x)17 b F0(2)11 b FV(S)24 b F4(:)18 b FV(p)127 b F0(9)7
b FV(x)17 b F0(2)11 b FV(S)24 b F4(:)18 b FV(p)208 1593
y F4(The)f(meanings)e(of)i(these)h(expressions)h(are)e(describ)q(ed)i
(in)d(Section)h(1.3.)27 b(TLA)1499 1578 y FS(+)1536 1593
y F4(allo)o(ws)208 1643 y(some)13 b(common)e(abbreviations|for)h
(example:)p Black Black 332 1730 a F0(8)7 b FV(x)e FQ(;)i
FV(y)22 b F4(:)c FV(p)540 1706 y FI(\001)535 1730 y F4(=)35
b F0(8)7 b FV(x)24 b F4(:)18 b(\()p F0(8)7 b FV(y)22
b F4(:)c FV(p)s F4(\))332 1794 y F0(9)7 b FV(x)e FQ(;)i
FV(y)15 b F0(2)c FV(S)5 b FQ(;)14 b FV(z)j F0(2)11 b
FV(T)23 b F4(:)18 b FV(p)753 1771 y FI(\001)748 1794
y F4(=)35 b F0(9)7 b FV(x)17 b F0(2)11 b FV(S)24 b F4(:)17
b(\()p F0(9)7 b FV(y)16 b F0(2)11 b FV(S)24 b F4(:)18
b(\()p F0(9)7 b FV(z)17 b F0(2)11 b FV(T)24 b F4(:)18
b FV(p)s F4(\)\))208 1880 y(TLA)295 1865 y FS(+)329 1880
y F4(also)13 b(allo)o(ws)g(b)q(ounded)h(quan)o(ti\014cation)f(o)o(v)o
(er)h(tuples,)g(suc)o(h)h(as)p Black Black 332 1963 a
F0(8)7 b(h)s FV(x)e FQ(;)i FV(y)h F0(i)j(2)h FV(S)23
b F4(:)18 b FV(p)208 2046 y F4(This)12 b(form)o(ula)e(is)i(true)i
(i\013,)e(for)g(an)o(y)g(pair)g F0(h)s FV(a)s FQ(;)7
b FV(b)f F0(i)14 b F4(in)e FV(S)5 b F4(,)12 b(the)i(form)o(ula)c
(obtained)i(from)f FV(p)k F4(b)o(y)208 2095 y(substituting)f
FV(a)j F4(for)c FV(x)19 b F4(and)14 b FV(b)j F4(for)c
FV(y)18 b F4(is)c(true.)208 2212 y FT(F)-5 b(ormal)17
b(Seman)n(tics)208 2288 y F4(Prop)q(ositional)f(and)i(predicate)h
(logic,)e(along)f(with)i(set)g(theory)m(,)h(form)d(the)i(foundation)208
2338 y(of)13 b(ordinary)h(mathematics.)i(In)e(de\014ning)g(the)h(seman)
o(tics)e(of)h(TLA)1288 2323 y FS(+)1308 2338 y F4(,)g(w)o(e)g
(therefore)i(tak)o(e)208 2388 y(as)k(primitiv)o(es)e(the)i(op)q
(erators)h(of)f(prop)q(ositional)e(logic)h(and)h(the)h(simple)d(un)o(b)
q(ounded)208 2438 y(quan)o(ti\014er)h(constructs)i F0(9)7
b FV(x)13 b F4(:)8 b FV(p)22 b F4(and)d F0(8)7 b FV(x)14
b F4(:)7 b FV(p)s F4(,)20 b(where)h FV(x)j F4(is)19 b(an)g(iden)o
(ti\014er.)35 b(Among)17 b(the)p Black 208 2472 576 2
v 254 2499 a FK(1)271 2511 y Fu(tr)o(ue)12 b FZ(and)e
Fu(f)m(alse)i FZ(are)f(op)q(erators)e(that)h(tak)o(e)h(no)g(argumen)o
(ts.)p Black Black Black eop
%%Page: 294 312
294 311 bop Black 208 275 a F4(294)837 b FR(CHAPTER)14
b(16.)32 b(THE)14 b(OPERA)m(TORS)f(OF)i(TLA)1957 260
y FS(+)p 208 282 1770 2 v Black 208 391 a F4(Bo)q(olean)j(op)q(erators)
i(describ)q(ed)h(ab)q(o)o(v)o(e,)e(this)g(lea)o(v)o(es)g(only)g(the)g
(general)g(forms)f(of)g(the)208 441 y(quan)o(ti\014ers,)f(giv)o(en)g(b)
o(y)g(the)h(BNF)f(grammar)d(of)j(Chapter)h(15,)f(whose)g(meanings)f(m)o
(ust)208 491 y(b)q(e)f(de\014ned.)20 b(This)14 b(is)h(done)f(b)o(y)h
(de\014ning)f(those)h(general)g(forms)e(in)g(terms)i(of)e(the)i(simple)
208 541 y(forms.)270 591 y(The)f(un)o(b)q(ounded)h(op)q(erators)f(ha)o
(v)o(e)g(the)h(general)f(forms)p Black Black 332 674
a F0(8)7 b FV(x)386 680 y FS(1)405 674 y FQ(;)g(:)g(:)g(:)e(;)i
FV(x)522 680 y FJ(n)564 674 y F4(:)18 b FV(p)127 b F0(9)7
b FV(x)796 680 y FS(1)815 674 y FQ(;)g(:)g(:)g(:)e(;)i
FV(x)932 680 y FJ(n)974 674 y F4(:)18 b FV(p)208 757
y F4(where)d(eac)o(h)h FV(x)447 763 y FJ(i)477 757 y
F4(is)f(an)f(iden)o(ti\014er.)21 b(They)15 b(are)g(de\014ned)h(in)e
(terms)h(of)f(quan)o(ti\014cation)g(o)o(v)o(er)208 806
y(a)f(single)h(v)n(ariable)e(b)o(y)p Black Black 332
894 a F0(8)7 b FV(x)386 900 y FS(1)405 894 y FQ(;)g(:)g(:)g(:)e(;)i
FV(x)522 900 y FJ(n)564 894 y F4(:)18 b FV(p)657 870
y FI(\001)652 894 y F4(=)35 b F0(8)7 b FV(x)773 900 y
FS(1)810 894 y F4(:)18 b(\()p F0(8)7 b FV(x)910 900 y
FS(2)948 894 y F4(:)18 b(\()p FQ(:)7 b(:)g(:)e F0(8)i
FV(x)1103 900 y FJ(n)1146 894 y F4(:)18 b FV(p)s F4(\))7
b FQ(:)g(:)g(:)n F4(\))208 977 y(and)13 b(similarly)e(for)j
F0(9)7 b F4(.)18 b(The)c(b)q(ounded)g(op)q(erators)h(ha)o(v)o(e)f(the)g
(general)h(forms)p Black Black 332 1060 a F0(8)7 b FU(y)388
1066 y FS(1)418 1060 y F0(2)k FV(S)485 1066 y FS(1)504
1060 y FQ(;)c(:)g(:)g(:)e(;)i FU(y)623 1066 y FJ(n)658
1060 y F0(2)k FV(S)725 1066 y FJ(n)767 1060 y F4(:)18
b FV(p)128 b F0(9)7 b FU(y)1002 1066 y FS(1)1032 1060
y F0(2)k FV(S)1099 1066 y FS(1)1118 1060 y FQ(;)c(:)g(:)g(:)e(;)i
FU(y)1237 1066 y FJ(n)1271 1060 y F0(2)12 b FV(S)1339
1066 y FJ(n)1381 1060 y F4(:)18 b FV(p)208 1143 y F4(where)c(eac)o(h)g
FU(y)446 1149 y FJ(i)474 1143 y F4(has)g(the)f(form)f
FV(x)740 1149 y FS(1)759 1143 y FQ(;)7 b(:)g(:)g(:)e(;)i
FV(x)876 1149 y FJ(k)909 1143 y F4(or)14 b F0(h)s FV(x)1003
1149 y FS(1)1022 1143 y FQ(;)7 b(:)g(:)g(:)e(;)i FV(x)1139
1149 y FJ(k)1163 1143 y F0(i)p F4(,)13 b(and)g(eac)o(h)h
FV(x)1401 1149 y FJ(j)1431 1143 y F4(is)f(an)g(iden)o(ti-)208
1193 y(\014er.)18 b(The)d(general)f(forms)e(of)i F0(8)20
b F4(are)15 b(de\014ned)g(inductiv)o(ely)e(b)o(y)p Black
Black 332 1280 a F0(8)7 b FV(x)386 1286 y FS(1)405 1280
y FQ(;)13 b(:)7 b(:)g(:)f(;)13 b FV(x)535 1286 y FJ(k)568
1280 y F0(2)e FV(S)24 b F4(:)18 b FV(p)874 1256 y FI(\001)870
1280 y F4(=)35 b F0(8)7 b FV(x)991 1286 y FS(1)1009 1280
y FQ(;)14 b(:)7 b(:)g(:)e(;)13 b FV(x)1139 1286 y FJ(k)1179
1280 y F4(:)1020 1330 y(\()p FV(x)1060 1336 y FS(1)1090
1330 y F0(2)e FV(S)5 b F4(\))10 b F0(^)f FQ(:)e(:)g(:)h
F0(^)g F4(\()p FV(x)1354 1336 y FJ(k)1387 1330 y F0(2)k
FV(S)5 b F4(\))12 b F0(\))f FV(p)332 1402 y F0(8)c FU(y)388
1408 y FS(1)418 1402 y F0(2)k FV(S)485 1408 y FS(1)504
1402 y FQ(;)j(:)7 b(:)g(:)e(;)13 b FU(y)636 1408 y FJ(n)671
1402 y F0(2)f FV(S)739 1408 y FJ(n)781 1402 y F4(:)18
b FV(p)874 1379 y FI(\001)870 1402 y F4(=)35 b F0(8)7
b FU(y)993 1408 y FS(1)1023 1402 y F0(2)k FV(S)1090 1408
y FS(1)1127 1402 y F4(:)25 b FQ(:)7 b(:)g(:)12 b F0(8)7
b FU(y)1282 1408 y FJ(n)1317 1402 y F0(2)12 b FV(S)1385
1408 y FJ(n)1427 1402 y F4(:)18 b FV(p)332 1475 y F0(8)7
b(h)s FV(x)405 1481 y FS(1)425 1475 y FQ(;)13 b(:)7 b(:)g(:)e(;)14
b FV(x)555 1481 y FJ(k)579 1475 y F0(i)e(2)f FV(S)24
b F4(:)18 b FV(p)874 1451 y FI(\001)870 1475 y F4(=)35
b F0(8)7 b FV(x)991 1481 y FS(1)1009 1475 y FQ(;)14 b(:)7
b(:)g(:)e(;)13 b FV(x)1139 1481 y FJ(k)1179 1475 y F4(:)18
b(\()p F0(h)s FV(x)1268 1481 y FS(1)1288 1475 y FQ(;)13
b(:)7 b(:)g(:)f(;)13 b FV(x)1418 1481 y FJ(k)1443 1475
y F0(i)e(2)h FV(S)5 b F4(\))12 b F0(\))f FV(p)208 1556
y F4(where)17 b(the)f FU(y)429 1562 y FJ(i)460 1556 y
F4(are)h(as)f(b)q(efore.)25 b(In)16 b(these)i(expressions,)f
FV(S)k F4(and)16 b(the)h FV(S)1354 1562 y FJ(i)1385 1556
y F4(lie)f(outside)g(the)208 1606 y(scop)q(e)f(of)e(the)i(quan)o
(ti\014er's)f(b)q(ound)h(iden)o(ti\014ers.)k(The)c(de\014nitions)f(for)
g F0(9)21 b F4(are)14 b(similar.)j(In)208 1655 y(particular:)p
Black Black 332 1743 a F0(9)7 b(h)s FV(x)405 1749 y FS(1)425
1743 y FQ(;)13 b(:)7 b(:)g(:)e(;)14 b FV(x)555 1749 y
FJ(k)579 1743 y F0(i)e(2)f FV(S)24 b F4(:)18 b FV(p)786
1719 y FI(\001)781 1743 y F4(=)35 b F0(9)7 b FV(x)902
1749 y FS(1)921 1743 y FQ(;)14 b(:)7 b(:)g(:)e(;)13 b
FV(x)1051 1749 y FJ(k)1091 1743 y F4(:)18 b(\()p F0(h)s
FV(x)1180 1749 y FS(1)1200 1743 y FQ(;)13 b(:)7 b(:)g(:)e(;)14
b FV(x)1330 1749 y FJ(k)1354 1743 y F0(i)e(2)f FV(S)5
b F4(\))10 b F0(^)f FV(p)208 1826 y F4(See)14 b(Section)h(16.1.9)d(for)
h(further)i(details)f(ab)q(out)f(tuples.)208 1963 y F3(16.1.2)65
b(The)22 b(Cho)r(ose)f(Op)r(erator)208 2054 y F4(A)14
b(simple)e(un)o(b)q(ounded)i FP(choose)h F4(expression)g(has)f(the)h
(form)p Black Black 332 2137 a FP(choose)i FV(x)23 b
F4(:)18 b FV(p)208 2220 y F4(As)c(explained)f(in)g(Section)h(6.6,)e
(the)i(v)n(alue)f(of)g(this)h(expression)h(is)e(some)g(arbitrary)h(v)n
(alue)208 2270 y FV(v)20 b F4(suc)o(h)d(that)g FV(p)i
F4(is)d(true)h(if)e FV(v)21 b F4(is)16 b(substituted)h(for)f
FV(x)5 b F4(,)17 b(if)e(suc)o(h)i(a)f FV(v)21 b F4(exists.)26
b(If)15 b(no)h(suc)o(h)h FV(v)208 2319 y F4(exists,)d(then)g(the)h
(expression)g(has)f(a)f(completely)g(arbitrary)h(v)n(alue.)270
2369 y(The)g(b)q(ounded)h(form)d(of)h(the)i FP(choose)f
F4(expression)h(is)p Black Black 332 2452 a FP(choose)i
FV(x)f F0(2)c FV(S)23 b F4(:)18 b FV(p)p Black Black
eop
%%Page: 295 313
295 312 bop Black 208 275 a FR(16.1.)30 b(CONST)m(ANT)14
b(OPERA)m(TORS)1078 b F4(295)p 208 282 1770 2 v Black
208 391 a(It)14 b(is)f(de\014ned)i(in)f(terms)f(of)h(the)g(un)o(b)q
(ounded)h(form)d(b)o(y)p Black Black 332 467 a FP(choose)17
b FV(x)f F0(2)c FV(S)23 b F4(:)18 b FV(p)708 443 y FI(\001)703
467 y F4(=)35 b FP(choose)16 b FV(x)24 b F4(:)18 b(\()p
FV(x)f F0(2)11 b FV(S)5 b F4(\))10 b F0(^)f FV(p)p Black
-998 w F4(\(16.1\))p Black 208 538 a(It)16 b(is)h(equal)f(to)g(some)g
(arbitrary)g(v)n(alue)g FV(v)21 b F4(in)c FV(S)k F4(suc)o(h)d(that)e
FV(p)s F4(,)h(with)f FV(v)21 b F4(substituted)d(for)208
588 y FV(x)5 b F4(,)14 b(is)h(true|if)f(suc)o(h)i(a)e
FV(v)19 b F4(exists.)j(If)14 b(no)g(suc)o(h)i FV(v)j
F4(exists,)c(the)h FP(choose)f F4(expression)h(has)f(a)208
638 y(completely)d(arbitrary)i(v)n(alue.)270 687 y(A)g
FP(choose)h F4(expression)g(can)f(also)f(b)q(e)h(used)h(to)f(c)o(ho)q
(ose)h(a)e(tuple.)18 b(F)m(or)c(example,)p Black Black
332 759 a FP(choose)j F0(h)s FV(x)5 b FQ(;)i FV(y)g F0(i)12
b(2)f FV(S)24 b F4(:)18 b FV(p)208 830 y F4(equals)d(some)f(pair)g
F0(h)s FV(v)t FQ(;)7 b FV(w)i F0(i)15 b F4(in)f FV(S)21
b F4(suc)o(h)15 b(that)g FV(p)s F4(,)g(with)g FV(v)k
F4(substituted)e(for)d FV(x)21 b F4(and)15 b FV(w)k F4(sub-)208
880 y(stituted)f(for)f FV(y)t F4(,)h(is)f(true|if)g(suc)o(h)i(a)e(pair)
g(exists.)30 b(If)17 b(no)g(suc)o(h)h(pair)g(exists,)g(it)f(has)h(an)
208 930 y(arbitrary)13 b(v)n(alue,)g(whic)o(h)h(need)h(not)f(b)q(e)g(a)
g(pair.)270 979 y(The)g(un)o(b)q(ounded)h FP(choose)f
F4(op)q(erator)h(satis\014es)g(the)f(follo)o(wing)d(t)o(w)o(o)j(rules:)
p Black Black 332 1051 a(\()p F0(9)7 b FV(x)24 b F4(:)18
b FV(P)t F4(\()p FV(x)5 b F4(\)\))24 b F0(\021)f FV(P)t
F4(\()p FP(choose)18 b FV(x)23 b F4(:)18 b FV(P)t F4(\()p
FV(x)5 b F4(\)\))332 1112 y(\()p F0(8)i FV(x)24 b F4(:)18
b FV(P)t F4(\()p FV(x)5 b F4(\))12 b(=)g FV(Q)t F4(\()p
FV(x)5 b F4(\)\))24 b F0(\))e F4(\(\()p FP(choose)17
b FV(x)24 b F4(:)18 b FV(P)t F4(\()p FV(x)5 b F4(\)\))19
b(=)g(\()p FP(choose)e FV(x)24 b F4(:)18 b FV(Q)t F4(\()p
FV(x)5 b F4(\)\)\))p Black 208 1051 a(\(16.2\))p Black
208 1181 a(for)10 b(an)o(y)g(op)q(erators)h FV(P)k F4(and)10
b FV(Q)t F4(.)17 b(W)m(e)10 b(kno)o(w)g(nothing)g(ab)q(out)g(the)h(v)n
(alue)f(c)o(hosen)h(b)o(y)g FP(choose)208 1231 y F4(except)k(what)f(w)o
(e)g(can)g(deduce)h(from)d(these)k(rules.)270 1281 y(The)f(second)g
(rule)g(allo)o(ws)e(us)h(to)h(deduce)g(the)g(equalit)o(y)f(of)f
(certain)i FP(choose)h F4(expres-)208 1331 y(sions)e(that)g(w)o(e)g
(migh)o(t)e(exp)q(ect)j(to)f(b)q(e)h(di\013eren)o(t.)k(In)14
b(particular,)f(for)h(an)o(y)f(op)q(erator)i FV(P)t F4(,)f(if)208
1381 y(there)g(exists)f(no)f FV(x)18 b F4(satisfying)12
b FV(P)t F4(\()p FV(x)5 b F4(\),)13 b(then)h FP(choose)i
FV(x)e F4(:)7 b FV(P)t F4(\()p FV(x)e F4(\))14 b(equals)f(the)g(unique)
g(v)n(alue)208 1431 y FP(choose)j FV(x)d F4(:)8 b FP(f)l(alse)r
F4(.)18 b(F)m(or)13 b(example,)f(the)j FV(R)n(e)n(als)i
F4(mo)q(dule)12 b(de\014nes)k(division)c(b)o(y)p Black
Black 332 1506 a FV(a)s FQ(=)p FV(b)438 1482 y FI(\001)434
1506 y F4(=)34 b FP(choose)17 b FV(c)d F0(2)d FV(R)n(e)n(al)23
b F4(:)18 b FV(a)d F4(=)d FV(b)g F0(\003)d FV(c)208 1577
y F4(F)m(or)i(an)o(y)h(nonzero)g(n)o(um)o(b)q(er)g FV(a)s
F4(,)g(there)h(exists)g(no)f(n)o(um)o(b)q(er)f FV(c)j
F4(suc)o(h)f(that)f FV(a)j F4(=)d(0)5 b F0(\003)g FV(c)r
F4(.)18 b(Hence,)208 1627 y FV(a)s FQ(=)p F4(0)c(equals)g
FP(choose)i FV(c)11 b F4(:)c FP(f)l(alse)r F4(,)13 b(for)h(an)o(y)g
(nonzero)h FV(a)s F4(.)k(W)m(e)13 b(can)i(therefore)g(deduce)h(that)208
1677 y(1)p FQ(=)p F4(0)d(equals)h(2)p FQ(=)p F4(0.)270
1727 y(W)m(e)k(w)o(ould)g(exp)q(ect)j(to)e(b)q(e)g(unable)g(to)g
(deduce)h(an)o(ything)e(ab)q(out)h(the)h(nonsensical)208
1776 y(expression)15 b(1)p FQ(=)p F4(0.)20 b(It's)15
b(a)f(bit)h(disquieting)f(to)g(pro)o(v)o(e)h(that)g(it)f(equals)h(2)p
FQ(=)p F4(0.)k(If)c(this)f(upsets)208 1826 y(y)o(ou,)f(here's)i(a)e(w)o
(a)o(y)h(to)f(de\014ne)i(division)e(that)h(will)e(mak)o(e)h(y)o(ou)g
(happier.)19 b(First)14 b(de\014ne)h(an)208 1876 y(op)q(erator)f
FV(Choic)n(e)i F4(so)e(that)f FV(Choic)n(e)s F4(\()p
FV(v)t FQ(;)i FV(P)t F4(\))f(equals)f FP(choose)k FV(x)c
F4(:)8 b FV(P)t F4(\()p FV(x)d F4(\))14 b(if)f(there)i(exists)f(an)208
1926 y FV(x)21 b F4(satisfying)15 b FV(P)t F4(\()p FV(x)5
b F4(\),)18 b(and)e(otherwise)h(equals)g(some)e(arbitrary)h(v)n(alue)g
(that)g(dep)q(ends)i(on)208 1976 y FV(v)t F4(.)g(There)d(are)f(man)o(y)
e(w)o(a)o(ys)i(to)g(de\014ne)h FV(Choic)n(e)s F4(;)e(here's)i(one:)p
Black Black 332 2051 a FV(Choic)n(e)s F4(\()p FV(v)t
FQ(;)f FV(P)t F4(\()p 576 2051 21 3 v 35 w(\)\))676 2028
y FI(\001)671 2051 y F4(=)35 b FP(if)23 b F0(9)7 b FV(x)24
b F4(:)18 b FV(P)t F4(\()p FV(x)5 b F4(\))22 b FP(then)i(choose)17
b FV(x)24 b F4(:)18 b FV(P)t F4(\()p FV(x)5 b F4(\))1009
2101 y FP(else)36 b F4(\()p FP(choose)17 b FV(x)24 b
F4(:)18 b FV(x)5 b FQ(:)p FV(a)14 b F4(=)e FV(v)t F4(\))p
FQ(:)p FV(b)208 2170 y F4(Y)m(ou)h(can)h(then)h(de\014ne)f(division)f
(b)o(y)p Black Black 332 2246 a FV(a)s FQ(=)p FV(b)438
2222 y FI(\001)434 2246 y F4(=)34 b FP(let)23 b FV(P)t
F4(\()p FV(c)r F4(\))718 2222 y FI(\001)713 2246 y F4(=)35
b(\()p FV(c)14 b F0(2)d FV(R)n(e)n(al)t F4(\))f F0(^)f
F4(\()p FV(a)15 b F4(=)d FV(b)g F0(\003)d FV(c)r F4(\))500
2296 y FP(in)54 b FV(Choic)n(e)s F4(\()p FV(a)s FQ(;)14
b FV(P)t F4(\))208 2367 y(This)e(de\014nition)f(mak)o(es)h(it)f(imp)q
(ossible)g(to)h(deduce)i(an)o(y)d(relation)h(b)q(et)o(w)o(een)i(1)p
FQ(=)p F4(0)d(and)h(2)p FQ(=)p F4(0.)208 2417 y(Y)m(ou)g(can)g(use)i
FV(Choic)n(e)h F4(instead)e(of)i FP(choose)f F4(whenev)o(er)g(this)e
(kind)g(of)g(problem)f(arises|if)208 2467 y(y)o(ou)f(consider)h(1)p
FQ(=)p F4(0)f(equaling)g(2)p FQ(=)p F4(0)g(to)g(b)q(e)i(a)e(problem.)16
b(But)11 b(there)h(is)e(seldom)g(an)o(y)g(practical)208
2517 y(reason)k(for)g(w)o(orrying)f(ab)q(out)h(it.)p
Black Black eop
%%Page: 296 314
296 313 bop Black 208 275 a F4(296)837 b FR(CHAPTER)14
b(16.)32 b(THE)14 b(OPERA)m(TORS)f(OF)i(TLA)1957 260
y FS(+)p 208 282 1770 2 v Black 208 391 a FT(F)-5 b(ormal)17
b(Seman)n(tics)208 468 y F4(W)m(e)f(tak)o(e)h(the)g(construct)h
FP(choose)f FV(x)c F4(:)8 b FV(p)s F4(,)17 b(where)g
FV(x)22 b F4(is)17 b(an)f(iden)o(ti\014er,)i(to)e(b)q(e)i(primitiv)o
(e.)208 518 y(This)e(form)e(of)h(the)i FP(choose)g F4(op)q(erator)g(is)
e(kno)o(wn)h(to)g(mathematicians)d(as)j FV(Hilb)n(ert's)i
FQ(")p F4(.)208 568 y(Its)c(meaning)e(is)i(de\014ned)h(mathematical)o
(ly)c(b)o(y)i(the)i(rules)f(\(16.2\).)1261 553 y FS(2)270
617 y F4(An)c(un)o(b)q(ounded)h FP(choose)f F4(of)g(a)f(tuple)i(is)e
(de\014ned)j(in)d(terms)h(of)f(the)i(simple)d(un)o(b)q(ounded)208
667 y FP(choose)14 b F4(construct)i(b)o(y)p Black Black
332 754 a FP(choose)h F0(h)s FV(x)536 760 y FS(1)555
754 y FQ(;)7 b(:)g(:)g(:)e(;)i FV(x)672 760 y FJ(n)699
754 y F0(i)19 b F4(:)f FV(p)827 731 y FI(\001)822 754
y F4(=)457 812 y FP(choose)e FV(y)22 b F4(:)c(\()p F0(9)7
b FV(x)759 818 y FS(1)778 812 y FQ(;)g(:)g(:)g(:)e(;)i
FV(x)895 818 y FJ(n)937 812 y F4(:)18 b(\()p FV(y)e F4(=)c
F0(h)s FV(x)1106 818 y FS(1)1125 812 y FQ(;)7 b(:)g(:)g(:)e(;)i
FV(x)1242 818 y FJ(n)1269 812 y F0(i)p F4(\))i F0(^)g
FV(p)s F4(\))208 893 y(where)17 b FV(y)k F4(is)16 b(an)h(iden)o
(ti\014er)g(that)g(is)f(di\013eren)o(t)i(from)d(the)i
FV(x)1156 899 y FJ(i)1188 893 y F4(and)g(do)q(es)g(not)g(o)q(ccur)g(in)
g FV(p)s F4(.)208 943 y(The)g(b)q(ounded)g FP(choose)g
F4(construct)h(is)f(de\014ned)g(in)f(terms)h(of)f(un)o(b)q(ounded)h
FP(choose)g F4(b)o(y)208 992 y(\(16.1\),)12 b(where)j
FV(x)k F4(can)14 b(b)q(e)h(either)f(an)g(iden)o(ti\014er)g(or)g(a)g
(tuple.)208 1130 y F3(16.1.3)65 b(In)n(terpretations)24
b(of)d(Bo)r(olean)h(Op)r(erators)208 1221 y F4(The)10
b(meaning)f(of)h(a)g(Bo)q(olean)g(op)q(erator)h(when)g(applied)f(to)g
(Bo)q(olean)g(v)n(alues)g(is)g(a)g(standard)208 1270
y(part)20 b(of)f(traditional)g(mathematics.)35 b(Ev)o(ery)o(one)21
b(agrees)g(that)f FP(tr)o(ue)9 b F0(^)g FP(f)l(alse)22
b F4(equals)208 1320 y FP(f)l(alse)q F4(.)g(Ho)o(w)o(ev)o(er,)16
b(b)q(ecause)h(TLA)772 1305 y FS(+)808 1320 y F4(is)e(un)o(t)o(yp)q
(ed,)h(an)f(expression)i(lik)o(e)d(2)c F0(^)g(h)s F4(5)s
F0(i)16 b F4(is)f(legal.)208 1370 y(W)m(e)h(m)o(ust)f(therefore)j
(decide)g(what)e(it)g(means.)25 b(There)18 b(are)f(three)h(w)o(a)o(ys)e
(of)g(doing)f(this,)208 1420 y(whic)o(h)e(I)h(call)f(the)i
FV(c)n(onservative)p F4(,)e FV(mo)n(der)n(ate)p F4(,)g(and)h
FV(lib)n(er)n(al)j F4(in)o(terpretations.)270 1470 y(In)e(the)h
(conserv)n(ativ)o(e)f(in)o(terpretation,)h(the)f(v)n(alue)g(of)g(an)f
(expression)j(lik)o(e)d(2)9 b F0(^)g(h)s F4(5)s F0(i)16
b F4(is)208 1520 y(completely)f(unsp)q(eci\014ed.)28
b(It)17 b(could)f(equal)930 1485 y F0(p)p 965 1485 21
2 v 35 x F4(2.)26 b(It)16 b(need)i(not)f(equal)f F0(h)s
F4(5)s F0(i)10 b(^)f F4(2.)26 b(Hence,)208 1569 y(the)17
b(ordinary)g(la)o(ws)f(of)h(logic,)f(suc)o(h)i(as)f(the)h(comm)o
(utativi)o(t)o(y)c(of)j F0(^)p F4(,)g(are)g(v)n(alid)f(only)g(for)208
1619 y(Bo)q(olean)d(v)n(alues.)270 1669 y(In)f(the)g(lib)q(eral)f(in)o
(terpretation,)h(the)h(v)n(alue)e(of)g(2)e F0(^)g(h)s
F4(5)s F0(i)k F4(is)e(sp)q(eci\014ed)j(to)e(b)q(e)g(a)g(Bo)q(olean.)208
1719 y(It)j(is)g(not)h(sp)q(eci\014ed)g(whether)h(it)e(equals)h
FP(tr)o(ue)f F4(or)h FP(f)l(alse)q F4(.)22 b(Ho)o(w)o(ev)o(er,)16
b(all)e(the)i(ordinary)208 1769 y(la)o(ws)e(of)h(logic,)f(suc)o(h)i(as)
g(the)g(comm)o(utati)o(vit)o(y)c(of)j F0(^)p F4(,)g(are)g(v)n(alid.)21
b(Hence,)c(2)9 b F0(^)g(h)s F4(5)s F0(i)16 b F4(equals)208
1818 y F0(h)s F4(5)s F0(i)10 b(^)f F4(2)o(.)22 b(More)16
b(precisely)m(,)f(an)o(y)g(tautology)f(of)g(prop)q(ositional)g(or)h
(predicate)h(logic,)e(suc)o(h)208 1868 y(as)p Black Black
332 1951 a(\()p F0(8)7 b FV(x)24 b F4(:)18 b FV(p)s F4(\))34
b F0(\021)h(:)p F4(\()p F0(9)7 b FV(x)24 b F4(:)18 b
F0(:)p FV(p)s F4(\))208 2034 y(is)f(v)n(alid,)f(ev)o(en)i(if)f
FV(p)j F4(is)d(not)h(necessarily)g(a)f(Bo)q(olean)h(for)f(all)f(v)n
(alues)h(of)g FV(x)5 b F4(.)1427 2019 y FS(3)1475 2034
y F4(It)17 b(is)g(easy)208 2084 y(to)e(sho)o(w)g(that)g(the)h(lib)q
(eral)e(approac)o(h)i(is)f(sound.)999 2069 y FS(4)1040
2084 y F4(F)m(or)g(example,)e(one)j(w)o(a)o(y)e(of)h(de\014ning)208
2134 y(op)q(erators)h(that)f(satisfy)f(the)i(lib)q(eral)e(in)o
(terpretation)i(is)f(to)g(consider)h(an)o(y)e(non-Bo)q(olean)208
2184 y(v)n(alue)f(to)h(b)q(e)g(equiv)n(alen)o(t)f(to)h
FP(f)l(alse)q F4(.)270 2234 y(The)k(conserv)n(ativ)o(e)g(and)f(lib)q
(eral)g(in)o(terpretations)h(are)g(equiv)n(alen)o(t)f(for)g(most)f(sp)q
(eci-)208 2283 y(\014cations,)i(except)i(for)d(ones)i(that)f(use)h(Bo)q
(olean-v)n(alued)e(functions.)31 b(In)18 b(practice,)h(the)p
Black 208 2318 576 2 v 254 2345 a FK(2)271 2357 y FZ(Hilb)q(ert's)g
Fw(")i FZ(is)g(discussed)d(at)i(length)f(in)h FY(Mathematic)n(al)i(L)n
(o)n(gic)h(and)e(Hilb)n(ert's)h Fw(")p FY(-Symb)n(ol)k
FZ(b)o(y)208 2396 y(A.)12 b(C.)g(Leisenring,)d(published)g(b)o(y)i
(Gordon)e(and)i(Breac)o(h,)f(New)i(Y)m(ork,)f(1969.)254
2424 y FK(3)271 2436 y FZ(Equalit)o(y)d(\(=\))i(is)f(not)g(an)g(op)q
(erator)f(of)h(prop)q(ositiona)o(l)e(or)i(predicate)f(logic;)g(this)h
(tautology)e(need)i(not)208 2475 y(b)q(e)i(v)n(alid)f(for)h(non-Bo)q
(olean)d(v)n(alues)i(if)i FW(\021)g FZ(is)f(replaced)e(b)o(y)i(=.)254
2503 y FK(4)271 2515 y FZ(A)h(sound)e(logic)h(is)g(one)g(in)g(whic)o(h)
g Fu(f)m(alse)h FZ(is)f(not)g(pro)o(v)n(able.)p Black
Black Black eop
%%Page: 297 315
297 314 bop Black 208 275 a FR(16.1.)30 b(CONST)m(ANT)14
b(OPERA)m(TORS)1078 b F4(297)p 208 282 1770 2 v Black
208 391 a(conserv)n(ativ)o(e)14 b(in)o(terpretation)h(do)q(esn't)f(p)q
(ermit)g(y)o(ou)f(to)h(use)i FV(f)8 b F4([)p FV(x)d F4(])13
b(as)i(a)f(Bo)q(olean)g(expres-)208 441 y(sion)f(ev)o(en)h(if)f
FV(f)23 b F4(is)13 b(de\014ned)i(to)f(b)q(e)g(a)g(Bo)q(olean-v)n(alued)
f(function.)k(F)m(or)d(example,)e(supp)q(ose)208 491
y(w)o(e)i(de\014ne)h(the)f(function)g FV(tnat)k F4(b)o(y)p
Black Black 332 578 a FV(tnat)448 555 y FI(\001)443 578
y F4(=)35 b([)p FV(n)14 b F0(2)d FV(Nat)16 b F0(7!)11
b FP(tr)o(ue)p F4(])208 661 y(so)j FV(tnat)t F4([)p FV(n)s
F4(])f(equals)h FP(tr)o(ue)g F4(for)g(all)e FV(n)18 b
F4(in)13 b FV(Nat)t F4(.)18 b(The)c(form)o(ula)p Black
Black 332 744 a F0(8)7 b FV(n)15 b F0(2)c FV(Nat)23 b
F4(:)18 b FV(tnat)t F4([)p FV(n)s F4(])p Black -476 w(\(16.3\))p
Black 208 827 a(equals)d FP(tr)o(ue)h F4(in)f(the)h(lib)q(eral)e(in)o
(terpretation,)i(but)g(not)f(in)g(the)h(conserv)n(ativ)o(e)g(in)o
(terpre-)208 877 y(tation.)h(F)m(orm)o(ula)11 b(\(16.3\))i(is)h(equiv)n
(alen)o(t)f(to)p Black Black 332 960 a F0(8)7 b FV(n)22
b F4(:)c(\()p FV(n)d F0(2)c FV(Nat)t F4(\))h F0(\))f
FV(tnat)t F4([)p FV(n)s F4(])208 1043 y(whic)o(h)i(asserts)i(that)e(\()
p FV(n)i F0(2)c FV(Nat)t F4(\))h F0(\))f FV(tnat)t F4([)p
FV(n)s F4(])i(is)g(true)h(for)f(all)f FV(n)s F4(,)i(including,)e(for)h
(example,)208 1093 y FV(n)24 b F4(=)d(1)p FQ(=)p F4(2.)33
b(F)m(or)19 b(\(16.3\))g(to)g(equal)g FP(tr)o(ue)p F4(,)h(the)g(form)o
(ula)d(\(1)p FQ(=)p F4(2)j F0(2)g FV(Nat)t F4(\))h F0(\))f
FV(tnat)t F4([1)p FQ(=)p F4(2],)208 1143 y(whic)o(h)12
b(equals)g FP(f)l(alse)h F0(\))e FV(tnat)t F4([1)p FQ(=)p
F4(2],)g(m)o(ust)g(equal)h FP(tr)o(ue)p F4(.)17 b(But)c(the)g(v)n(alue)
f(of)f FV(tnat)t F4([1)p FQ(=)p F4(2])g(is)208 1193 y(not)j(sp)q
(eci\014ed;)i(it)e(migh)o(t)e(equal)733 1158 y F0(p)p
768 1158 21 2 v 35 x F4(2.)19 b(The)c(form)o(ula)d FP(f)l(alse)h
F0(\))1231 1158 y(p)p 1266 1158 V 35 x F4(2)h(equals)h
FP(tr)o(ue)f F4(in)g(the)208 1242 y(lib)q(eral)e(in)o(terpretation;)i
(its)g(v)n(alue)f(is)g(unsp)q(eci\014ed)i(in)f(the)g(conserv)n(ativ)o
(e)g(in)o(terpretation.)208 1292 y(Hence,)f(the)g(v)n(alue)e(of)g
(\(16.3\))g(is)h(unsp)q(eci\014ed)i(in)d(the)i(conserv)n(ativ)o(e)f(in)
o(terpretation.)18 b(If)12 b(w)o(e)208 1342 y(are)i(using)f(the)i
(conserv)n(ativ)o(e)f(in)o(terpretation,)g(instead)g(of)g(\(16.3\),)e
(w)o(e)i(should)g(write)p Black Black 332 1425 a F0(8)7
b FV(n)15 b F0(2)c FV(Nat)23 b F4(:)18 b(\()p FV(tnat)t
F4([)p FV(n)s F4(])11 b(=)h FP(tr)o(ue)p F4(\))208 1508
y(This)h(form)o(ula)f(equals)i FP(tr)o(ue)g F4(in)f(b)q(oth)h(in)o
(terpretations.)270 1558 y(The)19 b(conserv)n(ativ)o(e)g(in)o
(terpretation)g(is)f(philosophically)e(more)i(satisfying,)g(since)h(it)
208 1608 y(mak)o(es)f(no)h(assumptions)f(ab)q(out)h(a)g(silly)f
(expression)i(lik)o(e)e(2)9 b F0(^)g(h)s F4(5)s F0(i)q
F4(.)34 b(Ho)o(w)o(ev)o(er,)20 b(as)g(w)o(e)208 1657
y(ha)o(v)o(e)13 b(just)i(seen,)g(it)e(w)o(ould)h(b)q(e)h(nice)f(if)f
(the)i(not-so-silly)e(form)o(ula)e FP(f)l(alse)i F0(\))1439
1623 y(p)p 1474 1623 V 34 x F4(2)h(equaled)208 1707 y
FP(tr)o(ue)p F4(.)21 b(W)m(e)15 b(therefore)h(in)o(tro)q(duce)g(the)g
(mo)q(derate)e(in)o(terpretation,)i(whic)o(h)f(lies)f(b)q(et)o(w)o(een)
208 1757 y(the)k(conserv)n(ativ)o(e)f(and)h(lib)q(eral)e(in)o
(terpretations.)30 b(It)17 b(assumes)g(only)g(that)g(expressions)208
1807 y(in)o(v)o(olving)7 b FP(f)l(alse)k F4(and)f FP(tr)o(ue)g
F4(ha)o(v)o(e)f(their)h(exp)q(ected)i(v)n(alues|for)d(example,)g
FP(f)l(alse)k F0(\))1591 1773 y(p)p 1625 1773 V 1625
1807 a F4(2)208 1857 y(equals)d FP(tr)o(ue)p F4(,)h(and)f
FP(f)l(alse)h F0(^)e F4(2)h(equals)g FP(f)l(alse)r F4(.)16
b(In)11 b(the)g(mo)q(derate)f(in)o(terpretation,)h(\(16.3\))208
1907 y(equals)i FP(tr)o(ue)q F4(,)g(but)h(the)h(v)n(alue)e(of)g
F0(h)s F4(5)s F0(i)d(^)f F4(2)14 b(is)g(still)f(completely)f(unsp)q
(eci\014ed.)270 1956 y(The)i(la)o(ws)f(of)g(logic)g(still)f(do)i(not)f
(hold)g(unconditionally)f(in)i(the)g(mo)q(derate)f(in)o(terpre-)208
2006 y(tation.)25 b(The)17 b(form)o(ulas)d FV(p)g F0(^)c
FV(q)20 b F4(and)d FV(q)d F0(^)d FV(p)19 b F4(are)e(equiv)n(alen)o(t)f
(only)g(if)f FV(p)k F4(and)e FV(q)j F4(are)d(b)q(oth)208
2056 y(Bo)q(oleans,)f(or)g(if)f(one)h(of)f(them)g(equals)h
FP(f)l(alse)q F4(.)24 b(When)16 b(using)g(the)h(mo)q(derate)e(in)o
(terpre-)208 2106 y(tation,)i(w)o(e)h(still)e(ha)o(v)o(e)i(to)f(c)o
(hec)o(k)i(that)e(all)f(the)j(relev)n(an)o(t)e(v)n(alues)g(are)h(Bo)q
(oleans)g(b)q(efore)208 2156 y(applying)13 b(an)o(y)h(of)f(the)i
(ordinary)f(rules)h(of)f(logic)g(in)f(a)i(pro)q(of.)k(This)14
b(can)h(b)q(e)g(burdensome)208 2205 y(in)e(practice.)270
2255 y(The)18 b(seman)o(tics)f(of)h(TLA)690 2240 y FS(+)728
2255 y F4(asserts)h(that)f(the)h(rules)f(of)f(the)i(mo)q(derate)e(in)o
(terpreta-)208 2305 y(tion)c(are)h(v)n(alid.)i(The)e(lib)q(eral)f(in)o
(terpretation)h(is)f(neither)i(required)f(nor)g(forbidden.)j(Y)m(ou)208
2355 y(should)d(write)h(sp)q(eci\014cations)h(that)f(mak)o(e)e(sense)k
(under)e(the)h(mo)q(derate)e(in)o(terpretation.)208 2405
y(Ho)o(w)o(ev)o(er,)h(y)o(ou)g(\(and)h(the)g(implemen)o(ter)d(of)i(a)g
(to)q(ol\))g(are)h(free)g(to)g(use)g(the)g(lib)q(eral)f(in)o(ter-)208
2454 y(pretation)f(if)f(y)o(ou)g(wish.)p Black Black
eop
%%Page: 298 316
298 315 bop Black 208 275 a F4(298)837 b FR(CHAPTER)14
b(16.)32 b(THE)14 b(OPERA)m(TORS)f(OF)i(TLA)1957 260
y FS(+)p 208 282 1770 2 v Black 208 391 a F3(16.1.4)65
b(Conditional)24 b(Constructs)208 482 y F4(TLA)295 467
y FS(+)331 482 y F4(pro)o(vides)16 b(t)o(w)o(o)g(conditional)e
(constructs)k(for)d(forming)f(expressions)j(that)f(are)g(in-)208
532 y(spired)e(b)o(y)g(constructs)i(from)c(programmi)o(ng)f(languages:)
18 b FP(if)p F4(/)p FP(then)p F4(/)p FP(else)c F4(and)g
FP(case)p F4(.)270 582 y(The)h FP(if)p F4(/)p FP(then)p
F4(/)p FP(else)g F4(construct)i(w)o(as)e(in)o(tro)q(duced)g(on)g(page)g
(16)f(of)g(Section)i(2.2.)j(Its)208 632 y(general)14
b(form)e(is)p Black Black 332 715 a FP(if)23 b FV(p)i
FP(then)e FV(e)579 721 y FS(1)622 715 y FP(else)h FV(e)754
721 y FS(2)208 798 y F4(It)14 b(equals)f FV(e)400 804
y FS(1)433 798 y F4(if)g FV(p)k F4(is)d(true,)g(and)g
FV(e)753 804 y FS(2)785 798 y F4(if)f FV(p)k F4(is)d(false.)270
848 y(An)d(expression)h(can)f(sometimes)f(b)q(e)h(simpli\014ed)e(b)o(y)
i(using)g(a)g FP(case)g F4(construct)i(instead)208 897
y(of)f(nested)i FP(if)p F4(/)p FP(then)p F4(/)p FP(else)f
F4(constructs.)20 b(The)13 b FP(case)g F4(construct)h(has)f(t)o(w)o(o)g
(general)g(forms:)p Black Black 332 980 a FP(case)j FV(p)464
986 y FS(1)494 980 y F0(!)11 b FV(e)569 986 y FS(1)599
980 y FG(2)19 b FQ(:)7 b(:)g(:)17 b FG(2)11 b FV(p)782
986 y FJ(n)817 980 y F0(!)g FV(e)892 986 y FJ(n)332 1042
y FP(case)16 b FV(p)464 1048 y FS(1)494 1042 y F0(!)11
b FV(e)569 1048 y FS(1)599 1042 y FG(2)19 b FQ(:)7 b(:)g(:)17
b FG(2)11 b FV(p)782 1048 y FJ(n)817 1042 y F0(!)g FV(e)892
1048 y FJ(n)928 1042 y FG(2)h FP(other)g F0(!)f FV(e)p
Black 208 980 a F4(\(16.4\))p Black 208 1123 a(If)i(some)f
FV(p)376 1129 y FJ(i)405 1123 y F4(is)h(true,)h(then)h(the)f(v)n(alue)f
(of)f(these)j(expressions)g(is)f(some)e FV(e)1353 1129
y FJ(i)1383 1123 y F4(suc)o(h)i(that)f FV(p)1589 1129
y FJ(i)1618 1123 y F4(is)208 1173 y(true.)18 b(F)m(or)c(example,)e(the)
j(expression)p Black Black 332 1256 a FP(case)h FV(n)f
F0(\025)d F4(0)f F0(!)g FV(e)629 1262 y FS(1)659 1256
y FG(2)h FV(n)j F0(\024)d F4(0)f F0(!)g FV(e)891 1262
y FS(2)208 1339 y F4(equals)h FV(e)354 1345 y FS(1)386
1339 y F4(if)f FV(n)k FQ(>)d F4(0)h(is)f(true,)h(equals)g
FV(e)823 1345 y FS(2)854 1339 y F4(if)f FV(n)j FQ(<)d
F4(0)g(is)h(true,)g(and)f(equals)h(either)g FV(e)1487
1345 y FS(1)1519 1339 y F4(or)f FV(e)1590 1345 y FS(2)1622
1339 y F4(if)208 1389 y FV(n)j F4(=)c(0)g(is)g(true.)18
b(In)11 b(the)g(latter)g(case,)i(the)e(seman)o(tics)g(of)f(TLA)1173
1374 y FS(+)1204 1389 y F4(do)q(es)i(not)f(sp)q(ecify)h(whether)208
1438 y(the)j(expression)h(equals)e FV(e)629 1444 y FS(1)663
1438 y F4(or)g FV(e)736 1444 y FS(2)755 1438 y F4(.)20
b(The)15 b FP(case)g F4(expressions)h(\(16.4\))e(are)h(generally)f
(used)208 1488 y(when)g(the)g FV(p)411 1494 y FJ(i)440
1488 y F4(are)h(m)o(utually)c(disjoin)o(t,)h(so)i(at)g(most)f(one)h
FV(p)1148 1494 y FJ(i)1177 1488 y F4(can)g(b)q(e)h(true.)270
1538 y(The)f(t)o(w)o(o)g(expressions)i(\(16.4\))d(di\013er)i(when)f
FV(p)1011 1544 y FJ(i)1041 1538 y F4(is)g(false)g(for)f(all)g
FV(i)t F4(.)19 b(In)14 b(that)h(case,)f(the)208 1588
y(v)n(alue)h(of)h(the)g(\014rst)h(is)f(unsp)q(eci\014ed,)i(while)e(the)
g(v)n(alue)g(of)f(the)i(second)g(is)f FV(e)s F4(,)h(the)f
FP(other)208 1638 y F4(expression.)j(If)13 b(y)o(ou)f(use)j(a)e
FP(case)g F4(expression)h(without)f(an)h FP(other)f F4(clause,)h(the)g
(v)n(alue)e(of)208 1687 y(the)i(expression)h(should)f(matter)f(only)g
(when)h F0(9)7 b FV(i)16 b F0(2)11 b F4(1)j FQ(:)7 b(:)13
b FV(n)e F4(:)d FV(p)1201 1693 y FJ(i)1230 1687 y F4(is)13
b(true.)208 1804 y FT(F)-5 b(ormal)17 b(Seman)n(tics)208
1880 y F4(The)23 b FP(if)p F4(/)p FP(then)p F4(/)p FP(else)g
F4(and)f FP(case)g F4(constructs)j(are)e(de\014ned)h(as)e(follo)o(ws)f
(in)h(terms)g(of)208 1930 y FP(choose)p F4(:)p Black
Black 332 2013 a FP(if)h FV(p)i FP(then)e FV(e)579 2019
y FS(1)622 2013 y FP(else)h FV(e)754 2019 y FS(2)812
1990 y FI(\001)807 2013 y F4(=)415 2066 y FP(choose)17
b FV(v)23 b F4(:)18 b(\()p FV(p)c F0(\))d F4(\()p FV(v)16
b F4(=)c FV(e)869 2072 y FS(1)888 2066 y F4(\)\))17 b
F0(^)e F4(\()p F0(:)p FV(p)g F0(\))c F4(\()p FV(v)16
b F4(=)c FV(e)1230 2072 y FS(2)1249 2066 y F4(\)\))332
2139 y FP(case)k FV(p)464 2145 y FS(1)494 2139 y F0(!)11
b FV(e)569 2145 y FS(1)595 2139 y FG(2)j FQ(:)7 b(:)g(:)12
b FG(2)7 b FV(p)764 2145 y FJ(n)799 2139 y F0(!)k FV(e)874
2145 y FJ(n)937 2115 y FI(\001)933 2139 y F4(=)415 2192
y FP(choose)17 b FV(v)23 b F4(:)18 b(\()p FV(p)688 2198
y FS(1)716 2192 y F0(^)8 b F4(\()p FV(v)17 b F4(=)11
b FV(e)869 2198 y FS(1)888 2192 y F4(\)\))17 b F0(_)f
FQ(:)7 b(:)g(:)14 b F0(_)i F4(\()p FV(p)1129 2198 y FJ(n)1162
2192 y F0(^)9 b F4(\()p FV(v)16 b F4(=)c FV(e)1316 2198
y FJ(n)1340 2192 y F4(\)\))332 2264 y FP(case)k FV(p)464
2270 y FS(1)494 2264 y F0(!)11 b FV(e)569 2270 y FS(1)595
2264 y FG(2)j FQ(:)7 b(:)g(:)12 b FG(2)7 b FV(p)764 2270
y FJ(n)799 2264 y F0(!)k FV(e)874 2270 y FJ(n)905 2264
y FG(2)c FP(other)12 b F0(!)f FV(e)1194 2241 y FI(\001)1189
2264 y F4(=)415 2318 y FP(case)16 b FV(p)547 2324 y FS(1)577
2318 y F0(!)11 b FV(e)652 2324 y FS(1)678 2318 y FG(2)j
FQ(:)7 b(:)g(:)12 b FG(2)7 b FV(p)847 2324 y FJ(n)882
2318 y F0(!)k FV(e)957 2324 y FJ(n)988 2318 y FG(2)c
F0(:)p F4(\()p FV(p)1094 2324 y FS(1)1121 2318 y F0(_)i
FQ(:)e(:)g(:)h F0(_)h FV(p)1277 2324 y FJ(n)1300 2318
y F4(\))j F0(!)f FV(e)p Black Black eop
%%Page: 299 317
299 316 bop Black 208 275 a FR(16.1.)30 b(CONST)m(ANT)14
b(OPERA)m(TORS)1078 b F4(299)p 208 282 1770 2 v Black
208 395 a F3(16.1.5)65 b(The)22 b(Let/In)h(Construct)208
486 y F4(The)18 b FP(let)p F4(/)p FP(in)g F4(construct)13
b(w)o(as)e(in)o(tro)q(duced)h(on)f(page)h(60)e(of)h(Section)h(5.6.)k
(The)c(expression)p Black Black 332 561 a FP(let)25 b
FV(d)468 537 y FI(\001)463 561 y F4(=)12 b FV(f)33 b
FP(in)25 b FV(e)208 634 y F4(equals)13 b FV(e)18 b F4(in)13
b(the)h(con)o(text)h(of)e(the)i(de\014nition)e FV(d)982
611 y FI(\001)977 634 y F4(=)f FV(f)d F4(.)18 b(F)m(or)13
b(example,)p Black Black 332 707 a FP(let)25 b FV(sq)t
F4(\()p FV(i)t F4(\))543 684 y FI(\001)538 707 y F4(=)e
FV(i)14 b F0(\003)9 b FV(i)28 b FP(in)d FV(sq)t F4(\(1\))9
b(+)h FV(sq)t F4(\(2\))f(+)g FV(sq)t F4(\(3\))208 776
y(equals)k(1)7 b F0(\003)g F4(1)g(+)g(2)h F0(\003)f F4(2)g(+)g(3)g
F0(\003)g F4(3,)13 b(whic)o(h)g(equals)g(14.)k(The)c(general)g(form)f
(of)g(the)h(construct)i(is)p Black Black 332 845 a FP(let)25
b F4(\001)461 851 y FS(1)498 845 y FQ(:)7 b(:)g(:)17
b F4(\001)600 851 y FJ(n)648 845 y FP(in)25 b FV(e)208
914 y F4(where)15 b(eac)o(h)h(\001)458 920 y FJ(i)487
914 y F4(has)f(the)g(syn)o(tactic)g(form)e(of)h(an)o(y)h(TLA)1124
899 y FS(+)1159 914 y F4(de\014nition.)20 b(Its)15 b(v)n(alue)f(is)g
FV(e)k F4(in)208 964 y(the)c(con)o(text)h(of)e(the)h(de\014nitions)g
(\001)781 970 y FJ(i)796 964 y F4(.)k(More)d(precisely)m(,)e(it)h
(equals)p Black Black 332 1033 a FP(let)25 b F4(\001)461
1039 y FS(1)504 1033 y FP(in)g F4(\()p FP(let)g F4(\001)712
1039 y FS(2)755 1033 y FP(in)g F4(\()12 b FQ(:)7 b(:)g(:)30
b FP(let)25 b F4(\001)1055 1039 y FJ(n)1103 1033 y FP(in)g
FV(e)10 b F4(\))19 b FQ(:)7 b(:)g(:)j F4(\))208 1102
y(Hence,)k(the)h(sym)o(b)q(ol)d(de\014ned)j(in)e(\001)782
1108 y FS(1)814 1102 y F4(can)i(b)q(e)f(used)h(in)e(the)i
(de\014nitions)f(\001)1398 1108 y FS(2)1416 1102 y F4(,)f(.)7
b(.)f(.)h(,)13 b(\001)1557 1108 y FJ(n)1580 1102 y F4(.)208
1215 y FT(F)-5 b(ormal)17 b(Seman)n(tics)208 1292 y F4(The)k(formal)d
(seman)o(tics)i(of)g(the)h FP(let)f F4(construct)j(is)d(de\014ned)i(b)q
(elo)o(w)e(in)g(Section)h(17.4)208 1341 y(\(page)14 b(325\).)208
1476 y F3(16.1.6)65 b(The)22 b(Op)r(erators)g(of)f(Set)i(Theory)208
1567 y F4(TLA)295 1552 y FS(+)329 1567 y F4(pro)o(vides)14
b(the)h(follo)o(wing)c(op)q(erators)k(on)e(sets:)p Black
Black 344 1636 a F0(2)87 b FQ(=)-26 b F0(2)95 b([)82
b(\\)94 b(\022)102 b(n)90 b FP(union)100 b(subset)208
1705 y F4(and)13 b(the)i(follo)o(wing)c(set)k(constructors:)p
Black Black 332 1773 a F0(f)p FV(e)375 1779 y FS(1)394
1773 y FQ(;)7 b(:)g(:)g(:)t(;)g FV(e)508 1779 y FJ(n)532
1773 y F0(g)83 b(f)p FV(x)16 b F0(2)11 b FV(S)24 b F4(:)18
b FV(p)s F0(g)83 b(f)p FV(e)21 b F4(:)d FV(x)f F0(2)11
b FV(S)5 b F0(g)208 1842 y F4(They)11 b(are)g(all)f(describ)q(ed)j(in)e
(Section)g(1.2)f(\(page)i(11\))e(and)h(Section)h(6.1)e(\(page)h(65\).)
17 b(Equal-)208 1892 y(it)o(y)g(is)h(also)f(an)h(op)q(erator)g(of)f
(set)i(theory)m(,)g(since)f(it)g(formally)d(means)i(equalit)o(y)g(of)g
(sets.)208 1942 y(TLA)295 1927 y FS(+)329 1942 y F4(pro)o(vides)d(the)h
(usual)e(op)q(erators)i(=)f(and)g F0(6)p F4(=.)270 1992
y(The)g(set)g(construct)h F0(f)p FV(x)h F0(2)c FV(S)23
b F4(:)18 b FV(p)s F0(g)13 b F4(can)h(also)f(b)q(e)g(used)i(with)e
FV(x)18 b F4(a)13 b(tuple)h(of)f(iden)o(ti\014ers.)208
2042 y(F)m(or)g(example,)p Black Black 332 2111 a F0(fh)s
FV(a)s FQ(;)7 b FV(b)f F0(i)12 b(2)f FV(Nat)i F0(\002)d
FV(Nat)22 b F4(:)c FV(a)d FQ(>)d FV(b)s F0(g)208 2180
y F4(is)i(the)h(set)g(of)f(all)f(pairs)i(of)e(natural)h(n)o(um)o(b)q
(ers)g(whose)h(\014rst)g(comp)q(onen)o(t)f(is)g(greater)i(than)208
2229 y(its)g(second|pairs)h(suc)o(h)g(as)g F0(h)s F4(3)p
FQ(;)7 b F4(1)s F0(i)p F4(.)26 b(In)16 b(the)h(set)h(construct)g
F0(f)p FV(e)26 b F4(:)c FV(x)f F0(2)16 b FV(S)5 b F0(g)p
F4(,)16 b(the)h(clause)208 2279 y FV(x)k F0(2)16 b FV(S)22
b F4(can)17 b(b)q(e)g(generalized)h(in)e(exactly)h(the)g(same)f(w)o(a)o
(y)g(as)h(in)f(a)g(b)q(ounded)i(quan)o(ti\014er)208 2329
y(suc)o(h)c(as)g F0(8)7 b FV(x)17 b F0(2)11 b FV(S)24
b F4(:)18 b FV(p)s F4(.)g(F)m(or)13 b(example,)p Black
Black 332 2398 a F0(fh)s FV(a)s FQ(;)7 b FV(b)s FQ(;)g
FV(c)f F0(i)18 b F4(:)g FV(a)s FQ(;)7 b FV(b)14 b F0(2)d
FV(Nat)t FQ(;)i FV(c)h F0(2)e FV(R)n(e)n(al)t F0(g)208
2467 y F4(is)18 b(the)i(set)f(of)g(all)e(triples)i(whose)h(\014rst)f(t)
o(w)o(o)g(comp)q(onen)o(ts)f(are)h(natural)g(n)o(um)o(b)q(ers)f(and)208
2517 y(whose)c(third)g(comp)q(onen)o(t)f(is)h(a)f(real)h(n)o(um)o(b)q
(er.)p Black Black eop
%%Page: 300 318
300 317 bop Black 208 275 a F4(300)837 b FR(CHAPTER)14
b(16.)32 b(THE)14 b(OPERA)m(TORS)f(OF)i(TLA)1957 260
y FS(+)p 208 282 1770 2 v Black 208 391 a FT(F)-5 b(ormal)17
b(Seman)n(tics)208 468 y F4(TLA)295 453 y FS(+)330 468
y F4(is)d(based)i(on)e(Zermelo-F)m(r\177)-21 b(ank)o(el)13
b(set)j(theory)m(,)e(in)g(whic)o(h)h(ev)o(ery)g(v)n(alue)f(is)g(a)h
(set.)21 b(In)208 518 y(set)16 b(theory)m(,)23 b F0(2)g
F4(is)16 b(tak)o(en)g(as)g(a)f(primitiv)o(e,)f(unde\014ned)j(op)q
(erator.)25 b(W)m(e)15 b(could)h(de\014ne)h(all)208 568
y(the)f(other)h(op)q(erators)g(of)e(set)i(theory)f(in)g(terms)g(of)22
b F0(2)7 b F4(,)16 b(using)f(predicate)i(logic)e(and)h(the)208
617 y FP(choose)e F4(op)q(erator.)19 b(F)m(or)13 b(example,)f(set)j
(union)f(could)f(b)q(e)i(de\014ned)g(b)o(y)p Black Black
332 694 a FV(S)g F0([)9 b FV(T)481 670 y FI(\001)476
694 y F4(=)35 b FP(choose)17 b FV(U)25 b F4(:)18 b F0(8)7
b FV(x)24 b F4(:)18 b(\()p FV(x)e F0(2)c FV(U)7 b F4(\))18
b F0(\021)h F4(\()p FV(x)e F0(2)11 b FV(S)5 b F4(\))k
F0(_)g F4(\()p FV(x)17 b F0(2)12 b FV(T)6 b F4(\))208
766 y(\(T)m(o)19 b(reason)h(ab)q(out)26 b F0([)7 b F4(,)21
b(w)o(e)f(w)o(ould)e(need)j(axioms)d(from)g(whic)o(h)h(w)o(e)h(can)g
(deduce)h(the)208 816 y(existence)14 b(of)e(the)h(c)o(hosen)g(set)h
FV(U)7 b F4(.\))17 b(Another)c(approac)o(h)g(w)o(e)f(could)h(tak)o(e)f
(is)g(to)h(let)f(certain)208 866 y(of)f(the)i(op)q(erators)h(b)q(e)f
(primitiv)o(e)d(and)i(de\014ne)h(the)g(rest)h(in)e(terms)g(of)g(them.)
17 b(F)m(or)12 b(example,)208 916 y F0([)20 b F4(can)14
b(b)q(e)h(de\014ned)g(in)e(terms)h(of)i FP(union)f F4(and)f(the)h
(construct)g F0(f)p FV(e)1253 922 y FS(1)1272 916 y FQ(;)7
b(:)g(:)g(:)t(;)g FV(e)1386 922 y FJ(n)1410 916 y F0(g)14
b F4(b)o(y)p Black Black 332 994 a FV(S)h F0([)9 b FV(T)481
971 y FI(\001)476 994 y F4(=)35 b FP(union)17 b F0(f)p
FV(S)5 b FQ(;)14 b FV(T)6 b F0(g)208 1066 y F4(W)m(e)12
b(w)o(on't)h(try)g(to)g(distinguish)g(a)g(small)e(set)j(of)f(primitiv)o
(e)e(op)q(erators;)j(instead,)f(w)o(e)g(treat)208 1116
y F0([)21 b F4(and)15 b FP(union)h F4(as)f(equally)f(primitiv)o(e.)19
b(Op)q(erators)d(that)f(w)o(e)g(tak)o(e)g(to)g(b)q(e)h(primitiv)o(e)c
(are)208 1166 y(de\014ned)19 b(mathematicall)o(y)d(in)i(terms)g(of)f
(the)i(rules)g(that)g(they)g(satisfy)m(.)31 b(F)m(or)18
b(example,)208 1216 y FV(S)c F0([)9 b FV(T)19 b F4(is)14
b(de\014ned)h(b)o(y)p Black Black 332 1288 a F0(8)7 b
FV(x)24 b F4(:)18 b(\()p FV(x)f F0(2)11 b F4(\()p FV(S)k
F0([)8 b FV(T)e F4(\)\))23 b F0(\021)g F4(\()p FV(x)17
b F0(2)12 b FV(S)5 b F4(\))k F0(_)g F4(\()p FV(x)17 b
F0(2)11 b FV(T)6 b F4(\))208 1360 y(Ho)o(w)o(ev)o(er,)15
b(there)i(is)e(no)g(suc)o(h)h(de\014ning)f(rule)h(for)f(the)g(primitiv)
o(e)e(op)q(erator)23 b F0(2)7 b F4(.)22 b(W)m(e)15 b(tak)o(e)208
1410 y(only)d(the)h(simple)e(forms)h(of)g(the)h(constructs)i
F0(f)p FV(x)i F0(2)11 b FV(S)i F4(:)8 b FV(p)s F0(g)k
F4(and)h F0(f)p FV(e)e F4(:)d FV(x)17 b F0(2)11 b FV(S)5
b F0(g)13 b F4(as)g(primitiv)o(e,)208 1460 y(and)g(w)o(e)h(de\014ne)h
(the)g(more)e(general)h(forms)e(in)i(terms)f(of)h(them.)p
Black 270 1536 a FV(S)j F4(=)11 b FV(T)p Black 426 1513
a FI(\001)421 1536 y F4(=)26 b F0(8)7 b FV(x)13 b F4(:)8
b(\()p FV(x)17 b F0(2)11 b FV(S)5 b F4(\))12 b F0(\021)g
F4(\()p FV(x)17 b F0(2)11 b FV(T)6 b F4(\))o(.)p Black
270 1621 a FV(e)289 1627 y FS(1)319 1621 y F0(6)p F4(=)12
b FV(e)382 1627 y FS(2)p Black 426 1597 a FI(\001)421
1621 y F4(=)26 b F0(:)p F4(\()p FV(e)545 1627 y FS(1)575
1621 y F4(=)12 b FV(e)641 1627 y FS(2)660 1621 y F4(\).)p
Black 270 1705 a FV(e)19 b FQ(=)-25 b F0(2)11 b FV(S)p
Black 426 1681 a FI(\001)421 1705 y F4(=)26 b F0(:)p
F4(\()p FV(e)15 b F0(2)c FV(S)5 b F4(\).)p Black 270
1782 a FV(S)14 b F0([)9 b FV(T)p Black 47 w F4(is)14
b(de\014ned)h(b)o(y)f F0(8)7 b FV(x)23 b F4(:)18 b(\()p
FV(x)f F0(2)12 b F4(\()p FV(S)i F0([)9 b FV(T)d F4(\)\))23
b F0(\021)g F4(\()p FV(x)17 b F0(2)11 b FV(S)5 b F4(\))10
b F0(_)f F4(\()p FV(x)17 b F0(2)11 b FV(T)6 b F4(\).)p
Black 270 1860 a FV(S)14 b F0(\\)9 b FV(T)p Black 47
w F4(is)14 b(de\014ned)h(b)o(y)f F0(8)7 b FV(x)23 b F4(:)18
b(\()p FV(x)f F0(2)12 b F4(\()p FV(S)i F0(\\)9 b FV(T)d
F4(\)\))23 b F0(\021)g F4(\()p FV(x)17 b F0(2)11 b FV(S)5
b F4(\))10 b F0(^)f F4(\()p FV(x)17 b F0(2)11 b FV(T)6
b F4(\).)p Black 270 1944 a FV(S)17 b F0(\022)11 b FV(T)p
Black 426 1921 a FI(\001)421 1944 y F4(=)26 b F0(8)7
b FV(x)13 b F4(:)8 b(\()p FV(x)17 b F0(2)11 b FV(S)5
b F4(\))12 b F0(\))f F4(\()p FV(x)17 b F0(2)11 b FV(T)6
b F4(\).)p Black 270 2022 a FV(S)12 b F0(n)p FV(T)p Black
65 w F4(is)i(de\014ned)h(b)o(y)f F0(8)7 b FV(x)23 b F4(:)18
b(\()p FV(x)f F0(2)12 b F4(\()p FV(S)g F0(n)p FV(T)6
b F4(\)\))22 b F0(\021)i F4(\()p FV(x)17 b F0(2)11 b
FV(S)5 b F4(\))k F0(^)g F4(\()p FV(x)22 b FQ(=)-26 b
F0(2)11 b FV(T)6 b F4(\).)p Black 270 2099 a FP(subset)j
FV(S)p Black 26 w F4(is)14 b(de\014ned)h(b)o(y)f F0(8)7
b FV(T)23 b F4(:)18 b(\()p FV(T)f F0(2)11 b FP(subset)f
FV(S)5 b F4(\))23 b F0(\021)h F4(\()p FV(T)17 b F0(\022)11
b FV(S)5 b F4(\).)p Black 270 2177 a FP(union)17 b FV(S)p
Black 26 w F4(is)d(de\014ned)h(b)o(y)e F0(8)7 b FV(x)24
b F4(:)18 b(\()p FV(x)f F0(2)11 b FP(union)17 b FV(S)5
b F4(\))24 b F0(\021)f F4(\()p F0(9)7 b FV(T)17 b F0(2)11
b FV(S)24 b F4(:)18 b FV(x)f F0(2)11 b FV(T)6 b F4(\).)p
Black 270 2261 a F0(f)p FV(e)310 2267 y FS(1)328 2261
y FQ(;)h(:)g(:)g(:)e(;)i FV(e)440 2267 y FJ(n)463 2261
y F0(g)p Black 510 2238 a FI(\001)505 2261 y F4(=)26
b F0(f)p FV(e)606 2267 y FS(1)624 2261 y F0(g)16 b([)g
FQ(:)7 b(:)g(:)14 b F0([)i(f)p FV(e)856 2267 y FJ(n)880
2261 y F0(g)p F4(,)421 2315 y(where)f F0(f)p FV(e)s F0(g)f
F4(is)g(de\014ned)h(b)o(y)p Black Black 546 2379 a F0(8)7
b FV(x)13 b F4(:)8 b(\()p FV(x)17 b F0(2)11 b(f)p FV(e)s
F0(g)p F4(\))23 b F0(\021)g F4(\()p FV(x)17 b F4(=)12
b FV(e)s F4(\))421 2443 y(F)m(or)i FV(n)h F4(=)d(0,)h(this)h(construct)
h(is)f(the)h(empt)o(y)d(set)j F0(fg)p F4(,)e(de\014ned)i(b)o(y)p
Black Black 546 2506 a F0(8)7 b FV(x)13 b F4(:)8 b FV(x)21
b FQ(=)-25 b F0(2)11 b(fg)p Black Black eop
%%Page: 301 319
301 318 bop Black 208 275 a FR(16.1.)30 b(CONST)m(ANT)14
b(OPERA)m(TORS)1078 b F4(301)p 208 282 1770 2 v Black
Black 270 391 a F0(f)p FV(x)16 b F0(2)c FV(S)k F4(:)11
b FV(p)s F0(g)p Black 421 441 a F4(where)18 b FV(x)23
b F4(is)16 b(a)h(b)q(ound)g(iden)o(ti\014er)g(or)g(a)g(tuple)g(of)f(b)q
(ound)h(iden)o(ti\014ers.)28 b(The)421 491 y(expression)13
b FV(S)k F4(is)11 b(outside)h(the)f(scop)q(e)i(of)e(the)h(b)q(ound)f
(iden)o(ti\014er\(s\).)19 b(F)m(or)11 b FV(x)16 b F4(an)421
541 y(iden)o(ti\014er,)h(this)f(is)g(a)f(primitiv)o(e)f(expression)j
(that)f(is)g(de\014ned)h(mathemati-)421 591 y(cally)c(b)o(y)p
Black Black 546 657 a F0(8)7 b FV(y)22 b F4(:)c(\()p
FV(y)e F0(2)11 b(f)p FV(x)16 b F0(2)c FV(S)23 b F4(:)18
b FV(p)s F0(g)p F4(\))23 b F0(\021)g F4(\()p FV(y)16
b F0(2)11 b FV(S)5 b F4(\))10 b F0(^)f FF(b)-23 b FV(p)421
722 y F4(where)18 b(the)e(iden)o(ti\014er)h FV(y)i F4(do)q(es)e(not)f
(o)q(ccur)h(in)f FV(S)21 b F4(or)16 b FV(p)s F4(,)g(and)g
FF(b)-23 b FV(p)19 b F4(is)d FV(p)i F4(with)e FV(y)421
772 y F4(substituted)g(for)d FV(x)5 b F4(.)18 b(F)m(or)c
FV(x)19 b F4(a)14 b(tuple,)f(the)i(expression)g(is)e(de\014ned)i(b)o(y)
p Black Black 546 842 a F0(fh)s FV(x)610 848 y FS(1)629
842 y FQ(;)7 b(:)g(:)g(:)e(;)i FV(x)746 848 y FJ(n)773
842 y F0(i)12 b(2)f FV(S)24 b F4(:)18 b FV(p)s F0(g)1000
819 y FI(\001)996 842 y F4(=)629 892 y F0(f)p FV(y)d
F0(2)c FV(S)36 b F4(:)29 b(\()p F0(9)7 b FV(x)894 898
y FS(1)913 892 y FQ(;)g(:)g(:)g(:)e(;)i FV(x)1030 898
y FJ(n)1072 892 y F4(:)18 b(\()p FV(y)d F4(=)d F0(h)s
FV(x)1240 898 y FS(1)1260 892 y FQ(;)7 b(:)g(:)g(:)t(;)g
FV(x)1376 898 y FJ(n)1403 892 y F0(i)p F4(\))j F0(^)f
FV(p)s F4(\))p F0(g)421 956 y F4(where)16 b FV(y)h F4(is)d(an)g(iden)o
(ti\014er)h(di\013eren)o(t)g(from)d(the)j FV(x)1212 962
y FJ(i)1241 956 y F4(that)f(do)q(es)h(not)f(o)q(ccur)h(in)421
1006 y FV(S)20 b F4(or)13 b FV(p)s F4(.)18 b(See)d(Section)f(16.1.9)e
(for)i(further)g(details)g(ab)q(out)g(tuples.)p Black
270 1088 a F0(f)p FV(e)g F4(:)d FU(y)372 1094 y FS(1)403
1088 y F0(2)g FV(S)465 1094 y FS(1)484 1088 y FQ(;)i(:)7
b(:)g(:)13 b(;)7 b FU(y)616 1094 y FJ(n)651 1088 y F0(2)k
FV(S)713 1094 y FJ(n)737 1088 y F0(g)p Black 421 1138
a F4(where)19 b(eac)o(h)f FU(y)668 1144 y FJ(i)700 1138
y F4(has)f(the)h(form)e FV(x)978 1144 y FS(1)997 1138
y FQ(;)d(:)7 b(:)g(:)12 b(;)7 b FV(x)1127 1144 y FJ(k)1165
1138 y F4(or)17 b F0(h)s FV(x)1262 1144 y FS(1)1282 1138
y FQ(;)c(:)7 b(:)g(:)12 b(;)7 b FV(x)1412 1144 y FJ(k)1437
1138 y F0(i)p F4(,)17 b(and)g(eac)o(h)421 1188 y FV(x)445
1194 y FJ(j)477 1188 y F4(is)e(an)g(iden)o(ti\014er)g(that)g(is)f(b)q
(ound)h(in)g(the)g(expression.)22 b(The)15 b(expressions)421
1238 y FV(S)449 1244 y FJ(i)481 1238 y F4(lie)h(outside)h(the)g(scop)q
(e)g(of)f(the)h(b)q(ound)g(iden)o(ti\014ers.)26 b(The)17
b(simple)e(form)421 1287 y F0(f)p FV(e)30 b F4(:)c FV(x)f
F0(2)20 b FV(S)5 b F0(g)p F4(,)20 b(for)e FV(x)24 b F4(an)19
b(iden)o(ti\014er,)h(is)e(tak)o(en)h(to)g(b)q(e)h(primitiv)o(e)c(and)j
(is)421 1337 y(de\014ned)c(b)o(y)p Black Black 546 1403
a F0(8)7 b FV(y)22 b F4(:)c(\()p FV(y)e F0(2)11 b(f)p
FV(e)21 b F4(:)d FV(x)f F0(2)11 b FV(S)5 b F0(g)p F4(\))23
b F0(\021)h F4(\()p F0(9)7 b FV(x)17 b F0(2)11 b FV(S)24
b F4(:)18 b FV(e)c F4(=)e FV(y)t F4(\))421 1469 y(The)j(general)f(form)
f(is)h(de\014ned)h(inductiv)o(ely)f(in)g(terms)g(of)f(the)i(simple)e
(form)421 1519 y(b)o(y)p Black Black 546 1589 a F0(f)p
FV(e)21 b F4(:)d FU(y)663 1595 y FS(1)693 1589 y F0(2)12
b FV(S)761 1595 y FS(1)779 1589 y FQ(;)i(:)7 b(:)g(:)12
b(;)7 b FU(y)912 1595 y FJ(n)947 1589 y F0(2)k FV(S)1014
1595 y FJ(n)1038 1589 y F0(g)1098 1565 y FI(\001)1093
1589 y F4(=)629 1646 y FP(union)17 b F0(f)7 b(f)p FV(e)21
b F4(:)d FU(y)905 1652 y FS(1)935 1646 y F0(2)11 b FV(S)1002
1652 y FS(1)1021 1646 y FQ(;)i(:)7 b(:)g(:)13 b(;)7 b
FU(y)1154 1652 y FJ(n)s FH(\000)p FS(1)1231 1646 y F0(2)k
FV(S)1298 1652 y FJ(n)s FH(\000)p FS(1)1365 1646 y F0(g)18
b F4(:)g FU(y)1460 1652 y FJ(n)1495 1646 y F0(2)11 b
FV(S)1562 1652 y FJ(n)1593 1646 y F0(g)546 1733 y(f)p
FV(e)21 b F4(:)d FV(x)661 1739 y FS(1)680 1733 y FQ(;)c(:)7
b(:)g(:)12 b(;)7 b FV(x)811 1739 y FJ(n)846 1733 y F0(2)k
FV(S)5 b F0(g)973 1710 y FI(\001)969 1733 y F4(=)35 b
F0(f)p FV(e)21 b F4(:)d FV(x)1151 1739 y FS(1)1181 1733
y F0(2)12 b FV(S)5 b FQ(;)13 b(:)7 b(:)g(:)13 b(;)7 b
FV(x)1380 1739 y FJ(n)1415 1733 y F0(2)k FV(S)5 b F0(g)546
1820 y(f)p FV(e)21 b F4(:)d F0(h)s FV(x)680 1826 y FS(1)700
1820 y FQ(;)13 b(:)7 b(:)g(:)12 b(;)7 b FV(x)830 1826
y FJ(n)857 1820 y F0(i)12 b(2)f FV(S)5 b F0(g)1024 1797
y FI(\001)1019 1820 y F4(=)629 1885 y F0(f)p F4(\()p
FP(let)14 b FV(z)825 1861 y FI(\001)820 1885 y F4(=)23
b FP(choose)17 b F0(h)s FV(x)1079 1891 y FS(1)1098 1885
y FQ(;)7 b(:)g(:)g(:)e(;)i FV(x)1215 1891 y FJ(n)1242
1885 y F0(i)19 b F4(:)f FV(y)d F4(=)d F0(h)s FV(x)1429
1891 y FS(1)1448 1885 y FQ(;)7 b(:)g(:)g(:)e(;)i FV(x)1565
1891 y FJ(n)1592 1885 y F0(i)749 1941 y FV(x)773 1947
y FS(1)825 1918 y FI(\001)820 1941 y F4(=)23 b FV(z)5
b F4([1])832 1985 y(.)832 2002 y(.)832 2019 y(.)749 2075
y FV(x)773 2081 y FJ(n)825 2052 y FI(\001)820 2075 y
F4(=)23 b FV(z)5 b F4([)p FV(n)s F4(])41 b FP(in)14 b
FV(e)s F4(\))19 b(:)f FV(y)d F0(2)c FV(S)5 b F0(g)421
2139 y F4(where)14 b(the)e FV(x)633 2145 y FJ(i)661 2139
y F4(are)g(iden)o(ti\014ers,)h(and)f FV(y)k F4(and)c
FV(z)17 b F4(are)12 b(iden)o(ti\014ers)h(distinct)g(from)421
2189 y(the)18 b FV(x)520 2195 y FJ(i)552 2189 y F4(that)f(do)f(not)g(o)
q(ccur)i(in)e FV(e)k F4(or)d FV(S)5 b F4(.)26 b(See)18
b(Section)f(16.1.9)e(for)h(further)421 2239 y(details)e(ab)q(out)g
(tuples.)208 2376 y F3(16.1.7)65 b(F)-6 b(unctions)208
2467 y F4(F)m(unctions)9 b(are)i(describ)q(ed)g(in)e(Section)i(5.2)d
(\(page)i(48\);)h(the)f(di\013erence)i(b)q(et)o(w)o(een)f(functions)208
2517 y(and)j(op)q(erators)h(is)f(discussed)i(in)e(Section)g(6.4)g
(\(page)g(69\).)19 b(In)14 b(TLA)1299 2502 y FS(+)1320
2517 y F4(,)g(w)o(e)g(write)h FV(f)8 b F4([)p FV(v)t
F4(])14 b(for)p Black Black eop
%%Page: 302 320
302 319 bop Black 208 275 a F4(302)837 b FR(CHAPTER)14
b(16.)32 b(THE)14 b(OPERA)m(TORS)f(OF)i(TLA)1957 260
y FS(+)p 208 282 1770 2 v Black 208 391 a F4(the)f(v)n(alue)g(of)f(the)
i(function)f FV(f)23 b F4(applied)13 b(to)h FV(v)t F4(.)20
b(A)14 b(function)g FV(f)23 b F4(has)14 b(a)g(domain)e
FP(domain)e FV(f)e F4(,)208 441 y(and)16 b(the)h(v)n(alue)f(of)g
FV(f)9 b F4([)p FV(v)t F4(])16 b(is)g(sp)q(eci\014ed)i(only)e(if)g
FV(v)21 b F4(is)c(an)f(elemen)o(t)g(of)g FP(domain)10
b FV(f)e F4(.)27 b(W)m(e)16 b(let)208 491 y([)p FV(S)g
F0(!)11 b FV(T)6 b F4(])11 b(denote)i(the)g(set)g(of)e(all)g(functions)
h FV(f)21 b F4(suc)o(h)13 b(that)f FP(domain)e FV(f)20
b F4(=)12 b FV(S)17 b F4(and)12 b FV(f)d F4([)p FV(v)t
F4(])i F0(2)g FV(T)6 b F4(,)208 541 y(for)13 b(all)g
FV(v)j F0(2)11 b FV(S)5 b F4(.)270 591 y(F)m(unctions)14
b(can)g(b)q(e)g(describ)q(ed)i(explicitly)d(with)g(the)i(construct)p
Black Black 332 667 a([)p FV(x)h F0(2)c FV(S)k F0(7!)11
b FV(e)s F4(])p Black -337 w(\(16.5\))p Black 208 744
a(This)k(is)g(the)h(function)f FV(f)24 b F4(with)15 b(domain)e
FV(S)21 b F4(suc)o(h)16 b(that)f FV(f)9 b F4([)p FV(v)t
F4(])15 b(equals)g(the)h(v)n(alue)f(obtained)208 794
y(b)o(y)e(substituting)h FV(v)19 b F4(for)13 b FV(x)19
b F4(in)14 b FV(e)s F4(,)f(for)h(an)o(y)f FV(v)j F0(2)c
FV(S)5 b F4(.)18 b(F)m(or)13 b(example,)p Black Black
332 871 a([)p FV(n)i F0(2)c FV(Nat)k F0(7!)c F4(1)p FQ(=)p
F4(\()p FV(n)i F4(+)c(1\)])208 948 y(is)16 b(the)g(function)g
FV(f)25 b F4(with)15 b(domain)f FV(Nat)20 b F4(suc)o(h)d(that)f
FV(f)9 b F4([0])14 b(=)h(1,)h FV(f)9 b F4([1])14 b(=)i(1)p
FQ(=)p F4(2,)f FV(f)8 b F4([2])15 b(=)g(1)p FQ(=)p F4(3,)208
998 y(etc.)k(W)m(e)13 b(can)h(de\014ne)h(an)f(iden)o(ti\014er)g
FV(fcn)j F4(to)d(equal)f(the)i(function)f(\(16.5\))e(b)o(y)i(writing)p
Black Black 332 1081 a FV(fcn)s F4([)p FV(x)j F0(2)11
b FV(S)5 b F4(])556 1058 y FI(\001)551 1081 y F4(=)35
b FV(e)p Black -429 w F4(\(16.6\))p Black 208 1158 a(The)11
b(iden)o(ti\014er)g FV(fcn)j F4(can)d(app)q(ear)g(in)f(the)i
(expression)g FV(e)s F4(,)f(in)f(whic)o(h)h(case)g(this)g(is)g(a)f
(recursiv)o(e)208 1208 y(function)g(de\014nition.)17
b(Recursiv)o(e)11 b(function)g(de\014nitions)f(w)o(ere)i(in)o(tro)q
(duced)f(in)g(Section)g(5.5)208 1258 y(\(page)j(54\))f(and)h(discussed)
h(in)f(Section)g(6.3)f(\(page)h(67\).)270 1308 y(The)19
b FP(ex)o(cept)g F4(construct)i(describ)q(es)g(a)e(function)g(that)g
(is)g(\\almost)e(the)j(same)e(as")208 1357 y(another)c(function.)k(F)m
(or)13 b(example,)p Black Black 332 1434 a([)p FV(f)24
b FP(ex)o(cept)19 b F4(!)s([)p FV(u)s F4(])11 b(=)h FV(a)s
FQ(;)17 b F4(!)s([)p FV(v)t F4(])11 b(=)h FV(b)s F4(])p
Black -658 w(\(16.7\))p Black 208 1517 a(is)h(the)g(function)480
1506 y FF(b)481 1517 y FV(f)22 b F4(that)13 b(is)g(the)g(same)g(as)g
FV(f)8 b F4(,)13 b(except)i(that)1134 1506 y FF(b)1135
1517 y FV(f)8 b F4([)p FV(u)s F4(])j(=)h FV(a)17 b F4(and)1377
1506 y FF(b)1377 1517 y FV(f)9 b F4([)p FV(v)t F4(])i(=)h
FV(b)s F4(.)17 b(More)208 1567 y(precisely)m(,)c(\(16.7\))g(equals)p
Black Black 332 1644 a([)p FV(x)j F0(2)c FP(domain)e
FV(f)20 b F0(7!)11 b FP(if)23 b FV(x)17 b F4(=)11 b FV(v)26
b FP(then)e FV(b)843 1694 y FP(else)36 b(if)23 b FV(x)17
b F4(=)12 b FV(u)25 b FP(then)f FV(a)j FP(else)d FV(f)8
b F4([)p FV(x)d F4(]])208 1771 y(Hence,)16 b(if)e(neither)h
FV(u)k F4(nor)14 b FV(v)20 b F4(is)14 b(in)h(the)g(domain)e(of)h
FV(f)8 b F4(,)15 b(then)g(\(16.7\))f(equals)h FV(f)9
b F4(.)20 b(If)15 b FV(u)h F4(=)e FV(v)t F4(,)208 1821
y(then)g(\(16.7\))f(equals)h([)p FV(f)24 b FP(ex)o(cept)19
b F4(!)s([)p FV(v)t F4(])11 b(=)h FV(b)s F4(])o(.)270
1870 y(An)i(exception)h(clause)g(can)g(ha)o(v)o(e)f(the)h(general)g
(form)h(!)s([)p FV(v)1188 1876 y FS(1)1207 1870 y F4(])7
b F0(\001)g(\001)g(\001)t F4([)p FV(v)1315 1876 y FJ(n)1339
1870 y F4(])12 b(=)h FV(e)s F4(.)19 b(F)m(or)14 b(exam-)208
1920 y(ple,)p Black Black 332 1997 a([)p FV(f)24 b FP(ex)o(cept)19
b F4(!)s([)p FV(u)s F4(][)p FV(v)t F4(])11 b(=)h FV(a)s
F4(])p Black -537 w(\(16.8\))p Black 208 2080 a(is)i(the)h(function)485
2069 y FF(e)485 2080 y FV(f)23 b F4(that)15 b(is)f(the)h(same)f(as)h
FV(f)8 b F4(,)14 b(except)i(that)1151 2069 y FF(e)1152
2080 y FV(f)8 b F4([)p FV(u)s F4(][)p FV(v)t F4(])14
b(equals)h FV(a)s F4(.)20 b(That)14 b(is,)1624 2069 y
FF(e)1624 2080 y FV(f)208 2135 y F4(is)e(the)h(same)e(as)h
FV(f)d F4(,)j(except)i(that)731 2124 y FF(e)732 2135
y FV(f)8 b F4([)p FV(u)s F4(])k(is)g(the)h(function)f(that)h(is)f(the)h
(same)e(as)h FV(f)d F4([)p FV(u)s F4(],)i(except)208
2191 y(that)297 2180 y FF(e)297 2191 y FV(f)e F4([)p
FV(u)s F4(][)p FV(v)t F4(])i(=)h FV(a)s F4(.)18 b(The)c(sym)o(b)q(ol)e
(@)i(o)q(ccurring)h(in)e(an)h(exception)h(clause)f(stands)h(for)e(the)
208 2241 y(\\original)c(v)n(alue".)16 b(F)m(or)11 b(example,)f(an)h(@)g
(in)g(the)h(expression)g FV(a)i F4(of)d(\(16.8\))f(denotes)j
FV(f)8 b F4([)p FV(u)s F4(][)p FV(v)t F4(].)270 2290
y(In)15 b(TLA)410 2275 y FS(+)431 2290 y F4(,)g(a)g(function)g(of)f(m)o
(ultiple)f(argumen)o(ts)i(is)g(one)g(whose)h(domain)d(is)i(a)g(set)h
(of)208 2340 y(tuples;)c(and)e FV(f)f F4([)p FV(v)474
2346 y FS(1)492 2340 y FQ(;)e(:)g(:)g(:)e(;)i FV(v)608
2346 y FJ(n)632 2340 y F4(])j(is)h(an)g(abbreviation)f(for)g
FV(f)f F4([)p F0(h)s FV(v)1122 2346 y FS(1)1141 2340
y FQ(;)e(:)g(:)g(:)e(;)i FV(v)1257 2346 y FJ(n)1284 2340
y F0(i)p F4(].)17 b(The)11 b FV(x)17 b F0(2)11 b FV(S)16
b F4(clause)208 2390 y(\(16.5\))9 b(and)g(\(16.6\))g(can)h(b)q(e)h
(generalized)f(in)g(the)g(same)g(w)o(a)o(y)f(as)h(in)f(a)h(b)q(ounded)g
(quan)o(ti\014er|)208 2440 y(for)j(example,)f(here)j(are)g(t)o(w)o(o)e
(di\013eren)o(t)i(w)o(a)o(ys)e(of)h(writing)f(the)h(same)f(function:)p
Black Black 332 2517 a([)p FV(m)s FQ(;)7 b FV(n)14 b
F0(2)d FV(Nat)t FQ(;)j FV(r)h F0(2)c FV(R)n(e)n(al)16
b F0(7!)11 b FV(e)s F4(])124 b([)p F0(h)s FV(m)s FQ(;)7
b FV(n)s FQ(;)g FV(r)h F0(i)j(2)g FV(Nat)i F0(\002)d
FV(Nat)j F0(\002)c FV(R)n(e)n(al)16 b F0(7!)11 b FV(e)s
F4(])p Black Black eop
%%Page: 303 321
303 320 bop Black 208 275 a FR(16.1.)30 b(CONST)m(ANT)14
b(OPERA)m(TORS)1078 b F4(303)p 208 282 1770 2 v Black
208 391 a(This)16 b(is)h(a)g(function)g(whose)g(domain)e(is)i(a)f(set)i
(of)e(triples.)28 b(It)17 b(is)g(not)g(the)g(same)f(as)h(the)208
441 y(function)p Black Black 332 522 a([)p F0(h)s FV(m)s
FQ(;)7 b FV(n)g F0(i)k(2)h FV(Nat)h F0(\002)c FV(Nat)t
FQ(;)k FV(r)j F0(2)11 b FV(R)n(e)n(al)16 b F0(7!)11 b
FV(e)s F4(])208 603 y(whose)17 b(domain)d(is)j(the)g(set)h(\()p
FV(Nat)d F0(\002)c FV(Nat)t F4(\))g F0(\002)h FV(R)n(e)n(al)21
b F4(of)16 b(pairs)g(lik)o(e)g F0(h)s(h)s F4(1)p FQ(;)7
b F4(3)s F0(i)p FQ(;)15 b F4(1)p FQ(=)p F4(3)s F0(i)p
F4(,)h(whose)208 653 y(\014rst)e(elemen)o(t)g(is)f(a)h(pair)f(of)h
(natural)f(n)o(um)o(b)q(ers.)208 769 y FT(F)-5 b(ormal)17
b(Seman)n(tics)208 845 y F4(Mathematicians)e(traditionally)f(de\014ne)j
(a)g(function)f(to)g(b)q(e)h(a)f(set)i(of)e(pairs.)25
b(In)17 b(TLA)1614 830 y FS(+)1634 845 y F4(,)208 895
y(pairs)c(\(and)h(all)f(tuples\))h(are)h(functions.)j(W)m(e)13
b(tak)o(e)h(as)g(primitiv)o(es)e(the)j(constructs)p Black
Black 332 976 a FV(f)9 b F4([)p FV(e)s F4(])82 b FP(domain)10
b FV(f)91 b F4([)p FV(S)17 b F0(!)11 b FV(T)6 b F4(])82
b([)p FV(x)16 b F0(2)11 b FV(S)17 b F0(7!)11 b FV(e)s
F4(])208 1057 y(where)18 b FV(x)23 b F4(is)18 b(an)f(iden)o(ti\014er.)
30 b(These)19 b(constructs)h(are)e(de\014ned)h(mathematicall)o(y)c(b)o
(y)i(the)208 1107 y(rules)d(they)h(satisfy)m(.)i(The)e(other)f
(constructs,)i(and)e(the)g(general)h(forms)d(of)i(the)g(construct)208
1157 y([)p FV(x)i F0(2)11 b FV(S)17 b F0(7!)11 b FV(e)s
F4(],)16 b(are)i(de\014ned)f(in)f(terms)h(of)f(them.)25
b(These)18 b(de\014nitions)f(use)g(the)g(op)q(erator)208
1206 y FV(IsAFcn)s F4(,)c(whic)o(h)g(is)g(de\014ned)h(as)g(follo)o(ws)d
(so)i(that)h FV(IsAFcn)s F4(\()p FV(f)9 b F4(\))k(is)g(true)h(i\013)f
FV(f)22 b F4(is)13 b(a)g(function:)p Black Black 332
1294 a FV(IsAFcn)s F4(\()p FV(f)c F4(\))562 1270 y FI(\001)557
1294 y F4(=)35 b FV(f)20 b F4(=)12 b([)p FV(x)k F0(2)11
b FP(domain)f FV(f)20 b F0(7!)11 b FV(f)e F4([)p FV(x)c
F4(]])208 1375 y(The)14 b(\014rst)h(rule,)e(whic)o(h)h(is)g(not)g
(naturally)f(asso)q(ciated)i(with)e(an)o(y)h(one)g(construct,)h(is)f
(that)208 1425 y(t)o(w)o(o)d(functions)g(are)h(equal)g(i\013)f(they)h
(ha)o(v)o(e)f(the)i(same)d(domain)g(and)h(assign)h(the)g(same)f(v)n
(alue)208 1474 y(to)i(eac)o(h)i(elemen)o(t)e(in)g(their)i(domain:)p
Black Black 332 1555 a F0(8)7 b FV(f)i FQ(;)e FV(g)21
b F4(:)d FV(IsAFcn)s F4(\()p FV(f)9 b F4(\))h F0(^)f
FV(IsAFcn)s F4(\()p FV(g)t F4(\))23 b F0(\))515 1608
y F4(\(\()p FV(f)d F4(=)12 b FV(g)t F4(\))23 b F0(\021)e(^)13
b FP(domain)d FV(f)20 b F4(=)12 b FP(domain)e FV(g)739
1662 y F0(^)j(8)7 b FV(x)17 b F0(2)11 b FP(domain)f FV(f)27
b F4(:)18 b FV(f)9 b F4([)p FV(x)c F4(])11 b(=)h FV(g)t
F4([)p FV(x)5 b F4(])i(\))208 1741 y(The)20 b(rest)g(of)f(the)h(seman)o
(tics)f(of)g(functions)h(is)f(giv)o(en)g(b)q(elo)o(w.)35
b(There)21 b(is)e(no)h(separate)208 1790 y(de\014ning)13
b(rule)i(for)e(the)i FP(domain)f F4(op)q(erator.)p Black
270 1871 a FV(f)8 b F4([)p FV(e)322 1877 y FS(1)341 1871
y FQ(;)f(:)g(:)g(:)t(;)g FV(e)452 1877 y FJ(n)476 1871
y F4(])p Black 332 1921 a(where)17 b(the)g FV(e)550 1927
y FJ(i)581 1921 y F4(are)f(expressions.)26 b(F)m(or)16
b FV(n)i F4(=)d(1,)h(this)g(is)g(a)f(primitiv)o(e)f(expression.)332
1971 y(F)m(or)g FV(n)h FQ(>)c F4(1,)j(it)f(is)h(de\014ned)h(b)o(y)p
Black Black 457 2037 a FV(f)8 b F4([)p FV(e)512 2043
y FS(1)531 2037 y FQ(;)f(:)g(:)g(:)t(;)g FV(e)645 2043
y FJ(n)669 2037 y F4(])22 b(=)i FV(f)8 b F4([)p F0(h)s
FV(e)833 2043 y FS(1)852 2037 y FQ(;)f(:)g(:)g(:)e(;)i
FV(e)967 2043 y FJ(n)994 2037 y F0(i)p F4(])332 2103
y(The)14 b(tuple)h F0(h)s FV(e)565 2109 y FS(1)584 2103
y FQ(;)7 b(:)g(:)g(:)e(;)i FV(e)699 2109 y FJ(n)726 2103
y F0(i)14 b F4(is)f(de\014ned)i(in)f(Section)g(16.1.9.)p
Black 270 2185 a([)p FU(y)307 2191 y FS(1)337 2185 y
F0(2)d FV(S)399 2191 y FS(1)418 2185 y FQ(;)i(:)7 b(:)g(:)12
b(;)7 b FU(y)549 2191 y FJ(n)584 2185 y F0(2)12 b FV(S)647
2191 y FJ(n)682 2185 y F0(7!)f FV(e)s F4(])p Black 332
2239 a(where)i(eac)o(h)f FU(y)567 2245 y FJ(i)593 2239
y F4(has)g(the)g(form)e FV(x)854 2245 y FS(1)873 2239
y FQ(;)j(:)7 b(:)g(:)12 b(;)7 b FV(x)1003 2245 y FJ(k)1035
2239 y F4(or)12 b F0(h)s FV(x)1127 2245 y FS(1)1146 2239
y FQ(;)i(:)7 b(:)g(:)12 b(;)7 b FV(x)1277 2245 y FJ(k)1301
2239 y F0(i)p F4(,)12 b(and)f(eac)o(h)h FV(x)1534 2245
y FJ(j)1563 2239 y F4(is)f(an)332 2289 y(iden)o(ti\014er)j(that)g(is)g
(b)q(ound)g(in)f(the)i(expression.)k(The)14 b(expressions)i
FV(S)1432 2295 y FJ(i)1461 2289 y F4(lie)e(outside)332
2338 y(the)i(scop)q(e)h(of)f(the)g(b)q(ound)g(iden)o(ti\014ers.)24
b(The)16 b(simple)f(form)f([)p FV(x)19 b F0(2)c FV(S)20
b F0(7!)14 b FV(e)s F4(],)h(for)h FV(x)332 2388 y F4(an)e(iden)o
(ti\014er,)g(is)f(primitiv)o(e)f(and)i(is)f(de\014ned)i(b)o(y)f(t)o(w)o
(o)f(rules:)p Black Black 457 2454 a(\()p FP(domain)d
F4([)p FV(x)16 b F0(2)11 b FV(S)17 b F0(7!)11 b FV(e)s
F4(]\))23 b(=)g FV(S)457 2522 y F0(8)7 b FV(y)15 b F0(2)c
FV(S)31 b F4(:)25 b([)p FV(x)16 b F0(2)11 b FV(S)17 b
F0(7!)11 b FV(e)s F4(][)p FV(y)t F4(])22 b(=)h FP(let)16
b FV(x)1115 2499 y FI(\001)1111 2522 y F4(=)11 b FV(y)20
b FP(in)c FV(e)p Black Black eop
%%Page: 304 322
304 321 bop Black 208 275 a F4(304)837 b FR(CHAPTER)14
b(16.)32 b(THE)14 b(OPERA)m(TORS)f(OF)i(TLA)1957 260
y FS(+)p 208 282 1770 2 v Black 332 391 a F4(where)j
FV(y)i F4(is)c(an)g(iden)o(ti\014er)h(di\013eren)o(t)g(from)e
FV(x)22 b F4(that)16 b(do)q(es)h(not)g(o)q(ccur)g(in)f
FV(S)22 b F4(or)16 b FV(e)s F4(.)332 441 y(The)g(general)g(form)d(of)i
(the)h(construct)h(is)f(de\014ned)g(inductiv)o(ely)f(in)g(terms)g(of)g
(the)332 491 y(simple)d(form)h(b)o(y)p Black Black 457
562 a([)p FV(x)493 568 y FS(1)523 562 y F0(2)e FV(S)590
568 y FS(1)609 562 y FQ(;)i(:)7 b(:)g(:)12 b(;)7 b FV(x)739
568 y FJ(n)774 562 y F0(2)12 b FV(S)842 568 y FJ(n)877
562 y F0(7!)f FV(e)s F4(])1088 538 y FI(\001)1083 562
y F4(=)35 b([)7 b F0(h)s FV(x)1212 568 y FS(1)1231 562
y FQ(;)g(:)g(:)g(:)e(;)i FV(x)1348 568 y FJ(n)1375 562
y F0(i)12 b(2)f FV(S)1470 568 y FS(1)1498 562 y F0(\002)f
FQ(:)d(:)g(:)g F0(\002)j FV(S)1667 568 y FJ(n)1702 562
y F0(7!)h FV(e)s F4(])457 647 y([)c FQ(:)g(:)g(:)k(;)18
b FV(x)591 653 y FS(1)610 647 y FQ(;)7 b(:)g(:)g(:)e(;)i
FV(x)727 653 y FJ(k)759 647 y F0(2)k FV(S)826 653 y FJ(i)849
647 y FQ(;)18 b(:)7 b(:)g(:)17 b F0(7!)11 b FV(e)s F4(])1088
623 y FI(\001)1083 647 y F4(=)35 b([)7 b FQ(:)g(:)g(:)12
b(;)18 b FV(x)1285 653 y FS(1)1315 647 y F0(2)12 b FV(S)1383
653 y FJ(i)1398 647 y FQ(;)i(:)7 b(:)g(:)e(;)13 b FV(x)1528
653 y FJ(k)1561 647 y F0(2)e FV(S)1628 653 y FJ(i)1651
647 y FQ(;)18 b(:)7 b(:)g(:)17 b F0(7!)11 b FV(e)s F4(])457
731 y([)c FQ(:)g(:)g(:)k(;)18 b F0(h)s FV(x)610 737 y
FS(1)630 731 y FQ(;)7 b(:)g(:)g(:)e(;)i FV(x)747 737
y FJ(k)771 731 y F0(i)k(2)h FV(S)866 737 y FJ(i)888 731
y FQ(;)7 b(:)g(:)g(:)17 b F0(7!)11 b FV(e)s F4(])1088
708 y FI(\001)1083 731 y F4(=)519 796 y([)c FQ(:)g(:)g(:)12
b(;)18 b FV(y)d F0(2)c FV(S)732 802 y FJ(i)755 796 y
FQ(;)18 b(:)7 b(:)g(:)17 b F0(7!)22 b FP(let)14 b FV(z)1072
772 y FI(\001)1067 796 y F4(=)24 b FP(choose)16 b F0(h)s
FV(x)1326 802 y FS(1)1346 796 y FQ(;)7 b(:)g(:)g(:)e(;)i
FV(x)1463 802 y FJ(k)1487 796 y F0(i)18 b F4(:)g FV(y)e
F4(=)11 b F0(h)s FV(x)1673 802 y FS(1)1693 796 y FQ(;)c(:)g(:)g(:)e(;)i
FV(x)1810 802 y FJ(k)1834 796 y F0(i)999 852 y FV(x)1023
858 y FS(1)1072 829 y FI(\001)1067 852 y F4(=)24 b FV(z)5
b F4([1])1080 897 y(.)1080 913 y(.)1080 930 y(.)999 987
y FV(x)1023 993 y FJ(k)1072 963 y FI(\001)1067 987 y
F4(=)24 b FV(z)5 b F4([)p FV(k)t F4(])41 b FP(in)14 b
FV(e)s F4(])332 1051 y(where)g FV(y)i F4(and)c FV(z)17
b F4(are)c(iden)o(ti\014ers)g(that)g(do)f(not)g(app)q(ear)h(an)o
(ywhere)g(in)f(the)h(original)332 1101 y(expression.)19
b(See)c(Section)f(16.1.9)e(for)i(details)g(ab)q(out)f(tuples.)p
Black 270 1184 a([)p FV(S)j F0(!)11 b FV(T)6 b F4(])p
Black 20 w(is)13 b(de\014ned)i(b)o(y)p Black Black 457
1250 a F0(8)7 b FV(f)33 b F4(:)25 b FV(f)20 b F0(2)12
b F4([)p FV(S)k F0(!)11 b FV(T)6 b F4(])33 b F0(\021)653
1308 y FV(IsAFcn)s F4(\()p FV(f)10 b F4(\))16 b F0(^)g
F4(\()p FV(S)h F4(=)12 b FP(domain)d FV(f)g F4(\))16
b F0(^)g F4(\()p F0(8)7 b FV(x)17 b F0(2)11 b FV(S)24
b F4(:)18 b FV(f)8 b F4([)p FV(x)d F4(])11 b F0(2)h FV(T)6
b F4(\))332 1372 y(where)15 b FV(x)k F4(and)14 b FV(f)22
b F4(do)14 b(not)g(o)q(ccur)h(in)e FV(S)19 b F4(or)14
b FV(T)6 b F4(,)13 b(and)g FV(IsAFcn)18 b F4(is)c(de\014ned)h(ab)q(o)o
(v)o(e.)p Black 270 1455 a([)p FV(f)24 b FP(ex)o(cept)15
b F4(!)p FU(a)512 1461 y FS(1)542 1455 y F4(=)d FV(e)605
1461 y FS(1)624 1455 y FQ(;)h(:)7 b(:)g(:)e(;)14 b F4(!)p
FU(a)765 1461 y FJ(n)800 1455 y F4(=)e FV(e)863 1461
y FJ(n)887 1455 y F4(])p Black 332 1509 a(where)i(eac)o(h)f
FU(a)566 1515 y FJ(i)594 1509 y F4(has)g(the)g(form)e([)p
FV(d)871 1515 y FS(1)890 1509 y F4(])c FQ(:)g(:)g(:)e
F4([)p FV(d)1001 1515 y FJ(k)1022 1509 y F4(])12 b(and)g(eac)o(h)i
FV(d)1243 1515 y FJ(j)1273 1509 y F4(is)e(an)g(expression.)19
b(F)m(or)332 1559 y(the)c(simple)d(case)j(when)f FV(n)h
F4(=)d(1)i(and)f FU(a)949 1565 y FS(1)982 1559 y F4(is)h([)p
FV(d)t F4(],)f(this)h(is)f(de\014ned)i(b)o(y)1407 1544
y FS(5)p Black Black 457 1632 a F4([)p FV(f)23 b FP(ex)o(cept)d
F4(!)s([)p FV(d)t F4(])11 b(=)g FV(e)s F4(])860 1608
y FI(\001)855 1632 y F4(=)540 1692 y([)p FV(y)k F0(2)c
FP(domain)f FV(f)20 b F0(7!)11 b FP(if)23 b FV(y)15 b
F4(=)d FV(d)26 b FP(then)e(let)18 b F4(@)1317 1668 y
FI(\001)1312 1692 y F4(=)h FV(f)8 b F4([)p FV(d)t F4(])18
b FP(in)h FV(e)1052 1742 y FP(else)36 b FV(f)9 b F4([)p
FV(y)t F4(])e(])332 1806 y(where)15 b FV(y)j F4(do)q(es)d(not)f(o)q
(ccur)h(in)f FV(f)8 b F4(,)14 b FV(d)t F4(,)g(or)g FV(e)s
F4(.)19 b(The)14 b(general)h(form)d(is)i(de\014ned)h(induc-)332
1856 y(tiv)o(ely)e(in)h(terms)f(of)h(this)g(simple)e(case)j(b)o(y)p
Black Black 457 1927 a([)p FV(f)23 b FP(ex)o(cept)d F4(!)s
FU(a)706 1933 y FS(1)736 1927 y F4(=)12 b FV(e)802 1933
y FS(1)821 1927 y FQ(;)h(:)7 b(:)g(:)e(;)17 b F4(!)s
FU(a)968 1933 y FJ(n)1004 1927 y F4(=)11 b FV(e)1069
1933 y FJ(n)1093 1927 y F4(])1144 1903 y FI(\001)1140
1927 y F4(=)519 1980 y([)c([)p FV(f)23 b FP(ex)o(cept)c
F4(!)s FU(a)786 1986 y FS(1)817 1980 y F4(=)11 b FV(e)882
1986 y FS(1)901 1980 y FQ(;)j(:)7 b(:)g(:)e(;)17 b F4(!)s
FU(a)1049 1986 y FJ(n)s FH(\000)p FS(1)1127 1980 y F4(=)12
b FV(e)1193 1986 y FJ(n)s FH(\000)p FS(1)1259 1980 y
F4(])j FP(ex)o(cept)20 b F4(!)s FU(a)1487 1986 y FJ(n)1522
1980 y F4(=)12 b FV(e)1588 1986 y FJ(n)1619 1980 y F4(])457
2065 y([)p FV(f)23 b FP(ex)o(cept)d F4(!)s([)p FV(d)720
2071 y FS(1)738 2065 y F4(])7 b FQ(:)g(:)g(:)e F4([)p
FV(d)849 2071 y FJ(k)870 2065 y F4(])11 b(=)h FV(e)s
F4(])1010 2041 y FI(\001)1005 2065 y F4(=)519 2118 y([)p
FV(f)24 b FP(ex)o(cept)19 b F4(!)s([)p FV(d)782 2124
y FS(1)800 2118 y F4(])12 b(=)f([@)16 b FP(ex)o(cept)j
F4(!)s([)p FV(d)1141 2124 y FS(2)1160 2118 y F4(])7 b
FQ(:)g(:)g(:)e F4([)p FV(d)1271 2124 y FJ(k)1292 2118
y F4(])11 b(=)g FV(e)s F4(])c(])p Black 270 2212 a FV(f)h
F4([)p FU(y)328 2218 y FS(1)358 2212 y F0(2)j FV(S)420
2218 y FS(1)439 2212 y FQ(;)j(:)7 b(:)g(:)12 b(;)7 b
FU(y)571 2218 y FJ(n)606 2212 y F0(2)k FV(S)668 2218
y FJ(n)692 2212 y F4(])732 2189 y FI(\001)727 2212 y
F4(=)23 b FV(e)p Black 24 w F4(is)14 b(de\014ned)h(to)f(b)q(e)g(an)g
(abbreviation)f(for)p Black Black 457 2285 a FV(f)517
2261 y FI(\001)513 2285 y F4(=)35 b FP(choose)16 b FV(f)27
b F4(:)18 b FV(f)i F4(=)12 b([)p FU(y)925 2291 y FS(1)955
2285 y F0(2)f FV(S)1022 2291 y FS(1)1041 2285 y FQ(;)i(:)7
b(:)g(:)12 b(;)7 b FU(y)1173 2291 y FJ(n)1208 2285 y
F0(2)k FV(S)1275 2291 y FJ(n)1311 2285 y F0(7!)g FV(e)s
F4(])p Black 208 2322 576 2 v 254 2360 a FK(5)271 2372
y FZ(Since)h(@)h(is)g(not)f(actually)f(an)i(iden)o(ti\014er,)d
Fu(let)i FZ(@)962 2351 y FI(\001)959 2372 y FZ(=)h Fw(:)6
b(:)f(:)13 b FZ(isn't)f(legal)g(TLA)1290 2360 y FK(+)1324
2372 y FZ(syn)o(tax.)18 b(Ho)o(w)o(ev)o(er,)12 b(its)208
2411 y(meaning)d(should)h(b)q(e)h(clear.)p Black Black
Black eop
%%Page: 305 323
305 322 bop Black 208 275 a FR(16.1.)30 b(CONST)m(ANT)14
b(OPERA)m(TORS)1078 b F4(305)p 208 282 1770 2 v Black
208 391 a F3(16.1.8)65 b(Records)208 482 y F4(TLA)295
467 y FS(+)331 482 y F4(b)q(orro)o(ws)16 b(from)e(programming)e
(languages)k(the)g(concept)h(of)e(a)h(record.)25 b(Records)208
532 y(w)o(ere)17 b(in)o(tro)q(duced)h(in)f(Section)g(3.2)f(\(page)h
(28\))g(and)f(further)i(explained)f(in)g(Section)g(5.2)208
582 y(\(page)c(48\).)k(As)c(in)g(programmi)o(ng)d(languages,)i
FV(r)t FQ(:)p FV(h)k F4(is)c(the)i FV(h)i F4(\014eld)d(of)f(record)i
FV(r)t F4(.)k(Records)208 632 y(can)c(b)q(e)g(written)h(explicitly)d
(as)p Black Black 332 713 a([)p FV(h)368 719 y FS(1)398
713 y F0(7!)f FV(e)473 719 y FS(1)492 713 y FQ(;)i(:)7
b(:)g(:)13 b(;)7 b FV(h)623 719 y FJ(n)658 713 y F0(7!)k
FV(e)733 719 y FJ(n)757 713 y F4(])208 794 y(whic)o(h)i(equals)h(the)h
(record)g(with)f FV(n)j F4(\014elds,)d(whose)g FV(h)1050
800 y FJ(i)1080 794 y F4(\014eld)g(equals)g FV(e)1318
800 y FJ(i)1333 794 y F4(,)g(for)f FV(i)j F4(=)c(1)p
FQ(;)7 b(:)g(:)g(:)t(;)g FV(n)s F4(.)208 844 y(The)14
b(expression)p Black Black 332 925 a([)p FV(h)368 931
y FS(1)405 925 y F4(:)k FV(S)463 931 y FS(1)482 925 y
FQ(;)7 b(:)g(:)g(:)e(;)i FV(h)599 931 y FJ(n)641 925
y F4(:)18 b FV(S)699 931 y FJ(n)723 925 y F4(])208 1006
y(is)d(the)h(set)h(of)e(all)g(suc)o(h)h(records)h(with)f
FV(e)859 1012 y FJ(i)889 1006 y F0(2)e FV(S)959 1012
y FJ(i)975 1006 y F4(,)i(for)f FV(i)j F4(=)d(1)p FQ(;)7
b(:)g(:)g(:)e(;)i FV(n)s F4(.)23 b(These)17 b(expressions)208
1055 y(are)d(legal)f(only)g(if)g(the)h FV(h)598 1061
y FJ(i)628 1055 y F4(are)g(all)f(di\013eren)o(t.)19 b(F)m(or)13
b(example,)f([)p FV(a)f F4(:)d FV(S)d FQ(;)14 b FV(a)d
F4(:)d FV(T)e F4(])12 b(is)i(illegal.)270 1105 y(The)j
FP(ex)o(cept)g F4(construct,)i(explained)d(in)h(Section)g(16.1.7)e(ab)q
(o)o(v)o(e,)i(can)g(b)q(e)g(used)h(for)208 1155 y(records)d(as)f(w)o
(ell)f(as)h(functions.)k(F)m(or)c(example,)p Black Black
332 1236 a([)p FV(r)19 b FP(ex)o(cept)g F4(!)s FQ(:)p
FV(a)c F4(=)d FV(e)s F4(])208 1317 y(is)i(the)h(record)g
FF(b)-23 b FV(r)18 b F4(that)d(is)f(the)h(same)e(as)i
FV(r)t F4(,)f(except)h(that)f FF(b)-22 b FV(r)t FQ(:)p
FV(a)15 b F4(=)d FV(e)s F4(.)20 b(An)14 b(exception)h(clause)208
1367 y(can)f(mix)e(function)h(application)g(and)g(record)i(\014elds.)k
(F)m(or)13 b(example,)p Black Black 332 1448 a([)p FV(f)24
b FP(ex)o(cept)19 b F4(!)s([)p FV(v)t F4(])p FQ(:)p FV(a)14
b F4(=)e FV(e)s F4(])208 1535 y(is)h(the)i(function)483
1524 y FF(b)483 1535 y FV(f)23 b F4(that)14 b(is)f(the)i(same)e(as)h
FV(f)8 b F4(,)14 b(except)h(that)1143 1524 y FF(b)1144
1535 y FV(f)9 b F4([)p FV(v)t F4(])p FQ(:)p FV(a)14 b
F4(=)d FV(e)s F4(.)270 1584 y(In)h(TLA)407 1569 y FS(+)428
1584 y F4(,)g(a)f(record)j(is)e(a)f(function)h(whose)h(domain)d(is)i(a)
f(\014nite)i(set)g(of)e(strings,)i(where)208 1634 y FV(r)t
FQ(:)p FV(h)18 b F4(means)c FV(r)t F4([\\)p FV(h)s F4("],)h(for)g(an)o
(y)g(expression)h FV(r)k F4(and)15 b(record)h(\014eld)g
FV(h)s F4(.)23 b(Th)o(us,)15 b(the)h(follo)o(wing)208
1684 y(t)o(w)o(o)d(expressions)i(describ)q(e)h(the)f(same)e(record:)p
Black Black 332 1765 a([)p FV(fo)h F0(7!)d F4(7)p FQ(;)i
FV(b)n(a)i F0(7!)c F4(8])95 b([)p FV(x)16 b F0(2)11 b(f)p
F4(\\)p FD(fo)p F4(")o FQ(;)i F4(\\)p FD(ba)p F4(")p
F0(g)e(7!)g FP(if)24 b FV(x)16 b F4(=)c(\\)p FD(fo)p
F4(")21 b FP(then)j F4(7)f FP(else)h F4(8])208 1846 y(The)17
b(name)g(of)f(a)i(record)g(\014eld)g(is)f(syn)o(tactically)g(an)g(iden)
o(ti\014er.)29 b(In)17 b(the)h FP(asci)q(i)f F4(v)o(ersion)208
1896 y(of)e(TLA)344 1881 y FS(+)364 1896 y F4(,)h(it)f(is)h(a)f(string)
h(of)f(letters,)i(digits,)e(and)g(the)h(underscore)i(c)o(haracter)f(\()
p FO(_)p F4(\))f(that)208 1946 y(con)o(tains)d(at)h(least)g(one)g
(letter.)19 b(Strings)14 b(are)h(describ)q(ed)g(b)q(elo)o(w)f(in)f
(Section)i(16.1.10.)208 2062 y FT(F)-5 b(ormal)17 b(Seman)n(tics)208
2138 y F4(The)d(record)h(constructs)h(are)e(de\014ned)h(in)f(terms)f
(of)h(function)f(constructs.)p Black 270 2219 a FV(e)s
FQ(:)p FV(h)p Black 353 2196 a FI(\001)349 2219 y F4(=)25
b FV(e)s F4([\\)p FV(h)s F4("])p Black 270 2308 a([)p
FV(h)303 2314 y FS(1)333 2308 y F0(7!)11 b FV(e)405 2314
y FS(1)423 2308 y FQ(;)j(:)7 b(:)g(:)12 b(;)7 b FV(h)551
2314 y FJ(n)586 2308 y F0(7!)k FV(e)658 2314 y FJ(n)682
2308 y F4(])p Black 731 2284 a FI(\001)726 2308 y F4(=)349
2362 y([)p FV(y)k F0(2)c(f)p F4(\\)p FD(h)498 2368 y
FS(1)516 2362 y F4(")p FQ(;)j(:)7 b(:)g(:)12 b(;)7 b
F4(\\)p FD(h)686 2368 y FJ(n)709 2362 y F4(")p F0(g)k(7!)432
2415 y FP(case)16 b F4(\()p FV(y)f F4(=)d(\\)p FD(h)677
2421 y FS(1)696 2415 y F4(")o(\))g F0(!)f FV(e)819 2421
y FS(1)845 2415 y FG(2)j FQ(:)7 b(:)g(:)12 b FG(2)7 b
F4(\()p FV(y)16 b F4(=)11 b(\\)p FD(h)1127 2421 y FJ(n)1151
2415 y F4("\))h F0(!)f FV(e)1275 2421 y FJ(n)1299 2415
y F4(])349 2467 y(where)j FV(y)j F4(do)q(es)d(not)f(o)q(ccur)h(in)e(an)
o(y)h(of)f(the)i(expressions)h FV(e)1262 2473 y FJ(i)1277
2467 y F4(.)j(The)c FV(h)1416 2473 y FJ(i)1444 2467 y
F4(m)o(ust)e(all)g(b)q(e)349 2517 y(distinct.)p Black
Black eop
%%Page: 306 324
306 323 bop Black 208 275 a F4(306)837 b FR(CHAPTER)14
b(16.)32 b(THE)14 b(OPERA)m(TORS)f(OF)i(TLA)1957 260
y FS(+)p 208 282 1770 2 v Black Black 270 392 a F4([)p
FV(h)303 398 y FS(1)333 392 y F4(:)c FV(S)379 398 y FS(1)398
392 y FQ(;)c(:)g(:)g(:)e(;)i FV(h)512 398 y FJ(n)547
392 y F4(:)k FV(S)593 398 y FJ(n)617 392 y F4(])p Black
665 368 a FI(\001)661 392 y F4(=)32 b F0(f)7 b F4([)p
FV(h)789 398 y FS(1)819 392 y F0(7!)k FV(y)896 398 y
FS(1)914 392 y FQ(;)j(:)7 b(:)g(:)12 b(;)7 b FV(h)1045
398 y FJ(n)1080 392 y F0(7!)k FV(y)1157 398 y FJ(n)1181
392 y F4(])29 b(:)891 445 y FV(y)915 451 y FS(1)945 445
y F0(2)11 b FV(S)1012 451 y FS(1)1031 445 y FQ(;)j(:)7
b(:)g(:)12 b(;)h FV(y)1168 451 y FJ(n)1203 445 y F0(2)f
FV(S)1271 451 y FJ(n)1295 445 y F0(g)349 497 y F4(where)i(the)f
FV(y)562 503 y FJ(i)590 497 y F4(do)g(not)g(o)q(ccur)h(in)e(an)o(y)h
(of)f(the)i(expressions)g FV(S)1316 503 y FJ(j)1334 497
y F4(.)j(The)d FV(h)1472 503 y FJ(i)1500 497 y F4(m)o(ust)e(all)349
547 y(b)q(e)i(distinct.)p Black 270 630 a([)p FV(r)19
b FP(ex)o(cept)d F4(!)p FU(a)513 636 y FS(1)543 630 y
F4(=)11 b FV(e)605 636 y FS(1)624 630 y FQ(;)j(:)7 b(:)g(:)e(;)13
b F4(!)p FU(a)765 636 y FJ(n)800 630 y F4(=)f FV(e)863
636 y FJ(n)887 630 y F4(])p Black 349 679 a(where)g FU(a)489
685 y FJ(i)516 679 y F4(has)f(the)h(form)e FV(b)774 685
y FS(1)799 679 y FQ(:)d(:)g(:)f FV(b)877 685 y FJ(k)909
679 y F4(and)11 b(eac)o(h)h FV(b)1100 685 y FJ(j)1127
679 y F4(is)g(either)g(\(i\))f([)p FV(d)t F4(],)g(where)h
FV(d)k F4(is)11 b(an)349 729 y(expression,)j(or)f(\(ii\))f
FQ(:)p FV(h)s F4(,)h(where)h FV(h)i F4(is)d(a)g(record)h(\014eld.)k(It)
13 b(is)g(de\014ned)i(to)e(equal)f(the)349 779 y(corresp)q(onding)17
b(function)g FP(ex)o(cept)g F4(construct)h(in)f(whic)o(h)f(eac)o(h)i
FQ(:)p FV(h)h F4(is)e(replaced)349 829 y(b)o(y)c([\\)p
FV(h)s F4("].)208 966 y F3(16.1.9)65 b(T)-6 b(uples)208
1057 y F4(An)14 b FV(n)s F4(-tuple)h(is)f(written)g(in)g(TLA)746
1042 y FS(+)781 1057 y F4(as)g F0(h)s FV(e)873 1063 y
FS(1)893 1057 y FQ(;)7 b(:)g(:)g(:)t(;)g FV(e)1007 1063
y FJ(n)1034 1057 y F0(i)p F4(.)19 b(As)c(explained)f(in)g(Section)g
(5.4,)f(an)208 1107 y FV(n)s F4(-tuple)k(is)g(de\014ned)h(to)f(b)q(e)h
(a)f(function)f(whose)i(domain)d(is)i(the)g(set)h F0(f)p
F4(1)p FQ(;)7 b(:)g(:)g(:)e(;)i FV(n)s F0(g)p F4(,)17
b(where)208 1157 y F0(h)s FV(e)249 1163 y FS(1)268 1157
y FQ(;)7 b(:)g(:)g(:)e(;)i FV(e)383 1163 y FJ(n)410 1157
y F0(i)p F4([)p FV(i)t F4(])j(=)i FV(e)543 1163 y FJ(i)559
1157 y F4(,)h(for)f(1)g F0(\024)f FV(i)16 b F0(\024)c
FV(n)s F4(.)18 b(The)c(Cartesian)f(pro)q(duct)h FV(S)1305
1163 y FS(1)1332 1157 y F0(\002)h(\001)7 b(\001)g(\001)13
b(\002)8 b FV(S)1510 1163 y FJ(n)1547 1157 y F4(is)13
b(the)208 1207 y(set)h(of)g(all)e FV(n)s F4(-tuples)j
F0(h)s FV(e)581 1213 y FS(1)601 1207 y FQ(;)7 b(:)g(:)g(:)t(;)g
FV(e)715 1213 y FJ(n)742 1207 y F0(i)14 b F4(suc)o(h)h(that)f
FV(e)978 1213 y FJ(i)1005 1207 y F0(2)d FV(S)1072 1213
y FJ(i)1088 1207 y F4(,)i(for)h(1)d F0(\024)h FV(i)j
F0(\024)d FV(n)s F4(.)270 1256 y(In)i(TLA)409 1241 y
FS(+)429 1256 y F4(,)g F0(\002)g F4(is)g(not)f(an)h(asso)q(ciativ)o(e)g
(op)q(erator.)19 b(F)m(or)13 b(example,)p Black Black
332 1339 a F0(h)s F4(1)p FQ(;)7 b F4(2)p FQ(;)g F4(3)s
F0(i)62 b(2)22 b FV(Nat)13 b F0(\002)d FV(Nat)j F0(\002)d
FV(Nat)332 1393 y F0(h)s(h)s F4(1)p FQ(;)d F4(2)s F0(i)p
FQ(;)g F4(3)s F0(i)24 b(2)e F4(\()p FV(Nat)14 b F0(\002)9
b FV(Nat)t F4(\))g F0(\002)h FV(Nat)332 1446 y F0(h)s
F4(1)p FQ(;)d F0(h)s F4(2)p FQ(;)g F4(3)s F0(i)s(i)24
b(2)e FV(Nat)13 b F0(\002)d F4(\()p FV(Nat)j F0(\002)d
FV(Nat)t F4(\))208 1529 y(and)i(the)h(tuples)g F0(h)s
F4(1)p FQ(;)7 b F4(2)p FQ(;)g F4(3)s F0(i)p F4(,)k F0(h)s(h)s
F4(1)p FQ(;)c F4(2)s F0(i)p FQ(;)g F4(3)s F0(i)p F4(,)13
b(and)f F0(h)s F4(1)p FQ(;)7 b F0(h)s F4(2)p FQ(;)g F4(3)s
F0(i)s(i)13 b F4(are)g(not)f(equal.)17 b(More)c(precisely)m(,)208
1579 y(the)d(triple)f F0(h)s F4(1)p FQ(;)e F4(2)p FQ(;)g
F4(3)s F0(i)i F4(is)h(unequal)f(to)g(either)i(of)e(the)h(pairs)f
F0(h)s(h)s F4(1)p FQ(;)e F4(2)s F0(i)p FQ(;)g F4(3)s
F0(i)k F4(or)e F0(h)s F4(1)p FQ(;)e F0(h)s F4(2)p FQ(;)g
F4(3)s F0(i)s(i)j F4(b)q(ecause)208 1629 y(a)17 b(triple)i(and)f(a)f
(pair)h(ha)o(v)o(e)g(unequal)g(domains.)29 b(The)19 b(seman)o(tics)f
(of)f(TLA)1449 1614 y FS(+)1488 1629 y F4(do)q(es)i(not)208
1679 y(sp)q(ecify)c(if)f F0(h)s F4(1)p FQ(;)7 b F4(2)s
F0(i)15 b F4(equals)g(1)g(or)g(if)f(3)g(equals)h F0(h)s
F4(2)p FQ(;)7 b F4(3)s F0(i)p F4(,)15 b(so)g(w)o(e)g(don't)f(kno)o(w)h
(whether)h(or)f(not)208 1728 y F0(h)s(h)s F4(1)p FQ(;)7
b F4(2)s F0(i)p FQ(;)g F4(3)s F0(i)14 b F4(and)g F0(h)s
F4(1)p FQ(;)7 b F0(h)s F4(2)p FQ(;)g F4(3)s F0(i)s(i)14
b F4(are)g(equal.)270 1778 y(The)f(0-tuple)f F0(h)i(i)f
F4(is)f(the)i(unique)e(function)g(ha)o(ving)g(an)g(empt)o(y)g(domain.)j
(The)e(1-tuple)208 1828 y F0(h)s FV(e)7 b F0(i)15 b F4(is)f(di\013eren)
o(t)i(from)d FV(e)s F4(.)21 b(That)15 b(is,)f(the)i(seman)o(tics)e(do)q
(es)i(not)f(sp)q(ecify)g(whether)h(or)f(not)208 1878
y(they)h(are)g(equal.)23 b(There)16 b(is)g(no)f(sp)q(ecial)h(notation)f
(for)g(writing)g(a)g(set)i(of)e(1-tuples.)23 b(The)208
1928 y(easiest)14 b(w)o(a)o(y)g(to)f(denote)i(the)g(set)f(of)g(all)e
(1-tuples)i F0(h)s FV(e)7 b F0(i)15 b F4(with)e FV(e)i
F0(2)c FV(S)19 b F4(is)14 b F0(fh)s FV(e)7 b F0(i)19
b F4(:)f FV(e)c F0(2)e FV(S)5 b F0(g)p F4(.)270 1977
y(In)14 b(the)g(standard)h FV(Se)n(quenc)n(es)j F4(mo)q(dule,)13
b(describ)q(ed)i(in)f(Section)g(18.1)f(\(page)h(339\),)f(an)208
2027 y FV(n)s F4(-elemen)o(t)k(sequence)j(is)e(represen)o(ted)j(as)d
(an)g FV(n)s F4(-tuple.)30 b(The)19 b(mo)q(dule)d(de\014nes)j(sev)o
(eral)208 2077 y(useful)14 b(op)q(erators)g(on)g(sequences/tuples.)208
2193 y FT(F)-5 b(ormal)17 b(Seman)n(tics)208 2270 y F4(T)m(uples)j(and)
g(Cartesian)g(pro)q(ducts)i(are)e(de\014ned)h(in)f(terms)g(of)g
(functions)g(\(de\014ned)h(in)208 2320 y(Section)13 b(16.1.7\))e(and)i
(the)g(set)h FV(Nat)j F4(of)12 b(natural)h(n)o(um)o(b)q(ers)f
(\(de\014ned)j(in)d(Section)h(16.1.11\).)p Black 270
2409 a F0(h)p FV(e)305 2415 y FS(1)324 2409 y FQ(;)g(:)7
b(:)g(:)12 b(;)7 b FV(e)449 2415 y FJ(n)473 2409 y F0(i)p
Black 526 2386 a FI(\001)521 2409 y F4(=)33 b([)p FV(i)15
b F0(2)c(f)p FV(j)17 b F0(2)11 b FV(Nat)22 b F4(:)c(\(1)12
b F0(\024)g FV(j)6 b F4(\))j F0(^)g F4(\()p FV(j)17 b
F0(\024)12 b FV(n)s F4(\))p F0(g)g(7!)f FV(e)1287 2415
y FJ(i)1302 2409 y F4(])353 2463 y(where)k FV(i)j F4(do)q(es)c(not)g(o)
q(ccur)h(in)e(an)o(y)h(of)f(the)i(expressions)g FV(e)1267
2469 y FJ(j)1284 2463 y F4(.)p Black Black eop
%%Page: 307 325
307 324 bop Black 208 275 a FR(16.1.)30 b(CONST)m(ANT)14
b(OPERA)m(TORS)1078 b F4(307)p 208 282 1770 2 v Black
Black 270 392 a FV(S)293 398 y FS(1)321 392 y F0(\002)16
b(\001)7 b(\001)g(\001)15 b(\002)10 b FV(S)499 398 y
FJ(n)p Black 560 368 a FI(\001)555 392 y F4(=)33 b F0(f)7
b(h)s FV(y)691 398 y FS(1)709 392 y FQ(;)14 b(:)7 b(:)g(:)12
b(;)7 b FV(y)840 398 y FJ(n)866 392 y F0(i)19 b F4(:)f
FV(y)955 398 y FS(1)985 392 y F0(2)11 b FV(S)1052 398
y FS(1)1071 392 y FQ(;)i(:)7 b(:)g(:)f(;)13 b FV(y)1201
398 y FJ(n)1236 392 y F0(2)f FV(S)1304 398 y FJ(n)1328
392 y F0(g)353 446 y F4(where)j(the)f(iden)o(ti\014ers)h
FV(y)759 452 y FJ(i)788 446 y F4(do)f(not)f(o)q(ccur)i(in)f(an)o(y)f
(of)g(the)i(expressions)g FV(S)1521 452 y FJ(j)1539 446
y F4(.)208 582 y F3(16.1.10)64 b(Strings)208 673 y F4(TLA)295
658 y FS(+)331 673 y F4(de\014nes)18 b(a)e(string)g(to)g(b)q(e)g(a)g
(tuple)h(of)e(c)o(haracters.)27 b(\(T)m(uples)16 b(are)g(de\014ned)h
(in)f(Sec-)208 722 y(tion)d(16.1.9)f(ab)q(o)o(v)o(e.\))18
b(Th)o(us,)13 b(\\)p FD(ab)q(c)p F4(")i(equals)p Black
Black 332 800 a F0(h)s F4(\\)p FD(ab)q(c)p F4(")q([1])p
FQ(;)d F4(\\)p FD(ab)q(c)p F4(")q([2])p FQ(;)g F4(\\)p
FD(ab)q(c)p F4(")q([3])s F0(i)208 878 y F4(The)j(seman)o(tics)f(of)g
(TLA)618 863 y FS(+)654 878 y F4(do)q(es)h(not)g(sp)q(ecify)g(what)g(a)
f(c)o(haracter)i(is.)21 b(Ho)o(w)o(ev)o(er,)15 b(it)f(do)q(es)208
928 y(sp)q(ecify)19 b(that)h(di\013eren)o(t)g(c)o(haracters)h(\(those)f
(ha)o(ving)e(di\013eren)o(t)i(computer)f(represen)o(ta-)208
978 y(tions\))e(are)g(di\013eren)o(t.)28 b(Th)o(us)18
b(\\)p FD(a)p F4(")o([1],)e(\\)p FD(b)p F4("[1],)g(and)h(\\)p
FD(A)p F4(")o([1])f(\(the)i(c)o(haracters)g FV(a)s F4(,)g
FV(b)s F4(,)f(and)208 1028 y FV(A)p F4(\))d(are)g(all)f(di\013eren)o
(t.)20 b(The)14 b(built-in)f(op)q(erator)i FP(string)e
F4(is)h(de\014ned)h(to)f(b)q(e)h(the)g(set)g(of)e(all)208
1078 y(strings.)270 1128 y(Although)f(TLA)539 1112 y
FS(+)573 1128 y F4(do)q(esn't)i(sp)q(ecify)g(what)f(a)g(c)o(haracter)h
(is,)f(it's)g(easy)g(to)g(de\014ne)h(op)q(er-)208 1177
y(ators)h(that)g(assign)g(v)n(alues)g(to)h(c)o(haracters.)24
b(F)m(or)14 b(example,)g(here's)j(the)f(de\014nition)e(of)h(an)208
1227 y(op)q(erator)f FV(Ascii)j F4(that)d(assigns)g(to)g(ev)o(ery)h(lo)
o(w)o(er-case)f(letter)h(its)f FP(asci)q(i)f F4(represen)o(tation.)1617
1212 y FS(6)p Black Black 332 1309 a FV(Ascii)t F4(\()p
FV(char)t F4(\))584 1286 y FI(\001)579 1309 y F4(=)35
b(96)16 b(+)g FP(choose)h FV(i)e F0(2)c F4(1)j FQ(:)7
b(:)13 b F4(26)18 b(:)794 1362 y(\\)p FD(ab)q(cdefghijklmnop)q
(qrstuvwxyz)p F4(")s([)p FV(i)t F4(])10 b(=)i FV(char)208
1441 y F4(This)20 b(de\014nes)i FV(Ascii)t F4(\(\\)p
FD(a)p F4("[1]\))d(to)i(equal)g(97,)g(the)h FP(asci)q(i)d
F4(co)q(de)j(for)e(the)i(letter)g FV(a)s F4(,)g(and)208
1491 y FV(Ascii)t F4(\(\\)p FD(z)p F4(")o([1]\))17 b(to)i(equal)f(122,)
g(the)h FP(asci)q(i)f F4(co)q(de)h(for)f FV(z)5 b F4(.)32
b(Section)19 b(11.1.4)e(on)h(page)h(179)208 1540 y(illustrates)14
b(ho)o(w)f(a)h(sp)q(eci\014cation)g(can)g(mak)o(e)f(use)h(of)g(the)g
(fact)g(that)g(strings)g(are)h(tuples.)270 1590 y(Exactly)k(what)g(c)o
(haracters)j(ma)o(y)17 b(app)q(ear)j(in)f(a)g(string)g(is)h(system-dep)
q(enden)o(t.)36 b(A)208 1640 y(Japanese)14 b(v)o(ersion)f(of)g(TLA)657
1625 y FS(+)691 1640 y F4(migh)o(t)e(not)i(allo)o(w)e(the)j(c)o
(haracter)h FV(a)s F4(.)j(The)13 b(standard)h FP(asci)q(i)208
1690 y F4(v)o(ersion)g(con)o(tains)f(the)i(follo)o(wing)c(c)o
(haracters:)p Black Black 332 1768 a FQ(a)j(b)g(c)f(d)h(e)g(f)19
b(g)c(h)e(i)i(j)h(k)f(l)g(m)f(n)g(o)g(p)f(q)i(r)g(s)f(t)g(u)g(v)h(w)g
(x)e(y)j(z)332 1825 y(A)e(B)i(C)h(D)e(E)h(F)j(G)14 b(H)j(I)g(J)h(K)f(L)
d(M)19 b(N)f(O)d(P)k(Q)14 b(R)g(S)i(T)k(U)f(V)k(W)d(X)d(Y)24
b(Z)332 1882 y F4(0)14 b(1)f(2)h(3)f(4)h(5)g(6)f(7)h(8)f(9)332
1940 y FO(~)h F4(@)g(#)f($)25 b FD(\045)g FO(^)14 b F4(&)23
b F0(\003)p 710 1940 21 3 v 81 w(\000)g F4(+)j(=)f(\()14
b(\))g F0(f)g(g)g F4([)f(])25 b FQ(<)14 b(>)26 b F0(j)13
b FQ(=)h F0(n)f FQ(;)20 b(:)14 b F4(?)25 b(:)13 b(;)20
b FO(`)14 b(')g(")332 1997 y F0(h)s FP(ht)t F0(i)g FC(\(tab\))42
b F0(h)s FP(lf)5 b F0(i)14 b FC(\(line)g(feed\))42 b
F0(h)s FP(ff)t F0(i)14 b FC(\(form)f(feed\))42 b F0(h)s
FP(cr)s F0(i)14 b FC(\(carriage)g(return\))208 2075 y
F4(plus)19 b(the)h(space)g(c)o(haracter.)36 b(Since)20
b(strings)f(are)h(delimited)e(b)o(y)h(a)g(double-quote)g(\()p
FO(")p F4(\),)208 2125 y(some)g(con)o(v)o(en)o(tion)h(is)g(needed)h
(for)f(t)o(yping)f(a)h(string)g(that)g(con)o(tains)g(a)g(double-quote.)
208 2175 y(Con)o(v)o(en)o(tions)d(are)i(also)f(needed)i(to)e(t)o(yp)q
(e)g(c)o(haracters)j(lik)o(e)c F0(h)s FP(lf)5 b F0(i)18
b F4(within)g(a)g(string.)31 b(In)208 2225 y(the)13 b
FP(asci)q(i)f F4(v)o(ersion)i(of)e(TLA)660 2210 y FS(+)681
2225 y F4(,)h(the)g(follo)o(wing)e(pairs)i(of)f(c)o(haracters,)j(b)q
(eginning)d(with)h(a)g FO(\\)208 2275 y F4(c)o(haracter,)h(are)h(used)f
(to)g(represen)o(t)i(these)g(sp)q(ecial)e(c)o(haracters:)p
Black Black 332 2350 a FO(\\")49 b(")166 b(\\t)50 b F0(h)s
FP(ht)t F0(i)166 b FO(\\f)49 b F0(h)s FP(ff)5 b F0(i)332
2400 y FO(\\\\)49 b(\\)166 b(\\n)50 b F0(h)s FP(lf)t
F0(i)173 b FO(\\r)49 b F0(h)s FP(cr)t F0(i)p Black 208
2439 576 2 v 254 2466 a FK(6)271 2477 y FZ(This)13 b(clev)o(er)e(w)o(a)
o(y)h(of)g(using)g Fu(choose)h FZ(to)f(map)f(from)g(c)o(haracters)f(to)
i(n)o(um)o(b)q(ers)f(w)o(as)h(p)q(oin)o(ted)f(out)h(to)208
2517 y(me)e(b)o(y)h(Georges)f(Gon)o(thier.)p Black Black
Black eop
%%Page: 308 326
308 325 bop Black 208 275 a F4(308)837 b FR(CHAPTER)14
b(16.)32 b(THE)14 b(OPERA)m(TORS)f(OF)i(TLA)1957 260
y FS(+)p 208 282 1770 2 v Black 208 391 a F4(With)i(this)h(con)o(v)o
(en)o(tion,)h FO("a\\\\\\"b\\"")d F4(represen)o(ts)21
b(the)e(string)f(consisting)h(of)e(the)i(fol-)208 441
y(lo)o(wing)13 b(\014v)o(e)j(c)o(haracters:)23 b FV(a)c
F0(n)c FO(")h FV(b)i FO(")p F4(.)k(In)16 b(the)g FP(asci)q(i)e
F4(v)o(ersion)i(of)f(TLA)1357 426 y FS(+)1378 441 y F4(,)g(a)g
FO(\\)g F4(c)o(haracter)208 491 y(can)g(app)q(ear)g(in)g(a)f(string)i
(expression)g(only)e(as)h(the)h(\014rst)f(c)o(haracter)i(of)d(one)h(of)
g(these)h(six)208 541 y(t)o(w)o(o-c)o(haracter)e(sequences.)208
657 y FT(F)-5 b(ormal)17 b(Seman)n(tics)208 734 y F4(W)m(e)11
b(assume)g(a)h(set)g FV(Char)k F4(of)11 b(c)o(haracters,)j(whic)o(h)d
(ma)o(y)f(dep)q(end)j(on)e(the)i(v)o(ersion)f(of)f(TLA)1614
719 y FS(+)1634 734 y F4(.)208 783 y(\(The)j(iden)o(ti\014er)g
FV(Char)k F4(is)c(not)g(a)f(pre-de\014ned)j(sym)o(b)q(ol)c(of)h(TLA)
1232 768 y FS(+)1253 783 y F4(.\))p Black 208 873 a FP(string)p
Black 378 849 a FI(\001)373 873 y F4(=)33 b FV(Se)n(q)t
F4(\()p FV(Char)t F4(\))311 923 y(where)14 b FV(Se)n(q)j
F4(is)c(the)g(op)q(erator)g(de\014ned)h(in)f(the)g FV(Se)n(quenc)n(es)k
F4(mo)q(dule)12 b(of)g(Section)h(18.1)311 973 y(so)h(that)g
FV(Se)n(q)t F4(\()p FV(S)5 b F4(\))15 b(is)e(the)i(set)g(of)e(all)g
(\014nite)h(sequences)i(of)d(elemen)o(ts)h(of)g FV(S)5
b F4(.)p Black 208 1062 a FD(\\c)247 1068 y FS(1)279
1062 y FQ(:)i(:)g(:)12 b FD(c)360 1068 y FJ(n)384 1062
y FD(")p Black 442 1039 a FI(\001)437 1062 y F4(=)32
b F0(h)s FD(c)539 1068 y FS(1)558 1062 y FQ(;)7 b(:)g(:)g(:)e(;)i
FD(c)669 1068 y FJ(n)696 1062 y F0(i)311 1116 y F4(where)15
b(eac)o(h)g FD(c)543 1122 y FJ(i)572 1116 y F4(is)f(some)f(represen)o
(tation)j(of)d(a)g(c)o(haracter)j(in)d FV(Char)t F4(.)208
1253 y F3(16.1.11)64 b(Num)n(b)r(ers)208 1344 y F4(TLA)295
1329 y FS(+)329 1344 y F4(de\014nes)14 b(a)g(sequence)h(of)e(digits)g
(lik)o(e)g(63)f(to)i(b)q(e)g(the)g(usual)f(natural)g(n)o(um)o(b)q
(er|that)208 1394 y(is,)h(63)g(equals)h(6)10 b F0(\003)f
F4(10)g(+)i(3.)20 b(TLA)740 1379 y FS(+)775 1394 y F4(also)15
b(allo)o(ws)e(the)i(binary)g(represen)o(tation)h FO(\\b111111)p
F4(,)208 1444 y(the)e(o)q(ctal)f(represen)o(tation)i
FO(\\o77)p F4(,)d(and)h(the)h(hexadecimal)e(represen)o(tation)j
FO(\\h3F)e F4(of)g(that)208 1494 y(n)o(um)o(b)q(er.)j(\(Case)e(is)f
(ignored)f(in)h(the)g(pre\014xes)h(and)f(in)f(the)i(hexadecimal)d
(represen)o(tation,)208 1543 y(so)h FO(\\H3F)f F4(and)h
FO(\\h3f)f F4(are)h(equiv)n(alen)o(t)f(to)h FO(\\h3F)p
F4(.\))f(Decimal)f(n)o(um)o(b)q(ers)h(are)i(also)e(pre-de\014ned)208
1593 y(in)i(TLA)343 1578 y FS(+)364 1593 y F4(;)g(for)h(example,)e
(3.14159)g(equals)i(314159)p FQ(=)p F4(10)1092 1578 y
FS(5)1108 1593 y F4(.)270 1643 y(Num)o(b)q(ers)j(are)g(pre-de\014ned)i
(in)e(TLA)879 1628 y FS(+)900 1643 y F4(,)g(so)g(63)g(is)g(de\014ned)h
(ev)o(en)g(in)e(a)h(mo)q(dule)f(that)208 1693 y(do)q(es)e(not)g(extend)
h(or)e(instan)o(tiate)h(one)g(of)f(the)h(standard)h(n)o(um)o(b)q(ers)e
(mo)q(dules.)k(Ho)o(w)o(ev)o(er,)208 1743 y(sets)c(of)f(n)o(um)o(b)q
(ers)h(lik)o(e)e FV(Nat)17 b F4(and)12 b(arithmetic)f(op)q(erators)j
(lik)o(e)e(+)g(are)h(not.)18 b(Y)m(ou)12 b(can)h(write)208
1793 y(a)e(mo)q(dule)g(that)g(de\014nes)j(+)e(an)o(y)f(w)o(a)o(y)g(y)o
(ou)h(w)o(an)o(t,)f(in)h(whic)o(h)f(case)i(40)5 b(+)g(23)12
b(need)g(not)g(equal)208 1842 y(63.)27 b(Of)17 b(course,)i(40)11
b(+)g(23)17 b(do)q(es)h(equal)f(63)f(for)h(+)h(de\014ned)g(b)o(y)f(the)
h(standard)f(n)o(um)o(b)q(ers)208 1892 y(mo)q(dules)12
b FV(Natur)n(als)s F4(,)h FV(Inte)n(gers)s F4(,)h(and)g
FV(R)n(e)n(als)s F4(,)f(whic)o(h)h(are)h(describ)q(ed)g(in)f(Section)g
(18.4.)208 2008 y FT(F)-5 b(ormal)17 b(Seman)n(tics)208
2085 y F4(The)c(set)g FV(Nat)k F4(of)12 b(natural)g(n)o(um)o(b)q(ers,)h
(along)e(with)i(its)f(zero)i(elemen)o(t)e FV(Zer)n(o)k
F4(and)c(successor)208 2135 y(function)19 b FV(Suc)n(c)r
F4(,)j(is)e(de\014ned)h(in)f(mo)q(dule)e FV(Pe)n(ano)24
b F4(on)c(page)g(345.)35 b(The)21 b(meaning)d(of)h(a)208
2185 y(represen)o(tation)c(of)e(a)h(natural)f(n)o(um)o(b)q(er)g(is)h
(de\014ned)h(in)f(the)g(usual)g(manner:)p Black Black
332 2272 a(0)392 2248 y FI(\001)387 2272 y F4(=)35 b
FV(Zer)n(o)86 b F4(1)681 2248 y FI(\001)676 2272 y F4(=)35
b FV(Suc)n(c)r F4([)p FV(Zer)n(o)s F4(])83 b(2)1077 2248
y FI(\001)1073 2272 y F4(=)34 b FV(Suc)n(c)r F4([)p FV(Suc)n(c)r
F4([)p FV(Zer)n(o)s F4(]])90 b FQ(:)7 b(:)g(:)208 2355
y F4(The)15 b FV(Pr)n(otoR)n(e)n(als)k F4(mo)q(dule)13
b(on)i(pages)h(346{347)d(de\014nes)k(the)f(set)g FV(R)n(e)n(al)j
F4(of)c(real)g(n)o(um)o(b)q(ers)208 2405 y(to)g(b)q(e)i(a)f(sup)q
(erset)i(of)d(the)i(set)f FV(Nat)t F4(,)g(and)g(de\014nes)h(the)g
(usual)e(arithmetic)g(op)q(erators)i(on)p Black Black
eop
%%Page: 309 327
309 326 bop Black 208 275 a FR(16.2.)30 b(NONCONST)m(ANT)15
b(OPERA)m(TORS)983 b F4(309)p 208 282 1770 2 v Black
208 391 a(real)17 b(n)o(um)o(b)q(ers.)27 b(The)18 b(meaning)d(of)h(a)h
(decimal)f(n)o(um)o(b)q(er)g(is)h(de\014ned)h(in)f(terms)g(of)f(these)
208 441 y(op)q(erators)e(b)o(y)p Black Black 332 528
a FV(c)353 534 y FS(1)386 528 y F0(\001)7 b(\001)g(\001)12
b FV(c)469 534 y FJ(m)509 528 y FQ(:)7 b FV(d)553 534
y FS(1)585 528 y F0(\001)g(\001)g(\001)13 b FV(d)673
534 y FJ(n)736 505 y FI(\001)732 528 y F4(=)34 b FV(c)819
534 y FS(1)852 528 y F0(\001)7 b(\001)g(\001)13 b FV(c)936
534 y FJ(m)975 528 y FV(d)1000 534 y FS(1)1033 528 y
F0(\001)7 b(\001)g(\001)13 b FV(d)1121 534 y FJ(n)1145
528 y FQ(=)p F4(10)1208 511 y FJ(n)208 720 y FN(16.2)82
b(Nonconstan)n(t)27 b(Op)r(erators)208 811 y F4(The)18
b(nonconstan)o(t)h(op)q(erators)g(are)f(what)g(distinguish)f(TLA)1206
796 y FS(+)1245 811 y F4(from)f(ordinary)i(mathe-)208
861 y(matics.)e(There)e(are)g(t)o(w)o(o)e(classes)i(of)f(nonconstan)o
(t)g(op)q(erators:)19 b(action)12 b(op)q(erators,)i(listed)208
910 y(in)f(T)m(able)g(3)h(on)f(page)h(269,)f(and)h(temp)q(oral)e(op)q
(erators,)i(listed)g(in)g(T)m(able)f(4)h(on)f(page)h(269.)270
960 y(Section)g(16.1)g(ab)q(o)o(v)o(e)g(talks)f(ab)q(out)i(the)f
(meanings)f(of)h(the)h(built-in)e(constan)o(t)i(op)q(era-)208
1010 y(tors)d(of)e(TLA)420 995 y FS(+)441 1010 y F4(,)i(without)f
(considering)g(their)h(argumen)o(ts.)17 b(W)m(e)11 b(can)g(do)h(that)f
(for)g(constan)o(t)208 1060 y(op)q(erators,)j(since)i(the)f(meaning)d
(of)i F0(\022)g F4(in)g(the)h(expression)h FV(e)1182
1066 y FS(1)1213 1060 y F0(\022)d FV(e)1280 1066 y FS(2)1313
1060 y F4(do)q(esn't)h(dep)q(end)i(on)208 1110 y(whether)d(or)f(not)g
(the)h(expressions)g FV(e)792 1116 y FS(1)823 1110 y
F4(and)f FV(e)924 1116 y FS(2)955 1110 y F4(con)o(tain)g(v)n(ariables)f
(or)h(primes.)17 b(T)m(o)11 b(under-)208 1159 y(stand)16
b(the)i(nonconstan)o(t)f(op)q(erators,)g(w)o(e)g(need)h(to)e(consider)i
(their)f(argumen)o(ts.)25 b(Th)o(us,)208 1209 y(w)o(e)12
b(can)h(no)g(longer)f(talk)g(ab)q(out)h(the)g(meanings)e(of)h(the)h(op)
q(erators)h(in)e(isolation;)f(w)o(e)i(m)o(ust)208 1259
y(describ)q(e)i(the)g(meanings)d(of)h(expressions)j(built)d(from)f
(those)j(op)q(erators.)270 1309 y(A)j FV(b)n(asic)i F4(expression)g(is)
d(one)i(that)f(con)o(tains)g(built-in)f(TLA)1257 1294
y FS(+)1295 1309 y F4(op)q(erators,)j(declared)208 1359
y(constan)o(ts,)f(and)g(declared)g(v)n(ariables.)31 b(W)m(e)17
b(no)o(w)h(describ)q(e)i(the)f(meaning)e(of)h(all)f(basic)208
1409 y(TLA)295 1393 y FS(+)331 1409 y F4(expressions,)h(including)d
(ones)h(that)g(con)o(tain)f(nonconstan)o(t)i(built-in)d(op)q(erators.)
208 1458 y(W)m(e)k(start)h(b)o(y)g(considering)g(basic)g(constan)o(t)g
(expressions,)i(ones)f(con)o(taining)d(only)h(the)208
1508 y(constan)o(t)c(op)q(erators)h(w)o(e)f(ha)o(v)o(e)g(already)f
(studied)i(and)e(declared)i(constan)o(ts.)208 1645 y
F3(16.2.1)65 b(Basic)22 b(Constan)n(t)g(Expressions)208
1736 y F4(Section)13 b(16.1)f(ab)q(o)o(v)o(e)g(de\014nes)j(the)e
(meanings)f(of)g(the)i(constan)o(t)f(op)q(erators.)19
b(This)13 b(in)f(turn)208 1786 y(de\014nes)17 b(the)f(meaning)e(of)h
(an)o(y)g(expression)i(built)e(from)f(these)k(op)q(erators)e(and)g
(declared)208 1836 y(constan)o(ts.)i(F)m(or)c(example,)e(if)h
FV(S)19 b F4(and)14 b FV(T)19 b F4(are)14 b(declared)h(b)o(y)p
Black Black 332 1919 a FP(const)m(ants)h FV(S)5 b FQ(;)14
b FV(T)6 b F4(\()p 672 1919 21 3 v 34 w(\))208 2002 y(then)14
b F0(9)7 b FV(x)14 b F4(:)7 b FV(S)17 b F0(\022)12 b
FV(T)6 b F4(\()p FV(x)f F4(\))14 b(is)g(a)f(form)o(ula)f(that)i(equals)
g FP(tr)o(ue)g F4(if)g(there)h(is)f(some)f(v)n(alue)h
FV(v)k F4(suc)o(h)208 2052 y(that)h(ev)o(ery)h(elemen)o(t)e(of)h
FV(S)24 b F4(is)19 b(an)g(elemen)o(t)f(of)h FV(T)6 b
F4(\()p FV(v)t F4(\),)20 b(and)f(otherwise)h(equals)f
FP(f)l(alse)p F4(.)208 2102 y(Whether)e F0(9)7 b FV(x)14
b F4(:)7 b FV(S)17 b F0(\022)12 b FV(T)6 b F4(\()p FV(x)f
F4(\))17 b(equals)g FP(tr)o(ue)g F4(or)f FP(f)l(alse)j
F4(dep)q(ends)f(on)f(what)g(actual)f(v)n(alues)208 2151
y(w)o(e)e(assign)g(to)g FV(S)19 b F4(and)14 b(to)g FV(T)6
b F4(\()p FV(v)t F4(\),)14 b(for)f(all)g FV(v)t F4(;)i(so)f(that's)g
(as)g(far)g(as)g(w)o(e)g(can)h(go)e(in)h(assigning)208
2201 y(a)f(meaning)f(to)i(the)g(expression.)270 2251
y(A)k(form)o(ula)d(is)i(a)h(Bo)q(olean-v)n(alued)e(expression.)31
b(There)19 b(are)f(some)f(basic)g(constan)o(t)208 2301
y(form)o(ulas)j(that)j(are)g(true)g(regardless)h(of)e(the)h(v)n(alues)f
(w)o(e)h(assign)f(to)h(their)g(declared)208 2351 y(constan)o(ts|for)14
b(example,)e(the)i(form)o(ula)p Black Black 332 2434
a(\()p FV(S)j F0(\022)12 b FV(T)6 b F4(\))11 b F0(\021)h
F4(\()p FV(S)i F0(\\)9 b FV(T)17 b F4(=)12 b FV(S)5 b
F4(\))208 2517 y(Suc)o(h)14 b(a)f(form)o(ula)f(is)i(said)f(to)h(b)q(e)g
FV(valid)p F4(.)p Black Black eop
%%Page: 310 328
310 327 bop Black 208 275 a F4(310)837 b FR(CHAPTER)14
b(16.)32 b(THE)14 b(OPERA)m(TORS)f(OF)i(TLA)1957 260
y FS(+)p 208 282 1770 2 v Black 208 391 a FT(F)-5 b(ormal)17
b(Seman)n(tics)208 468 y F4(Section)f(16.1)g(de\014nes)i(all)d(the)i
(built-in)e(constan)o(t)j(op)q(erators)f(in)f(terms)g(of)g(a)h(subset)g
(of)208 518 y(them)c(called)h(the)h(primitiv)o(e)e(op)q(erators.)20
b(These)c(de\014nitions)e(can)h(b)q(e)g(form)o(ulated)e(as)h(an)208
568 y(inductiv)o(e)9 b(set)i(of)f(rules)g(that)g(de\014ne)h(the)g
(meaning)d([)-7 b([)p FV(c)r F4(])g(])8 b(of)i(an)o(y)f(basic)h
(constan)o(t)h(expression)208 617 y FV(c)r F4(.)18 b(F)m(or)13
b(example,)g(from)f(the)i(de\014nition)p Black Black
332 702 a FV(e)19 b FQ(=)-25 b F0(2)11 b FV(S)473 679
y FI(\001)468 702 y F4(=)35 b F0(:)p F4(\()p FV(e)14
b F0(2)e FV(S)5 b F4(\))208 783 y(w)o(e)14 b(get)g(the)g(rule)p
Black Black 332 863 a([)-7 b([)p FV(e)19 b FQ(=)-26 b
F0(2)11 b FV(S)5 b F4(])-7 b(])34 b(=)h F0(:)p F4(\([)-7
b([)p FV(e)s F4(])g(])10 b F0(2)h F4([)-7 b([)p FV(S)5
b F4(])-7 b(]\))208 944 y(These)11 b(rules)h(de\014ne)f(the)g(meaning)e
(of)h(a)g(basic)h(constan)o(t)g(expression)h(to)e(b)q(e)h(an)g
(expression)208 994 y(con)o(taining)h(only)h(primitiv)o(e)f(constan)o
(t)j(op)q(erators)f(and)g(declared)h(constan)o(ts.)270
1044 y(A)j(basic)g(constan)o(t)g(expression)h FV(e)i
F4(is)d(a)f(form)o(ula)f(i\013)h(its)h(meaning)e([)-7
b([)p FV(e)s F4(])g(])16 b(is)i(Bo)q(olean-)208 1093
y(v)n(alued,)12 b(regardless)j(of)e(what)g(v)n(alues)h(are)g
(substituted)h(for)e(the)h(declared)h(constan)o(ts.)j(As)208
1143 y(explained)11 b(in)g(Section)h(16.1.3,)e(this)h(will)g(dep)q(end)
h(on)g(whether)h(w)o(e)f(are)g(using)f(the)h(lib)q(eral,)208
1193 y(mo)q(derate,)h(or)g(conserv)n(ativ)o(e)i(in)o(terpretations)f
(of)g(the)g(Bo)q(olean)g(op)q(erators.)270 1243 y(If)9
b FV(S)14 b F4(and)9 b FV(T)15 b F4(are)9 b(constan)o(ts)i(declared)f
(as)f(ab)q(o)o(v)o(e,)h(then)g(the)g(meaning)d([)-7 b([)p
F0(9)7 b FV(x)12 b F4(:)c FV(S)17 b F0(\022)12 b FV(T)6
b F4(\()p FV(x)f F4(\)])-7 b(])208 1293 y(of)13 b(the)h(expression)h
F0(9)7 b FV(x)14 b F4(:)7 b FV(S)17 b F0(\022)12 b FV(T)6
b F4(\()p FV(x)f F4(\))13 b(is)h(the)h(expression)g(itself.)i
(Logicians)c(usually)g(carry)208 1343 y(things)g(further,)h(assigning)f
(some)f(meanings)g([)-7 b([)p FV(S)5 b F4(])-7 b(])12
b(and)i([)-7 b([)p FV(T)6 b F4(])-7 b(])11 b(to)i(declared)i(constan)o
(ts)f(and)208 1392 y(de\014ning)9 b([)-7 b([)p F0(9)7
b FV(x)12 b F4(:)c FV(S)17 b F0(\022)12 b FV(T)6 b F4(\()p
FV(x)f F4(\)])-7 b(])8 b(to)h(equal)g F0(9)e FV(x)13
b F4(:)8 b([)-7 b([)p FV(S)5 b F4(])-7 b(])10 b F0(\022)i
F4([)-7 b([)p FV(T)6 b F4(])-7 b(]\()p FV(x)5 b F4(\))n(.)16
b(F)m(or)9 b(simplicit)o(y)m(,)e(I)i(ha)o(v)o(e)g(short-)208
1442 y(circuited)14 b(that)g(extra)h(lev)o(el)e(of)g(meaning.)270
1492 y(W)m(e)c(are)h(taking)f(as)g(giv)o(en)h(the)g(meaning)e(of)h(an)g
(expression)i(con)o(taining)d(only)h(primitiv)o(e)208
1542 y(constan)o(t)16 b(op)q(erators)g(and)g(declared)g(constan)o(ts.)
25 b(In)15 b(particular,)h(w)o(e)g(tak)o(e)f(as)h(primitiv)o(e)208
1592 y(the)f(notion)f(of)g(v)n(alidit)o(y)f(for)h(suc)o(h)h
(expressions.)23 b(Section)15 b(16.1)e(de\014nes)j(the)g(meaning)c(of)
208 1641 y(an)o(y)j(basic)h(constan)o(t)g(expression)h(in)f(terms)f(of)
h(these)h(expressions,)g(so)f(it)g(de\014nes)h(what)208
1691 y(it)c(means)g(for)h(a)f(basic)h(constan)o(t)h(form)o(ula)c(to)j
(b)q(e)g(v)n(alid.)208 1828 y F3(16.2.2)65 b(The)22 b(Meaning)g(of)g(a)
g(State)h(F)-6 b(unction)208 1919 y F4(A)13 b FV(state)k
F4(is)c(an)h(assignmen)o(t)e(of)h(v)n(alues)h(to)f(v)n(ariables.)18
b(\(In)13 b(ZF)h(set)h(theory)m(,)e(on)h(whic)o(h)f(the)208
1969 y(seman)o(tics)k(of)g(TLA)538 1954 y FS(+)577 1969
y F4(is)h(based,)h FV(value)i F4(is)d(just)g(another)g(term)g(for)f
FV(set)p F4(.\))30 b(States)19 b(w)o(ere)208 2019 y(discussed)c(in)f
(Sections)g(2.1)f(and)h(2.3.)270 2068 y(A)j FV(state)g(function)j
F4(is)d(an)f(expression)i(that)f(is)g(built)f(from)f(declared)i(v)n
(ariables,)g(de-)208 2118 y(clared)d(constan)o(ts,)g(and)g(constan)o(t)
g(op)q(erators.)19 b(\(State)14 b(functions)g(can)g(also)f(con)o(tain)h
FP(en-)208 2168 y(abled)d F4(expressions,)i(whic)o(h)e(are)h(describ)q
(ed)g(b)q(elo)o(w.\))17 b(State)12 b(functions)f(are)g(discussed)i(on)
208 2218 y(page)h(25)g(in)h(Section)g(3.1.)k(A)c(state)h(function)e
(assigns)h(a)f(constan)o(t)i(expression)g(to)e(ev)o(ery)208
2268 y(state.)23 b(If)15 b(state)h(function)f FV(e)j
F4(assigns)e(to)f(state)h FV(s)j F4(the)d(constan)o(t)f(expression)i
FV(v)t F4(,)f(then)g(w)o(e)208 2317 y(sa)o(y)11 b(that)i
FV(v)j F4(is)c(the)h(v)n(alue)e(of)h FV(e)j F4(in)d(state)g
FV(s)s F4(.)18 b(F)m(or)12 b(example,)f(if)g FV(x)17
b F4(is)12 b(a)g(declared)h(v)n(ariable,)e FV(T)208 2367
y F4(is)j(a)g(declared)i(constan)o(t,)e(and)h FV(s)i
F4(is)e(a)f(state)h(that)g(assigns)f(to)h FV(x)k F4(the)c(v)n(alue)f
(42;)g(then)h(the)208 2417 y(v)n(alue)f(of)g FV(x)k F0(2)12
b FV(T)20 b F4(in)14 b(state)i FV(s)i F4(is)c(the)i(constan)o(t)f
(expression)h(42)c F0(2)g FV(T)6 b F4(.)20 b(A)15 b(Bo)q(olean-v)n
(alued)208 2467 y(state)f(function)g(is)f(called)h(a)f
FV(state)i(pr)n(e)n(dic)n(ate)p F4(.)i(A)d(state)g(predicate)h(is)f
FV(valid)k F4(i\013)13 b(it)g(has)h(the)208 2517 y(v)n(alue)f
FP(tr)o(ue)h F4(in)f(ev)o(ery)i(state.)p Black Black
eop
%%Page: 311 329
311 328 bop Black 208 275 a FR(16.2.)30 b(NONCONST)m(ANT)15
b(OPERA)m(TORS)983 b F4(311)p 208 282 1770 2 v Black
208 391 a FT(F)-5 b(ormal)17 b(Seman)n(tics)208 468 y
F4(A)c(state)h(is)f(an)g(assignmen)o(t)f(of)g(v)n(alues)h(to)g(v)n
(ariables.)k(F)m(ormally)m(,)10 b(a)j(state)h FV(s)i
F4(is)d(a)g(function)208 518 y(whose)i(domain)f(is)h(the)h(set)g(of)f
(all)f(v)n(ariable)g(names,)g(where)j FV(s)s F4([\\)p
FD(x)p F4(")o(])e(is)g(the)h(v)n(alue)f(that)h FV(s)208
568 y F4(assigns)e(to)f(v)n(ariable)g FV(x)5 b F4(.)18
b(W)m(e)c(write)g FV(s)s F4([)-7 b([)p FV(x)5 b F4(])-7
b(])13 b(instead)h(of)f FV(s)s F4([\\)p FD(x)p F4("].)270
617 y(A)h FV(b)n(asic)h(state)g(function)i F4(is)d(an)g(expression)h
(that)g(is)e(built)h(from)e(declared)j(v)n(ariables,)208
667 y(declared)20 b(constan)o(ts,)i(constan)o(t)e(op)q(erators,)i(and)d
FP(enabled)j F4(expressions,)g(whic)o(h)d(are)208 717
y(expressions)g(of)e(the)i(form)d FP(enabled)11 b FV(e)s
F4(.)30 b(An)18 b FP(enabled)p F4(-free)j(basic)d(state)g(function)g
(is)208 767 y(one)e(with)f(no)h FP(enabled)i F4(expressions.)25
b(The)17 b(meaning)d(of)h(a)h(basic)g(state)h(function)e(is)h(a)208
817 y(mapping)d(from)h(states)j(to)e(v)n(alues.)24 b(W)m(e)15
b(let)h FV(s)s F4([)-7 b([)p FV(e)s F4(])g(])14 b(b)q(e)j(the)f(v)n
(alue)f(that)h(state)g(function)g FV(e)208 866 y F4(assigns)e(to)h(a)f
(state)h FV(s)s F4(.)21 b(Since)15 b(a)f(v)n(ariable)g(is)g(a)g(state)i
(function,)e(w)o(e)h(th)o(us)g(sa)o(y)f(b)q(oth)h(that)208
916 y(state)g FV(s)i F4(assigns)e FV(s)s F4([)-7 b([)p
FV(x)5 b F4(])-7 b(])13 b(to)h(v)n(ariable)f FV(x)5 b
F4(,)14 b(and)g(that)g(the)h(state)g(function)f FV(x)20
b F4(assigns)14 b FV(s)s F4([)-7 b([)p FV(x)5 b F4(])-7
b(])13 b(to)208 966 y(state)h FV(s)s F4(.)270 1016 y(Using)d(the)h
(meanings)e(assigned)h(to)g(the)h(constan)o(t)g(op)q(erators)g(in)f
(Section)h(16.1)e(ab)q(o)o(v)o(e,)208 1066 y(w)o(e)16
b(inductiv)o(ely)g(de\014ne)h FV(s)s F4([)-7 b([)p FV(e)s
F4(])g(])15 b(for)h(an)o(y)h FP(enabled)p F4(-free)h(state)f(function)f
FV(e)k F4(to)c(b)q(e)h(an)f(ex-)208 1116 y(pression)f(built)e(from)f
(the)j(primitiv)o(e)d(TLA)902 1100 y FS(+)937 1116 y
F4(constan)o(t)j(op)q(erators,)f(declared)h(constan)o(ts,)208
1165 y(and)h(the)h(v)n(alues)g(assigned)g(b)o(y)f FV(s)k
F4(to)c(eac)o(h)i(v)n(ariable.)25 b(F)m(or)16 b(example,)g(if)f
FV(x)22 b F4(is)17 b(a)f(v)n(ariable)208 1215 y(and)d
FV(S)19 b F4(is)14 b(a)g(constan)o(t,)g(then)p Black
Black 332 1293 a FV(s)s F4([)-7 b([)p FV(x)21 b FQ(=)-26
b F0(2)12 b FV(S)5 b F4(])-7 b(])34 b(=)h F0(:)p F4(\()p
FV(s)s F4([)-7 b([)p FV(x)5 b F4(])-7 b(])10 b F0(2)h
FV(S)5 b F4(\))208 1371 y(It)20 b(is)g(easy)g(to)g(see)i(that)e
FV(s)s F4([)-7 b([)p FV(c)r F4(])g(])19 b(equals)h([)-7
b([)p FV(c)r F4(])g(],)20 b(for)g(an)o(y)g(constan)o(t)g(expression)i
FV(c)r F4(.)37 b(\(This)208 1421 y(expresses)16 b(formally)11
b(that)j(a)f(constan)o(t)i(has)f(the)g(same)f(v)n(alue)h(in)f(all)g
(states.\))270 1471 y(T)m(o)d(de\014ne)i(the)f(meaning)e(of)i(all)e
(basic)i(state)h(function,)f(not)g(just)g FP(enabled)p
F4(-free)i(ones,)208 1520 y(w)o(e)h(m)o(ust)f(de\014ne)h(the)h(meaning)
d(of)h(an)h FP(enabled)h F4(expression.)k(This)14 b(is)g(done)g(b)q
(elo)o(w.)270 1570 y(The)h(formal)d(seman)o(tics)j(talks)f(ab)q(out)h
(state)g(functions,)g(not)g(state)g(predicates.)22 b(Be-)208
1620 y(cause)14 b(TLA)405 1605 y FS(+)439 1620 y F4(is)f(t)o(yp)q
(eless,)h(there)g(is)g(no)f(formal)d(distinction)j(b)q(et)o(w)o(een)i
(a)e(state)h(predicate)208 1670 y(and)d(a)h(state)h(function.)k(By)12
b(a)g(state)h(predicate,)g(w)o(e)f(mean)f(a)g(state)i(function)f
FV(e)j F4(suc)o(h)e(that)208 1720 y FV(s)s F4([)-7 b([)p
FV(e)s F4(])g(])11 b(is)i(Bo)q(olean-v)n(alued)f(for)h(ev)o(ery)h(reac)
o(hable)f(state)h FV(s)i F4(of)d(some)f(sp)q(eci\014cation.)18
b(See)c(the)208 1769 y(discussion)g(of)f(actions)h(on)g(pages)g
(313{314.)270 1819 y(I)g(describ)q(ed)j(the)e(meaning)d(of)i(a)g(state)
i(function)e(as)h(a)f(\\mapping")e(on)i(states.)21 b(This)208
1869 y(mapping)14 b(cannot)j(b)q(e)g(a)f(function,)h(b)q(ecause)h
(there)g(is)f(no)f(set)i(of)e(all)f(states.)28 b(Since)17
b(for)208 1919 y(an)o(y)11 b(set)j FV(S)j F4(there)d(is)e(a)g(state)h
(that)f(assigns)h(the)g(v)n(alue)e FV(S)18 b F4(to)12
b(eac)o(h)h(v)n(ariable,)e(there)i(are)g(to)q(o)208 1969
y(man)o(y)e(states)j(to)e(form)g(a)g(set.)19 b(\(See)14
b(the)f(discussion)h(of)e(Russell's)h(parado)o(x)f(on)h(page)g(66.\))
208 2019 y(T)m(o)f(b)q(e)i(formal,)d(w)o(e)j(should)f(de\014ne)i(an)e
(op)q(erator)h FV(M)20 b F4(suc)o(h)15 b(that,)e(if)f
FV(s)17 b F4(is)d(a)f(state)h(and)f FV(e)k F4(is)208
2068 y(a)d(syn)o(tactically)h(correct)i(basic)e(state)h(function,)f
(then)g FV(M)7 b F4(\()p FV(s)s FQ(;)g FV(e)s F4(\),)16
b(whic)o(h)f(w)o(e)g(write)g FV(s)s F4([)-7 b([)p FV(e)s
F4(])g(],)208 2118 y(is)13 b(the)i(basic)f(constan)o(t)g(expression)h
(that)f(is)g(the)g(meaning)f(of)g FV(e)k F4(in)c(state)i
FV(s)s F4(.)270 2168 y(Actually)m(,)g(this)h(w)o(a)o(y)f(of)g
(describing)i(the)g(seman)o(tics)e(isn't)h(righ)o(t)f(either.)25
b(A)16 b(state)h(is)208 2218 y(a)f(mapping)g(from)f(v)n(ariables)h(to)i
(v)n(alues)f(\(sets\),)i(not)e(to)g(constan)o(t)h(expressions.)29
b(Since)208 2268 y(there)15 b(are)g(an)f(uncoun)o(table)h(n)o(um)o(b)q
(er)e(of)h(sets)i(and)e(only)g(a)g(coun)o(table)g(n)o(um)o(b)q(er)g(of)
g(\014nite)208 2317 y(sequences)h(of)e(strings,)g(there)h(are)g(v)n
(alues)e(that)h(can't)g(b)q(e)h(describ)q(ed)h(b)o(y)e(an)o(y)f
(expression.)208 2367 y(Supp)q(ose)k FQ(\030)i F4(is)e(suc)o(h)g(a)g(v)
n(alue,)f(and)h(let)g FV(s)j F4(b)q(e)d(a)g(state)g(that)g(assigns)g
(the)h(v)n(alue)e FQ(\030)j F4(to)d(the)208 2417 y(v)n(ariable)h
FV(x)5 b F4(.)28 b(Then)18 b FV(s)s F4([)-7 b([)p FV(x)22
b F4(=)c F0(fg)p F4(])-7 b(])15 b(equals)j FQ(\030)h
F4(=)f F0(fg)p F4(,)f(whic)o(h)g(isn't)g(a)g(constan)o(t)h(expression)
208 2467 y(b)q(ecause)c FQ(\030)h F4(isn't)d(an)g(expression.)19
b(So,)12 b(to)h(b)q(e)g FV(r)n(e)n(al)r(ly)i F4(formal,)10
b(w)o(e)j(w)o(ould)f(ha)o(v)o(e)g(to)h(de\014ne)g(a)208
2517 y(seman)o(tic)e(constan)o(t)h(expression)h(to)f(b)q(e)g(one)g
(made)f(from)f(primitiv)o(e)g(constan)o(t)i(op)q(erators,)p
Black Black eop
%%Page: 312 330
312 329 bop Black 208 275 a F4(312)837 b FR(CHAPTER)14
b(16.)32 b(THE)14 b(OPERA)m(TORS)f(OF)i(TLA)1957 260
y FS(+)p 208 282 1770 2 v Black 208 391 a F4(declared)f(constan)o(ts,)g
(and)f(arbitrary)g(v)n(alues.)18 b(The)13 b(meaning)f(of)h(a)g(basic)g
(state)h(function)208 441 y(is)f(a)h(mapping)e(from)g(states)j(to)e
(seman)o(tic)h(constan)o(t)g(expressions.)270 491 y(W)m(e)e(w)o(on't)f
(b)q(other)i(with)f(these)i(details.)j(Instead,)c(w)o(e)f(de\014ne)h(a)
f(semi-formal)d(seman-)208 541 y(tics)16 b(for)f(basic)h(expressions)i
(that)e(is)g(easier)g(to)g(understand.)25 b(Mathematically)14
b(sophis-)208 591 y(ticated)g(readers)i(who)e(understand)h(the)f(less)h
(formal)d(exp)q(osition)i(should)f(b)q(e)i(able)f(to)g(\014ll)208
640 y(in)f(the)h(missing)f(formal)e(details.)208 778
y F3(16.2.3)65 b(Action)23 b(Op)r(erators)208 869 y F4(A)12
b FV(tr)n(ansition)h(function)j F4(is)c(an)g(expression)i(built)d(from)
g(state)i(functions)g(using)f(the)h(prim-)208 918 y(ing)k(op)q(erator)h
(\()468 903 y FH(0)480 918 y F4(\))g(and)f(the)h(other)h(action)e(op)q
(erators)i(of)e(TLA)1240 903 y FS(+)1279 918 y F4(listed)g(in)h(T)m
(able)f(3)g(on)208 968 y(page)f(269.)25 b(A)16 b(transition)g(function)
g(assigns)h(a)f(v)n(alue)g(to)g(ev)o(ery)h(step,)h(where)f(a)g(step)g
(is)208 1018 y(a)d(pair)g(of)g(states.)22 b(In)14 b(a)h(transition)f
(function,)g(an)g(unprimed)g(o)q(ccurrence)k(of)c(a)g(v)n(ariable)208
1068 y FV(x)20 b F4(represen)o(ts)e(the)e(v)n(alue)f(of)g
FV(x)21 b F4(in)15 b(the)h(\014rst)g(\(old\))f(state,)h(and)g(a)f
(primed)f(o)q(ccurrence)k(of)208 1118 y FV(x)h F4(represen)o(ts)e(its)d
(v)n(alue)f(in)h(the)g(second)h(\(new\))g(state.)k(F)m(or)14
b(example,)e(if)h(state)i FV(s)j F4(assigns)208 1167
y(the)12 b(v)n(alue)f(4)h(to)f FV(x)17 b F4(and)12 b(state)h
FV(t)i F4(assigns)d(the)h(v)n(alue)e(5)g(to)h FV(x)5
b F4(,)12 b(then)g(the)h(transition)e(function)208 1217
y FV(x)232 1202 y FH(0)254 1217 y F0(\000)h FV(x)21 b
F4(assigns)c(to)f(the)h(step)h FV(s)h F0(!)c FV(t)20
b F4(the)d(v)n(alue)f(5)11 b F0(\000)g F4(4,)16 b(whic)o(h)g(equals)h
(1)f(\(if)g F0(\000)g F4(has)h(its)208 1267 y(usual)c(de\014nition\).)
270 1317 y(An)j FV(action)j F4(is)c(a)h(Bo)q(olean-v)n(alued)f
(transition)g(function,)g(suc)o(h)i(as)f FV(x)1382 1302
y FH(0)1408 1317 y FQ(>)f FV(x)5 b F4(.)24 b(W)m(e)15
b(sa)o(y)208 1367 y(that)e(action)f FV(A)h F4(is)g(true)h(on)f(step)h
FV(s)g F0(!)d FV(t)t F4(,)i(or)g(that)g FV(s)i F0(!)c
FV(t)16 b F4(is)d(an)g FV(A)g F4(step,)h(i\013)e FV(A)h
F4(assigns)g(the)208 1417 y(v)n(alue)g FP(tr)o(ue)h F4(to)g
FV(s)h F0(!)c FV(t)t F4(.)17 b(An)d(action)g(is)g(said)f(to)h(b)q(e)g
FV(valid)k F4(i\013)c(it)f(is)h(true)h(on)f(an)o(y)f(step.)270
1466 y(The)20 b(action)f(op)q(erators)h(of)f(TLA)820
1451 y FS(+)860 1466 y F4(other)h(than)1076 1451 y FH(0)1107
1466 y F4(ha)o(v)o(e)f(the)h(follo)o(wing)d(meanings,)208
1516 y(where)e FV(A)e F4(and)h FV(B)k F4(are)d(actions)f(and)f
FV(e)k F4(is)d(a)g(state)g(function:)p Black 270 1599
a([)p FV(A)p F4(])325 1605 y FJ(e)p Black 382 1576 a
FI(\001)378 1599 y F4(=)32 b FV(A)9 b F0(_)g F4(\()p
FV(e)557 1584 y FH(0)581 1599 y F4(=)j FV(e)s F4(\))p
Black 270 1689 a F0(h)p FV(A)p F0(i)333 1695 y FJ(e)p
Black 382 1665 a FI(\001)378 1689 y F4(=)32 b FV(A)9
b F0(^)g F4(\()p FV(e)557 1674 y FH(0)581 1689 y F0(6)p
F4(=)j FV(e)s F4(\))p Black 270 1772 a FP(enabled)f FV(A)p
Black 20 w F4(is)h(the)h(state)g(function)f(that)g(is)g(true)h(in)f
(state)h FV(s)i F4(i\013)d(there)i(is)e(some)f(state)385
1822 y FV(t)17 b F4(suc)o(h)e(that)f FV(s)h F0(!)c FV(t)18
b F4(is)13 b(an)h FV(A)g F4(step.)p Black 270 1909 a
FP(unchanged)j FV(e)p Black 572 1885 a FI(\001)568 1909
y F4(=)32 b FV(e)654 1894 y FH(0)677 1909 y F4(=)12 b
FV(e)p Black 270 1992 a(A)d F0(\001)g FV(B)p Black 25
w F4(is)14 b(the)g(action)f(that)h(is)g(true)h(on)e(step)i
FV(s)g F0(!)c FV(t)18 b F4(i\013)13 b(there)i(is)f(a)f(state)i
FV(u)i F4(suc)o(h)e(that)385 2042 y FV(s)g F0(!)c FV(u)17
b F4(is)d(an)g FV(A)f F4(step)i(and)f FV(u)h F0(!)c FV(t)17
b F4(is)d(a)g FV(B)k F4(step.)208 2125 y(Priming)e(and)j(the)h
(construct)h([)p FV(A)p F4(])778 2131 y FJ(v)816 2125
y F4(are)f(in)o(tro)q(duced)g(in)e(Section)h(2.2)f(\(page)i(15\);)g
(the)208 2174 y FP(unchanged)d F4(op)q(erator)g(is)f(in)o(tro)q(duced)g
(on)g(page)g(26)g(of)f(Section)h(3.1;)g FP(enabled)i
F4(is)d(in-)208 2224 y(tro)q(duced)g(on)e(page)h(97)f(of)g(Section)h
(8.4;)e(the)i(construct)h F0(h)s FV(A)s F0(i)1183 2230
y FJ(v)1219 2224 y F4(is)f(de\014ned)g(on)g(page)f(91)g(of)208
2274 y(Section)f(8.1;)e(and)i(the)g(action-comp)q(osition)d(op)q
(erator)j(\\)p F0(\001)p F4(")f(is)g(in)o(tro)q(duced)i(in)e(Section)h
(7.3)208 2324 y(\(page)i(76\).)p Black Black eop
%%Page: 313 331
313 330 bop Black 208 275 a FR(16.2.)30 b(NONCONST)m(ANT)15
b(OPERA)m(TORS)983 b F4(313)p 208 282 1770 2 v Black
208 391 a FT(F)-5 b(ormal)17 b(Seman)n(tics)208 468 y
F4(A)c FV(b)n(asic)h(tr)n(ansition)g(function)j F4(is)c(a)g(basic)g
(expression)h(that)f(do)q(es)h(not)f(con)o(tain)g(an)o(y)g(tem-)208
518 y(p)q(oral)g(op)q(erators.)21 b(The)14 b(meaning)f(of)h(a)g(basic)g
(transition)g(function)g FV(e)k F4(is)c(an)g(assignmen)o(t)208
568 y(of)d(a)h(basic)h(constan)o(t)g(expression)g F0(h)s
FV(s)s FQ(;)7 b FV(t)h F0(i)p F4([)-7 b([)p FV(e)s F4(])g(])11
b(to)h(an)o(y)g(pair)g(of)g(states)h F0(h)s FV(s)s FQ(;)7
b FV(t)h F0(i)p F4(.)17 b(\(W)m(e)12 b(use)i(here)208
617 y(the)i(more)e(con)o(v)o(en)o(tional)h(notation)f
F0(h)s FV(s)s FQ(;)7 b FV(t)h F0(i)16 b F4(instead)f(of)g
FV(s)j F0(!)c FV(t)t F4(.\))22 b(A)16 b(transition)f(function)208
667 y(is)e(v)n(alid)g(i\013)g F0(h)s FV(s)s FQ(;)7 b
FV(t)h F0(i)p F4([)-7 b([)p FV(e)s F4(])g(])12 b(is)i(v)n(alid,)e(for)h
(all)g(states)i FV(s)i F4(and)d FV(t)t F4(.)270 717 y(If)c
FV(e)k F4(is)c(a)g(basic)h(state)g(function,)g(then)g(w)o(e)g(in)o
(terpret)h FV(e)h F4(as)e(a)f(basic)h(transition)f(function)208
767 y(b)o(y)17 b(de\014ning)g F0(h)s FV(s)s FQ(;)7 b
FV(t)g F0(i)p F4([)-7 b([)p FV(e)s F4(])g(])16 b(to)h(equal)g
FV(s)s F4([)-7 b([)p FV(e)s F4(])g(].)27 b(As)18 b(indicated)f(ab)q(o)o
(v)o(e,)g FP(unchanged)i F4(and)e(the)208 817 y(constructs)12
b([)p FV(A)p F4(])458 823 y FJ(e)486 817 y F4(and)e F0(h)s
FV(A)s F0(i)632 823 y FJ(e)663 817 y F4(are)h(de\014ned)g(in)e(terms)h
(of)f(priming.)15 b(T)m(o)9 b(de\014ne)i(the)f(meanings)208
866 y(of)j(the)i(remaining)d(action)i(op)q(erators,)g(w)o(e)h(\014rst)g
(de\014ne)g(existen)o(tial)f(quan)o(ti\014cation)f(o)o(v)o(er)208
916 y(all)h(states.)26 b(Let)16 b FV(IsAState)j F4(b)q(e)e(an)e(op)q
(erator)i(suc)o(h)f(that)g FV(IsAState)s F4(\()p FV(s)s
F4(\))h(is)f(true)h(i\013)e FV(s)k F4(is)d(a)208 966
y(state|that)10 b(is,)g(a)g(function)g(whose)h(domain)c(is)j(the)h(set)
g(of)e(all)g(v)n(ariable)g(names.)16 b(\(It's)10 b(easy)208
1016 y(to)i(de\014ne)h FV(IsAState)j F4(using)c(the)h(op)q(erator)g
FV(IsAFcn)s F4(,)g(de\014ned)h(on)e(page)g(303.\))17
b(Existen)o(tial)208 1066 y(quan)o(ti\014cation)12 b(o)o(v)o(er)i(all)f
(states)i(is)f(then)g(de\014ned)h(b)o(y)p Black Black
332 1138 a F0(9)362 1144 y FS(state)441 1138 y FV(s)22
b F4(:)c FV(p)573 1114 y FI(\001)569 1138 y F4(=)35 b
F0(9)7 b FV(s)21 b F4(:)d FV(IsAState)s F4(\()p FV(s)s
F4(\))10 b F0(^)f FV(p)208 1206 y F4(for)g(an)o(y)f(form)o(ula)f
FV(p)s F4(.)17 b(The)9 b(meanings)f(of)h(all)f(transition)h(functions)g
(and)h(all)e(state)i(functions)208 1256 y(\(including)15
b FP(enabled)j F4(expressions\))f(is)f(then)g(de\014ned)h(inductiv)o
(ely)f(b)o(y)f(the)i(de\014nitions)208 1305 y(already)c(giv)o(en)h(and)
f(the)i(follo)o(wing)c(de\014nitions)j(of)f(the)i(remaining)c(action)j
(op)q(erators:)p Black 270 1377 a FV(e)292 1362 y FH(0)p
Black 385 1377 a F4(is)g(the)i(transition)e(function)g(de\014ned)i(b)o
(y)f F0(h)s FV(s)s FQ(;)7 b FV(t)g F0(i)p F4([)-7 b([)p
FV(e)1190 1362 y FH(0)1202 1377 y F4(])g(])1261 1354
y FI(\001)1256 1377 y F4(=)40 b FV(t)t F4([)-7 b([)p
FV(e)s F4(])g(])12 b(for)j(an)o(y)f(state)385 1427 y(function)f
FV(e)s F4(.)p Black 270 1503 a FP(enabled)e FV(A)p Black
20 w F4(is)j(the)g(state)h(function)f(de\014ned)h(b)o(y)p
Black Black 509 1570 a FV(s)s F4([)-7 b([)p FP(enabled)11
b FV(A)p F4(])-7 b(])810 1546 y FI(\001)805 1570 y F4(=)35
b F0(9)902 1576 y FS(state)982 1570 y FV(t)11 b F4(:)d
F0(h)s FV(s)s FQ(;)f FV(t)h F0(i)p F4([)-7 b([)p FV(A)p
F4(])g(])385 1632 y(for)13 b(an)o(y)h(transition)f(function)h
FV(A)p F4(.)p Black 270 1708 a FV(A)9 b F0(\001)g FV(B)p
Black 25 w F4(is)14 b(the)g(transition)g(function)f(de\014ned)i(b)o(y)p
Black Black 509 1774 a F0(h)s FV(s)s FQ(;)7 b FV(t)h
F0(i)p F4([)-7 b([)p FV(A)8 b F0(\001)h FV(B)t F4(])-7
b(])771 1751 y FI(\001)766 1774 y F4(=)35 b F0(9)863
1780 y FS(state)943 1774 y FV(u)11 b F4(:)d F0(h)s FV(s)s
FQ(;)f FV(u)g F0(i)p F4([)-7 b([)p FV(A)p F4(])g(])8
b F0(^)h(h)s FV(u)s FQ(;)e FV(t)g F0(i)p F4([)-7 b([)p
FV(B)t F4(])g(])385 1837 y(for)13 b(an)o(y)h(transition)f(functions)h
FV(A)g F4(and)g FV(B)t F4(.)208 1905 y(The)f(formal)d(seman)o(tics)i
(talks)g(ab)q(out)g(transition)h(functions,)f(not)h(actions.)k(Since)c
(TLA)1625 1890 y FS(+)208 1955 y F4(is)k(t)o(yp)q(eless,)i(there)g(is)e
(no)g(formal)e(distinction)i(b)q(et)o(w)o(een)i(an)e(action)g(and)h(an)
f(arbitrary)208 2005 y(transition)10 b(function.)17 b(W)m(e)11
b(could)g(de\014ne)h(an)f(action)g FV(A)g F4(to)h(b)q(e)f(a)g
(transition)g(function)g(suc)o(h)208 2054 y(that)f F0(h)s
FV(s)s FQ(;)d FV(t)h F0(i)p F4([)-7 b([)p FV(A)p F4(])g(])9
b(is)h(a)h(Bo)q(olean)f(for)h(all)e(states)j FV(s)i F4(and)d
FV(t)t F4(.)16 b(Ho)o(w)o(ev)o(er,)c(what)e(w)o(e)h(usually)f(mean)208
2104 y(b)o(y)h(an)g(action)g(is)g(a)g(transition)g(function)g
FV(A)g F4(suc)o(h)h(that)g F0(h)s FV(s)s FQ(;)7 b FV(t)g
F0(i)p F4([)-7 b([)p FV(A)p F4(])g(])10 b(is)h(a)g(Bo)q(olean)g(whenev)
o(er)208 2154 y FV(s)18 b F4(and)c FV(t)k F4(are)d(reac)o(hable)h
(states)g(of)e(some)f(sp)q(eci\014cation.)21 b(F)m(or)15
b(example,)e(a)h(sp)q(eci\014cation)208 2204 y(with)i(a)h(v)n(ariable)e
FV(b)20 b F4(of)c(t)o(yp)q(e)h FP(boolean)i F4(migh)o(t)c(con)o(tain)i
(an)f(action)h FV(b)12 b F0(^)c F4(\()p FV(y)1442 2189
y FH(0)1466 2204 y F4(=)j FV(y)t F4(\).)27 b(W)m(e)p
.95 TeXcolorgray .95 TeXcolorgray 1679 2298 307 125 v
.95 TeXcolorgray Black Black 41 w FZ(T)o(yp)q(es)11 b(are)g(ex-)1687
2243 y(plained)f(on)1687 2283 y(page)h(25.)p Black .95
TeXcolorgray Black 208 2254 a F4(can)j(calculate)g(the)g(meaning)e(of)h
FP(enabled)e F4(\()p FV(b)h F0(^)d F4(\()p FV(y)1043
2239 y FH(0)1066 2254 y F4(=)j FV(y)t F4(\)\))i(as)g(follo)o(ws:)p
Black Black 332 2322 a FV(s)s F4([)-7 b([)p FP(enabled)10
b F4(\()p FV(b)i F0(^)d F4(\()p FV(y)670 2307 y FH(0)693
2322 y F4(=)j FV(y)t F4(\)\)])-7 b(])415 2371 y(=)35
b F0(9)512 2377 y FS(state)591 2371 y FV(t)23 b F4(:)18
b F0(h)s FV(s)s FQ(;)7 b FV(t)g F0(i)p F4([)-7 b([)p
FV(b)11 b F0(^)e F4(\()p FV(y)877 2356 y FH(0)900 2371
y F4(=)j FV(y)t F4(\)])-7 b(])p .95 TeXcolorgray .95
TeXcolorgray 1292 2392 417 57 v .95 TeXcolorgray Black
299 w FZ(By)12 b(de\014nition)c(of)14 b Fu(enabled)p
FZ(.)p .95 TeXcolorgray Black 415 2433 a F4(=)35 b F0(9)512
2439 y FS(state)591 2433 y FV(t)23 b F4(:)18 b F0(h)s
FV(s)s FQ(;)7 b FV(t)g F0(i)p F4([)-7 b([)p FV(b)s F4(])g(])8
b F0(^)g F4(\()p F0(h)s FV(s)s FQ(;)f FV(t)h F0(i)p F4([)-7
b([)p FV(y)1006 2418 y FH(0)1017 2433 y F4(])g(])11 b(=)g
F0(h)s FV(s)s FQ(;)c FV(t)h F0(i)p F4([)-7 b([)p FV(y)t
F4(])g(]\))p .95 TeXcolorgray .95 TeXcolorgray 1292 2453
411 57 v .95 TeXcolorgray Black 42 w FZ(By)12 b(de\014nition)c(of)k
FW(^)f FZ(and)g(=.)p .95 TeXcolorgray Black 415 2494
a F4(=)35 b F0(9)512 2500 y FS(state)591 2494 y FV(t)23
b F4(:)18 b FV(s)s F4([)-7 b([)p FV(b)s F4(])g(])7 b
F0(^)i F4(\()p FV(t)t F4([)-7 b([)p FV(y)t F4(])g(])10
b(=)h FV(s)s F4([)-7 b([)p FV(y)t F4(])g(]\))p .95 TeXcolorgray
.95 TeXcolorgray 1292 2554 637 96 v .95 TeXcolorgray
Black 283 w FZ(By)12 b(de\014nition)c(of)1553 2483 y
FX(0)1564 2494 y FZ(,)j(since)g FW(h)s FY(s)s Fw(;)t
FY(t)6 b FW(i)p FZ([)-6 b([)p FY(e)r FZ(])g(])10 b(=)g
FY(s)s FZ([)-6 b([)p FY(e)r FZ(])g(],)1300 2534 y(for)11
b(an)o(y)g(state)f(function)f FY(e)r FZ(.)p .95 TeXcolorgray
Black Black Black eop
%%Page: 314 332
314 331 bop Black 208 275 a F4(314)837 b FR(CHAPTER)14
b(16.)32 b(THE)14 b(OPERA)m(TORS)f(OF)i(TLA)1957 260
y FS(+)p 208 282 1770 2 v Black 208 391 a F4(If)e FV(s)s
F4([)-7 b([)p FV(b)s F4(])g(])12 b(is)i(a)g(Bo)q(olean,)f(w)o(e)h(can)g
(no)o(w)g(con)o(tin)o(ue)g(the)g(calculation)f(as)h(follo)o(ws:)p
Black Black 332 474 a F0(9)362 480 y FS(state)441 474
y FV(t)23 b F4(:)18 b FV(s)s F4([)-7 b([)p FV(b)s F4(])g(])7
b F0(^)i F4(\()p FV(t)t F4([)-7 b([)p FV(y)t F4(])g(])10
b(=)h FV(s)s F4([)-7 b([)p FV(y)t F4(])g(]\))415 535
y(=)35 b FV(s)s F4([)-7 b([)p FV(b)s F4(])g(])15 b F0(^)g(9)646
541 y FS(state)726 535 y FV(t)22 b F4(:)c(\()p FV(t)t
F4([)-7 b([)p FV(y)t F4(])g(])9 b(=)j FV(s)s F4([)-7
b([)p FV(y)t F4(])g(]\))p .95 TeXcolorgray .95 TeXcolorgray
1055 555 782 57 v .95 TeXcolorgray Black 32 w FZ(By)12
b(predicate)d(logic,)h(since)g FY(t)15 b FZ(do)q(es)10
b(not)h(o)q(ccur)f(in)h FY(s)s FZ([)-6 b([)p FY(b)r FZ(])g(].)p
.95 TeXcolorgray Black 415 596 a F4(=)35 b FV(s)s F4([)-7
b([)p FV(b)s F4(])g(])p .95 TeXcolorgray .95 TeXcolorgray
1055 617 902 57 v .95 TeXcolorgray Black 505 w FZ(The)12
b(existence)d(of)i FY(t)k FZ(is)c(ob)o(vious|for)e(example,)g(let)i(it)
h(equal)e FY(s)s FZ(.)p .95 TeXcolorgray Black 208 679
a F4(Hence,)15 b FV(s)s F4([)-7 b([)p FP(enabled)10 b
F4(\()p FV(b)i F0(^)d F4(\()p FV(y)681 664 y FH(0)705
679 y F4(=)j FV(y)t F4(\)\)])-7 b(])14 b(equals)g FV(s)s
F4([)-7 b([)p FV(b)s F4(])g(],)12 b(if)h FV(s)s F4([)-7
b([)p FV(b)s F4(])g(])13 b(is)h(a)g(Bo)q(olean.)k(Ho)o(w)o(ev)o(er,)d
(if)208 729 y FV(s)k F4(is)c(a)h(state)h(that)f(assigns)g(the)g(v)n
(alue)f(2)h(to)g(the)g(v)n(ariable)f FV(b)j F4(and)e(the)g(v)n(alue)g
F0(\000)p F4(7)g(to)f(the)208 779 y(v)n(ariable)d FV(y)t
F4(,)i(then)p Black Black 332 861 a FV(s)s F4([)-7 b([)p
FP(enabled)10 b F4(\()p FV(b)i F0(^)d F4(\()p FV(y)670
844 y FH(0)693 861 y F4(=)j FV(y)t F4(\)\)])-7 b(])23
b(=)g F0(9)918 867 y FS(state)997 861 y FV(t)f F4(:)c(2)9
b F0(^)g F4(\()p FV(t)t F4([)-7 b([)p FV(y)t F4(])g(])10
b(=)i F0(\000)p F4(7\))208 943 y(The)19 b(last)g(expression)i(ma)o(y)c
(or)i(ma)o(y)f(not)h(equal)g(2.)34 b(\(See)20 b(the)g(discussion)g(of)f
(the)g(in-)208 993 y(terpretation)g(of)g(the)g(Bo)q(olean)g(op)q
(erators)h(in)e(Section)h(16.1.3)e(on)i(page)f(296.\))33
b(If)18 b(the)208 1043 y(sp)q(eci\014cation)k(w)o(e)g(are)g(writing)f
(mak)o(es)f(sense,)25 b(it)c(can)h(dep)q(end)h(on)e(the)i(meaning)c(of)
208 1093 y FP(enabled)10 b F4(\()p FV(b)i F0(^)d F4(\()p
FV(y)509 1078 y FH(0)532 1093 y F4(=)j FV(y)t F4(\)\))20
b(only)e(for)h(states)h(in)f(whic)o(h)g(the)h(v)n(alue)f(of)f
FV(b)k F4(is)e(a)f(Bo)q(olean.)208 1143 y(W)m(e)12 b(don't)g(care)i(ab)
q(out)f(its)g(v)n(alue)f(in)g(a)h(state)h(that)e(assigns)h(to)g
FV(b)j F4(the)d(v)n(alue)f(2,)h(just)g(as)g(w)o(e)208
1192 y(don't)h(care)j(ab)q(out)e(the)h(v)n(alue)e(of)h(3)p
FQ(=)p FV(x)20 b F4(in)15 b(a)g(state)h(that)f(assigns)h(the)g(v)n
(alue)e(\\)p FD(ab)q(c)p F4(")i(to)f FV(x)5 b F4(.)208
1242 y(See)14 b(the)h(discussion)f(of)g(silly)e(expressions)k(in)d
(Section)h(6.2)f(\(page)h(67\).)208 1379 y F3(16.2.4)65
b(T)-6 b(emp)r(oral)23 b(Op)r(erators)208 1470 y F4(As)12
b(explained)f(in)h(Section)g(8.1,)f(a)g(temp)q(oral)g(form)o(ula)e
FV(F)18 b F4(is)11 b(true)i(or)f(false)g(for)f(a)h(b)q(eha)o(vior,)208
1520 y(where)17 b(a)f(b)q(eha)o(vior)h(is)f(a)g(sequence)j(of)d
(states.)27 b(Syn)o(tactically)m(,)15 b(a)h(temp)q(oral)f(form)o(ula)f
(is)208 1570 y(de\014ned)g(inductiv)o(ely)f(to)g(b)q(e)h(a)f(state)h
(predicate)g(or)f(a)g(form)o(ula)e(ha)o(ving)h(one)i(of)e(the)i(forms)
208 1620 y(sho)o(wn)19 b(in)h(T)m(able)f(4)h(on)f(page)h(269,)g(where)h
FV(e)i F4(is)d(a)f(state)i(function,)g FV(A)e F4(is)h(an)g(action,)208
1669 y(and)e FV(F)24 b F4(and)18 b FV(G)k F4(are)d(temp)q(oral)e(form)o
(ulas.)29 b(All)17 b(the)i(temp)q(oral)e(op)q(erators)j(in)e(T)m(able)f
(4)208 1719 y(are)f(explained)h(in)f(Chapter)h(8|except)g(for)950
1699 y FI(+)944 1719 y F0(\000)-7 b FQ(.)q F4(,)16 b(whic)o(h)h(is)f
(explained)g(in)g(Section)h(10.7)208 1769 y(\(page)d(156\).)270
1819 y(The)h(form)o(ula)d FG(2)p FV(F)20 b F4(is)15 b(true)h(for)e(a)g
(b)q(eha)o(vior)h FQ(\033)h F4(i\013)e(the)i(temp)q(oral)d(form)o(ula)f
FV(F)20 b F4(is)15 b(true)208 1869 y(for)c FQ(\033)j
F4(and)d(all)g(su\016xes)i(of)f FQ(\033)q F4(.)17 b(T)m(o)11
b(de\014ne)j(the)e(constructs)i FG(2)p F4([)p FV(A)p
F4(])1214 1875 y FJ(e)1245 1869 y F4(and)e FG(3)p F0(h)s
FV(A)s F0(i)1426 1875 y FJ(e)1447 1869 y F4(,)g(w)o(e)g(regard)208
1919 y(an)j(action)h FV(B)k F4(to)c(b)q(e)h(a)e(temp)q(oral)g(form)o
(ula)e(that)j(is)g(true)h(of)e(a)h(b)q(eha)o(vior)g FQ(\033)h
F4(i\013)f(the)g(\014rst)208 1968 y(t)o(w)o(o)d(states)i(of)e
FQ(\033)i F4(form)d(a)h FV(B)18 b F4(step.)h(Th)o(us,)14
b FG(2)p F4([)p FV(A)p F4(])976 1974 y FJ(e)1008 1968
y F4(is)g(true)g(of)g FQ(\033)g F4(i\013)g(ev)o(ery)g(successiv)o(e)i
(pair)208 2018 y(of)e(states)h(of)g FQ(\033)g F4(is)g(a)f([)p
FV(A)p F4(])595 2024 y FJ(e)629 2018 y F4(step.)21 b(All)14
b(the)h(other)g(temp)q(oral)f(op)q(erators)h(of)f(TLA)1482
2003 y FS(+)1503 2018 y F4(,)g(except)208 2066 y F0(9)-21
b(9)g(9)208 2068 y(9)g(9)g(9)6 b F4(,)266 2066 y F0(8)-21
b(8)g(8)266 2068 y(8)g(8)g(8)6 b F4(,)14 b(and)411 2048
y FI(+)405 2068 y F0(\000)-7 b FQ(.)q F4(,)13 b(are)h(de\014ned)h(as)f
(follo)o(ws)f(in)g(terms)h(of)f FG(2)p F4(:)p Black Black
332 2154 a FG(3)p FV(F)513 2131 y FI(\001)508 2154 y
F4(=)23 b F0(:)p FG(2)p F0(:)p FV(F)332 2215 y F4(WF)402
2221 y FJ(e)422 2215 y F4(\()p FV(A)p F4(\))513 2191
y FI(\001)508 2215 y F4(=)g FG(23)p F0(:)p F4(\()p FP(enabled)11
b F0(h)s FV(A)s F0(i)918 2221 y FJ(e)939 2215 y F4(\))e
F0(_)g FG(23)p F0(h)s FV(A)s F0(i)1134 2221 y FJ(e)332
2275 y F4(SF)382 2281 y FJ(e)402 2275 y F4(\()p FV(A)p
F4(\))513 2251 y FI(\001)508 2275 y F4(=)23 b FG(32)p
F0(:)p F4(\()p FP(enabled)11 b F0(h)s FV(A)s F0(i)918
2281 y FJ(e)939 2275 y F4(\))e F0(_)g FG(23)p F0(h)s
FV(A)s F0(i)1134 2281 y FJ(e)332 2335 y FV(F)17 b FG(;)11
b FV(G)513 2311 y FI(\001)508 2335 y F4(=)23 b FG(2)p
F4(\()p FV(F)18 b F0(\))11 b FG(3)p FV(G)t F4(\))270
2417 y(The)16 b(temp)q(oral)e(existen)o(tial)h(quan)o(ti\014er)923
2415 y F0(9)-21 b(9)g(9)923 2417 y(9)g(9)g(9)22 b F4(is)15
b(a)g(hiding)g(op)q(erator,)1361 2415 y F0(9)-21 b(9)g(9)1361
2417 y(9)g(9)g(9)6 b FV(x)13 b F4(:)8 b FV(F)21 b F4(meaning)208
2467 y(form)o(ula)14 b FV(F)23 b F4(with)17 b(the)h(v)n(ariable)e
FV(x)22 b F4(hidden.)28 b(T)m(o)17 b(de\014ne)h(this)f(more)g
(precisely)m(,)h(w)o(e)f(\014rst)208 2517 y(de\014ne)i
FQ(\\\033)h F4(to)e(b)q(e)h(the)g(\(p)q(ossibly)f(\014nite\))h
(sequence)i(of)d(states)h(obtained)g(b)o(y)f(remo)o(ving)p
Black Black eop
%%Page: 315 333
315 332 bop Black 208 275 a FR(16.2.)30 b(NONCONST)m(ANT)15
b(OPERA)m(TORS)983 b F4(315)p 208 282 1770 2 v Black
208 391 a(from)13 b FQ(\033)j F4(all)d(stuttering)j(steps|that)g(is,)f
(b)o(y)f(remo)o(ving)f(an)o(y)i(state)h(that)e(is)h(the)h(same)e(as)208
441 y(the)i(previous)g(one.)24 b(W)m(e)16 b(then)g(de\014ne)h
FQ(\033)8 b F0(\030)896 447 y FJ(x)925 441 y FQ(\034)21
b F4(to)16 b(b)q(e)g(true)h(i\013)e FQ(\\\033)j F4(and)d
FQ(\\\034)21 b F4(are)16 b(the)h(same)208 491 y(except)i(for)e(the)i(v)
n(alues)e(that)h(their)h(states)g(assign)e(to)h(the)g(v)n(ariable)f
FV(x)5 b F4(.)30 b(Th)o(us,)19 b FQ(\033)8 b F0(\030)1594
497 y FJ(x)1623 491 y FQ(\034)208 541 y F4(is)14 b(true)h(i\013)g
FQ(\033)h F4(can)e(b)q(e)i(obtained)e(from)f FQ(\034)19
b F4(\(or)c(vice-v)o(ersa\))g(b)o(y)g(adding)f(and/or)g(remo)o(ving)208
591 y(stuttering)k(steps)h(and)f(c)o(hanging)f(the)h(v)n(alues)g
(assigned)g(to)f FV(x)23 b F4(b)o(y)18 b(its)g(states.)30
b(Finally)m(,)208 638 y F0(9)-21 b(9)g(9)208 640 y(9)g(9)g(9)6
b FV(x)13 b F4(:)8 b FV(F)21 b F4(is)16 b(de\014ned)h(to)f(b)q(e)g
(true)h(for)f(a)f(b)q(eha)o(vior)h FQ(\033)h F4(i\013)f
FV(F)21 b F4(is)16 b(true)h(for)e(some)g(b)q(eha)o(vior)h
FQ(\034)208 690 y F4(suc)o(h)e(that)g FQ(\033)8 b F0(\030)449
696 y FJ(x)478 690 y FQ(\034)d F4(.)270 740 y(The)14
b(temp)q(oral)f(univ)o(ersal)g(quan)o(ti\014er)894 738
y F0(8)-21 b(8)g(8)894 740 y(8)g(8)g(8)20 b F4(is)14
b(de\014ned)h(in)e(terms)h(of)1337 738 y F0(9)-21 b(9)g(9)1337
740 y(9)g(9)g(9)20 b F4(b)o(y)p Black Black 332 825 a
F0(8)-21 b(8)g(8)332 827 y(8)g(8)g(8)6 b FV(x)24 b F4(:)18
b FV(F)510 804 y FI(\001)505 827 y F4(=)35 b F0(:)p F4(\()616
825 y F0(9)-21 b(9)g(9)616 827 y(9)g(9)g(9)6 b FV(x)24
b F4(:)18 b F0(:)p FV(F)6 b F4(\))270 910 y(The)17 b(form)o(ula)d
FV(F)567 890 y FI(+)561 910 y F0(\000)-7 b FQ(.)17 b
FV(G)j F4(asserts)e(that)f FV(G)j F4(do)q(es)d(not)g(b)q(ecome)f(false)
g(b)q(efore)h FV(F)23 b F4(do)q(es.)208 960 y(More)11
b(precisely)m(,)g(w)o(e)g(de\014ne)g(a)g(form)o(ula)d
FV(H)17 b F4(to)10 b(b)q(e)i(true)f(for)f(a)h(\014nite)g(pre\014x)g
FQ(\032)g F4(of)f(a)g(b)q(eha)o(vior)208 1010 y FQ(\033)15
b F4(i\013)g FV(H)21 b F4(is)15 b(true)h(for)e(some)g(\(in\014nite\))h
(b)q(eha)o(vior)f(that)h(extends)h FQ(\032)p F4(.)21
b(\(In)15 b(particular,)g FV(H)21 b F4(is)208 1060 y(true)14
b(of)f(the)h(empt)o(y)f(pre\014x)i(i\013)e FV(H)20 b
F4(satis\014es)15 b(some)e(b)q(eha)o(vior.\))18 b(Then)c
FV(F)1374 1040 y FI(+)1368 1060 y F0(\000)-7 b FQ(.)12
b FV(G)17 b F4(is)d(de\014ned)208 1110 y(to)h(b)q(e)h(true)g(for)g(a)f
(b)q(eha)o(vior)g FQ(\033)i F4(i\013)e(\(i\))g FV(F)20
b F0(\))14 b FV(G)19 b F4(is)d(true)g(for)f FQ(\033)i
F4(and)e(\(ii\))g(for)g(ev)o(ery)i(\014nite)208 1159
y(pre\014x)c FQ(\032)g F4(of)e FQ(\033)q F4(,)i(if)e
FV(F)18 b F4(is)13 b(true)g(for)f FQ(\032)h F4(then)g
FV(G)j F4(is)d(true)g(for)f(the)h(pre\014x)g(of)f FQ(\033)i
F4(that)e(is)g(one)h(state)208 1209 y(longer)g(than)h
FQ(\032)p F4(.)208 1325 y FT(F)-5 b(ormal)17 b(Seman)n(tics)208
1402 y F4(F)m(ormally)l(,)9 b(a)i(b)q(eha)o(vior)g(is)g(a)h(function)f
(from)f(the)i(set)g FV(Nat)k F4(of)11 b(natural)g(n)o(um)o(b)q(ers)g
(to)g(states.)208 1452 y(\(W)m(e)g(think)f(of)h(a)g(b)q(eha)o(vior)g
FQ(\033)h F4(as)g(the)f(sequence)j FQ(\033)q F4([0],)c
FQ(\033)q F4([1],)g(.)d(.)f(.)18 b(of)11 b(states.\))18
b(The)12 b(meaning)p .95 TeXcolorgray .95 TeXcolorgray
1679 1666 307 246 v .95 TeXcolorgray Black Black 39 w
FZ(Instead)e(of)h(writing)1687 1491 y Fw(\033)1708 1496
y FE(i)1734 1491 y FZ(as)g(in)g(Chap-)1687 1531 y(ter)g(8,)h(w)o(e)f
(use)g(here)1687 1570 y(the)g(standard)1687 1610 y(functional)e(nota-)
1687 1649 y(tion)i Fw(\033)q FZ([)p FY(i)s FZ(].)p Black
.95 TeXcolorgray Black 208 1502 a F4(of)18 b(a)h(temp)q(oral)f(form)o
(ula)f(is)i(a)h(predicate)g(on)f(b)q(eha)o(viors|that)g(is,)h(a)f
(mapping)f(from)208 1551 y(b)q(eha)o(viors)e(to)h(Bo)q(oleans.)26
b(W)m(e)17 b(write)f FQ(\033)i F0(j)-7 b F4(=)16 b FV(F)22
b F4(for)16 b(the)i(v)n(alue)e(that)g(the)h(meaning)e(of)h
FV(F)208 1601 y F4(assigns)g(to)g(the)g(b)q(eha)o(vior)g
FQ(\033)q F4(.)25 b(The)16 b(temp)q(oral)f(form)o(ula)e
FV(F)22 b F4(is)16 b(v)n(alid)e(i\013)i FQ(\033)g F0(j)-7
b F4(=)15 b FV(F)22 b F4(is)15 b(true,)208 1651 y(for)e(all)g(b)q(eha)o
(viors)h FQ(\033)q F4(.)270 1701 y(Ab)q(o)o(v)o(e,)i(w)o(e)g(ha)o(v)o
(e)f(de\014ned)i(all)e(the)h(other)h(temp)q(oral)d(op)q(erators)j(in)f
(terms)f(of)g FG(2)p F4(,)1601 1699 y F0(9)-21 b(9)g(9)1601
1701 y(9)g(9)g(9)6 b F4(,)208 1751 y(and)291 1731 y FI(+)285
1751 y F0(\000)-7 b FQ(.)q F4(.)17 b(F)m(ormally)l(,)8
b(since)k(an)f(action)f(is)h(not)g(a)g(temp)q(oral)e(form)o(ula,)g(the)
i(construct)i FG(2)p F4([)p FV(A)p F4(])1627 1757 y FJ(e)208
1800 y F4(is)g(not)g(an)g(instance)h(of)f(the)h(temp)q(oral)e(op)q
(erator)i FG(2)p F4(,)f(so)g(its)g(meaning)f(should)h(b)q(e)h
(de\014ned)208 1850 y(separately)m(.)29 b(The)18 b(construct)i
FG(3)p F0(h)s FV(A)s F0(i)807 1856 y FJ(e)828 1850 y
F4(,)e(whic)o(h)f(is)h(similarly)c(not)k(an)f(instance)i(of)e
FG(3)p F4(,)h(is)208 1900 y(then)c(de\014ned)h(to)f(equal)f
F0(:)p FG(2)p F4([)p F0(:)p FV(A)p F4(])747 1906 y FJ(e)766
1900 y F4(.)270 1950 y(T)m(o)f(de\014ne)j(the)f(meaning)e(of)g
FG(2)p F4(,)h(w)o(e)h(\014rst)g(de\014ne)h FQ(\033)1080
1935 y FS(+)p FJ(n)1143 1950 y F4(to)e(b)q(e)h(the)g(b)q(eha)o(vior)f
(obtained)208 2000 y(b)o(y)g(deleting)h(the)h(\014rst)f
FV(n)k F4(states)d(of)e FQ(\033)q F4(:)p Black Black
332 2087 a FQ(\033)357 2070 y FS(+)p FJ(n)446 2063 y
FI(\001)441 2087 y F4(=)35 b([)p FV(i)15 b F0(2)c FV(Nat)16
b F0(7!)11 b FQ(\033)q F4([)p FV(i)i F4(+)c FV(n)s F4(])e(])208
2170 y(W)m(e)13 b(then)i(de\014ne)h(the)e(meaning)f(of)g
FG(2)i F4(as)f(follo)o(ws,)e(for)i(an)o(y)g(temp)q(oral)f(form)o(ula)e
FV(F)6 b F4(,)14 b(tran-)208 2220 y(sition)f(function)g
FV(A)h F4(and)g(state)g(function)g FV(e)s F4(:)p Black
Black 332 2303 a FQ(\033)f F0(j)-7 b F4(=)11 b FG(2)p
FV(F)550 2279 y FI(\001)545 2303 y F4(=)24 b F0(8)7 b
FV(n)15 b F0(2)c FV(Nat)22 b F4(:)c FQ(\033)851 2288
y FS(+)p FJ(n)912 2303 y F0(j)-7 b F4(=)12 b FV(F)332
2360 y FQ(\033)h F0(j)-7 b F4(=)11 b FG(2)p F4([)p FV(A)p
F4(])503 2366 y FJ(e)550 2336 y FI(\001)545 2360 y F4(=)24
b F0(8)7 b FV(n)15 b F0(2)c FV(Nat)22 b F4(:)c F0(h)s
FQ(\033)q F4([)p FV(n)s F4(])p FQ(;)7 b(\033)q F4([)p
FV(n)12 b F4(+)e(1])s F0(i)p F4([)-7 b([[)p FV(A)p F4(])1177
2366 y FJ(e)1195 2360 y F4(])g(])p Black Black eop
%%Page: 316 334
316 333 bop Black 208 275 a F4(316)837 b FR(CHAPTER)14
b(16.)32 b(THE)14 b(OPERA)m(TORS)f(OF)i(TLA)1957 260
y FS(+)p 208 282 1770 2 v Black 208 391 a F4(T)m(o)d(formalize)g(the)i
(de\014nition)g(of)750 389 y F0(9)-21 b(9)g(9)750 391
y(9)g(9)g(9)20 b F4(giv)o(en)13 b(ab)q(o)o(v)o(e,)g(w)o(e)h(\014rst)g
(de\014ne)h FQ(\\)f F4(as)g(follo)o(ws,)d(letting)208
441 y FV(f)22 b F4(b)q(e)14 b(the)h(function)e(suc)o(h)i(that)f
FQ(\033)q F4([)p FV(n)s F4(])d(=)h FQ(\\\033)q F4([)p
FV(f)d F4([)p FV(n)s F4(]],)j(for)i(all)e FV(n)s F4(:)p
Black Black 332 531 a FQ(\\\033)413 507 y FI(\001)408
531 y F4(=)35 b FP(let)23 b FV(f)8 b F4([)p FV(n)15 b
F0(2)c FV(Nat)t F4(])798 507 y FI(\001)793 531 y F4(=)35
b FP(if)23 b FV(n)15 b F4(=)d(0)21 b FP(then)j F4(0)1042
580 y FP(else)36 b(if)23 b FQ(\033)q F4([)p FV(n)s F4(])12
b(=)g FQ(\033)q F4([)p FV(n)g F0(\000)d F4(1])1197 630
y FP(then)24 b FV(f)8 b F4([)p FV(n)13 b F0(\000)c F4(1])1197
680 y FP(else)36 b FV(f)8 b F4([)p FV(n)13 b F0(\000)c
F4(1])g(+)g(1)567 737 y FV(S)635 713 y FI(\001)630 737
y F4(=)35 b F0(f)p FV(f)8 b F4([)p FV(n)s F4(])18 b(:)g
FV(n)d F0(2)c FV(Nat)t F0(g)475 798 y FP(in)54 b F4([)p
FV(n)15 b F0(2)c FV(S)17 b F0(7!)11 b FQ(\033)q F4([)p
FP(choose)16 b FV(i)f F0(2)d FV(Nat)22 b F4(:)c FV(f)8
b F4([)p FV(i)t F4(])j(=)h FV(n)s F4(])7 b(])208 879
y(Next,)13 b(let)h FV(s)400 885 y FJ(x)t FH( )p FJ(v)488
879 y F4(b)q(e)g(the)g(state)h(that)e(is)h(the)g(same)f(as)h(state)g
FV(s)j F4(except)e(that)f(it)f(assigns)h(to)208 929 y(the)g(v)n
(ariable)f FV(x)19 b F4(the)14 b(v)n(alue)g FV(v)t F4(.)k(W)m(e)c(then)
g(de\014ne)h F0(\030)1017 935 y FJ(x)1053 929 y F4(b)o(y)p
Black Black 332 1016 a FQ(\033)8 b F0(\030)390 1022 y
FJ(x)419 1016 y FQ(\034)481 993 y FI(\001)477 1016 y
F4(=)35 b FQ(\\\033)12 b F4(=)g([)p FV(n)j F0(2)c FP(domain)f
FQ(\\\034)16 b F0(7!)c FQ(\034)1012 1023 y FJ(x)t FH( )p
Fy(\\\033)q FS([)p FJ(n)s FS(][)-6 b([)p FJ(x)t FS(])g(])1186
1016 y F4(])208 1099 y(W)m(e)9 b(next)i(de\014ne)g(existen)o(tial)f
(quan)o(ti\014cation)f(o)o(v)o(er)h(b)q(eha)o(viors.)17
b(This)9 b(is)h(done)h(m)o(uc)o(h)e(as)h(w)o(e)208 1149
y(de\014ned)i(quan)o(ti\014cation)e(o)o(v)o(er)h(states)h(on)f(page)g
(313)f(ab)q(o)o(v)o(e;)h(w)o(e)g(\014rst)h(de\014ne)g
FV(IsABehavior)208 1199 y F4(so)i(that)f FV(IsABehavior)t
F4(\()p FQ(\033)q F4(\))i(is)f(true)h(i\013)e FQ(\033)j
F4(is)d(a)h(b)q(eha)o(vior,)f(and)h(w)o(e)g(then)g(de\014ne)p
Black Black 332 1289 a F0(9)362 1295 y FS(b)q(eha)o(vior)495
1289 y FQ(\033)20 b F4(:)e FV(F)648 1265 y FI(\001)643
1289 y F4(=)42 b F0(9)7 b FQ(\033)20 b F4(:)e FV(IsABehavior)t
F4(\()p FQ(\033)q F4(\))10 b F0(^)f FV(F)208 1372 y F4(W)m(e)k(can)h
(no)o(w)g(de\014ne)h(the)f(meaning)e(of)846 1370 y F0(9)-21
b(9)g(9)846 1372 y(9)g(9)g(9)20 b F4(b)o(y)p Black Black
332 1459 a FQ(\033)g F0(j)-7 b F4(=)431 1457 y F0(9)-21
b(9)g(9)431 1459 y(9)g(9)g(9)6 b FV(x)24 b F4(:)18 b
FV(F)616 1435 y FI(\001)611 1459 y F4(=)42 b F0(9)715
1465 y FS(b)q(eha)o(vior)848 1459 y FQ(\034)23 b F4(:)18
b(\()p FQ(\033)9 b F0(\030)994 1465 y FJ(x)1023 1459
y FQ(\034)c F4(\))k F0(^)g F4(\()p FQ(\034)16 b F0(j)-7
b F4(=)12 b FV(F)6 b F4(\))270 1542 y(Finally)m(,)11
b(w)o(e)j(de\014ne)h(the)g(meaning)d(of)891 1522 y FI(+)885
1542 y F0(\000)-7 b FQ(.)14 b F4(as)g(follo)o(ws:)p Black
Black 332 1629 a FQ(\033)20 b F0(j)-7 b F4(=)18 b FV(F)481
1609 y FI(+)475 1629 y F0(\000)-7 b FQ(.)12 b FV(G)620
1606 y FI(\001)615 1629 y F4(=)415 1686 y FP(let)23 b
FV(Pr)n(e\014xSat)t F4(\()p FV(n)s FQ(;)7 b FV(H)g F4(\))829
1662 y FI(\001)824 1686 y F4(=)590 1739 y F0(9)620 1745
y FS(b)q(eha)o(vior)753 1739 y FQ(\034)24 b F4(:)18 b
F0(^)13 b(8)7 b FV(i)16 b F0(2)11 b F4(0)j FQ(:)7 b(:)12
b F4(\()p FV(n)h F0(\000)d F4(1\))18 b(:)g FQ(\034)5
b F4([)p FV(i)t F4(])10 b(=)i FQ(\033)q F4([)p FV(i)t
F4(])825 1789 y F0(^)h FQ(\034)k F0(j)-7 b F4(=)11 b
FV(H)415 1839 y FP(in)54 b F0(^)14 b FQ(\033)19 b F0(j)-7
b F4(=)19 b FV(F)e F0(\))11 b FV(G)507 1892 y F0(^)j(8)7
b FV(n)15 b F0(2)c FV(Nat)22 b F4(:)c FV(Pr)n(e\014xSat)t
F4(\()p FV(n)s FQ(;)7 b FV(F)f F4(\))12 b F0(\))f FV(Pr)n(e\014xSat)t
F4(\()p FV(n)j F4(+)9 b(1)p FQ(;)e FV(G)t F4(\))p Black
Black eop
%%Page: 317 335
317 334 bop Black Black 208 703 a FL(Chapter)31 b(17)208
910 y F5(The)38 b(Meaning)h(of)f(a)h(Mo)s(dule)208 1134
y F4(Chapter)14 b(16)g(de\014nes)i(the)e(meaning)f(of)g(the)i(built-in)
e(TLA)1154 1118 y FS(+)1189 1134 y F4(op)q(erators.)20
b(In)14 b(doing)f(so,)h(it)208 1183 y(de\014nes)i(the)g(meaning)d(of)i
(a)g(basic)g(expression|that)h(is,)f(of)g(an)g(expression)h(con)o
(taining)208 1233 y(only)j(built-in)f(op)q(erators,)k(declared)f
(constan)o(ts,)g(and)f(declared)h(v)n(ariables.)35 b(W)m(e)19
b(no)o(w)208 1283 y(de\014ne)f(the)g(meaning)e(of)h(a)g(mo)q(dule)f(in)
h(terms)g(of)g(basic)h(expressions.)30 b(Since)18 b(a)f(TLA)1625
1268 y FS(+)208 1333 y F4(sp)q(eci\014cation)i(consists)g(of)f(a)g
(collection)g(of)g(mo)q(dules,)f(this)i(de\014nes)h(the)f(seman)o(tics)
e(of)208 1383 y(TLA)295 1368 y FS(+)315 1383 y F4(.)270
1432 y(W)m(e)12 b(also)f(complete)h(the)h(de\014nition)f(of)f(the)i
(syn)o(tax)f(of)g(TLA)1227 1417 y FS(+)1260 1432 y F4(b)o(y)g(giving)f
(the)h(remain-)208 1482 y(ing)g(con)o(text-dep)q(enden)o(t)k(syn)o
(tactic)e(conditions)f(not)g(describ)q(ed)i(in)e(Chapter)h(15.)k
(Here's)208 1532 y(a)e(list)g(of)g(some)f(illegal)g(expressions)j(that)
f(satisfy)f(the)h(grammar)d(of)i(Chapter)h(15,)f(and)208
1582 y(where)f(in)e(this)h(c)o(hapter)h(y)o(ou)e(can)h(\014nd)g(the)h
(conditions)e(that)h(mak)o(e)f(them)g(illegal.)p Black
270 1659 a F0(\017)p Black 20 w FV(F)6 b F4(\()p FV(x)f
F4(\),)14 b(if)f FV(F)19 b F4(is)14 b(de\014ned)h(b)o(y)f
FV(F)6 b F4(\()p FV(x)f FQ(;)i FV(y)t F4(\))907 1635
y FI(\001)903 1659 y F4(=)18 b FV(x)d F4(+)9 b FV(y)32
b F4(\(Section)14 b(17.1\))p Black 270 1736 a F0(\017)p
Black 20 w F4(\()p FV(x)351 1721 y FH(0)373 1736 y F4(+)9
b(1\))451 1721 y FH(0)490 1736 y F4(\(Section)15 b(17.2\))p
Black 270 1814 a F0(\017)p Black 20 w FV(x)g F4(+)9 b(1,)k(if)g
FV(x)20 b F4(is)13 b(not)h(de\014ned)h(or)f(declared)29
b(\(Section)14 b(17.3\))p Black 270 1898 a F0(\017)p
Black 20 w FV(F)367 1875 y FI(\001)362 1898 y F4(=)19
b(0,)13 b(if)g FV(F)20 b F4(is)14 b(already)f(de\014ned)29
b(\(Section)14 b(17.5\))270 1971 y(This)d(c)o(hapter)h(is)f(mean)o(t)f
(to)i(b)q(e)f(read)h(in)f(its)g(en)o(tiret)o(y)m(.)17
b(T)m(o)11 b(try)g(to)h(mak)o(e)d(it)i(as)h(readable)208
2021 y(as)j(p)q(ossible,)g(I)f(ha)o(v)o(e)h(made)f(the)h(exp)q(osition)
g(somewhat)f(informal.)k(Wherev)o(er)f(I)e(could,)208
2070 y(I)f(ha)o(v)o(e)g(used)h(examples)f(in)g(place)g(of)g(formal)e
(de\014nitions.)20 b(The)14 b(examples)g(assume)g(that)208
2120 y(y)o(ou)c(understand)j(the)f(appro)o(ximate)e(meanings)f(of)i
(the)h(TLA)1185 2105 y FS(+)1217 2120 y F4(constructs,)i(as)d
(explained)208 2170 y(in)j(P)o(art)h(I.)21 b(I)15 b(hop)q(e)h(that)f
(mathematical)o(ly)d(sophisticated)j(readers)i(will)c(see)j(ho)o(w)f
(to)g(\014ll)208 2220 y(in)e(the)h(missing)f(formalism)o(.)208
2376 y FN(17.1)82 b(Op)r(erators)27 b(and)g(Expressions)208
2467 y F4(Because)20 b(it)e(uses)i(con)o(v)o(en)o(tional)e
(mathematical)d(notation,)k(TLA)1291 2452 y FS(+)1330
2467 y F4(has)g(a)f(rather)i(ric)o(h)208 2517 y(syn)o(tax,)15
b(with)h(sev)o(eral)g(di\013eren)o(t)h(w)o(a)o(ys)e(of)g(expressing)i
(the)f(same)f(basic)h(t)o(yp)q(e)g(of)g(math-)p Black
1915 2622 a(317)p Black eop
%%Page: 318 336
318 335 bop Black 208 275 a F4(318)768 b FR(CHAPTER)14
b(17.)32 b(THE)14 b(MEANING)g(OF)g(A)g(MODULE)p 208 282
1770 2 v Black 208 391 a F4(ematical)i(op)q(eration.)29
b(F)m(or)18 b(example,)f(the)h(follo)o(wing)d(expressions)20
b(are)e(all)f(formed)f(b)o(y)208 441 y(applying)c(an)i(op)q(erator)g
(to)g(a)f(single)h(argumen)o(t)f FV(e)s F4(:)p Black
Black 332 524 a FV(L)n(en)s F4(\()p FV(e)s F4(\))93 b
F0(\000)10 b FV(e)86 b F0(f)p FV(e)s F0(g)d FV(e)864
507 y FH(0)208 607 y F4(This)14 b(section)h(dev)o(elops)g(a)g(uniform)d
(w)o(a)o(y)i(of)g(writing)g(all)f(these)j(expressions,)g(as)f(w)o(ell)f
(as)208 657 y(more)e(general)j(kinds)e(of)h(expressions.)208
794 y F3(17.1.1)65 b(The)22 b(Arit)n(y)i(and)f(Order)g(of)e(an)i(Op)r
(erator)208 885 y F4(An)10 b(op)q(erator)h(has)g(an)f
FV(arity)j F4(and)d(an)h FV(or)n(der)p F4(.)16 b(An)10
b(op)q(erator's)h(arit)o(y)f(describ)q(es)j(the)e(n)o(um)o(b)q(er)208
935 y(and)19 b(order)i(of)e(its)h(argumen)o(ts.)35 b(It's)20
b(the)g(arit)o(y)f(of)h(the)g FV(L)n(en)j F4(op)q(erator)e(that)f
(tells)f(us)p .95 TeXcolorgray .95 TeXcolorgray 1679
1068 307 165 v .95 TeXcolorgray Black Black 42 w FY(L)n(en)d
FZ(is)11 b(de\014ned)f(in)1687 974 y(the)h FY(Se)n(quenc)n(es)1687
1014 y FZ(mo)q(dule)f(on)1687 1053 y(page)h(341.)p Black
.95 TeXcolorgray Black 208 985 a F4(that)16 b FV(L)n(en)s
F4(\()p FV(s)s F4(\))h(is)f(a)g(legal)f(expression,)i(while)f
FV(L)n(en)s F4(\()p FV(s)s FQ(;)7 b FV(t)t F4(\))16 b(and)g
FV(L)n(en)s F4(\(+\))h(are)g(not.)24 b(All)15 b(the)208
1035 y(op)q(erators)20 b(of)e(TLA)536 1020 y FS(+)557
1035 y F4(,)i(whether)h(built-in)d(or)h(de\014ned,)j(fall)17
b(in)o(to)i(three)h(classes:)31 b(0th-,)208 1084 y(1st-,)14
b(and)g(2nd-order)h(op)q(erators.)753 1069 y FS(1)792
1084 y F4(Here)h(is)f(ho)o(w)f(these)i(classes,)f(and)f(their)h
(arities,)f(are)208 1134 y(de\014ned:)p Black 258 1217
a(0.)p Black 20 w FV(E)365 1194 y FI(\001)361 1217 y
F4(=)i FV(x)433 1202 y FH(0)456 1217 y F4(+)11 b FV(y)27
b F4(de\014nes)18 b FV(E)k F4(to)17 b(b)q(e)g(the)g(0th-order)g(op)q
(erator)g FV(x)1301 1202 y FH(0)1324 1217 y F4(+)12 b
FV(y)t F4(.)26 b(A)16 b(0th-order)311 1267 y(op)q(erator)d(tak)o(es)f
(no)f(argumen)o(ts,)g(so)h(it)f(is)g(an)h(ordinary)f(expression.)18
b(W)m(e)12 b(represen)o(t)311 1317 y(the)j(arit)o(y)e(of)g(suc)o(h)i
(an)f(op)q(erator)g(b)o(y)g(the)g(sym)o(b)q(ol)p 1126
1317 21 3 v 61 w(\(underscore\).)p Black 258 1406 a(1.)p
Black 20 w FV(F)6 b F4(\()p FV(x)f FQ(;)i FV(y)t F4(\))459
1383 y FI(\001)454 1406 y F4(=)12 b FV(x)g F0([)7 b(f)p
FV(z)e FQ(;)i FV(y)t F0(g)19 b F4(de\014nes)14 b FV(F)k
F4(to)13 b(b)q(e)g(a)g(1st-order)h(op)q(erator.)k(F)m(or)12
b(an)o(y)h(expres-)311 1456 y(sions)g FV(e)434 1462 y
FS(1)465 1456 y F4(and)g FV(e)567 1462 y FS(2)586 1456
y F4(,)f(it)g(de\014nes)i FV(F)6 b F4(\()p FV(e)856 1462
y FS(1)875 1456 y FQ(;)h FV(e)916 1462 y FS(2)934 1456
y F4(\))13 b(to)g(b)q(e)g(an)f(expression.)19 b(W)m(e)12
b(represen)o(t)j(the)311 1506 y(arit)o(y)f(of)f FV(F)19
b F4(b)o(y)14 b F0(h)p 589 1506 V 38 w FQ(;)p 642 1506
V 45 w F0(i)p F4(.)311 1572 y(In)h(general,)g(a)g(1st-order)g(op)q
(erator)h(tak)o(es)f(expressions)h(as)f(argumen)o(ts.)20
b(Its)15 b(arit)o(y)311 1622 y(is)f(the)h(tuple)f F0(h)p
557 1622 V 38 w FQ(;)7 b(:)g(:)g(:)e(;)p 684 1622 V 44
w F0(i)p F4(,)14 b(with)f(one)p 934 1622 V 63 w(for)g(eac)o(h)i
(argumen)o(t.)p Black 258 1712 a(2.)p Black 20 w FV(G)t
F4(\()p FV(f)9 b F4(\()p 408 1712 V 34 w FQ(;)p 461 1712
V 42 w F4(\))p FQ(;)e FV(x)e FQ(;)i FV(y)t F4(\))622
1688 y FI(\001)617 1712 y F4(=)12 b FV(f)d F4(\()p FV(x)c
FQ(;)i F0(f)p FV(x)e FQ(;)i FV(y)t F0(g)p F4(\))18 b(de\014nes)13
b FV(G)j F4(to)c(b)q(e)h(a)f(2nd-order)g(op)q(erator.)18
b(The)311 1762 y(op)q(erator)h FV(G)i F4(tak)o(es)e(three)g(argumen)o
(ts:)25 b(its)18 b(\014rst)h(argumen)o(t)d(is)i(a)g(1st-order)g(op-)311
1811 y(erator)f(that)f(tak)o(es)h(t)o(w)o(o)e(argumen)o(ts;)h(its)g
(last)g(t)o(w)o(o)g(argumen)o(ts)f(are)i(expressions.)311
1861 y(F)m(or)k(an)o(y)f(op)q(erator)h FV(Op)i F4(of)d(arit)o(y)g
F0(h)p 915 1861 V 38 w FQ(;)p 968 1861 V 45 w F0(i)p
F4(,)i(and)e(an)o(y)g(expressions)j FV(e)1467 1867 y
FS(1)1506 1861 y F4(and)e FV(e)1616 1867 y FS(2)1634
1861 y F4(,)311 1911 y(this)c(de\014nes)h FV(G)t F4(\()p
FV(Op)s FQ(;)7 b FV(e)683 1917 y FS(1)701 1911 y FQ(;)g
FV(e)742 1917 y FS(2)760 1911 y F4(\))17 b(to)f(b)q(e)h(an)g
(expression.)27 b(W)m(e)16 b(sa)o(y)h(that)f FV(G)21
b F4(has)16 b(arit)o(y)311 1961 y F0(h)11 b(h)p 364 1961
V 38 w FQ(;)p 417 1961 V 45 w F0(i)p FQ(;)p 497 1961
V 48 w(;)p 557 1961 V 51 w F0(i)p F4(.)311 2027 y(In)21
b(general,)h(the)f(argumen)o(ts)e(of)h(a)g(2nd-order)h(op)q(erator)g
(ma)o(y)d(b)q(e)j(expressions)311 2077 y(or)f(1st-order)g(op)q
(erators.)36 b(A)19 b(2nd-order)h(op)q(erator)g(has)g(an)f(arit)o(y)g
(of)g(the)h(form)311 2127 y F0(h)s FV(a)354 2133 y FS(1)374
2127 y FQ(;)7 b(:)g(:)g(:)e(;)i FV(a)491 2133 y FJ(n)518
2127 y F0(i)p F4(,)15 b(where)i(eac)o(h)e FV(a)801 2133
y FJ(i)832 2127 y F4(is)g(either)p 1002 2127 V 66 w(or)h
F0(h)p 1123 2127 V 38 w FQ(;)7 b(:)g(:)g(:)e(;)p 1250
2127 V 44 w F0(i)p F4(.)22 b(\(W)m(e)15 b(can)h(consider)311
2177 y(a)e(1st-order)h(op)q(erator)f(to)g(b)q(e)g(a)g(degenerate)i
(case)e(of)g(a)f(2nd-order)i(op)q(erator.\))208 2260
y(It)f(w)o(ould)f(b)q(e)i(easy)g(enough)f(to)h(de\014ne)g(3rd-)f(and)g
(higher-order)h(op)q(erators.)20 b(TLA)1531 2245 y FS(+)1566
2260 y F4(do)q(es)208 2310 y(not)10 b(p)q(ermit)h(them)f(b)q(ecause)j
(they)e(are)h(of)e(little)g(use)i(and)f(w)o(ould)f(mak)o(e)g(it)g
(harder)i(to)f(c)o(hec)o(k)208 2359 y(lev)o(el-correctness,)k(whic)o(h)
f(is)g(discussed)i(in)d(Section)h(17.2)f(b)q(elo)o(w.)p
Black 208 2394 576 2 v 254 2421 a FK(1)271 2433 y FZ(Ev)o(en)f(though)e
(it)i(allo)o(ws)g(2nd-order)e(op)q(erators,)g(TLA)1025
2421 y FK(+)1058 2433 y FZ(is)i(still)g(what)g(logicians)e(call)h(a)i
(\014rst-order)208 2472 y(logic)h(b)q(ecause)f(it)j(p)q(ermits)d(quan)o
(ti\014catio)o(n)g(only)h(o)o(v)o(er)h(0th-order)d(op)q(erators.)25
b(A)16 b(higher-order)c(logic)208 2511 y(w)o(ould)e(allo)o(w)i(us)f(to)
g(write)g(the)g(form)o(ula)e FW(9)d FY(x)t FZ(\()p 836
2511 18 3 v 29 w(\))k(:)g FY(exp)s FZ(.)p Black Black
Black eop
%%Page: 319 337
319 336 bop Black 208 275 a FR(17.1.)30 b(OPERA)m(TORS)14
b(AND)g(EXPRESSIONS)912 b F4(319)p 208 282 1770 2 v Black
208 391 a F3(17.1.2)65 b Fg(\025)22 b F3(Expressions)208
490 y F4(When)d(w)o(e)g(de\014ne)h(a)e(0th-order)i(op)q(erator)f
FV(E)24 b F4(b)o(y)19 b FV(E)1088 466 y FI(\001)1083
490 y F4(=)12 b FV(exp)s F4(,)20 b(w)o(e)f(can)g(write)g(what)g(the)208
540 y(op)q(erator)d FV(E)21 b F4(equals|it)15 b(equals)g(the)i
(expression)g FV(exp)s F4(.)23 b(W)m(e)15 b(can)h(explain)f(the)i
(meaning)208 590 y(of)e(this)i(de\014nition)e(b)o(y)i(sa)o(ying)e(that)
h(it)g(assigns)h(the)g(v)n(alue)e FV(exp)20 b F4(to)c(the)h(sym)o(b)q
(ol)d FV(E)5 b F4(.)26 b(T)m(o)208 639 y(explain)10 b(the)i(meaning)d
(of)h(an)h(arbitrary)g(TLA)941 624 y FS(+)973 639 y F4(de\014nition,)g
(w)o(e)g(need)h(to)f(b)q(e)h(able)f(to)g(write)208 689
y(what)j(a)g(1st-)g(or)h(2nd-order)g(op)q(erator)g(equals|for)e
(example,)g(the)i(op)q(erator)g FV(F)20 b F4(de\014ned)208
739 y(b)o(y)p Black Black 332 812 a FV(F)6 b F4(\()p
FV(x)f FQ(;)i FV(y)t F4(\))503 788 y FI(\001)498 812
y F4(=)35 b FV(x)14 b F0([)9 b(f)p FV(z)c FQ(;)i FV(y)t
F0(g)208 880 y F4(TLA)295 865 y FS(+)331 880 y F4(pro)o(vides)15
b(no)g(w)o(a)o(y)g(to)g(write)h(an)f(expression)h(that)g(equals)f(this)
h(op)q(erator)g FV(F)6 b F4(.)22 b(\(A)208 930 y(TLA)295
915 y FS(+)329 930 y F4(expression)15 b(can)f(equal)g(only)f(a)g
(0th-order)i(op)q(erator.\))j(W)m(e)c(therefore)h(generalize)208
980 y(expressions)h(to)e FQ(\025)i FV(expr)n(essions)p
F4(,)e(and)g(w)o(e)h(write)g(the)g(op)q(erator)g(that)f
FV(F)21 b F4(equals)14 b(as)h(the)g FQ(\025)208 1030
y F4(expression)p Black Black 332 1098 a FQ(\025)f FV(x)5
b FQ(;)i FV(y)22 b F4(:)c FV(x)d F0([)8 b(f)p FV(z)d
FQ(;)i FV(y)t F0(g)208 1167 y F4(The)17 b(sym)o(b)q(ols)e
FV(x)22 b F4(and)16 b FV(y)21 b F4(in)16 b(this)h FQ(\025)f
F4(expression)i(are)f(called)g FQ(\025)g F4(parameters.)26
b(W)m(e)16 b(use)i FQ(\025)208 1217 y F4(expressions)e(only)d(to)i
(explain)f(the)h(meaning)e(of)h(TLA)1087 1202 y FS(+)1122
1217 y F4(sp)q(eci\014cations;)h(w)o(e)g(can't)g(write)208
1267 y(a)e FQ(\025)h F4(expression)h(in)f(TLA)616 1252
y FS(+)636 1267 y F4(.)270 1316 y(W)m(e)f(also)h(allo)o(w)e(2nd-order)i
FQ(\025)g F4(expressions,)h(where)g(the)g(op)q(erator)f
FV(G)k F4(de\014ned)d(b)o(y)p Black Black 332 1389 a
FV(G)t F4(\()p FV(f)8 b F4(\()p 428 1389 21 3 v 35 w
FQ(;)p 482 1389 V 41 w F4(\))p FQ(;)14 b FV(x)5 b FQ(;)13
b FV(y)t F4(\))680 1366 y FI(\001)675 1389 y F4(=)35
b FV(f)8 b F4(\()p FV(y)t FQ(;)f F0(f)p FV(x)e FQ(;)i
FV(z)e F0(g)p F4(\))208 1458 y(is)13 b(equal)h(to)g(the)g
FQ(\025)g F4(expression)p Black Black 332 1526 a FQ(\025)g
FV(f)9 b F4(\()p 415 1526 V 34 w FQ(;)p 468 1526 V 41
w F4(\))p FQ(;)14 b FV(x)5 b FQ(;)14 b FV(y)22 b F4(:)c
FV(f)8 b F4(\()p FV(y)t FQ(;)f F0(f)p FV(x)e FQ(;)i FV(z)e
F0(g)p F4(\))p Black -654 w(\(17.1\))p Black 270 1595
a(The)22 b(general)h(form)d(of)h(a)h FQ(\025)h F4(expression)g(is)f
FQ(\025)7 b FV(p)1079 1601 y FS(1)1097 1595 y FQ(;)g(:)g(:)g(:)e(;)i
FV(p)1214 1601 y FJ(n)1245 1595 y F4(:)h FV(exp)s F4(,)24
b(where)f FV(exp)i F4(is)d(a)208 1645 y FQ(\025)f F4(expression,)k(eac)
o(h)d(parameter)g FV(p)807 1651 y FJ(i)844 1645 y F4(is)f(either)i(an)e
(iden)o(ti\014er)h FV(id)1304 1651 y FJ(i)1342 1645 y
F4(or)f(has)h(the)h(form)208 1694 y FV(id)246 1700 y
FJ(i)261 1694 y F4(\()p 284 1694 V 35 w FQ(;)13 b(:)7
b(:)g(:)f(;)p 425 1694 V 48 w F4(\),)19 b(and)f(the)g
FV(id)698 1700 y FJ(i)732 1694 y F4(are)h(all)e(distinct.)31
b(W)m(e)18 b(call)g FV(id)1242 1700 y FJ(i)1275 1694
y F4(the)h FV(identi\014er)k F4(of)17 b(the)208 1744
y FQ(\025)f F4(parameter)f FV(p)472 1750 y FJ(i)487 1744
y F4(.)24 b(W)m(e)15 b(consider)i(the)g FV(n)h F4(=)d(0)g(case,)i(the)g
FQ(\025)f F4(expression)h FQ(\025)8 b F4(:)g FV(exp)19
b F4(with)c(no)208 1794 y(parameters,)10 b(to)h(b)q(e)g(the)g
(expression)h FV(exp)s F4(.)17 b(This)10 b(mak)o(es)g(a)g
FQ(\025)g F4(expression)i(a)e(generalization)208 1844
y(of)j(an)g(ordinary)h(expression.)270 1894 y(A)k FQ(\025)g
F4(parameter)g(iden)o(ti\014er)g(is)g(a)f(b)q(ound)h(iden)o(ti\014er,)h
(just)f(lik)o(e)f(the)i(iden)o(ti\014er)f FV(x)23 b F4(in)208
1944 y F0(8)7 b FV(x)13 b F4(:)7 b FV(F)f F4(.)17 b(As)c(with)f(an)o(y)
f(b)q(ound)h(iden)o(ti\014ers,)h(renaming)d(the)j FQ(\025)f
F4(parameter)g(iden)o(ti\014ers)h(in)e(a)208 1993 y FQ(\025)i
F4(expression)h(do)q(esn't)g(c)o(hange)f(the)h(meaning)d(of)h(the)i
(expression.)19 b(F)m(or)12 b(example,)g(\(17.1\))208
2043 y(is)h(equiv)n(alen)o(t)g(to)p Black Black 332 2112
a FQ(\025)h FV(ab)n(c)r F4(\()p 452 2112 V 36 w FQ(;)p
506 2112 V 41 w F4(\))p FQ(;)f FV(qq)t FQ(;)g FV(m)22
b F4(:)c FV(ab)n(c)r F4(\()p FV(m)s FQ(;)7 b F0(f)p FV(qq)t
FQ(;)g FV(z)e F0(g)p F4(\))208 2180 y(F)m(or)13 b(obscure)i(historical)
f(reasons,)g(this)g(kind)f(of)h(renaming)e(is)i(called)f
FQ(\013)i FV(c)n(onversion)p F4(.)270 2230 y(If)h FV(Op)j
F4(is)d(the)h FQ(\025)g F4(expression)g FQ(\025)7 b FV(p)802
2236 y FS(1)821 2230 y FQ(;)g(:)g(:)g(:)e(;)i FV(p)938
2236 y FJ(n)969 2230 y F4(:)h FV(exp)s F4(,)16 b(then)h
FV(Op)s F4(\()p FV(e)1270 2236 y FS(1)1289 2230 y FQ(;)7
b(:)g(:)g(:)e(;)i FV(e)1404 2236 y FJ(n)1427 2230 y F4(\))17
b(equals)f(the)208 2280 y(result)g(of)e(replacing)i(the)f(iden)o
(ti\014er)h(of)f(the)h FQ(\025)f F4(parameter)g FV(p)1186
2286 y FJ(i)1217 2280 y F4(in)g FV(exp)j F4(with)d FV(e)1462
2286 y FJ(i)1478 2280 y F4(,)g(for)g(all)f FV(i)208 2330
y F4(in)f(1)h FQ(:)7 b(:)12 b FV(n)s F4(.)19 b(F)m(or)13
b(example,)p Black Black 332 2398 a(\()p FQ(\025)h FV(x)5
b FQ(;)i FV(y)22 b F4(:)c FV(x)d F0([)9 b(f)p FV(z)c
FQ(;)i FV(y)t F0(g)p F4(\))g(\()p FV(TT)f FQ(;)h FV(w)j
F4(+)g FV(z)5 b F4(\))35 b(=)g FV(TT)14 b F0([)9 b(f)p
FV(z)c FQ(;)i F4(\()p FV(w)12 b F4(+)e FV(z)5 b F4(\))p
F0(g)208 2467 y F4(This)16 b(pro)q(cedure)i(for)e(ev)n(aluating)f(the)i
(application)e(of)h(a)g FQ(\025)h F4(expression)g(is)g(called)f
FQ(\014)k FV(r)n(e-)208 2517 y(duction)p F4(.)p Black
Black eop
%%Page: 320 338
320 337 bop Black 208 275 a F4(320)768 b FR(CHAPTER)14
b(17.)32 b(THE)14 b(MEANING)g(OF)g(A)g(MODULE)p 208 282
1770 2 v Black 208 391 a F3(17.1.3)65 b(Simplifyin)q(g)25
b(Op)r(erator)d(Application)208 482 y F4(T)m(o)10 b(simplify)d(the)12
b(exp)q(osition,)e(I)h(assume)f(that)h(ev)o(ery)h(op)q(erator)f
(application)e(is)i(written)g(in)208 532 y(the)k(form)e
FV(Op)s F4(\()p FV(e)473 538 y FS(1)492 532 y FQ(;)7
b(:)g(:)g(:)e(;)i FV(e)607 538 y FJ(n)630 532 y F4(\).)22
b(TLA)767 517 y FS(+)802 532 y F4(pro)o(vides)15 b(a)g(n)o(um)o(b)q(er)
f(of)h(di\013eren)o(t)h(syn)o(tactic)f(forms)208 582
y(for)f(op)q(erator)i(application,)d(so)i(I)g(ha)o(v)o(e)g(to)g
(explain)f(ho)o(w)g(they)i(are)f(translated)h(in)o(to)e(this)208
632 y(simple)g(form.)21 b(Here)c(are)f(all)f(the)h(di\013eren)o(t)g
(forms)f(of)g(op)q(erator)h(application)e(and)h(their)208
681 y(translations.)p Black 270 765 a F0(\017)p Black
20 w F4(Simple)d(constructs)j(with)d(a)h(\014xed)g(n)o(um)o(b)q(er)g
(of)f(argumen)o(ts,)g(including)g(in\014x)g(op)q(er-)311
814 y(ators)g(lik)o(e)f(+,)h(pre\014x)g(op)q(erators)g(lik)o(e)f
FP(enabled)g F4(,)g(and)g(constructs)j(lik)o(e)d(WF)o(,)h(func-)311
864 y(tion)g(application,)f(and)h FP(if)p F4(/)p FP(then)p
F4(/)p FP(else)p F4(.)17 b(These)d(op)q(erators)f(and)f(constructs)i(p)
q(ose)311 914 y(no)h(problem.)20 b(W)m(e)15 b(can)g(write)h(+\()p
FV(a)s FQ(;)7 b FV(b)s F4(\))15 b(instead)g(of)g FV(a)e
F4(+)e FV(b)s F4(,)j FV(IfThenElse)s F4(\()p FV(p)s FQ(;)7
b FV(e)1552 920 y FS(1)1570 914 y FQ(;)g FV(e)1611 920
y FS(2)1630 914 y F4(\))311 964 y(instead)15 b(of)p Black
Black 436 1030 a FP(if)23 b FV(p)h FP(then)g FV(e)683
1036 y FS(1)725 1030 y FP(else)g FV(e)857 1036 y FS(2)311
1097 y F4(and)15 b FV(Apply)t F4(\()p FV(f)8 b FQ(;)f
FV(e)s F4(\))14 b(instead)h(of)f FV(f)8 b F4([)p FV(e)s
F4(].)19 b(An)c(expression)g(lik)o(e)f FV(a)f F4(+)d
FV(b)i F4(+)e FV(c)17 b F4(is)d(an)g(abbre-)311 1146
y(viation)f(for)g(\()p FV(a)g F4(+)d FV(b)s F4(\))f(+)g
FV(c)r F4(,)14 b(so)g(it)g(can)g(b)q(e)g(written)h(+\(+\()p
FV(a)s FQ(;)7 b FV(b)s F4(\))p FQ(;)g FV(c)r F4(\).)p
Black 270 1229 a F0(\017)p Black 20 w F4(Simple)20 b(constructs)k(with)
d(a)h(v)n(ariable)e(n)o(um)o(b)q(er)h(of)g(argumen)o(ts|for)g(example,)
311 1279 y F0(f)p FV(e)354 1285 y FS(1)373 1279 y FQ(;)7
b(:)g(:)g(:)e(;)i FV(e)488 1285 y FJ(n)511 1279 y F0(g)16
b F4(and)g([)p FV(h)667 1285 y FS(1)697 1279 y F0(7!)c
FV(e)773 1285 y FS(1)791 1279 y FQ(;)7 b(:)g(:)g(:)e(;)i
FV(h)908 1285 y FJ(n)943 1279 y F0(7!)k FV(e)1018 1285
y FJ(n)1042 1279 y F4(].)25 b(W)m(e)16 b(can)h(consider)g(eac)o(h)g(of)
e(these)311 1329 y(constructs)21 b(to)e(b)q(e)h(rep)q(eated)h
(application)d(of)g(simpler)g(op)q(erators)i(with)f(a)f(\014xed)311
1379 y(n)o(um)o(b)q(er)c(of)f(argumen)o(ts.)k(F)m(or)d(example,)p
Black Black 436 1445 a F0(f)p FV(e)479 1451 y FS(1)497
1445 y FQ(;)g(:)7 b(:)g(:)e(;)14 b FV(e)626 1451 y FJ(n)650
1445 y F0(g)34 b F4(=)h F0(f)p FV(e)815 1451 y FS(1)833
1445 y F0(g)9 b([)16 b FQ(:)7 b(:)g(:)15 b F0([)9 b(f)p
FV(e)1052 1451 y FJ(n)1075 1445 y F0(g)436 1503 y F4([)p
FV(h)472 1509 y FS(1)502 1503 y F0(7!)i FV(e)577 1509
y FS(1)596 1503 y FQ(;)i(:)7 b(:)g(:)f(;)13 b FV(h)726
1509 y FJ(n)762 1503 y F0(7!)e FV(e)837 1509 y FJ(n)861
1503 y F4(])34 b(=)h([)p FV(h)1010 1509 y FS(1)1040 1503
y F0(7!)11 b FV(e)1115 1509 y FS(1)1134 1503 y F4(])c(@@)14
b FQ(:)7 b(:)g(:)12 b F4(@@[)p FV(h)1393 1509 y FJ(n)1429
1503 y F0(7!)f FV(e)1504 1509 y FJ(n)1528 1503 y F4(])311
1569 y(where)19 b(@@)g(is)e(de\014ned)i(in)e(the)i FV(TLC)k
F4(mo)q(dule,)17 b(on)g(page)h(248.)29 b(Of)18 b(course,)h
F0(f)p FV(e)s F0(g)311 1619 y F4(can)e(b)q(e)g(written)g
FV(Singleton)s F4(\()p FV(e)s F4(\))g(and)f([)p FV(h)j
F0(7!)c FV(e)s F4(])h(can)h(b)q(e)g(written)f FV(R)n(e)n(c)n(or)n(d)t
F4(\(\\)p FV(h)s F4(")q FQ(;)d FV(e)s F4(\).)311 1669
y(Note)j(that)g(an)f(arbitrary)h FP(case)f F4(expression)i(can)f(b)q(e)
g(written)g(in)f(terms)g(of)j FP(case)311 1719 y F4(expressions)e(of)d
(the)i(form)p Black Black 436 1785 a FP(case)h FV(p)e
F0(!)d FV(e)f FG(2)d FV(q)15 b F0(!)d FV(f)311 1852 y
F4(using)i(the)g(relation)p Black Black 436 1918 a FP(case)i
FV(p)568 1924 y FS(1)598 1918 y F0(!)11 b FV(e)673 1924
y FS(1)698 1918 y FG(2)j FQ(:)7 b(:)g(:)13 b FG(2)7 b
FV(p)868 1924 y FJ(n)903 1918 y F0(!)k FV(e)978 1924
y FJ(n)1036 1918 y F4(=)519 1975 y FP(case)16 b FV(p)651
1981 y FS(1)681 1975 y F0(!)11 b FV(e)756 1981 y FS(1)786
1975 y FG(2)h F4(\()p FV(p)869 1981 y FS(2)896 1975 y
F0(_)d FQ(:)e(:)g(:)h F0(_)h FV(p)1052 1981 y FJ(n)1076
1975 y F4(\))i F0(!)g F4(\()p FP(case)16 b FV(p)1304
1981 y FS(2)1334 1975 y F0(!)11 b FV(e)1409 1981 y FS(2)1435
1975 y FG(2)j FQ(:)7 b(:)g(:)12 b FG(2)7 b FV(p)1604
1981 y FJ(n)1639 1975 y F0(!)k FV(e)1714 1981 y FJ(n)1738
1975 y F4(\))p Black 270 2057 a F0(\017)p Black 20 w
F4(Constructs)16 b(that)e(in)o(tro)q(duce)g(b)q(ound)g(v)n
(ariables|for)f(example,)p Black Black 436 2123 a F0(9)7
b FV(x)17 b F0(2)11 b FV(S)24 b F4(:)18 b FV(x)c F4(+)c
FV(z)16 b FQ(>)c FV(y)311 2189 y F4(W)m(e)i(can)g(rewrite)h(this)f
(expression)h(as)p Black Black 436 2256 a FV(ExistsIn)s
F4(\()p FV(S)5 b FQ(;)19 b(\025)14 b FV(x)f F4(:)8 b
FV(x)14 b F4(+)c FV(z)16 b FQ(>)c FV(y)t F4(\))311 2322
y(where)h FV(ExistsIn)i F4(is)d(a)f(2nd-order)i(op)q(erator)f(of)f
(arit)o(y)g F0(h)p 1185 2322 21 3 v 38 w FQ(;)j F0(h)p
1264 2322 V 41 w(i)d(i)p F4(.)17 b(All)11 b(the)i(v)n(arian)o(ts)311
2372 y(of)d(the)h F0(9)17 b F4(construct)12 b(can)e(b)q(e)h(represen)o
(ted)i(as)d(expressions)i(using)e(either)h F0(9)c FV(x)17
b F0(2)11 b FV(S)i F4(:)8 b FV(e)311 2422 y F4(or)14
b F0(9)7 b FV(x)13 b F4(:)8 b FV(e)s F4(.)18 b(\(Section)d(16.1.1)d
(sho)o(ws)i(ho)o(w)f(these)j(v)n(arian)o(ts)d(can)h(b)q(e)g(translated)
h(in)o(to)311 2472 y(expressions)20 b(using)d(only)h
F0(9)7 b FV(x)13 b F4(:)8 b FV(e)s F4(,)18 b(but)g(those)h
(translations)f(don't)f(main)o(tain)e(the)p Black Black
eop
%%Page: 321 339
321 338 bop Black 208 275 a FR(17.2.)30 b(LEVELS)1428
b F4(321)p 208 282 1770 2 v Black 311 391 a(scoping)12
b(rules|for)g(example,)f(rewriting)g F0(9)c FV(x)17 b
F0(2)11 b FV(S)j F4(:)7 b FV(e)15 b F4(as)d F0(9)7 b
FV(x)14 b F4(:)7 b(\()p FV(x)17 b F0(2)11 b FV(S)5 b
F4(\))10 b F0(^)f FV(e)15 b F4(mo)o(v)o(es)311 441 y
FV(S)k F4(inside)14 b(the)h(scop)q(e)g(of)e(the)i(b)q(ound)f(v)n
(ariable)e FV(x)5 b F4(.\))311 506 y(All)11 b(other)i(constructs)h
(that)e(in)o(tro)q(duce)g(b)q(ound)g(v)n(ariables,)f(suc)o(h)i(as)f
F0(f)p FV(x)k F0(2)11 b FV(S)j F4(:)7 b FV(exp)s F0(g)p
F4(,)311 556 y(can)14 b(similarly)d(b)q(e)j(expressed)i(in)d(the)i
(form)c FV(Op)s F4(\()p FV(e)1110 562 y FS(1)1129 556
y FQ(;)c(:)g(:)g(:)e(;)i FV(e)1244 562 y FJ(n)1267 556
y F4(\))14 b(using)f FQ(\025)h F4(expressions)311 606
y(and)k(2nd-order)g(op)q(erators)g FV(Op)s F4(.)29 b(\(Chapter)18
b(16)f(explains)g(ho)o(w)g(to)g(express)j(con-)311 656
y(structs)e(lik)o(e)d F0(fh)p FV(x)5 b FQ(;)i FV(y)t
F0(i)k(2)g FV(S)j F4(:)7 b FV(exp)s F0(g)p F4(,)16 b(whic)o(h)g(ha)o(v)
o(e)f(a)h(tuple)g(of)f(b)q(ound)h(iden)o(ti\014ers,)g(in)311
706 y(terms)e(of)f(constructs)j(with)e(ordinary)f(b)q(ound)h(iden)o
(ti\014ers.\))p Black 270 786 a F0(\017)p Black 20 w
F4(Op)q(erator)d(applications)e(suc)o(h)i(as)f FV(M)d
F4(\()p FV(x)e F4(\))s(!)s FV(Op)s F4(\()p FV(y)t FQ(;)i
FV(z)e F4(\))10 b(that)g(arise)g(from)f(instan)o(tiation.)311
836 y(W)m(e)14 b(write)g(this)g(as)g FV(M)c F4(!)s FV(Op)s
F4(\()p FV(x)5 b FQ(;)i FV(y)t FQ(;)g FV(z)e F4(\).)p
Black 270 917 a F0(\017)p Black 20 w FP(let)18 b F4(expressions.)32
b(The)19 b(meaning)d(of)h(a)h FP(let)g F4(expression)h(is)f(explained)g
(in)f(Sec-)311 967 y(tion)e(17.4)f(b)q(elo)o(w.)22 b(F)m(or)15
b(no)o(w,)g(w)o(e)g(consider)i(only)e FP(let)p F4(-free)h
FQ(\025)f F4(expressions|ones)311 1016 y(that)f(con)o(tain)g(no)f
FP(let)h F4(expressions.)208 1095 y(F)m(or)d(uniformit)o(y)m(,)e(I)k
(will)d(call)i(an)g(op)q(erator)h(sym)o(b)q(ol)d(an)i
FV(identi\014er)p F4(,)g(ev)o(en)h(if)f(it)g(is)g(a)g(sym)o(b)q(ol)208
1145 y(lik)o(e)h(+)h(that)g(isn't)f(an)h(iden)o(ti\014er)g(according)g
(to)g(the)g(syn)o(tax)g(of)f(Chapter)i(15.)208 1281 y
F3(17.1.4)65 b(Expressions)208 1372 y F4(W)m(e)10 b(can)g(no)o(w)g
(inductiv)o(ely)g(de\014ne)h(an)g(expression)g(to)f(b)q(e)h(either)h(a)
e(0th-order)h(op)q(erator,)g(or)208 1422 y(to)j(ha)o(v)o(e)h(the)g
(form)f FV(Op)s F4(\()p FV(e)622 1428 y FS(1)640 1422
y FQ(;)7 b(:)g(:)g(:)e(;)i FV(e)755 1428 y FJ(n)778 1422
y F4(\))15 b(where)i FV(Op)g F4(is)e(an)f(op)q(erator)i(and)f(eac)o(h)g
FV(e)1469 1428 y FJ(i)1499 1422 y F4(is)g(either)208
1471 y(an)j(expression)i(or)f(a)f(1st-order)i(op)q(erator.)33
b(The)19 b(expression)h(m)o(ust)e(b)q(e)h FV(arity-c)n(orr)n(e)n(ct)p
F4(,)208 1521 y(meaning)11 b(that)i FV(Op)j F4(m)o(ust)c(ha)o(v)o(e)h
(arit)o(y)g F0(h)s FV(a)870 1527 y FS(1)890 1521 y FQ(;)7
b(:)g(:)g(:)t(;)g FV(a)1006 1527 y FJ(n)1034 1521 y F0(i)p
F4(,)13 b(where)h(eac)o(h)g FV(a)1311 1527 y FJ(i)1340
1521 y F4(is)f(the)h(arit)o(y)e(of)h FV(e)1619 1527 y
FJ(i)1634 1521 y F4(.)208 1571 y(In)i(other)i(w)o(ords,)f
FV(e)527 1577 y FJ(i)558 1571 y F4(m)o(ust)f(b)q(e)h(an)g(expression)g
(if)f FV(a)1046 1577 y FJ(i)1078 1571 y F4(equals)p 1213
1571 21 3 v 50 w(;)h(otherwise)h(it)f(m)o(ust)e(b)q(e)208
1621 y(a)h(1st-order)h(op)q(erator)g(with)f(arit)o(y)g
FV(a)811 1627 y FJ(i)827 1621 y F4(.)23 b(W)m(e)15 b(require)h(that)g
FV(Op)i F4(not)d(b)q(e)h(a)g FQ(\025)f F4(expression.)208
1671 y(\(If)e(it)h(is,)g(w)o(e)g(can)g(use)h FQ(\014)i
F4(reduction)d(to)g(ev)n(aluate)g FV(Op)s F4(\()p FV(e)1102
1677 y FS(1)1121 1671 y FQ(;)7 b(:)g(:)g(:)t(;)g FV(e)1235
1677 y FJ(n)1259 1671 y F4(\))14 b(and)g(eliminate)e(the)j
FQ(\025)208 1720 y F4(expression)h FV(Op)s F4(.\))23
b(Hence,)16 b(a)g FQ(\025)f F4(expression)i(can)e(app)q(ear)h(in)f(an)g
(expression)i(only)e(as)g(an)208 1770 y(argumen)o(t)9
b(of)h(a)g(2nd-order)h(op)q(erator.)17 b(This)11 b(implies)d(that)j
(only)e(1st-order)j FQ(\025)e F4(expressions)208 1820
y(can)k(app)q(ear)g(in)f(an)h(expression.)270 1870 y(W)m(e)c(ha)o(v)o
(e)g(eliminated)e(all)h(b)q(ound)h(iden)o(ti\014ers)h(except)h(the)f
(ones)g(in)e FQ(\025)i F4(expressions.)18 b(W)m(e)208
1920 y(main)o(tain)13 b(the)j(TLA)544 1905 y FS(+)580
1920 y F4(requiremen)o(t)g(that)g(an)g(iden)o(ti\014er)g(that)g
(already)f(has)h(a)g(meaning)208 1970 y(cannot)9 b(b)q(e)h(used)h(as)e
(a)g(b)q(ound)h(iden)o(ti\014er.)17 b(Th)o(us,)10 b(in)f(an)o(y)g
FQ(\025)g F4(expression)i FQ(\025)c FV(p)1386 1976 y
FS(1)1405 1970 y FQ(;)g(:)g(:)g(:)t(;)g FV(p)1521 1976
y FJ(n)1553 1970 y F4(:)g FV(exp)s F4(,)208 2019 y(the)k(iden)o
(ti\014ers)g(of)g(the)g(parameters)g FV(p)812 2025 y
FJ(i)838 2019 y F4(cannot)g(app)q(ear)g(as)g(parameter)f(iden)o
(ti\014ers)i(in)e(an)o(y)208 2069 y FQ(\025)k F4(expression)h(that)f(o)
q(ccurs)h(in)e FV(exp)s F4(.)270 2119 y(Remem)o(b)q(er)8
b(that)h FQ(\025)h F4(expressions)h(are)f(used)g(only)f(to)g(explain)g
(the)h(seman)o(tics)f(of)g(TLA)1614 2104 y FS(+)1634
2119 y F4(.)208 2169 y(They)14 b(are)g(not)f(part)h(of)f(the)h
(language,)e(and)i(they)g(can't)f(b)q(e)i(used)f(in)f(a)h(TLA)1447
2154 y FS(+)1481 2169 y F4(sp)q(eci\014ca-)208 2219 y(tion.)208
2376 y FN(17.2)82 b(Lev)n(els)208 2467 y F4(TLA)295 2452
y FS(+)331 2467 y F4(has)15 b(a)g(class)h(of)f(syn)o(tactic)h
(restrictions)g(that)g(come)e(from)g(the)i(underlying)f(logic)208
2517 y(TLA)c(and)g(ha)o(v)o(e)h(no)f(coun)o(terpart)i(in)e(ordinary)g
(mathematics.)k(The)d(simplest)e(of)h(these)i(is)p Black
Black eop
%%Page: 322 340
322 339 bop Black 208 275 a F4(322)768 b FR(CHAPTER)14
b(17.)32 b(THE)14 b(MEANING)g(OF)g(A)g(MODULE)p 208 282
1770 2 v Black 208 391 a F4(that)g(\\double-priming")c(is)k
(prohibited.)k(F)m(or)c(example,)e(\()p FV(x)1175 376
y FH(0)1196 391 y F4(+)e FV(y)t F4(\))1278 376 y FH(0)1303
391 y F4(is)k(not)g(syn)o(tactically)208 441 y(w)o(ell-formed,)d(and)i
(is)h(therefore)h(meaningless,)d(b)q(ecause)k(the)e(op)q(erator)1372
426 y FH(0)1397 441 y F4(\(priming\))e(can)208 491 y(b)q(e)h(applied)f
(only)f(to)h(a)h(state)g(function,)f(not)g(to)h(a)f(transition)g
(function)g(lik)o(e)g FV(x)1455 476 y FH(0)1473 491 y
F4(+)6 b FV(y)t F4(.)18 b(This)208 541 y(class)c(of)f(restriction)i(is)
f(expressed)i(in)d(terms)h(of)f FV(levels)p F4(.)270
591 y(In)j(TLA,)g(an)g(expression)h(has)f(one)h(of)e(four)h(basic)h
(lev)o(els,)f(whic)o(h)g(are)h(n)o(um)o(b)q(ered)f(0,)208
640 y(1,)c(2,)h(and)h(3.)j(These)e(lev)o(els)f(are)g(describ)q(ed)h(b)q
(elo)o(w,)e(using)g(examples)g(that)g(assume)g FV(x)5
b F4(,)14 b FV(y)t F4(,)208 690 y(and)f FV(c)k F4(are)d(declared)h(b)o
(y)p Black Black 332 773 a FP(v)l(ariables)j FV(x)5 b
FQ(;)i FV(y)86 b FP(const)m(ant)16 b FV(c)208 856 y F4(and)d(sym)o(b)q
(ols)g(lik)o(e)g(+)h(ha)o(v)o(e)g(their)g(usual)g(meanings.)p
Black 258 939 a(0.)p Black 20 w(A)j FV(c)n(onstant)t
F4(-lev)o(el)f(expression)i(is)e(a)g(constan)o(t;)h(it)f(con)o(tains)g
(only)g(constan)o(ts)h(and)311 989 y(constan)o(t)e(op)q(erators.)k
(Example:)d FV(c)c F4(+)d(3.)p Black 258 1072 a(1.)p
Black 20 w(A)14 b FV(state)s F4(-lev)o(el)e(expression)i(is)f(a)g
(state)h(function;)f(it)f(ma)o(y)f(con)o(tain)i(constan)o(ts,)h(con-)
311 1122 y(stan)o(t)g(op)q(erators,)h(and)f(unprimed)e(v)n(ariables.)18
b(Example:)e FV(x)f F4(+)9 b(2)g F0(\003)g FV(c)r F4(.)p
Black 258 1205 a(2.)p Black 20 w(A)15 b FV(tr)n(ansition)s
F4(-lev)o(el)f(expression)i(is)e(a)g(transition)g(function;)h(it)f(ma)o
(y)e(con)o(tain)j(an)o(y-)311 1255 y(thing)f(except)h(temp)q(oral)e(op)
q(erators.)19 b(Example:)d FV(x)1139 1240 y FH(0)1160
1255 y F4(+)10 b FV(y)15 b FQ(>)d FV(c)r F4(.)p Black
258 1338 a(3.)p Black 20 w(A)f FV(temp)n(or)n(al)t F4(-lev)o(el)e
(expression)j(is)e(a)g(temp)q(oral)f(form)o(ula;)g(it)h(ma)o(y)e(con)o
(tain)i(an)o(y)g(TLA)311 1388 y(op)q(erator.)19 b(Example:)d
FG(2)p F4([)p FV(x)750 1373 y FH(0)773 1388 y FQ(>)c
FV(y)h F4(+)d FV(c)r F4(])925 1395 y FH(h)s FJ(x)t Fy(;)5
b FJ(y)g FH(i)1013 1388 y F4(.)208 1471 y(Chapter)14
b(16)g(assigns)g(meanings)e(to)i(all)f(basic)h(expressions|ones)h(con)o
(taining)e(only)g(the)208 1520 y(built-in)f(op)q(erators)j(of)f(TLA)674
1505 y FS(+)709 1520 y F4(and)g(declared)h(constan)o(ts)g(and)f(v)n
(ariables.)k(The)d(meaning)208 1570 y(assigned)f(to)f(an)h(expression)h
(dep)q(ends)h(as)e(follo)o(ws)e(on)i(its)g(lev)o(el.)p
Black 258 1653 a(0.)p Black 20 w(The)h(meaning)e(of)h(a)g(constan)o
(t-lev)o(el)h(basic)g(expression)g(is)g(a)f(constan)o(t-lev)o(el)h
(basic)311 1703 y(expression)g(con)o(taining)e(only)g(primitiv)o(e)f
(op)q(erators.)p Black 258 1786 a(1.)p Black 20 w(The)i(meaning)e(of)h
(a)g(state-lev)o(el)g(basic)h(expression)h FV(e)h F4(is)d(an)h
(assignmen)o(t)e(of)h(a)g(con-)311 1836 y(stan)o(t)h(expression)i
FV(s)s F4([)-7 b([)p FV(e)s F4(])g(])12 b(to)i(an)o(y)f(state)i
FV(s)s F4(.)p Black 258 1919 a(2.)p Black 20 w(The)f(meaning)e(of)h(a)g
(transition-lev)o(el)g(basic)h(expression)g FV(e)j F4(is)c(an)h
(assignmen)o(t)e(of)h(a)311 1969 y(constan)o(t)i(expression)g
F0(h)s FV(s)s FQ(;)7 b FV(t)g F0(i)p F4([)-7 b([)p FV(e)s
F4(])g(])13 b(to)h(an)o(y)f(transition)h FV(s)g F0(!)d
FV(t)t F4(.)p Black 258 2052 a(3.)p Black 20 w(The)k(meaning)c(of)j(a)f
(temp)q(oral-lev)o(el)f(basic)i(expression)h FV(F)k F4(is)14
b(an)f(assignmen)o(t)g(of)g(a)311 2102 y(constan)o(t)i(expression)g
FQ(\033)e F0(j)-7 b F4(=)11 b FV(F)19 b F4(to)14 b(an)o(y)g(b)q(eha)o
(vior)f FQ(\033)q F4(.)208 2185 y(An)d(expression)i(of)e(an)o(y)f(lev)o
(el)i(can)f(b)q(e)h(considered)h(to)e(b)q(e)h(an)g(expression)g(of)f(a)
g(higher)h(lev)o(el,)208 2234 y(except)i(that)f(a)g(transition-lev)o
(el)f(expression)i(is)f(not)g(a)g(temp)q(oral-lev)o(el)e(expression.)
1548 2219 y FS(2)1585 2234 y F4(F)m(or)208 2284 y(example,)i(if)h
FV(x)20 b F4(is)14 b(a)g(declared)h(v)n(ariable,)d(then)j(the)g
(state-lev)o(el)g(expression)g FV(x)i FQ(>)12 b F4(2)i(is)g(the)p
Black 208 2319 576 2 v 254 2346 a FK(2)271 2357 y FZ(More)g(precisely)m
(,)e(a)i(transition-lev)n(el)d(expression)h(that)h(is)h(not)g(a)g
(state-lev)o(el)d(expression)h(is)i(not)f(a)208 2397
y(temp)q(oral-l)o(ev)o(e)o(l)c(expression.)p Black Black
Black eop
%%Page: 323 341
323 340 bop Black 208 275 a FR(17.2.)30 b(LEVELS)1428
b F4(323)p 208 282 1770 2 v Black 208 391 a(temp)q(oral-lev)o(el)11
b(form)o(ula)f(suc)o(h)j(that)g FQ(\033)g F0(j)-7 b F4(=)12
b FV(x)18 b F4(is)12 b(the)i(v)n(alue)e(of)g FV(x)17
b FQ(>)12 b F4(2)g(in)h(the)g(\014rst)h(state)f(of)208
441 y FQ(\033)q F4(,)g(for)h(an)o(y)f(b)q(eha)o(vior)h
FQ(\033)q F4(.)607 426 y FS(3)270 491 y F4(A)g(set)i(of)e(simple)f
(rules)i(inductiv)o(ely)f(de\014nes)i(whether)g(a)e(basic)g(expression)
i(is)f FV(level-)208 541 y(c)n(orr)n(e)n(ct)h F4(and,)e(if)f(so,)g
(what)h(its)g(lev)o(el)f(is.)18 b(Here)d(are)g(some)e(of)g(the)h
(rules:)p Black 270 624 a F0(\017)p Black 20 w F4(A)g(declared)h
(constan)o(t)g(is)e(a)h(lev)o(el-correct)h(expression)g(of)e(lev)o(el)h
(0.)p Black 270 707 a F0(\017)p Black 20 w F4(A)g(declared)h(v)n
(ariable)e(is)h(a)f(lev)o(el-correct)i(expression)g(of)f(lev)o(el)f(1.)
p Black 270 790 a F0(\017)p Black 20 w F4(If)h FV(Op)j
F4(is)d(declared)h(to)e(b)q(e)i(a)f(1st-order)h(constan)o(t)f(op)q
(erator,)g(then)h(the)g(expression)311 840 y FV(Op)s
F4(\()p FV(e)405 846 y FS(1)424 840 y FQ(;)7 b(:)g(:)g(:)e(;)i
FV(e)539 846 y FJ(n)562 840 y F4(\))14 b(is)g(lev)o(el-correct)h(i\013)
e(eac)o(h)i FV(e)1032 846 y FJ(i)1061 840 y F4(is)f(lev)o(el-correct,)g
(in)f(whic)o(h)h(case)h(its)311 889 y(lev)o(el)f(is)g(the)g(maxim)n(um)
c(of)j(the)i(lev)o(els)f(of)f(the)h FV(e)1083 895 y FJ(i)1099
889 y F4(.)p Black 270 972 a F0(\017)p Black 20 w FV(e)333
978 y FS(1)372 972 y F0(2)19 b FV(e)441 978 y FS(2)479
972 y F4(is)f(lev)o(el-correct)i(i\013)f FV(e)840 978
y FS(1)878 972 y F4(and)f FV(e)985 978 y FS(2)1023 972
y F4(are,)i(in)e(whic)o(h)h(case)g(its)g(lev)o(el)g(is)f(the)311
1022 y(maxim)o(um)9 b(of)k(the)i(lev)o(els)f(of)f FV(e)804
1028 y FS(1)837 1022 y F4(and)g FV(e)939 1028 y FS(2)958
1022 y F4(.)p Black 270 1105 a F0(\017)p Black 20 w FV(e)333
1090 y FH(0)358 1105 y F4(is)f(lev)o(el-correct)i(and)e(has)h(lev)o(el)
f(2)g(i\013)h FV(e)i F4(is)e(lev)o(el-correct)g(and)g(has)f(lev)o(el)h
(at)f(most)311 1155 y(1.)344 1140 y FS(4)p Black 270
1238 a F0(\017)p Black 20 w FP(enabled)f FV(e)j F4(is)e(lev)o
(el-correct)g(and)f(has)h(lev)o(el)f(1)g(i\013)g FV(e)j
F4(is)d(lev)o(el-correct)i(and)e(has)g(lev)o(el)311 1288
y(at)j(most)f(2.)p Black 270 1371 a F0(\017)p Black 20
w(9)7 b FV(x)14 b F4(:)7 b FV(e)19 b F4(is)d(lev)o(el-correct)h(and)f
(has)g(lev)o(el)f FV(l)20 b F4(i\013)15 b FV(e)k F4(is)d(lev)o
(el-correct)h(and)f(has)g(lev)o(el)f FV(l)t F4(,)311
1421 y(when)g FV(x)k F4(is)14 b(considered)h(to)f(b)q(e)g(a)g(declared)
h(constan)o(t.)p Black 270 1504 a F0(\017)p Black 311
1502 a(9)-21 b(9)g(9)311 1504 y(9)g(9)g(9)7 b FV(x)13
b F4(:)7 b FV(e)16 b F4(is)c(lev)o(el-correct)i(and)e(has)h(lev)o(el)f
(3)g(i\013)h FV(e)i F4(is)e(lev)o(el-correct)g(and)g(has)f(an)o(y)g
(lev)o(el)311 1554 y(other)j(than)f(2,)f(when)h FV(x)19
b F4(is)14 b(considered)h(to)f(b)q(e)h(a)e(declared)i(v)n(ariable.)208
1637 y(There)g(are)f(similar)d(rules)k(for)e(the)i(other)f(TLA)963
1622 y FS(+)998 1637 y F4(op)q(erators.)270 1686 y(A)d(useful)h
(consequence)i(of)d(these)i(rules)f(is)f(that)h(lev)o(el-correctness)i
(of)d(a)g(basic)h(expres-)208 1736 y(sion)j(do)q(es)i(not)f(dep)q(end)i
(on)e(the)h(lev)o(els)f(of)f(the)i(declared)g(iden)o(ti\014ers.)26
b(In)16 b(other)h(w)o(ords,)208 1786 y(an)12 b(expression)i
FV(e)i F4(is)d(lev)o(el-correct)h(when)g FV(c)h F4(is)e(declared)g(to)g
(b)q(e)h(a)e(constan)o(t)i(i\013)e(it)h(is)f(lev)o(el-)208
1836 y(correct)h(when)g FV(c)h F4(is)e(declared)g(to)g(b)q(e)h(a)e(v)n
(ariable.)16 b(Of)c(course,)h(the)g(lev)o(el)e(of)h FV(e)j
F4(ma)o(y)10 b(dep)q(end)208 1886 y(on)j(the)i(lev)o(el)e(of)h
FV(c)r F4(.)270 1936 y(W)m(e)e(can)g(abstract)h(these)h(rules)f(b)o(y)f
(generalizing)g(the)h(concept)g(of)f(a)g(lev)o(el.)17
b(So)12 b(far,)g(w)o(e)208 1985 y(ha)o(v)o(e)g(de\014ned)j(the)e(lev)o
(el)g(only)f(of)h(an)g(expression.)19 b(W)m(e)12 b(can)i(de\014ne)g
(the)g(lev)o(el)e(of)h(a)g(1st-)g(or)208 2035 y(2nd-order)d(op)q
(erator)g FV(Op)j F4(to)d(b)q(e)g(a)g(rule)g(for)g(determining)e(the)j
(lev)o(el-correctness)h(and)e(lev)o(el)208 2085 y(of)j(an)h(expression)
i FV(Op)s F4(\()p FV(e)608 2091 y FS(1)626 2085 y FQ(;)7
b(:)g(:)g(:)e(;)i FV(e)741 2091 y FJ(n)765 2085 y F4(\))14
b(as)g(a)g(function)g(of)g(the)h(lev)o(els)f(of)f(the)i(argumen)o(ts)f
FV(e)1619 2091 y FJ(i)1634 2085 y F4(.)208 2135 y(The)d(lev)o(el)f(of)g
(a)h(1st-order)h(op)q(erator)f(is)g(a)f(rule,)h(so)g(the)h(lev)o(el)e
(of)g(a)h(2nd-order)g(op)q(erator)g FV(Op)208 2185 y
F4(is)j(a)g(rule)g(that)h(dep)q(ends)g(in)f(part)h(on)f(rules|namely)m
(,)e(on)i(the)h(lev)o(els)f(of)g(the)h(argumen)o(ts)208
2234 y(that)h(are)h(op)q(erators.)26 b(This)17 b(mak)o(es)e(a)h
(rigorous)g(general)h(de\014nition)f(of)g(lev)o(els)g(for)g(2nd-)208
2284 y(order)f(op)q(erators)h(rather)f(complicated.)k(F)m(ortunately)m
(,)14 b(there's)i(a)e(simpler,)f(less)j(general)p Black
208 2319 576 2 v 254 2346 a FK(3)271 2357 y FZ(The)e(expression)d
FY(x)j FZ(+)c(2)j(can)g(b)q(e)h(considered)d(to)i(b)q(e)g(a)h(temp)q
(oral-le)o(v)o(el)d(expression)g(that,)i(lik)o(e)g(the)208
2397 y(temp)q(oral-l)o(ev)o(e)o(l)e(expression)g Fs(2)p
FZ(\()p FY(x)j FZ(+)9 b(2\),)14 b(is)f(silly)m(.)21 b(\(See)12
b(the)h(discussion)e(of)i(silliness)f(in)h(Section)f(6.2)h(on)208
2436 y(page)d(67.\))254 2464 y FK(4)271 2476 y FZ(If)g
FY(e)k FZ(is)d(a)f(constan)o(t)f(expression,)f(then)h
FY(e)816 2464 y FX(0)839 2476 y FZ(equals)g FY(e)r FZ(,)j(so)f(w)o(e)g
(could)e(consider)f FY(e)1326 2464 y FX(0)1349 2476 y
FZ(to)j(ha)o(v)o(e)e(lev)o(el)h(0.)k(F)m(or)208 2515
y(simplicit)o(y)m(,)8 b(w)o(e)k(consider)e FY(e)583 2504
y FX(0)607 2515 y FZ(to)h(ha)o(v)o(e)f(lev)o(el)g(2)i(ev)o(en)e(if)i
FY(e)i FZ(is)e(a)f(constan)o(t.)p Black Black Black eop
%%Page: 324 342
324 341 bop Black 208 275 a F4(324)768 b FR(CHAPTER)14
b(17.)32 b(THE)14 b(MEANING)g(OF)g(A)g(MODULE)p 208 282
1770 2 v Black 208 391 a F4(de\014nition)h(that)g(handles)h(all)e(the)i
(op)q(erators)g(of)f(TLA)1090 376 y FS(+)1111 391 y F4(.)22
b(Ev)o(en)16 b(more)f(fortunately)m(,)f(y)o(ou)208 441
y(don't)f(ha)o(v)o(e)g(to)h(kno)o(w)f(it,)g(so)g(I)h(w)o(on't)f(b)q
(other)h(writing)f(it)h(do)o(wn.)j(All)c(y)o(ou)g(need)i(to)e(kno)o(w)
208 491 y(is)e(that)h(there)i(exists)e(a)g(w)o(a)o(y)f(of)g(assigning)h
(a)f(lev)o(el)h(to)g(ev)o(ery)g(built-in)f(op)q(erator)h(of)g(TLA)1614
476 y FS(+)1634 491 y F4(.)208 541 y(The)18 b(lev)o(el-correctness)i
(and)e(lev)o(el)f(of)h(an)o(y)f(basic)h(expression)h(is)f(then)g
(determined)g(b)o(y)208 591 y(those)11 b(lev)o(els)g(and)g(the)h(lev)o
(els)f(of)f(the)i(declared)g(iden)o(ti\014ers)g(that)f(o)q(ccur)h(in)f
(the)g(expression.)270 640 y(One)f(imp)q(ortan)o(t)e(class)j(of)e(op)q
(erator)h(lev)o(els)g(are)g(the)h FV(c)n(onstant)j F4(lev)o(els.)j(An)o
(y)10 b(expression)208 690 y(built)16 b(from)g(constan)o(t-lev)o(el)i
(op)q(erators)g(and)g(declared)g(constan)o(ts)h(has)f(constan)o(t)g
(lev)o(el.)208 740 y(The)11 b(built-in)f(constan)o(t)i(op)q(erators)g
(of)e(TLA)912 725 y FS(+)933 740 y F4(,)h(listed)g(in)g(T)m(ables)g(1)f
(and)h(2)g(\(pages)h(268)e(and)208 790 y(269\))k(all)h(ha)o(v)o(e)g
(constan)o(t)h(lev)o(el.)22 b(An)o(y)16 b(op)q(erator)g(de\014ned)g
(solely)f(in)g(terms)h(of)e(constan)o(t-)208 840 y(lev)o(el)f(op)q
(erators)i(and)f(declared)g(constan)o(ts)h(has)f(constan)o(t)h(lev)o
(el.)270 889 y(W)m(e)g(no)o(w)g(extend)h(the)g(de\014nition)f(of)f(lev)
o(el-correctness)k(from)13 b(expressions)k(to)e FQ(\025)h
F4(ex-)208 939 y(pressions.)i(W)m(e)12 b(de\014ne)h(the)g
FQ(\025)f F4(expression)i FQ(\025)p FV(p)940 945 y FS(1)959
939 y FQ(;)7 b(:)g(:)g(:)t(;)g FV(p)1075 945 y FJ(n)1106
939 y F4(:)h FV(exp)15 b F4(to)e(b)q(e)f(lev)o(el-correct)i(i\013)e
FV(exp)208 989 y F4(is)17 b(lev)o(el-correct)j(when)e(the)h
FQ(\025)f F4(parameter)g(iden)o(ti\014ers)h(are)f(declared)h(to)f(b)q
(e)h(constan)o(ts)208 1039 y(of)d(the)h(appropriate)g(arit)o(y)m(.)26
b(F)m(or)17 b(example,)f FQ(\025)p FV(p)s FQ(;)d FV(q)t
F4(\()p 1055 1039 21 3 v 35 w(\))8 b(:)f FV(exp)20 b
F4(is)d(lev)o(el-correct)h(i\013)f FV(exp)j F4(is)208
1089 y(lev)o(el-correct)15 b(with)e(the)i(additional)d(declaration)p
Black Black 332 1157 a FP(const)m(ants)k FV(p)s FQ(;)e
FV(q)t F4(\()p 655 1157 V 34 w(\))208 1225 y(This)k(inductiv)o(ely)h
(de\014nes)h(lev)o(el-correctness)h(for)e FQ(\025)g F4(expressions.)34
b(The)20 b(de\014nition)e(is)208 1274 y(reasonable)e(b)q(ecause,)i(as)e
(observ)o(ed)h(a)f(few)g(paragraphs)h(ago,)e(the)i(lev)o
(el-correctness)h(of)208 1324 y FV(exp)e F4(do)q(esn't)e(dep)q(end)h
(on)e(whether)i(w)o(e)e(assign)h(lev)o(el)f(0)g(or)g(1)g(to)h(the)g
FQ(\025)f F4(parameters.)18 b(One)208 1374 y(can)12 b(also)g(de\014ne)h
(the)g(lev)o(el)f(of)f(an)h(arbitrary)g FQ(\025)h F4(expression,)g(but)
f(that)h(w)o(ould)e(require)i(the)208 1424 y(general)h(de\014nition)f
(of)g(the)i(lev)o(el)e(of)h(an)f(op)q(erator,)h(whic)o(h)g(w)o(e)g(w)o
(an)o(t)g(to)f(a)o(v)o(oid.)208 1579 y FN(17.3)82 b(Con)n(texts)208
1670 y F4(Syn)o(tactic)12 b(correctness)i(of)d(a)h(basic)g(expression)h
(dep)q(ends)g(on)e(the)i(arities)e(of)h(the)g(declared)208
1720 y(iden)o(ti\014ers.)18 b(The)13 b(expression)h FV(F)m(o)n(o)g
F4(=)e F0(fg)g F4(is)g(syn)o(tactically)g(correct)i(if)e
FV(F)m(o)n(o)j F4(is)e(declared)g(to)208 1769 y(b)q(e)i(a)g(v)n
(ariable,)f(and)h(hence)h(of)f(arit)o(y)p 824 1769 V
49 w(,)g(but)g(not)g(if)g(it's)f(declared)i(to)f(b)q(e)h(a)f
(\(1st-order\))208 1819 y(constan)o(t)h(of)e(arit)o(y)h
F0(h)p 553 1819 V 42 w(i)p F4(.)23 b(The)16 b(meaning)e(of)g(a)i(basic)
f(expression)i(also)e(dep)q(ends)i(on)e(the)208 1869
y(lev)o(els)c(of)g(the)i(declared)f(iden)o(ti\014ers.)19
b(W)m(e)11 b(can't)g(determine)h(those)h(arities)e(and)h(lev)o(els)g
(just)208 1919 y(b)o(y)g(lo)q(oking)g(at)h(the)h(expression)g(itself;)e
(they)i(are)f(implied)e(b)o(y)i(the)h(con)o(text)g(in)e(whic)o(h)h(the)
208 1969 y(expression)j(app)q(ears.)21 b(A)15 b(non)o(basic)g
(expression)h(con)o(tains)f(de\014ned)h(as)f(w)o(ell)f(as)h(declared)
208 2019 y(op)q(erators.)27 b(Its)17 b(syn)o(tactic)h(correctness)h
(and)e(meaning)e(dep)q(end)j(on)e(the)i(de\014nitions)e(of)208
2068 y(those)11 b(op)q(erators,)h(whic)o(h)f(also)g(dep)q(end)h(on)f
(the)h(con)o(text.)17 b(This)11 b(section)h(de\014nes)h(a)d(precise)208
2118 y(notion)j(of)g(a)h(con)o(text.)270 2168 y(F)m(or)j(uniformit)o(y)
m(,)e(built-in)h(op)q(erators)i(are)g(treated)h(the)f(same)e(as)i
(de\014ned)g(and)g(de-)208 2218 y(clared)h(op)q(erators.)33
b(Just)19 b(as)g(the)g(con)o(text)g(migh)o(t)e(tell)h(us)h(that)g(the)g
(iden)o(ti\014er)g FV(x)24 b F4(is)18 b(a)208 2268 y(declared)f(v)n
(ariable,)e(it)h(tells)g(us)g(that)h F0(2)e F4(is)h(declared)h(to)f(b)q
(e)h(a)f(constan)o(t-lev)o(el)g(op)q(erator)208 2317
y(of)d(arit)o(y)g F0(h)p 381 2317 V 39 w FQ(;)p 434 2317
V 44 w F0(i)h F4(and)g(that)19 b FQ(=)-26 b F0(2)14 b
F4(is)g(de\014ned)h(to)f(equal)f FQ(\025)p FV(a)s FQ(;)h
FV(b)d F4(:)d F0(:)p F4(\()p F0(2)j F4(\()p FV(a)s FQ(;)j
FV(b)s F4(\)\).)k(W)m(e)c(assume)f(a)208 2367 y(standard)h(con)o(text)g
(that)g(sp)q(eci\014es)i(all)d(the)h(built-in)f(op)q(erators)i(of)e
(TLA)1374 2352 y FS(+)1395 2367 y F4(.)270 2417 y(T)m(o)h(de\014ne)i
(con)o(texts,)g(let's)e(\014rst)i(de\014ne)g(declarations)f(and)f
(de\014nitions.)21 b(A)15 b FV(de)n(clar)n(a-)208 2467
y(tion)h F4(assigns)d(an)f(arit)o(y)h(and)g(lev)o(el)f(to)h(an)g(op)q
(erator)g(name.)k(A)c FV(de\014nition)j F4(assigns)d(a)g
FP(let)p F4(-)208 2517 y(free)g FQ(\025)f F4(expression)h(to)f(an)g(op)
q(erator)h(name.)j(A)d FV(mo)n(dule)g(de\014nition)j
F4(assigns)d(the)g(meaning)p Black Black eop
%%Page: 325 343
325 342 bop Black 208 275 a FR(17.4.)30 b(THE)14 b(MEANING)g(OF)h(A)f
FQ(\025)g FR(EXPRESSION)839 b F4(325)p 208 282 1770 2
v Black 208 391 a(of)16 b(a)h(mo)q(dule)f(to)h(a)g(mo)q(dule)f(name,)g
(where)i(the)g(meaning)e(of)g(a)h(mo)q(dule)f(is)h(de\014ned)h(in)208
441 y(Section)13 b(17.5)f(b)q(elo)o(w.)555 426 y FS(5)592
441 y F4(A)h FV(c)n(ontext)18 b F4(consists)c(of)f(a)g(set)h(of)f
(declarations,)g(de\014nitions,)g(and)208 491 y(mo)q(dule)f
(de\014nitions)i(suc)o(h)g(that)p Black 228 560 a(C1.)p
Black 20 w(An)20 b(op)q(erator)g(name)e(is)i(declared)g(or)g(de\014ned)
g(at)g(most)e(once)i(b)o(y)g(the)g(con)o(text.)311 610
y(\(This)14 b(means)f(that)h(it)g(can't)g(b)q(e)g(b)q(oth)g(declared)h
(and)f(de\014ned.\))p Black 228 686 a(C2.)p Black 20
w(No)f(op)q(erator)g(de\014ned)g(or)g(declared)g(b)o(y)f(the)h(con)o
(text)h(app)q(ears)f(as)g(the)g(iden)o(ti\014er)f(of)311
736 y(a)i FQ(\025)g F4(parameter)g(in)f(an)o(y)g(de\014nition's)h
(expression.)p Black 228 813 a(C3.)p Black 20 w(Ev)o(ery)i(op)q(erator)
g(name)f(that)g(app)q(ears)i(in)e(a)g(de\014nition's)g(expression)h(is)
g(either)g(a)311 862 y FQ(\025)e F4(parameter's)g(iden)o(ti\014er)g(or)
g(is)g(declared)h(\(not)e(de\014ned\))j(b)o(y)d(the)i(con)o(text.)p
Black 228 939 a(C4.)p Black 20 w(No)d(mo)q(dule)e(name)h(is)g(assigned)
h(meanings)f(b)o(y)g(t)o(w)o(o)g(di\013eren)o(t)i(mo)q(dule)d
(de\014nitions.)208 1008 y(Mo)q(dule)16 b(and)h(op)q(erator)g(names)f
(are)h(handled)g(separately)m(.)27 b(The)17 b(same)f(string)g(ma)o(y)f
(b)q(e)208 1058 y(b)q(oth)j(a)g(mo)q(dule)f(name)g(that)i(is)f
(de\014ned)i(b)o(y)e(a)g(mo)q(dule)f(de\014nition)h(and)g(an)g(op)q
(erator)208 1108 y(name)12 b(that)i(is)g(either)h(declared)g(or)e
(de\014ned)i(b)o(y)f(an)g(ordinary)f(de\014nition.)270
1158 y(Here)k(is)g(an)f(example)f(of)h(a)g(con)o(text)h(that)f
(declares)i(the)f(sym)o(b)q(ols)e F0([)p F4(,)h FV(a)s
F4(,)h FV(b)s F4(,)f(and)h F0(2)p F4(,)208 1207 y(de\014nes)e(the)f
(sym)o(b)q(ols)f FV(c)j F4(and)e FV(fo)n(o)s F4(,)f(and)h(de\014nes)h
(the)f(mo)q(dule)f FV(Natur)n(als)s F4(:)p Black Black
332 1281 a F0(f)e([)d F4(:)g F0(h)p 446 1281 21 3 v 38
w FQ(;)p 499 1281 V 44 w F0(i)q FQ(;)68 b FV(a)12 b F4(:)p
686 1281 V 42 w FQ(;)69 b FV(b)10 b F4(:)p 851 1281 V
43 w FQ(;)80 b F0(2)19 b F4(:)8 b F0(h)p 1064 1281 V
38 w FQ(;)p 1117 1281 V 44 w F0(i)q FQ(;)68 b FV(c)1283
1257 y FI(\001)1278 1281 y F4(=)12 b F0([)p F4(\()p FV(a)s
FQ(;)7 b FV(b)s F4(\))p FQ(;)364 1349 y FV(fo)n(o)436
1326 y FI(\001)432 1349 y F4(=)k FQ(\025)p FV(p)s FQ(;)c
FV(q)t F4(\()p 588 1349 V 34 w(\))19 b(:)k F0(2)11 b
F4(\()p FV(p)s FQ(;)c F0([)p F4(\()p FV(q)t F4(\()p FV(b)s
F4(\))p FQ(;)g FV(a)s F4(\)\))p FQ(;)68 b FV(Natur)n(als)1227
1326 y FJ(m)1226 1349 y F4(=)12 b FQ(:)7 b(:)g(:)j F0(g)p
Black 208 1281 a F4(\(17.2\))p Black 208 1417 a(Not)20
b(sho)o(wn)g(are)g(the)h(lev)o(els)f(assigned)h(to)f(the)g(op)q
(erators)h F0([)p F4(,)g FV(a)s F4(,)h FV(b)s F4(,)f(and)f
F0(2)f F4(and)h(the)208 1467 y(meaning)12 b(assigned)i(to)g
FV(Natur)n(als)s F4(.)270 1517 y(If)g F0(C)i F4(is)e(a)g(con)o(text,)g
(a)g F0(C)r FV(-b)n(asic)h FQ(\025)g FV(expr)n(ession)j
F4(is)c(de\014ned)h(to)f(b)q(e)g(a)g FQ(\025)h F4(expression)g(that)208
1566 y(con)o(tains)c(only)g(sym)o(b)q(ols)g(declared)h(in)g
F0(C)i F4(\(in)d(addition)g(to)h FQ(\025)g F4(parameters\).)17
b(F)m(or)12 b(example,)208 1616 y FQ(\025)p FV(x)h F4(:)19
b F0(2)5 b F4(\()p FV(x)g FQ(;)13 b F0([)p F4(\()p FV(a)s
FQ(;)h FV(b)s F4(\)\))f(is)h(a)f F0(C)r F4(-basic)h FQ(\025)g
F4(expression)g(if)f F0(C)j F4(is)d(the)i(con)o(text)f(\(17.2\).)j(Ho)o
(w)o(ev)o(er,)208 1666 y(neither)f F0(\\)p F4(\()p FV(a)s
FQ(;)7 b FV(b)s F4(\))16 b(nor)g FQ(\025)p FV(x)d F4(:)8
b FV(c)r F4(\()p FV(x)d FQ(;)i FV(b)s F4(\))16 b(is)g(a)f
F0(C)r F4(-basic)i FQ(\025)f F4(expression)h(b)q(ecause)g(neither)g
F0(\\)f F4(nor)208 1716 y FV(c)i F4(is)e(declared)g(in)g
F0(C)r F4(.)24 b(\(The)16 b(sym)o(b)q(ol)e FV(c)19 b
F4(is)c(de\014ned,)i(not)f(declared,)h(in)e F0(C)r F4(.\))25
b(A)16 b F0(C)r F4(-basic)g FQ(\025)208 1766 y F4(expression)e(is)f
FV(syntactic)n(al)r(ly)i(c)n(orr)n(e)n(ct)h F4(if)d(it)g(is)g(arit)o
(y-)g(and)g(lev)o(el-correct)i(with)e(the)h(arities)208
1815 y(and)e(lev)o(els)g(assigned)h(b)o(y)f F0(C)j F4(to)e(the)g
(expression's)g(op)q(erators.)19 b(Condition)11 b(C3)h(states)i(that)
208 1869 y(if)e FV(Op)324 1846 y FI(\001)319 1869 y F4(=)19
b FV(exp)d F4(is)e(a)f(de\014nition)f(in)h(con)o(text)h
F0(C)r F4(,)g(then)g FV(exp)i F4(is)d(a)g F0(C)r F4(-basic)h
FQ(\025)f F4(expression.)19 b(W)m(e)208 1919 y(add)13
b(to)h(C3)g(the)g(requiremen)o(t)g(that)g(it)f(b)q(e)i(syn)o
(tactically)e(correct.)270 1973 y(W)m(e)j(also)g(allo)o(w)f(a)i(con)o
(text)g(to)g(con)o(tain)f(a)h(sp)q(ecial)g(de\014nition)f(of)h(the)g
(form)e FV(Op)1592 1950 y FI(\001)1587 1973 y F4(=)7
b(?)208 2023 y(that)12 b(assigns)g(to)g(the)g(name)f
FV(Op)k F4(an)d(\\illegal")d(v)n(alue)j(?)f(that)i(is)e(not)h(a)g
FQ(\025)g F4(expression.)19 b(This)208 2073 y(de\014nition)10
b(indicates)h(that,)g(in)f(the)i(con)o(text,)f(it)g(is)f(illegal)f(to)i
(use)g(the)h(op)q(erator)f(name)f FV(Op)s F4(.)208 2228
y FN(17.4)82 b(The)26 b(Meaning)g(of)h(a)g Ff(\025)g
FN(Expression)208 2319 y F4(W)m(e)18 b(no)o(w)g(de\014ne)h(the)g
(meaning)e F0(C)r F4([)-7 b([)p FV(e)s F4(])g(])17 b(of)h(a)g
FQ(\025)h F4(expression)g FV(e)j F4(in)c(a)g(con)o(text)h
F0(C)i F4(to)d(b)q(e)h(a)208 2369 y F0(C)r F4(-basic)f
FQ(\025)g F4(expression.)32 b(If)18 b FV(e)k F4(is)c(an)g(ordinary)f
(\(non)o(basic\))i(expression,)h(and)e F0(C)i F4(is)e(the)p
Black 208 2399 576 2 v 254 2426 a FK(5)271 2438 y FZ(The)13
b(meaning)f(of)h(a)g(mo)q(dule)e(is)j(de\014ned)d(in)i(terms)f(of)h
(con)o(texts,)f(so)h(these)f(de\014nitions)f(app)q(ear)h(to)208
2477 y(b)q(e)f(circular.)16 b(In)11 b(fact,)h(the)f(de\014nitions)f(of)
i(con)o(text)e(and)h(of)h(the)f(meaning)f(of)i(a)g(mo)q(dule)e
(together)g(form)208 2517 y(a)h(single)f(inductiv)o(e)f(de\014nition.)p
Black Black Black eop
%%Page: 326 344
326 343 bop Black 208 275 a F4(326)768 b FR(CHAPTER)14
b(17.)32 b(THE)14 b(MEANING)g(OF)g(A)g(MODULE)p 208 282
1770 2 v Black 208 391 a F4(con)o(text)c(that)g(sp)q(eci\014es)i(the)e
(built-in)f(TLA)892 376 y FS(+)922 391 y F4(op)q(erators)i(and)f
(declares)h(the)f(constan)o(ts)h(and)208 441 y(v)n(ariables)e(that)h(o)
q(ccur)h(in)f FV(e)s F4(,)g(then)h(this)f(will)e(de\014ne)j
F0(C)r F4([)-7 b([)p FV(e)s F4(])g(])9 b(to)h(b)q(e)h(a)e(basic)h
(expression.)18 b(Since)208 491 y(Chapter)12 b(16)g(de\014nes)i(the)f
(meaning)d(of)h(basic)i(expressions,)g(this)g(de\014nes)g(the)g
(meaning)d(of)208 541 y(an)15 b(arbitrary)g(expression.)23
b(The)16 b(expression)g FV(e)j F4(ma)o(y)13 b(con)o(tain)i
FP(let)g F4(constructs,)i(so)f(this)208 591 y(de\014nes)h(the)f
(meaning)e(of)i FP(let)p F4(,)f(the)i(one)f(op)q(erator)g(whose)h
(meaning)d(is)i(not)f(de\014ned)i(in)208 640 y(Chapter)d(16.)270
690 y(Basically)m(,)i F0(C)r F4([)-7 b([)p FV(e)s F4(])g(])16
b(is)h(obtained)g(from)e FV(e)20 b F4(b)o(y)d(replacing)g(all)f
(de\014ned)i(op)q(erator)g(names)208 740 y(with)c(their)h
(de\014nitions)f(and)h(then)g(applying)e FQ(\014)18 b
F4(reduction)d(whenev)o(er)h(p)q(ossible.)21 b(Recall)208
790 y(that)13 b FQ(\014)k F4(reduction)e(replaces)p Black
Black 332 873 a(\()p FQ(\025)f FV(p)410 879 y FS(1)429
873 y FQ(;)7 b(:)g(:)g(:)e(;)i FV(p)546 879 y FJ(n)587
873 y F4(:)18 b FV(exp)s F4(\))7 b(\()p FV(e)740 879
y FS(1)759 873 y FQ(;)g(:)g(:)g(:)e(;)i FV(e)874 879
y FJ(n)898 873 y F4(\))208 956 y(with)13 b(the)i(expression)g(obtained)
f(from)e FV(exp)18 b F4(b)o(y)13 b(replacing)h(the)h(iden)o(ti\014er)f
(of)g FV(p)1473 962 y FJ(i)1502 956 y F4(with)g FV(e)1619
962 y FJ(i)1634 956 y F4(,)208 1006 y(for)f(eac)o(h)h
FV(i)t F4(.)j(The)d(de\014nition)f(of)g F0(C)r F4([)-7
b([)p FV(e)s F4(])g(])12 b(do)q(es)j(not)e(dep)q(end)i(on)e(the)h(lev)o
(els)f(assigned)h(b)o(y)f(the)208 1056 y(declarations)f(of)g
F0(C)r F4(.)17 b(So,)12 b(w)o(e)h(ignore)f(lev)o(els)g(in)g(the)h
(de\014nition.)k(The)c(inductiv)o(e)f(de\014nition)208
1105 y(of)h F0(C)r F4([)-7 b([)p FV(e)s F4(])g(])12 b(consists)j(of)f
(the)g(follo)o(wing)d(rules:)p Black 270 1188 a F0(\017)p
Black 20 w F4(If)k FV(e)j F4(is)c(an)h(op)q(erator)g(sym)o(b)q(ol,)e
(then)i F0(C)r F4([)-7 b([)p FV(e)s F4(])g(])14 b(equals)g(\(i\))h
FV(e)j F4(if)c FV(e)k F4(is)c(declared)i(in)e F0(C)r
F4(,)h(or)311 1238 y(\(ii\))f(the)g FQ(\025)g F4(expression)h(of)e
FV(e)s F4('s)h(de\014nition)g(in)f F0(C)j F4(if)d FV(e)k
F4(is)d(de\014ned)h(in)f F0(C)r F4(.)p Black 270 1321
a F0(\017)p Black 20 w F4(If)k FV(e)k F4(is)c FV(Op)s
F4(\()p FV(e)538 1327 y FS(1)556 1321 y FQ(;)7 b(:)g(:)g(:)e(;)i
FV(e)671 1327 y FJ(n)695 1321 y F4(\),)19 b(where)g FV(Op)i
F4(is)d(declared)h(in)f F0(C)r F4(,)h(then)g F0(C)r F4([)-7
b([)p FV(e)s F4(])g(])17 b(equals)h(the)311 1371 y(expression)d
FV(Op)s F4(\()p F0(C)r F4([)-7 b([)p FV(e)646 1377 y
FS(1)664 1371 y F4(])g(])p FQ(;)7 b(:)g(:)g(:)t(;)g F0(C)r
F4([)-7 b([)p FV(e)836 1377 y FJ(n)859 1371 y F4(])g(]\).)p
Black 270 1454 a F0(\017)p Black 20 w F4(If)14 b FV(e)k
F4(is)c FV(Op)s F4(\()p FV(e)526 1460 y FS(1)545 1454
y FQ(;)7 b(:)g(:)g(:)t(;)g FV(e)659 1460 y FJ(n)683 1454
y F4(\),)14 b(where)h FV(Op)i F4(is)d(de\014ned)i(in)e
F0(C)i F4(to)e(equal)g(the)h FQ(\025)g F4(expression)311
1504 y FV(d)t F4(,)21 b(then)f F0(C)r F4([)-7 b([)p FV(e)s
F4(])g(])19 b(equals)g(the)h FQ(\014)j F4(reduction)d(of)p
1065 1470 26 2 v 19 w FV(d)t F4(\()p F0(C)r F4([)-7 b([)p
FV(e)1169 1510 y FS(1)1188 1504 y F4(])g(])p FQ(;)7 b(:)g(:)g(:)t(;)g
F0(C)r F4([)-7 b([)p FV(e)1360 1510 y FJ(n)1383 1504
y F4(])g(]\),)19 b(where)p 1573 1470 V 21 w FV(d)24 b
F4(is)311 1554 y(obtained)12 b(from)e FV(d)17 b F4(b)o(y)11
b FQ(\013)h F4(con)o(v)o(ersion)g(\(replacemen)o(t)g(of)g
FQ(\025)g F4(parameters\))g(so)g(that)g(no)311 1603 y
FQ(\025)i F4(parameter's)g(iden)o(ti\014er)g(app)q(ears)h(in)e(b)q(oth)
p 1050 1570 V 14 w FV(d)19 b F4(and)13 b(some)g F0(C)r
F4([)-7 b([)p FV(e)1337 1609 y FJ(i)1352 1603 y F4(])g(].)p
Black 270 1686 a F0(\017)p Black 20 w F4(If)18 b FV(e)j
F4(is)d FQ(\025)p FV(p)491 1692 y FS(1)510 1686 y FQ(;)7
b(:)g(:)g(:)e(;)i FV(p)627 1692 y FJ(n)658 1686 y F4(:)g
FV(exp)t F4(,)18 b(then)h F0(C)r F4([)-7 b([)p FV(e)s
F4(])g(])17 b(equals)h FQ(\025)p FV(p)1144 1692 y FS(1)1163
1686 y FQ(;)7 b(:)g(:)g(:)t(;)g FV(p)1279 1692 y FJ(n)1311
1686 y F4(:)g F0(D)q F4([)-7 b([)p FV(exp)s F4(])g(])o(,)18
b(where)i F0(D)311 1736 y F4(is)d(the)h(con)o(text)g(obtained)f(b)o(y)g
(adding)f(to)h F0(C)i F4(the)f(declarations)f(that,)h(for)e(eac)o(h)i
FV(i)311 1786 y F4(in)f(1)c FQ(:)7 b(:)13 b FV(n)s F4(,)18
b(assign)f(to)f(the)i FV(i)768 1771 y FS(th)818 1786
y FQ(\025)f F4(parameter's)g(iden)o(ti\014er)g(the)h(arit)o(y)e
(determined)311 1836 y(b)o(y)e FV(p)393 1842 y FJ(i)408
1836 y F4(.)p Black 270 1919 a F0(\017)p Black 20 w F4(If)h
FV(e)j F4(is)d(where)h FV(d)j F4(is)c(a)g FQ(\025)g F4(expression)h
(and)f FV(exp)j F4(an)d(expression,)h(then)f F0(C)r F4([)-7
b([)p FV(e)s F4(])g(])14 b(equals)311 1969 y F0(D)q F4([)-7
b([)p FV(exp)s F4(])g(],)10 b(where)j F0(D)f F4(is)g(the)g(con)o(text)g
(obtained)f(b)o(y)g(adding)g(to)g F0(C)j F4(the)e(de\014nition)f(that)
311 2019 y(assigns)j F0(C)r F4([)-7 b([)p FV(d)t F4(])g(])13
b(to)h FV(Op)s F4(.)p Black 270 2102 a F0(\017)p Black
20 w F4(If)g FV(e)j F4(is)p Black Black 436 2168 a FP(let)28
b FV(Op)s F4(\()p FV(p)629 2174 y FS(1)647 2168 y FQ(;)7
b(:)g(:)g(:)e(;)i FV(p)764 2174 y FJ(n)787 2168 y F4(\))831
2144 y FI(\001)826 2168 y F4(=)23 b FP(inst)m(ance)g
FQ(:)7 b(:)g(:)33 b FP(in)14 b FV(exp)311 2234 y F4(then)h
F0(C)r F4([)-7 b([)p FV(e)s F4(])g(])12 b(equals)i F0(D)q
F4([)-7 b([)p FV(exp)s F4(])g(],)11 b(where)k F0(D)g
F4(is)e(the)h(new)g(curren)o(t)h(con)o(text)g(obtained)e(b)o(y)311
2284 y(\\ev)n(aluating")f(the)j(statemen)o(t)p Black
Black 436 2355 a FV(Op)s F4(\()p FV(p)532 2361 y FS(1)550
2355 y FQ(;)7 b(:)g(:)g(:)e(;)i FV(p)667 2361 y FJ(n)690
2355 y F4(\))746 2331 y FI(\001)741 2355 y F4(=)35 b
FP(inst)m(ance)23 b FQ(:)7 b(:)g(:)311 2421 y F4(in)14
b(the)g(curren)o(t)i(con)o(text)e F0(C)r F4(,)g(as)g(describ)q(ed)i(in)
d(Section)h(17.5.5)e(b)q(elo)o(w.)208 2504 y(The)i(last)g(t)o(w)o(o)f
(conditions)g(de\014ne)i(the)g(meaning)d(of)h(an)o(y)h
FP(let)f F4(construct,)j(b)q(ecause)p Black Black eop
%%Page: 327 345
327 344 bop Black 208 275 a FR(17.5.)30 b(THE)14 b(MEANING)g(OF)h(A)f
(MODULE)960 b F4(327)p 208 282 1770 2 v Black Black 270
392 a F0(\017)p Black 20 w F4(The)15 b(op)q(erator)f(de\014nition)g
FV(Op)s F4(\()p FV(p)845 398 y FS(1)863 392 y FQ(;)7
b(:)g(:)g(:)e(;)i FV(p)980 398 y FJ(n)1003 392 y F4(\))1035
368 y FI(\001)1030 392 y F4(=)12 b FV(d)19 b F4(in)13
b(a)h FP(let)f F4(means)p Black Black 436 465 a FV(Op)531
441 y FI(\001)526 465 y F4(=)35 b FQ(\025)p FV(p)641
471 y FS(1)660 465 y FQ(;)7 b(:)g(:)g(:)t(;)g FV(p)776
471 y FJ(n)818 465 y F4(:)18 b FV(d)p Black 270 552 a
F0(\017)p Black 20 w F4(A)c(function)g(de\014nition)f
FV(Op)s F4([)p FV(x)j F0(2)c FV(S)5 b F4(])902 528 y
FI(\001)897 552 y F4(=)12 b FV(d)18 b F4(in)c(a)f FP(let)h
F4(means)p Black Black 436 625 a FV(Op)531 601 y FI(\001)526
625 y F4(=)35 b FP(choose)17 b FV(Op)k F4(:)d FV(Op)c
F4(=)e([)p FV(x)k F0(2)11 b FV(S)17 b F0(7!)11 b FV(d)t
F4(])p Black 270 714 a F0(\017)p Black 20 w F4(The)k(expression)g
FP(let)f FV(Op)736 720 y FS(1)770 691 y FI(\001)765 714
y F4(=)e FV(d)834 720 y FS(1)874 714 y FQ(:)7 b(:)g(:)19
b FV(Op)999 720 y FJ(n)1039 691 y FI(\001)1034 714 y
F4(=)12 b FV(d)1103 720 y FJ(n)1141 714 y FP(in)i FV(exp)j
F4(is)d(de\014ned)h(to)f(equal)p Black Black 436 785
a FP(let)g FV(Op)575 791 y FS(1)609 761 y FI(\001)605
785 y F4(=)d FV(d)673 791 y FS(1)706 785 y FP(in)j F4(\()p
FP(let)21 b FQ(:)7 b(:)g(:)19 b FP(in)14 b F4(\()p FP(let)g
FV(Op)1140 791 y FJ(n)1180 761 y FI(\001)1175 785 y F4(=)e
FV(d)1244 791 y FJ(n)1282 785 y FP(in)i FV(exp)s F4(\))7
b FQ(:)g(:)g(:)o F4(\))208 868 y(The)14 b FQ(\025)f F4(expression)i
FV(e)i F4(is)d(de\014ned)g(to)g(b)q(e)g(legal)f(\(syn)o(tactically)g(w)
o(ell-formed\))e(in)j(the)g(con-)208 918 y(text)g F0(C)i
F4(i\013)e(these)h(rules)g(de\014ne)f F0(C)r F4([)-7
b([)p FV(e)s F4(])g(])13 b(to)h(b)q(e)g(a)g(legal)f F0(C)r
F4(-basic)h(expression.)208 1076 y FN(17.5)82 b(The)26
b(Meaning)g(of)h(a)g(Mo)r(dule)208 1167 y F4(The)13 b(meaning)e(of)h(a)
g(mo)q(dule)g(dep)q(ends)i(on)f(a)f(con)o(text.)19 b(F)m(or)12
b(an)h(external)g(mo)q(dule,)e(whic)o(h)208 1217 y(is)j(not)g(a)g
(submo)q(dule)f(of)h(another)g(mo)q(dule,)f(the)i(con)o(text)g
(consists)g(of)f(declarations)g(and)208 1267 y(de\014nitions)k(of)h
(all)e(the)j(built-in)e(op)q(erators)h(of)g(TLA)1086
1251 y FS(+)1106 1267 y F4(,)h(together)g(with)f(de\014nitions)f(of)208
1316 y(some)11 b(other)j(mo)q(dules.)i(Section)d(17.7)f(b)q(elo)o(w)g
(discusses)j(where)f(the)f(de\014nitions)g(of)f(those)208
1366 y(other)i(mo)q(dules)f(come)g(from.)270 1416 y(The)h(meaning)e(of)
h(a)h(mo)q(dule)f(in)g(a)h(con)o(text)g F0(C)i F4(consists)f(of)e(six)h
(sets:)p Black 270 1499 a FV(Dcl)p Black 69 w F4(A)d(set)i(of)d
(declarations.)18 b(They)11 b(come)g(from)f FP(const)m(ant)i
F4(and)f FP(v)l(ariable)i F4(dec-)400 1549 y(larations)i(and)i
(declarations)f(in)g(extended)i(mo)q(dules)e(\(mo)q(dules)f(app)q
(earing)400 1599 y(in)e(an)h FP(extends)g F4(statemen)o(t\).)p
Black 270 1682 a FV(GDef)p Black 35 w F4(A)j(set)i(of)d(global)g
(de\014nitions.)29 b(They)18 b(come)e(from)g(ordinary)h(\(non-)p
FP(local)p F4(\))400 1731 y(de\014nitions)e(and)h(global)d
(de\014nitions)j(in)f(extended)i(and)e(instan)o(tiated)h(mo)q(d-)400
1781 y(ules.)p Black 270 1864 a FV(LDef)p Black 41 w
F4(A)j(set)h(of)e(lo)q(cal)h(de\014nitions.)33 b(They)19
b(come)g(from)e FP(local)j F4(de\014nitions)f(and)400
1914 y FP(local)14 b F4(instan)o(tiations)f(of)g(mo)q(dules.)k(\(Lo)q
(cal)c(de\014nitions)h(are)g(not)f(obtained)400 1964
y(b)o(y)g(other)i(mo)q(dules)e(that)h(extend)h(or)e(instan)o(tiate)h
(the)h(mo)q(dule.\))p Black 270 2047 a FV(MDef)p Black
30 w F4(A)c(set)i(of)e(mo)q(dule)f(de\014nitions.)17
b(They)12 b(come)f(from)f(submo)q(dules)h(of)g(the)i(mo)q(d-)400
2097 y(ule)h(and)f(of)h(extended)h(mo)q(dules.)p Black
270 2180 a FV(Ass)p Black 65 w F4(A)e(set)h(of)f(assumptions.)k(They)d
(come)e(from)g FP(assume)i F4(statemen)o(ts)f(and)h(from)400
2230 y(extended)h(mo)q(dules.)p Black 270 2313 a FV(Thm)p
Black 45 w F4(A)f(set)h(of)e(theorems.)18 b(They)d(come)e(from)f
FP(theorem)i F4(statemen)o(ts,)g(from)e(the-)400 2362
y(orems)h(in)f(extended)j(mo)q(dules,)d(and)i(from)d(the)j(assumptions)
f(and)g(theorems)400 2412 y(of)g(instan)o(tiated)h(mo)q(dules,)e(as)i
(explained)g(in)f(Section)h(17.5.5)e(b)q(elo)o(w.)p Black
Black eop
%%Page: 328 346
328 345 bop Black 208 275 a F4(328)768 b FR(CHAPTER)14
b(17.)32 b(THE)14 b(MEANING)g(OF)g(A)g(MODULE)p 208 282
1770 2 v Black 208 391 a F4(The)h FQ(\025)h F4(expressions)h(of)e
(de\014nitions)g(in)g FV(GDef)24 b F4(and)16 b FV(LDef)9
b F4(,)15 b(as)g(w)o(ell)g(as)g(the)h(expressions)208
441 y(in)g FV(Ass)k F4(and)d FV(Thm)s F4(,)g(are)g(\()p
F0(C)d([)d FV(Dcl)t F4(\)-basic)17 b FQ(\025)g F4(expressions.)29
b(In)17 b(other)h(w)o(ords,)f(the)h(only)208 491 y(op)q(erator)i(sym)o
(b)q(ols)e(they)j(con)o(tain)e(\(other)i(than)f FQ(\025)g
F4(parameter)f(iden)o(ti\014ers\))i(are)f(ones)208 541
y(declared)14 b(in)g F0(C)i F4(or)e(in)f FV(Dcl)t F4(.)270
591 y(The)20 b(meaning)f(of)g(a)h(mo)q(dule)f(in)h(a)g(con)o(text)h
F0(C)h F4(is)e(de\014ned)i(b)o(y)e(an)g(algorithm)d(for)208
640 y(computing)9 b(these)k(six)e(sets.)18 b(The)12 b(algorithm)d(pro)q
(cesses)14 b(eac)o(h)d(statemen)o(t)h(in)e(the)i(mo)q(dule)208
690 y(in)f(turn,)h(from)f(b)q(eginning)g(to)h(end.)18
b(The)12 b(meaning)e(of)i(the)g(mo)q(dule)f(is)h(the)g(v)n(alue)g(of)f
(those)208 740 y(sets)k(when)f(the)h(end)f(of)f(the)i(mo)q(dule)d(is)i
(reac)o(hed.)270 790 y(Initially)m(,)d(all)i(six)h(sets)h(are)g(empt)o
(y)m(.)i(The)e(rules)g(for)f(handling)f(eac)o(h)h(p)q(ossible)h(t)o(yp)
q(e)f(of)208 840 y(statemen)o(t)h(are)g(giv)o(en)g(b)q(elo)o(w.)21
b(In)15 b(these)i(rules,)f(the)f FV(curr)n(ent)h(c)n(ontext)j
F0(C)r(C)f F4(is)d(de\014ned)h(to)208 889 y(b)q(e)e(the)h(union)e(of)g
F0(C)r F4(,)h FV(Dcl)t F4(,)f FV(GDef)d F4(,)j FV(LDef)c
F4(,)k(and)h FV(MDef)9 b F4(.)270 939 y(When)21 b(the)g(algorithm)d
(adds)j(elemen)o(ts)f(to)h(the)g(con)o(text)h F0(C)r(C)r
F4(,)g(it)e(uses)i FQ(\013)e F4(con)o(v)o(er-)208 989
y(sion)d(to)h(ensure)h(that)f(no)f(de\014ned)i(or)f(declared)h(op)q
(erator)f(name)e(app)q(ears)j(as)f(a)f FQ(\025)h F4(pa-)208
1039 y(rameter's)f(iden)o(ti\014er)i(in)f(an)o(y)f FQ(\025)i
F4(expression)g(in)f F0(C)r(C)r F4(.)31 b(F)m(or)18 b(example,)f(if)g
(the)i(de\014nition)208 1093 y FV(fo)n(o)280 1069 y FI(\001)275
1093 y F4(=)12 b FQ(\025)p FV(x)h F4(:)8 b FV(x)14 b
F4(+)c(1)17 b(is)h(in)f FV(LDef)9 b F4(,)18 b(then)g(adding)f(a)g
(declaration)h(of)f FV(x)23 b F4(to)17 b FV(Dcl)22 b
F4(requires)d FQ(\013)208 1143 y F4(con)o(v)o(ersion)g(of)f(this)h
(de\014nition)f(to)h(rename)f(the)i FQ(\025)f F4(parameter)f(iden)o
(ti\014er)h FV(x)5 b F4(.)33 b(This)19 b FQ(\013)208
1193 y F4(con)o(v)o(ersion)14 b(is)f(not)h(explicitly)f(men)o(tioned.)
208 1330 y F3(17.5.1)65 b(Extends)208 1421 y F4(An)14
b FP(extends)g F4(statemen)o(t)g(has)g(the)g(form)p Black
Black 332 1504 a FP(extends)i FV(M)558 1510 y FS(1)577
1504 y FQ(;)7 b(:)g(:)g(:)e(;)i FV(M)714 1510 y FJ(n)208
1587 y F4(where)20 b(eac)o(h)g FV(M)476 1593 y FJ(i)511
1587 y F4(is)f(a)g(mo)q(dule)f(name.)33 b(This)19 b(statemen)o(t)g(m)o
(ust)g(b)q(e)h(the)g(\014rst)g(one)f(in)208 1637 y(the)13
b(mo)q(dule.)j(The)d(statemen)o(t)g(sets)h(the)f(v)n(alues)f(of)g
FV(Dcl)t F4(,)h FV(GDef)c F4(,)j FV(MDef)d F4(,)k FV(Ass)s
F4(,)f(and)h FV(Thm)208 1686 y F4(equal)d(to)h(the)h(union)f(of)g(the)g
(corresp)q(onding)h(v)n(alues)f(for)g(the)h(mo)q(dule)e(meanings)g
(assigned)208 1736 y(b)o(y)j F0(C)j F4(to)e(the)h(mo)q(dule)d(names)h
FV(M)743 1742 y FJ(i)758 1736 y F4(.)270 1786 y(This)k(statemen)o(t)g
(is)g(legal)f(i\013)h(the)h(mo)q(dule)e(names)g FV(M)1161
1792 y FJ(i)1194 1786 y F4(are)h(all)f(de\014ned)i(in)f
F0(C)r F4(,)h(and)208 1836 y(the)c(resulting)f(curren)o(t)i(con)o(text)
f F0(C)r(C)i F4(do)q(es)e(not)f(assign)g(more)g(than)g(one)h(meaning)d
(to)i(an)o(y)208 1886 y(sym)o(b)q(ol.)i(More)c(precisely)m(,)h(if)e
(the)i(same)e(sym)o(b)q(ol)f(is)i(de\014ned)h(or)f(declared)h(b)o(y)f
(t)o(w)o(o)g(or)g(more)208 1935 y(of)k(the)i FV(M)375
1941 y FJ(i)390 1935 y F4(,)g(then)g(those)g(duplicate)f(de\014nitions)
g(or)g(declarations)g(m)o(ust)g(all)f(ha)o(v)o(e)h(b)q(een)208
1985 y(obtained)h(through)g(a)g(\(p)q(ossibly)h(empt)o(y\))e(c)o(hains)
i(of)i FP(extends)e F4(statemen)o(ts)g(from)d(the)208
2035 y(same)e(de\014nition)h(or)h(declaration.)20 b(F)m(or)14
b(example,)f(supp)q(ose)j FV(M)1233 2041 y FS(1)1266
2035 y F4(extends)g(the)f FV(Natur)n(als)208 2085 y F4(mo)q(dule,)e
(and)i FV(M)493 2091 y FS(2)527 2085 y F4(extends)h FV(M)723
2091 y FS(1)742 2085 y F4(.)21 b(Then)16 b(the)g(three)g(mo)q(dules)e
FV(Natur)n(als)s F4(,)h FV(M)1456 2091 y FS(1)1474 2085
y F4(,)g(and)g FV(M)1627 2091 y FS(2)208 2135 y F4(all)d(de\014ne)j
(the)g(op)q(erator)f(+.)k(The)d(statemen)o(t)p Black
Black 332 2218 a FP(extends)h FV(Natur)n(als)s FQ(;)7
b FV(M)733 2224 y FS(1)751 2218 y FQ(;)g FV(M)814 2224
y FS(2)208 2301 y F4(can)13 b(still)g(b)q(e)h(legal,)e(b)q(ecause)k
(eac)o(h)e(of)f(the)h(three)h(de\014nitions)f(is)f(obtained)g(b)o(y)h
(a)f(c)o(hain)g(of)208 2351 y FP(extends)i F4(statemen)o(ts)g(\(of)f
(length)g(0,)g(1,)g(and)h(2,)f(resp)q(ectiv)o(ely\))i(from)d(the)i
(de\014nition)f(of)208 2400 y(+)g(in)f(the)i FV(Natur)n(als)h
F4(mo)q(dule.)270 2450 y(When)c(decomp)q(osing)f(a)h(large)g(sp)q
(eci\014cation)h(in)o(to)f(mo)q(dules,)f(w)o(e)h(often)h(w)o(an)o(t)f
(a)g(mo)q(d-)208 2500 y(ule)i FV(M)22 b F4(to)14 b(extend)i(mo)q(dules)
d FV(M)728 2506 y FS(1)747 2500 y F4(,)h(.)6 b(.)h(.)f(,)14
b FV(M)898 2506 y FJ(n)922 2500 y F4(,)g(where)i(the)f
FV(M)1185 2506 y FJ(i)1215 2500 y F4(ha)o(v)o(e)f(declared)i(constan)o
(ts)p Black Black eop
%%Page: 329 347
329 346 bop Black 208 275 a FR(17.5.)30 b(THE)14 b(MEANING)g(OF)h(A)f
(MODULE)960 b F4(329)p 208 282 1770 2 v Black 208 391
a(and/or)12 b(v)n(ariables)h(in)f(common.)j(In)e(this)g(case,)h(w)o(e)f
(put)h(the)f(common)d(declarations)k(in)e(a)208 441 y(mo)q(dule)g
FV(P)18 b F4(that)c(is)g(extended)h(b)o(y)f(all)f(the)h
FV(M)939 447 y FJ(i)955 441 y F4(.)208 578 y F3(17.5.2)65
b(Declarations)208 669 y F4(A)14 b(declaration)f(statemen)o(t)h(has)g
(one)g(of)f(the)i(forms)p Black Black 332 752 a FP(const)m(ant)h
FV(c)561 758 y FS(1)580 752 y FQ(;)7 b(:)g(:)g(:)e(;)i
FV(c)694 758 y FJ(n)842 752 y FP(v)l(ariable)18 b FV(v)1060
758 y FS(1)1079 752 y FQ(;)7 b(:)g(:)g(:)e(;)i FV(v)1195
758 y FJ(n)208 835 y F4(where)15 b(eac)o(h)f FV(v)444
841 y FJ(i)474 835 y F4(is)g(an)g(iden)o(ti\014er)g(and)g(eac)o(h)g
FV(c)943 841 y FJ(i)973 835 y F4(is)g(either)h(an)f(iden)o(ti\014er)g
(or)g(has)g(the)h(form)208 885 y FV(Op)s F4(\()p 287
885 21 3 v 34 w FQ(;)7 b(:)g(:)g(:)e(;)p 413 885 V 41
w F4(\),)16 b(for)f(some)g(iden)o(ti\014er)h FV(Op)s
F4(.)24 b(This)16 b(statemen)o(t)f(adds)h(to)g(the)g(set)h
FV(Dcl)j F4(the)208 935 y(ob)o(vious)14 b(declarations.)20
b(It)15 b(is)g(legal)f(i\013)g(none)h(of)g(the)g(declared)h(iden)o
(ti\014ers)f(is)g(de\014ned)h(or)208 985 y(declared)e(in)g
F0(C)r(C)r F4(.)208 1122 y F3(17.5.3)65 b(Op)r(erator)22
b(De\014nitions)208 1213 y F4(A)14 b(global)e(op)q(erator)i
(de\014nition)713 1198 y FS(6)745 1213 y F4(has)g(one)g(of)g(the)g(t)o
(w)o(o)g(forms)p Black Black 332 1300 a FV(Op)427 1277
y FI(\001)422 1300 y F4(=)35 b FV(exp)128 b(Op)s F4(\()p
FV(p)772 1306 y FS(1)790 1300 y FQ(;)7 b(:)g(:)g(:)e(;)i
FV(p)907 1306 y FJ(n)930 1300 y F4(\))986 1277 y FI(\001)981
1300 y F4(=)35 b FV(exp)208 1383 y F4(where)13 b FV(Op)h
F4(is)e(an)g(iden)o(ti\014er,)g FV(exp)j F4(is)d(an)g(expression,)h
(and)f(eac)o(h)g FV(p)1247 1389 y FJ(i)1274 1383 y F4(is)g(either)h(an)
f(iden)o(ti\014er)208 1433 y(or)17 b(has)h(the)h(form)d
FV(P)t F4(\()p 573 1433 V 35 w FQ(;)7 b(:)g(:)g(:)e(;)p
700 1433 V 41 w F4(\),)18 b(where)h FV(P)j F4(is)c(an)f(iden)o
(ti\014er.)31 b(W)m(e)17 b(consider)i(the)f(\014rst)208
1483 y(form)12 b(an)h(instance)i(of)e(the)i(second)g(with)e
FV(n)i F4(=)d(0.)270 1533 y(This)18 b(statemen)o(t)h(is)f(legal)g
(i\013)g FV(Op)j F4(is)e(not)f(declared)i(or)e(de\014ned)i(in)e
F0(C)r(C)j F4(and)e(the)g FQ(\025)208 1583 y F4(expression)13
b FQ(\025)p FV(p)454 1589 y FS(1)472 1583 y FQ(;)7 b(:)g(:)g(:)e(;)i
FV(p)589 1589 y FJ(n)620 1583 y F4(:)h FV(exp)15 b F4(is)d(legal)e(in)i
(con)o(text)g F0(C)r(C)s F4(.)17 b(In)12 b(particular,)g(no)f
FQ(\025)h F4(parameter)208 1632 y(in)k(this)g FQ(\025)h
F4(expression)g(can)g(b)q(e)g(de\014ned)h(or)e(declared)i(in)e
F0(C)r(C)r F4(.)26 b(The)17 b(statemen)o(t)f(adds)h(to)208
1682 y FV(GDef)22 b F4(the)15 b(de\014nition)e(that)h(assigns)g(to)g
FV(Op)j F4(the)d FQ(\025)g F4(expression)h F0(C)r(C)s
F4([)-7 b([)p FQ(\025)p FV(p)1354 1688 y FS(1)1372 1682
y FQ(;)7 b(:)g(:)g(:)t(;)g FV(p)1488 1688 y FJ(n)1520
1682 y F4(:)g FV(exp)s F4(])-7 b(].)270 1732 y(A)14 b(lo)q(cal)f(op)q
(erator)h(de\014nition)g(has)g(one)g(of)f(the)i(t)o(w)o(o)e(forms)p
Black Black 332 1819 a FP(local)k FV(Op)562 1796 y FI(\001)557
1819 y F4(=)35 b FV(exp)128 b FP(local)16 b FV(Op)s F4(\()p
FV(p)1041 1825 y FS(1)1060 1819 y FQ(;)7 b(:)g(:)g(:)t(;)g
FV(p)1176 1825 y FJ(n)1199 1819 y F4(\))1255 1796 y FI(\001)1250
1819 y F4(=)35 b FV(exp)208 1902 y F4(It)14 b(is)g(the)h(same)f(as)h(a)
f(global)f(de\014nition,)g(except)j(that)f(it)f(adds)g(the)i
(de\014nition)e(to)g FV(LDef)208 1952 y F4(instead)g(of)f
FV(GDef)c F4(.)208 2089 y F3(17.5.4)65 b(F)-6 b(unction)24
b(De\014nitions)208 2180 y F4(A)14 b(global)e(function)h(de\014nition)h
(has)g(the)g(form)p Black Black 332 2267 a FV(Op)s F4([)p
FV(fcnar)n(gs)s F4(])581 2244 y FI(\001)577 2267 y F4(=)35
b FV(exp)p Black 208 2304 576 2 v 254 2331 a FK(6)271
2343 y FZ(An)11 b(op)q(erator)e(de\014nition)f(statemen)o(t)g(should)h
(not)h(b)q(e)h(confused)d(with)j(a)g(de\014nition)d(clause)h(in)i(a)g
Fu(let)208 2382 y FZ(expression.)h(The)g(meaning)d(of)i(a)h
Fu(let)e FZ(expression)f(is)j(describ)q(ed)d(in)i(Section)f(17.4.)p
Black Black Black eop
%%Page: 330 348
330 347 bop Black 208 275 a F4(330)768 b FR(CHAPTER)14
b(17.)32 b(THE)14 b(MEANING)g(OF)g(A)g(MODULE)p 208 282
1770 2 v Black 208 391 a F4(where)22 b FV(fcnar)n(gs)j
F4(is)c(a)h(comma-separated)d(list)i(of)g(elemen)o(ts,)i(eac)o(h)f(ha)o
(ving)e(the)j(form)208 441 y FV(Id)249 447 y FS(1)268
441 y FQ(;)7 b(:)g(:)g(:)t(;)g FV(Id)401 447 y FJ(n)437
441 y F0(2)k FV(S)22 b F4(or)16 b F0(h)s FV(Id)634 447
y FS(1)654 441 y FQ(;)7 b(:)g(:)g(:)e(;)i FV(Id)788 447
y FJ(n)815 441 y F0(i)12 b(2)f FV(S)5 b F4(.)26 b(It)17
b(is)f(equiv)n(alen)o(t)g(to)g(the)h(global)e(op)q(erator)208
491 y(de\014nition)p Black Black 332 574 a FV(Op)427
550 y FI(\001)422 574 y F4(=)35 b FP(choose)17 b FV(Op)k
F4(:)d FV(Op)c F4(=)e([)p FV(fcnar)n(gs)i F0(7!)d FV(exp)s
F4(])208 657 y(A)j(lo)q(cal)f(function)g(de\014nition,)g(whic)o(h)h
(has)g(the)g(form)p Black Black 332 744 a FP(local)j
FV(Op)s F4([)p FV(fcnar)n(gs)s F4(])716 721 y FI(\001)711
744 y F4(=)35 b FV(exp)208 827 y F4(is)13 b(equiv)n(alen)o(t)g(to)h
(the)h(analogous)d(lo)q(cal)h(op)q(erator)i(de\014nition.)208
965 y F3(17.5.5)65 b(Instan)n(tiation)208 1055 y F4(W)m(e)13
b(consider)i(\014rst)f(a)g(global)e(instan)o(tiation)h(of)g(the)i(form)
p Black Black 332 1143 a FV(I)7 b F4(\()p FV(p)395 1149
y FS(1)413 1143 y FQ(;)g(:)g(:)g(:)e(;)i FV(p)530 1149
y FJ(m)562 1143 y F4(\))617 1119 y FI(\001)612 1143 y
F4(=)35 b FP(inst)m(ance)16 b FV(N)23 b FP(with)15 b
FV(q)1062 1149 y FS(1)1092 1143 y F0( )c FV(e)1167 1149
y FS(1)1185 1143 y FQ(;)c(:)g(:)g(:)e(;)i FV(q)1301 1149
y FJ(n)1336 1143 y F0( )k FV(e)1411 1149 y FJ(n)p Black
208 1143 a F4(\(17.3\))p Black 208 1226 a(F)m(or)h(this)h(to)g(b)q(e)g
(legal,)f FV(N)19 b F4(m)o(ust)12 b(b)q(e)h(a)g(mo)q(dule)e(name)h
(de\014ned)i(in)e F0(C)r(C)s F4(.)18 b(Let)13 b FV(NDcl)t
F4(,)g FV(NDef)8 b F4(,)208 1275 y FV(NAss)s F4(,)i(and)h
FV(NThm)j F4(b)q(e)d(the)g(sets)h FV(Dcl)t F4(,)g FV(GDef)d
F4(,)i FV(Ass)s F4(,)g(and)f FV(Thm)k F4(in)c(the)i(meaning)d(assigned)
208 1325 y(to)15 b FV(N)23 b F4(b)o(y)16 b F0(C)r(C)s
F4(.)24 b(The)17 b FV(q)570 1331 y FJ(i)601 1325 y F4(m)o(ust)e(b)q(e)i
(distinct)f(iden)o(ti\014ers)h(declared)g(b)o(y)f FV(NDcl)t
F4(.)25 b(W)m(e)15 b(add)h(a)208 1375 y FP(with)11 b
F4(clause)h(of)f(the)i(form)d FV(Op)k F0( )d FV(Op)k
F4(for)c(an)o(y)h(iden)o(ti\014er)g FV(Op)j F4(that)d(is)f(declared)i
(in)f FV(NDcl)208 1425 y F4(but)g(is)h(not)f(one)h(of)f(the)i
FV(q)610 1431 y FJ(i)625 1425 y F4(,)e(so)h(the)g FV(q)792
1431 y FJ(i)820 1425 y F4(constitute)g(all)f(the)h(iden)o(ti\014ers)g
(declared)h(in)e FV(NDcl)t F4(.)270 1475 y(Neither)17
b FV(I)22 b F4(nor)16 b(an)o(y)f(of)g(the)i(iden)o(ti\014ers)f(of)g
(the)g(de\014nition)g(parameters)f FV(p)1480 1481 y FJ(i)1511
1475 y F4(ma)o(y)f(b)q(e)208 1525 y(de\014ned)i(or)f(declared)h(in)f
F0(C)r(C)r F4(.)22 b(Let)16 b F0(D)g F4(b)q(e)g(the)g(con)o(text)f
(obtained)g(b)o(y)g(adding)g(to)g F0(C)r(C)i F4(the)208
1574 y(ob)o(vious)f(constan)o(t-lev)o(el)h(declaration)g(for)g(eac)o(h)
g FV(p)1031 1580 y FJ(i)1047 1574 y F4(.)27 b(Then)18
b FV(e)1220 1580 y FJ(i)1253 1574 y F4(m)o(ust)e(b)q(e)i(syn)o
(tactically)208 1624 y(w)o(ell-formed)d(in)i(the)h(con)o(text)h
F0(D)q F4(,)f(and)f F0(D)q F4([)-7 b([)p FV(e)933 1630
y FJ(i)948 1624 y F4(])g(])17 b(m)o(ust)f(ha)o(v)o(e)i(the)g(same)f
(arit)o(y)f(as)i FV(q)1551 1630 y FJ(i)1566 1624 y F4(,)g(for)208
1674 y(eac)o(h)c FV(i)h F0(2)d F4(1)h FQ(:)7 b(:)13 b
FV(n)s F4(.)270 1724 y(The)h(instan)o(tiation)e(m)o(ust)h(also)g
(satisfy)g(the)h(follo)o(wing)d(lev)o(el-correctness)16
b(condition.)208 1774 y(De\014ne)j(mo)q(dule)e FV(N)26
b F4(to)18 b(b)q(e)h(a)g FV(c)n(onstant)k F4(mo)q(dule)17
b(i\013)i(ev)o(ery)g(declaration)g(in)f FV(NDcl)23 b
F4(has)208 1823 y(constan)o(t)18 b(lev)o(el,)g(and)g(ev)o(ery)h(op)q
(erator)g(app)q(earing)e(in)h(ev)o(ery)h(de\014nition)e(in)h
FV(NDef)27 b F4(has)208 1873 y(constan)o(t)14 b(lev)o(el.)k(If)13
b FV(N)21 b F4(is)13 b FV(not)19 b F4(a)13 b(constan)o(t)i(mo)q(dule,)d
(then)i(for)g(eac)o(h)g FV(i)k F4(in)13 b(1)h FQ(:)7
b(:)13 b FV(n)s F4(:)p Black 270 1956 a F0(\017)p Black
20 w F4(If)d FV(q)372 1962 y FJ(i)398 1956 y F4(is)g(declared)i(in)e
FV(NDcl)k F4(to)d(b)q(e)g(a)f(constan)o(t)h(op)q(erator,)g(then)g
F0(D)q F4([)-7 b([)p FV(e)1380 1962 y FJ(i)1395 1956
y F4(])g(])10 b(has)g(constan)o(t)311 2006 y(lev)o(el.)p
Black 270 2089 a F0(\017)p Black 20 w F4(If)j FV(q)375
2095 y FJ(i)403 2089 y F4(is)g(declared)h(in)f FV(NDcl)k
F4(to)c(b)q(e)h(a)f(v)n(ariable)f(\(a)h(0th-order)h(op)q(erator)f(of)g
(lev)o(el)f(1\),)311 2139 y(then)j F0(D)q F4([)-7 b([)p
FV(e)475 2145 y FJ(i)490 2139 y F4(])g(])13 b(has)h(lev)o(el)f(0)h(or)g
(1.)208 2222 y(The)g(reason)g(for)g(this)g(condition)f(is)h(explained)f
(in)h(Section)g(17.8)f(b)q(elo)o(w.)270 2276 y(F)m(or)g(eac)o(h)i
(de\014nition)e FV(Op)694 2252 y FI(\001)689 2276 y F4(=)f
FQ(\025)p FV(r)779 2282 y FS(1)798 2276 y FQ(;)7 b(:)g(:)g(:)e(;)i
FV(r)913 2282 y FJ(p)942 2276 y F4(:)g FV(e)17 b F4(in)d
FV(NDef)9 b F4(,)k(the)h(de\014nition)p Black Black 332
2367 a FV(I)c F4(!)s FV(Op)445 2343 y FI(\001)440 2367
y F4(=)i FQ(\025)g FV(p)544 2373 y FS(1)562 2367 y FQ(;)i(:)7
b(:)g(:)e(;)13 b FV(p)692 2373 y FJ(m)725 2367 y FQ(;)g
FV(r)772 2373 y FS(1)791 2367 y FQ(;)g(:)7 b(:)g(:)e(;)14
b FV(r)919 2373 y FJ(p)958 2367 y F4(:)p 988 2344 23
2 v 18 w FV(e)p Black -799 w F4(\(17.4\))p Black 208
2450 a(is)f(added)h(to)f FV(GDef)c F4(,)k(where)p 670
2427 V 15 w FV(e)j F4(is)d(the)h(expression)h(obtained)e(from)f
FV(e)17 b F4(b)o(y)c(substituting)g FV(e)1630 2456 y
FJ(i)208 2500 y F4(for)i FV(q)296 2506 y FJ(i)311 2500
y F4(,)h(for)f(all)g FV(i)j F0(2)c F4(1)g FQ(:)7 b(:)13
b FV(n)s F4(.)24 b(Before)17 b(doing)d(this)i(substitution,)g
FQ(\013)g F4(con)o(v)o(ersion)g(m)o(ust)e(b)q(e)p Black
Black eop
%%Page: 331 349
331 348 bop Black 208 275 a FR(17.5.)30 b(THE)14 b(MEANING)g(OF)h(A)f
(MODULE)960 b F4(331)p 208 282 1770 2 v Black 208 391
a(applied)9 b(to)g(ensure)i(that)f F0(C)r(C)i F4(is)e(a)f(correct)i
(con)o(text)g(after)e(the)i(de\014nition)e(of)g FV(I)h
F4(!)s FV(Op)i F4(is)e(added)208 441 y(to)15 b FV(GDef)9
b F4(.)23 b(The)16 b(precise)h(de\014nition)e(of)p 859
418 23 2 v 15 w FV(e)j F4(is)e(a)f(bit)g(subtle;)i(it)e(is)g(giv)o(en)g
(in)g(Section)h(17.8)208 491 y(b)q(elo)o(w.)32 b(W)m(e)18
b(require)i(that)f(the)g FQ(\025)g F4(expression)h(in)e(\(17.4\))g(b)q
(e)h(lev)o(el-correct.)34 b(\(If)19 b FV(N)25 b F4(is)208
541 y(a)20 b(nonconstan)o(t)h(mo)q(dule,)f(then)h(lev)o(el-correctness)
i(of)d(this)g FQ(\025)h F4(expression)h(is)e(implied)208
591 y(b)o(y)f(the)h(lev)o(el)f(condition)g(on)g(parameter)g(instan)o
(tiation)f(describ)q(ed)k(in)d(the)h(preceding)208 640
y(paragraph.\))34 b(Legalit)o(y)19 b(of)g(the)h(de\014nition)f(of)g
FV(Op)j F4(in)d(mo)q(dule)f FV(N)26 b F4(and)20 b(of)f(the)h
FP(with)208 690 y F4(substitutions)10 b(implies)f(that)h(the)h
FQ(\025)g F4(expression)g(is)g(arit)o(y-correct)g(in)f(the)h(curren)o
(t)h(con)o(text.)208 740 y(Remem)o(b)q(er)19 b(that)h
FV(I)10 b F4(!)s FV(Op)s F4(\()p FV(c)653 746 y FS(1)672
740 y FQ(;)d(:)g(:)g(:)e(;)i FV(c)786 746 y FJ(m)818
740 y FQ(;)g FV(d)862 746 y FS(1)881 740 y FQ(;)g(:)g(:)g(:)e(;)i
FV(d)999 746 y FJ(n)1023 740 y F4(\))20 b(is)h(actually)f(written)h(in)
f(TLA)1567 725 y FS(+)1609 740 y F4(as)208 790 y FV(I)7
b F4(\()p FV(c)268 796 y FS(1)286 790 y FQ(;)g(:)g(:)g(:)e(;)i
FV(c)400 796 y FJ(m)432 790 y F4(\))s(!)s FV(Op)s F4(\()p
FV(d)563 796 y FS(1)583 790 y FQ(;)g(:)g(:)g(:)e(;)i
FV(d)701 796 y FJ(n)724 790 y F4(\))q(.)270 846 y(Also)16
b(added)i(to)e FV(GDef)26 b F4(is)17 b(the)g(sp)q(ecial)g(de\014nition)
g FV(I)1154 823 y FI(\001)1149 846 y F4(=)g(?.)26 b(This)17
b(prev)o(en)o(ts)h FV(I)24 b F4(from)208 896 y(later)14
b(b)q(eing)f(de\014ned)i(or)f(declared)h(as)f(an)g(op)q(erator)g(name.)
270 946 y(If)h FV(NAss)j F4(equals)e(the)g(set)g F0(f)p
FV(A)746 952 y FS(1)764 946 y FQ(;)7 b(:)g(:)g(:)e(;)i
FV(A)888 952 y FJ(k)908 946 y F0(g)15 b F4(of)g(assumptions,)f(then)i
(for)f(eac)o(h)h(theorem)208 996 y FV(T)j F4(in)13 b
FV(NThm)s F4(,)g(w)o(e)h(add)g(to)g FV(Thm)j F4(the)d(theorem)p
Black Black 332 1045 50 2 v 332 1079 a FV(A)363 1085
y FS(1)391 1079 y F0(^)9 b FQ(:)e(:)g(:)g F0(^)p 522
1045 52 2 v 9 w FV(A)553 1085 y FJ(k)597 1079 y F0(\))p
662 1045 36 2 v 23 w FV(T)208 1162 y F4(\(As)13 b(ab)q(o)o(v)o(e,)p
412 1128 V 12 w FV(T)k F4(and)c(the)p 609 1128 48 2 v
13 w FV(A)640 1168 y FJ(j)669 1162 y F4(are)g(obtained)f(from)f
FV(T)18 b F4(and)12 b(the)h FV(A)1231 1168 y FJ(j)1260
1162 y F4(b)o(y)g(substituting)f FV(e)1568 1168 y FJ(i)1596
1162 y F4(for)208 1211 y FV(q)231 1217 y FJ(i)246 1211
y F4(,)h(for)h(eac)o(h)g FV(i)k F4(in)13 b(1)h FQ(:)7
b(:)13 b FV(k)t F4(.\))270 1261 y(A)h(global)e FP(inst)m(ance)i
F4(statemen)o(t)g(can)g(also)f(ha)o(v)o(e)h(the)h(t)o(w)o(o)e(forms)p
Black Black 332 1348 a FV(I)394 1325 y FI(\001)389 1348
y F4(=)35 b FP(inst)m(ance)16 b FV(N)23 b FP(with)14
b FV(q)838 1354 y FS(1)868 1348 y F0( )d FV(e)943 1354
y FS(1)962 1348 y FQ(;)j(:)7 b(:)g(:)e(;)13 b FV(q)1091
1354 y FJ(n)1126 1348 y F0( )e FV(e)1201 1354 y FJ(n)332
1406 y FP(inst)m(ance)16 b FV(N)23 b FP(with)14 b FV(q)714
1412 y FS(1)744 1406 y F0( )d FV(e)819 1412 y FS(1)838
1406 y FQ(;)j(:)7 b(:)g(:)e(;)13 b FV(q)967 1412 y FJ(n)1002
1406 y F0( )e FV(e)1077 1412 y FJ(n)208 1489 y F4(The)19
b(\014rst)g(is)f(just)h(the)h FV(m)i F4(=)e(0)e(case)i(of)e(\(17.3\);)h
(the)h(second)f(is)g(similar)d(to)i(the)i(\014rst,)208
1539 y(except)14 b(the)f(de\014nitions)g(added)g(to)f
FV(GDef)22 b F4(do)13 b(not)f(ha)o(v)o(e)h FV(I)d F4(!)16
b(prep)q(ended)e(to)f(the)g(op)q(erator)208 1589 y(names.)j(The)d
(second)h(form)d(also)h(has)h(the)g(legalit)o(y)e(condition)h(that)h
(none)g(of)f(the)h(de\014ned)208 1639 y(sym)o(b)q(ols)g(in)i
FV(N)21 b F4(ma)o(y)13 b(b)q(e)j(de\014ned)g(or)f(declared)h(in)f(the)g
(curren)o(t)i(con)o(text,)e(except)i(in)d(the)208 1688
y(follo)o(wing)e(case.)21 b(An)15 b(op)q(erator)g(de\014nition)g(ma)o
(y)d(b)q(e)k(included)f(m)o(ultiple)d(times)i(through)208
1738 y(c)o(hains)d(of)j FP(inst)m(ance)e F4(and)f FP(extends)h
F4(statemen)o(ts)g(if)e(it)h(is)h(de\014ned)g(in)f(a)g(mo)q(dule)1497
1723 y FS(7)1526 1738 y F4(ha)o(ving)208 1788 y(no)i(declarations.)18
b(F)m(or)13 b(example,)f(supp)q(ose)j(the)f(curren)o(t)h(con)o(text)f
(con)o(tains)g(a)f(de\014nition)208 1838 y(of)i(+)h(obtained)g(through)
g(extending)h(the)g FV(Natur)n(als)h F4(mo)q(dule.)24
b(Then)16 b(an)g FP(inst)m(ance)g FV(N)208 1888 y F4(statemen)o(t)h(is)
g(legal)f(ev)o(en)j(though)e FV(N)24 b F4(also)17 b(extends)h
FV(Natur)n(als)i F4(and)e(therefore)g(de\014nes)208 1938
y(+.)24 b(Because)18 b(the)e FV(Natur)n(als)j F4(mo)q(dule)14
b(declares)j(no)f(parameters,)g(instan)o(tiation)f(cannot)208
1987 y(c)o(hange)f(the)g(de\014nition)g(of)f(+.)270 2037
y(In)i(all)e(forms)h(of)g(the)h FP(inst)m(ance)h F4(statemen)o(t,)e
(omitting)f(the)i FP(with)f F4(clause)h(is)g(equiv-)208
2087 y(alen)o(t)g(to)h(the)h(case)g FV(n)h F4(=)e(0)f(of)h(these)h
(statemen)o(ts.)25 b(\(Remem)o(b)q(er)14 b(that)j(all)d(the)j(declared)
208 2137 y(iden)o(ti\014ers)d(of)f(mo)q(dule)g FV(N)20
b F4(are)15 b(either)f(explicitly)f(or)h(implicitly)d(instan)o
(tiated.\))270 2187 y(A)16 b(lo)q(cal)e FP(inst)m(ance)i
F4(statemen)o(t)g(consists)g(of)f(the)i(k)o(eyw)o(ord)e
FP(local)i F4(follo)o(w)o(ed)d(b)o(y)h(an)208 2236 y
FP(inst)m(ance)k F4(statemen)o(t)g(of)f(the)i(form)d(describ)q(ed)k(ab)
q(o)o(v)o(e.)32 b(It)20 b(is)e(handled)h(in)g(a)f(similar)208
2286 y(fashion)11 b(to)i(a)f(global)f FP(inst)m(ance)i
F4(statemen)o(t,)g(except)h(that)f(all)e(de\014nitions)i(are)g(added)g
(to)208 2336 y FV(LDef)22 b F4(instead)15 b(of)e FV(GDef)c
F4(.)p Black 208 2371 576 2 v 254 2409 a FK(7)271 2421
y FZ(An)g(op)q(erator)d(J!Op)j(is)f(de\014ned)f(in)h(the)g(mo)q(dule)e
(that)i(con)o(tains)e(the)14 b FY(J)1235 2400 y FI(\001)1233
2421 y FZ(=)20 b Fu(inst)n(ance)6 b Fw(:)g(:)g(:)14 b
FZ(statemen)o(t.)p Black Black Black eop
%%Page: 332 350
332 349 bop Black 208 275 a F4(332)768 b FR(CHAPTER)14
b(17.)32 b(THE)14 b(MEANING)g(OF)g(A)g(MODULE)p 208 282
1770 2 v Black 208 391 a F3(17.5.6)65 b(Theorems)21 b(and)i
(Assumptions)208 482 y F4(A)14 b(theorem)f(has)h(one)g(of)f(the)i
(forms)p Black Black 332 564 a FP(theorem)h FV(exp)128
b FP(theorem)17 b FV(Op)1003 541 y FI(\001)998 564 y
F4(=)35 b FV(exp)208 646 y F4(where)21 b FV(exp)i F4(is)d(an)g
(expression,)j(whic)o(h)d(m)o(ust)f(b)q(e)i(legal)e(in)h(the)h(curren)o
(t)h(con)o(text)f F0(C)r(C)r F4(.)208 696 y(The)16 b(\014rst)h(form)d
(adds)i(the)g(theorem)g F0(C)r(C)r F4([)-7 b([)p FV(exp)s
F4(])g(])15 b(to)g(the)i(set)g FV(Thm)s F4(.)24 b(The)16
b(second)h(form)d(is)208 746 y(equiv)n(alen)o(t)f(to)g(the)i(t)o(w)o(o)
e(statemen)o(ts)p Black Black 332 832 a FV(Op)427 809
y FI(\001)422 832 y F4(=)35 b FV(exp)332 882 y FP(theorem)16
b FV(Op)208 962 y F4(An)e(assumption)e(has)i(one)g(of)g(the)g(forms)p
Black Black 332 1048 a FP(assume)j FV(exp)128 b FP(assume)16
b FV(Op)931 1025 y FI(\001)927 1048 y F4(=)34 b FV(exp)208
1130 y F4(The)18 b(expression)i FV(exp)h F4(m)o(ust)d(ha)o(v)o(e)g
(constan)o(t)h(lev)o(el.)31 b(An)19 b(assumption)e(is)h(similar)e(to)i
(a)208 1180 y(theorem)13 b(except)i(that)f F0(C)r(C)s
F4([)-7 b([)p FV(exp)s F4(])g(])12 b(is)i(added)g(to)g(the)g(set)h
FV(Ass)s F4(.)208 1342 y F3(17.5.7)65 b(Submo)r(dules)208
1433 y F4(A)17 b(mo)q(dule)g(can)h(con)o(tain)f(a)h(submo)q(dule,)f
(whic)o(h)h(is)g(a)f(complete)g(mo)q(dule)g(that)h(b)q(egins)208
1483 y(with)p Black Black Black Black 312 1581 2 25 v
314 1558 558 2 v 886 1565 a FP(module)e FV(N)p 1107 1558
V 1665 1581 2 25 v 208 1655 a F4(for)d(some)g(mo)q(dule)g(name)f
FV(N)7 b F4(,)13 b(and)h(ends)h(with)p Black Black Black
Black 312 1730 V 314 1730 1350 2 v 1664 1730 2 25 v 208
1819 a(This)d(is)h(legal)f(i\013)g(the)i(mo)q(dule)d(name)h
FV(N)19 b F4(is)13 b(not)g(de\014ned)h(in)e F0(C)r(C)k
F4(and)c(the)i(mo)q(dule)d(is)i(legal)208 1869 y(in)k(the)i(con)o(text)
g F0(C)r(C)r F4(.)31 b(In)18 b(this)g(case,)i(the)f(mo)q(dule)d
(de\014nition)i(that)g(assigns)h(to)f FV(N)24 b F4(the)208
1919 y(meaning)12 b(of)h(the)h(submo)q(dule)f(in)h(con)o(text)g
F0(C)r(C)j F4(is)c(added)i(to)e FV(MDef)d F4(.)270 1969
y(A)19 b(submo)q(dule)f(can)h(b)q(e)h(used)g(in)f(an)g
FP(inst)m(ance)g F4(statemen)o(t)g(that)g(app)q(ears)h(either)208
2019 y(later)d(in)h(the)g(curren)o(t)h(mo)q(dule)d(or)i(in)f(a)g(mo)q
(dule)g(that)g(extends)i(the)g(curren)o(t)g(mo)q(dule.)208
2068 y(Submo)q(dules)c(of)h(a)g(mo)q(dule)f FV(M)23 b
F4(are)17 b FV(not)k F4(added)c(to)f(the)h(set)g FV(MDef)26
b F4(of)16 b(a)g(mo)q(dule)f(that)208 2118 y(instan)o(tiates)f
FV(M)7 b F4(.)208 2326 y FN(17.6)82 b(Correctness)27
b(of)f(a)i(Mo)r(dule)208 2417 y F4(Section)11 b(17.5)f(ab)q(o)o(v)o(e)h
(de\014nes)h(the)g(meaning)d(of)i(a)f(mo)q(dule)g(to)h(consist)h(of)e
(the)i(six)f(sets)h FV(Dcl)t F4(,)208 2467 y FV(GDef)d
F4(,)k FV(LDef)c F4(,)k FV(MDef)c F4(,)k FV(Ass)s F4(,)g(and)h
FV(Thm)s F4(.)k(Mathematically)m(,)10 b(w)o(e)k(can)f(view)h(the)g
(meaning)208 2517 y(of)f(a)h(mo)q(dule)f(to)h(b)q(e)h(the)f(assertion)h
(that)g(all)d(the)j(theorems)g(in)e FV(Thm)k F4(are)e(consequences)p
Black Black eop
%%Page: 333 351
333 350 bop Black 208 275 a FR(17.7.)30 b(FINDING)14
b(MODULES)1182 b F4(333)p 208 282 1770 2 v Black 208
391 a(of)15 b(the)h(assumptions)f(in)g FV(Ass)s F4(.)25
b(More)16 b(precisely)m(,)g(let)g FV(A)g F4(b)q(e)g(the)h(conjunction)e
(of)h(all)e(the)208 441 y(assumptions)d(in)h FV(Ass)s
F4(.)18 b(The)13 b(mo)q(dule)e(asserts)k(that,)d(for)g(ev)o(ery)i
(theorem)e FV(T)18 b F4(in)12 b FV(Thm)s F4(,)g(the)208
491 y(form)o(ula)f FV(A)g F0(\))g FV(T)19 b F4(is)14
b(v)n(alid.)646 476 y FS(8)270 541 y F4(An)e(assumption)e(or)i(theorem)
g(of)f(the)i(mo)q(dule)d(is)i(a)g(\()p F0(C)7 b([)e FV(Dcl)t
F4(\)-basic)13 b(expression.)18 b(F)m(or)208 591 y(an)13
b(outermost)h(mo)q(dule)e(\(not)i(a)g(submo)q(dule\),)f
F0(C)j F4(declares)f(only)f(the)g(built-in)f(op)q(erators)208
640 y(of)g(TLA)342 625 y FS(+)363 640 y F4(,)h(and)g
FV(Dcl)19 b F4(declares)d(the)f(declared)g(constan)o(ts)g(and)f(v)n
(ariables)g(of)g(the)h(mo)q(dule.)208 690 y(Therefore,)c(eac)o(h)g
(form)o(ula)d FV(A)j F0(\))g FV(T)k F4(asserted)d(b)o(y)e(the)h(mo)q
(dule)e(is)h(a)g(basic)g(expression.)18 b(W)m(e)208 740
y(sa)o(y)c(that)g(the)h(mo)q(dule)e(is)i FV(semantic)n(al)r(ly)g(c)n
(orr)n(e)n(ct)i F4(if)d(eac)o(h)h(of)f(these)h(expressions)h
FV(A)d F0(\))f FV(T)208 790 y F4(is)j(a)h(v)n(alid)f(form)o(ula)e(in)j
(the)g(con)o(text)h FV(Dcl)t F4(.)25 b(Chapter)17 b(16)e(de\014nes)j
(what)e(it)f(means)g(for)h(a)208 840 y(basic)e(expression)h(to)e(b)q(e)
i(a)e(v)n(alid)g(form)o(ula.)270 889 y(By)18 b(de\014ning)g(the)h
(meaning)d(of)i(a)g(theorem,)g(w)o(e)g(ha)o(v)o(e)g(de\014ned)i(the)e
(meaning)f(of)g(a)208 939 y(TLA)295 924 y FS(+)328 939
y F4(sp)q(eci\014cation.)h(An)o(y)12 b(mathematically)d(meaningful)h
(question)i(w)o(e)h(can)g(ask)f(ab)q(out)208 989 y(a)i(sp)q
(eci\014cation)i(can)f(b)q(e)g(framed)f(as)h(the)g(question)g(of)f
(whether)i(a)f(certain)g(form)o(ula)d(is)j(a)208 1039
y(v)n(alid)d(theorem.)208 1197 y FN(17.7)82 b(Finding)25
b(Mo)r(dules)208 1288 y F4(F)m(or)12 b(a)g(mo)q(dule)f
FV(M)19 b F4(to)12 b(ha)o(v)o(e)g(a)h(meaning)d(in)i(a)g(con)o(text)h
F0(C)r F4(,)g(ev)o(ery)g(mo)q(dule)e FV(N)19 b F4(extended)14
b(or)208 1338 y(instan)o(tiated)d(b)o(y)g FV(M)18 b F4(m)o(ust)11
b(ha)o(v)o(e)g(its)g(meaning)f(de\014ned)i(in)f F0(C)r
F4(|unless)h FV(N)18 b F4(is)12 b(a)f(submo)q(dule)208
1388 y(of)j FV(M)22 b F4(or)15 b(of)f(a)h(mo)q(dule)e(extended)j(b)o(y)
f FV(M)7 b F4(.)21 b(In)15 b(principle,)g(mo)q(dule)e
FV(M)22 b F4(is)15 b(in)o(terpreted)h(in)208 1438 y(a)d(con)o(text)i
(con)o(taining)e(declarations)h(and)f(de\014nitions)h(of)g(the)g
(built-in)f(TLA)1458 1423 y FS(+)1492 1438 y F4(op)q(erator)208
1487 y(names)d(and)i(mo)q(dule)e(de\014nitions)h(of)g(all)g(mo)q(dules)
f(needed)j(to)f(in)o(terpret)g FV(M)7 b F4(.)18 b(In)11
b(practice,)208 1537 y(a)k(to)q(ol)g(\(or)h(a)g(p)q(erson\))h(b)q
(egins)g(in)o(terpreting)f FV(M)23 b F4(in)15 b(a)h(con)o(text)h
F0(C)1268 1543 y FS(0)1303 1537 y F4(initially)c(con)o(taining)208
1587 y(only)i(declarations)h(and)h(de\014nitions)f(of)g(the)g(built-in)
f(TLA)1181 1572 y FS(+)1218 1587 y F4(op)q(erator)i(names.)25
b(When)208 1637 y(the)11 b(to)q(ol)g(encoun)o(ters)i(an)d
FP(extends)i F4(or)f FP(inst)m(ance)h F4(statemen)o(t)f(that)g(men)o
(tions)f(a)g(mo)q(dule)208 1687 y(named)h FV(N)20 b F4(not)13
b(de\014ned)h(in)e(the)i(curren)o(t)g(con)o(text)g F0(C)r(C)h
F4(of)e FV(M)7 b F4(,)12 b(the)i(to)q(ol)e(\014nds)i(the)f(mo)q(dule)
208 1736 y(named)g FV(N)7 b F4(,)15 b(in)o(terprets)h(it)f(in)f(the)i
(con)o(text)g F0(C)934 1742 y FS(0)953 1736 y F4(,)e(and)h(then)h(adds)
f(the)h(mo)q(dule)d(de\014nition)208 1786 y(for)g FV(N)21
b F4(to)13 b F0(C)397 1792 y FS(0)430 1786 y F4(and)h(to)g
F0(C)r(C)r F4(.)270 1836 y(The)19 b(de\014nition)f(of)g(the)i(TLA)765
1821 y FS(+)804 1836 y F4(language)e(do)q(es)h(not)g(sp)q(ecify)g(ho)o
(w)g(a)f(to)q(ol)g(\014nds)h(a)208 1886 y(mo)q(dule)14
b(named)g FV(N)7 b F4(.)23 b(A)16 b(to)q(ol)f(will)f(most)h(lik)o(ely)f
(lo)q(ok)h(for)g(the)h(mo)q(dule)f(in)g(a)g(\014le)h(named)208
1936 y FV(N)7 b FO(.tla)p F4(.)270 1986 y(The)16 b(meaning)e(of)h(a)h
(mo)q(dule)e(dep)q(ends)k(on)d(the)i(meanings)d(of)h(the)i(mo)q(dules)d
(that)i(it)208 2035 y(extends)k(or)f(instan)o(tiates.)33
b(The)19 b(meaning)e(of)h(eac)o(h)i(of)e(those)h(mo)q(dules)f(in)g
(turn)i(ma)o(y)208 2085 y(dep)q(end)f(on)e(the)h(meanings)f(of)g(other)
h(mo)q(dules,)f(and)h(so)g(on.)29 b(Th)o(us,)18 b(the)h(meaning)c(of)
208 2135 y(a)i(mo)q(dule)g(dep)q(ends)i(on)f(the)h(meanings)d(of)i
(some)f(set)i(of)e(mo)q(dules.)29 b(A)18 b(mo)q(dule)f
FV(M)25 b F4(is)208 2185 y(syn)o(tactically)13 b(incorrect)i(if)e(this)
h(set)h(of)e(mo)q(dules)g(includes)h FV(M)21 b F4(itself.)p
Black 208 2219 576 2 v 254 2246 a FK(8)271 2258 y FZ(In)15
b(a)h(temp)q(oral)d(logic)h(lik)o(e)h(TLA,)h(the)f(form)o(ula)e
FY(F)21 b FW(\))c FY(G)h FZ(is)e(not)e(in)i(general)d(equiv)n(alen)o(t)
g(to)i(the)208 2297 y(assertion)9 b(that)h FY(G)k FZ(is)d(a)h
(consequenc)o(e)d(of)i(assumption)d FY(F)t FZ(.)16 b(Ho)o(w)o(ev)o(er,)
11 b(the)g(t)o(w)o(o)g(are)g(equiv)n(alen)o(t)e(if)i
FY(F)16 b FZ(is)11 b(a)208 2337 y(constan)o(t)e(form)o(ula,)g(and)i
(TLA)631 2325 y FK(+)663 2337 y FZ(allo)o(ws)g(only)f(constan)o(t)g
(assumptions)o(.)p Black Black Black eop
%%Page: 334 352
334 351 bop Black 208 275 a F4(334)768 b FR(CHAPTER)14
b(17.)32 b(THE)14 b(MEANING)g(OF)g(A)g(MODULE)p 208 282
1770 2 v Black 208 400 a FN(17.8)82 b(The)26 b(Seman)n(tics)g(of)h
(Instan)n(tiation)208 491 y F4(Section)18 b(17.5.5)d(ab)q(o)o(v)o(e)j
(de\014nes)h(the)f(meaning)e(of)i(an)f FP(inst)m(ance)h
F4(statemen)o(t)g(in)f(terms)208 540 y(of)e(substitution.)23
b(I)16 b(no)o(w)f(de\014ne)i(precisely)g(ho)o(w)e(that)h(substitution)g
(is)g(p)q(erformed)f(and)208 590 y(explain)e(the)h(lev)o
(el-correctness)j(rule)d(for)f(instan)o(tiating)g(nonconstan)o(t)h(mo)q
(dules.)270 640 y(Supp)q(ose)h(that)f(mo)q(dule)e FV(M)21
b F4(con)o(tains)14 b(the)g(statemen)o(t)p Black Black
332 727 a FV(I)394 704 y FI(\001)389 727 y F4(=)35 b
FP(inst)m(ance)16 b FV(N)23 b FP(with)14 b FV(q)838 733
y FS(1)868 727 y F0( )d FV(e)943 733 y FS(1)962 727 y
FQ(;)c(:)g(:)g(:)e(;)i FV(q)1078 733 y FJ(n)1113 727
y F0( )k FV(e)1188 733 y FJ(n)208 810 y F4(where)16 b(the)f
FV(q)424 816 y FJ(i)454 810 y F4(are)g(all)f(the)h(declared)h(iden)o
(ti\014ers)g(of)e(mo)q(dule)g FV(N)7 b F4(,)14 b(and)h(that)f
FV(N)22 b F4(con)o(tains)208 860 y(the)14 b(de\014nition)p
Black Black 332 943 a FV(F)381 920 y FI(\001)376 943
y F4(=)e FV(e)208 1026 y F4(where)g(no)g FQ(\025)f F4(parameter)h(iden)
o(ti\014er)g(in)f FV(e)k F4(is)c(de\014ned)i(or)e(declared)i(in)e(the)h
(curren)o(t)h(con)o(text)208 1076 y(of)18 b FV(M)7 b
F4(.)34 b(The)20 b FP(inst)m(ance)f F4(statemen)o(t)g(then)h(adds)f(to)
g(the)h(curren)o(t)h(con)o(text)f(of)e FV(M)26 b F4(the)208
1126 y(de\014nition)p Black Black 332 1209 a FV(I)10
b F4(!)s FV(F)422 1185 y FI(\001)417 1209 y F4(=)p 461
1186 23 2 v 12 w FV(e)p Black -272 w F4(\(17.5\))p Black
208 1292 a(where)p 328 1269 V 15 w FV(e)17 b F4(is)c(obtained)h(from)e
FV(e)17 b F4(b)o(y)d(substituting)g FV(e)1021 1298 y
FJ(i)1050 1292 y F4(for)g FV(q)1137 1298 y FJ(i)1152
1292 y F4(,)f(for)h(all)f FV(i)k F4(in)d(1)f FQ(:)7 b(:)13
b FV(n)s F4(.)270 1342 y(A)f(fundamen)o(tal)f(principle)h(of)g
(mathematics)e(is)j(that)f(substitution)h(preserv)o(es)i(v)n(alid-)208
1391 y(it)o(y;)d(substituting)h(in)g(a)f(v)n(alid)g(form)o(ula)e
(yields)j(a)g(v)n(alid)e(form)o(ula.)16 b(So,)c(w)o(e)h(w)o(an)o(t)g
(to)g(de\014ne)p 208 1418 V 208 1441 a FV(e)k F4(so)d(that,)f(if)g
FV(F)20 b F4(is)13 b(a)h(v)n(alid)e(form)o(ula)g(in)h
FV(N)7 b F4(,)13 b(then)i FV(I)10 b F4(!)s FV(F)19 b
F4(is)14 b(a)f(v)n(alid)g(form)o(ula)e(in)i FV(M)7 b
F4(.)270 1491 y(A)19 b(simple)f(example)g(sho)o(ws)h(that)h(the)f(lev)o
(el)g(rule)h(for)f(instan)o(tiating)e(nonconstan)o(t)208
1541 y(mo)q(dules)g(is)i(necessary)i(to)e(preserv)o(e)i(the)f(v)n
(alidit)o(y)c(of)j FV(F)6 b F4(.)33 b(Supp)q(ose)20 b
FV(F)k F4(is)19 b(de\014ned)h(to)208 1591 y(equal)14
b FG(2)p F4([)p FV(c)382 1576 y FH(0)405 1591 y F4(=)e
FV(c)r F4(])482 1597 y FJ(c)501 1591 y F4(,)j(where)h
FV(c)i F4(is)c(declared)i(in)f FV(N)21 b F4(to)15 b(b)q(e)h(a)f
(constan)o(t.)21 b(Then)16 b FV(F)k F4(is)15 b(a)g(tem-)208
1640 y(p)q(oral)g(form)o(ula)f(asserting)j(that)f(no)g(step)i(c)o
(hanges)f FV(c)r F4(.)25 b(It)17 b(is)f(v)n(alid)e(b)q(ecause)k(a)e
(constan)o(t)208 1690 y(has)f(the)g(same)f(v)n(alue)g(in)h(ev)o(ery)h
(state)f(of)g(a)f(b)q(eha)o(vior.)21 b(If)15 b(w)o(e)g(allo)o(w)o(ed)f
(an)g(instan)o(tiation)208 1740 y(that)f(substitutes)i(a)e(v)n(ariable)
f FV(x)18 b F4(for)13 b(the)h(constan)o(t)f FV(c)r F4(,)h(then)g
FV(I)c F4(!)s FV(F)18 b F4(w)o(ould)13 b(b)q(e)h(the)f(form)o(ula)208
1790 y FG(2)p F4([)p FV(x)275 1775 y FH(0)298 1790 y
F4(=)e FV(x)5 b F4(])377 1796 y FJ(x)399 1790 y F4(.)26
b(This)16 b(is)h(not)f(a)g(v)n(alid)f(form)o(ula)f(b)q(ecause)19
b(it)d(is)g(false)h(for)f(an)o(y)g(b)q(eha)o(vior)g(in)208
1840 y(whic)o(h)f(the)h(v)n(alue)f(of)g FV(x)21 b F4(c)o(hanges.)j
(Since)16 b FV(x)21 b F4(is)15 b(a)h(v)n(ariable,)e(suc)o(h)j(a)e(b)q
(eha)o(vior)g(ob)o(viously)208 1890 y(exists.)21 b(Preserving)15
b(v)n(alidit)o(y)e(requires)j(that)e(w)o(e)h(not)g(allo)o(w)e
(substitution)i(of)f(a)g(noncon-)208 1939 y(stan)o(t)h(for)f(a)g
(declared)i(constan)o(t)f(when)g(instan)o(tiating)f(a)g(nonconstan)o(t)
h(mo)q(dule.)k(\(Since)208 1989 y FG(2)e F4(and)341 1974
y FH(0)370 1989 y F4(are)h(nonconstan)o(t)h(op)q(erators,)g(this)f
(de\014nition)f(of)g FV(F)24 b F4(can)18 b(app)q(ear)g(only)f(in)g(a)
208 2039 y(nonconstan)o(t)d(mo)q(dule.\))270 2089 y(In)e(ordinary)g
(mathematics,)e(there)j(is)f(one)h(tric)o(ky)f(problem)f(in)h(making)e
(substitution)208 2139 y(preserv)o(e)15 b(v)n(alidit)o(y)m(.)h
(Consider)e(the)h(form)o(ula)p Black Black 332 2222 a(\()p
FV(n)g F0(2)c FV(Nat)t F4(\))h F0(\))f F4(\()p F0(9)c
FV(m)15 b F0(2)c FV(Nat)22 b F4(:)c FV(m)d F0(\025)d
FV(n)s F4(\))p Black -755 w(\(17.6\))p Black 208 2305
a(This)17 b(form)o(ula)e(is)i(v)n(alid)f(b)q(ecause)j(it)e(is)h(true)g
(for)f(an)o(y)g(v)n(alue)g(of)g FV(n)s F4(.)29 b(No)o(w,)18
b(supp)q(ose)h(w)o(e)208 2354 y(substitute)e FV(m)c F4(+)e(1)k(for)h
FV(n)s F4(.)24 b(A)16 b(naiv)o(e)f(substitution)h(that)f(simply)f
(replaces)j FV(n)i F4(b)o(y)d FV(m)d F4(+)e(1)208 2404
y(w)o(ould)i(yield)g(the)h(form)o(ula)p Black Black 332
2487 a(\()p FV(m)f F4(+)c(1)i F0(2)h FV(Nat)t F4(\))f
F0(\))g F4(\()p F0(9)c FV(m)15 b F0(2)c FV(Nat)22 b F4(:)c
FV(m)d F0(\025)d FV(m)g F4(+)e(1\))p Black -920 w(\(17.7\))p
Black Black Black eop
%%Page: 335 353
335 352 bop Black 208 275 a FR(17.8.)30 b(THE)14 b(SEMANTICS)h(OF)f
(INST)m(ANTIA)m(TION)811 b F4(335)p 208 282 1770 2 v
Black 208 391 a(Since)14 b(the)h(form)o(ula)c F0(9)c
FV(m)15 b F0(2)c FV(Nat)h F4(:)c FV(m)14 b F0(\025)e
FV(m)g F4(+)e(1)k(is)g(equiv)n(alen)o(t)f(to)h FP(f)l(alse)p
F4(,)h(\(17.7\))e(is)h(ob)o(vi-)208 441 y(ously)g(not)h(v)n(alid.)20
b(Mathematicians)14 b(call)g(this)h(problem)f FV(variable)h(c)n(aptur)n
(e)s F4(;)g FV(m)j F4(is)d(\\cap-)208 491 y(tured")h(b)o(y)g(the)h
(quan)o(ti\014er)f F0(9)7 b FV(m)s F4(.)24 b(Mathematicians)15
b(a)o(v)o(oid)g(it)g(b)o(y)h(the)h(rule)f(that,)g(when)208
541 y(substituting)i(for)f(an)h(iden)o(ti\014er)g(in)g(a)f(form)o(ula,)
f(one)i(do)q(es)h(not)f(substitute)h(for)f(b)q(ound)208
591 y(o)q(ccurrences)f(of)d(the)h(iden)o(ti\014er.)k(This)14
b(rule)h(requires)g(that)g FV(m)i F4(b)q(e)e(remo)o(v)o(ed)e(from)g
(\(17.6\))208 640 y(b)o(y)g FQ(\013)h F4(con)o(v)o(ersion)g(b)q(efore)h
FV(m)d F4(+)d(1)14 b(is)g(substituted)h(for)f FV(n)s
F4(.)270 690 y(Section)f(17.5.5)f(de\014nes)i(the)g(meaning)d(of)i(the)
g FP(inst)m(ance)h F4(statemen)o(t)f(in)g(a)f(w)o(a)o(y)h(that)208
740 y(a)o(v)o(oids)i(v)n(ariable)g(capture.)25 b(Indeed,)18
b(form)o(ula)13 b(\(17.7\))i(is)h(illegal)e(in)i(TLA)1396
725 y FS(+)1432 740 y F4(b)q(ecause)i(the)208 790 y(sub)q(expression)c
FV(m)e F4(+)e(1)h F0(2)g FV(Nat)16 b F4(is)d(allo)o(w)o(ed)e(only)g(in)
h(a)g(con)o(text)h(in)f(whic)o(h)h FV(m)i F4(is)d(de\014ned)i(or)208
840 y(declared,)j(in)e(whic)o(h)h(case)h FV(m)i F4(cannot)d(b)q(e)h
(used)f(as)g(a)g(b)q(ound)g(iden)o(ti\014er,)g(so)h(the)f(sub)q(ex-)208
889 y(pression)c F0(9)7 b FV(m)k FQ(:)c(:)g(:)j F4(is)i(illegal.)j(The)
e FQ(\013)f F4(con)o(v)o(ersion)g(necessary)i(to)e(pro)q(duce)i(a)e
(syn)o(tactically)208 939 y(w)o(ell-formed)f(expression)k(mak)o(es)e
(this)h(kind)g(of)f(v)n(ariable)g(capture)i(imp)q(ossible.)270
989 y(The)20 b(problem)e(of)h(v)n(ariable)f(capture)j(o)q(ccurs)g(in)e
(a)g(more)f(subtle)j(form)c(in)i(certain)208 1039 y(nonconstan)o(t)11
b(op)q(erators)i(of)d(TLA)752 1024 y FS(+)773 1039 y
F4(,)i(where)g(it)f(is)g(not)h(prev)o(en)o(ted)h(b)o(y)e(the)h(syn)o
(tactic)g(rules.)208 1089 y(Most)19 b(notable)f(of)g(these)j(op)q
(erators)e(is)g FP(enabled)p F4(.)35 b(Supp)q(ose)19
b FV(x)24 b F4(and)19 b FV(y)k F4(are)c(declared)208
1139 y(v)n(ariables)13 b(of)g(mo)q(dule)f FV(N)7 b F4(,)13
b(and)h FV(F)20 b F4(is)13 b(de\014ned)i(b)o(y)p Black
Black 332 1222 a FV(F)404 1198 y FI(\001)399 1222 y F4(=)35
b FP(enabled)11 b F4(\()p FV(x)684 1207 y FH(0)707 1222
y F4(=)h(0)k F0(^)g FV(y)856 1207 y FH(0)879 1222 y F4(=)c(1\))208
1300 y(Then)g FV(F)17 b F4(is)12 b(equiv)n(alen)o(t)f(to)g
FP(tr)o(ue)p F4(,)h(so)g(it)f(is)h(v)n(alid)e(in)h(mo)q(dule)f
FV(N)d F4(.)17 b(\(F)m(or)12 b(an)o(y)f(state)i FV(s)s
F4(,)f(there)208 1350 y(exists)h(a)f(state)h FV(t)j F4(in)c(whic)o(h)g
FV(x)17 b F4(=)12 b(0)g(and)g FV(y)k F4(=)c(1.\))17 b(No)o(w)12
b(supp)q(ose)i FV(z)j F4(is)12 b(a)h(declared)g(v)n(ariable)208
1400 y(of)g(mo)q(dule)f FV(M)7 b F4(,)14 b(and)f(let)h(the)h(instan)o
(tiation)d(b)q(e)p Black Black 332 1483 a FV(I)394 1460
y FI(\001)389 1483 y F4(=)35 b FP(inst)m(ance)16 b FV(N)23
b FP(with)14 b FV(x)j F0( )11 b FV(z)5 b FQ(;)14 b FV(y)h
F0( )c FV(z)208 1562 y F4(With)i(naiv)o(e)g(substitution,)h
FV(I)c F4(!)s FV(F)19 b F4(w)o(ould)13 b(equal)p Black
Black 332 1641 a FP(enabled)e F4(\()p FV(z)548 1624 y
FH(0)571 1641 y F4(=)h(0)k F0(^)g FV(z)718 1624 y FH(0)741
1641 y F4(=)c(1\))208 1720 y(whic)o(h)f(is)h(equiv)n(alen)o(t)g(to)g
FP(f)l(alse)q F4(.)17 b(\(F)m(or)12 b(an)o(y)g(state)g
FV(s)s F4(,)h(there)g(is)f(no)g(state)h FV(t)i F4(in)d(whic)o(h)g
FV(z)k F4(=)c(0)208 1769 y(and)h FV(z)k F4(=)11 b(1)j(are)g(b)q(oth)f
(true.\))19 b(Hence,)c FV(I)10 b F4(!)s FV(F)19 b F4(w)o(ould)13
b(not)g(b)q(e)h(a)g(theorem,)f(so)g(instan)o(tiation)208
1819 y(w)o(ould)g(not)g(preserv)o(e)j(v)n(alidit)o(y)m(.)270
1869 y(Naiv)o(e)h(substitution)g(in)g(a)g(form)o(ula)e(of)i(the)h(form)
e FP(enabled)10 b FV(A)17 b F4(do)q(es)i(not)e(preserv)o(e)208
1919 y(v)n(alidit)o(y)g(b)q(ecause)j(the)g(primed)e(v)n(ariables)h(in)f
FV(A)h F4(are)h(really)f(b)q(ound)g(iden)o(ti\014ers.)34
b(The)208 1969 y(form)o(ula)11 b FP(enabled)g FV(A)i
F4(asserts)j(that)e FV(ther)n(e)h(exist)i F4(v)n(alues)d(of)f(the)i
(primed)e(v)n(ariables)g(suc)o(h)208 2019 y(that)i FV(A)h
F4(is)g(true.)24 b(Substituting)16 b FV(z)761 2003 y
FH(0)789 2019 y F4(for)f FV(x)878 2003 y FH(0)906 2019
y F4(and)g FV(y)1012 2003 y FH(0)1040 2019 y F4(in)g(the)h
FP(enabled)i F4(form)o(ula)13 b(is)i(really)208 2068
y(substitution)h(for)g(a)g(b)q(ound)g(iden)o(ti\014er.)26
b(It)16 b(isn't)g(ruled)h(out)f(b)o(y)g(the)h(syn)o(tactic)g(rules)f
(of)208 2118 y(TLA)295 2103 y FS(+)329 2118 y F4(b)q(ecause)g(the)e
(quan)o(ti\014cation)f(is)h(implicit.)270 2168 y(T)m(o)f(preserv)o(e)j
(v)n(alidit)o(y)m(,)11 b(w)o(e)j(m)o(ust)f(de\014ne)p
935 2145 23 2 v 16 w FV(e)k F4(in)c(\(17.5\))g(so)i(it)e(a)o(v)o(oids)g
(capture)j(of)d(iden-)208 2218 y(ti\014ers)i(implicitly)d(b)q(ound)j
(in)f FP(enabled)j F4(expressions.)23 b(Before)16 b(p)q(erforming)d
(the)j(substi-)208 2268 y(tution,)d(w)o(e)h(\014rst)h(replace)g(the)f
(primed)f(o)q(ccurrences)k(of)c(v)n(ariables)h(in)f FP(enabled)j
F4(expres-)208 2317 y(sions)h(with)h(new)g(v)n(ariable)f(sym)o(b)q
(ols.)28 b(That)18 b(is,)g(for)g(eac)o(h)g(sub)q(expression)i(of)d
FV(e)k F4(of)c(the)208 2367 y(form)d FP(enabled)d FV(A)16
b F4(and)h(eac)o(h)g(declared)h(v)n(ariable)d FV(q)20
b F4(of)c(mo)q(dule)f FV(N)7 b F4(,)17 b(w)o(e)g(replace)g(ev)o(ery)208
2417 y(primed)d(o)q(ccurrence)k(of)c FV(q)19 b F4(in)c
FV(A)g F4(with)g(a)g(new)h(sym)o(b)q(ol,)d(whic)o(h)i(w)o(e)h(write)f
($)p FV(q)t F4(,)g(that)g(do)q(es)208 2467 y(not)f(app)q(ear)i(in)e
FV(A)p F4(.)22 b(This)15 b(new)g(sym)o(b)q(ol)e(is)i(considered)h(to)f
(b)q(e)h(b)q(ound)f(b)o(y)g(the)g FP(enabled)208 2517
y F4(op)q(erator.)j(F)m(or)c(example,)e(the)i(mo)q(dule)p
Black Black eop
%%Page: 336 354
336 353 bop Black 208 275 a F4(336)768 b FR(CHAPTER)14
b(17.)32 b(THE)14 b(MEANING)g(OF)g(A)g(MODULE)p 208 282
1770 2 v Black Black Black Black Black 312 407 2 25 v
314 384 559 2 v 887 391 a FP(module)h FV(N)p 1105 384
V 1664 407 2 25 v Black Black 332 449 a FP(v)l(ariable)j
FV(u)332 514 y(G)t F4(\()p FV(v)t FQ(;)7 b FV(A)p F4(\))512
491 y FI(\001)508 514 y F4(=)34 b FP(enabled)11 b F4(\()p
FV(A)e F0(_)g F4(\()p F0(f)p FV(u)s FQ(;)e FV(v)t F0(g)970
499 y FH(0)994 514 y F4(=)k F0(f)p FV(u)s FQ(;)c FV(v)t
F0(g)p F4(\)\))332 579 y FV(H)409 555 y FI(\001)404 579
y F4(=)35 b(\()p FV(u)512 564 y FH(0)536 579 y F4(=)12
b FV(u)s F4(\))e F0(^)f FV(G)t F4(\()p FV(u)s FQ(;)e
FV(u)789 564 y FH(0)812 579 y F0(6)p F4(=)12 b FV(u)s
F4(\))p 312 605 V 314 605 1350 2 v 1664 605 2 25 v 208
692 a(has)i(as)g(its)f(global)g(de\014nitions)h(the)g(set)p
Black Black 332 775 a F0(f)7 b FV(G)435 752 y FI(\001)430
775 y F4(=)35 b FQ(\025)p FV(v)t FQ(;)14 b FV(A)k F4(:)g
FP(enabled)11 b F4(\()p FV(A)e F0(_)g F4(\()p F0(f)p
FV(u)s FQ(;)e FV(v)t F0(g)1045 760 y FH(0)1069 775 y
F4(=)k F0(f)p FV(u)s FQ(;)c FV(v)t F0(g)p F4(\)\))p FQ(;)360
839 y FV(H)437 816 y FI(\001)432 839 y F4(=)35 b(\()p
FV(u)540 824 y FH(0)564 839 y F4(=)11 b FV(u)s F4(\))17
b F0(^)f FP(enabled)11 b F4(\(\()p FV(u)944 824 y FH(0)968
839 y F0(6)p F4(=)h FV(u)s F4(\))d F0(_)g F4(\()p F0(f)p
FV(u)s FQ(;)e FV(u)s F0(g)1226 824 y FH(0)1249 839 y
F4(=)12 b F0(f)p FV(u)s FQ(;)7 b FV(u)s F0(g)p F4(\)\))12
b F0(g)208 917 y F4(The)i(statemen)o(t)p Black Black
332 996 a FV(I)394 972 y FI(\001)389 996 y F4(=)35 b
FP(inst)m(ance)16 b FV(N)23 b FP(with)14 b FV(u)h F0( )c
FV(x)208 1075 y F4(adds)j(the)g(follo)o(wing)d(de\014nitions)j(to)g
(the)g(curren)o(t)i(mo)q(dule:)p Black Black 332 1159
a FV(I)10 b F4(!)s FV(G)448 1135 y FI(\001)443 1159 y
F4(=)35 b FQ(\025)p FV(v)t FQ(;)7 b FV(A)19 b F4(:)f
FP(enabled)11 b F4(\()p FV(A)e F0(_)g F4(\()p F0(f)p
F4($)p FV(u)s FQ(;)e FV(v)t F0(g)1073 1144 y FH(0)1096
1159 y F4(=)12 b F0(f)p FV(x)5 b FQ(;)i FV(v)t F0(g)p
F4(\)\))332 1227 y FV(I)j F4(!)s FV(H)450 1204 y FI(\001)445
1227 y F4(=)35 b(\()p FV(x)552 1212 y FH(0)576 1227 y
F4(=)12 b FV(x)5 b F4(\))16 b F0(^)g FP(enabled)11 b
F4(\(\($)p FV(u)976 1212 y FH(0)999 1227 y F0(6)p F4(=)h
FV(x)5 b F4(\))10 b F0(_)f F4(\()p F0(f)p F4($)p FV(u)s
FQ(;)e F4($)p FV(u)s F0(g)1299 1212 y FH(0)1321 1227
y F4(=)12 b F0(f)p FV(x)5 b FQ(;)i FV(x)e F0(g)p F4(\)\))208
1307 y(Observ)o(e)19 b(that)e FV(I)10 b F4(!)s FV(H)24
b F4(do)q(es)18 b(not)f(equal)g(\()p FV(x)887 1292 y
FH(0)917 1307 y F4(=)g FV(x)5 b F4(\))12 b F0(^)f FV(I)g
F4(!)s FV(G)t F4(\()p FV(x)5 b FQ(;)i FV(x)1218 1292
y FH(0)1246 1307 y F0(6)p F4(=)18 b FV(x)5 b F4(\),)18
b(ev)o(en)g(though)f FV(H)208 1357 y F4(equals)c(\()p
FV(u)374 1342 y FH(0)398 1357 y F4(=)f FV(u)s F4(\))d
F0(^)f FV(G)t F4(\()p FV(u)s FQ(;)f FV(u)649 1342 y FH(0)672
1357 y F0(6)p F4(=)12 b FV(u)s F4(\))i(in)f(mo)q(dule)g
FV(N)20 b F4(and)13 b(the)h(instan)o(tiation)e(substitutes)k
FV(x)208 1406 y F4(for)d FV(u)s F4(.)270 1456 y(As)h(another)g
(example,)f(consider)h(the)h(mo)q(dule)p Black Black
Black Black 312 1551 V 314 1528 559 2 v 887 1535 a FP(module)g
FV(N)p 1105 1528 V 1664 1551 2 25 v Black Black 332 1594
a FP(v)l(ariables)j FV(u)s FQ(;)g FV(v)332 1658 y(A)451
1635 y FI(\001)446 1658 y F4(=)24 b(\()p FV(u)543 1643
y FH(0)567 1658 y F4(=)11 b FV(u)s F4(\))f F0(^)f F4(\()p
FV(v)737 1643 y FH(0)761 1658 y F0(6)p F4(=)j FV(v)t
F4(\))332 1723 y FV(B)t F4(\()p FV(d)t F4(\))451 1699
y FI(\001)446 1723 y F4(=)24 b FP(enabled)10 b FV(d)332
1788 y(C)451 1764 y FI(\001)446 1788 y F4(=)24 b FV(B)t
F4(\()p FV(A)p F4(\))p 312 1816 V 314 1816 1350 2 v 1664
1816 2 25 v 208 1903 a(The)14 b(instan)o(tiation)p Black
Black 332 1982 a FV(I)394 1958 y FI(\001)389 1982 y F4(=)35
b FP(inst)m(ance)16 b FV(N)23 b FP(with)14 b FV(u)h F0( )c
FV(x)5 b FQ(;)14 b FV(v)i F0( )11 b FV(x)208 2061 y F4(adds)j(the)g
(follo)o(wing)d(de\014nitions)j(to)g(the)g(curren)o(t)i(mo)q(dule:)p
Black Black 332 2145 a FV(I)10 b F4(!)s FV(A)443 2121
y FI(\001)439 2145 y F4(=)34 b(\()p FV(x)545 2130 y FH(0)569
2145 y F4(=)12 b FV(x)5 b F4(\))k F0(^)g F4(\()p FV(x)739
2130 y FH(0)763 2145 y F0(6)p F4(=)j FV(x)5 b F4(\))332
2201 y FV(I)10 b F4(!)s FV(B)446 2178 y FI(\001)441 2201
y F4(=)35 b FQ(\025)p FV(d)23 b F4(:)18 b FP(enabled)11
b FV(d)332 2258 y(I)f F4(!)s FV(C)448 2235 y FI(\001)443
2258 y F4(=)35 b FP(enabled)11 b F4(\(\($)p FV(u)766
2243 y FH(0)790 2258 y F4(=)h FV(x)5 b F4(\))k F0(^)g
F4(\($)p FV(v)980 2243 y FH(0)1004 2258 y F0(6)p F4(=)i
FV(x)5 b F4(\)\))208 2338 y(Observ)o(e)19 b(that)g FV(I)10
b F4(!)s FV(C)23 b F4(is)18 b(not)g(equiv)n(alen)o(t)g(to)g
FV(I)10 b F4(!)s FV(B)t F4(\()p FV(I)h F4(!)s FV(A)p
F4(\).)30 b(In)19 b(fact,)f FV(I)10 b F4(!)s FV(C)25
b F0(\021)19 b FP(tr)o(ue)f F4(and)208 2388 y FV(I)10
b F4(!)s FV(B)t F4(\()p FV(I)g F4(!)s FV(A)p F4(\))i
F0(\021)g FP(f)l(alse)q F4(.)270 2437 y(W)m(e)h(sa)o(y)h(that)g(instan)
o(tiation)f FV(distributes)j F4(o)o(v)o(er)e(an)f(op)q(erator)i
FV(Op)h F4(if)p Black Black 332 2481 268 2 v 332 2517
a FV(Op)s F4(\()p FV(e)426 2523 y FS(1)445 2517 y FQ(;)7
b(:)g(:)g(:)e(;)i FV(e)560 2523 y FJ(n)583 2517 y F4(\))23
b(=)h FV(Op)s F4(\()p 750 2488 41 2 v FV(e)772 2523 y
FS(1)790 2517 y FQ(;)7 b(:)g(:)g(:)e(;)p 883 2488 47
2 v 7 w FV(e)905 2523 y FJ(n)928 2517 y F4(\))p Black
Black eop
%%Page: 337 355
337 354 bop Black 208 275 a FR(17.8.)30 b(THE)14 b(SEMANTICS)h(OF)f
(INST)m(ANTIA)m(TION)811 b F4(337)p 208 282 1770 2 v
Black 208 391 a(for)10 b(an)o(y)h(expressions)i FV(e)580
397 y FJ(i)595 391 y F4(,)e(where)i(the)e(o)o(v)o(erlining)f(op)q
(erator)h(\()p 1180 368 21 2 v 35 w(\))g(denotes)i(some)d(arbitrary)208
441 y(instan)o(tiation.)25 b(Instan)o(tiation)16 b(distributes)i(o)o(v)
o(er)f(all)f(constan)o(t)h(op)q(erators|for)g(exam-)208
491 y(ple,)e(+,)g F0(\022)p F4(,)g(and)g F0(9)7 b F4(.)530
476 y FS(9)571 491 y F4(Instan)o(tiation)14 b(also)h(distributes)h(o)o
(v)o(er)f(most)f(of)h(the)g(nonconstan)o(t)208 541 y(op)q(erators)f(of)
g(TLA)526 526 y FS(+)546 541 y F4(,)g(lik)o(e)f(priming)e(\()818
526 y FH(0)830 541 y F4(\))j(and)g FG(2)p F4(.)270 591
y(If)k(an)g(op)q(erator)g FV(Op)j F4(implicitly)15 b(binds)j(some)f
(iden)o(ti\014ers)i(in)f(its)g(argumen)o(ts,)g(then)208
640 y(instan)o(tiation)e(w)o(ould)h(not)h(preserv)o(e)i(v)n(alidit)o(y)
15 b(if)i(it)h(distributed)g(o)o(v)o(er)g FV(Op)s F4(.)30
b(Our)18 b(rules)208 690 y(for)f(instan)o(tiating)f(in)i(an)f
FP(enabled)j F4(expression)f(imply)c(that)j(instan)o(tiation)e(do)q(es)
j(not)208 740 y(distribute)c(o)o(v)o(er)g FP(enabled)p
F4(.)22 b(It)15 b(also)f(do)q(es)i(not)f(distribute)g(o)o(v)o(er)g(an)o
(y)f(op)q(erator)i(de\014ned)208 790 y(in)d(terms)h(of)i
FP(enabled)p F4(|in)f(particular,)e(the)h(built-in)f(op)q(erators)i(WF)
e(and)h(SF.)270 840 y(There)20 b(are)g(t)o(w)o(o)f(other)h(TLA)755
825 y FS(+)795 840 y F4(op)q(erators)g(that)g(implicitl)o(y)d(bind)i
(iden)o(ti\014ers:)29 b(the)208 889 y(action)18 b(comp)q(osition)f(op)q
(erator)j(\\)p F0(\001)p F4(",)e(de\014ned)i(in)f(Section)g(16.2.3,)f
(and)h(the)g(temp)q(oral)208 939 y(op)q(erator)378 919
y FI(+)372 939 y F0(\000)-7 b FQ(.)q F4(,)11 b(in)o(tro)q(duced)h(in)f
(Section)h(10.7.)k(The)c(rule)f(for)h(instan)o(tiating)e(an)h
(expression)208 989 y FV(A)c F0(\001)g FV(B)18 b F4(is)13
b(similar)d(to)j(that)g(for)g FP(enabled)e FV(A)p F4(|namely)m(,)f(b)q
(ound)j(o)q(ccurrences)j(of)d(v)n(ariables)208 1039 y(are)j(replaced)g
(b)o(y)g(a)f(new)i(sym)o(b)q(ol.)k(In)16 b(the)h(expression)f
FV(A)11 b F0(\001)f FV(B)t F4(,)16 b(primed)f(o)q(ccurrences)j(of)208
1089 y(v)n(ariables)12 b(in)h FV(A)h F4(and)f(unprimed)f(o)q
(ccurrences)17 b(in)c FV(B)18 b F4(are)c(b)q(ound.)k(W)m(e)13
b(handle)g(a)g(form)o(ula)208 1139 y(of)k(the)h(form)f
FV(F)493 1118 y FI(+)488 1139 y F0(\000)-7 b FQ(.)18
b FV(G)k F4(b)o(y)c(replacing)f(it)h(with)g(an)f(equiv)n(alen)o(t)h
(form)o(ula)d(in)i(whic)o(h)h(the)208 1188 y(quan)o(ti\014cation)13
b(is)h(made)f(explicit.)769 1173 y FS(10)824 1188 y F4(Most)h(readers)i
(w)o(on't)e(care,)h(but)f(here's)i(ho)o(w)e(that)208
1238 y(equiv)n(alen)o(t)c(form)o(ula)e(is)j(constructed.)20
b(Let)11 b FU(x)g F4(b)q(e)h(the)g(tuple)f F0(h)s FV(x)1206
1244 y FS(1)1226 1238 y FQ(;)c(:)g(:)g(:)t(;)g FV(x)1342
1244 y FJ(n)1369 1238 y F0(i)12 b F4(of)e(all)g(declared)208
1288 y(v)n(ariables;)h(let)i FV(b)s F4(,)f FF(c)-43 b
FV(x)518 1294 y FS(1)537 1288 y F4(,)12 b(.)7 b(.)f(.)h(,)15
b FF(c)-45 b FV(x)665 1294 y FJ(n)701 1288 y F4(b)q(e)13
b(sym)o(b)q(ols)e(distinct)h(from)f(the)i FV(x)1252 1294
y FJ(i)1279 1288 y F4(and)f(from)f(an)o(y)h(b)q(ound)208
1338 y(iden)o(ti\014ers)h(in)g FV(F)18 b F4(or)13 b FV(G)t
F4(;)g(and)g(let)g FF(b)-23 b FV(e)16 b F4(b)q(e)e(the)f(expression)i
(obtained)d(from)g(an)g(expression)j FV(e)208 1388 y
F4(b)o(y)9 b(substituting)i(the)f(v)n(ariables)g FF(c)-41
b FV(x)750 1394 y FJ(i)776 1388 y F4(for)10 b(the)h(corresp)q(onding)g
(v)n(ariables)e FV(x)1359 1394 y FJ(i)1375 1388 y F4(.)17
b(Then)10 b FV(F)1558 1368 y FI(+)1552 1388 y F0(\000)-7
b FQ(.)12 b FV(G)208 1437 y F4(is)h(equiv)n(alen)o(t)g(to)p
Black Black 332 1516 a F0(8)-21 b(8)g(8)332 1518 y(8)g(8)g(8)6
b FV(b)21 b F4(:)d(\()12 b F0(^)i F4(\()p FV(b)g F0(2)d
FP(boolean)r F4(\))17 b F0(^)f FG(2)p F4([)p FV(b)907
1503 y FH(0)929 1518 y F4(=)c FP(f)l(alse)q F4(])1092
1524 y FJ(b)463 1573 y F0(^)505 1571 y(9)-21 b(9)g(9)505
1573 y(9)g(9)g(9)6 b FF(c)-42 b FV(x)562 1579 y FS(1)581
1573 y FQ(;)7 b(:)g(:)g(:)t(;)j FF(c)-45 b FV(x)697 1579
y FJ(n)739 1573 y F4(:)774 1563 y FF(b)769 1573 y FV(F)27
b F0(^)20 b FG(2)p F4(\()p FV(b)15 b F0(\))c F4(\()p
FU(x)h F4(=)1102 1572 y FF(b)1101 1573 y FU(x)q F4(\)\))f(\))435
1629 y F0(\))500 1627 y(9)-21 b(9)g(9)500 1629 y(9)g(9)g(9)7
b FF(c)-43 b FV(x)557 1635 y FS(1)576 1629 y FQ(;)7 b(:)g(:)g(:)e(;)10
b FF(c)-45 b FV(x)693 1635 y FJ(n)735 1629 y F4(:)771
1618 y FF(b)765 1629 y FV(G)24 b F0(^)d F4(\()p FU(x)12
b F4(=)967 1628 y FF(b)966 1629 y FU(x)q F4(\))k F0(^)g
FG(2)p F4([)p FV(b)d F0(\))f F4(\()p FU(x)1238 1614 y
FH(0)1261 1629 y F4(=)1306 1628 y FF(b)1305 1629 y FU(x)1330
1614 y FH(0)1342 1629 y F4(\)])1370 1644 y FH(h)s FJ(b)r
Fy(;)p Fe(x)p Fy(;)n FF(b)-21 b Fe(x)q FH(i)p Black 208
1518 a F4(\(17.8\))p Black 270 1715 a(Here's)17 b(a)f(complete)g
(statemen)o(t)g(of)f(the)i(rules)g(for)f(computing)p
1307 1692 23 2 v 15 w FV(e)s F4(,)g(for)g(an)g(arbitrary)208
1765 y(expression)f FV(e)s F4(.)p Black 258 1845 a(1.)p
Black 20 w(Remo)o(v)o(e)c(all)527 1825 y FI(+)521 1845
y F0(\000)-7 b FQ(.)13 b F4(op)q(erators)f(b)o(y)g(replacing)g(eac)o(h)
g(subform)o(ula)e(of)h(the)i(form)d FV(F)1558 1825 y
FI(+)1552 1845 y F0(\000)-7 b FQ(.)12 b FV(G)311 1895
y F4(with)i(the)g(equiv)n(alen)o(t)g(form)o(ula)d(\(17.8\).)p
Black 258 1977 a(2.)p Black 20 w(Recursiv)o(ely)17 b(p)q(erform)e(the)i
(follo)o(wing)d(replacemen)o(ts,)i(starting)g(from)f(the)i(inner-)311
2027 y(most)c(sub)q(expressions)j(of)d FV(e)s F4(,)h(for)g(eac)o(h)g
(declared)h(v)n(ariable)e FV(x)19 b F4(of)13 b FV(N)7
b F4(:)p Black 361 2108 a F0(\017)p Black 21 w F4(F)m(or)13
b(eac)o(h)h(sub)q(expression)i(of)d(the)i(form)d FP(enabled)f
FV(A)p F4(,)i(replace)i(eac)o(h)f(primed)403 2158 y(o)q(ccurrence)k(of)
d FV(x)20 b F4(in)15 b FV(A)g F4(b)o(y)h(a)f(new)h(sym)o(b)q(ol)d($)p
FV(x)21 b F4(that)15 b(is)g(di\013eren)o(t)i(from)c(an)o(y)403
2208 y(iden)o(ti\014er)h(and)g(from)e(an)o(y)h(other)i(sym)o(b)q(ol)d
(that)i(o)q(ccurs)h(in)e FV(A)p F4(.)p Black 208 2241
576 2 v 254 2268 a FK(9)271 2280 y FZ(Recall)j(the)h(explanatio)o(n)e
(on)h(pages)g(320{321)f(of)i(ho)o(w)h(w)o(e)f(consider)f
FW(9)23 b FZ(to)17 b(b)q(e)f(a)i(second-ord)o(er)208
2319 y(op)q(erator.)23 b(Instan)o(tiatio)o(n)12 b(distributes)g(o)o(v)o
(er)i FW(9)21 b FZ(b)q(ecause)13 b(TLA)1092 2308 y FK(+)1127
2319 y FZ(do)q(es)h(not)g(p)q(ermit)f(v)n(ariable)g(capture)208
2359 y(when)e(substituting)d(in)j Fw(\025)h FZ(expressions.)239
2387 y FK(10)271 2398 y FZ(Replacing)h Fu(enabled)h FZ(and)g(\\)p
FW(\001)p FZ(")g(expressions)d(b)o(y)j(equiv)n(alen)o(t)e(form)o(ulas)g
(with)j(explicit)d(quan)o(ti\014ers)208 2438 y(b)q(efore)h
(substituting)g(w)o(ould)i(result)f(in)h(some)f(surprising)f(instan)o
(tiation)o(s.)25 b(F)m(or)15 b(example,)f(if)h FY(N)21
b FZ(con-)208 2477 y(tains)12 b(the)h(de\014nition)e
FY(E)t FZ(\()p FY(A)p FZ(\))618 2456 y FI(\001)616 2477
y FZ(=)16 b Fu(enabled)7 b FY(A)q FZ(,)14 b(then)f FY(I)972
2456 y FI(\001)969 2477 y FZ(=)k Fu(inst)n(ance)12 b
FY(N)20 b FZ(w)o(ould)13 b(e\013ectiv)o(ely)e(obtain)h(the)208
2517 y(de\014nition)c FY(I)d FZ(!)p FY(E)t FZ(\()p FY(A)p
FZ(\))493 2496 y FI(\001)491 2517 y FZ(=)16 b FY(A)p
FZ(.)p Black Black Black eop
%%Page: 338 356
338 355 bop Black 208 275 a F4(338)768 b FR(CHAPTER)14
b(17.)32 b(THE)14 b(MEANING)g(OF)g(A)g(MODULE)p 208 282
1770 2 v Black Black 361 391 a F0(\017)p Black 21 w F4(F)m(or)e(eac)o
(h)h(sub)q(expression)i(of)d(the)h(form)e FV(B)g F0(\001)c
FV(C)f F4(,)12 b(replace)h(eac)o(h)g(primed)f(o)q(ccur-)403
441 y(rence)18 b(of)e FV(x)21 b F4(in)16 b FV(B)21 b
F4(and)c(eac)o(h)g(unprimed)e(o)q(ccurrence)k(of)d FV(x)22
b F4(in)16 b FV(C)22 b F4(b)o(y)16 b(a)g(new)403 491
y(sym)o(b)q(ol)g($)p FV(x)23 b F4(that)18 b(is)f(di\013eren)o(t)i(from)
d(an)o(y)i(iden)o(ti\014er)g(and)g(from)e(an)o(y)h(other)403
541 y(sym)o(b)q(ol)12 b(that)i(o)q(ccurs)h(in)e FV(B)19
b F4(or)14 b FV(C)6 b F4(.)311 624 y(F)m(or)12 b(example,)f(applying)g
(these)i(rules)g(to)f(the)h(inner)g FP(enabled)h F4(expression)f(and)f
(to)311 674 y(the)j(\\)p F0(\001)p F4(")e(expression)i(con)o(v)o(erts)p
Black Black 436 773 a FP(enabled)c F4(\(\()p FP(enabled)g
F4(\()p FV(x)864 756 y FH(0)887 773 y F4(=)h FV(x)5 b
F4(\)\))987 756 y FH(0)1008 773 y F0(^)k F4(\(\()p FV(y)1101
756 y FH(0)1125 773 y F4(=)i FV(x)5 b F4(\))10 b F0(\001)f
F4(\()p FV(x)1279 756 y FH(0)1302 773 y F4(=)j FV(y)t
F4(\)\)\))311 873 y(to)p Black Black 436 972 a FP(enabled)f
F4(\(\()p FP(enabled)g F4(\($)p FV(x)885 955 y FH(0)908
972 y F4(=)h FV(x)5 b F4(\)\))1008 955 y FH(0)1029 972
y F0(^)k F4(\(\($)p FV(y)1143 955 y FH(0)1166 972 y F4(=)j
FV(x)5 b F4(\))10 b F0(\001)e F4(\()p FV(x)1320 955 y
FH(0)1344 972 y F4(=)k($)p FV(y)t F4(\)\)\))311 1072
y(and)i(applying)f(them)g(again)f(to)i(the)h(outer)f
FP(enabled)h F4(expression)g(yields)p Black Black 436
1172 a FP(enabled)c F4(\(\()p FP(enabled)g F4(\($)p FV(x)885
1155 y FH(0)908 1172 y F4(=)h($)p FV(xx)5 b F4(\)\))1048
1155 y FH(0)1069 1172 y F0(^)k F4(\(\($)p FV(y)1183 1155
y FH(0)1206 1172 y F4(=)j FV(x)5 b F4(\))10 b F0(\001)e
F4(\($)p FV(xx)1400 1155 y FH(0)1424 1172 y F4(=)k($)p
FV(y)t F4(\)\)\))311 1271 y(where)j($)p FV(xx)k F4(is)14
b(some)f(new)i(sym)o(b)q(ol)d(di\013eren)o(t)i(from)f
FV(x)5 b F4(,)13 b($)p FV(x)5 b F4(,)14 b(and)f($)p FV(y)t
F4(.)p Black 258 1354 a(3.)p Black 20 w(Replace)h(eac)o(h)h(o)q
(ccurrence)h(of)e FV(q)837 1360 y FJ(i)866 1354 y F4(with)f
FV(e)982 1360 y FJ(i)998 1354 y F4(,)g(for)h(all)e FV(i)18
b F4(in)c(1)f FQ(:)7 b(:)13 b FV(n)s F4(.)p Black Black
eop
%%Page: 339 357
339 356 bop Black Black 208 703 a FL(Chapter)31 b(18)208
910 y F5(The)38 b(Standard)g(Mo)s(dules)208 1126 y F4(Sev)o(eral)14
b(standard)g(mo)q(dules)f(are)h(pro)o(vided)g(for)g(use)g(in)g(TLA)1198
1111 y FS(+)1232 1126 y F4(sp)q(eci\014cations.)20 b(Some)12
b(of)208 1176 y(the)k(de\014nitions)h(they)g(con)o(tain)e(are)i
(subtle|for)f(example,)f(the)i(de\014nitions)f(of)g(the)h(set)208
1226 y(of)d(real)i(n)o(um)o(b)q(ers)f(and)g(its)g(op)q(erators.)23
b(Others,)17 b(suc)o(h)f(as)g(the)g(de\014nition)f(of)f(1)g
FQ(:)7 b(:)13 b FV(n)s F4(,)i(are)208 1276 y(ob)o(vious.)24
b(There)17 b(are)f(t)o(w)o(o)g(reasons)h(to)f(use)h(standard)g(mo)q
(dules.)23 b(First,)17 b(sp)q(eci\014cations)208 1325
y(are)i(easier)h(to)g(read)f(when)h(they)g(use)g(basic)g(op)q(erators)g
(that)f(w)o(e're)h(already)f(familiar)208 1375 y(with.)33
b(Second,)20 b(to)q(ols)f(can)g(ha)o(v)o(e)g(built-in)f(kno)o(wledge)h
(of)f(standard)i(op)q(erators.)34 b(F)m(or)208 1425 y(example,)12
b(the)i(TLC)g(mo)q(del)f(c)o(hec)o(k)o(er)i(\(Chapter)g(14\))f(has)g
(e\016cien)o(t)h(implem)o(en)o(tations)c(of)208 1475
y(some)f(standard)i(mo)q(dules;)f(and)h(a)f(theorem-pro)o(v)o(er)g
(migh)o(t)f(implemen)o(t)f(sp)q(ecial)j(decision)208
1525 y(pro)q(cedures)19 b(for)e(some)g(standard)h(op)q(erators.)29
b(The)18 b(standard)g(mo)q(dules)f(of)f(TLA)1552 1510
y FS(+)1590 1525 y F4(are)208 1574 y(describ)q(ed)f(here,)g(except)g
(for)f(the)g FV(R)n(e)n(alTime)j F4(mo)q(dule,)12 b(whic)o(h)h(app)q
(ears)i(in)e(Chapter)i(9.)208 1733 y FN(18.1)82 b(Mo)r(dule)26
b Fd(Se)l(quenc)l(es)208 1824 y F4(The)16 b FV(Se)n(quenc)n(es)k
F4(mo)q(dule)14 b(w)o(as)i(in)o(tro)q(duced)h(in)e(Section)h(4.1)f(on)g
(page)h(35.)23 b(Most)16 b(of)f(the)208 1873 y(op)q(erators)f(it)g
(de\014nes)h(ha)o(v)o(e)f(already)f(b)q(een)i(explained.)j(The)d
(exceptions)g(are)p Black 270 1956 a FV(SubSe)n(q)t F4(\()p
FV(s)s FQ(;)g FV(m)s FQ(;)e FV(n)s F4(\))p Black 51 w(The)h
(subsequence)i F0(h)s FV(s)s F4([)p FV(m)s F4(])p FQ(;)e
FV(s)s F4([)p FV(m)e F4(+)d(1])p FQ(;)k(:)7 b(:)g(:)e(;)14
b FV(s)s F4([)p FV(n)s F4(])s F0(i)g F4(consisting)f(of)615
2006 y(the)21 b FV(m)730 1991 y FS(th)784 2006 y F4(through)f
FV(n)973 1991 y FS(th)1027 2006 y F4(elemen)o(ts)g(of)g
FV(s)s F4(.)38 b(It)20 b(is)g(unde\014ned)i(if)615 2056
y FV(m)e FQ(<)e F4(1)f(or)g FV(n)k FQ(>)d FV(L)n(en)s
F4(\()p FV(s)s F4(\),)g(except)h(that)f(it)f(equals)g(the)h(empt)o(y)
615 2106 y(sequence)e(if)d FV(m)i FQ(>)c FV(n)s F4(.)p
Black 270 2189 a FV(Sele)n(ctSe)n(q)t F4(\()p FV(s)s
FQ(;)j FV(T)m(est)t F4(\))p Black 20 w(The)g(subsequence)i(of)c
FV(s)17 b F4(consisting)c(of)g(the)h(elemen)o(ts)f FV(s)s
F4([)p FV(i)t F4(])g(suc)o(h)615 2239 y(that)h FV(T)m(est)t
F4(\()p FV(s)s F4([)p FV(i)t F4(]\))f(equals)h FP(tr)o(ue)p
F4(.)k(F)m(or)13 b(example,)p Black Black 739 2312 a
FV(PosSubSe)n(q)t F4(\()p FV(s)s F4(\))1026 2288 y FI(\001)1021
2312 y F4(=)35 b FP(let)23 b FV(IsPos)s F4(\()p FV(n)s
F4(\))1369 2288 y FI(\001)1364 2312 y F4(=)h FV(n)15
b FQ(>)d F4(0)1088 2362 y FP(in)54 b FV(Sele)n(ctSe)n(q)t
F4(\()p FV(s)s FQ(;)7 b FV(IsPos)s F4(\))615 2428 y(de\014nes)15
b FV(PosSubSe)n(q)t F4(\()p F0(h)s F4(0)p FQ(;)g F4(3)p
FQ(;)e F0(\000)p F4(2)p FQ(;)h F4(5)s F0(i)p F4(\))g(to)g(equal)f
F0(h)s F4(3)p FQ(;)h F4(5)s F0(i)p F4(.)p Black 1915
2622 a(339)p Black eop
%%Page: 340 358
340 357 bop Black 208 275 a F4(340)835 b FR(CHAPTER)14
b(18.)31 b(THE)14 b(ST)m(AND)o(ARD)f(MODULES)p 208 282
1770 2 v Black 208 391 a F4(The)i FV(Se)n(quenc)n(es)k
F4(mo)q(dule)13 b(uses)j(op)q(erators)g(on)e(natural)h(n)o(um)o(b)q
(ers,)f(so)h(w)o(e)g(migh)o(t)d(exp)q(ect)208 441 y(it)i(to)h(extend)h
(the)f FV(Natur)n(als)j F4(mo)q(dule.)i(Ho)o(w)o(ev)o(er,)15
b(this)g(w)o(ould)f(mean)g(that)h(an)o(y)f(mo)q(dule)208
491 y(that)g(extends)h FV(Se)n(quenc)n(es)k F4(w)o(ould)13
b(then)i(also)f(extend)h FV(Natur)n(als)s F4(.)k(Just)c(in)e(case)i
(someone)208 541 y(w)o(an)o(ts)g(to)g(use)h(sequences)i(without)d
(extending)g(the)h FV(Natur)n(als)i F4(mo)q(dule,)c(the)h
FV(Se)n(quenc)n(es)208 591 y F4(mo)q(dule)d(con)o(tains)i(the)g
(statemen)o(t)p Black Black 332 674 a FP(local)j(inst)m(ance)f
FV(Natur)n(als)208 757 y F4(This)e(statemen)o(t)g(in)o(tro)q(duces)h
(the)g(de\014nitions)f(from)e(the)j FV(Natur)n(als)i
F4(mo)q(dule,)12 b(just)j(as)f(an)208 806 y(ordinary)f
FP(inst)m(ance)g F4(statemen)o(t)g(w)o(ould,)f(but)h(it)g(do)q(es)h
(not)f(exp)q(ort)g(those)h(de\014nitions)f(to)208 856
y(another)g(mo)q(dule)f(that)h(extends)h(or)f(instan)o(tiates)g(the)h
FV(Se)n(quenc)n(es)j F4(mo)q(dule.)f(The)e FP(local)208
906 y F4(mo)q(di\014er)k(can)h(also)g(precede)j(an)d(ordinary)g
(de\014nition;)i(it)e(has)h(the)f(e\013ect)j(of)c(making)208
956 y(that)i(de\014nition)g(usable)g(within)g(the)h(curren)o(t)g(mo)q
(dule,)f(but)h(not)f(in)g(a)g(mo)q(dule)f(that)208 1006
y(extends)14 b(or)f(instan)o(tiates)g(it.)18 b(\(The)13
b FP(local)h F4(mo)q(di\014er)e(cannot)i(b)q(e)f(used)h(with)f
(parameter)208 1056 y(declarations.\))270 1105 y(Ev)o(erything)18
b(else)g(that)g(app)q(ears)h(in)e(the)i FV(Se)n(quenc)n(es)j
F4(mo)q(dule)17 b(should)g(b)q(e)i(famili)o(ar.)208 1155
y(The)14 b(mo)q(dule)e(is)i(in)f(Figure)h(18.1)f(on)h(the)g(next)h
(page.)208 1313 y FN(18.2)82 b(Mo)r(dule)26 b Fd(FiniteSets)208
1404 y F4(As)16 b(describ)q(ed)h(in)e(Section)h(6.1)e(on)i(page)f(66,)g
(the)h FV(FiniteSets)j F4(mo)q(dule)14 b(de\014nes)j(the)f(t)o(w)o(o)
208 1454 y(op)q(erators)c FV(IsFiniteSet)j F4(and)c FV(Car)n(dinality)t
F4(.)k(The)d(de\014nition)f(of)f FV(Car)n(dinality)k
F4(is)d(discussed)208 1504 y(on)i(page)h(70.)k(The)c(mo)q(dule)e
(itself)i(is)g(in)f(Figure)h(18.2)f(on)g(the)i(next)f(page.)208
1662 y FN(18.3)82 b(Mo)r(dule)26 b Fd(Bags)208 1753 y
F4(A)11 b FV(b)n(ag)p F4(,)g(also)f(called)h(a)g(m)o(ultiset,)f(is)h(a)
f(set)i(that)f(can)h(con)o(tain)e(m)o(ultiple)f(copies)j(of)e(the)i
(same)208 1803 y(elemen)o(t.)k(A)c(bag)g(can)g(ha)o(v)o(e)f
(in\014nitely)g(man)o(y)f(elemen)o(ts,)i(but)g(only)f(\014nitely)g(man)
o(y)f(copies)208 1853 y(of)e(an)o(y)h(single)g(elemen)o(t.)16
b(Bags)9 b(are)h(sometimes)e(useful)h(for)g(represen)o(ting)i(data)e
(structures.)208 1903 y(F)m(or)14 b(example,)f(the)i(state)h(of)e(a)h
(net)o(w)o(ork)g(in)f(whic)o(h)h(messages)f(can)h(b)q(e)h(deliv)o(ered)
f(in)f(an)o(y)208 1953 y(order)i(could)g(b)q(e)h(represen)o(ted)i(as)d
(a)g(bag)f(of)h(messages)g(in)g(transit.)24 b(Multiple)16
b(copies)g(of)208 2002 y(an)d(elemen)o(t)h(in)f(the)h(bag)g(represen)o
(t)i(m)o(ultiple)c(copies)i(of)f(the)i(same)e(message)g(in)h(transit.)
270 2052 y(The)h FV(Bags)k F4(mo)q(dule)13 b(de\014nes)j(a)f(bag)f(to)h
(b)q(e)g(a)g(function)g(whose)g(range)g(is)g(a)f(subset)i(of)208
2102 y(the)c(p)q(ositiv)o(e)g(in)o(tegers.)19 b(An)12
b(elemen)o(t)g FV(e)j F4(b)q(elongs)e(to)f(bag)f FV(B)17
b F4(i\013)12 b FV(e)k F4(is)c(in)f(the)i(domain)d(of)i
FV(B)t F4(,)208 2152 y(in)f(whic)o(h)i(case)g(bag)f FV(B)17
b F4(con)o(tains)12 b FV(B)t F4([)p FV(e)s F4(])g(copies)h(of)e
FV(e)s F4(.)18 b(The)13 b(mo)q(dule)e(de\014nes)j(the)e(follo)o(wing)
208 2202 y(op)q(erators.)26 b(In)16 b(our)g(customary)g(st)o(yle,)g(w)o
(e)h(lea)o(v)o(e)f(unsp)q(eci\014ed)i(the)e(v)n(alue)g(obtained)g(b)o
(y)208 2251 y(applying)c(an)i(op)q(erator)g(on)g(bags)g(to)f(something)
g(other)h(than)g(a)g(bag.)p Black 270 2334 a FV(IsABag)t
F4(\()p FV(B)t F4(\))p Black 160 w(T)m(rue)g(i\013)f
FV(B)19 b F4(is)13 b(a)h(bag.)p Black 270 2417 a FV(BagT)m(oSet)t
F4(\()p FV(B)t F4(\))p Black 120 w(The)e(set)i(of)d(elemen)o(ts)h(of)g
(whic)o(h)g(bag)g FV(B)17 b F4(con)o(tains)12 b(at)g(least)h(one)632
2467 y(cop)o(y)m(.)p Black Black eop
%%Page: 341 359
341 358 bop Black 208 275 a FR(18.3.)30 b(MODULE)14 b
FV(BA)o(GS)1275 b F4(341)p 208 282 1770 2 v Black Black
Black Black 188 443 2 25 v 190 420 716 2 v 919 427 a
FP(module)15 b FV(Se)n(quenc)n(es)p 1280 420 V 1996 443
2 25 v .95 TeXcolorgray .95 TeXcolorgray 200 541 1787
92 v .95 TeXcolorgray Black 208 485 a FZ(De\014nes)10
b(op)q(erators)f(on)i(\014nite)f(sequences,)f(where)i(a)g(sequence)f
(of)h(length)f FY(n)k FZ(is)e(represen)o(ted)c(as)j(a)h(function)d
(whose)i(domain)f(is)208 524 y(the)g(set)h(1)h Fw(:)5
b(:)12 b FY(n)j FZ(\(the)10 b(set)h FW(f)p FZ(1)p Fw(;)5
b FZ(2)p Fw(;)g(:)h(:)g(:)g(;)f FY(n)s FW(g)p FZ(\).)17
b(This)11 b(is)h(also)f(ho)o(w)g(TLA)1116 513 y FK(+)1148
524 y FZ(de\014nes)f(an)h FY(n)s FZ(-tuple,)f(so)h(tuples)f(are)h
(sequences.)p .95 TeXcolorgray Black 208 620 a FP(local)16
b(inst)m(ance)g FV(Natur)n(als)p .95 TeXcolorgray .95
TeXcolorgray 725 640 1008 57 v .95 TeXcolorgray Black
45 w FZ(Imp)q(orts)10 b(the)h(de\014nitions)d(from)j
FY(Natur)n(als)s FZ(,)h(but)e(do)q(esn't)g(exp)q(ort)g(them.)p
.95 TeXcolorgray Black 208 689 a FV(Se)n(q)t F4(\()p
FV(S)5 b F4(\))359 665 y FI(\001)354 689 y F4(=)24 b
FP(union)17 b F0(f)p F4([1)c FQ(:)7 b(:)12 b FV(n)j F0(!)c
FV(S)5 b F4(])19 b(:)f FV(n)d F0(2)c FV(Nat)t F0(g)p
.95 TeXcolorgray .95 TeXcolorgray 1160 759 744 106 v
.95 TeXcolorgray Black 169 w FZ(The)g(set)g(of)h(all)f(\014nite)f
(sequences)f(of)i(elemen)o(ts)e(in)j FY(S)t FZ(.)1168
738 y(The)f(length)f(of)h(sequence)f FY(s)s FZ(.)p .95
TeXcolorgray Black 208 745 a FV(L)n(en)s F4(\()p FV(s)s
F4(\))359 722 y FI(\001)354 745 y F4(=)24 b FP(choose)16
b FV(n)f F0(2)c FV(Nat)23 b F4(:)18 b FP(domain)10 b
FV(s)15 b F4(=)c(1)j FQ(:)7 b(:)13 b FV(n)208 823 y(s)f
F0(\016)d FV(t)324 799 y FI(\001)319 823 y F4(=)p .95
TeXcolorgray .95 TeXcolorgray 420 843 938 57 v .95 TeXcolorgray
Black 78 w FZ(The)i(sequence)f(obtained)f(b)o(y)i(concatenat)o(ing)d
(sequences)h FY(s)14 b FZ(and)d FY(t)s FZ(.)p .95 TeXcolorgray
Black 250 885 a F4([)p FV(i)k F0(2)c F4(1)j FQ(:)7 b(:)13
b F4(\()p FV(L)n(en)s F4(\()p FV(s)s F4(\))d(+)g FV(L)n(en)s
F4(\()p FV(t)t F4(\)\))i F0(7!)f FP(if)23 b FV(i)16 b
F0(\024)11 b FV(L)n(en)s F4(\()p FV(s)s F4(\))24 b FP(then)g
FV(s)s F4([)p FV(i)t F4(])1072 935 y FP(else)36 b FV(t)t
F4([)p FV(i)12 b F0(\000)e FV(L)n(en)s F4(\()p FV(s)s
F4(\)]])208 1012 y FV(App)n(end)t F4(\()p FV(s)s FQ(;)d
FV(e)s F4(\))479 989 y FI(\001)475 1012 y F4(=)34 b FV(s)13
b F0(\016)c(h)s FV(e)e F0(i)p .95 TeXcolorgray .95 TeXcolorgray
697 1032 1146 57 v .95 TeXcolorgray Black 43 w FZ(The)k(sequence)f
(obtained)f(b)o(y)i(app)q(ending)d(elemen)o(t)i FY(e)k
FZ(to)d(the)g(end)g(of)g(sequence)e FY(s)s FZ(.)p .95
TeXcolorgray Black 208 1090 a FV(He)n(ad)t F4(\()p FV(s)s
F4(\))383 1066 y FI(\001)378 1090 y F4(=)23 b FV(s)s
F4([1])208 1146 y FV(T)m(ail)t F4(\()p FV(s)s F4(\))383
1123 y FI(\001)378 1146 y F4(=)g([)p FV(i)15 b F0(2)c
F4(1)j FQ(:)7 b(:)13 b F4(\()p FV(L)n(en)s F4(\()p FV(s)s
F4(\))d F0(\000)g F4(1\))h F0(7!)g FV(s)s F4([)p FV(i)i
F4(+)d(1]])p .95 TeXcolorgray .95 TeXcolorgray 1059 1149
399 96 v .95 TeXcolorgray Black 1067 1090 a FZ(The)i(usual)e(head)g
(\(\014rst\))1067 1129 y(and)h(tail)g(\(rest\))f(op)q(erators.)p
.95 TeXcolorgray Black 208 1224 a FV(SubSe)n(q)t F4(\()p
FV(s)s FQ(;)d FV(m)s FQ(;)g FV(n)s F4(\))528 1200 y FI(\001)523
1224 y F4(=)35 b([)p FV(i)15 b F0(2)c F4(1)j FQ(:)7 b(:)13
b F4(\(1)c(+)g FV(n)k F0(\000)d FV(m)s F4(\))h F0(7!)g
FV(s)s F4([)p FV(i)j F4(+)9 b FV(m)j F0(\000)e F4(1]])p
.95 TeXcolorgray .95 TeXcolorgray 1296 1244 631 57 v
.95 TeXcolorgray Black 41 w FZ(The)i(sequence)d FW(h)s
FY(s)s FZ([)p FY(m)s FZ(])p Fw(;)t FY(s)s FZ([)p FY(m)h
FZ(+)e(1])p Fw(;)d(:)h(:)g(:)f(;)h FY(s)s FZ([)p FY(n)s
FZ(])s FW(i)p FZ(.)p .95 TeXcolorgray Black 208 1301
a FV(Sele)n(ctSe)n(q)t F4(\()p FV(s)s FQ(;)h FV(T)m(est)t
F4(\()p 533 1301 22 3 v 34 w(\)\))632 1278 y FI(\001)627
1301 y F4(=)p .95 TeXcolorgray .95 TeXcolorgray 707 1321
1240 57 v .95 TeXcolorgray Black 56 w FZ(The)12 b(subsequenc)o(e)d(of)i
FY(s)j FZ(consisting)9 b(of)i(all)g(elemen)o(ts)f FY(s)s
FZ([)p FY(i)s FZ(])g(suc)o(h)h(that)f FY(T)m(est)s FZ(\()p
FY(s)s FZ([)p FY(i)s FZ(]\))g(is)i(true.)p .95 TeXcolorgray
Black 250 1370 a FP(let)23 b FV(F)6 b F4([)p FV(i)15
b F0(2)c F4(0)i FQ(:)7 b(:)13 b FV(L)n(en)s F4(\()p FV(s)s
F4(\)])705 1347 y FI(\001)701 1370 y F4(=)p .95 TeXcolorgray
.95 TeXcolorgray 780 1390 678 57 v .95 TeXcolorgray Black
56 w FY(F)t FZ([)p FY(i)s FZ(])f(equals)e FY(Sele)n(ctSe)n(q)s
FZ(\()p FY(SubSe)n(q)s FZ(\()p FY(s)s Fw(;)e FZ(1)p Fw(;)d
FY(i)s FZ(\))p Fw(;)h FY(T)m(est)s FZ(\).)p .95 TeXcolorgray
Black 384 1420 a FP(if)24 b FV(i)15 b F4(=)d(0)22 b FP(then)i
F0(h)7 b(i)558 1470 y FP(else)36 b(if)23 b FV(T)m(est)t
F4(\()p FV(s)s F4([)p FV(i)t F4(]\))f FP(then)i FV(App)n(end)t
F4(\()p FV(F)6 b F4([)p FV(i)13 b F0(\000)d F4(1])p FQ(;)d
FV(s)s F4([)p FV(i)t F4(]\))934 1520 y FP(else)36 b FV(F)6
b F4([)p FV(i)12 b F0(\000)d F4(1])250 1569 y FP(in)54
b FV(F)6 b F4([)p FV(L)n(en)s F4(\()p FV(s)s F4(\)])p
188 1590 2 25 v 190 1590 1806 2 v 1996 1590 2 25 v Black
660 1680 a FU(Figure)14 b(18.1:)19 b F4(The)14 b(standard)g
FV(Se)n(quenc)n(es)19 b F4(mo)q(dule.)p Black Black Black
Black Black 188 1863 V 190 1840 713 2 v 916 1847 a FP(module)c
FV(FiniteSets)p 1283 1840 V 1996 1863 2 25 v 208 1906
a FP(local)h(inst)m(ance)g FV(Natur)n(als)p .95 TeXcolorgray
.95 TeXcolorgray 768 1965 1031 96 v .95 TeXcolorgray
Black 88 w FZ(Imp)q(orts)9 b(the)i(de\014nitions)e(from)h
FY(Natur)n(als)15 b FZ(and)c FY(Se)n(quenc)n(es)s FZ(,)i(but)e(do)q
(esn't)776 1945 y(exp)q(ort)f(them.)p .95 TeXcolorgray
Black 208 1963 a FP(local)16 b(inst)m(ance)g FV(Se)n(quenc)n(es)208
2041 y(IsFiniteSet)t F4(\()p FV(S)5 b F4(\))509 2017
y FI(\001)505 2041 y F4(=)p .95 TeXcolorgray .95 TeXcolorgray
584 2061 1082 57 v .95 TeXcolorgray Black 56 w FZ(A)12
b(set)f(is)h(\014nite)e(i\013)h(there)f(is)i(a)f(\014nite)f(sequence)f
(con)o(taining)g(all)i(its)g(elemen)o(ts.)p .95 TeXcolorgray
Black 250 2103 a F0(9)c FV(se)n(q)15 b F0(2)c FV(Se)n(q)t
F4(\()p FV(S)5 b F4(\))20 b(:)e F0(8)7 b FV(s)14 b F0(2)e
FV(S)23 b F4(:)18 b F0(9)7 b FV(n)15 b F0(2)d F4(1)h
FQ(:)7 b(:)13 b FV(L)n(en)s F4(\()p FV(se)n(q)t F4(\))19
b(:)f FV(se)n(q)t F4([)p FV(n)s F4(])11 b(=)h FV(s)208
2180 y(Car)n(dinality)t F4(\()p FV(S)5 b F4(\))513 2157
y FI(\001)509 2180 y F4(=)p .95 TeXcolorgray .95 TeXcolorgray
588 2200 649 57 v .95 TeXcolorgray Black 56 w FZ(Cardinalit)o(y)k(is)i
(de\014ned)f(only)g(for)h(\014nite)f(sets.)p .95 TeXcolorgray
Black 250 2249 a FP(let)23 b FV(CS)5 b F4([)p FV(T)16
b F0(2)c FP(subset)d FV(S)c F4(])721 2226 y FI(\001)716
2249 y F4(=)35 b FP(if)23 b FV(T)17 b F4(=)12 b F0(fg)22
b FP(then)i F4(0)996 2299 y FP(else)36 b F4(1)9 b(+)g
FV(CS)c F4([)p FV(T)12 b F0(n)7 b(f)p FP(choose)16 b
FV(x)24 b F4(:)18 b FV(x)f F0(2)11 b FV(T)6 b F0(g)p
F4(])250 2349 y FP(in)54 b FV(CS)5 b F4([)p FV(S)g F4(])p
188 2370 2 25 v 190 2370 1806 2 v 1996 2370 2 25 v Black
658 2460 a FU(Figure)14 b(18.2:)k F4(The)d(standard)f
FV(FiniteSets)j F4(mo)q(dule.)p Black Black Black Black
eop
%%Page: 342 360
342 359 bop Black 208 275 a F4(342)835 b FR(CHAPTER)14
b(18.)31 b(THE)14 b(ST)m(AND)o(ARD)f(MODULES)p 208 282
1770 2 v Black Black 270 391 a FV(SetT)m(oBag)t F4(\()p
FV(S)5 b F4(\))p Black 125 w(The)15 b(bag)f(that)h(con)o(tains)g(one)f
(cop)o(y)h(of)f(ev)o(ery)i(elemen)o(t)e(in)g(the)632
441 y(set)g FV(S)5 b F4(.)p Black 270 524 a FV(BagIn)s
F4(\()p FV(e)s FQ(;)i FV(B)t F4(\))p Black 145 w(T)m(rue)14
b(i\013)g(bag)g FV(B)k F4(con)o(tains)c(at)g(least)h(one)f(cop)o(y)g
(of)g FV(e)s F4(.)19 b FV(BagIn)f F4(is)632 574 y(the)c
F0(2)g F4(op)q(erator)g(for)g(bags.)p Black 270 657 a
FV(EmptyBag)p Black 176 w F4(The)g(bag)f(con)o(taining)g(no)h(elemen)o
(ts.)p Black 270 740 a FV(CopiesIn)s F4(\()p FV(e)s FQ(;)7
b FV(B)t F4(\))p Black 93 w(The)16 b(n)o(um)o(b)q(er)f(of)g(copies)h
(of)f FV(e)k F4(in)c(bag)g FV(B)t F4(;)h(it)g(is)f(equal)g(to)h(0)f
(i\013)632 790 y FV(BagIn)s F4(\()p FV(e)s FQ(;)7 b FV(B)t
F4(\))15 b(is)f(false.)p Black 270 873 a FV(B)t F4(1)9
b F0(\010)h FV(B)t F4(2)p Black 203 w(The)k(union)f(of)h(bags)f
FV(B)t F4(1)h(and)g FV(B)t F4(2.)k(The)d(op)q(erator)f
F0(\010)g F4(satis\014es)p Black Black 756 939 a FV(CopiesIn)s
F4(\()p FV(e)s FQ(;)7 b FV(B)t F4(1)j F0(\010)f FV(B)t
F4(2\))j(=)839 997 y FV(CopiesIn)s F4(\()p FV(e)s FQ(;)7
b FV(B)t F4(1\))j(+)g FV(CopiesIn)s F4(\()p FV(e)s FQ(;)d
FV(B)t F4(2\))632 1061 y(for)13 b(an)o(y)h FV(e)j F4(and)c(an)o(y)h
(bags)g FV(B)t F4(1)g(and)f FV(B)t F4(2.)p Black 270
1144 a FV(B)t F4(1)c F0(\011)h FV(B)t F4(2)p Black 203
w(The)15 b(bag)f FV(B)t F4(1)i(with)e(the)i(elemen)o(ts)e(of)h
FV(B)t F4(2)g(remo)o(v)o(ed|that)e(is,)632 1194 y(with)i(one)g(cop)o(y)
g(of)g(an)g(elemen)o(t)g(remo)o(v)o(ed)f(from)g FV(B)t
F4(1)h(for)g(eac)o(h)632 1244 y(cop)o(y)h(of)g(the)i(same)e(elemen)o(t)
g(in)g FV(B)t F4(2.)27 b(If)16 b FV(B)t F4(2)h(has)g(at)g(least)g(as)
632 1294 y(man)o(y)9 b(copies)j(of)f FV(e)k F4(as)c FV(B)t
F4(1,)h(then)g FV(B)t F4(1)t F0(\011)t FV(B)t F4(2)h(has)f(no)f(copies)
h(of)f FV(e)s F4(.)p Black 270 1377 a FV(BagUnion)s F4(\()p
FV(S)5 b F4(\))p Black 119 w(The)15 b(bag)g(union)f(of)h(all)e(elemen)o
(ts)i(of)g(the)g(set)h FV(S)k F4(of)15 b(bags.)21 b(F)m(or)632
1426 y(example,)9 b FV(BagUnion)s F4(\()p F0(f)p FV(B)t
F4(1)p FQ(;)e FV(B)t F4(2)p FQ(;)g FV(B)t F4(3)p F0(g)p
F4(\))12 b(equals)f FV(B)t F4(1)s F0(\010)s FV(B)t F4(2)s
F0(\010)s FV(B)t F4(3.)632 1476 y FV(BagUnion)18 b F4(is)13
b(the)i(analog)d(of)17 b FP(union)e F4(for)f(bags.)p
Black 270 1559 a FV(B)t F4(1)e F0(v)f FV(B)t F4(2)p Black
199 w(T)m(rue)j(i\013,)f(for)g(all)f FV(e)s F4(,)i(bag)f
FV(B)t F4(2)h(has)g(at)g(least)g(as)f(man)o(y)f(copies)i(of)632
1609 y FV(e)j F4(as)d(bag)f FV(B)t F4(1)h(do)q(es.)19
b(Th)o(us,)14 b F0(v)g F4(is)f(the)i(analog)d(for)i(bags)g(of)f
F0(\022)p F4(.)p Black 270 1692 a FV(SubBag)t F4(\()p
FV(B)t F4(\))p Black 160 w(The)f(set)i(of)e(all)f(subbags)h(of)g(bag)g
FV(B)t F4(.)18 b FV(SubBag)f F4(is)c(the)g(analog)d(of)632
1742 y FP(subset)k F4(for)f(bags.)p Black 270 1825 a
FV(BagOfA)o(l)r(l)t F4(\()p FV(F)6 b FQ(;)12 b FV(B)t
F4(\))p Black 68 w(The)k(bag)f(analog)f(of)h(the)h(construct)h
F0(f)p FV(F)6 b F4(\()p FV(x)f F4(\))21 b(:)g FV(x)e
F0(2)14 b FV(B)t F0(g)p F4(.)23 b(It)16 b(is)632 1875
y(the)f(bag)f(that)g(con)o(tains,)g(for)h(eac)o(h)g(elemen)o(t)e
FV(e)18 b F4(of)c(bag)g FV(B)t F4(,)h(one)632 1925 y(cop)o(y)c(of)g
FV(F)6 b F4(\()p FV(e)s F4(\))12 b(for)g(ev)o(ery)g(cop)o(y)g(of)f
FV(e)k F4(in)c FV(B)t F4(.)18 b(This)12 b(de\014nes)h(a)e(bag)632
1974 y(i\013,)h(for)h(an)o(y)f(v)n(alue)h FV(v)t F4(,)g(the)h(set)g(of)
e FV(e)17 b F4(in)12 b FV(B)18 b F4(suc)o(h)c(that)f
FV(F)6 b F4(\()p FV(e)s F4(\))12 b(=)f FV(v)632 2024
y F4(is)i(\014nite.)p Black 270 2107 a FV(BagCar)n(dinality)t
F4(\()p FV(B)t F4(\))p Black 21 w(If)19 b FV(B)25 b F4(is)20
b(a)g(\014nite)g(bag)g(\(one)h(suc)o(h)g(that)f FV(BagT)m(oSet)t
F4(\()p FV(B)t F4(\))h(is)f(a)632 2157 y(\014nite)13
b(set\),)i(then)f(this)f(is)h(its)f(cardinalit)o(y|the)g(total)g(n)o
(um)o(b)q(er)632 2207 y(of)h(copies)i(of)f(elemen)o(ts)h(in)f
FV(B)t F4(.)23 b(Its)16 b(v)n(alue)e(is)i(unsp)q(eci\014ed)h(if)d
FV(B)632 2257 y F4(is)f(not)h(a)g(\014nite)g(bag.)208
2340 y(The)d(mo)q(dule)f(app)q(ears)i(in)e(Figure)h(18.3)f(on)h(the)h
(next)f(page.)17 b(Note)12 b(the)g(lo)q(cal)e(de\014nition)g(of)208
2389 y FV(Sum)s F4(,)j(whic)o(h)g(mak)o(es)e FV(Sum)17
b F4(de\014ned)d(within)e(the)h FV(Bags)k F4(mo)q(dule)12
b(but)h(not)g(in)f(an)o(y)g(mo)q(dule)208 2439 y(that)h(extends)j(or)e
(instan)o(tiates)g(it.)p Black Black eop
%%Page: 343 361
343 360 bop Black 208 275 a FR(18.3.)30 b(MODULE)14 b
FV(BA)o(GS)1275 b F4(343)p 208 282 1770 2 v Black Black
Black Black 188 431 2 25 v 190 408 761 2 v 964 415 a
FP(module)15 b FV(Bags)p 1235 408 V 1996 431 2 25 v 208
473 a FP(local)h(inst)m(ance)g FV(Natur)n(als)p .95 TeXcolorgray
.95 TeXcolorgray 725 493 903 57 v .95 TeXcolorgray Black
45 w FZ(Imp)q(ort)10 b(de\014nitions)f(from)h FY(Natur)n(als)s
FZ(,)i(but)f(don't)f(exp)q(ort)g(them.)p .95 TeXcolorgray
Black 208 550 a FV(IsABag)t F4(\()p FV(B)t F4(\))450
527 y FI(\001)445 550 y F4(=)35 b FV(B)16 b F0(2)11 b
F4([)p FP(domain)f FV(B)16 b F0(!)11 b(f)p FV(n)j F0(2)e
FV(Nat)22 b F4(:)c FV(n)d FQ(>)d F4(0)p F0(g)p F4(])p
.95 TeXcolorgray .95 TeXcolorgray 1247 571 312 57 v .95
TeXcolorgray Black 41 w FZ(T)m(rue)f(i\013)h FY(B)j FZ(is)c(a)h(bag.)p
.95 TeXcolorgray Black 208 628 a FV(BagT)m(oSet)t F4(\()p
FV(B)t F4(\))490 604 y FI(\001)485 628 y F4(=)35 b FP(domain)10
b FV(B)p .95 TeXcolorgray .95 TeXcolorgray 776 648 858
57 v .95 TeXcolorgray Black 47 w FZ(The)i(set)f(of)g(elemen)o(ts)e(at)i
(least)g(one)f(cop)o(y)h(of)g(whic)o(h)g(is)g(in)h FY(B)s
FZ(.)p .95 TeXcolorgray Black 208 705 a FV(SetT)m(oBag)t
F4(\()p FV(S)5 b F4(\))485 682 y FI(\001)480 705 y F4(=)35
b([)p FV(e)14 b F0(2)d FV(S)17 b F0(7!)11 b F4(1])p .95
TeXcolorgray .95 TeXcolorgray 791 725 972 57 v .95 TeXcolorgray
Black 42 w FZ(The)g(bag)g(that)f(con)o(tains)g(one)h(cop)o(y)f(of)h(ev)
o(ery)f(elemen)o(t)g(of)h(the)g(set)g FY(S)t FZ(.)p .95
TeXcolorgray Black 208 783 a FV(BagIn)s F4(\()p FV(e)s
FQ(;)c FV(B)t F4(\))465 759 y FI(\001)461 783 y F4(=)35
b FV(e)14 b F0(2)d FV(BagT)m(oSet)t F4(\()p FV(B)t F4(\))p
.95 TeXcolorgray .95 TeXcolorgray 878 803 400 57 v .95
TeXcolorgray Black 44 w FZ(The)h FW(2)f FZ(op)q(erator)e(for)i(bags.)p
.95 TeXcolorgray Black 208 860 a FV(EmptyBag)437 837
y FI(\001)433 860 y F4(=)34 b FV(SetT)m(oBag)t F4(\()p
F0(fg)p F4(\))208 938 y FV(CopiesIn)s F4(\()p FV(e)s
FQ(;)7 b FV(B)t F4(\))517 914 y FI(\001)512 938 y F4(=)35
b FP(if)23 b FV(BagIn)s F4(\()p FV(e)s FQ(;)7 b FV(B)t
F4(\))24 b FP(then)g FV(B)t F4([)p FV(e)s F4(])f FP(else)h
F4(0)p .95 TeXcolorgray .95 TeXcolorgray 1267 958 513
57 v .95 TeXcolorgray Black 42 w FZ(The)12 b(n)o(um)o(b)q(er)d(of)i
(copies)f(of)i FY(e)i FZ(in)d FY(B)s FZ(.)p .95 TeXcolorgray
Black 208 1015 a FV(B)t F4(1)e F0(\010)h FV(B)t F4(2)406
992 y FI(\001)401 1015 y F4(=)p .95 TeXcolorgray .95
TeXcolorgray 481 1035 491 57 v .95 TeXcolorgray Black
56 w FZ(The)i(union)e(of)h(bags)g FY(B)s FZ(1)h(and)e
FY(B)s FZ(2.)p .95 TeXcolorgray Black 250 1077 a F4([)p
FV(e)k F0(2)d F4(\()p FP(domain)g FV(B)t F4(1\))e F0([)g
F4(\()p FP(domain)h FV(B)t F4(2\))i F0(7!)f FV(CopiesIn)s
F4(\()p FV(e)s FQ(;)c FV(B)t F4(1\))j(+)f FV(CopiesIn)s
F4(\()p FV(e)s FQ(;)e FV(B)t F4(2\)])208 1155 y FV(B)t
F4(1)i F0(\011)h FV(B)t F4(2)406 1131 y FI(\001)401 1155
y F4(=)p .95 TeXcolorgray .95 TeXcolorgray 481 1175 736
57 v .95 TeXcolorgray Black 56 w FZ(The)i(bag)f FY(B)s
FZ(1)g(with)h(the)f(elemen)o(ts)e(of)i FY(B)s FZ(2)h(remo)o(v)o(ed.)p
.95 TeXcolorgray Black 250 1224 a FP(let)23 b FV(B)415
1200 y FI(\001)410 1224 y F4(=)35 b([)p FV(e)14 b F0(2)d
FP(domain)f FV(B)t F4(1)i F0(7!)f FV(CopiesIn)s F4(\()p
FV(e)s FQ(;)c FV(B)t F4(1\))j F0(\000)g FV(CopiesIn)s
F4(\()p FV(e)s FQ(;)d FV(B)t F4(2\)])250 1273 y FP(in)54
b F4([)p FV(e)14 b F0(2)e(f)p FV(d)j F0(2)d FP(domain)d
FV(B)23 b F4(:)18 b FV(B)t F4([)p FV(d)t F4(])12 b FQ(>)g
F4(0)p F0(g)f(7!)g FV(B)t F4([)p FV(e)s F4(]])208 1351
y FP(local)16 b FV(Sum)s F4(\()p FV(f)10 b F4(\))518
1327 y FI(\001)513 1351 y F4(=)p .95 TeXcolorgray .95
TeXcolorgray 593 1371 607 57 v .95 TeXcolorgray Black
56 w FZ(The)i(sum)f(of)g Fw(f)t FZ([)p Fw(x)p FZ(])g(for)g(all)g
Fw(x)g FZ(in)g Fu(domain)d Fw(f)t FZ(.)p .95 TeXcolorgray
Black 250 1420 a FP(let)23 b FV(DSum)s F4([)p FV(S)18
b F0(2)11 b FP(subset)e(domain)h FV(f)f F4(])919 1396
y FI(\001)915 1420 y F4(=)35 b FP(let)23 b FV(elt)1160
1396 y FI(\001)1156 1420 y F4(=)35 b FP(choose)16 b FV(e)f
F0(2)c FV(S)24 b F4(:)18 b FP(tr)o(ue)982 1470 y(in)54
b(if)23 b FV(S)17 b F4(=)11 b F0(fg)22 b FP(then)i F4(0)1279
1519 y FP(else)36 b FV(f)9 b F4([)p FV(elt)t F4(])f(+)h
FV(DSum)s F4([)p FV(S)k F0(n)7 b(f)p FV(elt)t F0(g)p
F4(])250 1569 y FP(in)54 b FV(DSum)s F4([)p FP(domain)11
b FV(f)d F4(])208 1647 y FV(BagUnion)s F4(\()p FV(S)d
F4(\))492 1623 y FI(\001)487 1647 y F4(=)p .95 TeXcolorgray
.95 TeXcolorgray 567 1667 798 57 v .95 TeXcolorgray Black
56 w FZ(The)12 b(bag)e(union)g(of)h(all)g(elemen)o(ts)f(of)h(the)g(set)
g FY(S)k FZ(of)d(bags.)p .95 TeXcolorgray Black 250 1709
a F4([)p FV(e)i F0(2)d FP(union)17 b F0(f)p FV(BagT)m(oSet)t
F4(\()p FV(B)t F4(\))j(:)e FV(B)e F0(2)11 b FV(S)5 b
F0(g)12 b(7!)f FV(Sum)s F4(\([)p FV(B)16 b F0(2)11 b
FV(S)17 b F0(7!)11 b FV(CopiesIn)s F4(\()p FV(e)s FQ(;)c
FV(B)t F4(\)]\)])208 1786 y FV(B)t F4(1)k F0(v)h FV(B)t
F4(2)411 1763 y FI(\001)406 1786 y F4(=)35 b F0(^)14
b F4(\()p FP(domain)c FV(B)t F4(1\))i F0(\022)g F4(\()p
FP(domain)e FV(B)t F4(2\))473 1836 y F0(^)k(8)7 b FV(e)15
b F0(2)c FP(domain)f FV(B)t F4(1)19 b(:)f FV(B)t F4(1[)p
FV(e)s F4(])11 b F0(\024)h FV(B)t F4(2[)p FV(e)s F4(])p
.95 TeXcolorgray .95 TeXcolorgray 1165 1806 473 57 v
.95 TeXcolorgray Black 1174 1786 a FZ(The)f(subset)f(op)q(erator)g(for)
h(bags.)p .95 TeXcolorgray Black 208 1893 a FV(SubBag)t
F4(\()p FV(B)t F4(\))451 1869 y FI(\001)446 1893 y F4(=)p
.95 TeXcolorgray .95 TeXcolorgray 526 1913 513 57 v .95
TeXcolorgray Black 56 w FZ(The)g(set)h(of)f(all)g(subbags)e(of)j(bag)e
FY(B)s FZ(.)p .95 TeXcolorgray Black 250 1962 a FP(let)23
b FV(A)o(l)r(lBagsOfSubset)684 1938 y FI(\001)679 1962
y F4(=)p .95 TeXcolorgray .95 TeXcolorgray 759 1982 974
57 v .95 TeXcolorgray Black 56 w FZ(The)12 b(set)f(of)g(bags)g
FY(SB)k FZ(suc)o(h)c(that)f FY(BagT)m(oSet)s FZ(\()p
FY(SB)s FZ(\))h FW(\022)f FY(BagT)m(oSet)s FZ(\()p FY(B)s
FZ(\).)p .95 TeXcolorgray Black 384 2024 a FP(union)17
b F0(f)p F4([)p FV(SB)f F0(!)11 b(f)p FV(n)k F0(2)c FV(Nat)22
b F4(:)c FV(n)d FQ(>)d F4(0)p F0(g)p F4(])18 b(:)g FV(SB)e
F0(2)11 b FP(subset)f FV(BagT)m(oSet)t F4(\()p FV(B)t
F4(\))p F0(g)250 2073 y FP(in)54 b F0(f)p FV(SB)16 b
F0(2)11 b FV(A)o(l)r(lBagsOfSubset)23 b F4(:)17 b F0(8)7
b FV(e)15 b F0(2)c FP(domain)f FV(SB)24 b F4(:)18 b FV(SB)t
F4([)p FV(e)s F4(])11 b F0(\024)h FV(B)t F4([)p FV(e)s
F4(])p F0(g)208 2151 y FV(BagOfA)o(l)r(l)t F4(\()p FV(F)6
b F4(\()p 452 2151 22 3 v 34 w(\))p FQ(;)h FV(B)t F4(\))603
2127 y FI(\001)598 2151 y F4(=)p .95 TeXcolorgray .95
TeXcolorgray 678 2171 845 57 v .95 TeXcolorgray Black
56 w FZ(The)k(bag)g(analog)f(of)h(the)g(set)g FW(f)p
FY(F)t FZ(\()p FY(x)t FZ(\))f(:)f FY(x)15 b FW(2)9 b
FY(B)s FW(g)j FZ(for)f(a)g(set)g FY(B)s FZ(.)p .95 TeXcolorgray
Black 250 2213 a F4([)p FV(e)j F0(2)d(f)p FV(F)6 b F4(\()p
FV(d)t F4(\))19 b(:)f FV(d)e F0(2)11 b FV(BagT)m(oSet)t
F4(\()p FV(B)t F4(\))p F0(g)i(7!)292 2263 y FV(Sum)s
F4(\([)p FV(d)k F0(2)11 b FV(BagT)m(oSet)t F4(\()p FV(B)t
F4(\))i F0(7!)e FP(if)23 b FV(F)6 b F4(\()p FV(d)t F4(\))12
b(=)g FV(e)25 b FP(then)f FV(B)t F4([)p FV(d)t F4(])g
FP(else)g F4(0)o(]\)])208 2340 y FV(BagCar)n(dinality)t
F4(\()p FV(B)t F4(\))588 2317 y FI(\001)583 2340 y F4(=)35
b FV(Sum)s F4(\()p FV(B)t F4(\))p .95 TeXcolorgray .95
TeXcolorgray 833 2360 777 57 v .95 TeXcolorgray Black
44 w FZ(The)12 b(total)e(n)o(um)o(b)q(er)f(of)i(copies)g(of)g(elemen)o
(ts)e(in)i(bag)g FY(B)s FZ(.)p .95 TeXcolorgray Black
188 2382 2 25 v 190 2382 1806 2 v 1996 2382 2 25 v Black
705 2472 a FU(Figure)j(18.3:)19 b F4(The)14 b(standard)h
FV(Bags)i F4(mo)q(dule.)p Black Black Black Black eop
%%Page: 344 362
344 361 bop Black 208 275 a F4(344)835 b FR(CHAPTER)14
b(18.)31 b(THE)14 b(ST)m(AND)o(ARD)f(MODULES)p 208 282
1770 2 v Black 208 400 a FN(18.4)82 b(The)26 b(Num)n(b)r(ers)h(Mo)r
(dules)208 491 y F4(The)13 b(usual)g(sets)h(of)f(n)o(um)o(b)q(ers)f
(and)h(op)q(erators)h(on)f(them)f(are)i(de\014ned)g(in)e(the)i(three)h
(mo)q(d-)208 540 y(ules)21 b FV(Natur)n(als)s F4(,)g
FV(Inte)n(gers)s F4(,)h(and)e FV(R)n(e)n(als)s F4(.)39
b(These)22 b(mo)q(dules)d(are)j(tric)o(ky)e(b)q(ecause)i(their)208
590 y(de\014nitions)17 b(m)o(ust)f(b)q(e)h(consisten)o(t.)29
b(A)17 b(mo)q(dule)e FV(M)24 b F4(migh)o(t)15 b(extend)j(b)q(oth)g(the)
f FV(Natur)n(als)208 640 y F4(mo)q(dule)f(and)h(another)i(mo)q(dule)d
(that)i(extends)h(the)f FV(R)n(e)n(als)j F4(mo)q(dule.)28
b(The)19 b(mo)q(dule)d FV(M)208 690 y F4(thereb)o(y)d(obtains)f(t)o(w)o
(o)f(de\014nitions)i(of)e(an)h(op)q(erator)h(suc)o(h)g(as)f(+,)g(one)h
(from)d FV(Natur)n(als)15 b F4(and)208 740 y(one)c(from)e
FV(R)n(e)n(als)s F4(.)17 b(These)12 b(t)o(w)o(o)f(de\014nitions)g(of)f
(+)h(m)o(ust)f(b)q(e)i(the)f(same.)17 b(T)m(o)10 b(mak)o(e)f(them)h
(the)208 789 y(same,)g(w)o(e)i(ha)o(v)o(e)g(them)f(b)q(oth)h(come)f
(from)f(the)i(de\014nition)f(of)g(+)h(in)g(a)f(mo)q(dule)f
FV(Pr)n(otoR)n(e)n(als)s F4(,)208 839 y(whic)o(h)j(is)h(lo)q(cally)f
(instan)o(tiated)g(b)o(y)h(b)q(oth)g FV(Natur)n(als)i
F4(and)e FV(R)n(e)n(als)s F4(.)270 889 y(The)g FV(Natur)n(als)j
F4(mo)q(dule)12 b(de\014nes)j(the)g(follo)o(wing)c(op)q(erators:)p
Black Black 353 969 a(+)299 b F0(\003)326 b FQ(<)83 b
F0(\024)h FQ(N)5 b(at)83 b F0(\004)p .95 TeXcolorgray
.95 TeXcolorgray 1461 989 253 57 v .95 TeXcolorgray Black
17 w FZ(in)o(teger)10 b(division)p .95 TeXcolorgray Black
353 1031 a F0(\000)p .95 TeXcolorgray .95 TeXcolorgray
391 1051 219 57 v .95 TeXcolorgray Black 14 w FZ(binary)g(min)o(us)p
.95 TeXcolorgray Black 81 w FO(^)p .95 TeXcolorgray .95
TeXcolorgray 711 1051 245 57 v .95 TeXcolorgray Black
14 w FZ(exp)q(onen)o(tia)o(tion)p .95 TeXcolorgray Black
79 w FQ(>)83 b F0(\025)98 b FQ(:)7 b(:)113 b FD(\045)p
.95 TeXcolorgray .95 TeXcolorgray 1461 1051 148 57 v
.95 TeXcolorgray Black 14 w FZ(mo)q(dulus)p .95 TeXcolorgray
Black 208 1112 a F4(Except)14 b(for)f F0(\004)p F4(,)g(these)h(op)q
(erators)g(are)g(all)e(either)i(standard)f(or)g(explained)g(in)g
(Chapter)h(2.)208 1162 y(In)o(teger)20 b(division)f(\()p
F0(\004)p F4(\))h(and)g(mo)q(dulus)f(\()p FD(\045)o F4(\))h(are)h
(de\014ned)g(so)f(that)g(the)g(follo)o(wing)d(t)o(w)o(o)208
1212 y(conditions)c(hold,)g(for)g(an)o(y)h(in)o(teger)g
FV(a)j F4(and)d(p)q(ositiv)o(e)g(in)o(teger)g FV(b)s
F4(:)p Black Black 332 1295 a FV(a)h FD(\045)c FV(b)26
b F0(2)d F4(0)13 b FQ(:)7 b(:)13 b F4(\()p FV(b)f F0(\000)e
F4(1\))124 b FV(a)27 b F4(=)c FV(b)12 b F0(\003)d F4(\()p
FV(a)k F0(\004)c FV(b)s F4(\))21 b(+)g(\()p FV(a)15 b
FD(\045)c FV(b)s F4(\))208 1378 y(The)k FV(Inte)n(gers)j
F4(mo)q(dule)c(extends)i(the)g FV(Natur)n(als)i F4(mo)q(dule)13
b(and)i(also)g(de\014nes)h(the)g(set)g FV(Int)208 1427
y F4(of)c(in)o(tegers)h(and)g(unary)f(min)o(us)f(\()p
F0(\000)p F4(\).)19 b(The)13 b FV(R)n(e)n(als)j F4(mo)q(dule)11
b(extends)j FV(Inte)n(gers)i F4(and)c(in)o(tro-)208 1477
y(duces)k(the)g(set)g FV(R)n(e)n(al)k F4(of)14 b(real)h(n)o(um)o(b)q
(ers)g(and)g(ordinary)g(division)f(\()p FQ(=)p F4(\).)22
b(In)16 b(mathematics,)208 1527 y(\(unlik)o(e)i(programmi)o(ng)d
(languages\),)k(in)o(tegers)h(are)f(real)f(n)o(um)o(b)q(ers.)32
b(Hence,)20 b FV(Nat)j F4(is)18 b(a)208 1577 y(subset)d(of)e
FV(Int)t F4(,)h(whic)o(h)f(is)h(a)g(subset)h(of)e FV(R)n(e)n(al)t
F4(.)270 1627 y(The)20 b FV(R)n(e)n(als)i F4(mo)q(dule)c(also)h
(de\014nes)i(the)e(sp)q(ecial)h(v)n(alue)f FV(In\014nity)t
F4(.)34 b FV(In\014nity)t F4(,)21 b(whic)o(h)208 1676
y(represen)o(ts)16 b(a)e(mathematical)c F0(1)p F4(,)j(satis\014es)i
(the)g(follo)o(wing)c(t)o(w)o(o)i(prop)q(erties:)p Black
Black 332 1759 a F0(8)7 b FV(r)16 b F0(2)11 b FV(R)n(e)n(al)22
b F4(:)c F0(\000)p FV(In\014nity)f FQ(<)11 b FV(r)16
b FQ(<)c FV(In\014nity)138 b F0(\000)9 b F4(\()p F0(\000)p
FV(In\014nity)t F4(\))k(=)f FV(In\014nity)270 1843 y
F4(The)17 b(precise)h(details)e(of)g(the)h(n)o(um)o(b)q(er)f(mo)q
(dules)g(are)h(of)e(no)i(practical)f(imp)q(ortance.)208
1892 y(When)c(writing)g(sp)q(eci\014cations,)h(y)o(ou)f(can)h(just)g
(assume)f(that)g(the)h(op)q(erators)h(they)f(de\014ne)208
1942 y(ha)o(v)o(e)d(their)i(usual)e(meanings.)16 b(If)10
b(y)o(ou)h(w)o(an)o(t)f(to)h(pro)o(v)o(e)g(something)e(ab)q(out)i(a)g
(sp)q(eci\014cation,)208 1992 y(y)o(ou)17 b(can)h(reason)h(ab)q(out)f
(n)o(um)o(b)q(ers)g(ho)o(w)o(ev)o(er)g(y)o(ou)g(w)o(an)o(t.)30
b(T)m(o)q(ols)17 b(lik)o(e)g(mo)q(del)g(c)o(hec)o(k)o(ers)208
2042 y(and)11 b(theorem)g(pro)o(v)o(ers)i(that)e(care)i(ab)q(out)f
(these)h(op)q(erators)f(will)e(ha)o(v)o(e)i(their)g(o)o(wn)f(w)o(a)o
(ys)g(of)208 2092 y(handling)h(them.)17 b(The)c(mo)q(dules)f(are)i(giv)
o(en)f(here)h(mainly)d(for)i(completeness.)18 b(They)c(can)208
2141 y(also)f(serv)o(e)j(as)f(mo)q(dels)e(if)g(y)o(ou)h(w)o(an)o(t)g
(to)h(de\014ne)g(other)g(basic)g(mathematical)c(structures.)208
2191 y(Ho)o(w)o(ev)o(er,)i(suc)o(h)i(de\014nitions)f(are)g(rarely)g
(necessary)i(for)e(writing)f(sp)q(eci\014cations.)270
2241 y(The)e(set)g FV(Nat)j F4(of)c(natural)f(n)o(um)o(b)q(ers,)i(with)
e(its)i(zero)g(elemen)o(t)f(and)g(successor)j(function,)208
2291 y(is)c(de\014ned)i(in)e(the)i FV(Pe)n(ano)i F4(mo)q(dule,)c(whic)o
(h)g(app)q(ears)i(in)e(Figure)h(18.4)f(on)g(the)i(next)f(page.)17
b(It)208 2341 y(simply)9 b(de\014nes)k(the)f(naturals)f(to)g(b)q(e)h(a)
f(set)h(satisfying)f(P)o(eano's)g(axioms.)k(This)c(de\014nition)p
.95 TeXcolorgray .95 TeXcolorgray 1679 2507 307 198 v
.95 TeXcolorgray Black Black 41 w FZ(P)o(eano's)f(axioms)1687
2380 y(are)h(discussed)f(in)1687 2420 y(man)o(y)g(b)q(o)q(oks)h(on)1687
2459 y(the)g(foundations)e(of)1687 2498 y(mathematics.)p
Black .95 TeXcolorgray Black 208 2390 a F4(is)20 b(separated)i(in)o(to)
e(its)h(o)o(wn)g(mo)q(dule)e(for)h(the)i(follo)o(wing)c(reason.)39
b(As)22 b(explained)e(in)208 2440 y(Section)12 b(16.1.9)d(\(page)j
(306\))f(and)h(Section)g(16.1.10)e(\(page)h(307\),)h(the)g(meanings)e
(of)h(tuples)208 2490 y(and)16 b(strings)i(are)f(de\014ned)h(in)e
(terms)h(of)f(the)i(natural)e(n)o(um)o(b)q(ers.)27 b(The)17
b FV(Pe)n(ano)k F4(mo)q(dule,)p Black Black eop
%%Page: 345 363
345 362 bop Black 208 275 a FR(18.4.)30 b(THE)14 b(NUMBERS)h(MODULES)
1051 b F4(345)p 208 282 1770 2 v Black Black Black Black
188 394 2 25 v 190 371 749 2 v 952 378 a FP(module)15
b FV(Pe)n(ano)p 1247 371 V 1996 394 2 25 v .95 TeXcolorgray
.95 TeXcolorgray 200 490 1787 91 v .95 TeXcolorgray Black
208 436 a FZ(This)c(mo)q(dule)f(de\014nes)f FY(Nat)16
b FZ(to)11 b(b)q(e)g(an)g(arbitrary)e(set)i(satisfying)e(P)o(eano's)h
(axioms)g(with)i(zero)e(elemen)o(t)f FY(Zer)n(o)15 b
FZ(and)c(successor)208 476 y(function)e FY(Suc)n(c)r
FZ(.)18 b(It)11 b(do)q(es)g(not)g(use)g(strings)f(or)h(tuples,)f(whic)o
(h)h(in)g(TLA)1173 464 y FK(+)1205 476 y FZ(are)g(de\014ned)e(in)j
(terms)e(of)h(natural)f(n)o(um)o(b)q(ers.)p .95 TeXcolorgray
Black 208 571 a FV(Pe)n(anoAxioms)s F4(\()p FV(N)d FQ(;)g
FV(Z)f FQ(;)h FV(Sc)r F4(\))679 547 y FI(\001)675 571
y F4(=)p .95 TeXcolorgray .95 TeXcolorgray 776 631 1018
96 v .95 TeXcolorgray Black 77 w FZ(Asserts)k(that)f
FY(N)18 b FZ(satis\014es)10 b(P)o(eano's)g(axioms)g(with)h(zero)f
(elemen)o(t)g FY(Z)16 b FZ(and)784 610 y(successor)9
b(function)h FY(Sc)r FZ(.)p .95 TeXcolorgray Black 250
621 a F0(^)15 b FV(Z)j F0(2)11 b FV(N)250 671 y F0(^)k
FV(Sc)f F0(2)d F4([)p FV(N)18 b F0(!)11 b FV(N)c F4(])250
720 y F0(^)15 b(8)7 b FV(n)15 b F0(2)c FV(N)25 b F4(:)18
b(\()p F0(9)7 b FV(m)15 b F0(2)c FV(N)25 b F4(:)18 b
FV(n)d F4(=)d FV(Sc)r F4([)p FV(m)s F4(]\))f F0(\021)h
F4(\()p FV(n)j F0(6)p F4(=)d FV(Z)6 b F4(\))250 770 y
F0(^)15 b(8)7 b FV(S)16 b F0(2)c FP(subset)d FV(N)25
b F4(:)18 b(\()p FV(Z)g F0(2)11 b FV(S)5 b F4(\))10 b
F0(^)f F4(\()p F0(8)e FV(n)15 b F0(2)c FV(S)24 b F4(:)18
b FV(Sc)r F4([)p FV(n)s F4(])12 b F0(2)f FV(S)5 b F4(\))12
b F0(\))f F4(\()p FV(S)17 b F4(=)12 b FV(N)7 b F4(\))208
849 y FP(assume)16 b F0(9)7 b FV(N)g FQ(;)g FV(Z)f FQ(;)h
FV(Sc)21 b F4(:)d FV(Pe)n(anoAxioms)s F4(\()p FV(N)7
b FQ(;)g FV(Z)f FQ(;)h FV(Sc)r F4(\))p .95 TeXcolorgray
.95 TeXcolorgray 1062 869 879 57 v .95 TeXcolorgray Black
43 w FZ(Asserts)k(the)g(existence)e(of)j(a)f(set)g(satisfying)e(P)o
(eano's)h(axioms.)p .95 TeXcolorgray Black 208 927 a
FV(Suc)n(c)319 903 y FI(\001)315 927 y F4(=)23 b FP(choose)17
b FV(Sc)k F4(:)d F0(9)7 b FV(N)g FQ(;)g FV(Z)24 b F4(:)18
b FV(Pe)n(anoAxioms)s F4(\()p FV(N)7 b FQ(;)g FV(Z)f
FQ(;)h FV(Sc)r F4(\))208 983 y FV(Nat)319 960 y FI(\001)315
983 y F4(=)23 b FP(domain)10 b FV(Suc)n(c)208 1040 y(Zer)n(o)319
1017 y FI(\001)315 1040 y F4(=)23 b FP(choose)17 b FV(Z)25
b F4(:)18 b FV(Pe)n(anoAxioms)s F4(\()p FV(Nat)t FQ(;)7
b FV(Z)f FQ(;)h FV(Suc)n(c)r F4(\))p 188 1061 2 25 v
190 1061 1806 2 v 1996 1061 2 25 v Black 780 1151 a FU(Figure)14
b(18.4:)19 b F4(The)14 b FV(Pe)n(ano)k F4(mo)q(dule.)p
Black Black 208 1321 a(whic)o(h)13 b(de\014nes)i(the)f(natural)f(n)o
(um)o(b)q(ers,)g(do)q(es)i(not)e(use)i(tuples)f(or)f(strings.)19
b(Hence,)c(there)208 1371 y(is)e(no)h(circularit)o(y)m(.)270
1421 y(As)19 b(explained)f(in)g(Section)h(16.1.11)d(on)i(page)g(308,)g
(n)o(um)o(b)q(ers)h(lik)o(e)e(42)h(are)h(de\014ned)208
1471 y(in)c(TLA)345 1456 y FS(+)382 1471 y F4(so)h(that)g(0)f(equals)h
FV(Zer)n(o)j F4(and)d(1)f(equals)h FV(Suc)n(c)r F4([)p
FV(Zer)n(o)s F4(],)g(where)h FV(Zer)n(o)i F4(and)d FV(Suc)n(c)208
1521 y F4(are)i(de\014ned)h(in)f(the)g FV(Pe)n(ano)k
F4(mo)q(dule.)29 b(W)m(e)17 b(could)h(therefore)i(replace)f
FV(Zer)n(o)h F4(b)o(y)e(0)g(and)208 1570 y FV(Suc)n(c)r
F4([)p FV(Zer)n(o)s F4(])12 b(b)o(y)h(1)f(in)g(the)i
FV(Pr)n(otoR)n(e)n(als)i F4(mo)q(dule.)g(But)d(doing)f(so)h(w)o(ould)f
(obscure)i(ho)o(w)e(the)208 1620 y(de\014nition)j(of)g(the)i(reals)f
(dep)q(ends)i(on)d(the)i(de\014nition)e(of)g(the)i(natural)e(n)o(um)o
(b)q(ers)h(in)f(the)208 1670 y FV(Pe)n(ano)i F4(mo)q(dule.)270
1720 y(Most)d(of)g(the)h(de\014nitions)f(in)g(mo)q(dules)g
FV(Natur)n(als)s F4(,)f FV(Inte)n(gers)s F4(,)h(and)g
FV(R)n(e)n(als)k F4(come)c(from)208 1770 y(mo)q(dule)e
FV(Pr)n(otoR)n(e)n(als)17 b F4(in)c(Figure)h(18.5)e(on)i(the)g(follo)o
(wing)d(t)o(w)o(o)j(pages.)k(The)c(de\014nition)f(of)208
1820 y(the)f(real)f(n)o(um)o(b)q(ers)g(in)g(mo)q(dule)f
FV(Pr)n(otoR)n(e)n(als)k F4(uses)f(the)f(w)o(ell-kno)o(wn)e
(mathematical)e(result)208 1869 y(that)16 b(the)i(reals)f(are)g
(uniquely)f(de\014ned,)j(up)d(to)h(isomorphism,)d(as)j(an)f(ordered)i
(\014eld)f(in)208 1919 y(whic)o(h)e(ev)o(ery)i(subset)g(b)q(ounded)f
(from)e(ab)q(o)o(v)o(e)h(has)h(a)g(least)g(upp)q(er)g(b)q(ound.)24
b(The)16 b(details)208 1969 y(will)11 b(b)q(e)j(of)f(in)o(terest)h
(only)e(to)h(mathematicall)o(y)d(sophisticated)k(readers)h(who)e(are)g
(curious)208 2019 y(ab)q(out)f(the)h(formalizatio)o(n)d(of)i(ordinary)g
(mathematics.)j(I)d(hop)q(e)h(that)f(those)h(readers)h(will)208
2069 y(b)q(e)e(as)g(impressed)g(as)g(I)g(am)f(b)o(y)g(ho)o(w)h(easy)g
(this)g(formalization)d(is|once)j(y)o(ou)g(understand)208
2118 y(the)i(mathematics.)270 2168 y(Giv)o(en)j(the)i
FV(Pr)n(otoR)n(e)n(als)i F4(mo)q(dule,)c(the)i(rest)g(is)f(simple.)28
b(The)19 b FV(Natur)n(als)s F4(,)f FV(Inte)n(gers)s F4(,)208
2218 y(and)c FV(R)n(e)n(als)j F4(mo)q(dules)c(app)q(ear)i(in)e(Figures)
i(18.6{18.8)c(on)j(page)g(348.)k(P)o(erhaps)d(the)g(most)208
2268 y(striking)k(thing)h(ab)q(out)h(them)e(is)i(the)g(ugliness)f(of)g
(an)g(op)q(erator)h(lik)o(e)f FV(R)5 b F4(!)o(+,)22 b(whic)o(h)e(is)208
2318 y(the)e(v)o(ersion)g(of)g(+)g(obtained)f(b)o(y)h(instan)o(tiating)
f FV(Pr)n(otoR)n(e)n(als)k F4(under)d(the)h(name)e FV(R)r
F4(.)30 b(It)208 2367 y(demonstrates)15 b(that)h(y)o(ou)f(should)g(not)
g(de\014ne)h(in\014x)f(op)q(erators)i(in)d(a)h(mo)q(dule)f(that)i(ma)o
(y)208 2417 y(b)q(e)e(used)h(with)e(a)h(named)f(instan)o(tiation.)p
Black Black eop
%%Page: 346 364
346 363 bop Black 208 275 a F4(346)835 b FR(CHAPTER)14
b(18.)31 b(THE)14 b(ST)m(AND)o(ARD)f(MODULES)p 208 282
1770 2 v Black Black Black Black 188 486 2 25 v 190 463
706 2 v 910 470 a FP(module)j FV(Pr)n(otoR)n(e)n(als)p
1290 463 V 1996 486 2 25 v .95 TeXcolorgray .95 TeXcolorgray
200 583 1787 91 v .95 TeXcolorgray Black 208 529 a FZ(This)11
b(mo)q(dule)f(pro)o(vides)f(the)i(basic)f(de\014nitions)f(for)i(the)g
FY(Natur)n(als)s FZ(,)h FY(Inte)n(gers)s FZ(,)f(and)g
FY(R)n(e)n(als)k FZ(mo)q(dule.)g(It)c(do)q(es)g(this)g(b)o(y)g
(de\014ning)208 568 y(the)f(real)h(n)o(um)o(b)q(ers)e(to)i(b)q(e)g(a)h
(complete)d(ordered)g(\014eld)i(con)o(taining)d(the)j(naturals.)p
.95 TeXcolorgray Black 208 629 a FP(extends)16 b FV(Pe)n(ano)208
698 y(IsMo)n(delOfR)n(e)n(als)s F4(\()p FV(R)r FQ(;)d
FV(Plus)s FQ(;)h FV(Times)s FQ(;)f FV(L)n(e)n(q)t F4(\))930
675 y FI(\001)925 698 y F4(=)p .95 TeXcolorgray .95 TeXcolorgray
242 816 1698 92 v .95 TeXcolorgray Black 250 760 a FZ(Asserts)e(that)g
FY(R)h FZ(satis\014es)e(the)h(prop)q(erties)e(of)i(the)g(reals)f(with)i
FY(a)g FZ(+)e FY(b)15 b FZ(=)f FY(Plus)s FZ([)p FY(a)s
Fw(;)5 b FY(b)r FZ(],)24 b FY(a)12 b FW(\003)d FY(b)15
b FZ(=)f FY(Times)s FZ([)p FY(a)s Fw(;)5 b FY(b)r FZ(],)23
b(and)11 b(\()p FY(a)16 b FW(\024)250 800 y FY(b)r FZ(\))10
b(=)g(\()p FW(h)s FY(a)s Fw(;)5 b FY(b)g FW(i)10 b(2)f
FY(L)n(e)n(q)s FZ(\).)19 b(\(W)m(e)11 b(will)h(ha)o(v)o(e)e(to)i(quan)o
(tify)d(o)o(v)o(er)h(the)h(argumen)o(ts,)e(so)i(they)f(m)o(ust)h(b)q(e)
g(v)n(alues,)f(not)g(op)q(erators.\))p .95 TeXcolorgray
Black 250 872 a FP(let)23 b FV(IsA)o(b)n(elianGr)n(oup)s
F4(\()p FV(G)t FQ(;)13 b FV(Id)t FQ(;)p 775 872 22 3
v 51 w F4(+)p 847 872 V 38 w(\))930 848 y FI(\001)925
872 y F4(=)p .95 TeXcolorgray .95 TeXcolorgray 1026 926
902 91 v .95 TeXcolorgray Black 78 w FZ(Asserts)e(that)f
FY(G)k FZ(is)e(an)f(Ab)q(elian)f(group)g(with)i(iden)o(tit)o(y)d
FY(Id)15 b FZ(and)1035 911 y(group)10 b(op)q(eration)f(+.)p
.95 TeXcolorgray Black 384 921 a F0(^)15 b FV(Id)h F0(2)11
b FV(G)384 971 y F0(^)k(8)7 b FV(a)s FQ(;)g FV(b)14 b
F0(2)d FV(G)22 b F4(:)c FV(a)13 b F4(+)d FV(b)k F0(2)d
FV(G)384 1021 y F0(^)k(8)7 b FV(a)15 b F0(2)c FV(G)22
b F4(:)c FV(Id)c F4(+)c FV(a)k F4(=)e FV(a)384 1071 y
F0(^)j(8)7 b FV(a)s FQ(;)g FV(b)s FQ(;)g FV(c)13 b F0(2)e
FV(G)22 b F4(:)c(\()p FV(a)13 b F4(+)d FV(b)s F4(\))f(+)g
FV(c)14 b F4(=)e FV(a)h F4(+)c(\()p FV(b)j F4(+)e FV(c)r
F4(\))384 1121 y F0(^)15 b(8)7 b FV(a)15 b F0(2)c FV(G)22
b F4(:)c F0(9)7 b FV(minusa)15 b F0(2)d FV(G)22 b F4(:)c
FV(a)12 b F4(+)e FV(minusa)15 b F4(=)d FV(Id)384 1171
y F0(^)j(8)7 b FV(a)s FQ(;)g FV(b)14 b F0(2)d FV(G)22
b F4(:)c FV(a)13 b F4(+)d FV(b)k F4(=)e FV(b)g F4(+)d
FV(a)342 1227 y(a)k F4(+)c FV(b)471 1204 y FI(\001)467
1227 y F4(=)23 b FV(Plus)s F4([)p FV(a)s FQ(;)7 b FV(b)s
F4(])342 1284 y FV(a)13 b F0(\003)c FV(b)471 1260 y FI(\001)467
1284 y F4(=)23 b FV(Times)s F4([)p FV(a)s FQ(;)7 b FV(b)s
F4(])342 1341 y FV(a)15 b F0(\024)d FV(b)471 1317 y FI(\001)467
1341 y F4(=)23 b F0(h)s FV(a)s FQ(;)7 b FV(b)f F0(i)12
b(2)f FV(L)n(e)n(q)250 1391 y FP(in)54 b F0(^)15 b FV(Nat)g
F0(\022)d FV(R)342 1440 y F0(^)j(8)7 b FV(n)15 b F0(2)c
FV(Nat)22 b F4(:)c FV(Suc)n(c)r F4([)p FV(n)s F4(])12
b(=)g FV(n)h F4(+)c FV(Suc)n(c)r F4([)p FV(Zer)n(o)s
F4(])342 1490 y F0(^)15 b FV(IsA)o(b)n(elianGr)n(oup)s
F4(\()p FV(R)r FQ(;)7 b FV(Zer)n(o)s FQ(;)g F4(+\))342
1540 y F0(^)15 b FV(IsA)o(b)n(elianGr)n(oup)s F4(\()p
FV(R)8 b F0(n)f(f)p FV(Zer)n(o)s F0(g)p FQ(;)g FV(Suc)n(c)r
F4([)p FV(Zer)n(o)s F4(])p FQ(;)g F0(\003)p F4(\))342
1590 y F0(^)15 b(8)7 b FV(a)s FQ(;)g FV(b)s FQ(;)g FV(c)13
b F0(2)e FV(R)20 b F4(:)e FV(a)13 b F0(\003)c F4(\()p
FV(b)j F4(+)d FV(c)r F4(\))j(=)g(\()p FV(a)h F0(\003)c
FV(b)s F4(\))g(+)h(\()p FV(a)i F0(\003)d FV(c)r F4(\))342
1640 y F0(^)15 b(8)7 b FV(a)s FQ(;)g FV(b)14 b F0(2)d
FV(R)20 b F4(:)e F0(^)d F4(\()p FV(a)g F0(\024)d FV(b)s
F4(\))d F0(_)g F4(\()p FV(b)14 b F0(\024)e FV(a)s F4(\))610
1689 y F0(^)j F4(\()p FV(a)g F0(\024)d FV(b)s F4(\))d
F0(^)g F4(\()p FV(b)14 b F0(\024)e FV(a)s F4(\))g F0(\021)g
F4(\()p FV(a)j F4(=)d FV(b)s F4(\))342 1739 y F0(^)j(8)7
b FV(a)s FQ(;)g FV(b)s FQ(;)g FV(c)13 b F0(2)e FV(R)20
b F4(:)e F0(^)d F4(\()p FV(a)g F0(\024)c FV(b)s F4(\))f
F0(^)e F4(\()p FV(b)15 b F0(\024)d FV(c)r F4(\))g F0(\))f
F4(\()p FV(a)k F0(\024)d FV(c)r F4(\))650 1789 y F0(^)j
F4(\()p FV(a)g F0(\024)c FV(b)s F4(\))h F0(\))f(^)j F4(\()p
FV(a)f F4(+)d FV(c)r F4(\))i F0(\024)g F4(\()p FV(b)g
F4(+)d FV(c)r F4(\))891 1839 y F0(^)14 b F4(\()p FV(Zer)n(o)h
F0(\024)d FV(c)r F4(\))g F0(\))f F4(\()p FV(a)i F0(\003)c
FV(c)r F4(\))j F0(\024)g F4(\()p FV(b)g F0(\003)d FV(c)r
F4(\))342 1889 y F0(^)15 b(8)7 b FV(S)16 b F0(2)c FP(subset)d
FV(R)20 b F4(:)427 1945 y FP(let)j FV(SBound)t F4(\()p
FV(a)s F4(\))760 1922 y FI(\001)755 1945 y F4(=)35 b
F0(8)7 b FV(s)15 b F0(2)c FV(S)24 b F4(:)18 b FV(s)d
F0(\024)d FV(a)427 1995 y FP(in)54 b F4(\()p F0(9)7 b
FV(a)15 b F0(2)c FV(R)21 b F4(:)d FV(SBound)t F4(\()p
FV(a)s F4(\)\))c F0(\))562 2045 y F4(\()p F0(9)7 b FV(sup)14
b F0(2)d FV(R)21 b F4(:)d F0(^)c FV(SBound)t F4(\()p
FV(sup)s F4(\))802 2095 y F0(^)g(8)7 b FV(a)15 b F0(2)c
FV(R)21 b F4(:)d FV(SBound)t F4(\()p FV(a)s F4(\))c F0(\))d
F4(\()p FV(sup)k F0(\024)c FV(a)s F4(\)\))p .95 TeXcolorgray
.95 TeXcolorgray 1330 1438 637 84 v .95 TeXcolorgray
Black 1339 1391 a FZ(The)g(\014rst)g(t)o(w)o(o)h(conjuncts)d(assert)h
(that)g FY(Nat)1339 1430 y FZ(is)h(em)o(b)q(edded)e(in)i
FY(R)q FZ(.)p .95 TeXcolorgray Black .95 TeXcolorgray
.95 TeXcolorgray 1330 1538 V .95 TeXcolorgray Black 1339
1490 a(The)g(next)g(three)f(conjuncts)f(assert)h(that)h
FY(R)1339 1530 y FZ(is)g(a)h(\014eld.)p .95 TeXcolorgray
Black .95 TeXcolorgray .95 TeXcolorgray 1330 1687 V .95
TeXcolorgray Black 1339 1640 a(The)f(next)g(t)o(w)o(o)g(conjuncts)e
(assert)i(that)f FY(R)j FZ(is)1339 1679 y(an)e(ordered)e(\014eld.)p
.95 TeXcolorgray Black .95 TeXcolorgray .95 TeXcolorgray
1330 1995 637 130 v .95 TeXcolorgray Black 1339 1901
a(The)i(last)g(conjunct)e(asserts)h(that)h(ev)o(ery)1339
1940 y(subset)f FY(S)15 b FZ(of)d FY(R)g FZ(b)q(ounded)e(from)g(ab)q(o)
o(v)o(e)g(has)1339 1980 y(a)h(least)g(upp)q(er)f(b)q(ound)f
FY(sup)r FZ(.)p .95 TeXcolorgray Black 208 2165 a FP(theorem)16
b F0(9)7 b FV(R)r FQ(;)13 b FV(Plus)s FQ(;)h FV(Times)s
FQ(;)f FV(L)n(e)n(q)22 b F4(:)c FV(IsMo)n(delOfR)n(e)n(als)s
F4(\()p FV(R)r FQ(;)c FV(Plus)s FQ(;)g FV(Times)s FQ(;)f
FV(L)n(e)n(q)t F4(\))p 188 2197 2 25 v 190 2186 1806
2 v 1996 2197 2 25 v 208 2235 a FV(RM)321 2211 y FI(\001)316
2235 y F4(=)35 b FP(choose)17 b FV(RM)26 b F4(:)18 b
FV(IsMo)n(delOfR)n(e)n(als)s F4(\()p FV(RM)7 b FQ(:)p
FV(R)r FQ(;)13 b FV(RM)7 b FQ(:)p FV(Plus)s FQ(;)14 b
FV(RM)7 b FQ(:)p FV(Times)s FQ(;)13 b FV(RM)7 b FQ(:)p
FV(L)n(e)n(q)t F4(\))208 2312 y FV(R)n(e)n(al)328 2289
y FI(\001)323 2312 y F4(=)35 b FV(RM)7 b FQ(:)p FV(R)p
188 2344 V 190 2333 1806 2 v 1996 2344 2 25 v Black 616
2415 a FU(Figure)14 b(18.5a:)k F4(The)d FV(Pr)n(otoR)n(e)n(als)i
F4(mo)q(dule)12 b(\(b)q(eginning\).)p Black Black Black
Black eop
%%Page: 347 365
347 364 bop Black 208 275 a FR(18.4.)30 b(THE)14 b(NUMBERS)h(MODULES)
1051 b F4(347)p 208 282 1770 2 v Black Black Black Black
.95 TeXcolorgray .95 TeXcolorgray 200 548 1628 57 v .95
TeXcolorgray Black 208 527 a FZ(W)m(e)11 b(de\014ne)f
FY(In\014nity)s FZ(,)i FW(\024)p FZ(,)g(and)e FW(\000)i
FZ(so)g FW(\000)p FY(In\014nity)h FW(\024)d FY(r)j FW(\024)e
FY(In\014nity)s FZ(,)g(for)g(an)o(y)g FY(r)i FW(2)c FY(R)n(e)n(al)s
FZ(,)k(and)e FW(\000)p FZ(\()p FW(\000)p FY(In\014nity)s
FZ(\))f(=)g FY(In\014nity)s FZ(.)p .95 TeXcolorgray Black
208 609 a FV(In\014nity)383 586 y FI(\001)379 609 y F4(=)34
b FP(choose)17 b FV(x)24 b F4(:)18 b FV(x)j FQ(=)-26
b F0(2)12 b FV(R)n(e)n(al)208 666 y(MinusIn\014nity)496
642 y FI(\001)491 666 y F4(=)35 b FP(choose)17 b FV(x)23
b F4(:)18 b FV(x)k FQ(=)-26 b F0(2)11 b FV(R)n(e)n(al)j
F0([)9 b(f)p FV(In\014nity)t F0(g)p .95 TeXcolorgray
.95 TeXcolorgray 1206 696 778 124 v .95 TeXcolorgray
Black 1214 609 a FY(In\014nity)14 b FZ(and)d FY(MinusIn\014nity)j
FZ(\(whic)o(h)d(will)h(equal)1214 648 y FW(\000)p FY(In\014nity)s
FZ(\))g(are)e(c)o(hosen)g(to)h(b)q(e)h(arbitrary)d(v)n(alues)h(not)1214
688 y(in)h FY(R)n(e)n(al)s FZ(.)p .95 TeXcolorgray Black
208 743 a FV(a)h F4(+)e FV(b)337 720 y FI(\001)332 743
y F4(=)23 b FV(RM)7 b FQ(:)p FV(Plus)s F4([)p FV(a)s
FQ(;)g FV(b)s F4(])208 800 y FV(a)12 b F0(\003)d FV(b)337
776 y FI(\001)332 800 y F4(=)23 b FV(RM)7 b FQ(:)p FV(Times)s
F4([)p FV(a)s FQ(;)g FV(b)s F4(])208 857 y FV(a)14 b
F0(\024)e FV(b)337 833 y FI(\001)332 857 y F4(=)23 b
FP(case)28 b F4(\()p FV(a)15 b F0(2)c FV(R)n(e)n(al)t
F4(\))17 b F0(^)e F4(\()p FV(b)g F0(2)c FV(R)n(e)n(al)t
F4(\))438 b F0(!)41 b(h)s FV(a)s FQ(;)7 b FV(b)f F0(i)13
b(2)e FV(RM)c FQ(:)p FV(L)n(e)n(q)464 907 y FG(2)12 b
F4(\()p FV(a)j F4(=)d FV(In\014nity)t F4(\))k F0(^)g
F4(\()p FV(b)f F0(2)c FV(R)n(e)n(al)i F0([)c(f)p FV(MinusIn\014nity)t
F0(g)p F4(\))42 b F0(!)f FP(f)l(alse)464 956 y FG(2)12
b F4(\()p FV(a)j F0(2)c FV(R)n(e)n(al)j F0([)8 b(f)p
FV(MinusIn\014nity)t F0(g)p F4(\))17 b F0(^)f F4(\()p
FV(b)e F4(=)e FV(In\014nity)t F4(\))42 b F0(!)f FP(tr)o(ue)464
1006 y FG(2)12 b FV(a)j F4(=)d FV(b)773 b F0(!)41 b FP(tr)o(ue)208
1063 y FV(a)12 b F0(\000)e FV(b)337 1039 y FI(\001)332
1063 y F4(=)23 b FP(case)28 b F4(\()p FV(a)15 b F0(2)c
FV(R)n(e)n(al)t F4(\))17 b F0(^)e F4(\()p FV(b)g F0(2)c
FV(R)n(e)n(al)t F4(\))214 b F0(!)41 b FP(choose)17 b
FV(c)d F0(2)d FV(R)n(e)n(al)23 b F4(:)18 b FV(c)11 b
F4(+)f FV(b)k F4(=)e FV(a)464 1113 y FG(2)g F4(\()p FV(a)j
F0(2)c FV(R)n(e)n(al)t F4(\))17 b F0(^)e F4(\()p FV(b)g
F4(=)d FV(In\014nity)t F4(\))154 b F0(!)41 b FV(MinusIn\014nity)464
1162 y FG(2)12 b F4(\()p FV(a)j F0(2)c FV(R)n(e)n(al)t
F4(\))17 b F0(^)e F4(\()p FV(b)g F4(=)d FV(MinusIn\014nity)t
F4(\))42 b F0(!)f FV(In\014nity)208 1219 y(a)s FQ(=)p
FV(b)337 1196 y FI(\001)332 1219 y F4(=)23 b FP(choose)17
b FV(c)d F0(2)d FV(R)n(e)n(al)23 b F4(:)18 b FV(a)d F4(=)d
FV(b)g F0(\003)d FV(c)208 1276 y(Int)304 1252 y FI(\001)299
1276 y F4(=)35 b FV(Nat)13 b F0([)c(f)p FV(Zer)n(o)j
F0(\000)d FV(n)22 b F4(:)c FV(n)d F0(2)c FV(Nat)t F0(g)p
188 1308 2 25 v 190 1297 1806 2 v 1996 1308 2 25 v .95
TeXcolorgray .95 TeXcolorgray 200 1471 1787 163 v .95
TeXcolorgray Black 208 1345 a FZ(W)m(e)g(de\014ne)f FY(a)391
1334 y FE(b)420 1345 y FZ(\(exp)q(onen)o(tia)o(tion)o(\))f(for)i
FY(a)h Fw(>)f FZ(0,)g(or)g FY(b)h Fw(>)e FZ(0,)i(or)f
FY(a)i FW(6)p FZ(=)d(0)h(and)g FY(b)h FW(2)d FY(Int)s
FZ(,)j(b)o(y)f(the)f(four)h(axioms)255 1402 y FY(a)276
1391 y FK(1)303 1402 y FZ(=)f FY(a)97 b(a)476 1391 y
FE(m)r FK(+)p FE(n)556 1402 y FZ(=)10 b FY(a)614 1391
y FE(m)650 1402 y FW(\003)d FY(a)696 1391 y FE(n)729
1402 y FZ(if)k FY(a)i FW(6)p FZ(=)d(0)h(and)g FY(m)s
Fw(;)6 b FY(n)12 b FW(2)d FY(Int)85 b FZ(0)1189 1391
y FE(b)1216 1402 y FZ(=)10 b(0)i(if)f FY(b)h Fw(>)e FZ(0)94
b FY(a)1513 1391 y FE(b)q FX(\003)p FE(c)1571 1402 y
FZ(=)10 b(\()p FY(a)1643 1391 y FE(b)1660 1402 y FZ(\))1674
1391 y FE(c)1702 1402 y FZ(if)h FY(a)i Fw(>)e FZ(0)208
1456 y(plus)f(the)h(con)o(tin)o(uit)o(y)e(condition)f(that)j(0)e
Fw(<)i FY(a)j FZ(and)d(0)e Fw(<)i FY(b)h FW(\024)e FY(c)k
FZ(imply)c FY(a)1187 1444 y FE(b)1214 1456 y FW(\024)g
FY(a)1272 1444 y FE(c)1289 1456 y FZ(.)p .95 TeXcolorgray
Black 208 1520 a FV(a)232 1505 y FJ(b)291 1497 y FI(\001)286
1520 y F4(=)35 b FP(let)23 b FV(RPos)584 1497 y FI(\001)580
1520 y F4(=)35 b F0(f)p FV(r)15 b F0(2)c FV(R)n(e)n(al)g
F0(n)c(f)p FV(Zer)n(o)s F0(g)18 b F4(:)g FV(Zer)n(o)c
F0(\024)e FV(r)t F0(g)445 1577 y FV(exp)547 1554 y FI(\001)542
1577 y F4(=)35 b FP(choose)16 b FV(f)k F0(2)12 b F4([\()p
FV(RPos)h F0(\002)c FV(R)n(e)n(al)t F4(\))17 b F0([)e
F4(\()p FV(R)n(e)n(al)f F0(\002)c FV(RPos)s F4(\))997
1627 y F0([)15 b F4(\(\()p FV(R)n(e)n(al)d F0(n)7 b(f)p
FV(Zer)n(o)s F0(g)p F4(\))h F0(\002)i FV(Int)t F4(\))h
F0(!)g FV(R)n(e)n(al)t F4(])19 b(:)651 1685 y F0(^)c(8)7
b FV(r)15 b F0(2)c FV(R)n(e)n(al)23 b F4(:)18 b F0(^)d
FV(f)8 b F4([)p FV(r)t FQ(;)f FV(Suc)n(c)r F4([)p FV(Zer)n(o)s
F4(]])j(=)i FV(r)926 1735 y F0(^)j(8)7 b FV(m)s FQ(;)g
FV(n)14 b F0(2)d FV(Int)23 b F4(:)18 b(\()p FV(r)e F0(6)p
F4(=)11 b FV(Zer)n(o)s F4(\))h F0(\))1322 1784 y F4(\()p
FV(f)c F4([)p FV(r)t FQ(;)f FV(m)12 b F4(+)d FV(n)s F4(])j(=)g
FV(f)c F4([)p FV(r)t FQ(;)f FV(m)s F4(])h F0(\003)h FV(f)g
F4([)p FV(r)t FQ(;)e FV(n)s F4(]\))651 1834 y F0(^)15
b(8)7 b FV(r)15 b F0(2)c FV(RPos)23 b F4(:)18 b F0(^)c
FV(f)9 b F4([)p FV(Zer)n(o)s FQ(;)e FV(r)t F4(])j(=)i
FV(Zer)n(o)945 1884 y F0(^)i(8)7 b FV(s)s FQ(;)g FV(t)15
b F0(2)d FV(R)n(e)n(al)22 b F4(:)c FV(f)9 b F4([)p FV(r)t
FQ(;)e FV(s)k F0(\003)e FV(t)t F4(])i(=)h FV(f)d F4([)p
FV(f)f F4([)p FV(r)t FQ(;)f FV(s)s F4(])p FQ(;)g FV(t)t
F4(])945 1934 y F0(^)14 b(8)7 b FV(s)s FQ(;)g FV(t)15
b F0(2)d FV(RPos)22 b F4(:)c(\()p FV(s)d F0(\024)d FV(t)t
F4(\))f F0(\))g F4(\()p FV(f)e F4([)p FV(r)t FQ(;)e FV(s)s
F4(])k F0(\024)g FV(f)e F4([)p FV(r)t FQ(;)e FV(t)t F4(]\))353
1984 y FP(in)54 b FV(exp)s F4([)p FV(a)s FQ(;)7 b FV(b)s
F4(])p 188 2005 2 25 v 190 2005 1806 2 v 1996 2005 2
25 v Black 670 2095 a FU(Figure)14 b(18.5b:)k F4(The)c
FV(Pr)n(otoR)n(e)n(als)j F4(mo)q(dule)c(\(end\).)p Black
Black Black Black eop
%%Page: 348 366
348 365 bop Black 208 275 a F4(348)835 b FR(CHAPTER)14
b(18.)31 b(THE)14 b(ST)m(AND)o(ARD)f(MODULES)p 208 282
1770 2 v Black Black Black Black 188 442 2 25 v 190 419
728 2 v 931 426 a FP(module)i FV(Natur)n(als)p 1268 419
V 1996 442 2 25 v 208 484 a FP(local)h FV(R)413 461 y
FI(\001)409 484 y F4(=)35 b FP(inst)m(ance)16 b FV(Pr)n(otoR)n(e)n(als)
208 553 y(Nat)317 530 y FI(\001)312 553 y F4(=)35 b FV(R)5
b F4(!)s FV(Nat)208 622 y(a)12 b F4(+)e FV(b)339 599
y FI(\001)334 622 y F4(=)24 b FV(a)17 b(R)5 b F4(!+)16
b FV(b)p .95 TeXcolorgray .95 TeXcolorgray 579 643 836
57 v .95 TeXcolorgray Black 45 w FY(R)q FZ(!)o(+)c(is)g(the)f(op)q
(erator)e(+)j(de\014ned)e(in)h(mo)q(dule)e FY(Pr)n(otoR)n(e)n(als)s
FZ(.)p .95 TeXcolorgray Black 208 679 a FV(a)j F0(\000)e
FV(b)339 656 y FI(\001)334 679 y F4(=)24 b FV(a)17 b(R)5
b F4(!)p F0(\000)16 b FV(b)208 736 y(a)c F0(\003)d FV(b)339
712 y FI(\001)334 736 y F4(=)24 b FV(a)17 b(R)5 b F4(!)p
F0(\003)23 b FV(b)208 793 y(a)232 778 y FJ(b)339 769
y FI(\001)334 793 y F4(=)h FV(a)17 b(R)5 b F4(!)s FO(^)14
b FV(b)p .95 TeXcolorgray .95 TeXcolorgray 570 813 461
58 v .95 TeXcolorgray Black 45 w FY(a)599 781 y FE(b)628
793 y FZ(is)d(written)g(in)g Fu(asci)q(i)h FZ(as)f Fn(a^b)p
FZ(.)p .95 TeXcolorgray Black 208 849 a FV(a)j F0(\024)e
FV(b)339 826 y FI(\001)334 849 y F4(=)24 b FV(a)17 b(R)5
b F4(!)r F0(\024)19 b FV(b)208 906 y(a)14 b F0(\025)e
FV(b)339 883 y FI(\001)334 906 y F4(=)24 b FV(b)14 b
F0(\024)e FV(a)208 963 y(a)i FQ(<)e FV(b)339 939 y FI(\001)334
963 y F4(=)24 b(\()p FV(a)15 b F0(\024)d FV(b)s F4(\))d
F0(^)g F4(\()p FV(a)15 b F0(6)p F4(=)c FV(b)s F4(\))208
1020 y FV(a)j FQ(>)e FV(b)339 996 y FI(\001)334 1020
y F4(=)24 b FV(b)14 b FQ(<)e FV(a)208 1076 y(a)17 b FQ(:)7
b(:)13 b FV(b)339 1053 y FI(\001)334 1076 y F4(=)24 b
F0(f)p FV(i)15 b F0(2)c FV(R)5 b F4(!)s FV(Int)23 b F4(:)18
b(\()p FV(a)d F0(\024)d FV(i)t F4(\))d F0(^)g F4(\()p
FV(i)16 b F0(\024)c FV(b)s F4(\))p F0(g)208 1133 y FV(a)g
F0(\004)e FV(b)339 1109 y FI(\001)334 1133 y F4(=)24
b FP(choose)16 b FV(n)f F0(2)d FV(R)5 b F4(!)s FV(Int)22
b F4(:)c F0(9)7 b FV(r)16 b F0(2)11 b F4(0)j FQ(:)7 b(:)13
b F4(\()p FV(b)f F0(\000)d F4(1\))18 b(:)g FV(a)d F4(=)d
FV(b)g F0(\003)d FV(n)k F4(+)c FV(r)p .95 TeXcolorgray
.95 TeXcolorgray 1412 1227 566 130 v .95 TeXcolorgray
Black 47 w FZ(W)m(e)j(de\014ne)d FW(\004)14 b FZ(and)c
Fv(\045)i FZ(so)g(that)1456 1172 y FY(a)h FZ(=)d FY(b)g
FW(\003)e FZ(\()p FY(a)i FW(\004)g FY(b)r FZ(\))e(+)g(\()p
FY(a)k Fv(\045)f FY(b)r FZ(\))1421 1212 y(for)g(all)g(in)o(tegers)e
FY(a)15 b FZ(and)c FY(b)j FZ(with)d FY(b)h Fw(>)f FZ(0.)p
.95 TeXcolorgray Black 208 1190 a FV(a)j Fq(\045)e FV(b)339
1166 y FI(\001)334 1190 y F4(=)24 b FV(a)12 b F0(\000)e
FV(b)i F0(\003)d F4(\()p FV(a)k F0(\004)c FV(b)s F4(\))p
188 1236 2 25 v 190 1236 1806 2 v 1996 1236 2 25 v Black
672 1326 a FU(Figure)15 b(18.6:)j F4(The)c(standard)h
FV(Natur)n(als)h F4(mo)q(dule.)p Black Black Black Black
Black 188 1507 V 190 1484 733 2 v 936 1491 a FP(module)f
FV(Inte)n(gers)p 1263 1484 V 1996 1507 2 25 v 208 1549
a FP(extends)h FV(Natur)n(als)p .95 TeXcolorgray .95
TeXcolorgray 580 1569 1296 57 v .95 TeXcolorgray Black
45 w FZ(The)c FY(Natur)n(als)j FZ(mo)q(dule)9 b(already)h(de\014nes)g
(op)q(erators)f(lik)o(e)h(+)j(to)e(w)o(ork)g(on)g(all)g(real)g(n)o(um)o
(b)q(ers.)p .95 TeXcolorgray Black 208 1618 a FP(local)16
b FV(R)413 1594 y FI(\001)409 1618 y F4(=)35 b FP(inst)m(ance)16
b FV(Pr)n(otoR)n(e)n(als)208 1687 y(Int)304 1663 y FI(\001)299
1687 y F4(=)35 b FV(R)5 b F4(!)s FV(Int)208 1744 y F0(\000)l
FQ(:)11 b FV(a)322 1720 y FI(\001)318 1744 y F4(=)35
b(0)9 b F0(\000)g FV(a)p .95 TeXcolorgray .95 TeXcolorgray
515 1764 1193 57 v .95 TeXcolorgray Black 46 w FZ(Unary)i
FW(\000)h FZ(is)f(written)g FW(\000)n Fw(:)h FZ(when)f(b)q(eing)f
(de\014ned)g(or)h(used)g(as)g(an)g(op)q(erator)e(argumen)o(t.)p
.95 TeXcolorgray Black 188 1773 2 25 v 190 1773 1806
2 v 1996 1773 2 25 v Black 677 1863 a FU(Figure)14 b(18.7:)19
b F4(The)14 b(standard)h FV(Inte)n(gers)i F4(mo)q(dule.)p
Black Black Black Black Black 188 2044 V 190 2021 757
2 v 960 2028 a FP(module)e FV(R)n(e)n(als)p 1239 2021
V 1996 2044 2 25 v 208 2086 a FP(extends)h FV(Inte)n(gers)p
.95 TeXcolorgray .95 TeXcolorgray 570 2106 1288 57 v
.95 TeXcolorgray Black 46 w FZ(The)11 b FY(Inte)n(gers)k
FZ(mo)q(dule)10 b(already)f(de\014nes)h(op)q(erators)f(lik)o(e)i(+)h
(to)f(w)o(ork)g(on)g(all)g(real)g(n)o(um)o(b)q(ers.)p
.95 TeXcolorgray Black 208 2155 a FP(local)16 b FV(R)413
2132 y FI(\001)409 2155 y F4(=)35 b FP(inst)m(ance)16
b FV(Pr)n(otoR)n(e)n(als)208 2224 y(R)n(e)n(al)372 2201
y FI(\001)367 2224 y F4(=)23 b FV(R)5 b F4(!)s FV(R)n(e)n(al)208
2281 y(a)s FQ(=)p FV(b)372 2257 y FI(\001)367 2281 y
F4(=)23 b FV(a)18 b(R)5 b F4(!)s FQ(=)13 b FV(b)p .95
TeXcolorgray .95 TeXcolorgray 633 2301 817 57 v .95 TeXcolorgray
Black 77 w FY(R)q FZ(!)p Fw(=)f FZ(is)f(the)g(op)q(erator)e
Fw(=)j FZ(de\014ned)d(in)i(mo)q(dule)f FY(Pr)n(otoR)n(e)n(als)s
FZ(.)p .95 TeXcolorgray Black 208 2338 a FV(In\014nity)372
2314 y FI(\001)367 2338 y F4(=)23 b FV(R)5 b F4(!)s FV(In\014nity)p
188 2371 2 25 v 190 2371 1806 2 v 1996 2371 2 25 v Black
702 2461 a FU(Figure)14 b(18.8:)k F4(The)d(standard)f
FV(R)n(e)n(als)j F4(mo)q(dule.)p Black Black Black Black
eop
%%Page: 349 367
349 366 bop Black Black Black 208 629 a F5(Index)p Black
208 821 a FX(0)232 837 y FC(\(prime\),)13 b(16,)g(82,)g(312)208
866 y FX(0)232 882 y FC(\(prime\),)g(double,)h(322)208
928 y Fc(`)6 b FC(.)g(.)g(.)g Fc(')p FC(,)12 b(214)208
974 y Fc(`^)p FC(,)f(212)208 1019 y Fc(`^)5 b FC(.)h(.)g(.)g
Fc(^')p FC(,)12 b(214,)h(215,)g(218{220)208 1065 y Fc(`~)p
FC(,)e(212,)i(218)208 1111 y Fc(`~)t FC(.)5 b(.)h(.)g
Fc(~')p FC(,)12 b(216,)h(220)208 1156 y Fc(`)-8 b(.)p
FC(,)12 b(212)208 1202 y Fc(`)-8 b(.)12 b FC(.)6 b(.)g(.)12
b Fc(.)-8 b(')p FC(,)13 b(215,)g(218)208 1248 y Fc(")f
FC(\(double)j(quote\),)e(216,)g(307)208 1293 y Fb(\\)6
b FC(.)g(.)g(.)g Fb(")17 b FC(\(string\),)d(47,)e(307,)i(308)208
1339 y Fc(^)e FC(\(exp)q(onen)o(tiation\),)k(344)208
1385 y Fc(^+)c FC(\(BNF)g(op)q(erator\),)i(181)208 1430
y Fc(^*)e FC(\(BNF)g(op)q(erator\),)i(181)208 1476 y
Fj(j)k FC(\(BNF)13 b(op)q(erator\),)h(181)208 1522 y
Fj(7!)8 b FC(\(function/record)j(constructor\),)g(29,)e(49,)332
1567 y(302,)k(303)p Black Black 207 1633 2 25 v 209 1623
190 2 v 399 1633 2 25 v 419 1630 a(\(separator\),)g(20)p
Black Black 207 1710 V 209 1710 190 2 v 399 1710 2 25
v 419 1707 a(\(end)g(of)g(mo)q(dule\),)h(21)208 1789
y Fj(j)-6 b FC(=)o(,)12 b(88,)h(315)208 1835 y Fh(=)g
FC(\(division\),)i(73,)e(344)208 1881 y Fj(n)g FC(\(set)f
(di\013erence\),)j(12,)e(299,)g(300)208 1926 y Fj(n\003)g
FC(\(end-of-line)h(commen)o(t\),)f(32,)g(288)p 214 1972
20 3 v 252 1972 a(\(underscore\),)h(46,)f(285,)g(318)208
2018 y Fj(\000)f FC(\(min)o(us\),)i(289,)f(344)208 2063
y Fc(-)l(.)5 b FC(,)13 b(289)p 208 2085 20 2 v 240 2109
a(\(o)o(v)o(erbar\),)g(63,)g(114,)g(334,)g(336,)g(337)208
2155 y Fj(:)p FC(,)f FB(se)n(e)i FC(negation)208 2200
y Fj(!)f FC(\(set)g(of)f(functions\),)j(48,)d(302,)h(304)208
2246 y Fj(!)g FC(\(step\),)g(16,)f(312)212 2273 y FI(+)208
2292 y Fj(\000)-6 b Fh(.)13 b FC(\(temp)q(oral)h(op)q(erator\),)g(116,)
f(156,)h(315,)332 2337 y(316,)f(337)208 2383 y Fj(\030)f
FC(\(stuttering)j(equiv)n(alen)o(t\),)g(315,)e(316)208
2429 y Fc(~')p FC(,)e(218)208 2474 y Fa(;)i FC(\(leads)h(to\),)e(91,)h
(314)p Black Black 999 837 a Fj(\004)g FC(\(in)o(teger)h(division\),)i
(344)999 882 y(+)d(\(plus\),)h(344)999 912 y FK(+)1038
928 y FC(\(BNF)e(op)q(erator\),)i(181)999 958 y FK(+)1038
974 y FC(\(su\016x)f(op)q(erator\),)g(89,)g(315)999 1019
y Fj(\002)19 b FC(\(Cartesian)h(pro)q(duct\),)i(53,)e(284,)h(306,)1124
1065 y(307)999 1111 y(=,)13 b FB(se)n(e)h FC(equalit)o(y)999
1156 y Fj(6)p FC(=)f(\(inequalit)o(y\),)j(300)999 1202
y Fj(\))p FC(,)d FB(se)n(e)i FC(implies)999 1248 y Fj(\021)p
FC(,)e FB(se)n(e)h FC(equiv)n(alence)1003 1277 y FI(\001)999
1299 y FC(=)f(\(de\014ned)h(to)f(equal\),)h(16,)f(31)1001
1328 y FE(m)999 1350 y FC(=,)g(325)999 1396 y Fj(1)p
FC(,)g FB(se)n(e)i(In\014nity)999 1441 y Fh(:)e FC(\(syn)o(tax)h
(elemen)o(t\),)f(284)999 1487 y Fh(:)g FC(\(record)g(\014eld\),)h(28,)f
(180,)g(305)999 1533 y Fh(:)6 b(:)19 b FC(\(in)o(teger)14
b(in)o(terv)n(al\),)h(20,)d(344)999 1578 y Fc(.)-6 b(')p
FC(,)12 b(218)999 1624 y Fj(\001)p FC(,)h FB(se)n(e)h
FC(comp)q(osition)i(of)c(actions)999 1670 y Fj(\003)h
FC(\(m)o(ultiplic)q(atio)q(n\),)i(344)999 1699 y FX(\003)1030
1715 y FC(\(BNF)e(op)q(erator\),)g(181)999 1761 y Fj(\016)g
FC(\(sequence)h(concatenation\),)h(36,)e(53)999 1807
y Fj(\010)g FC(\(bag)h(union\),)g(342)999 1852 y Fj(\011)f
FC(\(bag)h(di\013erence,)g(342)999 1898 y Fa(2)f FC(\(alw)o(a)o(ys\),)h
(16,)f(89{90,)g(288,)g(314,)g(315)999 1944 y Fa(2)g FC(\()p
Fi(case)g FC(separator\),)h(285)999 1989 y Fa(3)e FC(\(ev)o(en)o
(tually\),)j(91,)e(288,)g(314)999 2035 y Fh(<)g FC(\(less)h(than\),)f
(344)999 2081 y Fj( )h FC(\(substitution\),)h(36)999
2126 y Fj(\024)e FC(\(less)h(than)f(or)g(equal\),)h(344)999
2172 y Fj(\022)f FC(\(subset\),)g(12,)g(299,)g(300)999
2218 y Fj(v)g FC(\(bag)h(subset\),)f(342)999 2263 y(\()p
Fj(\003)7 b Fh(:)f(:)g(:)g Fj(\003)p FC(\))13 b(\(commen)o(t\),)g(32,)g
(288)999 2309 y FB(f)8 b FC([)p FB(e)s FC(])k(\(function)i(application)
q(\),)h(301,)e(303)999 2355 y([)p FB(A)p FC(])1050 2359
y FE(v)1080 2355 y FC(\(action)h(op)q(erator\),)g(17,)f(285,)g(312)999
2400 y([)p FB(h)1033 2404 y FK(1)1066 2400 y Fj(7!)k
FB(e)1142 2404 y FK(1)1159 2400 y Fh(;)12 b(:)6 b(:)g(:)h(;)12
b FB(h)1280 2404 y FE(n)1317 2400 y Fj(7!)17 b FB(e)1393
2404 y FE(n)1413 2400 y FC(])f(\(record)h(con-)1124 2446
y(structor\),)c(29,)g(305)999 2492 y([)p FB(S)i Fj(!)c
FB(T)5 b FC(])10 b(\(set)g(of)f(functions\),)j(48,)f(302,)f(304)p
Black 1915 2622 a F4(349)p Black eop
%%Page: 350 368
350 367 bop Black 208 275 a F4(350)1569 b FR(INDEX)p
208 282 1770 2 v Black 208 391 a FC([)p FB(x)14 b Fj(2)c
FB(S)15 b Fj(7!)c FB(e)s FC(])f(\(function)i(constructor\),)g(49,)332
437 y(302,)h(303)208 483 y([)p FB(h)242 487 y FK(1)266
483 y FC(:)7 b FB(S)310 487 y FK(1)327 483 y Fh(;)12
b(:)6 b(:)h(:)f(;)12 b FB(h)448 487 y FE(n)476 483 y
FC(:)7 b FB(S)520 487 y FE(n)541 483 y FC(])h(\(set)g(of)h(records\),)h
(28,)332 528 y(305,)j(306)208 574 y([)-6 b([)p FB(e)s
FC(])g(])10 b(\(meaning\),)k(292,)f(310)208 620 y Fj(h)s
FB(A)s Fj(i)273 624 y FE(v)303 620 y FC(\(action)i(op)q(erator\),)e
(91,)g(285,)g(312)208 665 y Fj(h)s FB(e)247 669 y FK(1)263
665 y Fh(;)7 b(:)f(:)g(:)g(;)g FB(e)370 669 y FE(n)393
665 y Fj(i)13 b FC(\(tuple\),)h(27,)e(53,)h(306)208 711
y Fj(f)6 b(g)13 b FC(\(empt)o(y)g(set\),)g(12,)g(300)208
757 y Fj(f)p FB(e)248 761 y FK(1)265 757 y Fh(;)6 b(:)g(:)g(:)g(;)g
FB(e)371 761 y FE(n)391 757 y Fj(g)13 b FC(\(set\),)f(12,)h(299,)g(300)
208 802 y Fj(f)p FB(x)i Fj(2)10 b FB(S)h FC(:)c FB(p)r
Fj(g)18 b FC(\(set)f(constructor\),)i(66,)f(289,)332
848 y(299,)13 b(301)208 894 y Fj(f)p FB(e)d FC(:)d FB(x)15
b Fj(2)10 b FB(S)t Fj(g)17 b FC(\(set)h(constructor\),)h(66,)g(289,)332
939 y(299,)13 b(301)208 985 y Fh(>)f FC(\(greater)h(than\),)h(344)208
1031 y Fj(\025)e FC(\(greater)h(than)h(or)f(equal\),)h(344)208
1076 y Fj(^)p FC(,)e FB(se)n(e)i FC(conjunction)208 1122
y Fj(\\)e FC(\(set)h(in)o(tersection\),)i(12,)d(299,)i(300)208
1168 y Fj(_)p FC(,)e FB(se)n(e)i FC(disjunction)208 1213
y Fj([)e FC(\(set)h(union\),)h(12,)f(299,)g(300)214 1259
y(:)19 b(\(in)14 b(record)f(set)g(constructor\),)h(28)208
1305 y(:)p Fh(>)e FC(\(function)i(constructor\),)g(249)208
1350 y(::=)e(\(BNF)g(op)q(erator\),)i(179)211 1396 y(!)h(\(in)f
Fi(ex)o(cept)p FC(\),)e(29,)h(49,)g(302,)g(304{306)211
1442 y(!)i(\(in)f(op)q(erator)g(name\),)f(36,)g(39,)g(330,)g(334)208
1487 y(?,)f(325)208 1533 y($,)g(335)208 1579 y Fb(\045)g
FC(\(mo)q(dulus\),)j(21,)e(344)208 1624 y(&)f(\(BNF)h(op)q(erator\),)g
(180)208 1670 y Fh(\\)p FC(,)f(314,)h(316)208 1716 y(@)f(\(in)i
Fi(ex)o(cept)p FC(\),)e(29,)h(302,)g(304)208 1761 y(@@)f(\(function)i
(constructor\),)g(249)208 1807 y Fj(8)6 b FC(,)13 b FB(se)n(e)h
FC(univ)o(ersal)i(quan)o(ti\014cation)208 1851 y Fj(8)-20
b(8)g(8)208 1853 y(8)g(8)g(8)22 b FC(\(temp)q(oral)17
b(univ)o(ersal)g(quan)o(ti\014cation\),)332 1898 y(110,)c(315)208
1944 y Fj(9)6 b FC(,)13 b FB(se)n(e)h FC(existen)o(tial)i(quan)o
(ti\014cation)208 1989 y Fj(9)230 1993 y FX(1)262 1989
y FC(,)d(94)208 2035 y Fj(9)235 2039 y FK(b)q(eha)o(vior)352
2035 y FC(,)f(316)208 2081 y Fj(9)235 2085 y FK(state)302
2081 y FC(,)h(313)208 2124 y Fj(9)-20 b(9)g(9)208 2126
y(9)g(9)g(9)7 b FC(,)13 b FB(se)n(e)h FC(hiding)i(v)n(ariables)208
2172 y Fh(\013)c FC(con)o(v)o(ersion,)j(319)208 2218
y Fh(\014)f FC(reduction,)g(319)208 2263 y Fh(")p FC(,)e(Hilb)q(ert's,)
i(73,)f(296)208 2309 y Fj(2)f FC(\(syn)o(tax)i(elemen)o(t\),)f(284)246
2355 y(in)h(function)g(expression,)h(49)208 2400 y Fj(2)d
FC(\(set)h(mem)o(b)q(ership\),)h(11,)f(299)212 2446 y
Fh(=)-23 b Fj(2)12 b FC(\(not)h(elemen)o(t)h(of)s(\),)e(47,)h(299,)g
(300)208 2492 y Fh(\025)g FC(expression,)h(49,)f(319)p
Black Black 1038 391 a Fj(C)r FC(-basic,)h(325)999 437
y Fh(\025)g FC(expression,)g(legal,)h(327)999 483 y Fh(\025)f
FC(expression,)g(meaning)h(of,)d(325{327)999 528 y Fh(\025)i
FC(parameter,)f(319)999 574 y(0)g(\(zero\),)g(345)999
620 y(0-tuple,)h(37,)f(306)999 665 y(1)g(\(one\),)g(345)999
711 y(1-tuple,)h(306)999 798 y(Abadi,)g(Mart)l(\023)-15
b(\020n,)14 b(xvii)999 844 y FB(ABCorr)n(e)n(ctness)g
FC(mo)q(dule,)g(228,)f(229)999 889 y(abstraction,)i(81)999
935 y(abstraction,)g(c)o(ho)q(osing)g(an,)e(24)999 981
y(abstraction,)i(lev)o(el)f(of,)f(76)999 1026 y(action,)h(16,)f(312)
1038 1072 y(as)g(temp)q(oral)h(form)o(ula,)g(89)1038
1118 y(comp)q(osition,)k FB(se)n(e)f FC(comp)q(osition)i(of)c(ac-)1124
1163 y(tions)1038 1209 y(constrain)o(t,)f(241)1038 1255
y(execution,)g(16)1038 1300 y(form)o(ula,)f(simple,)i(236)1038
1346 y(op)q(erator,)e(269,)g(312{314)999 1392 y(action)i(parameter,)e
(46)999 1437 y(action,)24 b(next-state,)f FB(se)n(e)g
FC(next-state)e(ac-)1124 1483 y(tion)999 1529 y Fc(ACTION-CONS)o(TR)o
(AIN)o(T)10 b FC(statemen)o(t,)j(241)999 1574 y FB(A)n(ctionConstr)n
(ain)o(t)g FC(\(in)h(TLC\),)e(241)999 1620 y(actions,)i(comm)o
(utativit)o(y)h(of,)e(78)999 1666 y(actions,)h(join)o(t,)g(147,)f(152)
999 1711 y(address,)h(memory)m(,)f(47)999 1757 y(alignmen)o(t,)i(208,)e
(286)999 1803 y Fc(alignOut)d FC(TLA)m(T)1269 1811 y(E)1289
1803 y(X)j(option,)h(217)999 1848 y(alternating)i(bit)d(proto)q(col,)i
(222)999 1894 y FB(A)o(lternatingBit)e FC(mo)q(dule,)h(222,)f(223)999
1940 y(alw)o(a)o(ys)h(\()p Fa(2)p FC(\),)f(16,)g(89{90,)g(288,)g(314,)g
(315)999 1985 y(am)o(biguit)o(y)j(in)d(TLA)1305 1969
y FK(+)1337 1985 y FC(grammar,)g(289)999 2031 y(Analyzer,)h(Syn)o
(tactic,)g(207)999 2077 y(and)g(\()p Fj(^)p FC(\),)e
FB(se)n(e)j FC(conjunction)999 2122 y(and/or,)f(9)999
2168 y(angle)h(brac)o(k)o(ets,)e(27,)g(96)999 2214 y
FB(App)n(end)t FC(,)d(36)999 2259 y(applicatio)q(n,)15
b(op)q(erator,)f(320)999 2305 y(argumen)o(t)1038 2351
y(of)f(a)g(declared)h(constan)o(t,)g(46)1038 2396 y(of)f(a)g(function,)
h(50)1038 2442 y(of)f(an)g(op)q(erator,)g(31)999 2488
y(argumen)o(t,)h(TLA)m(T)1282 2496 y(E)1302 2488 y(X)e(option,)j(211)p
Black Black eop
%%Page: 351 369
351 368 bop Black 208 275 a FR(INDEX)1570 b F4(351)p
208 282 1770 2 v Black 208 391 a Fc(aril)11 b FC(TLC)h(option,)i(243,)f
(251)208 437 y(arithmetic)h(op)q(erator,)g(19)208 483
y(arit)o(y)f(of)g(an)g(op)q(erator,)h(318)208 528 y(arit)o(y-correct,)f
(321)208 574 y(arra)o(y)m(,)f(48,)h(50)208 620 y(arra)o(y)g(of)g(clo)q
(c)o(ks,)h(139)208 665 y(arra)o(y)m(,)e(m)o(ultidimens)q(ion)q(al)q(,)j
(50)208 711 y Fi(asci)q(i)e FC(represen)o(tation)246
757 y(of)g(c)o(haracters,)g(307)246 802 y(of)g(reserv)o(ed)g(w)o(ords,)
g(19)246 848 y(of)g(sp)q(eci\014cation,)i(19)246 894
y(of)e(sym)o(b)q(ol,)h(19,)f(273)208 939 y Fi(asci)q(i)g
FC(v)o(ersion)h(of)f(TLA)561 923 y FK(+)580 939 y FC(,)f(275,)h(305,)g
(307)208 985 y Fi(asci)q(i)p FC(-readable,)h(220)208
1031 y FB(Ass)s FC(,)d(327)208 1076 y FB(Assert)t FC(,)f(249)208
1122 y(assertional)15 b(reasoning,)g(2)208 1168 y(assignmen)o(t)f(in)g
(TLC,)e(234)208 1213 y(asso)q(ciativit)o(y)m(,)j(10,)e(283)208
1259 y Fi(assume)p FC(,)f(42,)h(327,)g(332)246 1305 y(c)o(hec)o(k)o(ed)
h(b)o(y)f(TLC,)f(241,)h(261)208 1350 y(assume-guaran)o(tee)h(sp)q
(eci\014cation,)i(156)208 1396 y(assumption,)e(42,)f(327,)g(332)208
1442 y FB(AsynchInt)o(erfa)o(c)n(e)f FC(mo)q(dule,)j(24,)d(27)208
1487 y(async)o(hronous)j(in)o(terface,)e(23)208 1533
y(async)o(hronous)i(system,)e(3)208 1579 y(atomicit)o(y)m(,)h(grain)g
(of,)e(76{78)208 1624 y(aux)h(\014le,)h(217)208 1670
y(axioms,)f(P)o(eano's,)h(344)208 1757 y(Bac)o(kus-Naur)g(F)m(orm,)e
(179)208 1803 y(bag,)h(340)208 1848 y FB(BagCar)n(dinality)s
FC(,)c(342)208 1894 y FB(BagIn)s FC(,)i(342)208 1940
y FB(BagOfA)o(l)r(l)t FC(,)f(342)208 1985 y FB(Bags)k
FC(mo)q(dule,)g(340,)g(343)246 2031 y(o)o(v)o(erridden)h(b)o(y)e(TLC,)f
(237)208 2077 y FB(BagT)m(oSet)t FC(,)e(340)208 2122
y FB(BagUnion)s FC(,)f(342)208 2168 y(barrier)14 b(sync)o(hronization,)
i(149)208 2214 y(basic)246 2259 y(expression,)f(309)246
2305 y(state)e(function,)h(311)246 2351 y(transition)h(function,)f(313)
208 2396 y(b)q(eha)o(vior,)g(15,)f(18,)g(314,)g(315)246
2442 y(satisfying)i(temp)q(oral)f(form)o(ula,)g(18)208
2488 y(b)q(eha)o(vior,)g(\014nite,)g(17,)f(112,)g(130)p
Black Black 999 391 a(b)q(eha)o(vior,)i(Zeno,)e(120,)h(128)999
437 y(b)q(eha)o(vioral)i(prop)q(ert)o(y)m(,)e(1)999 483
y(b)q(eha)o(viors,)h(equiv)n(alence)h(of,)c(77)999 528
y(b)q(ene\014ts)i(of)f(sp)q(eci\014cation,)j(75)999 574
y(binary)f(hour)f(clo)q(c)o(k,)f(158)999 620 y(binary)i(represen)o
(tation,)g(308)999 665 y FB(BinaryHourClo)n(ck)f FC(mo)q(dule,)g(159,)f
(160)999 711 y(blame,)h(145)999 757 y(BNF,)f(179,)g(276)999
802 y FB(BNF)o(Gr)n(ammars)i FC(mo)q(dule,)g(179,)e(183,)g(184)999
848 y Fi(boolean)p FC(,)f(46,)h(293)999 894 y(Bo)q(olean)i(op)q
(erator,)f(9,)e(293,)h(296)1038 939 y(precedence,)h(10)999
985 y(Bo)q(olean)h(op)q(erator,)f(simple,)g(236)999 1031
y(Bo)q(olean)h(v)n(alue,)f(9)999 1076 y(b)q(ound)h(o)q(ccurrence,)f(14)
999 1122 y(b)q(ound)h(v)n(ariable,)g(14,)d(109)999 1168
y(b)q(ound,)i(real-time,)g(122)999 1213 y(b)q(ound,)g(strong)g
(real-time,)g(124)999 1259 y(b)q(ounded)h(FIF)o(O,)d(42{43)999
1305 y(b)q(ounded)j(quan)o(ti\014cation)q(,)g(13,)e(293)999
1350 y FB(Bounde)n(dFIF)o(O)i FC(mo)q(dule,)f(43)999
1396 y(b)q(o)o(x)g(\()p Fa(2)p FC(\),)e FB(se)n(e)j FC(alw)o(a)o(ys)999
1442 y(bu\013er)f(comp)q(onen)o(t,)g(135,)f(140)999 1487
y(bu\013er,)h(FIF)o(O,)e(35,)h(140{142)999 1533 y(built-in)j(op)q
(erator,)d(20)999 1620 y(C++,)f(7)999 1666 y Fj(C)r FC([)-6
b([)p FB(e)s FC(])g(],)11 b(325)999 1711 y Fj(C)r FC(-basic)k
Fh(\025)e FC(expression,)i(325)999 1757 y(cac)o(he,)f(write-through,)g
(54{62,)f(107{109)999 1803 y(cac)o(hing)i(memory)m(,)e(45)999
1848 y(cac)o(hing)i(memory)m(,)e(real-time,)h(124{128)999
1894 y(calculator,)h(using)g(TLC)d(as,)h(261)999 1940
y(capture,)h(v)n(ariable,)h(335)999 1985 y FB(Car)n(dinality)s
FC(,)c(66,)i(70,)g(340)999 2031 y(cardinali)q(t)o(y)m(,)i(70)999
2077 y(carriage)g(return,)e(307)999 2122 y(Cartesian)h(pro)q(duct,)g
(53,)f(306)999 2168 y Fi(case)p FC(,)g(298)1038 2214
y(ev)n(aluated)i(b)o(y)e(TLC,)f(262)1038 2259 y(parsing,)i(284)999
2305 y(causalit)o(y)m(,)h(128)999 2351 y Fj(C)r(C)s FC(,)e(328)999
2396 y(c)o(hannel,)i(28,)e(97,)g(99)999 2442 y FB(Channel)i
FC(mo)q(dule,)f(30)999 2488 y(c)o(hannel,)h(re\014ning,)f(159)p
Black Black eop
%%Page: 352 370
352 369 bop Black 208 275 a F4(352)1569 b FR(INDEX)p
208 282 1770 2 v Black 208 391 a FB(ChannelR)n(e\014ne)o(ment)13
b FC(mo)q(dule,)h(161,)f(162)208 437 y(c)o(haracter,)g(307)208
483 y(c)o(hec)o(kp)q(oin)o(t)h(\(TLC\),)e(252,)h(255,)g(260)208
528 y(Chinese,)g(2)208 574 y FB(Choic)n(e)s FC(,)e(295)208
620 y Fi(choose)p FC(,)g(47,)i(73,)g(294)246 665 y(applied)i(to)e(temp)
q(oral)i(form)o(ula,)e(110)246 711 y(ev)n(aluated)i(b)o(y)e(TLC,)f
(232,)h(234,)g(262)246 757 y(parsing,)h(284)208 802 y(circular)g
(de\014nition,)i(70)208 848 y(class,)d(equiv)n(alence,)j(of)c(a)h
(state,)g(246)208 894 y(class,)g(Ja)o(v)n(a,)g(237)208
939 y Fc(cleanup)d FC(TLC)i(option,)i(252)208 985 y(clev)o(erness,)g
(80)208 1031 y(clo)q(c)o(k,)f(hour,)h FB(se)n(e)g FC(hour)g(clo)q(c)o
(k)208 1076 y(clo)q(c)o(ks,)f(arra)o(y)h(of,)e(139)208
1122 y(closed-system)i(sp)q(eci\014cation,)i(44,)d(167)208
1168 y(closure,)h(mac)o(hine,)g FB(se)n(e)g FC(mac)o(hine)h(closure)208
1213 y(coarser-grained)g(sp)q(eci\014cation,)g(76)208
1259 y(collection)g(of)e(all)h(sets,)f(66)208 1305 y(collision,)j(244,)
d(255)208 1350 y(commen)o(t,)g(32{34,)g(82)246 1396 y(in)h(TLC)e
(con\014guration)k(\014le,)d(226)246 1442 y(shading,)i(212)246
1487 y(syn)o(tax,)e(288)246 1533 y(t)o(yp)q(eset)h(b)o(y)f(TLA)m(T)533
1541 y(E)553 1533 y(X,)f(214)208 1579 y(commen)o(t,)h(end-of-line,)h
(32)208 1624 y(commen)o(t,)f(nested,)g(32)208 1670 y(commen)o(t,)g
(space)g(in,)h(213)208 1716 y(common)f(sub)q(expression,)j(60)208
1761 y(comm)o(unication,)f(152)208 1807 y(comm)o(utativit)o(y)g(of)d
(actions,)i(78)208 1853 y(comparable)g(v)n(alues,)g(231,)g(264)208
1898 y(complete-system)g(sp)q(eci\014cation,)i(44,)c(156)208
1944 y(complexit)o(y)m(,)i(relativ)o(e,)h(254)208 1989
y(comp)q(onen)o(t,)e(135)208 2035 y FB(Comp)n(ositeFIF)o(O)i
FC(mo)q(dule,)f(142,)f(143)208 2081 y(comp)q(osition)h(of)d(actions)j
(\()p Fj(\001)p FC(\),)d(77,)g(312,)h(313)246 2126 y(and)i(instan)o
(tiation,)i(337)246 2172 y(ev)n(aluated)f(b)o(y)e(TLC,)f(240)208
2218 y(comp)q(osition)j(of)e(sp)q(eci\014cations,)j(135,)d(168)246
2263 y(and)h(liv)o(eness,)g(152)246 2309 y(and)g(mac)o(hine)g(closure,)
g(152)246 2355 y(with)f(disjoin)o(t)i(state,)e(142)246
2400 y(with)g(shared)h(state,)f(142{149)208 2446 y(Comp)q(osition)i
(Rule,)f(138)208 2492 y(Comp)q(ositional)i(Hiding)e(Rule,)g(155)p
Black Black 999 391 a(conditional)j(constructs,)c(298)999
437 y Fc(config)e FC(TLC)h(option,)i(253)999 483 y FB(Con\014gFileGr)n
(ammar)h FC(mo)q(dule,)f(262,)f(263)999 528 y(con\014guration)j(\014le)
e(\(TLC\),)d(225,)i(253,)g(261)1038 574 y(grammar,)g(262)999
620 y(conjunct,)h(prop)q(ert)o(y)m(,)f(240)999 665 y(conjunct,)h(sp)q
(eci\014cation,)h(240)999 711 y(conjunction)g(\()p Fj(^)p
FC(\),)d(9,)h(293)1038 757 y(applied)i(to)e(temp)q(oral)h(form)o(ulas,)
g(88)1038 802 y(as)f(quan)o(ti\014cation,)j(13,)d(105)1038
848 y(ev)n(aluated)i(b)o(y)e(TLC,)f(231)1038 894 y(of)h(in\014nitely)j
(man)o(y)d(form)o(ulas,)h(13)999 939 y(Conjunction)h(Rule,)f(SF,)f(106)
999 985 y(Conjunction)i(Rule,)f(WF,)f(105)999 1031 y(conjuncts,)h(list)
g(of,)f(25,)f(286,)i(293)999 1076 y(connected,)g(strongly)m(,)g(174)999
1122 y(connectivit)o(y)m(,)h(173)999 1168 y(conserv)n(ativ)o(e)i(in)o
(terpretation)h(of)d(Bo)q(olean)1124 1213 y(op)q(erators,)f(296)999
1259 y Fi(const)n(ant)p FC(,)e(25,)h(46,)g(327,)g(329)999
1305 y(constan)o(t)1038 1350 y(declaration,)i(25)1038
1396 y(lev)o(el,)f(324)1038 1442 y(mo)q(dule,)g(330)1038
1487 y(op)q(erator,)f(268,)g(291{309)1038 1533 y(parameter,)g(25,)g(45)
999 1579 y Fc(CONSTANT)d FC(statemen)o(t,)j(226)999 1624
y(constan)o(t,)h(in)o(ternal,)h(190)999 1670 y(constan)o(t-lev)o(el)h
(expression,)e(322)999 1716 y Fi(const)n(ants)p FC(,)e(25)999
1761 y Fc(CONSTANTS)e FC(statemen)o(t,)j(226)999 1807
y(constrain)o(t,)i(226)999 1853 y FB(Constr)n(aint)g
FC(\(in)e(TLC\),)f(241)999 1898 y(constrain)o(t,)j(action,)e(241)999
1944 y(constrain)o(t,)i(global,)f(140)999 1989 y(constrain)o(t,)h
(real-time,)f(119)1038 2035 y(on)f(disjunction,)i(128)999
2081 y(construct,)f(292)999 2126 y(constructor,)g(set,)f(66,)g(299)999
2172 y(con)o(text,)h(324{325)999 2218 y(con)o(text,)g(curren)o(t,)f
(328)999 2263 y(con)o(tin)o(uall)q(y)1038 2309 y(enabled,)h(106)1038
2355 y(v)o(ersus)f(con)o(tin)o(uousl)q(y)m(,)i(106)999
2400 y(con)o(tin)o(uously)1038 2446 y(enabled,)f(106,)f(122)1038
2492 y(v)o(ersus)g(con)o(tin)o(uall)q(y)m(,)i(106)p Black
Black eop
%%Page: 353 371
353 370 bop Black 208 275 a FR(INDEX)1570 b F4(353)p
208 282 1770 2 v Black 208 391 a FC(con)o(tract,)13 b(sp)q
(eci\014cation)j(as,)c(156)208 437 y(con)o(tradiction,)j(pro)q(of)e(b)o
(y)m(,)g(102)208 483 y(con)o(v)o(ersion,)h Fh(\013)p
FC(,)e(319)208 528 y FB(CopiesIn)s FC(,)e(342)208 574
y(correct,)i(syn)o(tactically)n(,)j(325)208 620 y(correctness)e(of)g
(mo)q(dule,)h(332)208 665 y(Couturier,)f(Dominique,)j(xvii)208
711 y Fc(coverage)9 b FC(TLC)k(option,)h(227,)f(252,)g(258)208
757 y(curren)o(t)g(con)o(text,)g(328)208 844 y Fc(d)f
FC(Syn)o(tactic)i(Analyzer)h(option,)f(207)208 889 y(data)f
(re\014nemen)o(t,)h(164)208 935 y(data)f(structures,)g(78{79,)h(170)208
981 y FB(Dcl)t FC(,)d(327)208 1026 y(deadlo)q(c)o(k,)j(222,)f(251)208
1072 y Fc(deadlock)c FC(TLC)k(option,)h(242,)f(251)208
1118 y(debugging,)i(253)246 1163 y(v)n(ariable,)g(244)208
1209 y(decimal)f(represen)o(tation,)h(308)208 1255 y(declaration,)g
(324,)e(329)208 1300 y(declaration,)i(constan)o(t,)e(25)208
1346 y(declaration,)i(scop)q(e)e(of,)g(31)208 1392 y(declaration,)i(v)n
(ariable,)f(19)208 1437 y(de\014nition,)h(31{32,)e(324)246
1483 y(of)g(function,)h(54,)f(329)246 1529 y(of)g(op)q(erator,)g(329)
246 1574 y(o)o(v)o(erriding,)i(234,)e(235)208 1620 y(de\014nition,)i
(global,)g(327)208 1666 y(de\014nition,)g(inductiv)o(e,)g(69)208
1711 y(de\014nition,)g(lo)q(cal,)f(170,)f(327)208 1757
y(de\014nition,)i(mo)q(dule,)f(324)208 1803 y(delimiter,)g(285,)g(286)
208 1848 y Fc(depth)c FC(TLC)j(option,)h(243,)f(251)208
1894 y(deriv)n(ativ)o(e,)h(176)208 1940 y(diameter)g(of)e(state)h
(graph,)h(254)208 1985 y(di\013erence,)g(set)f(\()p Fj(n)p
FC(\),)g(12)208 2031 y(di\013eren)o(tial)j(equation,)e(133,)f(174)208
2077 y FB(Di\013er)n(entialEq)o(uat)o(ion)o(s)d FC(mo)q(dule,)h(177,)f
(178)208 2122 y Fc(difftrac)o(e)g FC(TLC)i(option,)i(252,)f(259)208
2168 y(directed)h(graph,)f(173)208 2214 y(discrete)h(step,)f(15)208
2259 y(disjoin)o(t-state)246 2305 y(comp)q(osition,)i(142{149)246
2351 y(sp)q(eci\014cation,)g(151)208 2396 y(disjunction)g(\()p
Fj(_)p FC(\),)d(9,)h(293)246 2442 y(as)g(quan)o(ti\014cation,)j(13,)d
(105)246 2488 y(ev)n(aluated)i(b)o(y)e(TLC,)f(231)p Black
Black 999 391 a(disjunction)g(\()p Fj(_)p FC(\),)c(real-time)i
(constrain)o(t)g(on,)1124 437 y(128)999 483 y(disjuncts,)15
b(list)f(of,)e(26,)h(286,)g(293)999 528 y(distribute)j(o)o(v)o(er,)d
(93,)f(114,)h(336)999 574 y(distributed)j(system,)d(3)999
620 y(divide)j(and)d(conquer,)h(209)999 665 y(division)1038
711 y(of)f(in)o(tegers,)g(344)1038 757 y(of)g(real)g(n)o(um)o(b)q(ers,)
h(73)999 802 y Fi(domain)p FC(,)f(48,)g(302)999 848 y(domain)i(of)e(a)g
(function,)h(48,)f(302)999 894 y(double)i(quote)f(\()p
Fc(")p FC(\),)e(216,)h(307)999 939 y FB(DR)q FC(1,)g(101)999
985 y FB(DR)q FC(2,)g(102)999 1031 y(dual)i(tautology)m(,)f(93)999
1076 y(dvi)g(\014le,)g(211,)f(217)999 1122 y(dvips,)i(213)999
1209 y(edge,)f(172)999 1255 y(elemen)o(t,)g(11)999 1300
y(empt)o(y)g(set,)e(12)999 1346 y FB(EmptyBag)s FC(,)g(342)999
1392 y Fi(enabled)p FC(,)h(97,)f(312,)h(313)1038 1437
y(and)g(instan)o(tiatio)q(n,)i(337)1038 1483 y(ev)n(aluated)g(b)o(y)e
(TLC,)f(240)1038 1529 y(predicate,)i(computing,)g(115)1038
1574 y(substitution)i(in,)d(335)999 1620 y(enabled,)i(26)1038
1666 y(con)o(tin)o(ually)m(,)h(106)1038 1711 y(con)o(tin)o(uously)m(,)f
(106,)e(122)1038 1757 y(rep)q(eatedly)m(,)h(124)999 1803
y Fi(enabled)p FC(-free)f(state)g(function,)h(311)999
1848 y(end-of-line)h(c)o(haracter,)f(288,)f(290)999 1894
y(end-of-line)i(commen)o(t,)e(32)999 1940 y(English,)i(2,)e(98)999
1985 y(en)o(vironmen)o(t,)i(43,)e(147,)g(156)999 2031
y(equalit)o(y)j(\(=\),)c(284,)h(300)1038 2077 y(of)g(sets,)f(12)1038
2122 y(v)o(ersus)h(equiv)n(alence,)j(10,)d(296)999 2168
y(equation,)i(di\013eren)o(tial,)h(133,)d(174)999 2214
y(equiv)n(alence)1038 2259 y(class)h(of)f(a)g(state,)f(246)1038
2305 y(of)h(sp)q(eci\014cations,)i(21)999 2351 y(equiv)n(alence)h(\()p
Fj(\021)p FC(\),)c(9,)h(293)1038 2396 y(v)o(ersus)g(equalit)o(y)m(,)i
(10,)e(296)999 2442 y(equiv)n(alence)j(of)d(b)q(eha)o(viors,)i(77)999
2488 y(error)f(rep)q(ort)f(\(TLC\),)f(255)p Black Black
eop
%%Page: 354 372
354 371 bop Black 208 275 a F4(354)1569 b FR(INDEX)p
208 282 1770 2 v Black 208 391 a FC(error)13 b(trace)g(\(TLC\),)f(247,)
h(252,)g(259)208 437 y(error,)f(lo)q(cating,)j(with)f(TLC,)e(249)208
483 y(error,)g(seman)o(tic,)i(208)208 528 y(error,)e(syn)o(tactic,)i
(208)208 574 y(ev)n(aluating)h(expressions,)g(231)208
620 y(ev)o(en)o(tually)g(\()p Fa(3)p FC(\),)c(91,)i(288,)g(314)208
665 y(ev)o(en)o(tually)i(alw)o(a)o(ys)f(\()p Fa(32)p
FC(\),)d(92,)i(106)208 711 y Fi(ex)o(cept)p FC(,)f(29,)h(49,)g(302,)g
(304{306)208 757 y(execution)h(of)f(an)g(action,)h(16)208
802 y(execution,)g(terminating,)h(17)208 848 y(existen)o(tial)g(quan)o
(ti\014cation)h(\()p Fj(9)7 b FC(\),)12 b(12,)h(293)246
894 y(as)g(disjunction,)i(13,)e(105)246 939 y(ev)n(aluated)i(b)o(y)e
(TLC,)f(232)208 985 y(existen)o(tial)f(quan)o(ti\014cation,)h(temp)q
(oral,)f FB(se)n(e)332 1031 y FC(hiding)k(v)n(ariables)208
1076 y(explanation)h(of)c(memory)i(scenario,)g(186)208
1122 y(expression,)g(317,)f(321)208 1168 y(expression)i(ev)n(aluation)g
(b)o(y)e(TLC,)f(231)208 1213 y(expression,)i Fh(\025)p
FC(,)f FB(se)n(e)i Fh(\025)e FC(expression)208 1259 y(expression,)h
(basic,)g(309)208 1305 y(expression,)g(lev)o(el)h(of,)d(322)208
1350 y(expression,)i(silly)m(,)h(67,)e(222)246 1396 y(ev)n(aluated)i(b)
o(y)e(TLC,)f(256)208 1442 y Fi(extends)p FC(,)g(19,)h(237,)g(328)208
1487 y Fi(extends)p FC(,)c(structuring)h(sp)q(eci\014cation)i(with,)332
1533 y(34)208 1620 y(factorial,)i(54,)f(67)208 1666 y(failed)h(to)f
(reco)o(v)o(er)g(state,)g(247)208 1711 y(fairness)h(and)f(re\014nemen)o
(t,)h(114)208 1757 y(fairness)g(conditions,)h(com)o(bining,)28
b(101,)332 1803 y(105)208 1848 y(fairness,)13 b(expressing)i(liv)o
(eness)h(with,)d(112)208 1894 y(fairness,)g(strong,)h(106{107)208
1940 y(fairness,)f(w)o(eak,)g(96{100)246 1985 y(real-time)h(analog,)g
(122)208 2031 y Fi(f)m(alse)o FC(,)f(9,)f(293)208 2077
y FB(F)m(astSort)t FC(,)e(250)208 2122 y(\014eld)k(of)e(record,)i(28)
208 2168 y(FIF)o(O)e(bu\013er,)i(35,)f(140{142)208 2214
y(FIF)o(O)f(transmission)k(line,)e(222)208 2259 y(FIF)o(O,)e(b)q
(ounded,)i(42{43)208 2305 y(\014le)f(name,)h(ro)q(ot)f(of,)f(217)208
2351 y(\014le,)h(aux,)g(217)208 2396 y(\014le,)g(dvi,)h(211,)f(217)208
2442 y(\014le,)g(log,)h(217)208 2488 y(\014le,)f(PDF,)g(211,)g(212)p
Black Black 999 391 a(\014le,)j(TLC)e(con\014guration,)j
FB(se)n(e)f FC(con\014gura-)1124 437 y(tion)e(\014le)999
483 y(\014les,)g(TLA)m(T)1187 491 y(E)1207 483 y(X)f(output,)g(217)999
528 y(\014ner-grained)j(sp)q(eci\014cation,)f(76)999
574 y(\014ngerprin)o(t,)g(244,)e(247,)g(255)999 620 y(\014ngers,)h
(coun)o(ting)h(on,)e(11)999 665 y(\014nite)i(b)q(eha)o(vior,)f(112,)f
(130)999 711 y FB(FiniteSets)g FC(mo)q(dule,)h(66,)f(340,)g(341)1038
757 y(o)o(v)o(erridden)i(b)o(y)e(TLC,)f(237)999 802 y(\014rst-order)i
(logic,)g(3,)f(318)999 848 y(\015exible)j(v)n(ariable,)e(110)999
894 y(fon)o(t)f(of)g(commen)o(t,)g(32)999 939 y(fon)o(t)g(size,)h(216)
999 985 y(form)f(feed,)g(290,)g(307)999 1031 y(formal)h(mathematics,)g
(2)999 1076 y(formal)g(seman)o(tics,)g(292)999 1122 y(form)o(ula,)g
(309,)f(310)1038 1168 y(splitting,)i(60)1038 1213 y(used)e(in)h(a)f
(sen)o(tence,)h(14)999 1259 y(form)o(ula,)g(simple)h(action,)e(236)999
1305 y(form)o(ula,)h(temp)q(oral,)g FB(se)n(e)h FC(temp)q(oral)1124
1350 y(form)o(ula)999 1396 y(form)o(ula,)f(v)n(alid,)g(18,)f(309)999
1442 y(F)m(rank,)h(Douglas,)g(xvii)999 1487 y(free)f(o)q(ccurrence,)h
(14)999 1533 y(free)f(v)n(ariable,)i(14)999 1579 y(function,)f(48{51,)g
(72{73,)f(301)1038 1624 y(expressed)h(with)g(:)p Fh(>)e
FC(and)i(@@)o(,)f(249)1038 1670 y(of)g(m)o(ultiple)i(argumen)o(ts,)f
(50,)e(302)1038 1716 y(transition,)j(312)1038 1761 y(v)o(ersus)e(op)q
(erator,)h(69{72)999 1807 y(function)h(de\014nition,)g(329)999
1853 y(function,)f(hashing,)h(244)999 1898 y(function,)f(nondeterminis)
q(tic,)i(73)999 1944 y(function,)c(recursiv)o(ely)g(de\014ned,)f
FB(se)n(e)h FC(recur-)1124 1989 y(siv)o(e)i(function)g(de\014nition)999
2035 y(function,)g(state,)f(25,)g(310{312)999 2081 y(functional)j(prop)
q(ert)o(y)m(,)d(1)999 2168 y Fj(G)r FC(,)g(241,)g(254)999
2214 y FB(GDef)7 b FC(,)13 b(327)999 2259 y(Generalizatio)q(n)j(Rule,)e
(95)999 2305 y(gibb)q(erish,)i(nonsyn)o(tactic,)f(69)999
2351 y(Gilk)o(erson,)g(Ellen,)g(v)999 2396 y(global)1038
2442 y(constrain)o(t,)f(140)1038 2488 y(de\014nition,)h(327)p
Black Black eop
%%Page: 355 373
355 372 bop Black 208 275 a FR(INDEX)1570 b F4(355)p
208 282 1770 2 v Black 246 391 a FC(function)14 b(de\014nition,)i(329)
246 437 y(op)q(erator)e(de\014nition,)h(329)208 483 y(Gon)o(thier,)f
(Georges,)f(307)208 528 y(grain)h(of)e(atomicit)o(y)m(,)j(76{78)208
574 y FB(Gr)n(ammar)t FC(,)d(180)208 620 y(grammar,)h(179)246
665 y(of)g(TLA)371 649 y FK(+)389 665 y FC(,)g(276{289)246
711 y(of)g(TLC)f(con\014guration)k(\014le,)d(262)208
757 y(gran)o(ularit)o(y)i(of)e(step,)g(24,)g(76{78)208
802 y(graph,)g(172)208 848 y(graph,)g(directed,)h(173)208
894 y(graph,)f(state)g(\()p Fj(G)r FC(\),)g FB(se)n(e)h
FC(state)f(graph)208 939 y(graph,)g(undirected,)i(173)208
985 y FB(Gr)n(aphs)f FC(mo)q(dule,)g(172,)f(175)208 1031
y Fc(grayLeve)o(l)d FC(TLA)m(T)497 1039 y(E)517 1031
y(X)i(option,)j(213)208 1076 y(Gr)o(\023)-18 b(egoire,)13
b(Jean-Charles,)h(xvii,)h(207)208 1122 y(Gro)o(v)o(er,)e(Vino)q(d,)g
(xvii)208 1168 y(Guindon,)h(1)208 1255 y(handshak)o(e)h(proto)q(col,)f
(23)208 1300 y(hashing)h(function,)f(244)208 1346 y(Ha)o(yden,)f(Mark,)
g(221)208 1392 y FB(He)n(ad)t FC(,)d(35,)j(53)208 1437
y Fc(help)e FC(TLA)m(T)399 1445 y(E)419 1437 y(X)h(option,)j(212)208
1483 y(henceforth,)e FB(se)n(e)i FC(alw)o(a)o(ys)208
1529 y(hexadecimal)g(represen)o(tation,)g(308)208 1574
y(hiding)h(v)n(ariables,)f(39,)f(41,)g(110,)g(111,)g(221,)332
1620 y(228,)f(314,)g(316)246 1666 y(and)h(comp)q(osition,)h(154)208
1711 y(high-lev)o(el)g(sp)q(eci\014cation,)h(132,)d(169)208
1757 y(higher-order)h(logic,)h(318)208 1803 y(Hilb)q(ert's)f
Fh(")p FC(,)e(73,)h(296)208 1848 y Fc(hoffset)d FC(TLA)m(T)458
1856 y(E)478 1848 y(X)i(option,)i(217)208 1894 y(hour)f(clo)q(c)o(k,)h
(15,)f(96,)g(98)208 1940 y(hour)g(clo)q(c)o(k,)h(binary)m(,)g(158)208
1985 y(hour)f(clo)q(c)o(k,)h(real-time,)g(117{121)208
2031 y FB(HourClo)n(ck)g FC(mo)q(dule,)h(19,)d(20)246
2077 y(with)h(commen)o(ts,)h(33)208 2122 y(h)o(ybrid)g(sp)q
(eci\014cation,)i(132{133)208 2210 y(iden)o(ti\014er,)e(31,)f(277,)g
(321)246 2255 y(of)g Fh(\025)g FC(parameter,)g(319)208
2301 y(iden)o(ti\014er,)h(run,)g(252,)f(255)208 2346
y Fi(if)p FC(/)p Fi(then)p FC(/)p Fi(else)p FC(,)f(16)246
2392 y(ev)n(aluated)j(b)o(y)e(TLC,)f(231)246 2438 y(parsing,)i(284,)f
(298)208 2483 y(i\013,)g(9)p Black Black 999 391 a(implemen)o(tation)q
(,)i(62,)e(111)1038 437 y(under)h(in)o(terface)g(re\014nemen)o(t,)f
(165)999 483 y(implemen)o(tation)q(,)i(pro)o(ving,)g(62{64)999
528 y(implemen)o(ting)d(real-time)e(constrain)o(ts,)h(126)999
574 y(implicati)q(on,)16 b(9)1038 620 y(as)d(implemen)o(tation,)j(62,)d
(111)999 665 y(implicit)i(substitution)g(\(in)d Fi(inst)n(ance)p
FC(\),)g(40)999 711 y FB(Implie)n(dA)n(ction)h FC(\(in)g(TLC\),)f(241)
999 757 y FB(Implie)n(dInit)i FC(\(in)g(TLC\),)e(241)999
802 y FB(Implie)n(dT)m(emp)n(or)n(al)j FC(\(in)f(TLC\),)e(241)999
848 y(implies)k(\()p Fj(\))p FC(\),)c(9,)h(293)1038 894
y(de\014nition)i(explained,)h(10)1038 939 y(ev)n(aluated)f(b)o(y)e
(TLC,)f(231)999 985 y(Implies)j(Generalization)h(Rule,)e(95)999
1031 y Fi(in)p FC(,)f FB(se)n(e)i Fi(let)p FC(/)p Fi(in)999
1076 y FC(inden)o(tation)d(in)e(con/disjunction)i(lists,)f(26,)1124
1122 y(286)999 1168 y(inductiv)o(e)16 b(de\014nition,)f(69)999
1213 y(inductiv)o(e)h(in)o(v)n(arian)o(t,)f(61)999 1259
y(in\014nitely)h(often)e(\()p Fa(23)p FC(\),)d(91,)i(106)999
1305 y FB(In\014nity)s FC(,)e(122,)i(344)999 1350 y(in\014x)i(op)q
(erator,)e(270,)g(278,)g(345)999 1396 y Fc(info)f FC(TLA)m(T)1191
1404 y(E)1211 1396 y(X)g(option,)i(212)999 1442 y FB(Init)i
FC(\(in)d(TLC\),)f(240)999 1487 y Fc(INIT)g FC(statemen)o(t,)h(225,)g
(262)999 1533 y(initial)j(predicate,)e(16)1038 1579 y(ev)n(aluated)h(b)
o(y)e(TLC,)f(254)999 1624 y(initial)k(state,)d(16)1038
1670 y(computed)h(b)o(y)f(TLC,)f(237,)h(240,)g(241)999
1716 y FB(InnerFIF)o(O)j FC(mo)q(dule,)e(37,)f(38)999
1761 y FB(InnerSe)n(quenti)o(al)g FC(mo)q(dule,)h(200,)g(201)999
1807 y FB(InnerSerial)g FC(mo)q(dule,)g(195,)f(196)999
1853 y Fi(inst)n(ance)p FC(,)f(36{40,)i(330{331,)g(334{338)999
1898 y Fi(inst)n(ance)p FC(,)e Fi(local)p FC(,)h(171)999
1944 y Fi(inst)n(ance)p FC(,)c(structuring)i(sp)q(eci\014cation)g
(with,)1124 1989 y(34)999 2035 y(instan)o(taneous)16
b(c)o(hange,)e(117)999 2081 y(instan)o(tiatio)q(n,)h(37{40,)e(330{331,)
h(334{338)999 2126 y(instan)o(tiatio)q(n,)h(parametrized,)g(39)999
2172 y FB(Int)h FC(\(set)d(of)f(in)o(tegers\),)i(344)999
2218 y(in)o(teger)g(division)q(,)h(344)999 2263 y(in)o(teger)f(is)g
(real)g(n)o(um)o(b)q(er,)f(344)999 2309 y FB(Inte)n(gers)h
FC(mo)q(dule,)g(344,)f(348)1038 2355 y(o)o(v)o(erridden)i(b)o(y)e(TLC,)
f(237)999 2400 y FB(Inte)n(gr)n(ate)s FC(,)e(132,)j(174)999
2446 y(in)o(tegration,)i(133)999 2492 y(in)o(terface)f(re\014nemen)o
(t,)g(158{167)p Black Black eop
%%Page: 356 374
356 373 bop Black 208 275 a F4(356)1569 b FR(INDEX)p
208 282 1770 2 v Black 246 391 a FC(and)14 b(implemen)o(tation,)h(165)
246 437 y(and)f(liv)o(eness,)g(165)246 483 y(for)f(op)q(en-system)h(sp)
q(eci\014cations,)i(165)208 528 y(in)o(terface,)d(async)o(hronous,)i
(23)208 574 y(in)o(terface,)e(memory)m(,)g(183)208 620
y(in)o(terface,)g(program,)g(3,)g(78)208 665 y(in)o(terlea)o(ving)j(sp)
q(eci\014cation,)f(137,)e(151)208 711 y(in)o(ternal)i(constan)o(t,)e
(190)208 757 y(in)o(ternal)i(v)n(ariable,)f(41,)f(111)208
802 y FB(InternalMemory)g FC(mo)q(dule,)h(52)208 848
y(in)o(tersection)h(\()p Fj(\\)p FC(\),)d(12)208 894
y(in)o(terv)n(al,)i(op)q(en,)f(174)208 939 y(in)o(v)n(ariance,)i(pro)o
(ving,)f(62)208 985 y(in)o(v)n(arian)o(t,)g(61{62)246
1031 y(c)o(hec)o(king)h(b)o(y)e(TLC,)f(225,)h(242)246
1076 y(of)g(a)g(sp)q(eci\014cation,)i(25)246 1122 y(of)e(an)g(action,)h
(61)246 1168 y(under)g(stuttering,)g(90)208 1213 y FB(Invariant)f
FC(\(in)h(TLC\),)e(240)208 1259 y Fc(INVARIAN)o(T)e FC(statemen)o(t,)j
(225)208 1305 y(in)o(v)n(arian)o(t,)h(inductiv)o(e,)h(61)208
1350 y(in)o(v)n(arian)o(t,)f(t)o(yp)q(e,)f(25,)g(80)208
1396 y Fc(INVARIAN)o(TS)c FC(statemen)o(t,)14 b(226)208
1442 y(irre\015exiv)o(e,)g(191)208 1487 y(irre\015exiv)o(e)h(partial)g
(order,)e(71)208 1533 y FB(IsABag)s FC(,)e(340)208 1579
y FB(IsABehavio)o(r)t FC(,)f(316)208 1624 y FB(IsAFcn)s
FC(,)g(303)208 1670 y FB(IsAState)s FC(,)f(313)208 1716
y FB(IsDeriv)t FC(,)i(176)208 1761 y FB(IsFcnOn)s FC(,)g(140)208
1807 y FB(IsFiniteSet)s FC(,)e(43,)k(66,)g(340)208 1891
y(Ja)o(v)n(a)g(class,)g(237)208 1937 y FB(JavaTime)s
FC(,)e(249)208 1983 y(Je\013erson,)i(Da)o(vid,)h(xvii,)h(207)208
2028 y(join)o(t)e(actions,)h(147,)f(152)208 2074 y FB(JointA)n(ction)o
(Memory)g FC(mo)q(dule,)h(150)208 2158 y(Kalv)n(ala,)g(Sara,)f(xvii)208
2204 y Fc(key)e FC(TLC)h(option,)j(243)208 2250 y(k)o(eyb)q(oard,)f(81)
208 2295 y(Kn)o(uth,)f(Donald)i(Ervin,)e(19,)g(211)208
2341 y(Krishnan,)h(P)o(addy)m(,)f(xvii)208 2425 y(lam)o(b)q(da,)h
FB(se)n(e)g Fh(\025)208 2471 y FC(Lamp)q(ort,)f(Leslie,)h(211,)f(221)
208 2517 y(language,)h(179)p Black Black 999 391 a(language,)h
(programming,)g(3,)d(67)999 437 y(L)1009 428 y FK(A)1026
437 y FC(T)1048 445 y(E)1069 437 y(X,)g(211)999 483 y(L)1009
474 y FK(A)1026 483 y FC(T)1048 491 y(E)1069 483 y(X)g(commands)i(in)g
(TLA)m(T)1445 491 y(E)1465 483 y(X,)e(219)999 528 y Fc(latexComman)o(d)
e FC(TLA)m(T)1348 536 y(E)1368 528 y(X)i(option,)i(212)999
574 y FB(LDef)8 b FC(,)k(327)999 620 y(leads)j(to)e(\()p
Fa(;)p FC(\),)f(91,)h(314)999 665 y FB(L)n(e)n(astGr)n(ammar)t
FC(,)f(181)999 711 y(left)i(asso)q(ciativ)o(e,)h(283)999
757 y(legal)g Fh(\025)e FC(expression,)i(327)999 802
y(Leisenring,)g(A.)e(C.,)e(296)999 848 y FB(L)n(en)s
FC(,)h(36)999 894 y Fi(let)p FC(/)p Fi(in)p FC(,)h(60,)g(299)1038
939 y(meaning)h(of,)f(326)1038 985 y(parsing,)h(284)999
1031 y(lev)o(el,)h(321{324)999 1076 y(lev)o(el)g(of)e(abstraction,)h
(76)999 1122 y(lev)o(el,)h(constan)o(t,)e(324)999 1168
y(lev)o(el-correct,)i(323)999 1213 y(lexeme,)f(179)999
1259 y(lexeme,)g(TLA+,)e(275,)h(289)999 1305 y(lib)q(eral)k(in)o
(terpretation)g(of)d(Bo)q(olean)i(op)q(er-)1124 1350
y(ators,)d(296)999 1396 y(limit,)i(de\014nition)g(of,)e(177)999
1442 y(line)i(feed,)e(307)999 1487 y(line)i(n)o(um)o(b)q(ers,)f(212)999
1533 y(linearizab)q(le)i(memory)m(,)d(51,)g(100,)g(185)999
1579 y(list)i(of)d(conjuncts,)i(25,)f(286,)g(293)999
1624 y(list)i(of)d(disjuncts,)i(26,)f(286,)g(293)999
1670 y(liv)o(eness)1038 1716 y(and)g(comp)q(osition,)j(152)1038
1761 y(considered)f(unimp)q(ortan)o(t,)g(116)1038 1807
y(expressed)f(with)g(fairness,)f(112)1038 1853 y(in)h(in)o(terface)f
(re\014nemen)o(t,)h(165)999 1898 y(liv)o(eness)h(prop)q(ert)o(y)m(,)f
(3,)f(87)1038 1944 y(c)o(hec)o(k)o(ed)h(b)o(y)f(TLC,)f(228,)h(242,)g
(247)999 1989 y Fi(local)p FC(,)g(171,)g(327,)g(329,)g(331,)g(340)999
2035 y(lo)q(cal)1038 2081 y(de\014nition,)i(170,)e(327)1038
2126 y(function)h(de\014nition,)i(330)1038 2172 y Fi(inst)n(ance)p
FC(,)c(331)1038 2218 y(op)q(erator)i(de\014nition,)h(329)999
2263 y(log)f(\014le,)g(217)999 2309 y(logic,)h(\014rst-order,)e(3,)g
(318)999 2355 y(logic,)i(higher-order,)f(318)999 2400
y(logic,)h(predicate,)f(12{14,)f(293)999 2446 y(logic,)i(prop)q
(ositional)q(,)g(9{11,)e(293)999 2492 y(logic,)i(temp)q(oral,)f
FB(se)n(e)g FC(temp)q(oral)h(logic)p Black Black eop
%%Page: 357 375
357 374 bop Black 208 275 a FR(INDEX)1570 b F4(357)p
208 282 1770 2 v Black 208 391 a FC(logical)15 b(prop)q(ert)o(y)m(,)e
(1)208 437 y(logical)i(thinking,)g(danger)f(to,)f(7)208
483 y(lossy)h(transmission)h(line,)g(222)208 528 y(lo)o(w)o(er-lev)o
(el)f(sp)q(eci\014cation,)i(169)208 615 y(mac)o(hine)10
b(closure,)g(111{114,)h(130,)e(200,)h(230)246 661 y(and)k(comp)q
(osition,)h(152)208 707 y(mapping,)f(re\014nemen)o(t,)g(63,)f(228)208
752 y(mathematics,)h(2,)e(9,)h(21,)g(22,)g(65,)f(174)208
798 y FB(MaxTime)s FC(,)g(119,)h(123)208 844 y FB(MCA)o(lternatingBit)g
FC(mo)q(dule,)h(226,)f(227)208 889 y FB(MDef)7 b FC(,)13
b(327)208 935 y(meaning,)h(292)246 981 y(of)f Fh(\025)g
FC(expression,)i(325{327)246 1026 y(of)e(temp)q(oral)h(form)o(ula,)g
(88)208 1072 y(Melville,)h(Herman,)e(vii)208 1118 y(memory)g(address,)h
(47)208 1163 y(memory)f(in)o(terface,)g(183)208 1209
y FB(Memory)i FC(mo)q(dule,)g(51,)d(53)208 1255 y(memory)h(system,)g
(45)208 1300 y(memory)g(v)n(alue,)h(47)208 1346 y(memory)m(,)e(cac)o
(hing,)j(45)208 1392 y(memory)m(,)d(linearizab)q(le,)k(51,)d(100,)g
(185)208 1437 y(memory)m(,)f(real-time)j(cac)o(hing,)f(124{128)208
1483 y(memory)m(,)e(sequen)o(tiall)q(y)k(consisten)o(t,)e(195)208
1529 y(memory)m(,)e(serial,)j(188)208 1574 y FB(MemoryInterfac)n(e)e
FC(mo)q(dule,)h(48)208 1620 y FB(MinTime)s FC(,)e(119,)h(123)208
1666 y(mo)q(del,)g(225)208 1711 y(mo)q(del)h(c)o(hec)o(king,)g(221,)f
(226,)g(241)208 1757 y(mo)q(del)h(v)n(alue,)g(230,)f(259)208
1803 y(mo)q(del,)g(sp)q(eci\014cation)j(as,)d(76)208
1848 y(mo)q(derate)d(in)o(terpretation)j(of)c(Bo)q(olean)j(op-)332
1894 y(erators,)h(296)208 1940 y Fi(module)p FC(,)f(19)208
1985 y(mo)q(dule,)i(19)246 2031 y(correctness,)g(332)246
2077 y(de\014nition,)h(324)246 2122 y(end,)e(21)246 2168
y(\014nding,)i(333)246 2214 y(name,)e(325)246 2259 y(o)o(v)o(erriding,)
i(237)246 2305 y(unit,)f(285,)f(286)208 2351 y(mo)q(dule,)h(constan)o
(t,)f(330)208 2396 y(mo)q(dule,)h(meaning)g(of,)f(317,)g(327{332)208
2442 y(mo)q(dule,)h(standard,)g(272,)f(339)208 2488 y(mo)q(dulus,)h
(21,)f(344)p Black Black 999 391 a FB(Mo)n(dus)g(Ponens)h
FC(Rule,)g(95)999 437 y(monolithic)i(sp)q(eci\014cation,)g(136,)d(167)
999 483 y(m)o(ulti-line)j(commen)o(t,)d(214)999 528 y(m)o(ultiset,)i
(340)999 574 y(m)o(utual)g(recursion,)f(68,)f(233)999
661 y(names)1038 707 y(of)g(mo)q(dules)h(and)g(op)q(erators,)f(325)1038
752 y(of)g(sets,)f(36)999 798 y FB(Nat)19 b FC(\(set)e(of)g(natural)h
(n)o(um)o(b)q(ers\),)g(12,)g(21,)1124 844 y(308,)13 b(344)999
889 y(natural)i(n)o(um)o(b)q(er,)e(11)999 935 y FB(Natur)n(als)h
FC(mo)q(dule,)g(19,)f(344,)g(348)1038 981 y(o)o(v)o(erridden)i(b)o(y)e
(TLC,)f(237)999 1026 y FB(Nbhd)t FC(,)f(174)999 1072
y(negation)k(\()p Fj(:)p FC(\),)d(9,)h(293)1038 1118
y(of)g(temp)q(oral)h(form)o(ula,)f(88)999 1163 y(nested)h(commen)o(ts,)
f(32)999 1209 y(nested)h(quan)o(ti\014ers,)h(13)999 1255
y FB(Next)g FC(\(in)f(TLC\),)e(240)999 1300 y Fc(NEXT)g
FC(statemen)o(t,)h(225,)g(264)999 1346 y(next-state)h(action,)g(16)1038
1392 y(ev)n(aluated)h(b)o(y)e(TLC,)f(237)999 1437 y(next-state)i
(action,)g(\014nding)h(error)e(in,)g(259)999 1483 y(next-state)h
(action,)g(in)o(v)n(arian)o(t)h(of,)d(61)999 1529 y(next-state)i
(action,)g(subaction)h(of,)d(111)999 1574 y(nice)i(temp)q(oral)h(form)o
(ula,)e(236)999 1620 y FB(Nil)t FC(,)f(181)999 1666 y(no)q(de,)i(172)
999 1711 y Fc(noEpilog)c FC(TLA)m(T)1269 1719 y(E)1289
1711 y(X)j(option,)h(214)999 1757 y(non-mac)o(hine-clos)q(ed)i(sp)q
(eci\014cation,)f(200)1038 1803 y(c)o(hec)o(king,)f(230)999
1848 y(non-Zeno)h(sp)q(eci\014cation,)g(130)999 1894
y(nonconstan)o(t)g(op)q(erator,)f(309{316)999 1940 y(nondeterministi)q
(c)i(function,)e(73)999 1985 y(nondeterministi)q(c)i(op)q(erator,)d(73)
999 2031 y(nonin)o(terlea)o(vi)q(ng)j(sp)q(eci\014cation,)g(137)999
2077 y(nonsense,)e(71)999 2122 y(nonsyn)o(tactic)i(gibb)q(erish,)f(69)
999 2168 y(non)o(terminal)h(sym)o(b)q(ol,)e(179)999 2214
y Fc(noProlog)c FC(TLA)m(T)1269 2222 y(E)1289 2214 y(X)j(option,)h(214)
999 2259 y Fc(nops)e FC(TLA)m(T)1191 2267 y(E)1211 2259
y(X)g(option,)i(213)999 2305 y(not,)f FB(se)n(e)i FC(negation)999
2351 y FB(now)t FC(,)e(117)999 2396 y Fc(nowarning)d
FC(TLC)i(option,)i(253)999 2442 y FB(NowNext)t FC(,)d(120)999
2488 y(n)o(um)o(b)q(er,)j(345)p Black Black eop
%%Page: 358 376
358 375 bop Black 208 275 a F4(358)1569 b FR(INDEX)p
208 282 1770 2 v Black 208 391 a Fc(number)10 b FC(TLA)m(T)438
399 y(E)458 391 y(X)j(option,)h(212)208 437 y(n)o(um)o(b)q(er,)f
(natural,)h(11)208 483 y(n)o(um)o(b)q(ers,)f(line,)h(212)208
528 y FB(NZ)5 b FC(,)11 b(130)208 615 y(o)q(ccurrence,)i(b)q(ound,)h
(14)208 661 y(o)q(ccurrence,)f(free,)g(14)208 707 y(Ogata,)f(Kazuhiro,)
j(xvii)208 752 y(one)e(\(1\),)f(345)208 798 y(one-line)j(commen)o(t,)e
(214)208 844 y(one-tuple,)h(306)208 889 y FB(OneOf)7
b FC(,)13 b(182)208 935 y(op)q(en)g(in)o(terv)n(al,)i(174)208
981 y(op)q(en)e(set,)g(177)208 1026 y(op)q(en-system)d(sp)q
(eci\014cation,)i(44,)e(156{158,)332 1072 y(167)246 1118
y(in)o(terface)k(re\014nemen)o(t,)f(165)208 1163 y FB(Op)n(enInterval)t
FC(,)c(174)208 1209 y(op)q(erator,)k(31,)g(317)246 1255
y(application)q(,)i(320)246 1300 y(de\014nition,)g(329)246
1346 y(name,)e(325)246 1392 y(of)g(arithmetic,)h(19)246
1437 y(precedence,)g(271,)f(283)246 1483 y(seman)o(tics,)h(291{316)246
1529 y(sym)o(b)q(ol,)g(user-de\014nable,)h(270)246 1574
y(v)o(ersus)f(function,)g(69{72)208 1620 y(op)q(erator,)f(action,)h
(269,)f(312{314)208 1666 y(op)q(erator,)g(arit)o(y)h(of,)e(318)208
1711 y(op)q(erator,)h(Bo)q(olean,)h(9,)f(293,)g(296)246
1757 y(precedence,)h(10)208 1803 y(op)q(erator,)f(built-in,)i(20)208
1848 y(op)q(erator,)e(constan)o(t,)h(268,)f(291{309)246
1894 y(with)g(argumen)o(ts,)h(46)208 1940 y(op)q(erator,)i(de\014ned)h
(in)f(standard)h(mo)q(dule,)332 1985 y(272)208 2031 y(op)q(erator,)c
(in\014x,)h(270,)f(278,)g(345)208 2077 y(op)q(erator,)g(nonconstan)o
(t,)h(309{316)208 2122 y(op)q(erator,)f(nondeterministi)q(c,)i(73)208
2168 y(op)q(erator,)e(order)h(of,)e(318)208 2214 y(op)q(erator,)h(p)q
(ost\014x,)h(270,)f(278)208 2259 y(op)q(erator,)g(pre\014x,)h(270,)f
(278)208 2305 y(op)q(erator,)g(recursiv)o(e)h(de\014nition)i(of,)d(70)
208 2351 y(op)q(erator,)g(simple)i(Bo)q(olean,)f(236)208
2396 y(op)q(erator,)f(temp)q(oral,)h(269,)f(314{316)208
2442 y(option)h(\(Syn)o(tactic)g(Analyzer\),)g(207)246
2488 y Fc(d)p FC(,)e(207)p Black Black 1038 391 a Fc(s)p
FC(,)g(207)999 437 y(option)j(\(TLA)m(T)1234 445 y(E)1254
437 y(X\),)d(211)1038 483 y Fc(alignOut)p FC(,)d(217)1038
528 y Fc(grayLevel)o FC(,)h(213)1038 574 y Fc(help)p
FC(,)h(212)1038 620 y Fc(hoffset)p FC(,)f(217)1038 665
y Fc(info)p FC(,)h(212)1038 711 y Fc(latexComm)o(and)o
FC(,)f(212)1038 757 y Fc(noEpilog)p FC(,)f(214)1038 802
y Fc(noProlog)p FC(,)g(214)1038 848 y Fc(nops)p FC(,)i(213)1038
894 y Fc(number)p FC(,)f(212)1038 939 y Fc(out)p FC(,)h(217)1038
985 y Fc(ps)p FC(,)g(213)1038 1031 y Fc(psCommand)o FC(,)f(213)1038
1076 y Fc(ptSize)p FC(,)g(216)1038 1122 y Fc(shade)p
FC(,)g(212)1038 1168 y Fc(style)p FC(,)g(218)1038 1213
y Fc(textheigh)o(t)p FC(,)f(216)1038 1259 y Fc(textwidth)o
FC(,)h(216)1038 1305 y Fc(tlaOut)p FC(,)g(218)1038 1350
y Fc(voffset)p FC(,)g(217)999 1396 y(option)15 b(\(TLC\),)d(251)1038
1442 y Fc(aril)p FC(,)f(243,)i(251)1038 1487 y Fc(cleanup)p
FC(,)d(252)1038 1533 y Fc(config)p FC(,)g(253)1038 1579
y Fc(coverage)p FC(,)f(227,)k(252,)g(258)1038 1624 y
Fc(deadlock)p FC(,)c(242,)k(251)1038 1670 y Fc(depth)p
FC(,)d(243,)j(251)1038 1716 y Fc(difftrace)o FC(,)d(252,)j(259)1038
1761 y Fc(key)p FC(,)e(243)1038 1807 y Fc(nowarning)o
FC(,)f(253)1038 1853 y Fc(recover)p FC(,)g(252,)j(255,)g(260)1038
1898 y Fc(seed)p FC(,)e(251)1038 1944 y Fc(simulate)p
FC(,)e(251)1038 1989 y Fc(terse)p FC(,)h(252)1038 2035
y Fc(workers)p FC(,)g(253)999 2081 y(option)15 b(argumen)o(t)f(\(TLA)m
(T)1406 2089 y(E)1426 2081 y(X\),)e(211)999 2126 y(or)h(\()p
Fj(_)p FC(\),)f FB(se)n(e)j FC(disjunction)999 2172 y(order)f(of)f(an)g
(op)q(erator,)g(318)999 2218 y(order,)g(irre\015exiv)o(e)j(partial,)e
(71)999 2263 y(order,)f(total,)h(191)999 2309 y Fi(other)p
FC(,)f(298)999 2355 y Fc(out)f FC(TLA)m(T)1171 2363 y(E)1191
2355 y(X)h(option,)h(217)999 2400 y(output)g(of)f(TLC,)f(253)999
2446 y(o)o(v)o(erriding)1038 2492 y(a)h(de\014nition,)i(234,)e(235)p
Black Black eop
%%Page: 359 377
359 376 bop Black 208 275 a FR(INDEX)1570 b F4(359)p
208 282 1770 2 v Black 246 391 a FC(a)13 b(mo)q(dule,)h(237)208
478 y(pac)o(k)n(age,)f FB(tlatex)5 b FC(,)10 b(218)208
524 y(P)o(ahala)o(w)o(atta,)k(Kapila,)g(xvii)208 570
y(P)o(alais,)g(Ric)o(hard,)g(xvii)208 615 y(parado)o(x,)f(Russell's,)i
(66)208 661 y FB(p)n(ar)n(ameter)t Fh(;)t(\025)p FC(,)e(319)208
707 y(parameter,)g(action,)h(46)208 752 y(parameter,)f(constan)o(t,)g
(25,)g(45)208 798 y(parametrized)h(instan)o(tiation)q(,)h(39)208
844 y(paren)o(t)e(\(in)h(a)f(tree\),)f(174)208 889 y(paren)o(theses,)i
(10,)e(284,)i(287)208 935 y(paren)o(theses,)g(eliminating,)i(26)208
981 y(parsing,)e(179)208 1026 y(partial)g(order,)f(irre\015exiv)o(e,)i
(71)208 1072 y(path,)e(173)208 1118 y(PDF)g(\014le,)g(211,)g(212)208
1163 y FB(Pe)n(ano)g FC(mo)q(dule,)h(308,)f(344,)g(345)208
1209 y(P)o(eano's)g(axioms,)h(344)208 1255 y(p)q(erformance,)f(2)208
1300 y(p)q(erm)o(utation,)h(245)208 1346 y FB(Permutations)s
FC(,)c(245,)j(250)208 1392 y(philosoph)o(y)m(,)i(Greek,)e(128)208
1437 y(Pn)o(ueli,)h(Amir,)f(2)208 1483 y(p)q(oin)o(t)h(\(unit)g(of)f
(measure\),)g(216)208 1529 y FB(PosR)n(e)n(al)t FC(,)d(174)208
1574 y(p)q(ossibilit)o(y)n(,)15 b(113)208 1620 y(p)q(ost\014x)f(op)q
(erator,)f(270,)g(278)208 1666 y(P)o(ostScript,)h(211,)f(212)208
1711 y(p)q(o)o(w)o(er)g(set,)f(65)208 1757 y(precedence,)h(10)246
1803 y(of)g(Bo)q(olean)h(op)q(erator,)g(10)246 1848 y(of)f(op)q
(erators,)g(271,)g(283)246 1894 y(of)g(temp)q(oral)h(op)q(erators,)g
(92)246 1940 y(range,)f(283)208 1985 y(predicate)h(logic,)g(12{14,)g
(293)208 2031 y(predicate,)g(initial,)h(16)246 2077 y(ev)n(aluated)g(b)
o(y)e(TLC,)f(254)208 2122 y(predicate,)i(state,)e FB(se)n(e)j
FC(state)e(predicate)208 2168 y(pre\014x)g(op)q(erator,)h(270,)f(278)
208 2214 y(prime)g(\()331 2198 y FX(0)343 2214 y FC(\),)f(16,)h(82,)g
(312,)g(313)208 2259 y(prime)g(\()331 2243 y FX(0)343
2259 y FC(\),)f(double,)i(322)208 2305 y(primitiv)o(e)h(op)q(erator)f
(of)e(seman)o(tics,)i(292)208 2351 y FB(Print)t FC(,)d(249,)i(259)208
2396 y(pro)q(cessor,)g(47)208 2442 y(pro)q(duct,)g(Cartesian,)h(53,)f
(306)208 2488 y(pro)q(duction)i(\(of)d(grammar\),)i(179)p
Black Black 999 391 a(program)g(in)o(terface,)g(3,)e(78)999
437 y(programming)j(language,)g(3,)e(67)999 483 y(pro)q(of)1038
528 y(b)o(y)g(con)o(tradiction,)i(102)1038 574 y(of)e(implemen)o
(tation,)i(62{64)1038 620 y(of)e(in)o(v)n(ariance,)i(62)1038
665 y(rule,)e(temp)q(oral,)h(95)1038 711 y(rule,)f(TLA,)f(18)999
757 y(prop)q(ert)o(y)i(c)o(hec)o(king)h(b)o(y)e(TLC,)f(229,)h(240)999
802 y(prop)q(ert)o(y)h(conjunct,)g(240)999 848 y Fc(PROPERTY)c
FC(statemen)o(t,)j(225,)g(237)999 894 y(prop)q(ert)o(y)m(,)h(b)q(eha)o
(vioral,)h(1)999 939 y(prop)q(ert)o(y)m(,)f(functional,)h(1)999
985 y(prop)q(ert)o(y)m(,)f(liv)o(eness,)h(3,)d(87)1038
1031 y(c)o(hec)o(k)o(ed)i(b)o(y)f(TLC,)f(228,)h(242,)g(247)999
1076 y(prop)q(ert)o(y)m(,)h(logical,)h(1)999 1122 y(prop)q(ert)o(y)m(,)
f(safet)o(y)m(,)e(3,)h(87,)g(153)999 1168 y(prop)q(ositiona)q(l)j
(logic,)e(9{11,)g(293)999 1213 y(proto)q(col,)h(alternating)g(bit,)e
(222)999 1259 y(proto)q(col,)i(handshak)o(e,)f(23)999
1305 y FB(Pr)n(otoR)n(e)n(als)g FC(mo)q(dule,)g(308,)f(344,)g(346)999
1350 y Fc(ps)f FC(TLA)m(T)1151 1358 y(E)1171 1350 y(X)h(option,)h(213)
999 1396 y Fc(psCommand)c FC(TLA)m(T)1289 1404 y(E)1309
1396 y(X)i(option,)i(213)999 1442 y(pseudo-random)d(n)o(um)o(b)q(er)f
(generator,)g(243,)1124 1487 y(251)999 1533 y Fc(ptSize)h
FC(TLA)m(T)1230 1541 y(E)1250 1533 y(X)h(option,)j(216)999
1620 y(quan)o(ti\014cation)q(,)g(82)1038 1666 y(of)e(temp)q(oral)h
(form)o(ula,)f(88,)g(109{110)1038 1711 y(o)o(v)o(er)g(tuple,)h(293)999
1757 y(quan)o(ti\014cation)q(,)h(b)q(ounded,)g(13,)e(293)999
1803 y(quan)o(ti\014cation)q(,)i(existen)o(tial)h(\()p
Fj(9)7 b FC(\),)12 b(12)999 1848 y(quan)o(ti\014cation)q(,)g(un)o(b)q
(ounded,)f(13,)f(232,)g(293)999 1894 y(quan)o(ti\014cation)q(,)15
b(univ)o(ersal)h(\()p Fj(8)6 b FC(\),)13 b(12)999 1940
y(quan)o(ti\014er,)i(12,)e(293)1038 1985 y(nesting,)h(13)1038
2031 y(parsing,)g(284)999 2077 y(Quan)o(ti\014er)h(Rule,)f(WF,)f(105)
999 2122 y(queue)21 b(of)f(unexplored)j(states)d(\()p
Fj(U)t FC(\),)h(241,)1124 2168 y(254)999 2214 y(quote,)14
b(double)g(\()p Fc(")p FC(\),)e(216,)h(307)999 2259 y(quotes,)h(single)
h(\()p Fc(`)6 b FC(.)g(.)g(.)g Fc(')p FC(\),)12 b(214)999
2346 y(range)i(of)f(a)g(function,)h(48)999 2392 y(range,)g(precedence,)
g(283)999 2438 y FB(R)n(d)t FC(,)e(186)999 2483 y(reac)o(hable)j
(state,)e(226)p Black Black eop
%%Page: 360 378
360 377 bop Black 208 275 a F4(360)1569 b FR(INDEX)p
208 282 1770 2 v Black 208 391 a FB(R)n(e)n(al)13 b FC(\(set)d(of)h
(real)g(n)o(um)o(b)q(ers\),)g(67,)g(308,)g(344)208 437
y(real)i(time,)g(117{134)208 483 y(real-time)246 528
y(b)q(ound,)h(122)246 574 y(cac)o(hing)h(memory)m(,)d(124{128)246
620 y(constrain)o(t,)i(119)332 665 y(implemen)o(ting,)i(126)332
711 y(on)d(disjunction,)j(128)246 757 y(constrain)o(ts,)e(com)o
(bining,)i(128)246 802 y(hour)e(clo)q(c)o(k,)f(117{121)208
848 y FB(R)n(e)n(als)h FC(mo)q(dule,)g(344,)f(348)208
894 y FB(R)n(e)n(alTime)h FC(mo)q(dule,)h(123,)e(125)208
939 y FB(R)n(e)n(alTimeHourClo)n(ck)h FC(mo)q(dule,)g(119,)f(121)208
985 y(reasoning,)h(assertional,)h(2)208 1031 y(receiv)o(er,)e(23,)g
(35,)g(144,)g(222)246 1076 y(comp)q(onen)o(t,)h(135,)f(140)208
1122 y(record,)g(28,)g(305)246 1168 y(as)g(function,)h(49,)f(50)246
1213 y(\014eld,)h(28)208 1259 y Fc(recover)c FC(TLC)i(option,)i(252,)f
(255,)g(260)208 1305 y(recursion,)h(m)o(utual,)g(68,)f(233)208
1350 y(recursiv)o(e)d(function)h(de\014nition,)h(54,)d(67{69,)332
1396 y(302)246 1442 y(ev)n(aluated)15 b(b)o(y)e(TLC,)f(233)208
1487 y(redeclaration,)j(32)208 1533 y(reduction,)f Fh(\014)r
FC(,)e(319)208 1579 y(re\014nemen)o(t)h(mapping,)i(63,)e(228)246
1624 y(and)h(fairness,)f(114)208 1670 y(re\014nemen)o(t)g(of)g(c)o
(hannel,)i(159)208 1716 y(re\014nemen)o(t,)e(data,)g(164)208
1761 y(re\014nemen)o(t,)k(in)o(terface,)h FB(se)n(e)g
FC(in)o(terface)f(re-)332 1807 y(\014nemen)o(t)208 1853
y FB(R)n(e)n(gisterInterfa)o(c)n(e)12 b FC(mo)q(dule,)i(185,)f(186)208
1898 y(relation)h(as)g(set)f(of)f(pairs,)i(191)208 1944
y(relation,)j(next-state,)f FB(se)n(e)g FC(next-state)g(ac-)332
1989 y(tion)208 2035 y(relativ)o(e)e(complexit)o(y)m(,)h(254)208
2081 y(rely-guaran)o(tee)f(sp)q(eci\014cation)q(,)h(156)208
2126 y(renaming,)f(instan)o(tiation)i(without,)e(40)208
2172 y(renaming,)g(parameter,)f(319)208 2218 y(rep)q(eatedly)h
(enabled,)h(124)208 2263 y(replacemen)o(t)f(in)g(TLC,)e(234,)h(261)208
2309 y(request,)g(47)208 2355 y(resource,)g(shared,)h(127)208
2400 y(resp)q(onse,)f(47)208 2446 y(rigid)h(v)n(ariable,)h(110)208
2492 y(ro)q(ot)e(of)f(\014le)i(name,)f(217)p Black Black
999 391 a(ro)q(ot)h(of)e(tree,)h(174)999 437 y(round-robin)j(sc)o
(heduling,)f(127)999 483 y FB(R)m(TBound)t FC(,)c(122)999
528 y FB(R)m(TMemory)17 b FC(mo)q(dule,)d(125,)f(126)999
574 y FB(R)m(Tnow)t FC(,)g(120,)g(123)999 620 y FB(R)m(TWriteThr)n
(oughCache)h FC(mo)q(dule,)g(129)999 665 y(Rudalics,)i(Martin,)d(xvii)
999 711 y(run)h(iden)o(ti\014er,)h(252,)e(255)999 757
y(running)i(the)f(Syn)o(tactic)g(Analyzer,)g(207)999
802 y(running)h(TLA)m(T)1242 810 y(E)1262 802 y(X,)e(211)999
848 y(running)i(TLC,)d(251)999 894 y(Russell's)j(parado)o(x,)f(66)999
981 y Fc(s)f FC(Syn)o(tactic)h(Analyzer)h(option,)f(207)999
1026 y(safet)o(y)f(prop)q(ert)o(y)m(,)h(3,)f(87,)f(153)999
1072 y(Sam)o(b)q(orski,)j(Dmitri,)f(211)999 1118 y(scenario,)h(186)999
1163 y(sc)o(heduling)h(shared)e(resource,)g(127)999 1209
y(sc)o(heduling,)i(round-robin,)f(127)999 1255 y(Sc)o(hreiner,)g(W)m
(olfgang,)f(xvii)999 1300 y(scop)q(e,)g(31)999 1346 y(second)g(\(unit)g
(of)f(time\),)g(117)999 1392 y(seed,)g(243,)h(251,)f(254)999
1437 y Fc(seed)f FC(TLC)g(option,)i(251)999 1483 y FB(Sele)n(ctSe)n(q)s
FC(,)c(339)999 1529 y(seman)o(tic)1038 1574 y(correctness,)j(333)1038
1620 y(error,)g(208)1038 1666 y(part)g(of)g(syn)o(tax,)g(275,)g(291)999
1711 y(seman)o(tics)i(of)d(TLA)1298 1696 y FK(+)1317
1711 y FC(,)g(317)1038 1757 y(deviation)j(b)o(y)f(TLC,)d(262)999
1803 y(seman)o(tics,)j(formal,)g(292)999 1848 y(seman)o(tics,)g
(primitiv)o(e)i(op)q(erator)e(of,)e(292)999 1894 y(sender,)i(23,)f(35,)
g(144,)g(222)1038 1940 y(comp)q(onen)o(t,)h(135,)f(140)999
1985 y(sen)o(tence,)h(179)999 2031 y FB(Se)n(q)s FC(,)e(35)999
2077 y(sequence,)i(35,)f(53,)g(306)999 2122 y FB(Se)n(quenc)n(es)g
FC(mo)q(dule,)h(35,)f(53,)g(339,)g(341)1038 2168 y(o)o(v)o(erridden)i
(b)o(y)e(TLC,)f(237)999 2214 y(sequen)o(tiall)q(y)k(consisten)o(t)e
(memory)m(,)f(195)999 2259 y(serial)i(memory)m(,)e(188)999
2305 y FB(SerialMemory)i FC(mo)q(dule,)f(195)999 2351
y(set,)f(11,)g(65{66)1038 2396 y(constructor,)g(66,)g(299)1038
2442 y(di\013erence)i(\()p Fj(n)p FC(\),)d(12)1038 2488
y(equalit)o(y)m(,)i(12,)f(300)p Black Black eop
%%Page: 361 379
361 378 bop Black 208 275 a FR(INDEX)1570 b F4(361)p
208 282 1770 2 v Black 246 391 a FC(of)13 b(all)h(sets,)f(66)246
437 y(theory)m(,)g(3,)g(11,)g(43,)f(300)208 483 y(set,)g(empt)o(y)m(,)h
(12)208 528 y(set,)f(op)q(en,)i(177)208 574 y(set,)e(p)q(o)o(w)o(er,)h
(65)208 620 y(set,)f(symmetry)m(,)h(246)208 665 y(set,)f(to)q(o)h(big)h
(to)f(b)q(e,)g(66)208 711 y(sets,)f(collection)k(of)d(all,)h(66)208
757 y(sets,)e(naming,)j(36)208 802 y FB(SetT)m(oBag)s
FC(,)c(342)208 848 y(SF,)h(106,)h(285,)h(314)246 894
y(and)g(instan)o(tiation,)i(337)208 939 y(SF)d(Conjunction)h(Rule,)g
(106)208 985 y Fc(shade)c FC(TLA)m(T)418 993 y(E)438
985 y(X)j(option,)h(212)208 1031 y(shading)h(commen)o(ts,)e(212)208
1076 y(shared)g(resource,)h(sc)o(heduling,)h(127)208
1122 y(shared-state)246 1168 y(comp)q(osition,)g(142{149)246
1213 y(sp)q(eci\014cation,)g(151)208 1259 y(Shared-State)f(Comp)q
(osition)h(Rule,)f(146)208 1305 y(silly)h(expression,)f(67,)f(222)246
1350 y(ev)n(aluated)i(b)o(y)e(TLC,)f(256)208 1396 y(simple)246
1442 y(action)i(form)o(ula,)g(236)246 1487 y(Bo)q(olean)h(op)q(erator,)
e(236)246 1533 y(temp)q(oral)h(form)o(ula,)g(236)208
1579 y Fc(simulate)9 b FC(TLC)k(option,)h(251)208 1624
y(sim)o(ulation,)h(226,)e(243,)g(251)208 1670 y(sim)o(ulation,)i(step,)
e(63)246 1716 y(c)o(hec)o(k)o(ed)h(b)o(y)f(TLC,)f(242)208
1761 y(single)i(quotes)g(\()p Fc(`)6 b FC(.)g(.)g(.)g
Fc(')p FC(\),)12 b(214)208 1807 y FB(Sort)t FC(,)f(235,)i(250)208
1853 y FB(SortSe)n(q)s FC(,)d(250)208 1898 y(sound,)j(296)208
1944 y(space)g(c)o(haracter,)g(290,)h(307)208 1989 y(space)f(in)h
(commen)o(t,)f(213)208 2035 y(sp)q(eci\014cation,)i(1)246
2081 y(as)e(abstraction,)i(24)246 2126 y(as)e(mo)q(del,)h(76)246
2172 y(b)o(y)f(scien)o(tists,)i(15)246 2218 y(conjunct,)e(240)246
2263 y(in)o(v)n(arian)o(t,)i(25)246 2309 y(parameter,)e(25,)g(45)246
2355 y(splitting,)i(34)246 2400 y(standard)f(form,)f(221)246
2446 y(structure,)g(32{34)208 2492 y Fc(SPECIFIC)o(ATI)o(ON)5
b FC(statemen)o(t,)10 b(225,)f(237,)h(264)p Black Black
999 391 a(sp)q(eci\014cation,)16 b(assume-guaran)o(tee,)e(156)999
437 y(sp)q(eci\014cation,)i(b)q(ene\014ts)e(of,)e(75)999
483 y(sp)q(eci\014cation,)k(closed-system,)e(44,)f(167)999
528 y(sp)q(eci\014cation,)j(coarser-grained,)f(76)999
574 y(sp)q(eci\014cation,)g(complete-system,)e(44,)f(156)999
620 y(sp)q(eci\014cation,)k(disjoin)o(t-state,)e(151)999
665 y(sp)q(eci\014cation,)i FB(ex)d(p)n(ost)f(facto)p
FC(,)f(228)999 711 y(sp)q(eci\014cation,)16 b(\014ner-grained,)f(76)999
757 y(sp)q(eci\014cation,)h(high-lev)o(el,)f(132,)e(169)999
802 y(sp)q(eci\014cation,)j(h)o(ybrid,)e(132{133)999
848 y(sp)q(eci\014cation,)i(in)o(terlea)o(ving,)g(137,)d(151)999
894 y(sp)q(eci\014cation,)j(lo)o(w)o(er-lev)o(el,)e(169)999
939 y(sp)q(eci\014cation,)i(monolithic,)f(136,)f(167)999
985 y(sp)q(eci\014cation,)i(non-mac)o(hine-closed,)g(200)1038
1031 y(c)o(hec)o(king,)e(230)999 1076 y(sp)q(eci\014cation,)i
(non-Zeno,)e(130)999 1122 y(sp)q(eci\014cation,)i(nonin)o(terlea)o(vi)q
(ng,)g(137)999 1168 y(sp)q(eci\014cation,)d(op)q(en-system,)d(44,)f
(156{158,)1124 1213 y(167)999 1259 y(sp)q(eci\014cation,)16
b(rely-guaran)o(tee,)f(156)999 1305 y(sp)q(eci\014cation,)h
(shared-state,)e(151)999 1350 y(sp)q(eci\014cation,)i(Zeno,)d(128{132)
999 1396 y(sp)q(eci\014cations)q(,)h(comp)q(osition)g(of,)d(135,)g(168)
999 1442 y(splitting)16 b(a)d(sp)q(eci\014cation,)j(34)999
1487 y FB(SR)m(TBound)t FC(,)11 b(124)999 1533 y(standard)k(form)d(of)h
(sp)q(eci\014cation,)j(221)999 1579 y(standard)f(mo)q(dule,)f(339)999
1624 y(standard)f(mo)q(dule,)h(op)q(erators)e(de\014ned)h(in,)1124
1670 y(272)999 1716 y(state,)g(15,)g(18,)g(30,)g(310,)g(311)1038
1761 y(computed)h(b)o(y)f(TLC,)f(237)1038 1807 y(in)i
Fj(G)r FC(,)e(241)1038 1853 y(prin)o(ted)i(b)o(y)g(TLC,)d(256)1038
1898 y(sp)q(ecifying)k(univ)o(erse,)f(18)999 1944 y(state)f(form)o
(ula,)h(temp)q(oral,)g(236)999 1989 y(state)f(function,)i(25,)d
(310{312)1038 2035 y(basic,)i(311)999 2081 y(state)f(graph)h(\()p
Fj(G)r FC(\),)f(241)1038 2126 y(diameter,)h(254)999 2172
y(state)f(predicate,)i(25,)d(310,)i(311)1038 2218 y(as)f(temp)q(oral)h
(form)o(ula,)g(88)999 2263 y(state,)f(initial,)j(16)1038
2309 y(computed)e(b)o(y)f(TLC,)f(237,)h(240,)g(241)999
2355 y(state,)g(reac)o(hable,)i(226)999 2400 y(state,)e(successor,)h
(237)999 2446 y(state-lev)o(el)h(expression,)g(322)999
2492 y(step,)e(16,)g(151,)g(312)p Black Black eop
%%Page: 362 380
362 379 bop Black 208 275 a F4(362)1569 b FR(INDEX)p
208 282 1770 2 v Black 246 391 a FC(satisfying)15 b(an)e(action,)h(16)
246 437 y(stuttering,)g(315)208 483 y(step)f(sim)o(ulation,)i(63)246
528 y(c)o(hec)o(k)o(ed)f(b)o(y)f(TLC,)f(242)208 574 y(step,)h
(discrete,)g(15)208 620 y(step,)g(gran)o(ularit)o(y)i(of,)d(24,)h
(76{78)208 665 y(step,)g(stuttering,)h(17,)e(90)208 711
y Fi(string)p FC(,)h(180,)g(307,)g(308)208 757 y(string,)g(182,)g(307)
246 802 y(represen)o(ted)h(b)o(y)f(TLC,)f(262)208 848
y(strong)h(fairness,)h(106{107)208 894 y(strong)f(real-time)h(b)q
(ound,)g(124)208 939 y(strongly)g(connected,)g(174)208
985 y(structure)f(of)g(a)g(sp)q(eci\014cation,)i(32{34)208
1031 y(stuttering)f(step,)f(17,)g(90,)g(315)208 1076
y(stuttering,)h(in)o(v)n(arian)o(t)h(under,)e(90)208
1122 y Fc(style)d FC(TLA)m(T)418 1130 y(E)438 1122 y(X)j(option,)h(218)
208 1168 y(subaction,)g(111,)f(131)208 1213 y FB(SubBag)s
FC(,)d(342)208 1259 y(subgraph,)k(173)208 1305 y(submo)q(dule,)h(119,)e
(125,)g(141,)g(327,)g(332)208 1350 y(subscript,)h(96,)f(153,)g(285)208
1396 y FB(SubSe)n(q)s FC(,)d(339)208 1442 y(subsequence)15
b(op)q(erator,)e(339)208 1487 y Fi(subset)p FC(,)f(65,)h(299,)g(300)208
1533 y(subset,)g(12)208 1579 y(substitution,)i(334)208
1624 y(substitution,)d(implicit)f(\(in)f Fi(inst)n(ance)p
FC(\),)f(40)208 1670 y(substitution,)15 b(instan)o(tiation)h(as,)d(37)
208 1716 y FB(suc)n(c)r FC(,)e(49)208 1761 y(successor)j(function,)g
(49,)e(308)208 1807 y(successor)i(state,)e(237)208 1853
y(sym)o(b)q(ol,)i(31)246 1898 y(user-de\014nable,)h(270)208
1944 y(sym)o(b)q(ol,)f Fi(asci)q(i)f FC(represen)o(tation,)i(19,)e(273)
208 1989 y(sym)o(b)q(ol,)h(non)o(terminal,)h(179)208
2035 y(sym)o(b)q(ol,)f(terminal,)g(179)208 2081 y(symmetry)m(,)f(245,)g
(250)208 2126 y(symmetry)g(set,)g(246)208 2172 y Fc(SYMMETRY)c
FC(statemen)o(t,)k(245,)g(264)208 2218 y(sync)o(hronization,)j
(barrier,)e(149)208 2263 y(Syn)o(tactic)g(Analyzer,)g(207)208
2309 y(syn)o(tactic)g(error,)f(208)208 2355 y(syn)o(tactically)j
(correct,)d(325)208 2400 y(syn)o(tax,)g(275)208 2446
y(syn)o(tax,)g(seman)o(tic)h(conditions)i(of,)c(291)208
2492 y(system,)h(156)p Black Black 999 391 a(system)h(v)o(ersus)f(en)o
(vironmen)o(t,)i(43)999 437 y(system,)e(async)o(hronous,)i(3)999
483 y(system,)e(distributed,)j(3)999 528 y(system,)d(h)o(ybrid,)i(132)
999 574 y(system,)e(memory)m(,)g(45)999 661 y(tab)h(c)o(haracter,)f
(287,)g(290,)g(307)999 707 y(table,)h(truth,)f(10,)g(11)999
752 y FB(T)m(ail)t FC(,)f(36,)h(53)999 798 y(tautology)1038
844 y(c)o(hec)o(king)h(with)g(TLC,)e(261)1038 889 y(of)h(predicate)h
(logic,)g(13)1038 935 y(of)f(prop)q(ositional)j(logic,)f(11,)d(296)1038
981 y(of)h(temp)q(oral)h(logic,)g(92{95)1038 1026 y(v)o(ersus)f(pro)q
(of)h(rule,)f(95)999 1072 y(tautology)m(,)i(dual,)f(93)999
1118 y(temp)q(oral)1038 1163 y(existen)o(tial)i(quan)o(ti\014cation,)g
FB(se)n(e)f FC(hiding)1124 1209 y(v)n(ariables)1038 1255
y(form)o(ula,)e(18,)g(88{92,)h(314)1124 1300 y(c)o(hec)o(k)o(ed)g(b)o
(y)f(TLC,)f(242)1124 1346 y(ev)n(aluated)j(b)o(y)e(TLC,)f(235)1124
1392 y(syn)o(tax,)h(288)1124 1437 y(v)n(alid,)h(315)1038
1483 y(form)o(ula,)f(meaning)i(of,)d(88)1038 1529 y(form)o(ula,)h
(nice,)h(236)1038 1574 y(form)o(ula,)f(simple,)i(236)1038
1620 y(logic,)f(2,)f(116)1124 1666 y(tautology)m(,)h(92{95)1038
1711 y(logic)g(of)f(actions,)h(2)1038 1757 y(op)q(erator,)f(269,)g
(314{316)1124 1803 y(precedence,)h(92)1038 1848 y(pro)q(of)f(rule,)h
(95)1038 1894 y(state)f(form)o(ula,)g(236)1038 1940 y(theorem,)g(92)
1038 1985 y(univ)o(ersal)i(quan)o(ti\014cation)q(,)g(110,)e(315)999
2031 y FB(T)m(emp)n(or)n(al)j FC(\(in)e(TLC\),)e(240)999
2077 y(temp)q(oral-lev)o(el)k(expression,)f(322)999 2122
y(terminal)g(sym)o(b)q(ol,)f(179)999 2168 y(terminating)i(execution,)e
(17)999 2214 y(termination,)h(222)999 2259 y Fc(terse)c
FC(TLC)i(option,)h(252)999 2305 y(T)1021 2313 y(E)1042
2305 y(X,)e(19,)h(211)999 2351 y Fc(textheight)c FC(TLA)m(T)1308
2359 y(E)1328 2351 y(X)k(option,)h(216)999 2396 y Fc(textwidth)c
FC(TLA)m(T)1289 2404 y(E)1309 2396 y(X)i(option,)i(216)999
2442 y Fi(theorem)p FC(,)f(20,)g(327,)g(332)999 2488
y(theorem,)g(18,)g(327,)g(332)p Black Black eop
%%Page: 363 381
363 380 bop Black 208 275 a FR(INDEX)1570 b F4(363)p
208 282 1770 2 v Black 208 391 a FC(theorem,)13 b(temp)q(oral,)h(92)208
437 y(thinking,)h(83)208 483 y FB(Thm)s FC(,)d(327)208
528 y(threads)h(used)h(b)o(y)f(TLC,)f(242,)h(253)208
574 y(time,)g(real,)g(117{134)208 620 y(time,)g(unit)h(of,)e(117)208
665 y FB(Timer)t FC(,)g(119,)h(123)208 711 y(timer,)g(118)208
757 y(TLA,)f(2)208 802 y(TLA)g(pro)q(of)h(rule,)h(18)208
848 y(TLA)9 b(W)m(eb)h(page,)h(1,)f(19,)h(63,)f(207,)h(211,)f(221)208
894 y(TLA)289 878 y FK(+)307 894 y FC(,)j(3)208 939 y
Fc(tlaOut)d FC(TLA)m(T)438 947 y(E)458 939 y(X)j(option,)h(218)208
985 y FB(TLAPlusGr)n(ammar)h FC(mo)q(dule,)g(276)208
1031 y(TLA)m(T)308 1039 y(E)328 1031 y(X,)d(211,)h(286,)g(288)246
1076 y(output)h(\014les,)f(217)246 1122 y(W)m(eb)g(page,)h(211)208
1168 y(TLA)m(T)308 1176 y(E)328 1168 y(X,)e(running,)i(211)208
1213 y FB(tlatex)h FC(L)325 1205 y FK(A)342 1213 y FC(T)364
1221 y(E)384 1213 y(X)e(pac)o(k)n(age,)h(218)208 1259
y(TLC,)d(221{264)208 1305 y FB(TLC)19 b FC(mo)q(dule,)14
b(248)246 1350 y(o)o(v)o(erridden)h(b)o(y)e(TLC,)f(237)208
1396 y(TLC)g(v)n(alue,)i(230)208 1442 y(TLC,)d(running,)k(251)208
1487 y FB(T)m(ok)t FC(,)d(182)208 1533 y FB(tok)t FC(,)f(180)208
1579 y(tok)o(en,)i(180)208 1624 y(to)q(ol,)g(TLA)377
1608 y FK(+)396 1624 y FC(,)f(1,)h(3,)f(207)208 1670
y(total)h(order,)g(191)208 1716 y(trace,)f(TLC)h(error,)f(247,)h(252,)g
(259)208 1761 y(transition)i(function,)f(312)208 1807
y(transition)h(function,)f(basic,)g(313)208 1853 y(transition-lev)o(el)
i(expression,)f(322)208 1898 y(transitiv)o(e,)f(191)208
1944 y(transmission)h(line,)f(FIF)o(O,)f(222)208 1989
y(tree,)f(174)208 2035 y Fi(tr)o(ue)p FC(,)h(9,)f(293)208
2081 y(truth)h(table,)h(10,)e(11)208 2126 y(tuple,)h(27,)g(53,)g(306)
208 2172 y(tuple,)g(quan)o(ti\014cation)k(o)o(v)o(er,)12
b(293)208 2218 y(tuple,)h(sequence)i(as,)d(35)208 2263
y(T)m(uttle,)g(Mark,)i(xvii,)g(221)208 2309 y(t)o(w)o(o-phase)f
(handshak)o(e,)i(23)208 2355 y(t)o(yp)q(e)e(in)h(programming)h
(language,)f(67)208 2400 y(t)o(yp)q(e)f(in)o(v)n(arian)o(t,)i(25,)e(80)
208 2446 y(t)o(yp)q(e)g(of)g(a)g(v)n(ariable,)h(25,)f(30)208
2492 y(t)o(yp)q(esetting)h(sp)q(eci\014cations,)i(19,)d(211)p
Black Black 999 391 a Fj(U)t FC(,)g(241,)g(254)999 437
y(uid,)h(1)999 483 y(un)o(b)q(ounded)g(quan)o(ti\014cation,)g(13,)e
(232,)f(293)999 528 y Fi(unchanged)p FC(,)i(26,)f(312)1038
574 y(ev)n(aluated)j(b)o(y)e(TLC,)f(238)999 620 y(undirected)j(graph,)f
(173)999 665 y Fi(union)p FC(,)f(65,)f(299,)i(300)999
711 y(union)h(\()p Fj([)p FC(\),)d(12)999 757 y(unit)i(of)f(time,)g
(117)999 802 y(unit,)h(mo)q(dule,)g(285,)f(286)999 848
y(univ)o(ersal)j(quan)o(ti\014cation)g(\()p Fj(8)7 b
FC(\),)12 b(12,)h(293)1038 894 y(as)g(conjunction,)i(13,)d(105)1038
939 y(ev)n(aluated)j(b)o(y)e(TLC,)f(232)999 985 y(univ)o(ersal)g(quan)o
(ti\014cation,)g(temp)q(oral,)f(110,)1124 1031 y(315)999
1076 y(univ)o(erse)k(sp)q(eci\014ed)g(b)o(y)e(state,)g(18,)g(43,)g(135)
999 1122 y(unless,)i(102)999 1168 y(un)o(t)o(yp)q(ed,)f(30,)f(67,)g
(296)999 1213 y(URL,)g(1)999 1259 y(user-de\014nable)j(sym)o(b)q(ol,)e
(270)999 1346 y(v)n(alid)h(form)o(ula,)f(18,)f(309)999
1392 y(v)n(alid)i(temp)q(oral)f(form)o(ula,)g(315)999
1437 y(v)n(alue,)g(310)999 1483 y(v)n(alue)h(as)e(set,)f(43)999
1529 y(v)n(alue,)i(Bo)q(olean,)h(9)999 1574 y(v)n(alue,)f(memory)m(,)f
(47)999 1620 y(v)n(alue,)h(mo)q(del,)g(230,)f(259)999
1666 y(v)n(alue,)h(TLC,)e(230)999 1711 y(v)n(alues,)i(comparable,)h
(231,)e(264)999 1757 y Fi(v)m(ariable)p FC(,)g(19,)g(327,)g(329)999
1803 y(v)n(ariable)1038 1848 y(capture,)g(335)1038 1894
y(declaration,)i(19)1038 1940 y(hiding,)g FB(se)n(e)f
FC(hiding)i(v)n(ariables)999 1985 y(v)n(ariable,)f(b)q(ound,)f(14,)f
(109)999 2031 y(v)n(ariable,)i(debugging,)g(244)999 2077
y(v)n(ariable,)g(\015exible,)g(110)999 2122 y(v)n(ariable,)g(free,)e
(14)999 2168 y(v)n(ariable,)i(in)o(ternal,)g(41,)e(111)999
2214 y(v)n(ariable,)i(rigid,)f(110)999 2259 y(v)n(ariable,)h(t)o(yp)q
(e)f(of,)e(25,)h(30)999 2305 y(v)n(ariable,)i(visible,)g(41)999
2351 y Fi(v)m(ariables)p FC(,)e(25)999 2396 y(v)o(ersion)i(of)e(TLC,)e
(221)999 2442 y(view,)j(243)999 2488 y Fc(VIEW)e FC(statemen)o(t,)h
(243,)g(264)p Black Black eop
%%Page: 364 382
364 381 bop Black 208 275 a F4(364)1569 b FR(INDEX)p
208 282 1770 2 v Black 208 391 a FC(visible)15 b(v)n(ariable,)g(41)208
437 y Fc(voffset)10 b FC(TLA)m(T)458 445 y(E)478 437
y(X)i(option,)i(217)208 524 y(w)o(eak)f(fairness,)g(96{100)246
570 y(real-time)h(analog,)g(122)208 615 y(w)o(eak)8 b(fairness,)j
(equiv)n(alence)g(to)e(strong)g(fair-)332 661 y(ness,)k(106)208
707 y(W)m(eb)18 b(page,)h(TLA,)e(1,)h(19,)h(63,)g(207,)g(211,)332
752 y(221)208 798 y(W)m(eb)13 b(page,)g(TLA)m(T)495 806
y(E)515 798 y(X,)g(211)208 844 y(WF,)g(97,)f(285,)h(314)246
889 y(and)h(instan)o(tiation,)i(337)208 935 y(WF)d(Conjunction)i(Rule,)
e(105)208 981 y(WF)g(Quan)o(ti\014er)h(Rule,)g(105)208
1026 y(WF,)f(equiv)n(alence)i(to)e(SF,)g(106)208 1072
y Fi(with)p FC(,)g(36)246 1118 y(omitted,)h(40)208 1163
y(witness,)f(62)p Black Black 999 391 a Fc(workers)d
FC(TLC)j(option,)h(253)999 437 y FB(Wr)t FC(,)f(186)999
483 y(write-through)i(cac)o(he,)e(54{62,)g(107{109)999
528 y FB(WriteThr)n(oughCache)g FC(mo)q(dule,)h(57)999
574 y(writing,)g(1)999 620 y(writing,)g(ho)o(w)f(to)g(start,)g(24,)g
(79)999 665 y(writing,)h(when)g(to)f(start,)f(83)999
752 y(Y)m(u,)h(Y)m(uan,)g(xvii)999 840 y(Zeno)h(b)q(eha)o(vior,)h(120,)
e(128)999 885 y(Zeno)h(of)f(Elea,)h(128)999 931 y(Zeno)g(sp)q
(eci\014cation,)i(128{132)999 977 y(Zermelo-F)m(r\177)-19
b(ank)o(el)16 b(set)d(theory)m(,)g(43,)g(300)999 1022
y FB(Zer)n(o)r FC(,)f(308)999 1068 y(zero)i(\(0\),)e(345)999
1114 y(zero-tuple,)i(37,)f(306)999 1159 y(ZF,)g(43,)g(300)p
Black Black eop
%%Trailer
end
userdict /end-hook known{end-hook}if
%%EOF
